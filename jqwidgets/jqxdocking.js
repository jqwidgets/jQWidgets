/*
jQWidgets v5.1.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(i){i.jqx.jqxWidget("jqxDocking","",{}),i.extend(i.jqx._jqxDocking.prototype,{defineInstance:function(){var t={orientation:"horizontal",mode:"default",floatingWindowOpacity:.3,panelsRoundedCorners:!0,disabled:!1,width:"auto",height:"auto",windowsMode:null,cookies:!1,cookieOptions:{},windowsOffset:5,rtl:!1,keyboardNavigation:!1,_windowOptions:{},_draggedFired:!1,_dragging:!1,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};return this===i.jqx._jqxDocking.prototype?t:(i.extend(!0,this,t),t)},createInstance:function(){if(!this.host.jqxWindow)throw new Error("jqxDocking: Missing reference to jqxwindow.js.");this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(i){1!=i&&this._performLayout()},_refresh:function(t){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners();var e=i.Event("resize");this.host.trigger(e)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(i=0;i<this._panels.length;i+=1)this._panels[i].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[i].addClass(this.toThemeProperty("jqx-rc-all"));for(var i=0;i<this._windows.length;i+=1)this._windows[i].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(i=0;i<this._panels.length;i+=1)this._panels[i].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[i].removeClass(this.toThemeProperty("jqx-rc-all"));for(var i=0;i<this._windows.length;i+=1)this._windows[i].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var t=this.host.children("div"),e=0;e<t.length;e+=1)this._panels.push(i(t[e])),this._renderWindows(i(t[e]))},focus:function(t){this.focusedWindow&&i(this.focusedWindow).removeClass(this.toThemeProperty("jqx-fill-state-focus")),!i.isEmptyObject(t)&&"string"===i.type(t)&&i("#"+t).length>0?this.focusedWindow=i("#"+t)[0]:this.focusedWindow=this._windows[0][0],i(this.focusedWindow).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.focus()},_renderWindows:function(t){for(var e=t.children("div"),o=0;o<e.length;o+=1)this._windows.push(i(e[o])),i(e[o]).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:i(e[o]).css("width"),maxWidth:Number.MAX_VALUE}),i(e[o]).detach(),t.append(i(e[o]));t.append('<div class="spacer" style="clear: both;"></div>');var s=this;if(this.keyboardNavigation){var n=function(t){if(13===t.keyCode?s.focusedWindow&&i(s.focusedWindow).jqxWindow("showCollapseButton")&&i(s.focusedWindow).jqxWindow("_collapseButton").trigger("click"):(s.focusedWindow&&27===t.keyCode&&"esc"===i(s.focusedWindow).jqxWindow("keyboardCloseKey")||s.focusedWindow&&i(s.focusedWindow).jqxWindow("keyboardCloseKey")==t.keyCode)&&i(s.focusedWindow).jqxWindow("closeWindow",t),9===t.keyCode){if(null==s.focusedWindow)s.focusedWindow=s._windows[0],i(s.focusedWindow).focus(),t.stopPropagation();else{var e=-1;if(i.each(s._windows,function(i,t){this[0]==s.focusedWindow&&(e=i)}),t.shiftKey?e--:e++,e>=s._windows.length||e<0)return i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=null,t.stopPropagation(),!0;var o=s._windows[e];o||(o=s._windows[0]),i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=o[0],i(s.focusedWindow).focus()}i(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus")),t.preventDefault&&(t.preventDefault(),t.stopPropagation())}};i.each(s._windows,function(t,e){var o=i(this);s.removeHandler(o,"focus"),s.removeHandler(o,"blur"),s.removeHandler(o,"mousedown"),s.addHandler(o,"mousedown",function(t){s.focusedWindow&&i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=o[0],i(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(s.focusedWindow).focus()}),s.addHandler(o,"focus",function(t){s.focusedWindow&&i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=o[0],i(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus"))}),s.addHandler(o,"blur",function(t){if(i(document.activeElement).ischildof(i(o)))return!0;i(o).removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),s.removeHandler(o,"keydown"),s.addHandler(o,"keydown",function(i){n(i)})}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(i){n(i)}),this.removeHandler(this.host,"blur"),this.addHandler(this.host,"blur",function(t){s.focusedWindow&&(i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=null)})}},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){this.host.css("overflow","hidden");for(var i,t=this.host.width(),e=0,o=0;o<this._panels.length;o+=1)(i=this._panels[o]).css("height","auto"),i.css("min-width","auto"),i[0].style.width="auto","vertical"===this.orientation?(i.css("width","auto"),i.css("float","none")):(e+=this._handleHorizontalSize(i,e,t),o>0&&i.css("margin-left",-this.windowsOffset));"horizontal"===this.orientation&&e<t&&this._fillContainer(t,e)},_handleHorizontalSize:function(i,t,e){var o,s=e/this._panels.length,n=i.outerWidth()-i.width();if(i.css("float","left"),"auto"===i[0].style.width||0===parseInt(i.css("width"),10)){var d=99.99/this._panels.length;return i[0].style.width=d+"%",i.outerWidth()}return t+i.outerWidth()>=e&&(t+s<e?(o=s-n,i.css("min-width",o),i.width(o)):(o=i.width()-(t+i.outerWidth()-e),i.css("min-width",o),i.width(o))),i.outerWidth()},_fillContainer:function(t,e){var o=this._panels.length,s=this._panels[o-1];s.width();i.jqx.browser.msie&&i.jqx.browser.version<9&&this._panels.length},_performWindowsLayout:function(){for(var i,t=0;t<this._windows.length;t+=1)i=this._getWindowOptions(this._windows[t]),this._windows[t].ischildof(this.host)&&(i?"floating"!==i.mode&&(this._windows[t].css("margin",this.windowsOffset),this._windows[t].css("position","static")):"floating"!==this.mode&&(this._windows[t].css("position","static"),this._windows[t].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[t],i)},_setWindowSize:function(i,t){if("floating"!==t.mode&&i.ischildof(this.host)){var e=i.parent().width()-(i.outerWidth()-i.width())-2*this.windowsOffset;this.orientation,i.jqxWindow("width",e)}this._setWindowOption(i,"size",{width:i.width(),height:i.height()})},_setWindowsOptions:function(i){for(var t=0;t<this._windows.length;t+=1){var e,o=this._windows[t].attr("id"),s=this._getWindowOptions(o);if(!i);e=null,this.windowsMode&&this.windowsMode.hasOwnProperty(o)?(e=this.windowsMode[o],this._setWindowOption(this._windows[t],"mode",e)):void 0!==s&&void 0===s.mode&&(e=this.mode,this._setWindowOption(this._windows[t],"mode",e)),i&&(this._setWindowOption(this._windows[t],"resizable",!0),"floating"==e?this._windows[t].jqxWindow({enableResize:!0}):this._windows[t].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[t],"size",{height:this._windows[t].height(),width:this._windows[t].width()}))}},_removeEventListeners:function(){for(var i=0;i<this._windows.length;i+=1)this.removeHandler(this._windows[i],"moving",this._itemDragging),this.removeHandler(this._windows[i],"moved",this._itemDrop),this.removeHandler(this._windows[i],"resized",this._itemResized),this.removeHandler(this._windows[i],"collapse",this._collapsed),this.removeHandler(this._windows[i],"expand",this._expanded)},_addEventListeners:function(){for(var t=0;t<this._windows.length;t+=1)this._addEventListenersTo(this._windows[t]);var e=this;i.jqx.utilities.resize(this.host,function(){e._performLayout()})},_addEventListenersTo:function(i){this.addHandler(i,"moving",this._itemDragging,{self:this}),this.addHandler(i,"moved",this._itemDrop,{self:this}),this.addHandler(i,"resized",this._itemResized,{self:this}),this.addHandler(i,"collapse",this._collapsed,{self:this}),this.addHandler(i,"expand",this._expanded,{self:this})},_itemDragging:function(t){var e=t.data.self,o=i(t.target),s=e._getWindowOptions(o);if(o.removeClass(e.toThemeProperty("jqx-docking-window")),o.css("margin","0px"),e._dragging||e._prepareForDragging(o),"floating"!==s.mode){var n={x:t.args.pageX,y:t.args.pageY},d=e._getMouseOverPanel(n);return d?e._mouseOverPanel(d,n):e._mouseLeavePanel(),e._draggedFired||(e._raiseEvent(1,{window:i(o).attr("id")}),e._draggedFired=!0),!0}},_prepareForDragging:function(t){this._dragging=!0;var e={parent:t.parent(),next:t.next(),prev:t.prev()};this._setWindowOption(t,"lastPosition",e),t.detach(),i(document.body).append(t),this._setDraggingStyles(t),this._draggingItem=t},_setDraggingStyles:function(i){i.css({position:"absolute",left:i.offset().left,top:i.offset().top}),i.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(i){for(var t=0;t<this._panels.length;t+=1)if(this._isMouseOverItem(this._panels[t],i,!1))return this._panels[t];return null},_mouseOverPanel:function(i,t){if(this._dragging){var e=i.children("div"),o=this._getHoverWindow(t,e);if("indicator"===o)return;var s=this._centerOffset(o,t);this._handleIndicator(i,o,s)}},_getHoverWindow:function(t,e){if(this._isMouseOverItem(this._indicator,t,!0))return"indicator";for(var o=0;o<e.length;o+=1)if(this._isMouseOverItem(i(e[o]),t,!0))return i(e[o]);return null},_centerOffset:function(i,t){if(i){var e,o={x:i.offset().left,y:i.offset().top},s=i.height();i.width();return e=o.y+s/2,t.y>e?"next":"prev"}return"all"},_handleIndicator:function(i,t,e){var o=this._getIndicator(t);"all"===e?"vertical"===this.orientation?o.insertBefore(i.children(".spacer")):i.append(o):"prev"===e?o.insertBefore(t):o.insertAfter(t),this._resizeIndicator(o,i)},_getIndicator:function(){var t=this._indicator;return t||(t=i('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')),this._indicator=t,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),t},_resizeIndicator:function(i,t){"horizontal"===this.orientation?(i.width(t.width()-(i.outerWidth(!0)-i.width())),i.height(this._draggingItem.height())):(i.width(this._draggingItem.width()),i.height(this._draggingItem.height()))},_mouseLeavePanel:function(i){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(t){var e=t.data.self,o=i(t.currentTarget);e._dragging=!1,e._indicator?(o.detach(),o.insertAfter(e._indicator),e._indicator.remove(),e._dropFixer(o)):e._dropHandler(o),o.fadeTo(0,1),o.focus(),e._indicator=null,e._cookieExporter(),e._draggedFired=!1,e._raiseEvent(0,{window:o.attr("id")})},_dropFixer:function(i){i.css("position","static"),i.addClass(this.toThemeProperty("jqx-docking-window")),i.css("margin",this.windowsOffset),i.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(i)},_dropHandler:function(i){this._getWindowOptions(i);"docked"===this.mode?this._dropDocked(i):this._dropFloating(i)},_dropDocked:function(i){var t=this._getWindowOptions(i).lastPosition;i.detach(),t.next[0]?i.insertBefore(t.next):t.prev[0]?i.insertAfter(t.prev):t.parent.append(i),this._dropFixer(i)},_fixWindowSize:function(t){i(t).jqxWindow({width:t.parent().width()-(t.outerWidth()-t.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(t){var e=t.data.self,o=i(t.currentTarget);e._setWindowOption(o,"size",{width:t.args.width,height:t.args.height}),e._cookieExporter()},_dropFloating:function(t){var e;i(t).jqxWindow("collapsed")||(e=this._getWindowOptions(t),i(t).jqxWindow("enableResize",e.resizable)),i(document.body).append(t),this._restoreWindowSize(t)},_restoreWindowSize:function(t){var e=this._getWindowOptions(t);i(t).jqxWindow({width:e.size.width})},_isMouseOverItem:function(i,t,e){if(!i)return!1;var o=i.outerWidth(!0),s=i.outerHeight(!0),n=i.width(),d=i.height(),r=i.offset().top,h=i.offset().left;return e&&(r-=(s-d)/2,h-=(o-n)/2,n=o,d=s),h<=t.x&&h+n>=t.x&&r<=t.y&&r+d+2*this._draggingItem.height()/3>=t.y},_cookieHandler:function(){if(this.cookies){var t=i.jqx.cookie.cookie("jqxDocking"+this.element.id);null!==t&&(this.importLayout(t),layoutImported=!0)}},_cookieExporter:function(){this.cookies&&i.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(i,t){for(var e=0;e<t.length;e+=1)if(i[0]===t[e][0])return e;return-1},_exportFixed:function(){for(var t,e,o=[],s="",n=0;n<this._panels.length;n+=1){s+='"panel'+n+'": {',t=this._panels[n].children();for(var d=0;d<t.length;d+=1)(e=i(t[d])).attr("id")&&(o.push(e),s+='"'+e.attr("id")+'":{"collapsed":'+e.jqxWindow("collapsed")+"},");t.length>1&&(s=s.substring(0,s.length-1)),s+="},"}return s=s.substring(0,s.length-1),{JSON:s,children:o}},_exportFloating:function(t){var e,o="";o+='"floating":{';for(var s=0;s<this._windows.length;s+=1)e=i(this._windows[s]),-1===this._indexOf(e,t)&&(o+='"'+e.attr("id")+'":{"x":"'+e.css("left")+'","y":"'+e.css("top")+'","width":"'+e.jqxWindow("width")+'","height":"'+e.jqxWindow("height")+'","collapsed":'+e.jqxWindow("collapsed")+"},");return","===o.substring(o.length-1,o.length)&&(o=o.substring(0,o.length-1)),o+="}"},_importFixed:function(t){for(var e in t)if("orientation"!==e&&"floating"!==e&&t.hasOwnProperty(e)){order=e.substring(e.length-1,e.length),order=parseInt(order,10),children=t[e];for(var e in children)i("#"+e).css("position","static"),children[e].collapsed&&function(t){setTimeout(function(){i("#"+t).jqxWindow("collapsed",!0)},0)}(e),this._panels[order].append(i("#"+e)),"horizontal"===this.orientation&&this._fixWindowSize(i("#"+e))}},_importFloating:function(t){var e,o=t.floating;for(var s in o)o.hasOwnProperty(s)&&(i("#"+s).css("position","absolute"),i(document.body).append(i("#"+s)),e=this._dragging,i("#"+s).jqxWindow("move",o[s].x,o[s].y),this._dragging=e,i("#"+s).jqxWindow("width",o[s].width),i("#"+s).jqxWindow("height",o[s].height),i("#"+s).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(t){setTimeout(function(){i("#"+t).jqxWindow("collapsed",o[t].collapsed)},0)}(s),i("#"+s).fadeTo(0,1))},_getWindowOptions:function(i){return"object"==typeof i&&null!==i&&(i=i.length>0?i.attr("id"):i.id),this._windowOptions[i]},_setWindowOption:function(i,t,e){"object"==typeof i&&null!==i&&(i=i.length>0?i.attr("id"):i.id),void 0===this._windowOptions[i]&&(this._windowOptions[i]={}),this._windowOptions[i][t]=e,"mode"===t&&this.setWindowMode(i,e)},_expanded:function(i){i.data.self._cookieExporter()},_collapsed:function(i){i.data.self._cookieExporter()},_raiseEvent:function(t){var e=i.Event(this._events[t]);return e.args=arguments[1],this.host.trigger(e)},_moveWindow:function(t,e,o){var s=e.children(),n=null,d=0;i.each(s,function(e){"static"==i(this).css("position")&&(d==o&&this!=t[0]&&(n=this),d++)}),d<=o?t.appendTo(e):null!=n&&t.insertBefore(n),t.css("position","static")},propertyChangedHandler:function(t,e,o,s){switch(e){case"rtl":i.each(t._windows,function(){this.jqxWindow({rtl:s})});break;case"theme":i.each(t._windows,function(){this.jqxWindow({theme:s})});break;case"orientation":case"height":case"width":t._performLayout(),t._cookieExporter();break;case"panelsRoundedCorners":t._removeClasses(),t._addClasses();break;case"disabled":s?(t.disabled=!1,t.disable()):(t.disabled=!0,t.enable());break;case"windowsMode":case"mode":t._setWindowsOptions(!1);break;case"cookies":t._cookieExporter();break;case"windowsOffset":t._performLayout()}},destroy:function(){this._removeEventListeners(),this.host.remove(),this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var t=0;t<this._windows.length;t+=1)this._windows[t][0].style.opacity="",i(this._windows[t]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var t=0;t<this._windows.length;t+=1)i(this._windows[t]).jqxWindow("enable")}},move:function(t,e,o){if(e=this._panels[e]){var s=i(e.children(".spacer"));s.detach(),t=i("#"+t),"floating"!==this._getWindowOptions(t).mode&&(this._moveWindow(t,e,o),e.append(s),this._cookieExporter(),this._dropFixer(t))}},exportLayout:function(){var i="{",t=this._exportFixed();return i+=t.JSON+","+this._exportFloating(t.children)+',"orientation": "'+this.orientation+'"',i+="}"},importLayout:function(t){try{var e=i.parseJSON(t);this.orientation=e.orientation,this._performLayout(),this._importFixed(e),this._importFloating(e)}catch(i){alert("Invalid JSON string.")}},setWindowMode:function(t,e){var t=i("#"+t),o=this._getWindowOptions(t);"floating"===e?(t.css("position","absolute"),this._windowOptions[t.attr("id")].mode=e):"floating"===o.mode&&"absolute"===t.css("position")&&(o.lastPosition?this._dropDocked(t):(this._panels[0].append(t),this._dropFixer(t))),this._windowOptions[t.attr("id")].mode=e},hideCloseButton:function(t){i("#"+t).jqxWindow("showCloseButton",!1)},showCloseButton:function(t){i("#"+t).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(t){i("#"+t).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(t){i("#"+t).jqxWindow("showCollapseButton",!0)},expandWindow:function(t,e){i("#"+t).jqxWindow("expand",e)},collapseWindow:function(t,e){i("#"+t).jqxWindow("collapse",e)},setWindowProperty:function(t,e,o){i("#"+t).jqxWindow(e,o)},getWindowProperty:function(t,e){return i("#"+t).jqxWindow(e)},setWindowPosition:function(t,e,o){var t=i("#"+t);"floating"===this._getWindowOptions(t).mode&&(t.css("position","absolute"),i(t).jqxWindow("move",e,o,null,!1))},hideAllCloseButtons:function(){for(var i=0;i<this._windows.length;i+=1)this._windows[i].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var i=0;i<this._windows.length;i+=1)this._windows[i].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var i=0;i<this._windows.length;i+=1)this._windows[i].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var i=0;i<this._windows.length;i+=1)this._windows[i].jqxWindow("showCollapseButton",!0)},pinWindow:function(t){i("#"+t).jqxWindow("draggable",!1)},unpinWindow:function(t){i("#"+t).jqxWindow("draggable",!0)},setDraggingMode:function(t){var e=i("#"+t);this._prepareForDragging(e),e.fadeTo(0,1)},enableWindowResize:function(t){"absolute"===(t=i("#"+t)).css("position")&&(this._setWindowOption(t,"resizable",!0),t.jqxWindow("enableResize",!0))},disableWindowResize:function(t){t=i("#"+t),this._setWindowOption(t,"resizable",!1),t.jqxWindow("enableResize",!1)},addWindow:function(t,e,o,s){var n="#"+t;i(n).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:i(n).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(i(n)),this._windows.push(i(n)),e?this._setWindowOption(i(n),"mode",e):this._setWindowOption(i(n),"mode",this.mode),this._setWindowOption(i(n),"resizable",!0),this._setWindowOption(i(n),"size",{width:i(n).width(),height:i(n).height()}),"floating"==e?i(n).jqxWindow({enableResize:!0}):i(n).jqxWindow({enableResize:!1}),null!=this._panels[o]&&this._setWindowOption(i(n),"size",{width:this._panels[o].width(),height:this._panels[o].height()}),this._addEventListenersTo(i(n)),void 0!==o&&void 0!==s&&this.move(t,o,s),this._dropFixer(i(n))},closeWindow:function(t){i("#"+t).jqxWindow("closeWindow")}})}(jqxBaseFramework);

