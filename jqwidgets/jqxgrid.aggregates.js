/*
jQWidgets v5.2.0 (2017-Sep)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){e.extend(e.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,a,r,s){var i=t.aggregates;if(i||(i=a),i){for(var g=new Array,n=0;n<i.length;n++)"count"!=i[n]&&(g[g.length]=t.cellsformat);if(this.source&&this.source.getAggregatedData){if(void 0==s&&(s=this.getrows()),this.virtualmode){var s=new Array;e.each(this.source._source.records,function(){s.push(this)})}if(void 0==r||1==r)return o=this.source.getAggregatedData([{name:t.datafield,aggregates:i,formatStrings:g}],this.gridlocalization,s);var o=this.source.getAggregatedData([{name:t.datafield,aggregates:i}],this.gridlocalization,s);return o}}return null},getcolumnaggregateddata:function(e,t,a,r){var s=this.getcolumn(e),i=void 0!=a&&0!=a&&a;if(null==t)return"";var g=s.aggregates;s.aggregates=null;var n=this._calculateaggregate(s,t,i,r),o={};return n&&(o=n[e]),s.aggregates=g,o},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,a,r){var s=this;if(a)if(r.children().remove(),r.html(""),t.aggregatesrenderer){if(a){g=t.aggregatesrenderer(a[t.datafield],t,r,this.getcolumnaggregateddata(t.datafield,a[t.datafield]));r.html(g)}}else e.each(a,function(){var t=this;for(i in t){var a=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),g=i;g=s._getaggregatename(g),a.html(g+":"+t[i]),s.rtl&&a.addClass(s.toThemeProperty("jqx-rtl")),r.append(a)}});else if(r.children().remove(),r.html(""),t.aggregatesrenderer){var i={};t.aggregates&&(i=this.getcolumnaggregateddata(t.datafield,t.aggregates));var g=t.aggregatesrenderer({},t,r,null);r.html(g)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var a in e){t=a;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var a in e){t=a;break}return t},_updatecolumnsaggregates:function(){var t=this.getrows(),a=this.columns.records.length;if(void 0!=this.statusbar[0].cells)for(var r=0;r<a;r++){var s=e(this.statusbar[0].cells[r]),i=this.columns.records[r],g=this._calculateaggregate(i,null,!0,t);this._updatecolumnaggregates(i,g,s)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),a=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),a=-1),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var i=r+10,g=new Array;this.statusbar[0].cells=g;for(var n=this.getrows(),o=0;o<r;o++){var l=this.columns.records[o],d=this._calculateaggregate(l,l.aggregates,!0,n),c=l.width;c<l.minwidth&&(c=l.minwidth),c>l.maxwidth&&(c=l.maxwidth);var h=s;l.cellsalign&&(h+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+h+'"></div>');t.append(u),u.css("left",a),this.rtl?u.css("z-index",i++):u.css("z-index",i--),u.width(c),u[0].left=a,l.hidden&&l.hideable?u.css("display","none"):a+=c,g[g.length]=u[0],this._updatecolumnaggregates(l,d,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",i--),t.width(parseFloat(a)+2),t.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(t),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(s),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework);

