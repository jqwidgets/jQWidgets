/*
jQWidgets v5.0.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){"use strict";e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()},areWeekDaysIncluded:function(t,i){var r=!1;return e.each(t,function(e,t){if(t===i)return r=!0,!1}),r},getStartOfDay:function(t){var i=new e.jqx.date(t.year(),t.month(),t.day(),0,0,0);return i.timeZone=t.timeZone,i},getEndOfDay:function(t){var i=new e.jqx.date(t.year(),t.month(),t.day(),23,59,59);return i.timeZone=t.timeZone,i},getDaysCount:function(e,t){for(var i=1;e<t;)e.day()!=t.day()&&i++,e=e.addDays(1);return i},getStartOfWeek:function(e,t){var i=e.dayOfWeek(),r=t.firstDay;i<r&&(i+=7);var n=i-r;return e.addDays(-n).date()},getEndOfWeek:function(e,t,i){return that.getStartOfWeek(e,dateTimeFormat,i).addDays(7)},getEndOfMonth:function(t,i){var r=t.daysInMonth(),n=new e.jqx.date(t.year(),t.month(),r,23,59,59);return n.timeZone=t.timeZone,n},rangeIntersection:function(e,t,i,r){var n=e.valueOf(),a=i.valueOf(),o=t.valueOf(),l=r.valueOf();if(a>=n&&a<o)return!0;if(a<n&&l>n)return!0;if(n==a||o==l)return!0;if(n<a){if(o>a&&o<l)return!0;if(o>l)return!0}else{if(l>n&&l<o)return!0;if(l>o)return!0}return!1},rangeContains:function(e,t,i,r){return e<=i&&r<=t},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:864e5,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(t){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((i-new Date(t.getFullYear(),0,1))/e.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(e){return e instanceof Date&&(e=e.getFullYear()),e%4==0&&e%100!=0||e%400==0},tzOffset:function(e){return 60*e.getTimezoneOffset()*1e3},monthRange:function(t,i){var r=new Date(t,i,1);return[e.jqx.scheduler.utilities.getWeekday(r),e.jqx.scheduler.utilities.getMonthDays(r)]},getMonthDays:function(t){var i=t.getMonth();return 1==i&&e.jqx.scheduler.utilities.isLeapYear(t)?29:e.jqx.scheduler.utilities.monthDays[i]},getWeekday:function(e){return[6,0,1,2,3,4,5][e.getDay()]},combine:function(e,t){return t=t||e,new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},sort:function(e){e.sort(function(e,t){return e.getTime()-t.getTime()})},timeToUntilString:function(e){for(var t,i=new Date(e),r=[i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate(),"T",i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),"Z"],n=0;n<r.length;n++)t=r[n],!/[TZ]/.test(t)&&t<10&&(r[n]="0"+String(t));return r.join("")},untilStringToDate:function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},Time:function(e,t,i){this.hour=e,this.minute=t,this.second=i,this.that=this,this.getHours=function(){return that.hour},this.getMinutes=function(){return that.minute},this.getSeconds=function(){return that.second},this.getTime=function(){return 1e3*(60*that.hour*60+60*that.minute+that.second)}}},e.jqx.scheduler.appointment=function(){var t=this;if(t.from=new e.jqx.date,t.to=(new e.jqx.date).addHours(1),t.subject="",t.description="",t.location="",t.tooltip="",t.hidden=!1,t.resourceId=null,t.id="",t.background=null,t.color=null,t.borderColor=null,t.status="busy",t.style=null,t.exceptions=new Array,t.exceptionDates=new Array,t.recurrencePattern=null,t.recurrenceException=new Array,t.occurrenceEnumerator=null,t.rootAppointment=null,t.hiddenByResourceId=!1,t.draggable=!0,t.resizable=!0,t.recurrentAppointment=!1,t.allDay=!1,t.readOnly=!1,t.showStatus=!0,t.timeZone=null,t.scheduler=null,t.elements=new Array,t.appointmentObject=!0,t.duration=function(){var i=1e4*(t.to-t.from);return new e.jqx.timeSpan(i)},t.toJSON=function(e){var i=function(e){return(e<10?"0":"")+e},r=function(e,t){return e?t?e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"Z":e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+"Z":""},n={};return n.id=t.id,n.from=r(t.from.toDate(),e),n.to=r(t.to.toDate(),e),n.subject=t.subject,n.status=t.status,n.location=t.location,n.description=t.description,n.title=t.title,n.resourceId=t.resourceId,t.recurrencePattern?n.recurrencePattern=t.recurrencePattern.toString():n.recurrencePattern="",t.recurrenceException&&t.recurrenceException.length>0?n.recurrenceException=function(){for(var e="",i=0;i<t.recurrenceException.length;i++)e+=t.recurrenceException[i].toString(),i<t.recurrenceException.length-1&&(e+=",");return e}():n.recurrenceException="",n.dtstamp=r(new Date,e),JSON.stringify(n)},t.toString=function(e){var i=function(e){for(var t="";e.length>75;)t+=e.substr(0,75)+"\n",e=" "+e.substr(75);return t+=e},r=function(e){return(e<10?"0":"")+e},n=function(e,t){return e?t?""+e.getFullYear()+r(e.getMonth()+1)+r(e.getDate())+"T"+r(e.getHours())+r(e.getMinutes())+r(e.getSeconds()):""+e.getUTCFullYear()+r(e.getUTCMonth()+1)+r(e.getUTCDate())+"T"+r(e.getUTCHours())+r(e.getUTCMinutes())+r(e.getUTCSeconds())+"Z":""},a=t.status;return a||(a="CONFIRMED"),"busy"==a.toLowerCase()&&(a="CONFIRMED"),"tentative"==a.toLowerCase()&&(a="TENTATIVE"),"free"==a.toLowerCase()&&(a="CANCELLED"),"outOfOffice"==a.toLowerCase()&&(a="CANCELLED"),"BEGIN:VEVENT\nUID:"+t.id+"\nDTSTAMP:"+n(new Date,e)+"\n"+i("TITLE:"+t.subject)+"\nDTSTART:"+n(t.from.toDate(),e)+"\nDTEND:"+n(t.to.toDate(),e)+"\n"+(t.recurrencePattern?"RRULE:"+t.recurrencePattern.toString()+"\n":"")+(t.recurrenceException&&t.recurrenceException.length>0?"EXDATE:"+function(){for(var i="",r=0;r<t.recurrenceException.length;r++)i+=n(t.recurrenceException[r].toDate(),e),r<t.recurrenceException.length-1&&(i+=",");return i}()+"\n":"")+(t.subject?i("SUMMARY:"+t.subject)+"\n":"")+"TRANSP:OPAQUE\n"+(t.status?i("STATUS:"+a)+"\n":"")+(t.description?i("DESCRIPTION:"+t.description)+"\n":"")+(t.location?i("LOCATION:"+t.location)+"\n":"")+"END:VEVENT"},t.range=function(){return t.allDay?{from:e.jqx.scheduler.utilities.getStartOfDay(t.from),to:e.jqx.scheduler.utilities.getEndOfDay(t.to)}:{from:t.from,to:t.to}},t.clearRecurrence=function(){t.recurrencePattern&&(t.exceptions=new Array,t.exceptionDates=new Array,t.recurrencePattern=null,t.recurrenceException=new Array,t.hidden=!1)},t.isAllDayAppointment=function(){return this.duration().days()>=1||this.allDay},t.cloneAppointmentAttributes=function(e){e.subject=t.subject,e.description=t.description,e.location=t.location,e.tooltip=t.tooltip,e.resourceId=t.resourceId,e.category=t.category,e.status=t.status,e.rootAppointment=t,e.color=t.color,e.borderColor=t.borderColor,e.background=t.background,e.hidden=t.hidden,e.timezone=t.timeZone,e.style=t.style,e.hiddenByResourceId=t.hiddenByResourceId},t.createOccurrence=function(i){if(null==i)return null;var r=new e.jqx.scheduler.appointment;r.allDay=t.allDay;var n=t.duration();return t.allDay&&(n=new e.jqx.timeSpan(1e4*(t.to-t.from))),r.from=i,r.to=i.add(n),r.occurrenceFrom=i.clone(),r.subject=t.subject,r.description=t.description,r.location=t.location,r.tooltip=t.tooltip,r.resourceId=t.resourceId,r.category=t.category,r.status=t.status,r.rootAppointment=t,r.color=t.color,r.draggable=t.draggable,r.resizable=t.resizable,r.borderColor=t.borderColor,r.background=t.background,r.recurrentAppointment=!0,r.timeZone=t.timeZone,r.style=t.style,r.hiddenByResourceId=t.hiddenByResourceId,r.boundAppointment=t.boundAppointment,t.hiddenByResourceId&&(r.hidden=!0),r.id=t.id+"."+e.jqx.scheduler.utilities.guid(),t.hidden=!0,t.occurrenceIndex++,r},t.clone=function(){var i=new e.jqx.scheduler.appointment;return i.allDay=t.allDay,i.from=t.from.clone(),i.to=t.to.clone(),i.subject=t.subject,i.description=t.description,i.location=t.location,i.tooltip=t.tooltip,i.resourceId=t.resourceId,i.category=t.category,i.status=t.status,i.color=t.color,i.borderColor=t.borderColor,i.background=t.background,i.style=t.style,i.timeZone=t.timeZone,i.hiddenByResourceId=t.hiddenByResourceId,t.hiddenByResourceId&&(i.hidden=!0),i.id=t.id+"."+e.jqx.scheduler.utilities.guid(),i},t.isRecurrentAppointment=function(){return t.recurrentAppointment||null!=t.recurrencePattern},t.anyExceptions=function(){return null!=t.exceptions&&t.exceptions.length>0},t.anyOccurrences=function(){return null!=t.occurrenceEnumerator&&t.occurrenceEnumerator.getNextAppointment()},t.isException=function(){var e=t.rootAppointment||this;if(!e.recurrenceException)return!1;for(var i=0;i<e.recurrenceException.length;i++){var r=e.recurrenceException[i];if(t.occurrenceFrom&&r.equals(t.occurrenceFrom))return!0}return!1},t.getOccurrences=function(i,r){t.occurrenceIndex=0;var n=null!==i?i:t.from,a=new e.jqx.scheduler.recurrentAppointmentsList(t,t.calendar,n,r,t.scheduler);return t.occurrences=a.list,a.list},1===arguments.length)if("object"==e.type(arguments[0]))for(var i in arguments[0]){var r=arguments[0][i];void 0!==this[i]&&(this[i]=r)}else t.from=arguments[0],t.to=new e.jqx.date(t.from).addHours(1);else 2===arguments.length?(t.from=arguments[0],t.to=arguments[1]):3===arguments.length?(t.from=arguments[0],t.to=arguments[1],t.subject=arguments[2]):3===arguments.length&&(t.from=arguments[0],t.to=arguments[1],t.subject=arguments[2],t.description=arguments[3]);null!=t.recurrencePattern&&t.recurrencePattern.setFrom(t.from)},e.jqx.scheduler.recurrentAppointmentsList=function(){var t=this;return t.recurrentAppointment=null,t.currentTime=null,t.calendar=e.jqx.scheduler.calendar,t.from=new e.jqx.date(0),t.to=new e.jqx.date(9999,12,31),t.foundItems=0,t.list=new Array,t.scheduler=null,t.getOccurrences=function(i,r,n){return void 0==i?t.list:new e.jqx.scheduler.recurrentAppointmentsList(i,t.calendar,r,n).list},t.current=function(){return t.recurrentAppointment.createOccurrence(t.currentTime)},t.fillList=function(){t.currentTime=null,t.foundItems=0,t.list=new Array;var e=t.recurrentAppointment.recurrencePattern;if(e.step=0,e.current=0,e.currentYearDay=0,null==e)return!1;for(;t.getNextAppointment(e);){var i=t.current();i&&t.list.push(i)}},t.getNextAppointment=function(e){if(null==t.recurrentAppointment)return!1;this.scheduler._views[this.scheduler._view].type;var i=this.scheduler._views[this.scheduler._view],r=0;switch(e.freq){case"weekly":r=7;break;case"monthly":r=31;break;case"yearly":r=365}for(var n=0;n<4294967295;n++){var a=e.getNewOccurenceDate();if(e.currentTime=a,e.to<a&&e.to.addDays(r)>=a||t.to<a&&t.to.addDays(r)>=a)return t.currentTime=null,!0;if(e.to.addDays(r)<a||t.to.addDays(r)<a)return t.currentTime=null,!1;var o=!0;if(o=t.getCanSetTime(e,a,o),e.canCreateNewOccurence(a,t.calendar)){var l=!0;!1===i.showWeekends&&(6!=a.dayOfWeek()&&0!=a.dayOfWeek()||(l=!1)),l&&t.foundItems++}if(o)return t.currentTime=a,!(t.foundItems>e.count)}return!1},t.getCanSetTime=function(e,i,r){return e.canCreateNewOccurence(i,t.calendar)||(r=!1),i<t.from&&i.add(t.recurrentAppointment.duration())<=t.from&&(r=!1),t.to<=i&&(r=!1),r},t.isException=function(e,i,r){for(var n=t.recurrentAppointment.exceptions,a=0;a<n.length;a++)if(r.isDateInExceptionAppointment(e,i,n[a])&&-1===r.newExceptions.indexOf(n[a]))return!0;return!1},arguments&&arguments.length>0&&(t.recurrentAppointment=arguments[0],arguments[1]&&(t.calendar=arguments[1]),arguments[2]&&(t.from=arguments[2]),arguments[3]&&(t.to=arguments[3]),arguments[4]&&(t.scheduler=arguments[4]),void 0===arguments[2]&&(t.from=new e.jqx.date(0),t.to=new e.jqx.date(9999,12,31)),t.fillList()),t},e.jqx.scheduler.recurrencePattern=function(){var t=this,i={from:new e.jqx.date(0),to:new e.jqx.date(9999,12,31),count:1e3,interval:1,exceptions:new Array,newExceptions:new Array,month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:!0,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};return e.extend(!0,t,i),t.getNewOccurenceDate=function(){var i=function(e,t){var i=0,r=[];if(e instanceof Array)for(;i<t;i++)r[i]=[].concat(e);else for(;i<t;i++)r[i]=e;return r},r=function(e,t){var i=e%t;return i*t<0?i+t:i},n=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],r=e;r<t;r++)i.push(r);return i},a=[0,31,60,91,121,152,182,213,244,274,305,335,366],o=[0,31,59,90,120,151,181,212,243,273,304,334,365],l=[6,0,1,2,3,4,5],d=function(e){t.yearlen=e%4!=0||e%100==0&&e%400!=0?365:366,t.nextyearlen=(1+e)%4!=0||(1+e)%100==0&&(1+e)%400!=0?365:366;new Date(e,0,1);var i=l[new Date(e,0,1).getDay()],r=function(){for(var e=[],t=0;t<55;t++)e=e.concat(n(7));return e}();365==t.yearlen?(t.wdaymask=r.slice(i),t.mrange=[].concat(o)):(t.wdaymask=r.slice(i),t.mrange=[].concat(a))};switch(d(t.from.year()),t.freq){case"daily":default:x=t.from.add(new e.jqx.timeSpan(t.step*t.interval,0,0,0));return t.step++,x;case"weekly":if(t.byweekday){if(x=(x=new e.jqx.date(t.from,t.timeZone)).addDays(t.step*t.interval*7),t.step>=1)s=(x=x.addDays(-t.from.dayOfWeek())).addDays(7);else var s=x.addDays(7-t.from.dayOfWeek());for(var c=x,u=0;u<7&&l[c.dayOfWeek()]!==t.byweekday[t.current]&&!(c>=s);u++)c=c.addDays(1);x=c,t.current++,void 0==t.byweekday[t.current]&&(t.current=0,t.step++)}return x;case"monthly":if(t.bynweekday.length>0){(x=new e.jqx.date(t.from.year(),t.from.month(),1,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,d((x=x.addMonths(t.step*t.interval)).year());var h=x.month(),p=(g=[t.mrange.slice(h-1,h+1)][0])[0],y=g[1];y-=1,t.nwdaymask=i(0,t.yearlen),t.step++;for(m=0;m<t.bynweekday.length;m++){f=t.bynweekday[m][0];(v=t.bynweekday[m][1])<0?(u=y+7*(v+1),u-=r(t.wdaymask[u]-f,7)):(u=p+7*(v-1),u+=r(7-t.wdaymask[u]+f,7)),p<=u&&u<=y&&(t.nwdaymask[u]=1)}b=(D=u+1)-p;(x=new e.jqx.date(t.from.year(),t.from.month(),b,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addMonths((t.step-1)*t.interval)}else t.bymonthday.length>0?((x=new e.jqx.date(t.from.year(),t.from.month(),t.bymonthday[t.current],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addMonths(t.step*t.interval),t.current++,t.bymonthday[t.current]||(t.current=0,t.step++)):((x=new e.jqx.date(t.from.year(),t.from.month(),t.day,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addMonths(t.step*t.interval),t.step++);return x;case"yearly":if(t.bymonth&&t.bymonth.length>0)if(t.bynweekday.length>0){(x=new e.jqx.date(t.from.year(),t.bymonth[t.current],1,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,d((x=x.addYears(t.step*t.interval)).year());var h=x.month(),g=[t.mrange.slice(h-1,h+1)][0],p=g[0],y=g[1];y-=1,t.nwdaymask=i(0,t.yearlen);for(var m=0;m<t.bynweekday.length;m++){var f=t.bynweekday[m][0],v=t.bynweekday[m][1];v<0?(u=y+7*(v+1),u-=r(t.wdaymask[u]-f,7)):(u=p+7*(v-1),u+=r(7-t.wdaymask[u]+f,7)),p<=u&&u<=y&&(t.nwdaymask[u]=1)}var D=u+1,b=D-p;(x=new e.jqx.date(x.year(),t.bymonth[t.current],b,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,t.step++}else t.byyearday.length>0?((x=new e.jqx.date(t.from.year(),t.bymonth[t.current],t.byyearday[t.currentYearDay],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addYears(t.step*t.interval),t.currentYearDay++,t.byyearday[t.currentYearDay]||(t.currentYearDay=0,t.current++,t.bymonth[t.current]||(t.current=0,t.step++))):((x=new e.jqx.date(t.from.year(),t.bymonth[t.current],t.from.day(),t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addYears(t.step*t.interval),t.current++,t.bymonth[t.current]||(t.current=0,t.step++));else if(t.byyearday&&t.byyearday.length>0)(x=new e.jqx.date(t.from.year(),t.from.month(),t.byyearday[t.current],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addYears(t.step*t.interval),t.current++,t.byyearday[t.current]||(t.current=0,t.step++);else if(null!=t.byweekno){var x=t.from.addYears(t.step*t.interval);if(x=function(i,r){var n=1,a=new e.jqx.date(r.year(),1,1,r.hour(),r.minute(),r.second());for(a.timeZone=t.timeZone;n!=i&&(a=a.addDays(7),!(++n>53)););for(;e.jqx.scheduler.utilities.getWeekday(a.toDate())!=t.wkst;)a=a.addDays(1);return a}(t.byweekno[t.current],x),t.byweekday){for(var c=x,u=0;u<7&&l[c.dayOfWeek()]!==t.byweekday[t.currentYearDay];u++)c=c.addDays(1);x=c,t.currentYearDay++,t.byweekday[t.currentYearDay]||(t.currentYearDay=0,t.current++,t.byweekno[t.current]||(t.current=0,t.step++))}else t.current++,t.byweekno[t.current]||(t.current=0,t.step++)}else(x=new e.jqx.date(t.from.year(),t.month,t.day,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addYears(t.step*t.interval),t.step++;return x}},t.isDateInExceptionAppointment=function(e,i,r){switch(t.freq){case"daily":case"weekly":default:return e.year()==r.from.year()&&e.dayOfYear()==r.from.dayOfYear()}},t.createNewPattern=function(){if(t.ical)return i=new e.jqx.scheduler.recurrencePattern(t.ical);var i=new e.jqx.scheduler.recurrencePattern;return i.from=t.from,i.to=t.to,i.count=t.count,i.interval=t.interval,i.exceptions=t.exceptions,i.newExceptions=t.newExceptions,i.weekDays=t.weekDays,i.isEveryWeekDay=t.isEveryWeekDay,i.month=t.month,i.day=t.day,i.current=t.current,i.currentYearDay=t.currentYearDay,i.step=t.step,i.days=t.days,i.bynweekday=t.bynweekday,i.bymonth=t.bymonth,i.bymonthday=t.bymonthday,i.byyearday=t.byyearday,i.byweekno=t.byweekno,i.byweekday=t.byweekday,i.freq=i.freq,i.timeZone=i.timeZone,i},t.equals=function(e){return t.from==e.from&&t.to==e.to&&t.count===e.count&&t.interval===e.interval&&t.day===e.day&&t.month===e.month},t.isDayOfWeekIncluded=function(i){var r=i.dayOfWeek();return e.jqx.scheduler.utilities.areWeekDaysIncluded(t.weekDays,r)},t.getWeekIndexFromDate=function(i,r){var n=r.firstDay,a=e.jqx.scheduler.utilities.getStartOfWeek(t.from,r,n),o=new e.jqx.timeSpan(i.subtract(a));return parseInt(o.days()/7)},t.canCreateNewOccurence=function(e,i){e.toDate();switch(t.freq){case"daily":default:return(!t.bymonth||-1!=t.bymonth.indexOf(e.month()))&&(!t.isEveryWeekDay||!!t.isDayOfWeekIncluded(e,i));case"weekly":var r=t.getWeekIndexFromDate(e,i);if(t.bymonth&&-1==t.bymonth.indexOf(e.month()))return!1;if(r%t.interval!=0)return!1;if(t.weekDays=={}){if(t.from.dayOfWeek()!=start.dayOfWeek())return!1}else if(!t.isDayOfWeekIncluded(e,i))return!1;break;case"monthly":case"yearly":if(t.bymonth&&-1==t.bymonth.indexOf(e.month()))return!1;if(e<t.from)return!1}return!0},t.toString=function(){var t={};t.dtstart=this.from.toDate(),t.until=this.to?this.to.toDate():null,t.count=this.count;var i={};i.YEARLY=0,i.MONTHLY=1,i.WEEKLY=2,i.DAILY=3,i.HOURLY=4,i.MINUTELY=5,i.SECONDLY=6,t.freq=i[this.freq.toUpperCase()],"YEARLY"==t.freq&&(t.bymonth=this.bymonth?this.bymonth:(new Array).push(this.month)),t.byweekday=new Array;var r=["MO","TU","WE","TH","FR","SA","SU"];return e.each(this.weekDays,function(){var e=this;--e<0&&(e=6),t.byweekday.push(e)}),void 0!=this.byyearday&&(t.byyearday=this.byyearday),void 0!=this.byweekno&&(t.byweekno=this.byweekno),t.bymonthday=this.bymonthday,t.wkst=r[this.wkst],t.interval=this.interval,new e.jqx.ICalRule(t).toString()},t.init=function(i){var r=new e.jqx.ICalRule(t.ical,i),n=r.options;if(t.from=n.dtstart?new e.jqx.date(n.dtstart,t.timeZone):t.from,t.count=void 0!=n.count?n.count:t.count,t.freq=r.FREQUENCIES[n.freq].toLowerCase(),t.interval=void 0!=n.interval?n.interval:t.interval,t.to=n.until?new e.jqx.date(n.until,t.timeZone):t.to,t.wkst=n.wkst,t.bymonth=n.bymonth,t.bymonth&&t.bymonth.length>0?t.month=t.bymonth[0]:t.month=t.from.month(),t.day=t.from.day(),void 0!=n.byweekday){t.weekDays={};for(var a=0;a<n.byweekday.length;a++)switch(n.byweekday[a]){case 0:t.weekDays.Monday=1;break;case 1:t.weekDays.Tuesday=2;break;case 2:t.weekDays.Wednesday=3;break;case 3:t.weekDays.Thursday=4;break;case 4:t.weekDays.Friday=5;break;case 5:t.weekDays.Saturday=6;break;case 6:t.weekDays.Sunday=0}t.byweekday=n.byweekday}return t.byweekno=n.byweekno,n.bynweekday&&(t.bynweekday=n.bynweekday),void 0!=n.bymonthday&&(t.bymonthday=n.bymonthday.sort(),t.bymonthday[0]&&(t.day=t.bymonthday[0])),void 0!=n.byyearday&&(t.day=n.byyearday[0],t.byyearday=n.byyearday.sort()),n},t.setFrom=function(e){t.from=e.clone(),t.ical&&t.init(e)},1==arguments.length&&(t.ical=arguments[0],t.init()),t},e.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},e.jqx.ICalRule=function(t,i){var r=this,n=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],r=e;r<t;r++)i.push(r);return i},a=function(e,t){var i=0,r=[];if(e instanceof Array)for(;i<t;i++)r[i]=[].concat(e);else for(;i<t;i++)r[i]=e;return r},o=function(e){return!(e instanceof Array&&0==e.length)&&Boolean(e)},l=function(e,t){return-1!=e.indexOf(t)},d=([].concat(a(1,31),a(2,28),a(3,31),a(4,30),a(5,31),a(6,30),a(7,31),a(8,31),a(9,30),a(10,31),a(11,30),a(12,31),a(1,7)),[].concat(a(1,31),a(2,29),a(3,31),a(4,30),a(5,31),a(6,30),a(7,31),a(8,31),a(9,30),a(10,31),a(11,30),a(12,31),a(1,7)),n(1,29)),s=n(1,30),c=n(1,31),u=n(1,32);[].concat(u,s,u,c,u,c,u,u,c,u,c,u,u.slice(0,7)),[].concat(u,d,u,c,u,c,u,u,c,u,c,u,u.slice(0,7));d=n(-28,0),s=n(-29,0),c=n(-30,0),u=n(-31,0);[].concat(u,s,u,c,u,c,u,u,c,u,c,u,u.slice(0,7)),[].concat(u,d,u,c,u,c,u,u,c,u,c,u,u.slice(0,7)),function(){for(var e=[],t=0;t<55;t++)e=e.concat(n(7))}();var h=function(e,t){var i=this;if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t,this.nth=function(e){return i.n==e?i:new h(i.weekday,e)},this.equals=function(e){return i.weekday==e.weekday&&i.n==e.n},this.toString=function(){var e=["MO","TU","WE","TH","FR","SA","SU"][i.weekday];return this.n&&(e=(i.n>0?"+":"")+String(i.n)+e),e},this.getJsWeekday=function(){return 6==i.weekday?0:i.weekday+1}};this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],this.YEARLY=0,this.MONTHLY=1,this.WEEKLY=2,this.DAILY=3,this.HOURLY=4,this.MINUTELY=5,this.SECONDLY=6,this.MO=new h(0),this.TU=new h(1),this.WE=new h(2),this.TH=new h(3),this.FR=new h(4),this.SA=new h(5),this.SU=new h(6);var p={freq:null,dtstart:null,interval:1,wkst:r.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};this._string=null,this.toString=function(){var t,i,n,a,o,d=this.origOptions,s=[];i=Object.keys(d),n=Object.keys(p);for(g=0;g<i.length;g++)if(l(n,i[g])&&(t=i[g].toUpperCase(),a=d[i[g]],o=[],!(null===a||a instanceof Array&&!a.length))){switch(t){case"FREQ":a=r.FREQUENCIES[d.freq];break;case"WKST":a||(a=0),a=a.toString();break;case"BYWEEKDAY":t="BYDAY",a instanceof Array||(a=[a]);for(var c,u=0;u<a.length;u++)(c=a[u])instanceof h||(c=c instanceof Array?new h(c[0],c[1]):new h(c)),o[u]=c.toString();a=o;break;case"DTSTART":case"UNTIL":a=e.jqx.scheduler.utilities.timeToUntilString(a);break;default:if(a instanceof Array){for(u=0;u<a.length;u++)o[u]=String(a[u]);a=o}else a=String(a)}s.push([t,a])}for(var y=[],g=0;g<s.length;g++){var m=s[g];y.push(m[0]+"="+m[1].toString())}return y.join(";")},this.parseString=function(t){if(!(t=t.replace(/^\s+|\s+$/,"")).length)return null;var i,n,a,o,l,d=t.split(";"),s={};for(i=0;i<d.length;i++)if(l=d[i].split("="),a=l[0],o=l[1],""!=a)switch(a){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(-1!=o.indexOf(","))for(o=o.split(","),n=0;n<o.length;n++)/^[+-]?\d+$/.test(o[n])&&(o[n]=Number(o[n]));else/^[+-]?\d+$/.test(o)&&(o=Number(o));s[a=a.toLowerCase()]=o;break;case"BYDAY":var c,u,p,y=o.split(",");for(s.byweekday=[],n=0;n<y.length;n++)2==(p=y[n]).length?(u=r[p],s.byweekday.push(u)):(p=p.match(/^([+-]?\d)([A-Z]{2})$/),c=Number(p[1]),u=p[2],u=r[u].weekday,s.byweekday.push(new h(u,c)));break;case"FREQ":s.freq=r[o];break;case"WKST":s.wkst=r[o];break;case"DTSTART":s.dtstart=e.jqx.scheduler.utilities.untilStringToDate(o);break;case"UNTIL":s.until=e.jqx.scheduler.utilities.untilStringToDate(o);break;case"BYEASTER":s.byeaster=Number(o);break;default:throw new Error("Unknown ICalRule property '"+a+"'")}return r.options=s,s},"string"===e.type(t)?this.options=this.parseString(t):this.options=t||{};var t=this.options;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,r;if(null==this)throw new TypeError(" this is null or not defined");var n=Object(this),a=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(i=t),r=0;r<a;){var o;r in n&&(o=n[r],e.call(i,o,r,n)),r++}}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=i.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var a,o,l=[];for(a in n)e.call(n,a)&&l.push(a);if(t)for(o=0;o<r;o++)e.call(n,i[o])&&l.push(i[o]);return l}}()),this.origOptions={};var y=[],g=Object.keys(this.options),m=Object.keys(p);if(g.forEach(function(e){this.origOptions[e]=this.options[e],l(m,e)||y.push(e)},this),y.length)throw new Error("Invalid options: "+y.join(", "));if(!r.FREQUENCIES[this.options.freq]&&null===t.byeaster)throw new Error("Invalid Frequency: "+String(t.freq));m.forEach(function(e){l(g,e)||(t[e]=p[e])});var f=this.options;if(null!==f.byeaster&&(f.freq=this.YEARLY),f.dtstart||(f.dtstart=new Date,f.dtstart.setMilliseconds(0)),i&&(f.dtstart=i.toDate()),null===f.wkst?f.wkst=this.MO.weekday:"number"==typeof f.wkst||(null==f.wkst?f.wkst=this.MO.weekday:f.wkst=f.wkst.weekday),null!==f.bysetpos){"number"==typeof f.bysetpos&&(f.bysetpos=[f.bysetpos]);for(var v=0;v<f.bysetpos.length;v++)if(0==(x=f.bysetpos[v])||!(-366<=x&&x<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(o(f.byweekno)||o(f.byyearday)||o(f.bymonthday)||null!==f.byweekday||null!==f.byeaster))switch(f.freq){case this.YEARLY:f.bymonth||(f.bymonth=f.dtstart.getMonth()+1),f.bymonthday=f.dtstart.getDate();break;case this.MONTHLY:f.bymonthday=f.dtstart.getDate();break;case this.WEEKLY:f.byweekday=e.jqx.scheduler.utilities.getWeekday(f.dtstart)}if(null===f.bymonth||f.bymonth instanceof Array||(f.bymonth=[f.bymonth]),null===f.byyearday||f.byyearday instanceof Array||(f.byyearday=[f.byyearday]),null===f.bymonthday)f.bymonthday=[],f.bynmonthday=[];else if(f.bymonthday instanceof Array){var D=[],b=[];for(v=0;v<f.bymonthday.length;v++){var x=f.bymonthday[v];x>0?D.push(x):x<0&&b.push(x)}f.bymonthday=D,f.bynmonthday=b}else f.bymonthday<0?(f.bynmonthday=[f.bymonthday],f.bymonthday=[]):(f.bynmonthday=[],f.bymonthday=[f.bymonthday]);if(null===f.byweekno||f.byweekno instanceof Array||(f.byweekno=[f.byweekno]),null===f.byweekday)f.bynweekday=null;else if("number"==typeof f.byweekday)f.byweekday=[f.byweekday],f.bynweekday=null;else if(f.byweekday instanceof h)!f.byweekday.n||f.freq>this.MONTHLY?(f.byweekday=[f.byweekday.weekday],f.bynweekday=null):(f.bynweekday=[[f.byweekday.weekday,f.byweekday.n]],f.byweekday=null);else{var w=[],q=[];for(v=0;v<f.byweekday.length;v++){var j=f.byweekday[v];"number"==typeof j?w.push(j):!j.n||f.freq>this.MONTHLY?w.push(j.weekday):q.push([j.weekday,j.n])}f.byweekday=o(w)?w:null,f.bynweekday=o(q)?q:null}if(null===f.byhour?f.byhour=f.freq<this.HOURLY?[f.dtstart.getHours()]:null:"number"==typeof f.byhour&&(f.byhour=[f.byhour]),null===f.byminute?f.byminute=f.freq<this.MINUTELY?[f.dtstart.getMinutes()]:null:"number"==typeof f.byminute&&(f.byminute=[f.byminute]),null===f.bysecond?f.bysecond=f.freq<this.SECONDLY?[f.dtstart.getSeconds()]:null:"number"==typeof f.bysecond&&(f.bysecond=[f.bysecond]),f.freq>=this.HOURLY)this.timeset=null;else{if(this.timeset=[],f.byhour)for(v=0;v<f.byhour.length;v++)for(var k=f.byhour[v],A=0;A<f.byminute.length;A++)for(var T=f.byminute[A],F=0;F<f.bysecond.length;F++){var S=f.bysecond[F];this.timeset.push(new e.jqx.scheduler.utilities.Time(k,T,S))}e.jqx.scheduler.utilities.sort(this.timeset)}return this}}(jqxBaseFramework),function(e){"use strict";e.extend(e.jqx._jqxScheduler.prototype,{_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var r=parseInt(i[0].substring(5)),n=parseInt(i[1]),a=parseInt(i[2]),o=parseInt(i[3].substring(1,4)),l={r:r,g:n,b:a},d=this._rgbToHex(l);return 0==r&&0==n&&0==a&&0==o?"#ffffff":"#"+d}l={r:r=parseInt(i[0].substring(4)),g:n=parseInt(i[1]),b:a=parseInt(i[2].substring(1,4))};return"#"+(d=this._rgbToHex(l))}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},exportData:function(t){a=this;if(!e.jqx.dataAdapter.ArrayExporter)throw"jqxScheduler: Missing reference to jqxdata.export.js!";var i=this.exportSettings.serverURL,r=this.exportSettings.characterSet,n=this.exportSettings.fileName;void 0===n&&(n="jqxScheduler");var a=this;if("ical"!=t&&"ics"!=t){var o=this.getDataAppointments(),l=new Array,d={},s={},c=this.host.find(".jqx-grid-cell:first");c.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),c.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var u="cell",h=1,p="column",y=1,g=e(this.columns.records[0].element),m=0;e.each(this.appointmentDataFields,function(e,i){if(d[i]={},d[i].text=i,d[i].width=100,d[i].formatString="",d[i].localization=a.schedulerLocalization,"from"==e||"to"==e?(d[i].type="date",d[i].formatString=a.exportSettings.dateTimeFormatString):d[i].type="string",d[i].cellsAlign="left",l.push(d[i]),u="cell"+h,p="column"+y,"html"==t||"xls"==t||"pdf"==t){var r=function(e,r,n,o,l,c,u,h,p){s[e]={},void 0!=r&&(s[e]["font-size"]=r.css("font-size"),s[e]["font-weight"]=r.css("font-weight"),s[e]["font-style"]=r.css("font-style"),s[e]["background-color"]=a._getexportcolor(r.css("background-color")),s[e].color=a._getexportcolor(r.css("color")),s[e]["border-color"]=a._getexportcolor(r.css("border-top-color")),n?s[e]["text-align"]="left":(s[e]["text-align"]="left",s[e].formatString="",s[e].dataType="string","from"!=u&&"to"!=u||(s[e].dataType="date",s[e].formatString=a.exportSettings.dateTimeFormatString)),"html"!=t&&"pdf"!=t||(s[e]["border-top-width"]=r.css("border-top-width"),s[e]["border-left-width"]=r.css("border-left-width"),s[e]["border-right-width"]=r.css("border-right-width"),s[e]["border-bottom-width"]=r.css("border-bottom-width"),s[e]["border-top-style"]=r.css("border-top-style"),s[e]["border-left-style"]=r.css("border-left-style"),s[e]["border-right-style"]=r.css("border-right-style"),s[e]["border-bottom-style"]=r.css("border-bottom-style"),n?(0==m&&(s[e]["border-left-width"]=r.css("border-right-width")),s[e]["border-top-width"]=r.css("border-right-width"),s[e]["border-bottom-width"]=r.css("border-bottom-width")):(0==m&&(s[e]["border-left-width"]="1px"),s[e]["border-right-width"]="1px")),n&&(d[i].style=e),d[i].cellStyle=e)};r(p,g,!0,0,0,0,e),y++,r(u,c,!1,0,0,0,e),h++}m++});var f=e.jqx.dataAdapter.ArrayExporter(o,d,s,i);if(null==n){this._renderrows();var v=f.exportTo(t);return setTimeout(function(){a.exporting=!1},50),v}f.exportToFile(t,n,i,r),this._renderrows(),setTimeout(function(){a.exporting=!1},50)}else if(a._resources.length>1&&n&&a.resourcesInMultipleICSFiles)for(var o=this.getAppointments(),D=0;D<a._resources.length;D++){for(var b=a._resources[D],x=new Array,w=0;w<o.length;w++){var q=o[w];q.resourceId==b&&x.push(q)}for(var j="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",k=0;k<x.length;k++)j+=x[k].jqxAppointment.toString(),k<x.length-1&&(j+="\n");for(var A=(j+="\nEND:VCALENDAR").length,T=new Uint8Array(new ArrayBuffer(A)),k=0;k<A;k++)T[k]=j.charCodeAt(k);F=new Blob([T],{type:"application/calendar"});saveAs(F,n+"_"+b+".ics")}else{for(var o=this.getAppointments(),j="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",D=0;D<o.length;D++)j+=o[D].jqxAppointment.toString(),D<o.length-1&&(j+="\n");var A=(j+="\nEND:VCALENDAR").length,T=new Uint8Array(new ArrayBuffer(A));for(D=0;D<A;D++)T[D]=j.charCodeAt(D);var F=new Blob([T],{type:"application/calendar"});if(!n)return j;saveAs(F,n+".ics")}},shadeColor:function(e,t){var i=parseInt(e.slice(1),16),r=t<0?0:255,n=t<0?-1*t:t,a=i>>16,o=i>>8&255,l=255&i;return"#"+(16777216+65536*(Math.round((r-a)*n)+a)+256*(Math.round((r-o)*n)+o)+(Math.round((r-l)*n)+l)).toString(16).slice(1)},hexToRgba:function(t,i){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),n=function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<10;return void 0==this.alpha||t?"rgb("+this.r+", "+this.g+", "+this.b+")":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")};return void 0==i?r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),toString:n}:null:(i>1?i=1:i<0&&(i=0),r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),alpha:i,toString:n}:null)},getAppointmentColors:function(e){var t="",i="",r="";t=this.hexToRgba(e,this.appointmentOpacity).toString(),i=e;return r=function(e){return 255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White"}(this.hexToRgba(e,.7)),{background:t,color:r,border:i}},getColors:function(e){-1==e&&(e=0);var t="",i="",r="",n=this.resources?this.resources.colorScheme:null;n||(n="scheme01");for(var a=new Array,o=0;o<this.colorSchemes.length;o++)if(this.colorSchemes[o].name==n){a=this.colorSchemes[o].colors;break}for(;e>a.length-1;){var l=parseInt(n.substring(6));l>=27&&(l=0),a=a.concat(this.colorSchemes[l].colors),l++}t=a[e],t=this.hexToRgba(a[e],.7).toString(),i=a[e];return r=function(e){return 255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White"}(this.hexToRgba(a[e],.7)),{background:t,color:r,border:i}},getAppointments:function(){for(var e=this.uiappointments,t=new Array,i=0;i<e.length;i++){var r=e[i].boundAppointment;r.toString=r.jqxAppointment.toString,t.push(r)}return t},getDataAppointments:function(){for(var t=this.uiappointments,i=new Array,r=0;r<t.length;r++){var n=t[r].boundAppointment,a={};e.each(this.appointmentDataFields,function(t,i){if(a[i]=n[t],"from"!=t&&"to"!=t||"date"!=e.type(n[t])&&(a[i]=n[t].toDate()),"recurrencePattern"==t&&n[t]&&(a[i]=n[t].toString()),"recurrenceException"==t&&n[t]){a[i]="";for(var r=0;r<n[t].length;r++)a[i]+=n[t][r].toString(),r<n[t].length-1&&(a[i]+=",")}try{JSON&&(a.toString=function(){return JSON.stringify(a)})}catch(e){}}),i.push(a)}return i},_refreshColumns:function(){this._initializeColumns(),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.children().remove();var t=this.columnsHeight;t=this._preparecolumnGroups(),this.columnsheader.height(t),this._rendercolumnheaders()},_refreshColumnTitles:function(){var t=this._views[this._view].type,i=this._views[this._view],r=this,n=new Array;if(r.columns.records[0].timeColumn&&n.push({}),i.timeRuler&&i.timeRuler.timeZones)for(y=0;y<i.timeRuler.timeZones.length;y++)n.push({});for(var a=function(t,a,o){var l="halfHour";i.timeRuler&&i.timeRuler.scale&&(l=i.timeRuler.scale);var d=24,s=0,c=23;if(i.timeRuler){if(void 0!=i.timeRuler.scaleStartHour)s=parseInt(i.timeRuler.scaleStartHour);if(void 0!=i.timeRuler.scaleEndHour)c=parseInt(i.timeRuler.scaleEndHour);s<0&&(s=0),c<0&&(c=23),s>23&&(s=0),c>23&&(c=23),d=c-s+1}if(l)switch(l){case"sixtyMinutes":case"hour":1;break;case"thirdyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}new Array;var u="auto";i.timeRuler&&i.timeRuler.formatString&&(u=i.timeRuler.formatString);var h=s,p=d,y=t.addHours(h);if(r.rtl)y=t.addHours(c);for(var g=0;g<p;g++){var m=y.toDate();if("auto"===u)if(0==m.getHours()&&0==m.getMinutes()||12==m.getHours()&&0==m.getMinutes())f="hh tt";else f="hh:mm";else if(e.isFunction(u))var f=u(m);else f=u;e.jqx.dataFormat.isDate(m)&&(m=e.jqx.dataFormat.formatdate(m,f,r.schedulerLocalization)),y=r.rtl?y.addMinutes(-60):y.addMinutes(60),n.push({}),r.columns.records[n.length-1].text=m}},o=(this.tableColumns,0);o<this.tableColumns;o++)switch(t){case"dayView":var l=this.getViewStart();!1===i.showWeekends&&(0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1)),0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1))),n.push({}),this.columns.records[n.length-1].text=this._getDayName(l.dayOfWeek());break;case"weekView":case"monthView":for(y=0;y<7;y++){c=this.schedulerLocalization.firstDay+y;(!1!==i.showWeekends||0!==y&&6!==y)&&(n.push({}),r.rtl&&(c=6-c),this.columns.records[n.length-1].text=this._getDayName(c))}break;case"timelineDayView":r._resources[o]&&r._resources[o];a(r.getViewStart());break;case"timelineWeekView":for(y=0;y<7;y++){c=this.schedulerLocalization.firstDay+y;(!1!==i.showWeekends||0!==y&&6!==y)&&(r.rtl&&(c=6-c),a(r.getViewStart().addDays(y),this._getDayName(c)))}break;case"timelineMonthView":var d=r.getViewStart(),s="auto";i.timeRuler&&i.timeRuler.formatString&&(s=i.timeRuler.formatString);for(y=0;y<41;y++){var c=d.dayOfWeek();if(!1!==i.showWeekends||0!==c&&6!==c){r.rtl&&(c=6-c);var u=d.toDate();if("auto"===s){h="dd";1===(u=d.toDate()).getDate()&&(h="MMM dd")}else if(e.isFunction(s))var h=s(u);else h=s;e.jqx.dataFormat.isDate(u)&&(u=e.jqx.dataFormat.formatdate(u,h,r.schedulerLocalization)),d=d.addDays(1),n.push({}),r.columns.records[n.length-1].text=u}}}for(var p=r.columnsHeight,y=0;y<this.columns.records.length;y++){var g=this.columns.records[y];if(!g.timeColumn){r.columnGroups&&r.columnGroups.length&&(p=function(e,t){var i=r.columnGroupslevel*r.columnsHeight;return i-=t.level*r.columnsHeight}(g.datafield,g));var m=null!=g.renderer?g.renderer(g.text,g.align,p):r._rendercolumnheader(g.text,g.align,p,g);null==m&&(m=r._rendercolumnheader(g.text,g.align,p,r)),null!=g.renderer&&(m=e(m)),e(g.element).html(m)}}},initRepeatPanels:function(t,i,r){var n=this,a=e("<div></div>");i.append(a);var o=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(a),l=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),d=e("<div></div>").appendTo(l),s=e("<div></div>");i.append(s);var c=e("<div></div>");s.append(c);c.detach(),n.editDialogFields.repeatEndPanel={},n.editDialogFields.repeatEndPanelContainer=c,function(t,i){var a=e("<div></div>").appendTo(t),o=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(a),l=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),d=e("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+n.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(l);d.jqxRadioButton({rtl:n.rtl,groupName:"end"+i,theme:n.theme,width:200,height:25,checked:!0}),n.editDialogFields[i].repeatEndNever=d,n.editDialogFields[i].repeatEndNeverLabel=o;var s=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(a),c=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),u=e("<div style='position:relative;  float:left;'><span style='margin-left:2px;'>"+n.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(c);u.jqxRadioButton({rtl:n.rtl,groupName:"end"+i,theme:n.theme,width:60,height:25,checked:!1});var h=e("<div style='margin-left: 3px; float:left;'></div>").appendTo(c);h.jqxNumberInput({rtl:n.rtl,decimal:10,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(c);n.editDialogFields[i].repeatEndAfter=u,n.editDialogFields[i].repeatEndAfterValue=h,n.editDialogFields[i].repeatEndAfterLabel=s;var p=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(a),y=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),g=e("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+n.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(y);g.jqxRadioButton({rtl:n.rtl,groupName:"end"+i,theme:n.theme,width:60,height:25,checked:!1});var m=e("<div style='margin-left: 3px; float:left;'></div>").appendTo(y);m.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:n.rtl,localization:n._getDateTimeInputLocalization(),firstDayOfWeek:n.schedulerLocalization.firstDay,todayString:n.schedulerLocalization.todayString,clearString:n.schedulerLocalization.clearString,value:r,formatString:n.editDialogDateFormatString,height:25,width:150,theme:n.theme});m.jqxDateTimeInput("getInstance");n.editDialogFields[i].repeatEndOn=g,n.editDialogFields[i].repeatEndOnValue=m,n.editDialogFields[i].repeatEndOnLabel=p}(c,"repeatEndPanel");var u=function(){var t=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),i=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(t),r=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(t),a=e("<div style='float:left;'></div>").appendTo(r);a.jqxNumberInput({rtl:n.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(r);n.editDialogFields.daily={},n.editDialogFields.daily.repeatDayInterval=a,n.editDialogFields.daily.repeatDayLabel=i,n.editDialogFields.daily.panel=t,t.detach(),n.editDialogFields.weekly={};var o=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),l=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(o),d=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),s=e("<div style='float:left;'></div>").appendTo(d);s.jqxNumberInput({rtl:n.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(d);n.editDialogFields.weekly.repeatWeekInterval=s,n.editDialogFields.weekly.repeatWeekIntervalLabel=l;var c=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(o),u=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),h=e("<div style='float:left;'></div>").appendTo(u);n.editDialogFields.weekly.repeatDaysLabel=c,n.editDialogFields.weekly.repeatDays=new Array;for(M=0;M<7;M++){var p=n._getDayName(M,"firstTwoLetters"),y=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+p+"</span></div>");h.append(y);var g=1==M;y.jqxCheckBox({rtl:n.rtl,height:25,checked:g,width:50,theme:n.theme}),n.editDialogFields.weekly.repeatDays.push(y)}n.editDialogFields.weekly.panel=o,o.detach(),n.editDialogFields.monthly={};var m=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),f=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(m),v=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(m),D=e("<div style='float:left;'></div>").appendTo(v);D.jqxNumberInput({rtl:n.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(v);n.editDialogFields.monthly.repeatMonth=D,n.editDialogFields.monthly.repeatMonthLabel=f;var b=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(m),x=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(m),w=e("<div style='float:left;'></div>").appendTo(x),q=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+n.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(w);q.jqxRadioButton({rtl:n.rtl,groupName:"month",height:25,width:60,checked:!0,theme:n.theme});var j=e("<div style='float:left;'></div>").appendTo(w);j.jqxNumberInput({rtl:n.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme}),n.editDialogFields.monthly.repeatMonthDay=j,n.editDialogFields.monthly.repeatMonthDayBool=q,n.editDialogFields.monthly.repeatMonthDayLabel=b;var k=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(m),A=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(m),T=e("<div style='float:left;'></div>").appendTo(A),F=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(T);F.jqxRadioButton({groupName:"month",height:25,width:25,checked:!1,theme:n.theme});var S=e("<div style='float:left;'></div>").appendTo(T),E=new Array;E.push(n.schedulerLocalization.editDialogRepeatFirstString),E.push(n.schedulerLocalization.editDialogRepeatSecondString),E.push(n.schedulerLocalization.editDialogRepeatThirdString),E.push(n.schedulerLocalization.editDialogRepeatFourthString),E.push(n.schedulerLocalization.editDialogRepeatLastString),S.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:E,autoDropDownHeight:!0,height:25,width:"auto",theme:n.theme});for(var L=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(T),O=new Array,M=0;M<7;M++){p=n._getDayName(M);O.push(p)}L.jqxDropDownList({rtl:n.rtl,dropDownWidth:150,autoDropDownHeight:!0,selectedIndex:1,source:O,height:25,width:"auto",theme:n.theme}),n.editDialogFields.monthly.repeatDayOfWeekBool=F,n.editDialogFields.monthly.repeatDayOfWeek=L,n.editDialogFields.monthly.repeatDayOfWeekLabel=k,n.editDialogFields.monthly.repeatDayOfWeekType=S,n.editDialogFields.monthly.panel=m,m.detach(),n.editDialogFields.yearly={};var _=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),C=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(_),I=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(_),R=e("<div style='float:left;'></div>").appendTo(I);R.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(I);n.editDialogFields.yearly.repeatYear=R,n.editDialogFields.yearly.repeatYearLabel=C;var B=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(_),W=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(_),H=e("<div style='float:left;'></div>").appendTo(W),z=e("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(H);z.jqxRadioButton({rtl:n.rtl,groupName:"year",height:25,width:25,checked:!0,theme:n.theme}),n.editDialogFields.yearly.repeatYearBool=z,n.editDialogFields.yearly.repeatYearBoolLabel=B;for(var N=e("<div style='float:left;'></div>").appendTo(H),P=new Array,M=0;M<12;M++){ee=n.schedulerLocalization.months.names[M];P.push(ee)}N.jqxDropDownList({selectedIndex:0,height:25,dropDownWidth:150,width:"auto",source:P,theme:n.theme}),n.editDialogFields.yearly.repeatYearMonth=N;var Y=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(H);Y.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme}),n.editDialogFields.yearly.repeatYearDay=Y;var Z=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(_),U=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(_),V=e("<div style='float:left;'></div>").appendTo(U),J=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(V);J.jqxRadioButton({rtl:n.rtl,groupName:"year",height:25,width:25,checked:!1,theme:n.theme});var Q=e("<div style='float:left;'></div>").appendTo(V);n.editDialogFields.yearly.repeatDayOfWeekBool=J,n.editDialogFields.yearly.repeatDayOfWeekType=Q,n.editDialogFields.yearly.repeatDayOfWeekLabel=Z;var K=new Array;K.push(n.schedulerLocalization.editDialogRepeatFirstString),K.push(n.schedulerLocalization.editDialogRepeatSecondString),K.push(n.schedulerLocalization.editDialogRepeatThirdString),K.push(n.schedulerLocalization.editDialogRepeatFourthString),K.push(n.schedulerLocalization.editDialogRepeatLastString),Q.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:K,autoDropDownHeight:!0,height:25,width:"auto",theme:n.theme});var X=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(V);n.editDialogFields.yearly.repeatDayOfWeek=X;for(var G=new Array,M=0;M<7;M++){p=n._getDayName(M);G.push(p)}X.jqxDropDownList({rtl:n.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:!0,source:G,height:25,width:"auto",theme:n.theme});for(var P=new Array,$=(e("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+n.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(V),e("<div style='margin-left: 5px; float:left;'></div>").appendTo(V)),M=0;M<12;M++){var ee=n.schedulerLocalization.months.names[M];P.push(ee)}n.editDialogFields.yearly.repeatDayOfWeekMonth=$,$.jqxDropDownList({rtl:n.rtl,dropDownWidth:150,selectedIndex:0,source:P,height:25,width:"auto",theme:n.theme}),n.editDialogFields.yearly.panel=_,_.detach()};n.editAppointment&&n.editAppointment.rootAppointment,u();var h=e("<div></div>");i.append(h);var p=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(h),y=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(h),g=e("<div style='position:relative; top:2px;'>"+n.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(y);g.jqxCheckBox({height:25,width:"100%",theme:n.theme}),h.hide(),n.editDialogFields.resetExceptions=g,n.editDialogFields.resetExceptionsLabel=p,n.editDialogFields.resetExceptionsContainer=h;var m=new Array;m.push(n.schedulerLocalization.editDialogRepeatNeverString),m.push(n.schedulerLocalization.editDialogRepeatDailyString),m.push(n.schedulerLocalization.editDialogRepeatWeeklyString),m.push(n.schedulerLocalization.editDialogRepeatMonthlyString),m.push(n.schedulerLocalization.editDialogRepeatYearlyString),d.jqxDropDownList({rtl:n.rtl,width:"100%",height:25,autoDropDownHeight:!0,theme:n.theme,source:m,selectedIndex:0}),n.editDialogFields.repeat=d,n.editDialogFields.repeatLabel=o,n.editDialogFields.repeatContainer=a,n.editDialogFields.repeatPanel=s,this.addHandler(d,"change",function(e){var r=e.args.item.index;!function(){switch(s.children().detach(),r){case 0:break;case 1:n.editDialogFields.daily.panel.css("visibility","visible"),s.append(n.editDialogFields.daily.panel);break;case 2:n.editDialogFields.weekly.panel.css("visibility","visible"),s.append(n.editDialogFields.weekly.panel);break;case 3:n.editDialogFields.monthly.panel.css("visibility","visible"),s.append(n.editDialogFields.monthly.panel);break;case 4:n.editDialogFields.yearly.panel.css("visibility","visible"),s.append(n.editDialogFields.yearly.panel)}s.append(c),0==r?n.editDialogFields.repeatEndPanelContainer.hide():n.editDialogFields.repeatEndPanelContainer.show(),n.isTouchDevice()||(t.jqxWindow({height:150}),t.jqxWindow({height:i[0].scrollHeight+40}))}()})},_initMenu:function(){var t=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu)return;this.removeHandler(this.menu,"keydown"),this.removeHandler(this.menu,"closed"),this.removeHandler(this.menu,"itemclick"),this.menu.jqxMenu("destroy"),this.menu.removeData(),this.menu.remove()}this.menuitemsarray=new Array,this.menu=e('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>'),this.host.append(this.menu),this.addHandler(e(window),"orientationchange.jqxscheduler"+this.element.id,function(){t.menu.jqxMenu("close"),t._hasOpenedMenu=!1}),this.addHandler(e(window),"orientationchanged.jqxscheduler"+this.element.id,function(){t.menu.jqxMenu("close"),t._hasOpenedMenu=!1}),this.removeHandler(this.menu,"keydown"),this.addHandler(this.menu,"keydown",function(e){27==e.keyCode&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1,t.focus())}),this.addHandler(this.menu,"open",function(e){t.contextMenuOpen&&t.contextMenuOpen(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e),t._raiseEvent("contextMenuOpen",{menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),t._removeFeedbackAndStopResize()}),this.addHandler(this.menu,"close",function(e){t.contextMenuClose&&t.contextMenuClose(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e),t._hasOpenedMenu=!1,document.activeElement&&document.activeElement.className.indexOf("jqx-menu")>=0&&!t.menuOpening&&t.focus(),t._raiseEvent("contextMenuClose",{menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),this.addHandler(this.host,"contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.menu,"itemclick",function(e){var i=t.menu.jqxMenu("getItem",e.args.id);if(t._raiseEvent("contextMenuItemClick",{item:i,menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),t.contextMenuItemClick&&1==(n=t.contextMenuItemClick(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e)))return new Date-t.renderedTime>500&&t._renderrows(),t.menu.jqxMenu("close"),void(t._hasOpenedMenu=!1);if("createAppointment"==i.id)t._initDialog(),t._openDialog(),"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);else{if("editAppointment"!=i.id)return"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),!0;var r=t.getJQXAppointmentByElement(t.selectedAppointment);if(!r.readOnly){var n=t._initDialog(r);!1!==n&&t._openDialog()}"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1)}});var i=new Array;i.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"}),i.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"});var r={rtl:this.rtl,keyboardNavigation:!0,source:i,popupZIndex:999999,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0};t.contextMenuCreate&&t.contextMenuCreate(t.menu,r),t._raiseEvent("contextMenuCreate",{menu:t.menu,settings:r}),this.menu.jqxMenu(r)}},_initDialog:function(t,i){var r=this,n=null;if(t&&t.isRecurrentAppointment()&&!r.editRecurrenceDialog.jqxWindow("isOpen")){var a=(l=r.host.coord()).top+r.host.height()/2-r.editRecurrenceDialog.height()/2,o=l.left+r.host.width()/2-r.editRecurrenceDialog.width()/2;r.editRecurrenceDialog.find("button:first").focus(),setTimeout(function(){r.editRecurrenceDialog.find("button:first").focus()},25),r.editRecurrenceDialog.jqxWindow("move",o,a),r.editRecurrenceDialog.jqxWindow("open"),r.editSeries=function(e){e?(r._initDialog(t.rootAppointment),r._openDialog()):(r._initDialog(t),r._openDialog())},r.overlay.show(),r.overlay.width(r.host.width()),r.overlay.height(r.host.height());var l=r.host.coord();return r.overlay.offset(l),r._editDialog||r._initDialog(),!1}if(r.editAppointment=t,t||(n=r.getSelection())||(r.focus(),r.focusedCell&&(r.focusedCell.setAttribute("data-selected","true"),r._lastSelectedCell=r.focusedCell,r._updateCellsSelection(r.focusedCell),n=r.getSelection())),n||t){var d=n?n.from:t.from,s=n?n.to:t.to,c=r.getSelectedCells();c.length>0&&c[c.length-1].getAttribute("data-end-date")&&(s=e.jqx.scheduler.utilities.getEndOfDay(s)),r._editStart=d,r._editEnd=s}if(r.editDialogFields&&r.editDialogFields.resourceContainer&&r._resources.length>0){for(var u=new Array,h=0;h<r._resources.length;h++)u.push(r._resources[h]);var p=!0;u.length>10&&(p=!1),r.editDialogFields.resource.jqxDropDownList({source:u,selectedIndex:0,autoDropDownHeight:p}),t||r.editDialogFields.resource.val(n.resourceId)}if(r.editDialogFields&&r.editDialogFields.repeatContainer&&(t&&t.rootAppointment?(r.editDialogFields.repeatContainer.hide(),r.editDialogFields.repeatPanel.hide()):(r.editDialogFields.repeatContainer.show(),r.editDialogFields.repeatPanel.show())),null==r._editDialog){r._editDialog=null;var y=null==t?r.schedulerLocalization.editDialogCreateTitleString:r.schedulerLocalization.editDialogTitleString,g=e("<div><div>"+y+"</div><div id='dialog"+this.element.id+"'></div></div>");e(g).jqxWindow({rtl:r.rtl,zIndex:99999,autoFocus:!1,autoOpen:!1,animationType:"none",theme:r.theme,width:530,maxHeight:800,minHeight:110,resizable:!1,initContent:function(){r.editDialogFields={},null==d&&null==s&&r._editStart&&r._editEnd&&(d=r._editStart,s=r._editEnd),g.jqxWindow("setTitle",y);var i=e(g.children()[1]),a=e("<div></div>");i.append(a);var o=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(a),l=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),c=e("<input type='text'/>").appendTo(l);c.jqxInput({rtl:r.rtl,width:"100%",height:25,theme:r.theme}),c.css("box-sizing","border-box"),r.editDialogFields.subject=c,r.editDialogFields.subjectLabel=o,r.editDialogFields.subjectContainer=a;var u=e("<div></div>");i.append(u);var h=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogLocationString+"</div>").appendTo(u),p=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(u),m=e("<input type='text'/>").appendTo(p);m.jqxInput({rtl:r.rtl,width:"100%",height:25,theme:r.theme}),m.css("box-sizing","border-box"),r.editDialogFields.location=m,r.editDialogFields.locationLabel=h,r.editDialogFields.locationContainer=u;var f=e("<div></div>");i.append(f);var v=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogFromString+"</div>").appendTo(f),D=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),b=e("<div></div>").appendTo(D),x=null;d?x=d.toDate():((T=new Date).setHours(9,0,0),x=T),b.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,value:x,formatString:r.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:r.theme}),r.editDialogFields.from=b,r.editDialogFields.fromLabel=v,r.editDialogFields.fromContainer=f;var w=e("<div></div>");i.append(w);var q=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogToString+"</div>").appendTo(w),j=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(w),k=e("<div></div>").appendTo(j),A=null;if(s)A=s.toDate();else{var T=new Date;T.setHours(10,0,0),A=T}k.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,value:A,formatString:r.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:r.theme}),r.editDialogFields.to=k,r.editDialogFields.toLabel=q,r.editDialogFields.toContainer=w,r._changeFromUser=!0,r.addHandler(b,"change",function(t){if(r._changeFromUser){t.args;var i=t.args.oldValue,n=k.val("date"),a=new e.jqx.date(n)-new e.jqx.date(i);if(a>0){var o=1e4*a,l=e.jqx.timeSpan(o),d=new e.jqx.date(t.args.newValue).add(l);k.val(d.toDate())}}}),r.addHandler(k,"change",function(e){if(r._changeFromUser){e.args;var t=e.args.oldValue,i=k.val("date");b.val("date")>=i&&k.val(t)}});var F=e("<div></div>");i.append(F);var S=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(F),E=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(F),L=e("<div style='position:relative;'></div>").appendTo(E);L.jqxCheckBox({rtl:r.rtl,height:25,width:25,theme:r.theme}),r.editDialogFields.allDay=L,r.editDialogFields.allDayLabel=S,r.editDialogFields.allDayContainer=F,r.addHandler(F,"change",function(e){e.args.checked?(k.jqxDateTimeInput({showTimeButton:!1,formatString:r.editDialogDateFormatString}),b.jqxDateTimeInput({showTimeButton:!1,formatString:r.editDialogDateFormatString})):(k.jqxDateTimeInput({showTimeButton:!0,formatString:r.editDialogDateTimeFormatString}),b.jqxDateTimeInput({showTimeButton:!0,formatString:r.editDialogDateTimeFormatString}))}),e.jqx.scheduler.utilities.getStartOfDay(d).equals(d)&&e.jqx.scheduler.utilities.getEndOfDay(s).equals(s)&&r.editDialogFields.allDay.val(!0),(r._views[r._view].type.indexOf("month")>=0||d&&d.equals(s)||s&&s.equals(e.jqx.scheduler.utilities.getEndOfDay(s)))&&r.editDialogFields.allDay.val(!0);var O=e("<div></div>");i.append(O);var M=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(O),_=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(O),C=e("<div></div>").appendTo(_),I=new Array;I.push({displayName:r.schedulerLocalization.editDialogSelectTimeZoneString,id:null}),I=I.concat(r.timeZones);for(re=0;re<I.length;re++){var R=I[re],B=R.displayName.indexOf(")");if(B>=0)W=R.displayName.substring(2+B);else var W=R.displayName;R.searchName=W}C.jqxDropDownList({rtl:r.rtl,placeHolder:r.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",height:25,theme:r.theme,searchMember:"searchName",source:I,displayMember:"displayName",valueMember:"id"}),r.editDialogFields.timeZone=C,r.editDialogFields.timeZoneLabel=M,r.editDialogFields.timeZoneContainer=O,r.initRepeatPanels(g,i,s.toDate()),r.editDialogFields&&r.editDialogFields.repeatContainer&&(r.editAppointment&&r.editAppointment.rootAppointment?(r.editDialogFields.repeatContainer.hide(),r.editDialogFields.repeatPanel.hide()):(r.editDialogFields.repeatContainer.show(),r.editDialogFields.repeatPanel.show()));var H=e("<div></div>");i.append(H);var z=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo(H),N=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(H),P=e("<textarea type='text' resizable='off' style='position:relative; top: 3px; padding:3px;'></textarea>").appendTo(N);P.jqxInput({rtl:r.rtl,height:40,width:"100%",theme:r.theme}),P.css("box-sizing","border-box"),r.editDialogFields.description=P,r.editDialogFields.descriptionLabel=z,r.editDialogFields.descriptionContainer=H;var Y=e("<div></div>");i.append(Y);var Z=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogColorString+"</div>").appendTo(Y),U=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(Y),V=e("<div></div>").appendTo(U);V.jqxDropDownList({rtl:r.rtl,selectedIndex:-1,placeHolder:r.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:function(e,t){if(t<0)return e.css("top","4px"),e.css("position","relative"),e[0].outerHTML;var i="";return i+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+r.colors[t]+"; margin-left: 2%;'></div>"},renderer:function(e){if(-1==e)return"";var t="",t="";return t+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+r.colors[e]+"; margin-left: 2%;'></div>"},source:r.colors,height:25,width:"100%",theme:r.theme}),r.editDialogFields.color=V,r.editDialogFields.colorLabel=Z,r.editDialogFields.colorContainer=Y;var J=e("<div></div>");i.append(J);var Q=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogStatusString+"</div>").appendTo(J),K=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(J),X=e("<div></div>").appendTo(K);X.jqxDropDownList({rtl:r.rtl,selectedIndex:2,autoDropDownHeight:!0,source:r.schedulerLocalization.editDialogStatuses,height:25,width:"100%",theme:r.theme}),r.editDialogFields.status=X,r.editDialogFields.statusLabel=Q,r.editDialogFields.statusContainer=J;var G=e("<div></div>");i.append(G);for(var $=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(G),ee=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(G),te=e("<div></div>").appendTo(ee),ie=new Array,re=0;re<r._resources.length;re++)ie.push(r._resources[re]);var ne=!0;ie.length>10&&(ne=!1),te.jqxDropDownList({rtl:r.rtl,source:ie,selectedIndex:0,autoDropDownHeight:ne,height:25,width:"100%",theme:r.theme}),r.editDialogFields.resource=te,r.editDialogFields.resourceLabel=$,r.editDialogFields.resourceContainer=G,0==ie.length&&G.hide(),!t&&n&&r.editDialogFields.resource.val(n.resourceId);var ae=e("<div></div>");i.append(ae);var oe=e("<div style='width:100%;' class='jqx-scheduler-edit-dialog-field'></div>").appendTo(ae),le=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogCancelString+"</button>").appendTo(oe),de=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(oe),se=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(oe),ce=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(oe),ue=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogSaveString+"</button>").appendTo(oe),he=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(oe),pe=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(oe),ye=25;r.isTouchDevice()&&(ye=null),de.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),se.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),ce.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),ue.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),le.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),he.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),pe.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),he.hide(),pe.hide(),r.editDialogFields.saveOccurrenceButton=pe,r.editDialogFields.saveSeriesButton=he,r.editDialogFields.saveButton=ue,r.editDialogFields.cancelButton=le,r.editDialogFields.deleteButton=de,r.editDialogFields.deleteSeriesButton=se,r.editDialogFields.deleteExceptionsButton=ce,r.editDialogFields.buttons=oe,r.addHandler(de,"click",function(){g.jqxWindow("close"),r.overlay.hide(),r._deleteAppointment(r.editAppointment)}),r.addHandler(le,"click",function(){g.jqxWindow("close"),r.overlay.hide()}),r.addHandler(pe,"click",function(){if(r.editAppointment.isException()){for(var e=r.editAppointment.rootAppointment?r.editAppointment.rootAppointment.exceptions:r.editAppointment.exceptions,t=0;t<e.length;t++)if(e[t].occurrenceFrom.equals(r.editAppointment.occurrenceFrom)){e[t]=r.editAppointment;break}}else null!=r.editAppointment.rootAppointment?(r.editAppointment.rootAppointment.exceptions.push(r.editAppointment),r.editAppointment.rootAppointment.recurrenceException.push(r.editAppointment.occurrenceFrom)):(r.editAppointment.exceptions.push(r.editAppointment),r.editAppointment.recurrenceException.push(r.editAppointment.occurrenceFrom));r._setAppointmentPropertiesFromDialog(r.editAppointment,"occurrence")&&(r.changedAppointments[r.editAppointment.id]={type:"Update",appointment:r.editAppointment.boundAppointment},r._raiseEvent("appointmentChange",{appointment:r.editAppointment.boundAppointment}),r._renderrows(),g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(he,"click",function(){var e=r.editAppointment;e.rootAppointment&&(e=e.rootAppointment),r._setAppointmentPropertiesFromDialog(e,"series")&&(r.changedAppointments[e.id]={type:"Update",appointment:e.boundAppointment},r._raiseEvent("appointmentChange",{appointment:e.boundAppointment}),r._renderrows(),g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(ue,"click",function(){var t=!0;if(null==r.editAppointment){var i=new e.jqx.scheduler.appointment;(t=r._setAppointmentPropertiesFromDialog(i,"none"))&&r.addAppointment(i)}else r.editAppointment.rootAppointment?(pe.trigger("click"),t=!1):r.editAppointment.isRecurrentAppointment()?(he.trigger("click"),t=!1):(t=r._setAppointmentPropertiesFromDialog(r.editAppointment,"none"))&&(r.changedAppointments[r.editAppointment.id]={type:"Update",appointment:r.editAppointment?r.editAppointment.boundAppointment:null},r._raiseEvent("appointmentChange",{appointment:r.editAppointment.boundAppointment}),r._renderrows());t&&(g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(g,"close",function(e){r.overlay.hide(),r.focus(),r.editDialogClose&&r.editDialogClose(g,r.editDialogFields,r.editAppointment?r.editAppointment.boundAppointment:null),r._raiseEvent("editDialogClose",{dialog:g,fields:r.editDialogFields,appointment:r.editAppointment?r.editAppointment.boundAppointment:null})}),r.editDialogCreate&&r.editDialogCreate(g,r.editDialogFields,r.editAppointment),r._raiseEvent("editDialogCreate",{dialog:g,fields:r.editDialogFields,appointment:r.editAppointment?r.editAppointment.boundAppointment:null}),g.jqxWindow({height:i[0].scrollHeight+40})}}),r._editDialog=g}r.dialogOpenings||(r.dialogOpenings=0),r.removeHandler(r._editDialog,"open"),r.addHandler(r._editDialog,"open",function(a){if(!r.editDialogOpen||!r.editDialogFields||1!=r.editDialogOpen(g,r.editDialogFields,r.editAppointment?r.editAppointment.boundAppointment:null)){r.rtl&&(r._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(r.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl")),r._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(r.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl")),r.editDialogFields.saveOccurrenceButton.css("float","left"),r.editDialogFields.saveSeriesButton.css("float","left"),r.editDialogFields.saveButton.css("float","left"),r.editDialogFields.cancelButton.css("float","left"),r.editDialogFields.deleteButton.css("float","left"),r.editDialogFields.deleteSeriesButton.css("float","left"),r.editDialogFields.deleteExceptionsButton.css("float","left"),r.editDialogFields.buttons.css("width","auto"),r.editDialogFields.allDay.css("float","right")),setTimeout(function(){var e=r.editAppointment?r.editAppointment.boundAppointment:null;r.editAppointment&&r.editAppointment.rootAppointment&&(e=r.editAppointment.rootAppointment.boundAppointment),r._raiseEvent("editDialogOpen",{dialog:r._editDialog,fields:r.editDialogFields,appointment:e})});var o=function(){setTimeout(function(){i?r.editDialogFields.deleteButton.focus():(r.editDialogFields.subject.focus(),r.editDialogFields.subject.select())},1)},l=null==r.editAppointment?r.schedulerLocalization.editDialogCreateTitleString:r.schedulerLocalization.editDialogTitleString;if(r._editDialog.jqxWindow({title:l}),0==r.dialogOpenings&&!t)return r.dialogOpenings++,r.isTouchDevice()||(r._editDialog.jqxWindow({height:150}),r._editDialog.jqxWindow({height:e(r._editDialog.children())[1].scrollHeight+40})),r.editDialogFields.deleteButton.hide(),void o();r.editDialogFields&&(r.editDialogFields.subject.val(""),r.editDialogFields.location.val(""),o(),r.editDialogFields.resetExceptions.val(!1),r.editDialogFields.description.val(""),t||r.editDialogFields.deleteButton.hide(),t?(r.dialogOpenings++,r.editDialogFields.deleteButton.show(),r.editDialogFields.subject.val(t.subject),r.editDialogFields.location.val(t.location),r.editDialogFields.description.val(t.description),r.editDialogFields.timeZone.val(t.timeZone),r.colors.indexOf(t.borderColor)>=0?r.editDialogFields.color.val(t.borderColor):r.editDialogFields.color.jqxDropDownList("clearSelection"),r.editDialogFields.allDay.val(t.allDay),r.editDialogFields.resource.val(t.resourceId),r.editDialogFields.status.val(t.status),t.timeZone&&(t.from=t.from.toTimeZone(t.timeZone),t.to=t.to.toTimeZone(t.timeZone)),d=t.from,s=t.to,e.jqx.scheduler.utilities.getStartOfDay(d).equals(d)&&e.jqx.scheduler.utilities.getEndOfDay(s).equals(s)&&r.editDialogFields.allDay.val(!0),r._setAppointmentPropertiesToDialog(t,d,s,n?n.resourceId:null)):(r.editDialogFields.saveButton.show(),r._setAppointmentPropertiesToDialog(null,d,s,n?n.resourceId:null)),d&&s&&(r._changeFromUser=!1,r.editDialogFields.from.val(d.toDate()),r.editDialogFields.to.val(s.toDate()),r._changeFromUser=!0),r.isTouchDevice()||(r._editDialog.jqxWindow({height:150}),r._editDialog.jqxWindow({height:e(r._editDialog.children())[1].scrollHeight+40})))}}),r.removeHandler(r._editDialog,"keydown"),r.addHandler(r._editDialog,"keydown",function(i){if(r.editDialogKeyDown){var n=r.editDialogKeyDown(g,r.editDialogFields,r.editAppointment,i);if(void 0!=n)return n}if(13==i.keyCode){if(e(document.activeElement).ischildof(r._editDialog)){if("button"==document.activeElement.nodeName.toLowerCase())return!0;t?t.isException()||t.rootAppointment?r.editDialogFields.saveOccurrenceButton.trigger("click"):t.isRecurrentAppointment()?r.editDialogFields.saveSeriesButton.trigger("click"):r.editDialogFields.saveButton.trigger("click"):r.editDialogFields.saveButton.trigger("click")}}else 27==i.keyCode&&r.editDialogFields.cancelButton.trigger("click")})},openMenu:function(t,i){var r=this;r.menu||r._initMenu();r._views[r._view].type;if(r.contextMenu&&r.menu){if(r.selectedAppointment?r.menu.jqxMenu("showItem","editAppointment"):r.menu.jqxMenu("hideItem","editAppointment"),arguments.length<2){if(r.selectedAppointment)t=(n=r.selectedAppointment.coord()).left,i=n.top;else if(r.focusedCell)var n=e(r.focusedCell).coord();t=n.left,i=n.top}r.menu.jqxMenu("open",t,i),r._hasOpenedMenu=!0}},closeMenu:function(){var e=this;e.contextMenu&&e.menu&&setTimeout(function(){e.menu.jqxMenu("close")})},closeDialog:function(){this._editDialog.jqxWindow("close")},openDialog:function(e,t){var i=this;i._views[i._view].type;i.selectedJQXAppointment?!1!==i._initDialog(i.selectedJQXAppointment)&&i._openDialog(e,t):(null==i.getSelection()&&(i.focus(),i.focusedCell.setAttribute("data-selected","true"),i._lastSelectedCell=i.focusedCell,i._updateCellsSelection(i.focusedCell)),i._initDialog(),i._openDialog(e,t))},_openDialog:function(e,t){var i=this;i._views[i._view].type;if(i.editDialog){var r=i.host.coord();if(i.overlay.show(),i.overlay.css("z-index",9999999),i.overlay.width(i.host.width()),i.overlay.height(i.host.height()),i.overlay.offset(r),i.isTouchDevice())i._editDialog.jqxWindow("move",r.left,r.top),i._editDialog.jqxWindow({draggable:!1,maxWidth:i.host.width(),maxHeight:i.host.height()}),i._editDialog.jqxWindow({width:i.host.width(),height:i.host.height()}),i._editDialog.jqxWindow("open"),i._editDialog.jqxWindow("move",r.left,r.top);else if(void 0!=e&&void 0!=t)i._editDialog.jqxWindow("move",e,t),i._editDialog.jqxWindow("open");else{var n=i._editDialog.height();n<400&&(n=400);var a=r.top+i.host.height()/2-n/2,o=r.left+i.host.width()/2-i._editDialog.width()/2;i._editDialog.jqxWindow("move",o,a),i._editDialog.jqxWindow("open")}setTimeout(function(){i.overlay.css("z-index",999)},50)}},_setAppointmentPropertiesFromDialog:function(t,i){var r=this;return function(t){var n=r._views[r._view].type,a=(r._views[r._view],r.editDialogFields.from.val("date"));if(a>(c=r.editDialogFields.to.val("date")))return r.editDialogFields.from.jqxDateTimeInput("focus"),!1;if(a==c)return n.indexOf("month")>=0;if(t.resourceId=r.editDialogFields.resource.val(),"none"==r.editDialogFields.resourceContainer.css("display")&&(t.resourceId=""),t.description=r.editDialogFields.description.val(),t.allDay=r.editDialogFields.allDay.val(),t.status=r.editDialogFields.status.val(),t.location=r.editDialogFields.location.val(),t.timeZone=r.editDialogFields.timeZone.val(),""==t.timeZone&&""!=r.timeZone&&(t.timeZone=r.timeZone),t.from=new e.jqx.date(a,t.timeZone),t.to=new e.jqx.date(c,t.timeZone),r.timeZone?(t.from=t.from.toTimeZone(r.timeZone),t.to=t.to.toTimeZone(r.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null)),t.allDay&&(t.from=e.jqx.scheduler.utilities.getStartOfDay(t.from),t.to=e.jqx.scheduler.utilities.getEndOfDay(t.to)),r.editDialogFields.color.val()){var o=r.getAppointmentColors(r.editDialogFields.color.val());t.color=o.color,t.background=o.background,t.borderColor=o.border}t.subject=r.editDialogFields.subject.val();var l=r.editDialogFields.repeat.jqxDropDownList("selectedIndex"),d=new e.jqx.scheduler.recurrencePattern,s=r.editDialogFields.repeatEndPanel;if(d.timeZone=r.timeZone,d.from=t.from.clone(),"occurrence"==i&&t.rootAppointment&&(d.from=t.rootAppointment.from.clone()),r.editDialogFields.resetExceptions.val()&&(t.exceptions=new Array,t.recurrenceException=new Array),s.repeatEndNever.val())d.count=1e3,d.to=new e.jqx.date(9999,12,31);else if(s.repeatEndAfter.val())d.count=s.repeatEndAfterValue.val(),d.to=new e.jqx.date(9999,12,31);else if(s.repeatEndOn.val()){d.count=1e3;var c=new e.jqx.date(s.repeatEndOnValue.jqxDateTimeInput("getDate"),r.timeZone);d.to=c}switch(l){case 0:default:t.clearRecurrence();break;case 1:h=r.editDialogFields.daily.repeatDayInterval.val();d.interval=h,d.freq="daily";break;case 2:var u=r.editDialogFields.weekly,h=u.repeatWeekInterval.val(),p=[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}],y=u.repeatDays,g=new Array;d.weekDays={};for(var m=0;m<7;m++)y[m].val()&&(0==m?g.push(6):g.push(m-1),e.extend(d.weekDays,p[m]));d.freq="weekly",d.byweekday=g,d.interval=h;break;case 3:var f=r.editDialogFields.monthly,h=f.repeatMonth.val();if(f.repeatMonthDayBool.val())d.day=f.repeatMonthDay.val(),d.bymonthday=new Array,d.bymonthday.push(d.day);else{var v=f.repeatDayOfWeek.jqxDropDownList("selectedIndex"),D=new Array;0==v?v=6:v--;w="";switch(x=f.repeatDayOfWeekType.jqxDropDownList("selectedIndex")){case 0:w=1;break;case 1:w=2;break;case 2:w=3;break;case 3:w=4;break;case 4:w=-1}D.push([v,w]),d.bynweekday=D}d.freq="monthly",d.interval=h;break;case 4:var b=r.editDialogFields.yearly,h=b.repeatYear.val();if(b.repeatYearBool.val())d.day=b.repeatYearDay.val(),d.month=b.repeatYearMonth.jqxDropDownList("selectedIndex"),d.bymonth=new Array,d.bymonth.push(1+d.month),d.byyearday=new Array,d.byyearday.push(d.day);else{d.month=b.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex"),d.bymonth=new Array,d.bymonth.push(1+d.month);var v=b.repeatDayOfWeek.jqxDropDownList("selectedIndex"),D=new Array;0==v?v=6:v--;var x=b.repeatDayOfWeekType.jqxDropDownList("selectedIndex"),w="";switch(x){case 0:w=1;break;case 1:w=2;break;case 2:w=3;break;case 3:w=4;break;case 4:w=-1}D.push([v,w]),d.bynweekday=D}d.freq="yearly",d.interval=h}t.rootAppointment?t.rootAppointment.recurrencePattern=d:l>0&&(t.recurrencePattern=d);var q={},j={};for(var k in r.appointmentDataFields){var A=r.appointmentDataFields[k],T=t[k];q[k]=T,"from"!=k&&"to"!=k||(T=T.toDate()),j[A]=T}return q.originalData=j,q.jqxAppointment=t,t.boundAppointment=q,!0}(t)},_setAppointmentPropertiesToDialog:function(t,i,r,n){var a=this;if(function(){var e=a.editDialogFields.repeatEndPanel;e.repeatEndNever.jqxRadioButton({checked:!0}),e.repeatEndAfter.jqxRadioButton({checked:!1}),e.repeatEndAfterValue.val(1),e.repeatEndOnValue.val(t);var t=r.toDate();if(a.editDialogFields.daily&&a.editDialogFields.daily.repeatDayInterval.val(1),a.editDialogFields.weekly){for(var i=a.editDialogFields.weekly,n=0;n<i.repeatDays.length;n++)1==n?i.repeatDays[n].jqxCheckBox({checked:!0}):i.repeatDays[n].jqxCheckBox({checked:!1});i.repeatWeekInterval.val(1)}if(a.editDialogFields.monthly){var o=a.editDialogFields.monthly;o.repeatDayOfWeek.jqxDropDownList("selectIndex",1),o.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),o.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),o.repeatMonthDayBool.jqxRadioButton({checked:!0}),o.repeatMonthDay.val(1),o.repeatMonth.val(1)}if(a.editDialogFields.yearly){var l=a.editDialogFields.yearly;l.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0),l.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),l.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),l.repeatDayOfWeek.jqxDropDownList("selectIndex",1),l.repeatYear.val(1),l.repeatYearMonth.jqxDropDownList("selectIndex",0),l.repeatYearDay.val(1),l.repeatYearBool.val(!0)}}(),t&&t.isRecurrentAppointment()?t.rootAppointment?a.editDialogFields.resetExceptionsContainer.hide():a.editDialogFields.resetExceptionsContainer.show():t&&(a.editDialogFields.resetExceptionsContainer.hide(),a.editDialogFields.repeat.jqxDropDownList("selectIndex",0)),!t)return a.editDialogFields.timeZone.jqxDropDownList("clearSelection"),n?a.editDialogFields.resource.val(n):a.editDialogFields.resource.jqxDropDownList("selectIndex",0),a.editDialogFields.allDay.val(!1),(a._views[a._view].type.indexOf("month")>=0||i&&i.equals(r)||r&&r.equals(e.jqx.scheduler.utilities.getEndOfDay(r)))&&a.editDialogFields.allDay.val(!0),a.editDialogFields.color.jqxDropDownList("clearSelection"),a.editDialogFields.description.val(""),a.editDialogFields.subject.val(""),void a.editDialogFields.repeat.jqxDropDownList("selectIndex",0);!function(e){t=e.recurrencePattern;if(e.rootAppointment)var t=e.rootAppointment.recurrencePattern;if(null!=t){var i=t.freq,r=0;"daily"==i&&(r=1),"weekly"==i&&(r=2),"monthly"==i&&(r=3),"yearly"==i&&(r=4);var n=a.editDialogFields.repeatEndPanel;switch(1e3!=t.count?(n.repeatEndNever.jqxRadioButton({checked:!1}),n.repeatEndAfter.jqxRadioButton({checked:!0}),n.repeatEndAfterValue.val(t.count)):9999!=t.to.year()?(n.repeatEndOn.jqxRadioButton({checked:!0}),n.repeatEndOnValue.val(t.to.toDate())):n.repeatEndNever.jqxRadioButton({checked:!0}),a.editDialogFields.repeat.jqxDropDownList("selectIndex",r),r){case 1:o=t.interval,a.editDialogFields.daily.repeatDayInterval.val(o);break;case 2:var o=t.interval,l=a.editDialogFields.weekly;l.repeatWeekInterval.val(o);for(var d=t.byweekday,s=0;s<7;s++)(c=l.repeatDays[s]).val(!1);for(s=0;s<d.length;s++){var c=d[s];6==c?l.repeatDays[0].val(!0):l.repeatDays[c+1].val(!0)}break;case 3:var u=a.editDialogFields.monthly;if(u.repeatMonth.val(t.interval),t.bymonthday&&t.bymonthday.length>0)u.repeatMonthDayBool.jqxRadioButton({checked:!0}),u.repeatMonthDay.val(t.day);else{switch(u.repeatDayOfWeekBool.jqxRadioButton({checked:!0}),y=(p=t.bynweekday)[0][0],7==++y&&(y=0),u.repeatDayOfWeek.jqxDropDownList("selectIndex",y),m="",g=p[0][1]){case 1:m=0;break;case 2:m=1;break;case 3:m=2;break;case 4:m=3;break;case-1:m=4}u.repeatDayOfWeekType.jqxDropDownList("selectIndex",m)}break;case 4:var h=a.editDialogFields.yearly;if(t.byyearday&&t.byyearday.length>0&&(h.repeatYearDay.val(t.byyearday[0]),h.repeatYearBool.val(!0)),t.bymonth&&t.bymonth.length>0&&(h.repeatYearMonth.val(t.bymonth[0]),h.repeatYearBool.val(!0)),!t.byyearday||t.byyearday&&0==t.byyearday.length){h.repeatDayOfWeekMonth.val(t.bymonth[0]),h.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var p=t.bynweekday,y=p[0][0];7==++y&&(y=0),h.repeatDayOfWeek.jqxDropDownList("selectIndex",y);var g=p[0][1],m="";switch(g){case 1:m=0;break;case 2:m=1;break;case 3:m=2;break;case 4:m=3;break;case-1:m=4}h.repeatDayOfWeekType.jqxDropDownList("selectIndex",m)}}}}(t)}}),e.jqx.scheduler.column=function(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="center",this.cellsalign="center",this.width="auto",this.minwidth=60,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var n in i)if(!r.hasOwnProperty(n)&&!r.hasOwnProperty(n.toLowerCase()))throw t.host.remove(),new Error("jqxScheduler: Invalid property name - "+n+".")}},this._initfields(i),this},e.jqx.schedulerDataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&void 0!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.scheduler.dataView=function(t){return this.that=this,this.scheduler=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(i,r){l=this;if(e.isArray(i))l.update(i);else{var n=!!i._source,a=null;this._sortData=null,this._sortHierarchyData=null,n?(a=i,i=i._source):a=new e.jqx.dataAdapter(i,{autoBind:!1});var o=function(e){e.originaldata=a.originaldata,e.records=a.records,e.hierarchy=a.hierarchy,e.scheduler.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,a.hierarchy=new Array),a._source.totalrecords?e.totalrecords=a._source.totalrecords:a._source.totalRecords?e.totalrecords=a._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=a.cachedrecords};!function(e){a.recordids=[],a.records=new Array,a.cachedrecords=new Array,a.originaldata=new Array,a._options.totalrecords=e.totalrecords,a._options.originaldata=e.originaldata,a._options.recordids=e.recordids,a._options.cachedrecords=new Array,a._options.pagenum=e.pagenum,a._options.pageable=e.pageable,void 0!=i.type&&(a._options.type=i.type),void 0!=i.formatdata&&(a._options.formatData=i.formatdata),void 0!=i.contenttype&&(a._options.contentType=i.contenttype),void 0!=i.async&&(a._options.async=i.async),void 0!=i.updaterow&&(a._options.updaterow=i.updaterow),void 0!=i.addrow&&(a._options.addrow=i.addrow),void 0!=i.deleterow&&(a._options.deleterow=i.deleterow),0==e.pagesize&&(e.pagesize=10),a._options.pagesize=e.pagesize}(this),this.source=i,void 0!==r&&(uniqueId=r);var l=this;switch(i.datatype){case"local":case"array":default:null==i.localdata&&(i.localdata=[]),null!=i.localdata&&(a.unbindBindingUpdate(t+l.scheduler.element.id),(!l.scheduler.autoBind&&l.scheduler.isInitialized||l.scheduler.autoBind)&&a.dataBind(),(c=function(){o(l),l.update(a.records)})(),a.bindBindingUpdate(t+l.scheduler.element.id,c));break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=i.localdata)return a.unbindBindingUpdate(t+l.scheduler.element.id),(!l.scheduler.autoBind&&l.scheduler.isInitialized||l.scheduler.autoBind)&&a.dataBind(),(c=function(e){o(l),l.update(a.records)})(),void a.bindBindingUpdate(t+l.scheduler.element.id,c);var d={},s=a._options.data;a._options.data?e.extend(a._options.data,d):(i.data&&e.extend(d,i.data),a._options.data=d);var c=function(){var t=function(){o(l),l.update(a.records)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()};a.unbindDownloadComplete(t+l.scheduler.element.id),a.bindDownloadComplete(t+l.scheduler.element.id,c),a._source.loaderror=function(e,t,i){c()},(!l.scheduler.autoBind&&l.scheduler.isInitialized||l.scheduler.autoBind)&&a.dataBind(),a._options.data=s}}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this._compare=function(t,i,r){var i=i;if(void 0===(t=t)&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){if(this.scheduler.serverProcessing)return e;var t=new Array;if(this.filters.length){var i=new Array,r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];n._visible=!0;for(var a=void 0,o=0;o<this.filters.length;o++){var l=this.filters[o].filter,d=n[this.filters[o].datafield],s=l.evaluate(d);a=void 0==a?s:"or"==l.operator?a||s:a&&s}n._visible=!1,(a||n.aggregate)&&(n._visible=!0,t.push(n),i[n.uid]=n)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.scheduler.source.hierarchy&&this.scheduler.source.hierarchy.length>0){var n=new Array,a=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];n.push(r),r.records&&r.records.length>0&&a(r,r.records)}};a(null,e),r.call(this,n,t);for(var o=0;o<t.length;o++)for(var l=t[o];l.parent;){var d=l.parent;i[d.uid]||(d._visible=!0,i[d.uid]=d),l=d}t=e}else r.call(this,e,t);this._filteredData=t,this.rows=t}}else this.rows=e;return this.rows},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&void 0!=t&&this.rows.length>0){null==(a=this.rows[this.rows.length-1][t])&&(a=null);for(l=1;l<=100;l++)if(!(o=this.scheduler.appointmentsByKey[l+a])){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(o=this.scheduler.appointmentsByKey["jqx"+a+l])continue;return"jqx"+a+l}return a+l}}if(void 0!=t&&t.toString().length>0){var n=e(i).attr(t);if(null!=n&&n.toString().length>0)return this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords?"jqx"+n:n}if(this.rows&&this.rows.length>0&&(o=this.scheduler.appointmentsByKey[r])){var a=this.rows[this.rows.length-1][t];null==a&&(a="");for(l=1;l<=1e3;l++)if(!(o=this.scheduler.appointmentsByKey[l+a])){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(o=this.scheduler.appointmentsByKey["jqx"+a+l])continue;return"jqx"+a+l}return a+l}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var o=this.scheduler.appointmentsByKey["jqx"+r];if(!o)return"jqx"+r;for(var l=r+1;l<=100;l++)if(!(o=this.scheduler.appointmentsByKey["jqx"+l])){if(o=this.scheduler.appointmentsByKey["jqx"+l])continue;return"jqx"+l}}return r},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework);

