/*
jQWidgets v5.1.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){"use strict";e.jqx.jqxWidget("jqxRibbon","",{}),e.extend(e.jqx._jqxRibbon.prototype,{defineInstance:function(){var t={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===e.jqx._jqxRibbon.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;"none"!==t.host.css("display")&&!1!==document.body.contains(t.element)||(t._initiallyHidden=!0),t._browser=e.jqx.browser,"popup"!==t.mode&&-1===t.selectedIndex&&(t.selectedIndex=0),t._originalHTML=t.element.innerHTML,t._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(t){var o=this;o._items[t]._disabled=!0,e(o._items[t]).addClass(o.toThemeProperty("jqx-fill-state-disabled")),t===o.selectedIndex&&o._clearSelection()},enableAt:function(t){var o=this;o._items[t]._disabled=!1,e(o._items[t]).removeClass(o.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){var t=this;t._items[e].style.display="none",t._checkScrollButtons(),e===t.selectedIndex?t._clearSelection():t._updatePositions()},showAt:function(e){var t=this;"horizontal"===t._orientation?t._items[e].style.display="inline-block":t._items[e].style.display="inherit",t._checkScrollButtons(),t._updatePositions()},val:function(e){var t=this;if(!e)return t.selectedIndex;t._selectAt(e)},addAt:function(t,o){var n=this,i="jqx-ribbon-item jqx-ribbon-item-"+n.position,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+n.position;n._removeHandlers();var s=document.createElement("li");s.innerHTML=o.title;var a=document.createElement("div");if("string"==typeof o.content)a.innerHTML=o.content;else if(void 0!==o.content.length)try{if(void 0!==jQuery&&o.content instanceof jQuery)e(a).append(o.content);else if(e.isArray(o.content))for(var l=0;l<o.content.length;l++)o.content[l].appendTo(a);else for(;o.content.length>0;)a.appendChild(o.content[0])}catch(e){}else a.appendChild(o.content);switch(n.position){case"top":i+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":i+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":i+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":i+=" jqx-rc-r",r+=" jqx-rc-l"}"popup"===n.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+n._orientation+"-popup"),!0===n.rtl&&(i+=" jqx-ribbon-item-rtl"),s.className=n.toThemeProperty(i),a.className=n.toThemeProperty(r),n._items.length-1>=t?(n._headerElement.insertBefore(s,n._items[t]),n._contentElement.insertBefore(a,n._contentSections[t])):(n._headerElement.appendChild(s),n._contentElement.appendChild(a)),n._updateItems(),n._addHandlers(),n._checkScrollButtons(),t<=n.selectedIndex&&n.selectedIndex<n._items.length-1&&n.selectedIndex++,n._updatePositions(),n.selectedIndex<0||(n._suppressSelectionEvents=!0,n._selectAt(n.selectedIndex,n.selectedIndex,!0))},removeAt:function(t){var o=this;t===o.selectedIndex&&o._clearSelection(),e(o._items[t]).remove(),e(o._contentSections[t]).remove(),o._updateItems(!0),o._updatePositions(),o._checkScrollButtons()},updateAt:function(e,t){var o=this,n=o._items[e];n.innerHTML=t.newTitle,o._contentSections[e].innerHTML=t.newContent,n._isInitialized=!1,o.initContent&&e===o.selectedIndex&&(o.initContent(e),n._isInitialized=!0),o._updatePositions()},setPopupLayout:function(e,t,o,n){var i=this,r=i._contentSections[e];"popup"===i.mode&&(r.getAttribute("data-width")||(r.style.width&&r.setAttribute("data-width",r.style.width),r.style.height&&r.setAttribute("data-height",r.style.height)),o&&(r.style.width=i._toPx(o)),n&&(r.style.height=i._toPx(n)),r._layout=t,i._positionContent(e))},propertiesChangedHandler:function(e,t,o){o&&o.width&&o.height&&2===Object.keys(o).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(t,o,n,i){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)&&i!==n)switch(o){case"width":case"height":t.element.style[o]=t._toPx(i),t._updateSize();break;case"position":t._render();break;case"mode":t._contentElement.style.width="auto",t._removeHandlers(null,n),t._render();break;case"selectedIndex":t._selectAt(i,n);break;case"selectionMode":t._removeHandlers(n),t._addHandlers();break;case"scrollPosition":var r=t._scrollButtonNear,s=t._scrollButtonFar;e(r).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+n+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),e(s).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+n+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),r.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+i),s.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+i),t._scrollButtonRc(r,s),t._checkScrollButtons(),t._updatePositions();break;case"disabled":!0===i?(t._removeHandlers(),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._addHandlers());break;case"theme":e.jqx.utilities.setTheme(n,i,t.host);break;case"rtl":if(!0===i){t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-rtl");for(var a=0;a<t._items.length;a++)t._items[a].className+=" "+t.toThemeProperty("jqx-ribbon-item-rtl")}else{t._header.removeClass(t.toThemeProperty("jqx-ribbon-header-rtl"));for(var l=0;l<t._items.length;l++)e(t._items[l]).removeClass(t.toThemeProperty("jqx-ribbon-item-rtl"))}t._positionSelectionToken(t.selectedIndex)}},_raiseEvent:function(t,o){var n=this.events[t],i=new e.Event(n);i.owner=this,i.args=o;var r;try{r=this.host.trigger(i)}catch(e){}return r},_render:function(t){var o=this;switch(!0!==t&&o._removeHandlers(),o._selectionTokenOffsetY=0,o._browser.browser){case"mozilla":o._browserWidthRtlFlag=0,o._browserScrollRtlFlag=1,o._selectionTokenOffsetX=1;break;case"msie":o._browserWidthRtlFlag=0,o._browserScrollRtlFlag=-1,"8.0"===o._browser.version?o._selectionTokenOffsetX=1:"7.0"===o._browser.version?(o._selectionTokenOffsetX=0,"popup"!==o.mode||"bottom"!==o.position&&"right"!==o.position||(o._selectionTokenOffsetY=2)):o._selectionTokenOffsetX=0;break;default:o._browserWidthRtlFlag=1,o._browserScrollRtlFlag=1,o._selectionTokenOffsetX=0}if(!0===t){var n=o.host.children();o._headerElement=n[0],o._header=e(n[0]),o._contentElement=n[1],o._content=e(n[1]),o._checkStructure(n)}o._headerElement.style.float="none",o._contentElement.style.padding="0px",o.element.style.width=o._toPx(o.width),o.element.style.height=o._toPx(o.height),"bottom"!==o.position&&"right"!==o.position||o.element.insertBefore(o._contentElement,o._headerElement),"top"===o.position||"bottom"===o.position?o._orientation="horizontal":o._orientation="vertical","right"===o.position?o._headerElement.style.float="right":"left"===o.position&&(o._headerElement.style.float="left"),o._contentSections=o._content.children(),e.each(o._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===t&&(o._selectionToken=document.createElement("div"),o._selectionToken.className=o.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+o.position),o.element.appendChild(o._selectionToken)),o._updateItems(),!0!==o._initiallyHidden&&o._addClasses(),!0===t&&(o._appendScrollButtons(),o._checkScrollButtons()),o._allowSelection=!0,-1!==o.selectedIndex&&(o._items[o.selectedIndex].className+=" "+o.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),o._positionSelectionToken(o.selectedIndex),o._contentSections[o.selectedIndex].style.display="block",o.initContent&&(o.initContent(o.selectedIndex),o._items[o.selectedIndex]._isInitialized=!0)),o.disabled?o.element.className+=" "+o.toThemeProperty("jqx-fill-state-disabled"):o._addHandlers(),e.jqx.utilities.resize(o.host,function(){o._initiallyHidden&&(o._initiallyHidden=!1,o._addClasses(),-1!==o.selectedIndex&&(o._items[o.selectedIndex].className+=" "+o.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),o._updateSize(!0)})},_updateSize:function(e){var t=this;if("7.0"===t._browser.version&&"msie"===t._browser.browser)if("horizontal"===t._orientation)t._header.css("width",t.host.width()-parseInt(t._header.css("padding-left"),10)-parseInt(t._header.css("padding-right"),10)-parseInt(t._header.css("border-left-width"),10)-parseInt(t._header.css("border-right-width"),10)),t._contentSections.width(t._content.width()-parseInt(t._contentSections.css("border-left-width"),10)-parseInt(t._contentSections.css("border-right-width"),10)-parseInt(t._contentSections.css("padding-left"),10)-parseInt(t._contentSections.css("padding-right"),10)),"default"===t.mode&&"string"==typeof t.height&&-1!==t.height.indexOf("%")&&t._contentSections.height(t._content.height()-t._header.height()-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("border-top-width"),10)-1);else if(t._header.css("height",t.host.height()-parseInt(t._header.css("padding-top"),10)-parseInt(t._header.css("padding-bottom"),10)-parseInt(t._header.css("border-top-width"),10)-parseInt(t._header.css("border-bottom-width"),10)),t._contentSections.height(t._content.height()-parseInt(t._contentSections.css("border-top-width"),10)-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("padding-top"),10)-parseInt(t._contentSections.css("padding-bottom"),10)),"default"===t.mode&&"string"==typeof t.width&&-1!==t.height.indexOf("%")){var o="left"===t.position?parseInt(t._contentSections.css("border-left-width"),10)+parseInt(t._contentSections.css("border-right-width"),10)+1:0;t._contentSections.width(t._content.width()-t._header.width()-o)}t._checkScrollButtons(!0),t._updatePositions(void 0,e),"popup"===t.mode&&t._positionPopup()},_stopAnimation:function(){var t=this;if(!t._allowSelection){t.selectedIndex=t._animatingIndex;var o=e(t._contentSections[t._animatingIndex]);t._initAnimate(o),o.animate("finish"),t._clearSelection(!0,t._animatingIndex),t._allowSelection=!0}},_selectAt:function(t,o,n){var i=this;if(void 0===o&&(o=i.selectedIndex),(t!==o||!0===n)&&(i._stopAnimation(),i._allowSelection)){if(i._animatingIndex=t,-1!==i.selectedIndex&&i._clearSelection(!0,o),i._allowSelection=!1,i._selecting=t,"click"===i.selectionMode&&e(i._items[t]).removeClass(i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===i.mode&&i._roundedCorners){i._header.removeClass(i.toThemeProperty("jqx-rc-all"));var r,s;switch(i.position){case"top":r="jqx-rc-t",s="jqx-rc-b";break;case"bottom":r="jqx-rc-b",s="jqx-rc-t";break;case"left":r="jqx-rc-l",s="jqx-rc-r";break;case"right":r="jqx-rc-r",s="jqx-rc-l"}i._headerElement.className+=" "+i.toThemeProperty(r);for(var a=0;a<i._items.length;a++)i._items[a].className+=" "+i.toThemeProperty(r),i._contentSections[a].className+=" "+i.toThemeProperty(s)}i._items[t].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),i._selectionToken.style.display="block",i._updatePositions(t);var l;switch(i.animationType){case"fade":l=e(i._contentSections[t]),i._initAnimate(l),"none"===l.css("display")?l.fadeIn({duration:i.animationDelay,complete:function(){i._animationComplete(t,o)}}):l.fadeOut({duration:i.animationDelay,complete:function(){i._animationComplete(t,o)}});break;case"slide":l=e(i._contentSections[t]);var c=i.position;"top"===c?c="up":"bottom"===c&&(c="down"),i.slideAnimation=i._slide(l,{mode:"show",direction:c,duration:i.animationDelay},t,o);break;case"none":i._contentSections[t].style.display="block",i._animationComplete(t,o)}}},_clearSelection:function(t,o){var n=this;if("popup"===n.mode&&n._roundedCorners&&(n._headerElement.className+=" "+n.toThemeProperty("jqx-rc-all")),n._selecting=-1,void 0===o&&(o=n.selectedIndex),e(n._items[o]).removeClass(n.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),n._selectionToken.style.display="none",!0!==t&&"none"!==n.animationType){var i=e(n._contentSections[o]);if("fade"===n.animationType)n._initAnimate(i),i.fadeOut({duration:n.animationDelay,complete:function(){n._clearSelectionComplete(o)}});else if("slide"===n.animationType){var r=n.position;"top"===r?r="up":"bottom"===r&&(r="down"),n._stopAnimation(),o=n.selectedIndex,n.slideAnimation=n._slide(i,{mode:"hide",direction:r,duration:n.animationDelay},o),n.selectedIndex=-1}}else{if(-1===o)return;n._contentSections[o].style.display="none",n._clearSelectionComplete(o,t)}},_addHandlers:function(){var t,o=this,n=o.element.id,i=!1,r=function(t){if("click"===o.popupCloseMode&&"popup"===o.mode&&-1!==o.selectedIndex){if("svg"===t.target.tagName)return;var i=o._closest(t.target,void 0,"jqx-ribbon");if(void 0!==i&&i.getAttribute("id")!==n)return void o._clearSelection();if(void 0===t.target.className||-1!==t.target.className.indexOf("jqx-ribbon-content-popup"))return void o._clearSelection();if(e(t.target).ischildof(o.host))return;var r=!1,s=[],a=function(e){e.parentElement&&(s.push(e.parentElement),a(e.parentElement))};a(t.target),e.each(s,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return r=!0,!1;if(-1!==this.className.indexOf("jqx-ribbon"))return n===this.id&&(r=!0),!1}}),r||o._clearSelection()}};if("click"===o.selectionMode){for(var s=function(e){return(o._selecting!==e&&!1===o._allowSelection||(-1===o._selecting||o.selectedIndex!==e)&&!0===o._allowSelection)&&!o._items[e]._disabled},a=0;a<o._items.length;a++){var l=o._items[a];o.addHandler(l,"click.ribbon"+n,function(e){var t=o._closest(e.target,"li"),n=t._index;o._items[n]._disabled||(n!==o.selectedIndex?o._selectAt(n):"popup"===o.mode&&"none"!==o.popupCloseMode&&(t.className+=" "+o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),o._clearSelection()))}),o.addHandler(l,"mouseenter.ribbon"+n,function(n){if(!0===o.reorder&&!0===i){for(var r=o._closest(n.target,"li")._index,a=o._items[t].innerHTML,l=o._contentSections[t].childNodes,c=[];l.length>0;)c.push(e(l[0]).detach());o._suppressSelectionEvents=!0,o._oldReorderIndex=t,o.removeAt(t),o.clearSelection(),o.addAt(r,{title:a,content:c}),o.selectAt(r),setTimeout(function(){e(o._items[r]).trigger("mousedown")},0)}else{var d=o._closest(n.target,"li");s(d._index)&&(d.className+=" "+o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}),o.addHandler(l,"mouseleave.ribbon"+n,function(t){var n=o._closest(t.target,"li");s(n._index)&&e(n).removeClass(o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}),o.addHandler(l,"mousedown.ribbon"+n,function(e){if("#document"!==e.target.nodeName){var n=o._closest(e.target,"li");!0!==o.reorder&&!0!==o._removeByDrag||n._index!==o.selectedIndex||(i=!0,t=n._index,n.style.cursor="move")}})}if("popup"===o.mode){o.addHandler(o.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});for(var c=0;c<o._contentSections.length;c++)o.addHandler(o._contentSections[c],"mouseleave.ribbon"+n,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});o.addHandler(e(document),"mousedown.ribbon"+n,function(e){r(e)})}if(!0===o._removeByDrag)for(var d=0;d<o._items.length;d++)o._items[d].className+=" "+o.toThemeProperty("jqx-ribbon-item-docking-layout");o.addHandler(document,"mouseup.ribbon"+n,function(){i=!1;for(var e=0;e<o._items.length;e++)o._items[e].style.cursor=""}),o.addHandler(o._header,"mouseleave.ribbon"+n,function(e){!0===o._removeByDrag&&!0===i&&(o._raiseEvent("3",{draggedIndex:t,x:e.pageX,y:e.pageY}),o._items.length>1&&o.removeAt(t),i=!1,e.target.style.cursor="")})}else if("hover"===o.selectionMode){for(var h=0;h<o._items.length;h++){var _=o._items[h];o.addHandler(_,"mouseenter.ribbon"+n,function(e){var t=o._closest(e.target,"li")._index;o._items[t]._disabled||t===o.selectedIndex||o._selectAt(t)}),"popup"===o.mode&&o.addHandler(_,"click.ribbon"+n,function(e){var t=o._closest(e.target,"li")._index;o._items[t]._disabled||"popup"===o.mode&&"none"!==o.popupCloseMode&&o._clearSelection()})}if("popup"===o.mode){o.addHandler(o.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});for(var m=0;m<o._contentSections.length;m++)o.addHandler(o._contentSections,"mouseleave.ribbon"+n,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});o.addHandler(e(document),"mousedown.ribbon"+n,function(e){r(e)})}}var p,b;e.jqx.mobile.isTouchDevice()?(p="touchstart",b="touchend"):(p="mousedown",b="mouseup"),o.addHandler(o._scrollButtonNear,p+".ribbon"+n,function(){return"horizontal"===o._orientation?o._timeoutNear=setInterval(function(){var e=o._headerElement.scrollLeft,t=o.rtl&&"msie"===o._browser.browser?-1:1;o._headerElement.scrollLeft=e-o.scrollStep*t,o._updatePositions()},o.scrollDelay):o._timeoutNear=setInterval(function(){var e=o._headerElement.scrollTop;o._headerElement.scrollTop=e-o.scrollStep,o._updatePositions()},o.scrollDelay),!1}),o.addHandler(o._scrollButtonFar,p+".ribbon"+n,function(){return"horizontal"===o._orientation?o._timeoutFar=setInterval(function(){var e=o._headerElement.scrollLeft,t=o.rtl&&"msie"===o._browser.browser?-1:1;o._headerElement.scrollLeft=e+o.scrollStep*t,o._updatePositions()},o.scrollDelay):o._timeoutFar=setInterval(function(){var e=o._headerElement.scrollTop;o._headerElement.scrollTop=e+o.scrollStep,o._updatePositions()},o.scrollDelay),!1}),o.addHandler(e(document),b+".ribbon"+n,function(){clearInterval(o._timeoutNear),clearInterval(o._timeoutFar)})},_removeHandlers:function(t,o){var n=this,i=n.element.id;t||(t=n.selectionMode),o||(o=n.mode);for(var r=0;r<n._items.length;r++){var s=n._items[r];n.removeHandler(s,"mouseenter.ribbon"+i),"click"===t&&(n.removeHandler(s,"click.ribbon"+i),n.removeHandler(s,"mouseleave.ribbon"+i),n.removeHandler(s,"mousedown.ribbon"+i))}"click"===t?(n.removeHandler(document,"mouseup.ribbon"+i),n.removeHandler(n._header,"mouseleave.ribbon"+i)):"hover"===t&&"popup"===o&&n.removeHandler(n.host,"mouseleave.ribbon"+i);var a,l;e.jqx.mobile.isTouchDevice()?(a="touchstart",l="touchend"):(a="mousedown",l="mouseup"),n.removeHandler(n._scrollButtonNear,a+".ribbon"+i),n.removeHandler(n._scrollButtonFar,a+".ribbon"+i),n.removeHandler(e(document),l+".ribbon"+i)},_checkStructure:function(e){var t=this;if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");if(t._header.children().length!==t._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var t=this,o="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+t.position,n="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+t._orientation,i="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+t._orientation,r="jqx-ribbon-item jqx-ribbon-item-"+t.position;if(t._content.removeClass(),t._header.removeClass(t.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+t._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),t.host.removeClass(),t._roundedCorners)switch(t.position){case"top":i+=" jqx-rc-t",r+=" jqx-rc-t",o+=" jqx-rc-b";break;case"bottom":i+=" jqx-rc-b",r+=" jqx-rc-b",o+=" jqx-rc-t";break;case"left":i+=" jqx-rc-l",r+=" jqx-rc-l",o+=" jqx-rc-r";break;case"right":i+=" jqx-rc-r",r+=" jqx-rc-r",o+=" jqx-rc-l"}else switch(t.position){case"top":r+=" jqx-rc-t";break;case"bottom":r+=" jqx-rc-b";break;case"left":r+=" jqx-rc-l";break;case"right":r+=" jqx-rc-r"}!0===t.rtl&&(i+=" jqx-ribbon-header-rtl",r+=" jqx-ribbon-item-rtl"),t.element.className+=" "+t.toThemeProperty("jqx-widget jqx-ribbon"),t._headerElement.className+=" "+t.toThemeProperty(i),t._contentElement.className+=" "+t.toThemeProperty(n);for(var s=0;s<t._items.length;s++){var a=e(t._contentSections[s]),l=e(t._items[s]);a.removeClass(),l.removeClass(t.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+t.position)),"popup"===t.mode&&(o+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+t.position+" jqx-ribbon-content-section-"+t._orientation+"-popup"),t._contentSections[s].className+=" "+t.toThemeProperty(o),t._items[s].className+=" "+t.toThemeProperty(r)}var c,d;if("popup"===t.mode?(-1===t.selectedIndex&&t._roundedCorners&&(t.element.className+=" "+t.toThemeProperty("jqx-rc-all"),t._headerElement.className+=" "+t.toThemeProperty("jqx-rc-all")),t.element.className+=" "+t.toThemeProperty("jqx-ribbon-popup"),t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-"+t._orientation+"-popup"),t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-popup"),t._positionPopup()):"horizontal"===t._orientation?"auto"!==t.height?(d=t._headerElement.offsetHeight,"top"===t.position?t._contentElement.style.paddingTop=t._toPx(d):t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-bottom")):t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===t._orientation&&("auto"!==t.width?(c=t._headerElement.offsetWidth,"left"===t.position?t._contentElement.style.paddingLeft=t._toPx(c):(t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-right"),t._contentElement.style.paddingRight=t._toPx(c))):(t.element.className+=" "+t.toThemeProperty("jqx-ribbon-auto"),t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-auto"),t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-auto-width"))),"7.0"===t._browser.version&&"msie"===t._browser.browser)if("horizontal"===t._orientation)t._header.css("width",t.host.width()-parseInt(t._header.css("padding-left"),10)-parseInt(t._header.css("padding-right"),10)-parseInt(t._header.css("border-left-width"),10)-parseInt(t._header.css("border-right-width"),10)),t._items.height(t._items.height()-parseInt(t._items.css("padding-top"),10)-parseInt(t._items.css("padding-bottom"),10)-parseInt(t._items.css("border-top-width"),10)-parseInt(t._items.css("border-bottom-width"),10)),t._contentSections.width(t._contentSections.width()-parseInt(t._contentSections.css("border-left-width"),10)-parseInt(t._contentSections.css("border-right-width"),10)-parseInt(t._contentSections.css("padding-left"),10)-parseInt(t._contentSections.css("padding-right"),10)),"default"===t.mode&&"auto"!==t.height&&("top"===t.position?t._contentSections.css("padding-top",d):t._contentSections.css("padding-bottom",d),t._content.css("height",t.host.height()+2),t._contentSections.css("height",t._content.height()-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("border-top-width"),10)-1));else{var h;"left"===t.position?(t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-left"),h=parseInt(t._contentSections.css("border-left-width"),10)+parseInt(t._contentSections.css("border-right-width"),10)+1):(t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-right"),h=0),t._header.css("height",t.host.height()-parseInt(t._header.css("padding-top"),10)-parseInt(t._header.css("padding-bottom"),10)-parseInt(t._header.css("border-top-width"),10)-parseInt(t._header.css("border-bottom-width"),10)),t._items.width(t._items.width()-parseInt(t._items.css("padding-left"),10)-parseInt(t._items.css("padding-right"),10)-parseInt(t._items.css("border-left-width"),10)-parseInt(t._items.css("border-right-width"),10)),t._contentSections.height(t._contentSections.height()-parseInt(t._contentSections.css("border-top-width"),10)-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("padding-top"),10)-parseInt(t._contentSections.css("padding-bottom"),10)),"default"===t.mode&&"auto"!==t.width&&("left"===t.position?t._contentSections.css("padding-left",c):t._contentSections.css("padding-right",c),t._contentSections.width(t._content.width()-t._header.width()-h))}},_positionPopup:function(){var e=this,t="7.0"===e._browser.version&&"msie"===e._browser.browser;switch(e.position){case"top":e._contentElement.style.top=e._toPx(e._headerElement.offsetHeight);break;case"bottom":e._contentElement.style.bottom=t?e._toPx(e._height(e._headerElement)):e._toPx(e._headerElement.offsetHeight);break;case"left":e._contentElement.style.left=e._toPx(e._headerElement.offsetWidth);break;case"right":e._contentElement.style.right=e._header.outerWidth()+"px"}},_appendScrollButtons:function(){function e(e,o,n){e.className=t.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+t.position+" jqx-ribbon-scrollbutton-"+t.scrollPosition+" jqx-widget-header "+o),e.innerHTML='<div class="'+t.toThemeProperty("jqx-ribbon-scrollbutton-inner "+n)+'"></div>',"horizontal"===t._orientation?e.style.height=t._toPx(t._height(t._headerElement)):e.style.width=t._toPx(t._width(t._headerElement)),t.element.appendChild(e)}var t=this,o="horizontal"===t._orientation?["left","right"]:["up","down"],n=document.createElement("div");e(n,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+o[0]);var i=document.createElement("div");if(e(i,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+o[1]),t._scrollButtonRc(n,i),t._scrollButtonNear=n,t._scrollButtonFar=i,t.roundedCorners)switch(t.position){case"top":case"bottom":n.style.marginLeft="-1px",i.style.marginRight="-1px";break;case"right":case"left":n.style.marginTop="-1px",i.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){var o=this;if(o.roundedCorners)switch(o.position){case"top":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-bl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tr")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){o._items[n]._index===o.selectedIndex&&(o.selectedIndex=n)}var o=this;o._items=o._header.children(),o._contentSections=o._content.children();for(var n=0;n<o._items.length;n++){var i=o._items[n];i.setAttribute("unselectable","on"),void 0===i._index&&(i._disabled=!1,i._isInitialized=!1,o._contentSections[n]._layout="default"),!0===e&&t(),i._index=n,!0!==e&&t(),o._contentSections[n]&&(o._contentSections[n]._index=n)}},_positionContent:function(t){var o,n,i,r,s,a,l=this,c=l._contentSections[t];"horizontal"===l._orientation?(o=l.element.offsetWidth,n=l.host.offset().left,i=l._items[t].offsetWidth,r=e(l._items[t]).offset().left,s=c.offsetWidth||parseInt(c.style.width,10),a="left"):(o=l.element.offsetHeight,n=l.host.offset().top,i=l._items[t].offsetHeight,r=e(l._items[t]).offset().top,s=c.offsetHeight||parseInt(c.style.height,10),a="top");var d=function(e){e<0?e=0:e+s>o&&(e=o-s),c.style[a]=l._toPx(e)};switch(c._layout){case"near":d(r-n);break;case"far":d(r-n-(s-i));break;case"center":d(r-n-(s-i)/2);break;default:if("right"===l.position)for(var h=0;h<l._contentSections.length;h++)l._contentSections[h].style.right="1px";else c.style[a]=""}},_checkScrollButtons:function(t){var o=this,n=0;e.each(o._items,function(){var t=e(this);"none"!==t.css("display")&&(n+="horizontal"===o._orientation?t.outerWidth(!0):t.outerHeight(!0))});var i="horizontal"===o._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],r="horizontal"===o._orientation?o._width(o._headerElement):o._height(o._headerElement);if(o._itemMargins||(o._itemMargins=[],o._itemMargins.push(e(o._items[0]).css(i[0])),o._itemMargins.push(e(o._items[o._items.length-1]).css(i[1]))),n>r){o._scrollButtonNear.style.display="block",o._scrollButtonFar.style.display="block";var s=o.rtl?o._itemMargins[0]:17,a=o.rtl?o._itemMargins[0]:17;switch(o.scrollPosition){case"near":a=0,s=34;break;case"far":a=34,s=17}o._items[0]&&(o._items[0].style[i[0]]=o._toPx(s)),o._items[o._items.length-1]&&(o._items[o._items.length-1].style[i[1]]=o._toPx(a))}else o._items[0]&&(o._items[0].style[i[0]]=o._toPx(o._itemMargins[0])),o._items[o._items.length-1]&&(o._items[o._items.length-1].style[i[1]]=o._toPx(o._itemMargins[1])),o._scrollButtonNear.style.display="none",o._scrollButtonFar.style.display="none";if(!0===t)if("horizontal"===o._orientation){var l=o._toPx(o._height(o._headerElement));o._scrollButtonNear.style.height=l,o._scrollButtonFar.style.height=l}else{var c=o._toPx(o._width(o._headerElement));o._scrollButtonNear.style.width=c,o._scrollButtonFar.style.width=c}},_positionSelectionToken:function(t){var o=this;if(-1!==t){var n=e(o._items[t]);if(0===n.length)return;var i,r,s,a,l;if("horizontal"===o._orientation){var c,d;!0===o.rtl?(c=1===o._browserWidthRtlFlag?o._headerElement.scrollWidth-o._headerElement.clientWidth:0,d=o._browserScrollRtlFlag):(c=0,d=1),s=n[0].offsetLeft+c-o._headerElement.scrollLeft*d-o._selectionTokenOffsetX+2,l=o._headerElement.offsetHeight-1;var h=o._width(n[0])+parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10);"top"===o.position?(i=l-o._selectionTokenOffsetY,r=""):(i="",r=l-o._selectionTokenOffsetY),o._selectionToken.style.top=o._toPx(i),o._selectionToken.style.bottom=o._toPx(r),o._selectionToken.style.left=o._toPx(s),o._selectionToken.style.width=o._toPx(h)}else{i=n[0].offsetTop-o._headerElement.scrollTop-o._selectionTokenOffsetX+2,l=o._headerElement.offsetWidth-1;var _=o._height(n[0])+parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10);"left"===o.position?(s=l-o._selectionTokenOffsetY,a=""):(s="",a=l-o._selectionTokenOffsetY),o._selectionToken.style.top=o._toPx(i),o._selectionToken.style.left=o._toPx(s),o._selectionToken.style.right=o._toPx(a),o._selectionToken.style.height=o._toPx(_)}}},_updatePositions:function(e,t){var o=this;if(isNaN(e)&&(e=!0===t&&null!==o._selecting&&o._selecting>=0?o._selecting:o.selectedIndex),-1!==e&&(o._positionSelectionToken(e),"popup"===o.mode&&"default"!==o._contentSections[e]._layout&&o._positionContent(e),"popup"===o.mode&&("left"===o.position||"right"===o.position))){o._contentElement.style.width="auto";var n=o._contentSections[e].style.width&&o._contentSections[e].style.width.indexOf("%")>=0;o._contentElement.style.width=n?o._toPx(o._width(o._contentSections[e])-o._width(o._headerElement)):o._toPx(o._width(o._contentSections[e]))}},_animationComplete:function(e,t){var o=this,n=-1!==t?t:null;o._contentElement.style.pointerEvents="auto",!0!==o._suppressSelectionEvents?(o._raiseEvent("0",{selectedIndex:e}),o._raiseEvent("2",{unselectedIndex:n,selectedIndex:e})):(!0!==o._suppressReorder&&void 0!==o._oldReorderIndex&&e!==o._oldReorderIndex&&o._raiseEvent("4",{newIndex:e,oldIndex:o._oldReorderIndex}),o._suppressSelectionEvents=!1,o._suppressReorder=!1),o.selectedIndex=e,o.initContent&&!1===o._items[e]._isInitialized&&(o.initContent(e),o._items[e]._isInitialized=!0),o._allowSelection=!0,o._selecting=null},_clearSelectionComplete:function(e,t){var o=this;o._selecting=null,void 0===e&&(e=o.selectedIndex),-1!==e&&(o._contentElement.style.pointerEvents="none",!0!==o._suppressSelectionEvents&&o._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(o.selectedIndex=-1)},_slide:function(t,o,n,i){var r=this;if(r.activeAnimations||(r.activeAnimations=[]),r.activeAnimations.length>0)for(var s=0;s<r.activeAnimations.length;s++)r.activeAnimations[s].clearQueue(),r.activeAnimations[s].finish();else t.clearQueue(),t.animate("finish");var a,l={save:function(e,t){for(var o=0;o<t.length;o++)null!==t[o]&&e.length>0&&e.data("ui-effects-"+t[o],e[0].style[t[o]])},restore:function(e,t){var o,n;for(n=0;n<t.length;n++)null!==t[n]&&(void 0===(o=e.data("ui-effects-"+t[n]))&&(o=""),e.css(t[n],o))},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var o={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(o,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){o[n]=t.css(n),isNaN(parseInt(o[n],10))&&(o[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),n.css(o).show()},removeWrapper:function(t){var o=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===o||e.contains(t[0],o))&&e(o).focus()),t}},c=["position","top","bottom","left","right","width","height"],d=o.mode,h="show"===d,_=o.direction||"left",m="up"===_||"down"===_?"top":"left",p="up"===_||"left"===_,b={};l.save(t,c),t.show(),a=o.distance||t["top"===m?"outerHeight":"outerWidth"](!0),l.createWrapper(t).css({overflow:"hidden"}),h&&t.css(m,p?isNaN(a)?"-"+a:-a:a),b[m]=(h?p?"+=":"-=":p?"-=":"+=")+a;return r.activeAnimations.push(t),t.animate(b,{duration:o.duration,easing:o.easing,complete:function(){r.activeAnimations.pop(t),"show"===d?r._animationComplete(n,i):"hide"===d&&(t.hide(),r._clearSelectionComplete(n)),l.restore(t,c),l.removeWrapper(t)}}),function(){t.clearQueue(),t.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(t){var o=e(t),n=o.css("border-left-width"),i=o.css("border-right-width"),r=parseInt(o.css("padding-left"),10),s=parseInt(o.css("padding-right"),10),a="none"===o.css("display");a&&(t.style.display="block"),n=-1===n.indexOf("px")?1:parseInt(n,10),i=-1===i.indexOf("px")?1:parseInt(i,10);var l=t.offsetWidth-(n+i+r+s);return a&&(t.style.display="none"),Math.max(0,l)},_height:function(t){var o=e(t),n=o.css("border-top-width"),i=o.css("border-bottom-width"),r=parseInt(o.css("padding-top"),10),s=parseInt(o.css("padding-bottom"),10);n=-1===n.indexOf("px")?1:parseInt(n,10),i=-1===i.indexOf("px")?1:parseInt(i,10);var a=t.offsetHeight-(n+i+r+s);return Math.max(0,a)},_closest:function(e,t,o){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var n=e.parentNode;null!==n&&"#document"!==n.nodeName;){if(n.nodeName.toLowerCase()===t)return n;n=n.parentNode}}if(o){if((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+o+" ")>-1)return e;for(var i=e.parentNode;null!==i&&"#document"!==i.nodeName;){if((" "+i.className+" ").replace(/[\n\t]/g," ").indexOf(" "+o+" ")>-1)return i;i=i.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return;e.initAnimate()}}})}(jqxBaseFramework);

