/*
jQWidgets v5.0.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
var oldBrowser=document.all&&!document.addEventListener;oldBrowser||function(e,t){function n(e){var t=oe[e]={};return R.each(e.split(U),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(se,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(r))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ae.test(i)?R.parseJSON(i):i)}catch(e){}R.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!R.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,R.isFunction(t))return R.grep(e,function(e,i){return!!t.call(e,i,e)===n});if(t.nodeType)return R.grep(e,function(e,i){return e===t===n});if("string"==typeof t){var i=R.grep(e,function(e){return 1===e.nodeType});if(Te.test(t))return R.filter(t,i,!n);t=R.filter(t,i)}return R.grep(e,function(e,i){return R.inArray(e,t)>=0===n})}function c(e){var t=Ee.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function d(e,t){if(1===t.nodeType&&R.hasData(e)){var n,i,r,o=R._data(e),a=R._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;i<r;i++)R.event.add(t,n,s[n][i])}a.data&&(a.data=R.extend({},a.data))}}function p(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(n=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),R.support.html5Clone&&e.innerHTML&&!R.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Pe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(R.expando))}function h(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Pe.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=ot.length;r--;)if((t=ot[r]+n)in e)return t;return i}function v(e,t){return e=t||e,"none"===R.css(e,"display")||!R.contains(e.ownerDocument,e)}function y(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(r[o]=R._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=R._data(n,"olddisplay",j(n.nodeName)))):(i=Xe(n,"display"),r[o]||"none"===i||R._data(n,"olddisplay",i)));for(o=0;o<a;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function x(e,t,n){var i=Ge.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function b(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===n&&(o+=R.css(e,n+rt[r],!0)),i?("content"===n&&(o-=parseFloat(Xe(e,"padding"+rt[r]))||0),"margin"!==n&&(o-=parseFloat(Xe(e,"border"+rt[r]+"Width"))||0)):(o+=parseFloat(Xe(e,"padding"+rt[r]))||0,"padding"!==n&&(o+=parseFloat(Xe(e,"border"+rt[r]+"Width"))||0));return o}function w(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=R.support.boxSizing&&"border-box"===R.css(e,"boxSizing");if(i<=0||null==i){if(((i=Xe(e,t))<0||null==i)&&(i=e.style[t]),Ze.test(i))return i;r=o&&(R.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+b(e,t,n||(o?"border":"content"),r)+"px"}function j(e){if(tt[e])return tt[e];var t=R("<"+e+">").appendTo(D.body),n=t.css("display");return t.remove(),"none"!==n&&""!==n||($e=D.body.appendChild($e||R.extend(D.createElement("iframe"),{frameBorder:0,width:0,height:0})),Ue&&$e.createElement||((Ue=($e.contentWindow||$e.contentDocument).document).write("<!doctype html><html><body>"),Ue.close()),t=Ue.body.appendChild(Ue.createElement(e)),n=Xe(t,"display"),D.body.removeChild($e)),tt[e]=n,n}function q(e,t,n,i){var r;if(R.isArray(t))R.each(t,function(t,r){n||lt.test(e)?i(e,r):q(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==R.type(t))i(e,t);else for(r in t)q(e+"["+r+"]",t[r],n,i)}function T(){return setTimeout(function(){dt=t},0),dt=R.now()}function C(e,t){R.each(t,function(t,n){for(var i=(yt[t]||[]).concat(yt["*"]),r=0,o=i.length;r<o;r++)if(i[r].call(e,t,n))return})}function S(e,t,n){var i,r=0,o=vt.length,a=R.Deferred().always(function(){delete s.elem}),s=function(){for(var t=dt||T(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),r=0,o=l.tweens.length;r<o;r++)l.tweens[r].run(i);return a.notifyWith(e,[l,i,n]),i<1&&o?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:R.extend({},t),opts:R.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:dt||T(),duration:n.duration,tweens:[],createTween:function(t,n,i){var r=R.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var n=0,i=t?l.tweens.length:0;n<i;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),u=l.props;for(E(u,l.opts.specialEasing);r<o;r++)if(i=vt[r].call(l,e,u,l.opts))return i;return C(l,u),R.isFunction(l.opts.start)&&l.opts.start.call(e,l),R.fx.timer(R.extend(s,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function E(e,t){var n,i,r,o,a;for(n in e)if(i=R.camelCase(n),r=t[i],o=e[n],R.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=R.cssHooks[i])&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function O(e,t,n,i,r){return new O.prototype.init(e,t,n,i,r)}function N(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=rt[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function k(e){return R.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var A,L,D=e.document,W=(e.location,e.navigator),M=e.JQXLite,I=e.$,P=Array.prototype.push,H=Array.prototype.slice,B=Array.prototype.indexOf,F=Object.prototype.toString,z=Object.prototype.hasOwnProperty,_=String.prototype.trim,R=function(e,t){return new R.fn.init(e,t,A)},X=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,$=/\S/,U=/\s+/,Y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,J=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,V=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Q=/^[\],:{}\s]*$/,K=/(?:^|:|,)(?:\s*\[)+/g,G=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ee=/^-ms-/,te=/-([\da-z])/gi,ne=function(e,t){return(t+"").toUpperCase()},ie=function(){D.addEventListener?(D.removeEventListener("DOMContentLoaded",ie,!1),R.ready()):"complete"===D.readyState&&(D.detachEvent("onreadystatechange",ie),R.ready())},re={};R.fn=R.prototype={constructor:R,init:function(e,n,i){var r,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:J.exec(e))||!r[1]&&n)return!n||n.jqx?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof R?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:D,e=R.parseHTML(r[1],a,!0),V.test(r[1])&&R.isPlainObject(n)&&this.attr.call(e,n,!0),R.merge(this,e);if((o=D.getElementById(r[2]))&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=D,this.selector=e,this}return R.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),R.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return H.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=R.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return R.each(this,e,t)},ready:function(e){return R.ready.promise().done(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(H.apply(this,arguments),"slice",H.call(arguments).join(","))},map:function(e){return this.pushStack(R.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:P,sort:[].sort,splice:[].splice},R.fn.init.prototype=R.fn,R.extend=R.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||R.isFunction(s)||(s={}),u===l&&(s=this,--l);l<u;l++)if(null!=(e=arguments[l]))for(n in e)i=s[n],s!==(r=e[n])&&(c&&r&&(R.isPlainObject(r)||(o=R.isArray(r)))?(o?(o=!1,a=i&&R.isArray(i)?i:[]):a=i&&R.isPlainObject(i)?i:{},s[n]=R.extend(c,a,r)):r!==t&&(s[n]=r));return s},R.extend({noConflict:function(t){return e.$===R&&(e.$=I),t&&e.JQXLite===R&&(e.JQXLite=M),R},isReady:!1,readyWait:1,holdReady:function(e){e?R.readyWait++:R.ready(!0)},ready:function(e){if(!0===e?!--R.readyWait:!R.isReady){if(!D.body)return setTimeout(R.ready,1);R.isReady=!0,!0!==e&&--R.readyWait>0||(L.resolveWith(D,[R]),R.fn.trigger&&R(D).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===R.type(e)},isArray:Array.isArray||function(e){return"array"===R.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):re[F.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==R.type(e)||e.nodeType||R.isWindow(e))return!1;try{if(e.constructor&&!z.call(e,"constructor")&&!z.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in e);return n===t||z.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||D,(i=V.exec(e))?[t.createElement(i[1])]:(i=R.buildFragment([e],t,n?null:[]),R.merge([],(i.cacheable?R.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=R.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):Q.test(t.replace(G,"@").replace(Z,"]").replace(K,""))?new Function("return "+t)():void R.error("Invalid JSON: "+t)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(n))}catch(e){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||R.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&$.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ee,"ms-").replace(te,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,a=e.length,s=a===t||R.isFunction(e);if(i)if(s){for(r in e)if(!1===n.apply(e[r],i))break}else for(;o<a&&!1!==n.apply(e[o++],i););else if(s){for(r in e)if(!1===n.call(e[r],r,e[r]))break}else for(;o<a&&!1!==n.call(e[o],o,e[o++]););return e},trim:_&&!_.call("\ufeffÂ ")?function(e){return null==e?"":_.call(e)}:function(e){return null==e?"":(e+"").replace(Y,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=R.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||R.isWindow(e)?P.call(i,e):R.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(B)return B.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;o<i;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i=[],r=0,o=e.length;for(n=!!n;r<o;r++)n!==!!t(e[r],r)&&i.push(e[r]);return i},map:function(e,n,i){var r,o,a=[],s=0,l=e.length;if(e instanceof R||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||R.isArray(e)))for(;s<l;s++)null!=(r=n(e[s],s,i))&&(a[a.length]=r);else for(o in e)null!=(r=n(e[o],o,i))&&(a[a.length]=r);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),R.isFunction(e)?(r=H.call(arguments,2),o=function(){return e.apply(n,r.concat(H.call(arguments)))},o.guid=e.guid=e.guid||R.guid++,o):t},access:function(e,n,i,r,o,a,s){var l,u=null==i,c=0,f=e.length;if(i&&"object"==typeof i){for(c in i)R.access(e,n,c,i[c],1,a,r);o=1}else if(r!==t){if(l=s===t&&R.isFunction(r),u&&(l?(l=n,n=function(e,t,n){return l.call(R(e),n)}):(n.call(e,r),n=null)),n)for(;c<f;c++)n(e[c],i,l?r.call(e[c],c,n(e[c],i)):r,s);o=1}return o?e:u?n.call(e):f?n(e[0],i):a},now:function(){return(new Date).getTime()}}),R.ready.promise=function(t){if(!L)if(L=R.Deferred(),"complete"===D.readyState)setTimeout(R.ready,1);else if(D.addEventListener)D.addEventListener("DOMContentLoaded",ie,!1),e.addEventListener("load",R.ready,!1);else{D.attachEvent("onreadystatechange",ie),e.attachEvent("onload",R.ready);var n=!1;try{n=null==e.frameElement&&D.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!R.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}R.ready()}}()}return L.promise(t)},R.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){re["[object "+t+"]"]=t.toLowerCase()}),A=R(D);var oe={};R.Callbacks=function(e){var i,r,o,a,s,l,u=[],c=!(e="string"==typeof e?oe[e]||n(e):R.extend({},e)).once&&[],f=function(t){for(i=e.memory&&t,r=!0,l=a||0,a=0,s=u.length,o=!0;u&&l<s;l++)if(!1===u[l].apply(t[0],t[1])&&e.stopOnFalse){i=!1;break}o=!1,u&&(c?c.length&&f(c.shift()):i?u=[]:d.disable())},d={add:function(){if(u){var t=u.length;!function t(n){R.each(n,function(n,i){var r=R.type(i);"function"===r?e.unique&&d.has(i)||u.push(i):i&&i.length&&"string"!==r&&t(i)})}(arguments),o?s=u.length:i&&(a=t,f(i))}return this},remove:function(){return u&&R.each(arguments,function(e,t){for(var n;(n=R.inArray(t,u,n))>-1;)u.splice(n,1),o&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return R.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||r&&!c||(o?c.push(t):f(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},R.extend({Deferred:function(e){var t=[["resolve","done",R.Callbacks("once memory"),"resolved"],["reject","fail",R.Callbacks("once memory"),"rejected"],["notify","progress",R.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return R.Deferred(function(n){R.each(t,function(t,i){var o=i[0],a=e[t];r[i[1]](R.isFunction(a)?function(){var e=a.apply(this,arguments);e&&R.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?R.extend(e,i):i}},r={};return i.pipe=i.then,R.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=a.fire,r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=H.call(arguments),a=o.length,s=1!==a||e&&R.isFunction(e.promise)?a:0,l=1===s?e:R.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?H.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&R.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}}),R.support=function(){var t,n,i,r,o,a,s,l,u,c,f,d=D.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};o=(r=D.createElement("select")).appendChild(D.createElement("option")),a=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!D.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==D.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===D.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete d.test}catch(e){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",f=function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",f)),a=D.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),d.appendChild(a),(s=D.createDocumentFragment()).appendChild(d.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(d),d.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})(c=(l="on"+u)in d)||(d.setAttribute(l,"return;"),c="function"==typeof d[l]),t[u+"Bubbles"]=c;return R(function(){var n,i,r,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=D.getElementsByTagName("body")[0];s&&((n=D.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),i=D.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(r=i.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,(o=D.createElement("div")).style.cssText=i.style.cssText=a,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),void 0!==i.style.zoom&&(i.innerHTML="",i.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),s.removeChild(n),n=i=r=o=null)}),s.removeChild(d),n=i=r=o=a=s=d=null,t}();var ae=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,se=/([A-Z])/g;R.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(R.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?R.cache[e[R.expando]]:e[R.expando])&&!r(e)},data:function(e,n,i,r){if(R.acceptData(e)){var o,a,s=R.expando,l="string"==typeof n,u=e.nodeType,c=u?R.cache:e,f=u?e[s]:e[s]&&s;if(f&&c[f]&&(r||c[f].data)||!l||i!==t)return f||(u?e[s]=f=R.deletedIds.pop()||R.guid++:f=s),c[f]||(c[f]={},u||(c[f].toJSON=R.noop)),"object"!=typeof n&&"function"!=typeof n||(r?c[f]=R.extend(c[f],n):c[f].data=R.extend(c[f].data,n)),o=c[f],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[R.camelCase(n)]=i),l?null==(a=o[n])&&(a=o[R.camelCase(n)]):a=o,a}},removeData:function(e,t,n){if(R.acceptData(e)){var i,o,a,s=e.nodeType,l=s?R.cache:e,u=s?e[R.expando]:R.expando;if(l[u]){if(t&&(i=n?l[u]:l[u].data)){R.isArray(t)||(t=t in i?[t]:(t=R.camelCase(t))in i?[t]:t.split(" "));for(o=0,a=t.length;o<a;o++)delete i[t[o]];if(!(n?r:R.isEmptyObject)(i))return}(n||(delete l[u].data,r(l[u])))&&(s?R.cleanData([e],!0):R.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return R.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&R.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),R.fn.extend({data:function(e,n){var r,o,a,s,l,u=this[0],c=0,f=null;if(e===t){if(this.length&&(f=R.data(u),1===u.nodeType&&!R._data(u,"parsedAttrs"))){for(l=(a=u.attributes).length;c<l;c++)(s=a[c].name).indexOf("data-")||(s=R.camelCase(s.substring(5)),i(u,s,f[s]));R._data(u,"parsedAttrs",!0)}return f}return"object"==typeof e?this.each(function(){R.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",R.access(this,function(n){if(n===t)return(f=this.triggerHandler("getData"+o,[r[0]]))===t&&u&&(f=R.data(u,e),f=i(u,e,f)),f===t&&r[1]?this.data(r[0]):f;r[1]=n,this.each(function(){var t=R(this);t.triggerHandler("setData"+o,r),R.data(this,e,n),t.triggerHandler("changeData"+o,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){R.removeData(this,e)})}}),R.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=R._data(e,t),n&&(!i||R.isArray(n)?i=R._data(e,t,R.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=R.queue(e,t),i=n.length,r=n.shift(),o=R._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){R.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R._data(e,n)||R._data(e,n,{empty:R.Callbacks("once memory").add(function(){R.removeData(e,t+"queue",!0),R.removeData(e,n,!0)})})}}),R.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?R.queue(this[0],e):n===t?this:this.each(function(){var t=R.queue(this,e,n);R._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&R.dequeue(this,e)})},dequeue:function(e){return this.each(function(){R.dequeue(this,e)})},delay:function(e,t){return e=R.fx?R.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=R.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)(i=R._data(a[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var le,ue=/[\t\r\n]/g,ce=/\r/g,fe=/^(?:button|input)$/i,de=/^(?:button|input|object|select|textarea)$/i,pe=/^a(?:rea|)$/i,he=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ge=R.support.getSetAttribute;R.fn.extend({attr:function(e,t){return R.access(this,R.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){R.removeAttr(this,e)})},prop:function(e,t){return R.access(this,R.prop,e,t,arguments.length>1)},removeProp:function(e){return e=R.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,n,i,r,o,a,s;if(R.isFunction(e))return this.each(function(t){R(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(U),n=0,i=this.length;n<i;n++)if(1===(r=this[n]).nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",a=0,s=t.length;a<s;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");r.className=R.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,a,s,l;if(R.isFunction(e))return this.each(function(t){R(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(U),s=0,l=this.length;s<l;s++)if(1===(r=this[s]).nodeType&&r.className){for(i=(" "+r.className+" ").replace(ue," "),o=0,a=n.length;o<a;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=e?R.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return R.isFunction(e)?this.each(function(n){R(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,a=R(this),s=t,l=e.split(U);r=l[o++];)a[(s=i?s:!a.hasClass(r))?"addClass":"removeClass"](r);else"undefined"!==n&&"boolean"!==n||(this.className&&R._data(this,"__className__",this.className),this.className=this.className||!1===e?"":R._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ue," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=R.isFunction(e),this.each(function(i){var o,a=R(this);1===this.nodeType&&(null==(o=r?e.call(this,i,a.val()):e)?o="":"number"==typeof o?o+="":R.isArray(o)&&(o=R.map(o,function(e){return null==e?"":e+""})),(n=R.valHooks[this.type]||R.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return(n=R.valHooks[o.type]||R.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&(i=n.get(o,"value"))!==t?i:"string"==typeof(i=o.value)?i.replace(ce,""):null==i?"":i}}}),R.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(R.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!R.nodeName(n.parentNode,"optgroup"))){if(t=R(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=R.makeArray(t);return R(e).find("option").each(function(){this.selected=R.inArray(R(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var o,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&R.isFunction(R.fn[n])?R(e)[n](i):void 0===e.getAttribute?R.prop(e,n,i):((s=1!==l||!R.isXMLDoc(e))&&(n=n.toLowerCase(),a=R.attrHooks[n]||(he.test(n)?le:void 0)),i!==t?null===i?void R.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:null===(o=e.getAttribute(n))?t:o)},removeAttr:function(e,t){var n,i,r,o,a=0;if(t&&1===e.nodeType)for(i=t.split(U);a<i.length;a++)(r=i[a])&&(n=R.propFix[r]||r,(o=he.test(r))||R.attr(e,r,""),e.removeAttribute(ge?r:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(fe.test(e.nodeName)&&e.parentNode)R.error("type property can't be changed");else if(!R.support.radioValue&&"radio"===t&&R.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,n){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!R.isXMLDoc(e))&&(n=R.propFix[n]||n,o=R.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):de.test(e.nodeName)||pe.test(e.nodeName)&&e.href?0:t}}}}),le={get:function(e,n){var i,r=R.prop(e,n);return!0===r||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&!1!==i.nodeValue?n.toLowerCase():t},set:function(e,t,n){var i;return!1===t?R.removeAttr(e,n):((i=R.propFix[n]||n)in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},R.support.enctype||(R.propFix.enctype="encoding");var me=/^([^\.]*|)(?:\.(.+)|)$/,ve=/(?:^|\s)hover(\.\S+|)\b/,ye=/^key/,xe=/^(?:mouse|contextmenu)|click/,be=/^(?:focusinfocus|focusoutblur)$/,we=function(e){return R.event.special.hover?e:e.replace(ve,"mouseenter$1 mouseleave$1")};R.event={add:function(e,n,i,r,o){var a,s,l,u,c,f,d,p,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(a=R._data(e))){for(i.handler&&(i=(h=i).handler,o=h.selector),i.guid||(i.guid=R.guid++),(l=a.events)||(a.events=l={}),(s=a.handle)||(a.handle=s=function(e){return void 0===R||e&&R.event.triggered===e.type?t:R.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=R.trim(we(n)).split(" "),u=0;u<n.length;u++)f=(c=me.exec(n[u])||[])[1],d=(c[2]||"").split(".").sort(),m=R.event.special[f]||{},f=(o?m.delegateType:m.bindType)||f,m=R.event.special[f]||{},p=R.extend({type:f,origType:c[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&R.expr.match.needsContext.test(o),namespace:d.join(".")},h),(g=l[f])||((g=l[f]=[]).delegateCount=0,m.setup&&!1!==m.setup.call(e,r,d,s)||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),m.add&&(m.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),o?g.splice(g.delegateCount++,0,p):g.push(p),R.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var o,a,s,l,u,c,f,d,p,h,g,m=R.hasData(e)&&R._data(e);if(m&&(d=m.events)){for(t=R.trim(we(t||"")).split(" "),o=0;o<t.length;o++)if(a=me.exec(t[o])||[],s=l=a[1],u=a[2],s){for(p=R.event.special[s]||{},c=(h=d[s=(i?p.delegateType:p.bindType)||s]||[]).length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0;f<h.length;f++)g=h[f],!r&&l!==g.origType||n&&n.guid!==g.guid||u&&!u.test(g.namespace)||i&&i!==g.selector&&("**"!==i||!g.selector)||(h.splice(f--,1),g.selector&&h.delegateCount--,p.remove&&p.remove.call(e,g));0===h.length&&c!==h.length&&(p.teardown&&!1!==p.teardown.call(e,u,m.handle)||R.removeEvent(e,s,m.handle),delete d[s])}else for(s in d)R.event.remove(e,s+t[o],n,i,!0);R.isEmptyObject(d)&&(delete m.handle,R.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var a,s,l,u,c,f,d,p,h,g,m=n.type||n,v=[];if(!be.test(m+R.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(m=(v=m.split(".")).shift(),v.sort()),r&&!R.event.customEvent[m]||R.event.global[m]))if(n="object"==typeof n?n[R.expando]?n:new R.Event(m,n):new R.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=m.indexOf(":")<0?"on"+m:"",r){if(n.result=t,n.target||(n.target=r),(i=null!=i?R.makeArray(i):[]).unshift(n),!(d=R.event.special[m]||{}).trigger||!1!==d.trigger.apply(r,i)){if(h=[[r,d.bindType||m]],!o&&!d.noBubble&&!R.isWindow(r)){for(g=d.delegateType||m,u=be.test(g+m)?r:r.parentNode,c=r;u;u=u.parentNode)h.push([u,g]),c=u;c===(r.ownerDocument||D)&&h.push([c.defaultView||c.parentWindow||e,g])}for(l=0;l<h.length&&!n.isPropagationStopped();l++)u=h[l][0],n.type=h[l][1],(p=(R._data(u,"events")||{})[n.type]&&R._data(u,"handle"))&&p.apply(u,i),(p=f&&u[f])&&R.acceptData(u)&&p.apply&&!1===p.apply(u,i)&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||d._default&&!1!==d._default.apply(r.ownerDocument,i)||"click"===m&&R.nodeName(r,"a")||!R.acceptData(r)||f&&r[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!R.isWindow(r)&&((c=r[f])&&(r[f]=null),R.event.triggered=m,r[m](),R.event.triggered=t,c&&(r[f]=c)),n.result}}else{a=R.cache;for(l in a)a[l].events&&a[l].events[m]&&R.event.trigger(n,i,a[l].handle.elem,!0)}}},dispatch:function(n){n=R.event.fix(n||e.event);var i,r,o,a,s,l,u,c,f,d=(R._data(this,"events")||{})[n.type]||[],p=d.delegateCount,h=H.call(arguments),g=!n.exclusive&&!n.namespace,m=R.event.special[n.type]||{},v=[];if(h[0]=n,n.delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,n)){if(p&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(!0!==o.disabled||"click"!==n.type){for(s={},u=[],i=0;i<p;i++)s[f=(c=d[i]).selector]===t&&(s[f]=c.needsContext?R(f,this).index(o)>=0:R.find(f,this,null,[o]).length),s[f]&&u.push(c);u.length&&v.push({elem:o,matches:u})}for(d.length>p&&v.push({elem:this,matches:d.slice(p)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(l=v[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(g||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,(a=((R.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,h))!==t&&(n.result=a,!1===a&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=(i=e.target.ownerDocument||D).documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[R.expando])return e;var t,n,i=e,r=R.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=R.Event(i),t=o.length;t;)e[n=o[--t]]=i[n];return e.target||(e.target=i.srcElement||D),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){R.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=R.extend(new R.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?R.event.trigger(r,null,t):R.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},R.event.handle=R.event.dispatch,R.removeEvent=D.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(void 0===e[i]&&(e[i]=null),e.detachEvent(i,n))},R.Event=function(e,t){if(!(this instanceof R.Event))return new R.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&R.extend(this,t),this.timeStamp=e&&e.timeStamp||R.now(),this[R.expando]=!0},R.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},R.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){R.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;o.selector;return r&&(r===i||R.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),R.fn.extend({on:function(e,n,i,r,a){var s,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],a);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),!1===r)r=o;else if(!r)return this;return 1===a&&(s=r,(r=function(e){return R().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=R.guid++)),this.each(function(){R.event.add(this,e,r,i,n)})},off:function(e,n,i){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,R(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return!1!==n&&"function"!=typeof n||(i=n,n=t),!1===i&&(i=o),this.each(function(){R.event.remove(this,e,i,n)})},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){R.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return R.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||R.guid++,i=0,r=function(n){var r=(R._data(this,"lastToggle"+e.guid)||0)%i;return R._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),R.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){R.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},ye.test(t)&&(R.event.fixHooks[t]=R.event.keyHooks),xe.test(t)&&(R.event.fixHooks[t]=R.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[];var r,o,a,s,l=(t=t||k).nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(!(a=w(t))&&!i&&(r=ee.exec(e)))if(s=r[1]){if(9===l){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&j(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return M.apply(n,I.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&ce&&t.getElementsByClassName)return M.apply(n,I.call(t.getElementsByClassName(s),0)),n}return g(e.replace(Q,"$1"),t,n,i,a)}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return H(function(t){return t=+t,H(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function a(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function s(e,t){var i,r,o,a,s,l,u,c=z[O][e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){i&&!(r=K.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=G.exec(s))&&(o.push(i=new N(r.shift())),s=s.slice(i.length),i.type=r[0].replace(Q," "));for(a in x.filter)!(r=oe[a].exec(s))||u[a]&&!(r=u[a](r))||(o.push(i=new N(r.shift())),s=s.slice(i.length),i.type=a,i.matches=r);if(!i)break}return t?s.length:s?n.error(e):z(e,l).slice(0)}function l(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=D++;return t.first?function(t,n,o){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,o)}:function(t,n,a){if(a){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,a))return t}else for(var s,l=L+" "+o+" ",u=l+v;t=t[i];)if(r||1===t.nodeType){if((s=t[O])===u)return t.sizset;if("string"==typeof s&&0===s.indexOf(l)){if(t.sizset)return t}else{if(t[O]=u,e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function c(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function f(e,t,n,i,r,o){return i&&!i[O]&&(i=f(i)),r&&!r[O]&&(r=f(r,o)),H(function(o,a,s,l){var u,f,d,p=[],g=[],m=a.length,v=o||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?v:c(v,p,e,s,l),x=n?r||(o?e:m||i)?[]:a:y;if(n&&n(y,x,s,l),i)for(u=c(x,g),i(u,[],s,l),f=u.length;f--;)(d=u[f])&&(x[g[f]]=!(y[g[f]]=d));if(o){if(r||e){if(r){for(u=[],f=x.length;f--;)(d=x[f])&&u.push(y[f]=d);r(null,x=[],u,l)}for(f=x.length;f--;)(d=x[f])&&(u=r?P.call(o,d):p[f])>-1&&(o[u]=!(a[u]=d))}}else x=c(x===a?x.splice(m,x.length):x),r?r(null,a,x,l):M.apply(a,x)})}function d(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,c=l(function(e){return e===t},a,!0),p=l(function(e){return P.call(t,e)>-1},a,!0),h=[function(e,n,i){return!o&&(i||n!==S)||((t=n).nodeType?c(e,n,i):p(e,n,i))}];s<r;s++)if(n=x.relative[e[s].type])h=[l(u(h),n)];else{if((n=x.filter[e[s].type].apply(null,e[s].matches))[O]){for(i=++s;i<r&&!x.relative[e[i].type];i++);return f(s>1&&u(h),s>1&&e.slice(0,s-1).join("").replace(Q,"$1"),n,s<i&&d(e.slice(s,i)),i<r&&d(e=e.slice(i)),i<r&&e.join(""))}h.push(n)}return u(h)}function p(e,t){var i=t.length>0,r=e.length>0,o=function(a,s,l,u,f){var d,p,h,g=[],m=0,y="0",b=a&&[],w=null!=f,j=S,q=a||r&&x.find.TAG("*",f&&s.parentNode||s),T=L+=null==j?1:Math.E;for(w&&(S=s!==k&&s,v=o.el);null!=(d=q[y]);y++){if(r&&d){for(p=0;h=e[p];p++)if(h(d,s,l)){u.push(d);break}w&&(L=T,v=++o.el)}i&&((d=!h&&d)&&m--,a&&b.push(d))}if(m+=y,i&&y!==m){for(p=0;h=t[p];p++)h(b,g,s,l);if(a){if(m>0)for(;y--;)b[y]||g[y]||(g[y]=W.call(u));g=c(g)}M.apply(u,g),w&&!a&&g.length>0&&m+t.length>1&&n.uniqueSort(u)}return w&&(L=T,S=j),b};return o.el=0,i?H(o):o}function h(e,t,i){for(var r=0,o=t.length;r<o;r++)n(e,t[r],i);return i}function g(e,t,n,i,r){var o,a,l,u,c,f=s(e);f.length;if(!i&&1===f.length){if((a=f[0]=f[0].slice(0)).length>2&&"ID"===(l=a[0]).type&&9===t.nodeType&&!r&&x.relative[a[1].type]){if(!(t=x.find.ID(l.matches[0].replace(re,""),t,r)[0]))return n;e=e.slice(a.shift().length)}for(o=oe.POS.test(e)?-1:a.length-1;o>=0&&(l=a[o],!x.relative[u=l.type]);o--)if((c=x.find[u])&&(i=c(l.matches[0].replace(re,""),te.test(a[0].type)&&t.parentNode||t,r))){if(a.splice(o,1),!(e=i.length&&a.join("")))return M.apply(n,I.call(i,0)),n;break}}return q(e,f)(i,t,r,n,te.test(e)),n}function m(){}var v,y,x,b,w,j,q,T,C,S,E=!0,O=("sizcache"+Math.random()).replace(".",""),N=String,k=e.document,A=k.documentElement,L=0,D=0,W=[].pop,M=[].push,I=[].slice,P=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},H=function(e,t){return e[O]=null==t||t,e},B=function(){var e={},t=[];return H(function(n,i){return t.push(n)>x.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},F=B(),z=B(),_=B(),X="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=$.replace("w","w#"),Y="\\["+X+"*("+$+")"+X+"*(?:([*^$|!~]?=)"+X+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+X+"*\\]",J=":("+$+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+Y+")|[^:]|\\\\.)*|.*))\\)|)",V=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+X+"*((?:-\\d)?\\d*)"+X+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+X+"+|((?:^|[^\\\\])(?:\\\\.)*)"+X+"+$","g"),K=new RegExp("^"+X+"*,"+X+"*"),G=new RegExp("^"+X+"*([\\x20\\t\\r\\n\\f>+~])"+X+"*"),Z=new RegExp(J),ee=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,te=/[\x20\t\r\n\f]*[+~]/,ne=/h\d/i,ie=/input|select|textarea|button/i,re=/\\(?!\\)/g,oe={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),NAME:new RegExp("^\\[name=['\"]?("+$+")['\"]?\\]"),TAG:new RegExp("^("+$.replace("w","w*")+")"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+J),POS:new RegExp(V,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+X+"*(even|odd|(([+-]|)(\\d*)n|)"+X+"*(?:([+-]|)"+X+"*(\\d+)|))"+X+"*\\)|)","i"),needsContext:new RegExp("^"+X+"*[>+~]|"+V,"i")},ae=function(e){var t=k.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},se=ae(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),le=ae(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"===e.firstChild.getAttribute("href")}),ue=ae(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ce=ae(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),fe=ae(function(e){e.id=O+0,e.innerHTML="<a name='"+O+"'></a><div name='"+O+"'></div>",A.insertBefore(e,A.firstChild);var t=k.getElementsByName&&k.getElementsByName(O).length===2+k.getElementsByName(O+0).length;return y=!k.getElementById(O),A.removeChild(e),t});try{I.call(A.childNodes,0)[0].nodeType}catch(e){I=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},b=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=b(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},j=n.contains=A.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:A.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=w(e);return i||(t=t.toLowerCase()),(n=x.attrHandle[t])?n(e):i||ue?e.getAttribute(t):(n=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null},x=n.selectors={cacheLength:50,createPseudo:H,match:oe,attrHandle:le?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(void 0!==t.getElementById&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,t,n){if(void 0!==t.getElementById&&!n){var i=t.getElementById(e);return i?i.id===e||void 0!==i.getAttributeNode&&i.getAttributeNode("id").value===e?[i]:void 0:[]}},TAG:se?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:fe&&function(e,t){if(void 0!==t.getElementsByName)return t.getElementsByName(name)},CLASS:ce&&function(e,t,n){if(void 0!==t.getElementsByClassName&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,""),e[3]=(e[4]||e[5]||"").replace(re,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return oe.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(Z.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(re,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(re,""),function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(re,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=F[O][e+" "];return t||(t=new RegExp("(^|"+X+")"+e+"("+X+"|$)"))&&F(e,function(e){return t.test(e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r,o){var a=n.attr(r,e);return null==a?"!="===t:!t||(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.substr(a.length-i.length)===i:"~="===t?(" "+a+" ").indexOf(i)>-1:"|="===t&&(a===i||a.substr(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return(r-=i)===n||r%n==0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[O]?r(t):r.length>1?(i=[e,e,"",t],x.setFilters.hasOwnProperty(e.toLowerCase())?H(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=P.call(e,o[a])]=!(n[i]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:H(function(e){var t=[],n=[],i=q(e.replace(Q,"$1"));return i[O]?H(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:H(function(e){return function(t){return n(e,t).length>0}}),contains:H(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!x.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return ne.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ie.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},T=A.compareDocumentPosition?function(e,t){return e===t?(C=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return C=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],s=e.parentNode,l=t.parentNode,u=s;if(s===l)return a(e,t);if(!s)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var c=0;c<n&&c<i;c++)if(r[c]!==o[c])return a(r[c],o[c]);return c===n?a(e,o[c],-1):a(r[c],t,1)},[0,0].sort(T),E=!C,n.uniqueSort=function(e){var t,n=[],i=1,r=0;if(C=E,e.sort(T),C){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},q=n.compile=function(e,t){var n,i=[],r=[],o=_[O][e+" "];if(!o){for(t||(t=s(e)),n=t.length;n--;)(o=d(t[n]))[O]?i.push(o):r.push(o);o=_(e,p(r,i))}return o},k.querySelectorAll&&function(){var e,t=g,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active"],l=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector;ae(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+X+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),ae(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+X+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),g=function(e,n,r,a,l){if(!a&&!l&&!o.test(e)){var u,c,f=!0,d=O,p=n,h=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=s(e),(f=n.getAttribute("id"))?d=f.replace(i,"\\$&"):n.setAttribute("id",d),d="[id='"+d+"'] ",c=u.length;c--;)u[c]=d+u[c].join("");p=te.test(e)&&n.parentNode||n,h=u.join(",")}if(h)try{return M.apply(r,I.call(p.querySelectorAll(h),0)),r}catch(e){}finally{f||n.removeAttribute("id")}}return t(e,n,r,a,l)},l&&(ae(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),a.push("!=",J)}catch(e){}}),a=new RegExp(a.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!w(t)&&!a.test(i)&&!o.test(i))try{var s=l.call(t,i);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(e){}return n(i,null,null,[t]).length>0})}(),x.pseudos.nth=x.pseudos.eq,x.filters=m.prototype=x.pseudos,x.setFilters=new m,n.attr=R.attr,R.find=n,R.expr=n.selectors,R.expr[":"]=R.expr.pseudos,R.unique=n.uniqueSort,R.text=n.getText,R.isXMLDoc=n.isXML,R.contains=n.contains}(e);var je=/Until$/,qe=/^(?:parents|prev(?:Until|All))/,Te=/^.[^:#\[\.,]*$/,Ce=R.expr.match.needsContext,Se={children:!0,contents:!0,next:!0,prev:!0};R.fn.extend({find:function(e){var t,n,i,r,o,a,s=this;if("string"!=typeof e)return R(e).filter(function(){for(t=0,n=s.length;t<n;t++)if(R.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;t<n;t++)if(i=a.length,R.find(e,this[t],a),t>0)for(r=i;r<a.length;r++)for(o=0;o<i;o++)if(a[o]===a[r]){a.splice(r--,1);break}return a},has:function(e){var t,n=R(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(R.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Ce.test(e)?R(e,this.context).index(this[0])>=0:R.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Ce.test(e)||"string"!=typeof e?R(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:R.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?R.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?R.inArray(this[0],R(e)):R.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?R(e,t):R.makeArray(e&&e.nodeType?[e]:e),i=R.merge(this.get(),n);return this.pushStack(s(n[0])||s(i[0])?i:R.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),R.fn.andSelf=R.fn.addBack,R.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return R.dir(e,"parentNode")},parentsUntil:function(e,t,n){return R.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return R.dir(e,"nextSibling")},prevAll:function(e){return R.dir(e,"previousSibling")},nextUntil:function(e,t,n){return R.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return R.dir(e,"previousSibling",n)},siblings:function(e){return R.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return R.sibling(e.firstChild)},contents:function(e){return R.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:R.merge([],e.childNodes)}},function(e,t){R.fn[e]=function(n,i){var r=R.map(this,t,n);return je.test(e)||(i=n),i&&"string"==typeof i&&(r=R.filter(i,r)),r=this.length>1&&!Se[e]?R.unique(r):r,this.length>1&&qe.test(e)&&(r=r.reverse()),this.pushStack(r,e,H.call(arguments).join(","))}}),R.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?R.find.matchesSelector(t[0],e)?[t[0]]:[]:R.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!R(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ee="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ JQXLite\d+="(?:null|\d+)"/g,Ne=/^\s+/,ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Le=/<tbody/i,De=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Me=/<(?:script|object|embed|option|style)/i,Ie=new RegExp("<(?:"+Ee+")[\\s/>]","i"),Pe=/^(?:checkbox|radio)$/,He=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/\/(java|ecma)script/i,Fe=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,ze={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},_e=c(D),Re=_e.appendChild(D.createElement("div"));ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td,R.support.htmlSerialize||(ze._default=[1,"X<div>","</div>"]),R.fn.extend({text:function(e){return R.access(this,function(e){return e===t?R.text(this):this.empty().append((this[0]&&this[0].ownerDocument||D).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(R.isFunction(e))return this.each(function(t){R(this).wrapAll(e.call(this,t))});if(this[0]){var t=R(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return R.isFunction(e)?this.each(function(t){R(this).wrapInner(e.call(this,t))}):this.each(function(){var t=R(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=R.isFunction(e);return this.each(function(n){R(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){R.nodeName(this,"body")||R(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=R.clean(arguments);return this.pushStack(R.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=R.clean(arguments);return this.pushStack(R.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)e&&!R.filter(e,[n]).length||(t||1!==n.nodeType||(R.cleanData(n.getElementsByTagName("*")),R.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&R.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return R.clone(this,e,t)})},html:function(e){return R.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Oe,""):t;if("string"==typeof e&&!We.test(e)&&(R.support.htmlSerialize||!Ie.test(e))&&(R.support.leadingWhitespace||!Ne.test(e))&&!ze[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ke,"<$1></$2>");try{for(;i<r;i++)1===(n=this[i]||{}).nodeType&&(R.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(R(R.isFunction(e)?e():e),"replaceWith",e):this:R.isFunction(e)?this.each(function(t){var n=R(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=R(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;R(this).remove(),t?R(t).before(e):R(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var r,o,a,s,l=0,u=(e=[].concat.apply([],e))[0],c=[],d=this.length;if(!R.support.checkClone&&d>1&&"string"==typeof u&&He.test(u))return this.each(function(){R(this).domManip(e,n,i)});if(R.isFunction(u))return this.each(function(r){var o=R(this);e[0]=u.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(r=R.buildFragment(e,this,c),a=r.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&R.nodeName(o,"tr"),s=r.cacheable||d-1;l<d;l++)i.call(n&&R.nodeName(this[l],"table")?f(this[l],"tbody"):this[l],l===s?a:R.clone(a,!0,!0));a=o=null,c.length&&R.each(c,function(e,t){t.src?R.ajax?R.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):R.error("no ajax"):R.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Fe,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),R.buildFragment=function(e,n,i){var r,o,a,s=e[0];return n=n||D,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===D&&"<"===s.charAt(0))||Me.test(s)||!R.support.checkClone&&He.test(s)||!R.support.html5Clone&&Ie.test(s)||(o=!0,a=(r=R.fragments[s])!==t),r||(r=n.createDocumentFragment(),R.clean(e,n,r,i),o&&(R.fragments[s]=a&&r)),{fragment:r,cacheable:o}},R.fragments={},R.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){R.fn[e]=function(n){var i,r=0,o=[],a=R(n),s=a.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return a[t](this[0]),this;for(;r<s;r++)i=(r>0?this.clone(!0):this).get(),R(a[r])[t](i),o=o.concat(i);return this.pushStack(o,e,a.selector)}}),R.extend({clone:function(e,t,n){var i,r,o,a;if(R.support.html5Clone||R.isXMLDoc(e)||!Ie.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Re.innerHTML=e.outerHTML,Re.removeChild(a=Re.firstChild)),!(R.support.noCloneEvent&&R.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||R.isXMLDoc(e)))for(p(e,a),i=h(e),r=h(a),o=0;i[o];++o)r[o]&&p(i[o],r[o]);if(t&&(d(e,a),n))for(i=h(e),r=h(a),o=0;i[o];++o)d(i[o],r[o]);return i=r=null,a},clean:function(e,t,n,i){var r,o,a,s,l,u,f,d,p,h,m,v=t===D&&_e,y=[];for(t&&void 0!==t.createDocumentFragment||(t=D),r=0;null!=(a=e[r]);r++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(De.test(a)){for(v=v||c(t),f=t.createElement("div"),v.appendChild(f),a=a.replace(ke,"<$1></$2>"),s=(Ae.exec(a)||["",""])[1].toLowerCase(),u=(l=ze[s]||ze._default)[0],f.innerHTML=l[1]+a+l[2];u--;)f=f.lastChild;if(!R.support.tbody)for(d=Le.test(a),o=(p="table"!==s||d?"<table>"!==l[1]||d?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes).length-1;o>=0;--o)R.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!R.support.leadingWhitespace&&Ne.test(a)&&f.insertBefore(t.createTextNode(Ne.exec(a)[0]),f.firstChild),a=f.childNodes,f.parentNode.removeChild(f)}else a=t.createTextNode(a);a.nodeType?y.push(a):R.merge(y,a)}if(f&&(a=f=v=null),!R.support.appendChecked)for(r=0;null!=(a=y[r]);r++)R.nodeName(a,"input")?g(a):void 0!==a.getElementsByTagName&&R.grep(a.getElementsByTagName("input"),g);if(n)for(h=function(e){if(!e.type||Be.test(e.type))return i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)},r=0;null!=(a=y[r]);r++)R.nodeName(a,"script")&&h(a)||(n.appendChild(a),void 0!==a.getElementsByTagName&&(m=R.grep(R.merge([],a.getElementsByTagName("script")),h),y.splice.apply(y,[r+1,0].concat(m)),r+=m.length));return y},cleanData:function(e,t){for(var n,i,r,o,a=0,s=R.expando,l=R.cache,u=R.support.deleteExpando,c=R.event.special;null!=(r=e[a]);a++)if((t||R.acceptData(r))&&(i=r[s],n=i&&l[i])){if(n.events)for(o in n.events)c[o]?R.event.remove(r,o):R.removeEvent(r,o,n.handle);l[i]&&(delete l[i],u?delete r[s]:r.removeAttribute?r.removeAttribute(s):r[s]=null,R.deletedIds.push(i))}}}),function(){var e,t;R.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t={},(e=R.uaMatch(W.userAgent)).browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),R.browser=t,R.sub=function(){function e(t,n){return new e.fn.init(t,n)}R.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof R&&!(i instanceof e)&&(i=e(i)),R.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(D);return e}}();var Xe,$e,Ue,Ye=/alpha\([^)]*\)/i,Je=/opacity=([^)]*)/,Ve=/^(top|right|bottom|left)$/,Qe=/^(none|table(?!-c[ea]).+)/,Ke=/^margin/,Ge=new RegExp("^("+X+")(.*)$","i"),Ze=new RegExp("^("+X+")(?!px)[a-z%]+$","i"),et=new RegExp("^([-+])=("+X+")","i"),tt={BODY:"block"},nt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:0,fontWeight:400},rt=["Top","Right","Bottom","Left"],ot=["Webkit","O","Moz","ms"],at=R.fn.toggle;R.fn.extend({css:function(e,n){return R.access(this,function(e,n,i){return i!==t?R.style(e,n,i):R.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n="boolean"==typeof e;return R.isFunction(e)&&R.isFunction(t)?at.apply(this,arguments):this.each(function(){(n?e:v(this))?R(this).show():R(this).hide()})}}),R.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Xe(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:R.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=R.camelCase(n),u=e.style;if(n=R.cssProps[l]||(R.cssProps[l]=m(u,l)),s=R.cssHooks[n]||R.cssHooks[l],i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:u[n];if(!("string"==(a=typeof i)&&(o=et.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(R.css(e,n)),a="number"),null==i||"number"===a&&isNaN(i)||("number"!==a||R.cssNumber[l]||(i+="px"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{u[n]=i}catch(e){}}},css:function(e,n,i,r){var o,a,s,l=R.camelCase(n);return n=R.cssProps[l]||(R.cssProps[l]=m(e.style,l)),(s=R.cssHooks[n]||R.cssHooks[l])&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=Xe(e,n)),"normal"===o&&n in it&&(o=it[n]),i||r!==t?(a=parseFloat(o),i||R.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),e.getComputedStyle?Xe=function(t,n){var i,r,o,a,s=e.getComputedStyle(t,null),l=t.style;return s&&(""!==(i=s.getPropertyValue(n)||s[n])||R.contains(t.ownerDocument,t)||(i=R.style(t,n)),Ze.test(i)&&Ke.test(n)&&(r=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=s.width,l.width=r,l.minWidth=o,l.maxWidth=a)),i}:D.documentElement.currentStyle&&(Xe=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),Ze.test(r)&&!Ve.test(t)&&(n=o.left,(i=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),R.each(["height","width"],function(e,t){R.cssHooks[t]={get:function(e,n,i){if(n)return 0===e.offsetWidth&&Qe.test(Xe(e,"display"))?R.swap(e,nt,function(){return w(e,t,i)}):w(e,t,i)},set:function(e,n,i){return x(0,n,i?b(e,t,i,R.support.boxSizing&&"border-box"===R.css(e,"boxSizing")):0)}}}),R.support.opacity||(R.cssHooks.opacity={get:function(e,t){return Je.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=R.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===R.trim(o.replace(Ye,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=Ye.test(o)?o.replace(Ye,r):o+" "+r)}}),R(function(){R.support.reliableMarginRight||(R.cssHooks.marginRight={get:function(e,t){return R.swap(e,{display:"inline-block"},function(){if(t)return Xe(e,"marginRight")})}}),!R.support.pixelPosition&&R.fn.position&&R.each(["top","left"],function(e,t){R.cssHooks[t]={get:function(e,n){if(n){var i=Xe(e,t);return Ze.test(i)?R(e).position()[t]+"px":i}}}})}),R.expr&&R.expr.filters&&(R.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!R.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Xe(e,"display"))},R.expr.filters.visible=function(e){return!R.expr.filters.hidden(e)}),R.each({margin:"",padding:"",border:"Width"},function(e,t){R.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;i<4;i++)o[e+rt[i]+t]=r[i]||r[i-2]||r[0];return o}},Ke.test(e)||(R.cssHooks[e+t].set=x)});var st=/%20/g,lt=/\[\]$/,ut=/\r?\n/g,ct=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ft=/^(?:select|textarea)/i;R.fn.extend({serialize:function(){return R.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?R.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ft.test(this.nodeName)||ct.test(this.type))}).map(function(e,t){var n=R(this).val();return null==n?null:R.isArray(n)?R.map(n,function(e,n){return{name:t.name,value:e.replace(ut,"\r\n")}}):{name:t.name,value:n.replace(ut,"\r\n")}}).get()}}),R.param=function(e,n){var i,r=[],o=function(e,t){t=R.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=R.ajaxSettings&&R.ajaxSettings.traditional),R.isArray(e)||e.jqx&&!R.isPlainObject(e))R.each(e,function(){o(this.name,this.value)});else for(i in e)q(i,e[i],n,o);return r.join("&").replace(st,"+")},R.support.ajax&&R.ajaxTransport(function(n){if(!n.crossDomain||R.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(e){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,u,c,f,d;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=R.noop,xhrOnUnloadAbort&&delete xhrCallbacks[a]),r)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),f={},(d=l.responseXML)&&d.documentElement&&(f.xml=d);try{f.text=l.responseText}catch(e){}try{u=l.statusText}catch(e){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(e){r||o(-1,e)}f&&o(s,u,f,c)},n.async?4===l.readyState?setTimeout(i,0):(a=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},R(e).unload(xhrOnUnloadAbort)),xhrCallbacks[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var dt,pt,ht=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([-+])=|)("+X+")([a-z%]*)$","i"),mt=/queueHooks$/,vt=[function(e,t,n){var i,r,o,a,s,l,u,c,f,d=this,p=e.style,h={},g=[],m=e.nodeType&&v(e);n.queue||(null==(c=R._queueHooks(e,"fx")).unqueued&&(c.unqueued=0,f=c.empty.fire,c.empty.fire=function(){c.unqueued||f()}),c.unqueued++,d.always(function(){d.always(function(){c.unqueued--,R.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===R.css(e,"display")&&"none"===R.css(e,"float")&&(R.support.inlineBlockNeedsLayout&&"inline"!==j(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",R.support.shrinkWrapBlocks||d.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],ht.exec(o)){if(delete t[i],l=l||"toggle"===o,o===(m?"hide":"show"))continue;g.push(i)}if(a=g.length){"hidden"in(s=R._data(e,"fxshow")||R._data(e,"fxshow",{}))&&(m=s.hidden),l&&(s.hidden=!m),m?R(e).show():d.done(function(){R(e).hide()}),d.done(function(){var t;R.removeData(e,"fxshow",!0);for(t in h)R.style(e,t,h[t])});for(i=0;i<a;i++)r=g[i],u=d.createTween(r,m?s[r]:0),h[r]=s[r]||R.style(e,r),r in s||(s[r]=u.start,m&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}],yt={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=gt.exec(t),a=r.cur(),s=+a||0,l=1,u=20;if(o){if(n=+o[2],"px"!==(i=o[3]||(R.cssNumber[e]?"":"px"))&&s){s=R.css(r.elem,e,!0)||n||1;do{s/=l=l||".5",R.style(r.elem,e,s+i)}while(l!==(l=r.cur()/a)&&1!==l&&--u)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};R.Animation=R.extend(S,{tweener:function(e,t){R.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],yt[n]=yt[n]||[],yt[n].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),R.Tween=O,O.prototype={constructor:O,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(R.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=R.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=R.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){R.fx.step[e.prop]?R.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[R.cssProps[e.prop]]||R.cssHooks[e.prop])?R.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},R.each(["toggle","show","hide"],function(e,t){var n=R.fn[t];R.fn[t]=function(i,r,o){return null==i||"boolean"==typeof i||!e&&R.isFunction(i)&&R.isFunction(r)?n.apply(this,arguments):this.animate(N(t,!0),i,r,o)}}),R.fn.extend({fadeTo:function(e,t,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=R.isEmptyObject(e),o=R.speed(t,n,i),a=function(){var t=S(this,R.extend({},e),o);r&&t.stop(!0)};return r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=R.timers,a=R._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&mt.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));!t&&i||R.dequeue(this,e)})}}),R.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){R.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),R.speed=function(e,t,n){var i=e&&"object"==typeof e?R.extend({},e):{complete:n||!n&&t||R.isFunction(e)&&e,duration:e,easing:n&&t||t&&!R.isFunction(t)&&t};return i.duration=R.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in R.fx.speeds?R.fx.speeds[i.duration]:R.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){R.isFunction(i.old)&&i.old.call(this),i.queue&&R.dequeue(this,i.queue)},i},R.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},R.timers=[],R.fx=O.prototype.init,R.fx.tick=function(){var e,n=R.timers,i=0;for(dt=R.now();i<n.length;i++)(e=n[i])()||n[i]!==e||n.splice(i--,1);n.length||R.fx.stop(),dt=t},R.fx.timer=function(e){e()&&R.timers.push(e)&&!pt&&(pt=setInterval(R.fx.tick,R.fx.interval))},R.fx.interval=13,R.fx.stop=function(){clearInterval(pt),pt=null},R.fx.speeds={slow:600,fast:200,_default:400},R.fx.step={},R.expr&&R.expr.filters&&(R.expr.filters.animated=function(e){return R.grep(R.timers,function(t){return e===t.elem}).length});var xt=/^(?:body|html)$/i;R.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){R.offset.setOffset(this,e,t)});var n,i,r,o,a,s,l,u={top:0,left:0},c=this[0],f=c&&c.ownerDocument;if(f)return(i=f.body)===c?R.offset.bodyOffset(c):(n=f.documentElement,R.contains(n,c)?(void 0!==c.getBoundingClientRect&&(u=c.getBoundingClientRect()),r=k(f),o=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,s=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:u.top+s-o,left:u.left+l-a}):u)},R.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return R.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(R.css(e,"marginTop"))||0,n+=parseFloat(R.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=R.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=R(e),s=a.offset(),l=R.css(e,"top"),u=R.css(e,"left"),c={},f={};("absolute"===i||"fixed"===i)&&R.inArray("auto",[l,u])>-1?(r=(f=a.position()).top,o=f.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),R.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(c.top=t.top-s.top+r),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):a.css(c)}},R.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var t,n=null,i=null,r=this[0];return r.style.width&&(n=r.style.width),r.style.height&&(i=r.style.height),(t=e.getComputedStyle?getComputedStyle(r,null):r.currentStyle)&&(t.width&&(n=t.width),t.height&&(i=t.height)),"0px"===n&&(n=0),"0px"===i&&(i=0),null===n&&(n=0),null===i&&(i=0),{width:n,height:i}},initAnimate:function(){},sizeStyleChanged:function(e){var t,n=this;t={element:n[0],offsetWidth:n[0].offsetWidth,offsetHeight:n[0].offsetHeight,callback:e};try{n.elementStyleObserver||(n.elementStyleObserver=new MutationObserver(function(e){var i=t;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(i.element.offsetWidth===i.offsetWidth&&i.element.offsetHeight===i.offsetHeight||(i.offsetWidth=i.element.offsetWidth,i.offsetHeight=i.element.offsetHeight,n.isRendered()&&i.callback()))}),n.elementStyleObserver.observe(n[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=xt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(R.css(e,"marginTop"))||0,n.left-=parseFloat(R.css(e,"marginLeft"))||0,i.top+=parseFloat(R.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(R.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||D.body;e&&!xt.test(e.nodeName)&&"static"===R.css(e,"position");)e=e.offsetParent;return e||D.body})}}),R.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);R.fn[e]=function(r){return R.access(this,function(e,r,o){var a=k(e);if(o===t)return a?n in a?a[n]:a.document.documentElement[r]:e[r];a?a.scrollTo(i?R(a).scrollLeft():o,i?o:R(a).scrollTop()):e[r]=o},e,r,arguments.length,null)}}),R.each({Height:"height",Width:"width"},function(e,n){R.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){R.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===o?"margin":"border");return R.access(this,function(n,i,r){var o;return R.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?R.css(n,i,r,s):R.style(n,i,r,s)},n,a?r:t,a,null)}})}),e.JQXLite=e.jqxHelper=R,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return R})}(window),function(e){e.jQuery?e.minQuery=e.JQXLite=e.jQuery:e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite}(window),JQXLite.generateID=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t="";do{t="jqx"+e()+e()+e()}while($("#"+t).length>0);return t};var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},window.jqx=e.jqx,jqwidgets={createInstance:function(t,n,i){if("jqxDataAdapter"==n){var r=i[0],o=i[1]||{};return new e.jqx.dataAdapter(r,o)}return e(t)[n](i||{}),e(t)[n]("getInstance")}},e.jqx.define=function(e,t,n){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,n&&e[n]&&(e[t].prototype.baseType=n)},e.jqx.invoke=function(t,n){if(0!=n.length){for(var i=typeof n==Array||n.length>0?n[0]:n,r=typeof n==Array||n.length>1?Array.prototype.slice.call(n,1):e({}).toArray();void 0==t[i]&&null!=t.base;){if(void 0!=t[i]&&e.isFunction(t[i]))return t[i].apply(t,r);if("string"==typeof i&&void 0!=t[o=i.toLowerCase()]&&e.isFunction(t[o]))return t[o].apply(t,r);t=t.base}if(void 0!=t[i]&&e.isFunction(t[i]))return t[i].apply(t,r);if("string"==typeof i){var o=i.toLowerCase();if(void 0!=t[o]&&e.isFunction(t[o]))return t[o].apply(t,r)}}},e.jqx.getByPriority=function(e){for(var t=void 0,n=0;n<e.length&&void 0==t;n++)void 0==t&&void 0!=e[n]&&(t=e[n]);return t},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var n in t){for(var i=e;i;){if(i.hasOwnProperty(n))return!0;if(i.hasOwnProperty(n.toLowerCase()))return!0;i=i.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,n){if(0==n.length)return!1;if(void 0==t)return!1;var i=typeof n==Array||n.length>0?n[0]:n;for((typeof n==Array||n.length>1)&&Array.prototype.slice.call(n,1);void 0==t[i]&&null!=t.base;){if(t[i]&&e.isFunction(t[i]))return!0;if("string"==typeof i&&t[r=i.toLowerCase()]&&e.isFunction(t[r]))return!0;t=t.base}if(t[i]&&e.isFunction(t[i]))return!0;if("string"==typeof i){var r=i.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}return!1},e.jqx.isPropertySetter=function(t,n){return 1==n.length&&"object"==typeof n[0]||2==n.length&&"string"==typeof n[0]&&!e.jqx.hasFunction(t,n)},e.jqx.validatePropertySetter=function(t,n,i){if(!e.jqx.propertySetterValidation)return!0;if(1==n.length&&"object"==typeof n[0]){for(var r in n[0]){for(var o=t;!o.hasOwnProperty(r)&&o.base;)o=o.base;if(!o||!o.hasOwnProperty(r)){if(!i){if(o.hasOwnProperty(r.toString().toLowerCase()))return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=n.length){if(!i)throw"Invalid property: "+n.length>=0?n[0]:"";return!1}for(;!t.hasOwnProperty(n[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(n[0])){if(!i)throw"Invalid property: "+n[0];return!1}return!0},Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in r)e.call(r,o)&&s.push(o);if(t)for(a=0;a<i;a++)e.call(r,n[a])&&s.push(n[a]);return s}}()),e.jqx.set=function(t,n){var i=0;if(1==n.length&&"object"==typeof n[0]){if(t.isInitialized&&Object.keys&&Object.keys(n[0]).length>1){var r=t.base?t.base.element:t.element,o=e.data(r,t.widgetName).initArgs;if(o&&JSON&&JSON.stringify&&n[0]&&o[0])try{if(JSON.stringify(n[0])==JSON.stringify(o[0])){var a=!0;if(e.each(n[0],function(e,n){if(t[e]!=n)return a=!1,!1}),a)return}}catch(e){}t.batchUpdate=n[0];var s={},l={};e.each(n[0],function(e,n){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?t[e]!=n&&(s[e]=t[e],l[e]=n,i++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=n&&(s[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=n,i++)}),i<2&&(t.batchUpdate=null)}e.each(n[0],function(n,i){for(var r=t;!r.hasOwnProperty(n)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(n))e.jqx.setvalueraiseevent(r,n,i);else if(r.hasOwnProperty(n.toLowerCase()))e.jqx.setvalueraiseevent(r,n.toLowerCase(),i);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+n+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&i>1&&t.propertiesChangedHandler(t,s,l))}else if(2==n.length){for(;!t.hasOwnProperty(n[0])&&t.base;)t=t.base;if(t.hasOwnProperty(n[0]))e.jqx.setvalueraiseevent(t,n[0],n[1]);else if(t.hasOwnProperty(n[0].toLowerCase()))e.jqx.setvalueraiseevent(t,n[0].toLowerCase(),n[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+n[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,n){var i=e[t];e[t]=n,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,i,n),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,i,n))},e.jqx.get=function(e,t){if(void 0!=t&&null!=t){if(e.propertyMap){var n=e.propertyMap(t);if(null!=n)return n}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var i=void 0;if(typeof t==Array){if(1!=t.length)return;i=t[0]}else"string"==typeof t&&(i=t);for(;!e.hasOwnProperty(i)&&e.base;)e=e.base;return e?e[i]:void 0}},e.jqx.serialize=function(t){var n="";if(e.isArray(t)){n="[";for(r=0;r<t.length;r++)r>0&&(n+=", "),n+=e.jqx.serialize(t[r]);n+="]"}else if("object"==typeof t){n="{";var i=0;for(var r in t)i++>0&&(n+=", "),n+=r+": "+e.jqx.serialize(t[r]);n+="}"}else n=t.toString();return n},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,n,i){e(n);var r=e.data(n,t);if(void 0!=r){var o=r.instance;if(e.jqx.hasFunction(o,i))return e.jqx.invoke(o,i);if(e.jqx.isPropertySetter(o,i)){if(e.jqx.validatePropertySetter(o,i))return void e.jqx.set(o,i)}else{if("object"==typeof i&&0==i.length)return;if("object"==typeof i&&1==i.length&&e.jqx.hasProperty(o,i[0]))return e.jqx.get(o,i[0]);if("string"==typeof i&&e.jqx.hasProperty(o,i[0]))return e.jqx.get(o,i)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(i)+"' does not exist."}},e.jqx.applyWidget=function(t,n,i,r){var o=!1;try{o=void 0!=window.MSApp}catch(e){}var a=e(t);r?(r.host=a,r.element=t):r=new e.jqx["_"+n],""==t.id&&(t.id=e.jqx.utilities.createId());var s={host:a,element:t,instance:r,initArgs:i};r.widgetName=n,e.data(t,n,s),e.data(t,"jqxWidget",s.instance);for(var l=new Array,r=s.instance;r;)r.isInitialized=!1,l.push(r),r=r.base;l.reverse(),l[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(n,t,i);for(var u in l)r=l[u],0==u&&(r.host=a,r.element=t,r.WinJS=o),void 0!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(o?MSApp.execUnsafeLocalFunction(function(){r.createInstance(i)}):r.createInstance(i)));for(var u in l)void 0!=l[u]&&(l[u].isInitialized=!0);o?MSApp.execUnsafeLocalFunction(function(){s.instance.refresh(!0)}):s.instance.refresh(!0)},e.jqx.jqxWidget=function(t,n,i){try{jqxArgs=Array.prototype.slice.call(i,0)}catch(e){jqxArgs=""}try{void 0!=window.MSApp}catch(e){}var r=t,o="";n&&(o="_"+n),e.jqx.define(e.jqx,"_"+r,o);var a=new Array;if(!window[r]){var s=function(t){if(null==t)return"";switch(e.type(t)){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var n="";return e.each(t,function(t,i){var r=i;t>0&&(n+=", "),n+="[";var o=0;if("object"==e.type(r))for(var a in r)o>0&&(n+=", "),n+="{"+a+":"+r[a]+"}",o++;else o>0&&(n+=", "),n+="{"+t+":"+r+"}",o++;n+="]"}),n};jqwidgets[r]=window[r]=function(t,n){var i=[];n||(n={}),i.push(n);var o=t;if("object"===e.type(o)&&t[0]?""===(o=t[0].id)&&(o=t[0].id=e.jqx.utilities.createId()):"object"===e.type(t)&&t&&t.nodeName&&""===(o=t.id)&&(o=t.id=e.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[o]){if(n&&e.each(window.jqxWidgets[o],function(t){var i=e(this.element).data();i&&i.jqxWidget&&e(this.element)[r](n)}),1==window.jqxWidgets[o].length&&(l=e(window.jqxWidgets[o][0].widgetInstance.element).data())&&l.jqxWidget)return window.jqxWidgets[o][0];var l=e(window.jqxWidgets[o][0].widgetInstance.element).data();if(l&&l.jqxWidget)return window.jqxWidgets[o]}var u=e(t);0===u.length&&(u=e("<div></div>"),"jqxInput"!==r&&"jqxPasswordInput"!==r&&"jqxMaskedInput"!==r||(u=e("<input/>")),"jqxTextArea"===r&&(u=e("<textarea></textarea>")),"jqxButton"!==r&&"jqxRepeatButton"!==r&&"jqxToggleButton"!==r||(u=e("<button/>")),"jqxSplitter"===r&&(u=e("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===r&&(u=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===r&&(u=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===r&&(u=e("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===r&&(u=e("<div><div>Title 1</div><div>Content 1</div></div>")));var c=[];return e.each(u,function(t){var n=u[t];if(e.jqx.applyWidget(n,r,i,void 0),!a[r]){var l=e.data(n,"jqxWidget"),f=e.jqx["_"+r].prototype.defineInstance();e.jqx["_"+r].prototype.metaInfo&&e.jqx["_"+r].prototype.metaInfo(),"jqxDockingLayout"==r&&(f=e.extend(f,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=r&&"jqxRepeatButton"!=r||(f=e.extend(f,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==r&&(f=e.extend(f,e.jqx._jqxDataTable.prototype.defineInstance()));var d=function(t){var n=e.data(t,"jqxWidget");this.widgetInstance=n;var i=e.extend(this,n);i.on=i.addEventListener=function(e,t){i.addHandler(i.base?i.base.host:i.host,e,t)},i.off=i.removeEventListener=function(e){i.removeHandler(i.base?i.base.host:i.host,e)};for(var r in n)"function"==e.type(n[r])&&(i[r]=e.proxy(n[r],n));return i};a[r]=d,e.each(f,function(t,n){Object.defineProperty(d.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:n},set:function(n){if(this.widgetInstance&&(this.widgetInstance[t]!=n||"width"===t||"height"===t)){var i=this.widgetInstance[t],o=n,a=!1;if(e.type(i)==e.type(o)&&"source"!==t&&"width"!==t&&"height"!==t||(a=!0),a||s(i)!=s(o)){var l={};l[t]=n,this.widgetInstance.host?this.widgetInstance.host[r](l):this.widgetInstance.base.host[r](l),this.widgetInstance[t]=n,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,i,n)}}}})})}l=new a[r](n);c.push(l),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[o]||(window.jqxWidgets[o]=new Array),window.jqxWidgets[o].push(l)}),1===c.length?c[0]:c}}e.fn[r]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){e(this);var n=this;null==e.data(n,r)?e.jqx.applyWidget(n,r,t,void 0):e.jqx.jqxWidgetProxy(r,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var n=null,i=0;return this.each(function(){var o=e.jqx.jqxWidgetProxy(r,this,t);if(0==i)n=o,i++;else{if(1==i){var a=[];a.push(n),n=a}n.push(o)}}),n};try{e.extend(e.jqx["_"+r].prototype,Array.prototype.slice.call(i,0)[0])}catch(e){}e.extend(e.jqx["_"+r].prototype,{toThemeProperty:function(t,n){return e.jqx.toThemeProperty(this,t,n)}}),e.jqx["_"+r].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+r].prototype.createInstance=function(){},e.jqx["_"+r].prototype.addEventHandler=function(e,t){this.host.on(e,t)},e.jqx["_"+r].prototype.removeEventHandler=function(e,t){this.host.off(e)},e.jqx["_"+r].prototype.applyTo=function(t,n){if(!(n instanceof Array)){var i=[];i.push(n),n=i}e.jqx.applyWidget(t,r,n,this)},e.jqx["_"+r].prototype.getInstance=function(){return this},e.jqx["_"+r].prototype.propertyChangeMap={},e.jqx["_"+r].prototype.addHandler=function(t,n,i,r){e.jqx.addHandler(e(t),n,i,r)},e.jqx["_"+r].prototype.removeHandler=function(t,n,i){e.jqx.removeHandler(e(t),n,i)},e.jqx["_"+r].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return e.jqx.jqxWidgetProxy(r,this.host[0],arguments)}},e.jqx.toThemeProperty=function(e,t,n){if(""==e.theme)return t;for(var i=t.split(" "),r="",o=0;o<i.length;o++){o>0&&(r+=" ");var a=i[o];r+=null!=n&&n?a+"-"+e.theme:a+" "+a+"-"+e.theme}return r},e.jqx.addHandler=function(t,n,i,r){for(var o=n.split(" "),a=0;a<o.length;a++){var s=o[a];if(window.addEventListener)switch(s){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",i,!1):t[0].addEventListener("mousewheel",i,!1);continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",i,!1);continue}}void 0==r||null==r?t.on?t.on(s,i):t.bind(s,i):t.on?t.on(s,r,i):t.bind(s,r,i)}},e.jqx.removeHandler=function(t,n,i){if(n)for(var r=n.split(" "),o=0;o<r.length;o++){var a=r[o];if(window.removeEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",i,!1):t[0].removeEventListener("mousewheel",i,!1);continue;case"mousemove":if(i){t[0].removeEventListener("mousemove",i,!1);continue}}void 0!=a?void 0==i?t.off?t.off(a):t.unbind(a):t.off?t.off(a,i):t.unbind(a,i):t.off?t.off():t.unbind()}else t.off?t.off():t.unbind()},e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,n){"theme"==t&&(e.jqx.theme=n),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=n),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=n),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=n)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()+e()},setTheme:function(t,n,i){if(void 0!==i&&i[0].className.split){for(var r=i[0].className.split(" "),o=[],a=[],s=i.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(o.push(r[l]),a.push(r[l].replace(t,n))):a.push(r[l].replace("-"+n,"")+"-"+n));this._removeOldClasses(o,i),this._addNewClasses(a,i);for(l=0;l<s.length;l+=1)this.setTheme(t,n,e(s[l]))}},_removeOldClasses:function(e,t){for(var n=0;n<e.length;n+=1)t.removeClass(e[n])},_addNewClasses:function(e,t){for(var n=0;n<e.length;n+=1)t.addClass(e[n])},getOffset:function(t){var n=e.jqx.mobile.getLeftPos(t[0]);return{top:e.jqx.mobile.getTopPos(t[0]),left:n}},resize:function(t,n,i,r){void 0===r&&(r=!0);var o=-1,a=this,s=function(e){if(!a.hiddenWidgets)return-1;for(var t=-1,n=0;n<a.hiddenWidgets.length;n++)if(e.id){if(a.hiddenWidgets[n].id==e.id){t=n;break}}else if(a.hiddenWidgets[n].id==e[0].id){t=n;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){o=l;break}}else if(this.resizeHandlers[l].id==t[0].id){o=l;break}if(!0===i)return-1!=o&&this.resizeHandlers.splice(o,1),0==this.resizeHandlers.length&&((f=e(window)).off?(f.off("resize.jqx"),f.off("orientationchange.jqx"),f.off("orientationchanged.jqx")):(f.unbind("resize.jqx"),f.unbind("orientationchange.jqx"),f.unbind("orientationchanged.jqx")),this.resizeHandlers=null),void(-1!=(u=s(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(u,1))}else if(!0===i){var u=s(t);return void(-1!=u&&this.hiddenWidgets&&this.hiddenWidgets.splice(u,1))}var a=this,c=function(t,n){if(a.resizeHandlers){var i=function(e){for(var t=-1,n=e.parentNode;n;)t++,n=n.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var n=i(e.widget[0]),r=i(t.widget[0]);try{if(n<r)return-1;if(n>r)return 1}catch(e){}return 0},o=function(t){if(a.hiddenWidgets.length>0){a.hiddenWidgets.sort(r);var i=function(){for(var t=!1,i=new Array,r=0;r<a.hiddenWidgets.length;r++){var o=a.hiddenWidgets[r];e.jqx.isHidden(o.widget)?(t=!0,i.push(o)):o.callback&&o.callback(n)}a.hiddenWidgets=i,t||clearInterval(a.__resizeInterval)};if(0==t)return i(),void(a.__resizeInterval&&clearInterval(a.__resizeInterval));a.__resizeInterval&&clearInterval(a.__resizeInterval),a.__resizeInterval=setInterval(function(){i()},100)}};a.hiddenWidgets&&a.hiddenWidgets.length>0&&o(!1),a.hiddenWidgets=new Array,a.resizeHandlers.sort(r);for(var l=0;l<a.resizeHandlers.length;l++){var u=a.resizeHandlers[l],c=u.widget,f=u.data;if(f&&f.jqxWidget){var d=f.jqxWidget.width,p=f.jqxWidget.height;f.jqxWidget.base&&(void 0==d&&(d=f.jqxWidget.base.width),void 0==p&&(p=f.jqxWidget.base.height)),void 0===d&&void 0===p&&(d=f.jqxWidget.element.style.width,p=f.jqxWidget.element.style.height);var h=!1;if(null!=d&&-1!=d.toString().indexOf("%")&&(h=!0),null!=p&&-1!=p.toString().indexOf("%")&&(h=!0),e.jqx.isHidden(c))-1===s(c)&&(h||!0===t)&&!0!==u.data.nestedWidget&&a.hiddenWidgets.push(u);else if(void 0===t||!0!==t){if(h){if(u.callback(n),a.watchedElementData)for(var g=0;g<a.watchedElementData.length;g++)if(a.watchedElementData[g].element==f.jqxWidget.element){a.watchedElementData[g].offsetWidth=f.jqxWidget.element.offsetWidth,a.watchedElementData[g].offsetHeight=f.jqxWidget.element.offsetHeight;break}a.hiddenWidgets.indexOf(u)>=0&&a.hiddenWidgets.splice(a.hiddenWidgets.indexOf(u),1)}if(f.jqxWidget.element){var m=f.jqxWidget.element.className;if((m.indexOf("dropdownlist")>=0||m.indexOf("datetimeinput")>=0||m.indexOf("combobox")>=0||m.indexOf("menu")>=0)&&f.jqxWidget.isOpened&&f.jqxWidget.isOpened()){if(n&&"resize"==n&&e.jqx.mobile.isTouchDevice())continue;f.jqxWidget.close()}}}}}o()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var f=e(window);f.on?(this._resizeTimer=null,this._initResize=null,f.on("resize.jqx",function(t){void 0!=a._resizeTimer&&clearTimeout(a._resizeTimer),a._initResize?a._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(a._initResize=!0,c(null,"resize"))}),f.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),f.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(f.bind("resize.jqx",function(e){c(null,"orientationchange")}),f.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),f.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")}))}var d=t.data();r&&-1===o&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:n,data:d});try{var p=d.jqxWidget.width,h=d.jqxWidget.height;d.jqxWidget.base&&(void 0==p&&(p=d.jqxWidget.base.width),void 0==h&&(h=d.jqxWidget.base.height)),void 0===p&&void 0===h&&(p=d.jqxWidget.element.style.width,h=d.jqxWidget.element.style.height);var g=!1;if(null!=p&&-1!=p.toString().indexOf("%")&&(g=!0),null!=h&&-1!=h.toString().indexOf("%")&&(g=!0),g){this.watchedElementData||(this.watchedElementData=[]);(a=this).watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:n}),a.observer||(a.observer=new MutationObserver(function(t){a.watchedElementData.forEach&&a.watchedElementData.forEach(function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){e.jqx.isHidden(e(t.element))?t.timer=setInterval(function(){e.jqx.isHidden(e(t.element))||(clearInterval(t.timer),t.callback())},100):t.callback()}))})}),a.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(e){}e.jqx.isHidden(t)&&!0===r&&c(!0),e.jqx.resize=function(){c(null,"resize")}},parseJSON:function(t){if(!t||"string"!=typeof t)return null;var n=/^[\],:{}\s]*$/,i=/(?:^|:|,)(?:\s*\[)+/g,r=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,o=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g;if(t=e.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t);if(n.test(t.replace(r,"@").replace(o,"]").replace(i,"")))return new Function("return "+t)();throw new Error("Invalid JSON: "+t)},html:function(t,n){if(!e(t).on)return e(t).html(n);try{return e.access(t,function(n){var i=t[0]||{},r=0,o=t.length;if(void 0===n)return 1===i.nodeType?i.innerHTML.replace(rinlinejQuery,""):void 0;var a=/<(?:script|style|link)/i,s=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,l=/<([\w:]+)/,u=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i"),c=/^\s+/,f={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof n&&!a.test(n)&&(e.support.htmlSerialize||!u.test(n))&&(e.support.leadingWhitespace||!c.test(n))&&!f[(l.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(s,"<$1></$2>");try{for(;r<o;r++)1===(i=this[r]||{}).nodeType&&(e.cleanData(i.getElementsByTagName("*")),i.innerHTML=n);i=0}catch(e){}}i&&t.empty().append(n)},null,n,arguments.length)}catch(i){return e(t).html(n)}},hasTransform:function(t){var n="";if(""==(n=t.css("transform"))||"none"==n){if(""!=(n=t.parents().css("transform"))&&"none"!=n)return""!=n&&"none"!=n;var i=e.jqx.utilities.getBrowser();"msie"==i.browser?""!=(n=t.css("-ms-transform"))&&"none"!=n||(n=t.parents().css("-ms-transform")):"chrome"==i.browser?""!=(n=t.css("-webkit-transform"))&&"none"!=n||(n=t.parents().css("-webkit-transform")):"opera"==i.browser?""!=(n=t.css("-o-transform"))&&"none"!=n||(n=t.parents().css("-o-transform")):"mozilla"==i.browser&&(""!=(n=t.css("-moz-transform"))&&"none"!=n||(n=t.parents().css("-moz-transform")))}return""!=n&&"none"!=n||(n=e(document.body).css("transform")),""!=n&&"none"!=n&&null!=n},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(n.browser="msie",n.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(n.browser="msie",n.version="12",t[1]="msie"),n[t[1]]=t[1],n}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,n=e[0].offsetHeight;return 0===t||0===n},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,n,i){if(e.jqx.ariaEnabled)if(void 0==n)e.each(t.aria,function(n,i){if(void 0==(r=t.base?t.base.host.attr(n):t.host.attr(n))||e.isFunction(r)){var r=t[i.name];e.isFunction(r)&&(r=t[i.name]()),void 0==r&&(r="");try{t.base?t.base.host.attr(n,r.toString()):t.host.attr(n,r.toString())}catch(e){}}else{var o=r;switch(i.type){case"number":o=new Number(r),isNaN(o)&&(o=r);break;case"boolean":o="true"==r;break;case"date":("Invalid Date"==(o=new Date(r))||isNaN(o))&&(o=r)}t[i.name]=o}});else try{t.host?t.base?t.base.host?t.base.host.attr(n,i.toString()):t.attr(n,i.toString()):t.host?t.element.setAttribute?t.element.setAttribute(n,i.toString()):t.host.attr(n,i.toString()):t.attr(n,i.toString()):t.setAttribute&&t.setAttribute(n,i.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var n=parseInt(t.pageX),i=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t)[0];n=parseInt(r.pageX),i=parseInt(r.pageY)}return{left:n,top:i}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},i=function(e,t){var n=document.createEvent("MouseEvents");return n.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n._pageX=t.pageX,n._pageY=t.pageY,n}(n[e.type],e);e.target.dispatchEvent(i);var r=e.target["on"+n[e.type]];"function"==typeof r&&r(e)},setMobileSimulator:function(t,n){if(!this.isTouchDevice()){this.simulatetouches=!0,0==n&&(this.simulatetouches=!1);var i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var o=function(){for(var e in i)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,o()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,-1!=(e+="User-agent header: "+navigator.userAgent).indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var n=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(n.indexOf("Windows Phone")>=0||n.indexOf("WPDesktop")>=0||n.indexOf("IEMobile")>=0||n.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(n.indexOf("Touch")>=0)return"MSPointerDown"in window||"pointerdown"in window?(this.touchDevice=!0,!0):n.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var n=t.offsetTop,i=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(n+=t.offsetTop-t.scrollTop,document.all&&(n+=t.clientTop));var r=navigator.userAgent.toLowerCase();return(-1!=r.indexOf("windows phone")||-1!=r.indexOf("WPDesktop")||-1!=r.indexOf("ZuneWP7")||-1!=r.indexOf("msie 9")||-1!=r.indexOf("msie 11")||-1!=r.indexOf("msie 10"))&&-1!=r.indexOf("touch")?i.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?n:-1!=r.indexOf("version/7")?i.top:(-1==r.indexOf("version/6")&&-1==r.indexOf("version/5")||(n+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?n+e(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?n+e(window).scrollTop():i.top):n},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||(!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")))},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,n){if(!this.simulatetouches){var i=document.createEvent("MouseEvent");i.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=n&&n.dispatchEvent(i)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,n,i,r,o,a){function s(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:f.getTouches(e)[0].clientY}function l(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:f.getTouches(e)[0].clientX}function u(){var e,t;L&&(e=Date.now()-k,(t=-L*Math.exp(-e/I))>.5||t<-.5?(_(D+t),requestAnimationFrame(u)):(_(D),a.fadeOut("fast")))}function c(){var e,t;L&&(e=Date.now()-k,(t=-L*Math.exp(-e/I))>.5||t<-.5?(R(W+t),requestAnimationFrame(c)):(R(W),o.fadeOut("fast")))}if(null!=t){var f=this,d=0,p=0,h=0,g=0,m=0,v=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var y=!1,x=e(t),b=["select","input","textarea"],w=0,j=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;var q,T,C,S,E,O,N,k,A,L,D,W,M,I,r=r,P=this.getTouchEventName("touchstart")+".touchScroll",H=this.getTouchEventName("touchend")+".touchScroll",B=this.getTouchEventName("touchmove")+".touchScroll";T=n,0,C=0,xoffset=0,initialOffset=0,initialXOffset=0,q=o.jqxScrollBar("max"),I=325;var F=function(){var e,t,n,i;t=(e=Date.now())-k,k=e,n=C-N,xdelta=xoffset-xframe,N=C,xframe=xoffset,E=!0,i=1e3*n/(1+t),xv=1e3*xdelta/(1+t),O=.8*i+.2*O,xjqxAnimations=.8*xv+.2*xjqxAnimations},z=!1,w=function(t){if(!f.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),b)){C=a.jqxScrollBar("value"),xoffset=o.jqxScrollBar("value");var n=f.getTouches(t),i=n[0];return 1==n.length&&f.dispatchMouseEvent("mousedown",i,f.getRootNode(i.target)),q=o.jqxScrollBar("max"),T=a.jqxScrollBar("max"),function(e){z=!1,E=!0,S=s(e),M=l(e),O=L=xjqxAnimations=0,N=C,xframe=xoffset,k=Date.now(),clearInterval(A),A=setInterval(F,100),initialOffset=C,initialXOffset=xoffset,C>0&&C<T&&a[0].style.visibility}(t),y=!1,p=i.pageY,m=i.pageX,f.simulatetouches&&void 0!=i._pageY&&(p=i._pageY,m=i._pageX),f.scrolling[r]=!0,d=0,g=0,!0}};x.on?x.on(P,w):x.bind(P,w);var _=function(e,t){return C=e>T?T:e<0?0:e,i(null,e,0,0,t),e>T?"max":e<0?"min":"value"},R=function(e,t){return xoffset=e>q?q:e<0?0:e,i(e,null,0,0,t),e>q?"max":e<0?"min":"value"},X=function(e){if(!f.enableScrolling[r])return!0;if(!f.scrolling[r])return!0;z&&(e.preventDefault(),e.stopPropagation());var t=f.getTouches(e);if(t.length>1)return!0;var n=t[0].pageY,i=t[0].pageX;f.simulatetouches&&void 0!=t[0]._pageY&&(n=t[0]._pageY,i=t[0]._pageX);var u=n-p,c=i-m;j=n,touchHorizontalEnd=i,h=u-d,v=c-g,y=!0,d=u,g=c;var x=null==o||"hidden"!=o[0].style.visibility,b=null==a||"hidden"!=a[0].style.visibility;(x||b)&&(x||b)&&function(e){var t,n,i;if(E){t=s(e),i=l(e),n=S-t,xdelta=M-i;var r="value";if(n>2||n<-2)return S=t,r=_(C+n,e),F(),"min"==r&&0===initialOffset||"max"==r&&initialOffset===T||!b||(e.preventDefault(),e.stopPropagation(),z=!0,!1);if(xdelta>2||xdelta<-2)return M=i,r=R(xoffset+xdelta,e),F(),"min"==r&&0===initialXOffset||"max"==r&&initialXOffset===q||!x||(z=!0,e.preventDefault(),e.stopPropagation(),!1);e.preventDefault()}}(e)};x.on?x.on(B,X):x.bind(B,X);var $=function(e){if(!f.enableScrolling[r])return!0;t=f.getTouches(e)[0];if(!f.scrolling[r])return!0;if(E=!1,clearInterval(A),O>10||O<-10?(L=.8*O,D=Math.round(C+L),k=Date.now(),requestAnimationFrame(u),a.fadeIn(100)):xjqxAnimations>10||xjqxAnimations<-10?(L=.8*xjqxAnimations,W=Math.round(xoffset+L),k=Date.now(),requestAnimationFrame(c),o.fadeIn(100)):(o.fadeOut(100),a.fadeOut(100)),f.scrolling[r]=!1,!y){var t=f.getTouches(e)[0],n=f.getRootNode(t.target);return f.dispatchMouseEvent("mouseup",t,n),f.dispatchMouseEvent("click",t,n),!0}f.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){void 0!=e(window).on||e(window).bind;var U=function(e){try{$(e)}catch(e){}f.scrolling[r]=!1};if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",U):e(document).bind("mouseup.touchScroll",U),window.frameElement&&null!=window.top){var Y=function(e){try{$(e)}catch(e){}f.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",Y):e(window.top.document).bind("mouseup",Y))}void 0!=e(document).on||e(document).bind;var J=function(e){if(!f.scrolling[r])return!0;f.scrolling[r]=!1;var t=f.getTouches(e)[0],n=f.getRootNode(t.target);f.dispatchMouseEvent("mouseup",t,n),f.dispatchMouseEvent("click",t,n)};void 0!=e(document).on?e(document).on("touchend",J):e(document).bind("touchend",J)}x.on&&(x.on("dragstart",function(e){e.preventDefault()}),x.on("selectstart",function(e){e.preventDefault()})),x.on?x.on(H+" touchcancel.touchScroll",$):x.bind(H+" touchcancel.touchScroll",$)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,n,i){if(arguments.length>1&&"[object Object]"!==String(n)){if(i=e.extend({},i),null!==n&&void 0!==n||(i.expires=-1),"number"==typeof i.expires){var r=i.expires,o=i.expires=new Date;o.setDate(o.getDate()+r)}return n=String(n),document.cookie=[encodeURIComponent(t),"=",i.raw?n:encodeURIComponent(n),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var a,s=(i=n||{}).raw?function(e){return e}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?s(a[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,n){if(t===n)return this;for(var i=e,r=i.indexOf(t);-1!=r;)r=(i=i.replace(t,n)).indexOf(t);return i},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),e.extend(e.easing,{easeOutBack:function(e,t,n,i,r,o){return void 0==o&&(o=1.70158),i*((t=t/r-1)*t*((o+1)*t+o)+1)+n},easeInQuad:function(e,t,n,i,r){return i*(t/=r)*t+n},easeInOutCirc:function(e,t,n,i,r){return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInOutSine:function(e,t,n,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+n},easeInCubic:function(e,t,n,i,r){return i*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,i,r){return i*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInSine:function(e,t,n,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,r){return i*Math.sin(t/r*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+n}})}(jqxBaseFramework),function(e){e.event&&e.event.special&&e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend&&e.fn.extend({ischildof:function(t){if(!e(this).parents)return t.element.contains(this.element);for(var n=e(this).parents().get(),i=0;i<n.length;i++)if("string"!=typeof t){var r=n[i];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(n[i]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,n=Array.prototype.slice.call(arguments,0),i=t.element;return i||(i=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,i,n)};var t=this.originalVal=e.fn.val;e.fn.val=function(n){if(void 0===n)return e(this).hasClass("jqx-widget")&&(i=e(this).data().jqxWidget)&&i.val?i.val():this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(i=e(this).find(".jqx-widget").data().jqxWidget)&&i.val?i.val():t.call(this);if(e(this).hasClass("jqx-widget")&&(i=e(this).data().jqxWidget)&&i.val)return 2!=arguments.length?i.val(n):i.val(n,arguments[1]);if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0){var i=e(this).find(".jqx-widget").data().jqxWidget;if(i&&i.val)return 2!=arguments.length?i.val(n):i.val(n,arguments[1])}return t.call(this,n)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a){if(n=a.documentElement,!e.contains(n,o))return r;void 0!==typeof o.getBoundingClientRect&&(r=o.getBoundingClientRect());i=function(t){return e.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}(a);var s=0,l=0,u=navigator.userAgent.toLowerCase();if((-1!=u.indexOf("ipad")||-1!=u.indexOf("iphone"))&&(s=2),1==t&&"static"!=document.body.style.position&&""!=document.body.style.position){var c=e(document.body).coord();s=-c.left,l=-c.top}return{top:l+r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s+r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}}}(jqxBaseFramework);

window.addResizeHandler=function(e,t){var i=document.createElement("div");i.className="jqx-resize-trigger-container",i.innerHTML='<div class="jqx-resize-trigger-container"><div class="jqx-resize-trigger"></div></div><div class="jqx-resize-trigger-container"><div class="jqx-resize-trigger-shrink"></div></div>';var n=e.widget.data().jqxWidget;(n.autoheight||null===n.height||"auto"===n.height)&&(i.style.height="0.1px",i.style.top="-1px"),e.appendChild(i),e.resizeTrigger=i;var a,r,s,d,l=i.childNodes[0],p=l.childNodes[0],o=i.childNodes[1],u=function(){p.style.width="100000px",p.style.height="100000px",l.scrollLeft=1e5,l.scrollTop=1e5,o.scrollLeft=1e5,o.scrollTop=1e5},m=e.offsetWidth,x=e.offsetHeight;u(),e.resizeHandler=function(){s=e.offsetWidth,d=e.offsetHeight,(a=s!==m||d!==x)&&!r&&(r=requestAnimationFrame(function(){r=0,a&&(m=s,x=d,t())})),u()},l.addEventListener("scroll",e.resizeHandler),o.addEventListener("scroll",e.resizeHandler)},window.removeResizeHandler=function(e){var t=e.resizeTrigger,i=t.childNodes[0],n=t.childNodes[1];i.removeEventListener("scroll",e.resizeHandler),n.removeEventListener("scroll",e.resizeHandler),t.parentNode.removeChild(t),e.resizeHandler=null,e.resizeTrigger=null},function(e){"use strict";e.jqx.elements||(e.jqx.elements=new Array),window.JQXElements={settings:{}},e.jqx.elements.push({name:"jqxCalendar",template:"<div></div>",attributeSync:!0,properties:{disabled:{attributeSync:!1},width:{type:"length"},height:{type:"length"},min:{type:"date"},max:{type:"date"},value:{type:"date"}}}),e.jqx.elements.push({name:"jqxButton",template:"<div></div>"}),e.jqx.elements.push({name:"jqxButtonGroup",template:"<div></div>"}),e.jqx.elements.push({name:"jqxBulletChart",template:"<div></div>"}),e.jqx.elements.push({name:"jqxRadioButton",template:"<div></div>"}),e.jqx.elements.push({name:"jqxCheckBox",template:"<div></div>"}),e.jqx.elements.push({name:"jqxRepeatButton",template:"<button></button>"}),e.jqx.elements.push({name:"jqxSwitchButton",template:"<div></div>"}),e.jqx.elements.push({name:"jqxLinkButton",template:"<a></a>"}),e.jqx.elements.push({name:"jqxToggleButton",template:"<button></button>"}),e.jqx.elements.push({name:"jqxBarGauge",template:"<div></div>"}),e.jqx.elements.push({name:"jqxChart",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxColorPicker",template:"<div></div>"}),e.jqx.elements.push({name:"jqxComboBox",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxComplexInput",template:"<div><input/><div></div></div>"}),e.jqx.elements.push({name:"jqxDraw",template:"<div></div>"}),e.jqx.elements.push({name:"jqxDataTable",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxDateTimeInput",template:"<div></div>"}),e.jqx.elements.push({name:"jqxDocking",template:"<div></div>"}),e.jqx.elements.push({name:"jqxDockPanel",template:"<div></div>"}),e.jqx.elements.push({name:"jqxDragDrop",template:"<div></div>"}),e.jqx.elements.push({name:"jqxDropDownList",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxDropDownButton",template:"<div></div>"}),e.jqx.elements.push({name:"jqxEditor",template:"<div></div>"}),e.jqx.elements.push({name:"jqxExpander",template:"<div></div>"}),e.jqx.elements.push({name:"jqxFileUpload",template:"<div></div>"}),e.jqx.elements.push({name:"jqxFormattedInput",template:"<div><input/><div></div></div>"}),e.jqx.elements.push({name:"jqxGauge",template:"<div></div>",propertyMap:{style:"backgroundStyle"}}),e.jqx.elements.push({name:"jqxLinearGauge",template:"<div></div>",propertyMap:{style:"backgroundStyle"}}),e.jqx.elements.push({name:"jqxGrid",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxInput",template:"<input/>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxKanban",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxKnob",template:"<div></div>"}),e.jqx.elements.push({name:"jqxLayout",template:"<div></div>"}),e.jqx.elements.push({name:"jqxDockingLayout",template:"<div></div>"}),e.jqx.elements.push({name:"jqxListBox",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxListMenu",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxLoader",template:"<div></div>"}),e.jqx.elements.push({name:"jqxMaskedInput",template:"<input/>"}),e.jqx.elements.push({name:"jqxMenu",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxNavBar",template:"<div></div>"}),e.jqx.elements.push({name:"jqxNavigationBar",template:"<div></div>"}),e.jqx.elements.push({name:"jqxNotification",template:"<div></div>",properties:{appendContainer:{type:"string"}}}),e.jqx.elements.push({name:"jqxNumberInput",template:"<div></div>"}),e.jqx.elements.push({name:"jqxPanel",template:"<div></div>"}),e.jqx.elements.push({name:"jqxPasswordInput",template:"<input type='password'/>"}),e.jqx.elements.push({name:"jqxPopover",template:"<div></div>",properties:{title:{type:"string"},arrowOffsetValue:{type:"number"},offset:{type:"json"},selector:{type:"string"},initContent:{type:"object"}}}),e.jqx.elements.push({name:"jqxProgressBar",template:"<div></div>"}),e.jqx.elements.push({name:"jqxRangeSelector",template:"<div></div>"}),e.jqx.elements.push({name:"jqxRating",tagName:"jqx-rating",template:"<div></div>"}),e.jqx.elements.push({name:"jqxResponsivePanel",template:"<div></div>"}),e.jqx.elements.push({name:"jqxRibbon",template:"<div></div>"}),e.jqx.elements.push({name:"jqxScheduler",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxSlider",template:"<div></div>"}),e.jqx.elements.push({name:"jqxScrollBar",template:"<div></div>"}),e.jqx.elements.push({name:"jqxScrollView",template:"<div></div>"}),e.jqx.elements.push({name:"jqxSortable",template:"<div></div>",propertyMap:{appendTo:"addTo"}}),e.jqx.elements.push({name:"jqxSplitter",template:"<div></div>",properties:{panels:{type:"array"}}}),e.jqx.elements.push({name:"jqxTabs",template:"<div></div>"}),e.jqx.elements.push({name:"jqxTagCloud",template:"<div></div>"}),e.jqx.elements.push({name:"jqxTextArea",template:"<div></div>"}),e.jqx.elements.push({name:"jqxToolBar",template:"<div></div>"}),e.jqx.elements.push({name:"jqxTooltip",tagName:"jqx-tool-tip",template:"<div></div>"}),e.jqx.elements.push({name:"jqxTree",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxTreeGrid",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxTreeMap",template:"<div></div>",properties:{source:{attributeSync:!1}}}),e.jqx.elements.push({name:"jqxValidator",template:"<div></div>"}),e.jqx.elements.push({name:"jqxWindow",template:"<div></div>"}),document.registerElement&&(Object.is||(Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}),e(document).ready(function(){e.each(e.jqx.elements,function(){var t=this.name,i=this;i.tagName||(i.tagName=i.name.split(/(?=[A-Z])/).join("-").toLowerCase());var n=Object.create(HTMLElement.prototype);n.name=t,n.instances=new Array;var a={},r=function(){var e={};return{addAttributeConfig:function(t,i,n){void 0===e[t]&&(e[t]={}),e[t][i]=n},getAttributeConfig:function(t,i){return void 0===e[t]||void 0===e[t][i]?void 0:e[t][i]},getAttributeList:function(t){return e[t]}}}();if(!e.jqx["_"+t])return!0;var s=e.jqx["_"+t].prototype.defineInstance();if("jqxDockingLayout"==t&&(s=e.extend(s,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=t&&"jqxRepeatButton"!=t&&"jqxLinkButton"!=t||(s=e.extend(s,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==t&&(s=e.extend(s,e.jqx._jqxDataTable.prototype.defineInstance())),n.initElement=function(){var i=this;s?e.each(s,function(e,t){i["_"+e]=t}):console.log(t+" is undefined")},s){e.each(s,function(e,s){if(i.properties||(i.properties=[]),e.indexOf("_")>=0)return!0;var d=i.properties[e],l=e.split(/(?=[A-Z])/).join("-").toLowerCase(),p=typeof s,o=d&&d.attributeSync||i.attributeSync||!0,u="_"+e;"width"!==e&&"height"!==e||(p="length"),d&&d.type&&(p=d.type);var m={defaultValue:s,type:p,propertyName:e,attributeSync:o};r.addAttributeConfig(i.tagName,l,Object.freeze(m)),a[e]=l;var x=function(n){var s=this;if(this[u]=n,this.widget){i.propertyMap&&i.propertyMap[e]&&(e=i.propertyMap[e]);var d={};d[e]=n,this.widget[t](d);var l=a[e],p=r.getAttributeConfig(i.tagName,l);p.attributeSync&&(s.isUpdatingAttribute=!0,s.setAttributeTyped(l,p,n),s.isUpdatingAttribute=!1),s.propertyUpdated(e,n)}else this.initialSettings[e]=n};i.propertyMap&&i.propertyMap[e]&&(e=i.propertyMap[e]),Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:function(){return this[u]},set:function(e){x.call(this,e)}})}),n.getAttributeTyped=function(e,t){return this.attributeStringToTypedValue(e,t,this.getAttribute(e))},n.setAttributeTyped=function(e,t,i){var n;this.getAttributeTyped(e,t),void 0===(n=this.typedValueToAttributeString(i))?this.removeAttribute(e):this.setAttribute(e,n)},n.typedValueToAttributeString=function(e){var t=typeof e;return"boolean"===t?e?"":void 0:"number"===t?Object.is(e,-0)?"-0":e.toString():"string"===t||"length"===t?e:"object"===t?JSON.stringify(e,function(e,t){if("number"==typeof t){if(!1===isFinite(t))return t.toString();if(Object.is(t,-0))return"-0"}return t}):void 0},n.attributeStringToTypedValue=function(e,t,i){return"boolean"===t.type?""===i||i===e||"true"===i:"number"===t.type?null===i||void 0===i?void 0:parseFloat(i):"string"===t.type?null===i||void 0===i?void 0:i:"length"===t.type?null===i?null:null!==i&&i.indexOf("px")>=0?parseFloat(i):null!==i&&i.indexOf("%")>=0?i:isNaN(parseFloat(i))?i:parseFloat(i):"json"===t.type||"array"===t.type?JSON.parse(i.replace(/'/g,'"')):"object"===t.type?window.JQXElements.settings[i]||window[i]:void 0},n.createdCallback=function(){var e=this;e.isReady=!1,e.initialSettings={},e.initElement()},n.setup=function(){if(!(d=this).isReady){d.isReady=!0;var n,a,s,d=this,l=null,p=null,o=[],u=!0,m=r.getAttributeList(i.tagName),x=d.settings||{},v=d.initialSettings,h=i.template;for(var j in m)if(m.hasOwnProperty(j)&&d.hasAttribute(j)){var q,c=m[j],g=d.getAttributeTyped(j,c);q=void 0===g?c.defaultValue:g,x[c.propertyName]=q}s=d.attributes;for(var j in s){var f=s[j];if(f&&f.name)if(f.name.indexOf("on-")>=0){b="";(y=f.value).indexOf("(")>=0&&(b=y.substring(0,y.indexOf("("))),o.push({name:f.name.substring(3),handler:b})}else if("on"===f.name.substring(0,2)){b="";(y=f.value).indexOf("(")>=0&&(b=y.substring(0,y.indexOf("("))),o.push({name:f.name.substring(2),handler:b})}else if(f.name.indexOf("(")>=0){var y=f.value,b="";y.indexOf("(")>=0&&(b=y.substring(0,y.indexOf("(")));var w=f.name.replace("(","").replace(")","");o.push({name:w,handler:b})}}var S=function(e){var t=document.createDocumentFragment(),i=document.createElement("div");t.appendChild(i);var n=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,a=/<([\w:]+)/;e=e.replace(n,"<$1></$2>");(a.exec(e)||["",""])[1].toLowerCase();var r=[0,"",""],s=r[0];for(i.innerHTML=r[1]+e+r[2];s--;)i=i.lastChild;return e=i.childNodes,i.parentNode.removeChild(i),S=e[0]}(h);n=S;if(d.hasAttribute("settings")){var C=d.getAttribute("settings");v=window.JQXElements.settings[C]||window[C],e.each(v,function(e,t){d["_"+e]=t})}!function(i){var r=!1;if("jqxDragDrop"!==t&&"jqxPopover"!==t&&"jqxResponsivePanel"!==t&&"jqxLoader"!==t&&"jqxWindow"!==t&&"jqxSortable"!==t&&"jqxDraw"!==t&&"jqxValidator"!==t||(r=!0,d.style.overflow="visible"),r)n=d;else{for(;d.childNodes.length;)n.appendChild(d.firstChild);d.appendChild(n)}"jqxScrollBar"!==t&&"jqxNotification"!==t||(d.style.overflow="visible",d.style.borderLeftWidth="0px",d.style.borderRightWidth="0px",d.style.borderTopWidth="0px",d.style.borderBottomWidth="0px"),e.extend(x,i);var s=t.toLowerCase();h.indexOf("button")>=0||1==h.indexOf("input")||h.indexOf("textarea")>=0||s.indexOf("button")>=0||s.indexOf("checkbox")>=0||s.indexOf("radio")>=0?d.style.display="inline-block":d.style.display="block";var m=function(e,t){u&&!r&&("string"==typeof t&&t.indexOf("%")>=0?d.style[e]=t:"string"==typeof t&&t.indexOf("px")>=0?d.style[e]=2+parseFloat(t)+"px":"auto"===t?d.style[e]=t:t?d.style[e]=2+t+"px":d.style[e]&&(d.style[e]=null))};x.width&&m("width",x.width),x.height&&m("height",x.height),(a=new jqxBaseFramework(d)).data(d,"jqxWidget",{element:d}),l=a.width(),p=a.height();"jqxChart"===t||"jqxMenu"===t||"jqxToolBar"===t?n.style.width=n.style.height="100%":r||(l&&!x.width&&"auto"!==d.style.width&&("jqxButton"!==t&&"jqxCheckBox"!==t&&"jqxToggleButton"!==t&&"jqxRadioButton"!==t&&"jqxRepeatButton"!==t&&"jqxLinkButton"!==t||(l+=30),x.width=l-2),p&&!x.height&&"auto"!==d.style.height&&p!==d.firstChild.offsetHeight&&(x.height=p-2));var v=e.jqx["_"+t].prototype,j=Object.getOwnPropertyNames(v);for(var q in j){var c=j[q];c.indexOf("_")>=0||"base"===c||"baseType"===c||"resize"===c||"scrollWidth"===c||"scrollHeight"===c||"constructor"===c||"createInstance"===c||"defineInstance"===c||"function"!=typeof v[c]||(d[c]=function(e,t){var i=Array.prototype.slice.call(arguments,2),n=d;return function(){if(!n._isUpdating){if(n._isUpdating=!0,n.widget){var t=e.apply(n.widget.data().jqxWidget,i.concat(Array.prototype.slice.call(arguments)));return n._isUpdating=!1,t}var a=arguments;n.timer=setInterval(function(){n.widget&&(clearInterval(n.timer),e.apply(n.widget.data().jqxWidget,i.concat(Array.prototype.slice.call(a))),n._isUpdating=!1)},50)}}}(v[c],c))}var g=d.widget=e(n)[t](x);if("jqxMaskedInput"!==t&&"jqxPasswordInput"!==t&&"jqxButton"!==t&&"jqxToggleButton"!==t&&"jqxRepeatButton"!==t||(d.firstChild.style.boxSizing="border-box"),d.propertyUpdated=function(e,t){"width"!==e&&"height"!==e||m(e,t)},!r){var f=g.data().jqxWidget;f.base?f.base.host.addClass("jqx-element-container"):f.host.addClass("jqx-element-container"),a.addClass("jqx-widget jqx-element"),a.addClass("jqx-element-no-border"),"jqxRangeSelector"!==t&&"jqxButtonGroup"!=t||a.css("overflow","visible")}for(var y=0;y<o.length;y++){var b=o[y];g.on(b.name,function(e){e.args||(e.args={}),window.JQXElements.settings[b.handler]&&e.args?window.JQXElements.settings[b.handler].apply(d,[e]):window[b.handler]&&e.args&&window[b.handler].apply(d,[e])})}var w=function(){r||(u=!1,l=a.width(),p=a.height(),"jqxChart"===t||"jqxDraw"===t?(g.element.style.width="100%",g.element.style.height="100%"):(parseInt(g.css("padding-left")),parseInt(g.css("padding-right")),parseInt(g.css("padding-top")),parseInt(g.css("padding-bottom")),g[t]({width:l-0}),g[t]({height:p-0})),u=!0)};r||addResizeHandler(d,function(){w()})}(v)}};var d=n.addEventListener,l=n.addEventListener;return n.addEventListener=function(e,t){var i=this;i.widget&&i.widget.on?i.widget.on(e,t):d.apply(this,[e,t])},n.removeEventListener=function(e,t){var i=this;i.widgetthat.widget.off?i.widget.off(e,t):l.apply(this,[e,t])},n.attachedCallback=function(){this.setup()},n.attributeChangedCallback=function(e,t,n){var a=this,s=r.getAttributeConfig(i.tagName,e);if(!a.isUpdatingAttribute&&s){var d,l=a.getAttributeTyped(e,s);d=void 0===l?currAttrConfig.defaultValue:l,a[currAttrConfig.propertyName]=d}},document.registerElement(i.tagName,{prototype:n})}console.log(t+" is undefined")})}))}(jqxBaseFramework);

!function(e){function t(t){return function(r,a){"string"!=typeof r&&(a=r,r="*");var n,i,o=r.toLowerCase().split(y),s=0,d=o.length;if(e.isFunction(a))for(;s<d;s++)n=o[s],(i=/^\+/.test(n))&&(n=n.substr(1)||"*"),(t[n]=t[n]||[])[i?"unshift":"push"](a)}}function r(e,t,a,n,i,o){i=i||t.dataTypes[0],(o=o||{})[i]=!0;for(var s,d=e[i],l=0,c=d?d.length:0,u=e===b;l<c&&(u||!s);l++)"string"==typeof(s=d[l](t,a,n))&&(!u||o[s]?s=void 0:(t.dataTypes.unshift(s),s=r(e,t,a,n,s,o)));return!u&&s||o["*"]||(s=r(e,t,a,n,"*",o)),s}function a(t,r){var a,n,i=e.jqx.data.ajaxSettings.flatOptions||{};for(a in r)void 0!==r[a]&&((i[a]?t:n||(n={}))[a]=r[a]);n&&e.extend(!0,t,n)}function n(e,t,r){var a,n,i,o,s=e.contents,d=e.dataTypes,l=e.responseFields;for(n in l)n in r&&(t[l[n]]=r[n]);for(;"*"===d[0];)d.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("content-type"));if(a)for(n in s)if(s[n]&&s[n].test(a)){d.unshift(n);break}if(d[0]in r)i=d[0];else{for(n in r){if(!d[0]||e.converters[n+" "+d[0]]){i=n;break}o||(o=n)}i=i||o}if(i)return i!==d[0]&&d.unshift(i),r[i]}function i(e,t){var r,a,n,i,o=e.dataTypes.slice(),s=o[0],d={},l=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(r in e.converters)d[r.toLowerCase()]=e.converters[r];for(;n=o[++l];)if("*"!==n){if("*"!==s&&s!==n){if(!(r=d[s+" "+n]||d["* "+n]))for(a in d)if((i=a.split(" "))[1]===n&&(r=d[s+" "+i[0]]||d["* "+i[0]])){!0===r?r=d[a]:!0!==d[a]&&(n=i[0],o.splice(l--,0,n));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+s+" to "+n}}}s=n}return{state:"success",data:t}}function o(){try{return new window.XMLHttpRequest}catch(e){}}function s(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,r){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var a=Object.defineProperty;Object.defineProperty=function(e,t,r){if(a)try{return a(e,t,r)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r?e[t]=r.value:e[t]||(e[t]=r),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var a,n=arguments[1];for(a=0;a<r;a++)a in t&&e.call(n,t[a],a,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r});var n,i=this,o=[];i.notifier=null,i.name="observableArray",i.observing=!0,i.changes=new Array;var r=r;return i.observe=function(){i.observing=!0,1==arguments.length&&(r=arguments[0])},i.unobserve=function(){i.observing=!1},i.toArray=function(){return o.slice(0)},i.toJSON=function(e,t){function r(e){return'"'+e.replace(f,function(e){var t=h[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function a(e){return e<10?"0"+e:e}function n(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+'Z"':"null"}function i(e){var t,r=e.length,a=[];for(t=0;t<r;t++)a.push(c(t,e)||"null");return"["+a.join(",")+"]"}function s(t){var a,n,i=[];for(a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(""!=a&&e&&-1===e.indexOf(a))continue;(n=c(a,t))&&i.push(r(a)+":"+n)}return"{"+i.join(",")+"}"}function d(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return n(e);case"[object Array]":return i(e)}return s(e)}function l(e,t){switch(t){case"string":return r(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function c(e,t){var r=t[e],a=typeof r;return r&&"object"==typeof r&&"function"==typeof r.toJSON&&(a=typeof(r=r.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(a)||!r&&"object"===a?l(r,a):d(r)}var u=o;t&&(u=t);var f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(u):c("",{"":u})},i.defineIndexProperty=function(t){if(!(t in i)){var r=function(t,r,a,s){var d=t[r],l=d,c=function(){return l},u=function(t){if(d=t,l!==d){var a=l;if(l=d,"function"==typeof n){var c=o.indexOf(s),u="",f=function(t,a){Object.getOwnPropertyNames(t).forEach(function(n){var i=e.type(t[n]);"array"==i||"object"==i?f(t[n],a+"."+n):r===n&&(u=a+"."+n)})};f(s,c),n({object:i,type:"update",path:u,index:c,name:r,newValue:d,oldValue:a})}}return l=d,d};void 0!=t[r]&&"length"!=r&&(Object.defineProperty?Object.defineProperty(t,r,{get:c,set:u}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,r,c),Object.prototype.__defineSetter__.call(t,r,u)))},a=function(t,n,i){var o=e.type(t);/(number|float|int|integer|string|boolean)/.test(o)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(o){var s=e.type(t[o]);"array"==s||"object"==s?(r(t,o,0,i),a(t[o],n+"."+o,i)):r(t,o,0,i)})};Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var r=o[t];i.toJSON(null,r)!=i.toJSON(null,e)&&(o[t]=e,"function"==typeof n&&n({object:i,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:r}),a(e,t,e))}}),a(i[t],t,i[t])}},i.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=o.length,o.push(arguments[t]),i.defineIndexProperty(e),"function"==typeof n&&n({object:i,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},i.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete i[e],"function"==typeof n&&n({object:i,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},i.unshift=function(){for(var e=o.length,t=0,r=arguments.length;t<r;t++)o.splice(t,0,arguments[t]),i.defineIndexProperty(o.length-1);return"function"==typeof n&&n({object:i,type:"add",index:0,name:"length",newValue:o.length,oldValue:e}),o.length},i.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete i[e],"function"==typeof n&&n({object:i,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},i.slice=function(t,r,a){var n=o.slice(t,r);return new e.jqx.observableArray(n,a)},i.splice=function(t,r,a){var s,d=[];for(t=~t?t:o.length-t,r=(null==r?o.length-t:r)||0;r--;)s=o.splice(t,1)[0],d.push(s),delete i[o.length],"function"==typeof n&&n({object:i,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var l=2,c=arguments.length;l<c;l++)o.splice(t,0,arguments[l]),defineIndexProperty(o.length-1),"function"==typeof n&&n({object:i,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;return new e.jqx.observableArray(d,a)},Object.defineProperty(i,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?i.splice(t):t>o.length&&i.push.apply(i,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,r){return new e.jqx.observableArray(t,r)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,r);return t.observing=i.observing,t.changes=i.changes,t.notifier=i.notifier,t},i.remove=function(e){if(e<0||e>=i.length)throw new Error("Invalid index : "+e);if(i.hasOwnProperty(e)){var t=i[e];return i[e]=void 0,o[e]=void 0,"function"==typeof n&&n({object:i,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},i.concat=function(t,r){var a=o.concat(t);return new e.jqx.observableArray(a,r)},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in i)){Object.defineProperty(i,e,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var t=i.observing;i.observing=!1;var r=o[e].apply(o,arguments);return i.observing=t,r}})}}),i.set=function(t,r){if("string"==e.type(t)&&t.split(".").length>1){for(var a=t.split("."),n=i,o=0;o<a.length;o++){if(0===o&&a[o]>=i.length)throw new Error("Invalid Index: "+t);o<a.length-1?n=n[a[o]]:n[a[o]]=r}return!0}return t>=i.length?i.push(r):i[t]=r,!0},i.get=function(e){return i[e]},t instanceof Array&&i.push.apply(i,t),n=function(){i.observing&&(arguments&&arguments[0]&&i.changes.push(arguments[0]),r&&r.apply(i,arguments),i.notifier&&i.notifier.apply(i,arguments))},i},e.jqx.formatDate=function(t,r,a){return e.jqx.dataFormat.formatdate(t,r,a)},e.jqx.formatNumber=function(t,r,a){return e.jqx.dataFormat.formatnumber(t,r,a)},e.jqx.dataAdapter=function(t,r){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=r||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var a=t.localdata();if(null!=a){t._localdata=t.localdata;var n=this;t._localdata.subscribe&&(n._oldlocaldata=[],t._localdata.subscribe(function(t){var r=function(t){return e.isArray(t)?e.makeArray(r(e(t))):e.extend(!0,{},t)};0!=n.suspendKO&&void 0!=n.suspendKO&&0!=n._oldlocaldata.length||(n._oldlocaldata=r(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==n.suspendKO||void 0==n.suspendKO){var r="";n._oldrecords=n.records,0==n._oldlocaldata.length&&(t.localdata=t._localdata()),0==n._oldlocaldata.length?r="change":e&&(n._oldlocaldata.length==e.length&&(r="update"),n._oldlocaldata.length>e.length&&(r="remove"),n._oldlocaldata.length<e.length&&(r="add")),n.dataBind(null,r)}},t._localdata,"change"),n._knockoutdatasource=!0),t.localdata=a}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,r,a){return e.jqx.dataFormat.formatdate(t,r,a)},formatNumber:function(t,r,a){return e.jqx.dataFormat.formatnumber(t,r,a)},dataBind:function(t,r){if(1!=this.isUpdating){var a=this._source;if(a){a.generatedfields&&(a.datafields=null,a.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=a.dataFields&&(a.datafields=a.dataFields),void 0==a.recordstartindex&&(a.recordstartindex=0),void 0==a.recordendindex&&(a.recordendindex=0),void 0==a.loadallrecords&&(a.loadallrecords=!0),void 0==a.root&&(a.root=""),void 0==a.record&&(a.record=""),void 0!=a.sort&&(this.sort=a.sort),void 0!=a.filter?this.filter=a.filter:this.filter=null,void 0!=a.sortcolumn&&(this.sortcolumn=a.sortcolumn),void 0!=a.sortdirection&&(this.sortdirection=a.sortdirection),void 0!=a.sortcomparer&&(this.sortcomparer=a.sortcomparer),this.records=new Array;var n=this._options||{};if(this.virtualmode=void 0!=n.virtualmode&&n.virtualmode,this.totalrecords=void 0!=n.totalrecords?n.totalrecords:0,this.pageable=void 0!=n.pageable&&n.pageable,this.pagesize=void 0!=n.pagesize?n.pagesize:0,this.pagenum=void 0!=n.pagenum?n.pagenum:0,this.cachedrecords=void 0!=n.cachedrecords?n.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=n.updaterow?n.updaterow:null,this.addrow=void 0!=n.addrow?n.addrow:null,this.deleterow=void 0!=n.deleterow?n.deleterow:null,this.cache=void 0!=n.cache&&n.cache,this.unboundmode=!1,void 0!=a.formatdata&&(n.formatData=a.formatdata),void 0!=a.data&&(void 0==n.data&&(n.data={}),e.extend(n.data,a.data)),void 0!=a.mapChar&&(a.mapchar=a.maxChar),void 0!=a.mapchar?this.mapChar=a.mapchar?a.mapchar:">":this.mapChar=n.mapChar?n.mapChar:">",(n.unboundmode||a.unboundmode)&&(this.unboundmode=n.unboundmode||a.unboundmode),void 0!=a.cache&&(this.cache=a.cache),this.koSubscriptions)for(var i=0;i<this.koSubscriptions.length;i++)this.koSubscriptions[i].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,s=a.datatype;"csv"!==a.datatype&&"tab"!==a.datatype&&"tsv"!==a.datatype&&"text"!=a.datatype||(s="text");var d=void 0==n.async||n.async;switch(void 0!=a.async&&(d=a.async),s){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==a.localdata&&a.length){a.localdata=new Array;for(g=0;g<a.length;g++)a.localdata[a.localdata.length]=a[g],a[g].uid=g}a.beforeprocessing&&e.isFunction(a.beforeprocessing)&&a.beforeprocessing(a.localdata);p=a.localdata.length;if(this.totalrecords=this.virtualmode?a.totalrecords||p:p,this.unboundmode&&(this.totalrecords=this.unboundmode?a.totalrecords||p:p,(u=a.datafields?a.datafields.length:0)>0))for(g=0;g<this.totalrecords;g++){for(var l={},c=0;c<u;c++)l[a.datafields[c].name]="";l.uid=g,a.localdata[a.localdata.length]=l}void 0==this.totalrecords&&(this.totalrecords=0);var u=a.datafields?a.datafields.length:0,f=function(t,r){for(var n={},i=0;i<r;i++){var s=a.datafields?a.datafields[i]:{},d="";if(void 0!=s&&null!=s){if(s.map){if(e.isFunction(s.map))d=s.map(t);else{var l=s.map.split(o.mapChar);if(l.length>0){for(var c=t,u=0;u<l.length;u++)c&&(c=c[l[u]]);d=c}else d=t[s.map]}void 0!=d&&null!=d?d=d.toString():void 0==d&&null!=d&&(d="")}var f=!1;""==d&&(f=!0,void 0!=(d=t[s.name])&&null!=d&&(a._localdata&&d.subscribe?d=d():"array"!=s.type&&("date"===s.type?d&&d instanceof Date&&(d=d):d=d.toString()))),"[object Object]"==d&&s.map&&f&&(d=""),d=o.getvaluebytype(d,s),void 0!=s.displayname?n[s.displayname]=d:n[s.name]=d}}return n};if(a._localdata){this._changedrecords=[],this.records=new Array;var h=a._localdata();if(e.each(h,function(t,n){if("string"==typeof n)o.records.push(n);else{var i={},s=0,d=this;e.each(this,function(r,n){var l=null,c="string",f=r;if(u>0){for(var h=!1,p=!1,g=0;g<u;g++){var v=a.datafields[g];if(void 0!=v&&v.name==r){h=!0,l=v.map,c=v.type,f=v.name;break}if(void 0!=v&&v.map&&v.map.indexOf(r)>=0){h=!0,l=v.map,c=v.type,f=v.name,p=!0;x=d[r];if(null!=l)if((S=l.split(o.mapChar)).length>0){for(var m=d,y=0;y<S.length;y++)m=m[S[y]];x=m}else x=d[l];"string"!=c&&(x=o.getvaluebytype(x,{type:c})),i[f]=x,void 0!=i[f]&&(s+=i[f].toString().length+i[f].toString().substr(0,1))}}if(!h)return!0;if(p)return!0}if(e.isFunction(d[r])){x=d[r]();if("string"!=c&&(x=o.getvaluebytype(x,{type:c})),i[r]=x,d[r].subscribe){var b=t;o.koSubscriptions[o.koSubscriptions.length]=d[r].subscribe(function(e){var t=b;i[r]=e;var a={index:t,oldrecord:i,record:i};if(o._changedrecords.push(a),!o.isUpdating)return o.callBindingUpdate("update"),o._changedrecords=[],!1})}}else{var x=d[r];if(null!=l){var S=l.split(o.mapChar);if(S.length>0){for(var m=d,y=0;y<S.length;y++)m=m[S[y]];x=m}else x=d[l]}"string"!=c&&(x=o.getvaluebytype(x,{type:c})),i[f]=x,void 0!=i[f]&&(s+=i[f].toString().length+i[f].toString().substr(0,1))}});var l=o.getid(a.id,d,t);if(i.uid=l,o.records.push(i),i._koindex=s,o._oldrecords){var c=o.records.length-1;if("update"==r&&o._oldrecords[c]._koindex!=s){var f={index:c,oldrecord:o._oldrecords[c],record:i};o._changedrecords.push(f)}}}}),"add"==r)for(var p=o.records.length,g=0;g<p;g++){for(var l=o.records[g],v=!1,m=0;m<o._oldrecords.length;m++)if(o._oldrecords[m]._koindex===l._koindex){v=!0;break}v||o._changedrecords.push({index:g,oldrecord:null,record:l,position:0!=g?"last":"first"})}else if("remove"==r)for(var p=o._oldrecords.length,g=0;g<p;g++){var y=o._oldrecords[g];o.records[g]?o.records[g]._koindex!=y._koindex&&o._changedrecords.push({index:g,oldrecord:y,record:null}):o._changedrecords.push({index:g,oldrecord:y,record:null})}}else if(e.isArray(a.localdata))if(0==u){var b=0,x=new Array;e.each(a.localdata,function(t,r){var n=new Object(this);if("string"==typeof r)return o.records=a.localdata,!1;var i=o.getid(a.id,n,t);if("object"==typeof i&&(i=t),n.uid=i,0==t){for(var s in this){b++;var d=e.type(this[s]);x.push({name:s,type:d})}u=b,a.datafields=x,a.generatedfields=x}if(u>0){var l=f(n,u);l.uid=i,o.records[o.records.length]=l}else o.records[o.records.length]=n})}else e.each(a.localdata,function(e){var t=this,r=f(t,u),n=o.getid(a.id,r,e);"object"==typeof n&&(n=e),(t=new Object(r)).uid=n,o.records[o.records.length]=t});else{this.records=new Array;var b=0,x=new Array;e.each(a.localdata,function(t){var r=o.getid(a.id,this,t);if(0==u&&!("string"==typeof this||this instanceof String)){for(var n in this){b++;var i=e.type(this[n]);x.push({name:n,type:i})}u=b,a.datafields=x,a.generatedfields=x}if(u>0){var s=f(this,u);s.uid=r,o.records[o.records.length]=s}else this.uid=r,o.records[o.records.length]=this})}if(this.originaldata=a.localdata,this.cachedrecords=this.records,this.addForeignValues(a),n.uniqueDataFields){O=this.getUniqueRecords(this.records,n.uniqueDataFields);this.records=O,this.cachedrecords=O}if(n.beforeLoadComplete&&void 0!=(w=n.beforeLoadComplete(o.records,this.originaldata))&&(o.records=w,o.cachedrecords=w),n.autoSort&&n.autoSortField){var S=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[n.autoSortField]},o.records.sort(function(t,r){if(void 0===t&&(t=null),void 0===r&&(r=null),null===t&&null===r)return 0;if(null===t&&null!==r)return 1;if(null!==t&&null===r)return-1;if(t=t.toString(),r=r.toString(),null===t&&null===r)return 0;if(null===t&&null!==r)return 1;if(null!==t&&null===r)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(r))return t<r?-1:t>r?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(r))return t<r?-1:t>r?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(r)||(t=String(t).toLowerCase(),r=String(r).toLowerCase());try{if(t<r)return-1;if(t>r)return 1}catch(e){}return 0}),Object.prototype.toString=S}o.loadedData=a.localdata,o.buildHierarchy(),e.isFunction(n.loadComplete)&&n.loadComplete(a.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=a.localdata&&!a.url){if(e.isFunction(a.beforeprocessing)&&a.beforeprocessing(a.localdata),"xml"===a.datatype?o.loadxml(a.localdata,a.localdata,a):"text"===s?o.loadtext(a.localdata,a):"ics"===s?o.loadics(a.localdata,a):o.loadjson(a.localdata,a.localdata,a),o.addForeignValues(a),n.uniqueDataFields){var O=o.getUniqueRecords(o.records,n.uniqueDataFields);o.records=O,o.cachedrecords=O}if(n.beforeLoadComplete){var w=n.beforeLoadComplete(o.records,this.originaldata);void 0!=w&&(o.records=w,o.cachedrecords=w)}return o.loadedData=a.localdata,o.buildHierarchy.call(o),e.isFunction(n.loadComplete)&&n.loadComplete(a.localdata,o.records),void o.callBindingUpdate(r)}var A=void 0!=n.data?n.data:{};if(a.processdata&&a.processdata(A),e.isFunction(n.processData)&&n.processData(A),e.isFunction(n.formatData)){var _=n.formatData(A);void 0!=_&&(A=_)}var T="application/x-www-form-urlencoded";n.contentType&&(T=n.contentType);var N="GET";a.type&&(N=a.type),n.type&&(N=n.type);var j=s;if("ics"==s&&(j="text"),a.url&&a.url.length>0)e.isFunction(n.loadServerData)?o._requestData(A,a,n):this.xhr=e.jqx.data.ajax({dataType:j,cache:this.cache,type:N,url:a.url,async:d,timeout:a.timeout,contentType:T,data:A,success:function(t,r,i){if(e.isFunction(a.beforeprocessing)&&void 0!=(d=a.beforeprocessing(t,r,i))&&(t=d),e.isFunction(n.downloadComplete)){var d=n.downloadComplete(t,r,i);void 0!=d&&(t=d)}if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(n.loadComplete)&&n.loadComplete(new Array));var l=t;if(t.records&&(l=t.records),void 0!=t.totalrecords?a.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(a.totalrecords=t.totalRecords),"xml"===a.datatype?o.loadxml(null,l,a):"text"===s?o.loadtext(l,a):"ics"===s?o.loadics(l,a):o.loadjson(null,l,a),o.addForeignValues(a),n.uniqueDataFields){var c=o.getUniqueRecords(o.records,n.uniqueDataFields);o.records=c,o.cachedrecords=c}if(n.beforeLoadComplete){var u=n.beforeLoadComplete(o.records,t);void 0!=u&&(o.records=u,o.cachedrecords=u)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(n.loadComplete)&&n.loadComplete(t,r,i,o.records)},error:function(t,r,i){e.isFunction(a.loaderror)&&a.loaderror(t,r,i),e.isFunction(n.loadError)&&n.loadError(t,r,i),t=null,o.callDownloadComplete()},beforeSend:function(t,r){e.isFunction(n.beforeSend)&&n.beforeSend(t,r),e.isFunction(a.beforesend)&&a.beforesend(t,r)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(n.loadComplete)){if(!E)var E={};n.loadComplete(E)}}this.callBindingUpdate(r)}}},buildHierarchy:function(e){var t=this._source,r=new Array;if(t.datafields&&(t.hierarchy&&!t.hierarchy.reservedNames?t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}:t.hierarchy&&((n=t.hierarchy.reservedNames).leaf||(n.leaf="leaf"),n.parent||(n.parent="parent"),n.expanded||(n.expanded="expanded"),n.checked||(n.checked="checked"),n.selected||(n.selected="selected"),n.level||(n.level="level"),n.data||(n.data="data")),t.hierarchy)){var a=this,n=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){r=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=r,r}this.hierarchy=this.records;for(var i=t.hierarchy.root,o=0;o<this.records.length;o++){var s=this.records[o];if(s){var d=function(e){if(t.hierarchy.record)e.records=e[i][t.hierarchy.record];else{var r=i.split(a.mapChar),o=null;if(r.length>1){for(var s=e,d=0;d<r.length;d++)void 0!=s&&(s=s[r[d]]);o=s}else o=e[i];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[n.leaf]=!0)};d(s),s[n.level]=0;var l=this.getid(t.id,s,o);s.uid=l,s[n.parent]=null,s[n.data]=s,void 0===s[n.expanded]&&(s[n.expanded]=!1);var c=function(e,r){if(r)for(var i=0;i<r.length;i++){var o=r[i];if(o){d(o),o[n.level]=e[n.level]+1,o[n.parent]=e,o[n.data]=o;var s=a.getid(t.id,o,i);s==i&&null==t.id?o.uid=e.uid+"_"+s:o.uid=s,void 0===o[n.expanded]&&(o[n.expanded]=!1),c(o,o.records)}}else e.records=new Array};c(s,s.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){r=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=r,r}if(t.hierarchy.groupingDataFields){for(var u=new Array,o=0;o<t.hierarchy.groupingDataFields.length;o++)u.push(t.hierarchy.groupingDataFields[o].name);r=this.getGroupedRecords(u,"records","label",null,"data",null,"parent",e);return this.hierarchy=r,r}}},addRecord:function(e,t,r,a){var n=this;if(void 0!=e){if(void 0==r){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||a)){var i=n._source&&n._source.hierarchy?n._source.hierarchy.reservedNames:null;null==i&&(i={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[i.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var o=function(a){if(a)for(var i=0;i<a.length;i++){var s=a[i];if(s.uid==r){var d=n._source&&n._source.hierarchy?n._source.hierarchy.reservedNames:null;return null==d&&(d={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[d.parent]=s,e[d.level]=s[d.level]+1,s.records?s[d.leaf]=!1:(s.records=new Array,s[d.leaf]=!1),"last"==t?s.records.push(e):"number"==typeof t&&isFinite(t)?s.records.splice(t,0,e):s.records.splice(0,0,e),!0}s.records&&o(s.records)}};o(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var r=function(a){if(a)for(var n=0;n<a.length;n++){var i=a[n];if(i.uid==e){a.splice(n,1),t.recordids[e]&&delete t.recordids[e];var o=function(e){for(var r=0;r<e.length;r++){for(var a=e[r].uid,n=0;n<t.records.length;n++)if(t.records[n].uid==a){t.records.splice(n,1);break}e[r].records&&o(e[r].records)}};i.records&&o(i.records);for(var s=0;s<t.records.length;s++)if((i=t.records[s]).uid==e){t.records.splice(s,1);break}return!0}i.records&&r(i.records)}};r(this.hierarchy)}else for(var a=0;a<this.records.length;a++)if(this.records[a].uid==e)return this.records.splice(a,1),!0;return!1},addForeignValues:function(e){for(var t=this,r=e.datafields?e.datafields.length:0,a=0;a<r;a++){var n=e.datafields[a];if(void 0!=n)if(void 0!=n.values){void 0==n.value&&(n.value=n.name),void 0==n.values.value&&(n.values.value=n.value);var i,o,s=new Array;t.pageable&&t.virtualmode?(o=(i=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(o=t.totalrecords):t.virtualmode?(i=e.recordstartindex,(o=e.recordendindex)>t.totalrecords&&(o=t.totalrecords)):(i=0,o=t.records.length);for(g=i;g<o;g++){var d=t.records[g],l=n.name,c=d[n.value];if(void 0!=s[c])d[l]=s[c];else for(var u=0;u<n.values.source.length;u++){var f=n.values.source[u],h=f[n.values.value];if(void 0==h&&(h=f.uid),h==c){var p=f[n.values.name];d[l]=p,s[c]=p;break}}}}else if(void 0!=n.value)for(var g=0;g<t.records.length;g++)(d=t.records[g])[n.name]=d[n.value]}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,r,a){var n=this;a.loadServerData(t,r,function(t){if(t.totalrecords&&(r.totalrecords=t.totalrecords,n.totalrecords=t.totalrecords),t.records&&(n.records=t.records,n.cachedrecords=t.records),n.addForeignValues(r),a.uniqueDataFields){var i=n.getUniqueRecords(n.records,a.uniqueDataFields);n.records=i,n.cachedrecords=i}if(a.beforeLoadComplete){var o=a.beforeLoadComplete(n.records,data);void 0!=o&&(n.records=o,n.cachedrecords=o)}for(var s=0;s<n.records.length;s++){var d=n.records[s];void 0!=d&&void 0==d.uid&&(d.uid=n.getid(r.id,d,s))}n.buildHierarchy.call(n),e.isFunction(a.loadComplete)&&a.loadComplete(t),n.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var r=e.length,a=t.length,n=new Array,i=new Array,o=0;o<r;o++){var s=e[o],d="";if(void 0!=s){for(var l=0;l<a;l++)d+=s[t[l]]+"_";i[d]||(n[n.length]=s),i[d]=!0}}return n},getAggregatedData:function(t,r,a,n){var i=a;i||(i=this.records);var o={},s=new Array,d=i.length;if(0!=d&&void 0!=d){for(var l=0;l<d;l++)for(var c=i[l],u=0;u<t.length;u++){var f=t[u],h=c[f.name];if(f.aggregates){o[f.name]=o[f.name]||{},s[f.name]=s[f.name]||0,s[f.name]++;var p=function(t){for(obj in t){var r=o[f.name][obj];null==r&&(o[f.name][obj]=0,r=0),e.isFunction(t[obj])&&(r=t[obj](r,h,f.name,c,n)),o[f.name][obj]=r}},g=parseFloat(h);(g=!isNaN(g))&&(h=parseFloat(h)),"number"==typeof h&&isFinite(h)?e.each(f.aggregates,function(){var e=o[f.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(h);else if("product"==this)0==l?e=parseFloat(h):e*=parseFloat(h);else if("min"==this)e=Math.min(e,parseFloat(h));else if("max"==this)e=Math.max(e,parseFloat(h));else if("count"==this)e++;else if("object"==typeof this)return void p(this);o[f.name][this]=e}):e.each(f.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===h)return!0;var e=o[f.name][this];return null==e&&(e=0),o[f.name][this]=e,!0}"object"==typeof this&&p(this)})}}for(u=0;u<t.length;u++){f=t[u];if(o[f.name]||(o[f.name]={},e.each(f.aggregates,function(e){o[f.name][this]=0})),void 0!=o[f.name].avg){var h=o[f.name].avg,v=s[f.name];o[f.name].avg=0===v||void 0==v?0:h/v}else void 0!=o[f.name].count&&(o[f.name].count=d);(o[f.name].stdev||o[f.name].stdevp||o[f.name].var||o[f.name].varp)&&e.each(f.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=o[f.name][this],r=d,a=t/d,n=0,s=0;s<d;s++){var l=i[s][f.name];n+=(l-a)*(l-a)}var c="stdevp"==this||"varp"==this?r:r-1;0==c&&(c=1),"var"==this||"varp"==this?o[f.name][this]=n/c:"stdevp"!=this&&"stdev"!=this||(o[f.name][this]=Math.sqrt(n/c))}}),f.formatStrings&&e.each(f.aggregates,function(t){var a=f.formatStrings[t];if(a)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){n=o[f.name][this];o[f.name][this]=e.jqx.dataFormat.formatnumber(n,a,r)}else if("object"==typeof this)for(obj in this){var n=o[f.name][obj];o[f.name][obj]=e.jqx.dataFormat.formatnumber(n,a,r)}})}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,r,a,n,i,o,s,d,l){var c=this;l||(l=0);for(var u=new Array,f=0;f<t.length;f++)u[f]=c.generatekey();r||(r="items"),a||(a="group"),i||(i="record"),s||(s="parentItem"),void 0===o&&(o="value");var h=new Array,p=0,g=new Array,v=t.length;new Array;if(!d)var d=this.records;for(var m=d.length,y=0;y<m;y++){var b=function(t){var r=t;return n&&e.each(n,function(){this.name&&this.map&&(r[this.map]=r[this.name])}),r}(d[y]);id=b[c.uniqueId];var x=new Array,S=0;for(f=0;f<v;f++){var O=b[t[f]];null!=O&&(x[S++]={value:O,hash:u[f]})}if(x.length!=v)break;for(var w=null,A="",_=0;_<x.length;_++){0;var T=x[_].value;if(A=A+"_"+x[_].hash+"_"+T,void 0==g[A]||null==g[A]){if(null==w){(w={level:0})[s]=null,w[a]=T,w[i]=b,void 0!==b.expanded?w.expanded=b.expanded:w.expanded=!1,o&&(w[o]=b[o]),w[r]=new Array;var N=h.length+l;this._source.id&&"number"!=typeof b.uid&&!isFinite(b.uid)||(N="Row"+N),w.uid=N,h[p++]=w}else{var j={level:w.level+1};j[s]=w,j[a]=T,j[r]=new Array,j[i]=b,void 0!==b.expanded?j.expanded=b.expanded:j.expanded=!1,o&&(j[o]=b[o]),j.uid=w.uid+"_"+w[r].length,w[r][w[r].length]=j,w=j}g[A]=w}else w=g[A]}b&&(b.leaf=!0),null!=w?(null==this._source.id&&(void 0==b.uid?b.uid=w.uid+"_"+w[r].length:-1==b.uid.toString().indexOf(w.uid)&&(b.uid=w.uid+"_"+b.uid)),b[s]=w,b.level=w.level+1,w[r][w[r].length]=b):void 0==b.uid&&(b.uid=this.generatekey())}return h},getRecordsHierarchy:function(t,r,a,n,i){var o=new Array,s=this.records;if(i&&(s=i),0==this.records.length)return null;for(var d=null!=a?a:"items",l=[],c=s,u=c.length,f=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,h=function(t){var r=t;return n&&e.each(n,function(){this.name&&this.map&&(r[this.map]=r[this.name])}),r},p=0;p<u;p++){g=(m=e.extend({},c[p]))[r];l[v=m[t]]={parentid:g,item:m}}for(p=0;p<u;p++){var g=(m=e.extend({},c[p]))[r],v=m[t];if(void 0!=l[g]){var m={parentid:g,item:l[v].item},y=l[g].item;y[d]||(y[d]=[]);var b=y[d].length,x=m.item;f?void 0==x[f.parent]&&(x[f.parent]=y):void 0==x.parent&&(x.parent=y);S=h(x);y[d][b]=S,l[g].item=y,l[v]=m}else{x=l[v].item;f?void 0==x[f.parent]&&(x[f.parent]=null):void 0==x.parent&&(x.parent=null);var S=h(x);f?S[f.level]=0:S.level=0,o[o.length]=S}}if(0!=o.length){var O=function(e,t){for(var r=0;r<t.length;r++){f?t[r][f.level]=e:t[r].level=e;var a=t[r][d];a&&a.length>0?O(e+1,a):f?t[r][f.leaf]=!0:t[r].leaf=!0}};O(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var r=this._bindingUpdate[t];null!=r.func&&r.func(e)}},getid:function(t,r,a){if(null==t||void 0==t.name||!t.name){if(e(t,r).length>0)return e(t,r).text();if(t&&t.toString().length>0){var n=e(r).attr(t);if(null!=n&&n.toString().length>0)return e.trim(n).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var i=t.split(this.mapChar);if(i.length>1){for(var o=r,s=0;s<i.length;s++)void 0!=o&&(o=o[i[s]]);if(void 0!=o)return o}else if(void 0!=r[t])return r[t]}return a}if(null!=(n=e(r).attr(t.name))&&n.toString().length>0)return n;if(t.map)try{if(null!=(n=e(r).attr(t.map))&&n.toString().length>0)return n;if(e(t.map,r).length>0)return e(t.map,r).text();if(e(t.name,r).length>0)return e(t.name,r).text()}catch(e){return a}},loadjson:function(t,r,a){"string"==typeof t&&(t=e.parseJSON(t)),void 0==a.root&&(a.root=""),void 0==a.record&&(a.record=""),(t=t||r)||(t=[]);var n=this;if(""!=a.root){if((w=a.root.split(n.mapChar)).length>1){for(var i=t,o=0;o<w.length;o++)void 0!=i&&(i=i[w[o]]);t=i}else if(void 0!==t[a.root]?t=t[a.root]:t[0]&&void 0!==t[0][a.root]?t=t[0][a.root]:e.each(t,function(e){if(this==a.root)return t=this,!1;void 0!=this[a.root]&&(t=this[a.root])}),!t&&(w=a.root.split(n.mapChar)).length>0){for(var i=t,o=0;o<w.length;o++)void 0!=i&&(i=i[w[o]]);t=i}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t||"undefined"==t||void 0==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0!=t.length){var s=t.length;this.totalrecords=this.virtualmode?a.totalrecords||s:s,this.records=new Array,this.originaldata=new Array;var d=this.records,l=this.pageable?this.pagesize*this.pagenum:a.recordstartindex;this.recordids=new Array,a.loadallrecords&&(l=0,s=this.totalrecords);var c=0;this.virtualmode&&(c=l=this.pageable?this.pagesize*this.pagenum:a.recordstartindex,l=0,s=this.totalrecords);var u=a.datafields?a.datafields.length:0;if(0==u){var f=t[0],h=new Array;for(obj in f){var p=obj;h[h.length]={name:p}}a.datafields=h,a.generatedfields=a.datafields,u=h.length}for(var g=l,v=l;v<s;v++){var m=t[v];if(void 0==m)break;if(!a.record||""==a.record||void 0!=(m=m[a.record])){var y=this.getid(a.id,m,v);if("object"==typeof y&&(y=v),!this.recordids[y]){this.recordids[y]=m;for(var b={},x=0;x<u;x++){var S=a.datafields[x],O="";if(void 0!=S&&null!=S){if(S.map){if(e.isFunction(S.map))O=S.map(m);else{var w=S.map.split(n.mapChar);if(w.length>0){for(var A=m,o=0;o<w.length;o++)void 0!=A&&(A=A[w[o]]);O=A}else O=m[S.map]}void 0!=O&&null!=O?O=this.getvaluebytype(O,S):void 0==O&&null!=O&&(O="")}if(""==O&&!S.map&&(void 0==(O=m[S.name])&&null!=O&&(O=""),void 0!=S.value&&void 0!=O)){var _=O[S.value];void 0!=_&&(O=_)}if(O=this.getvaluebytype(O,S),void 0!=S.displayname?b[S.displayname]=O:b[S.name]=O,"array"===S.type){var T=function(t){if(t)for(var r=0;r<t.length;r++){var i=t[r];if(i)for(var o=0;o<u;o++){var s=a.datafields[o],d="";if(void 0!=s&&null!=s){if(s.map){if(e.isFunction(s.map))d=s.map(i);else{var l=s.map.split(n.mapChar);if(l.length>0){for(var c=i,f=0;f<l.length;f++)void 0!=c&&(c=c[l[f]]);d=c}else d=i[s.map]}void 0!=d&&null!=d?d=this.getvaluebytype(d,s):void 0==d&&null!=d&&(d="")}if(""==d&&!s.map&&(void 0==(d=i[s.name])&&null!=d&&(d=""),void 0!=s.value&&void 0!=d)){var h=d[s.value];void 0!=h&&(d=h)}d=this.getvaluebytype(d,s),void 0!=s.displayname?i[s.displayname]=d:i[s.name]=d,"array"===s.type&&T.call(this,d)}}}};T.call(this,O)}}}(a.recordendindex<=0||l<a.recordendindex)&&(d[c+g]=new Object(b),d[c+g].uid=y,this.originaldata[c+g]=new Object(d[v]),g++)}}}this.records=d,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(t,r,a){"string"==typeof t&&(t=r=e(e.parseXML(t)),t=null),void 0==a.root&&(a.root=""),void 0==a.record&&(a.record="");var t;(t=e.jqx.browser.msie&&r&&void 0!=r.xml?e(a.root+" "+a.record,e.parseXML(r.xml)):t||e(a.root+" "+a.record,r))||(t=[]);var n=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?a.totalrecords||n:n,this.records=new Array,this.originaldata=new Array;var i=this.records,o=this.pageable?this.pagesize*this.pagenum:a.recordstartindex;this.recordids=new Array,a.loadallrecords&&(o=0,n=this.totalrecords);var s=0;this.virtualmode&&(s=o=this.pageable?this.pagesize*this.pagenum:a.recordstartindex,o=0,n=this.totalrecords);var d=a.datafields?a.datafields.length:0;if(0==d){var l=t[0],c=new Array;for(obj in l){var u=obj;c[c.length]={name:u}}a.datafields=c,a.generatedfields=a.datafields,d=c.length}for(var f=o,h=o;h<n&&void 0!=(_=t[h]);h++){N=this.getid(a.id,_,h);if(!this.recordids[N]){this.recordids[N]=_;var p={},g=!1;a.hierarchy&&a.hierarchy.root&&(g=!0);for(var v=0;v<d;v++){var m=a.datafields[v],y="";if(void 0!=m&&null!=m){if(m.map)if(e.isFunction(m.map))y=m.map(_);else{var b=m.map.indexOf("[");if(b<0)if(1==(y=e(m.map,_)).length)y=y.text();else{!0;for(var x=new Array,S=0;S<y.length;S++)x.push(e(y[S]).text());y=x,g&&x.length>0&&(y=x[0])}else{var O=m.map.substring(0,b-1),w=m.map.indexOf("]"),A=m.map.substring(b+1,w);void 0==(y=e(O,_).attr(A))&&(y=e(_).attr(A)),void 0==y&&(y="")}""==y&&void 0==(y=e(_).attr(m.map))&&(y="")}if(""==y){if(1==(y=e(m.name,_)).length)y=y.text();else{for(var x=new Array,S=0;S<y.length;S++)x.push(e(y[S]).text());y=x,g&&x.length>0&&(y=x[0])}""==y&&void 0==(y=e(_).attr(m.name))&&(y=""),""==y&&_.nodeName&&_.nodeName==m.name&&_.firstChild&&(y=e(_.firstChild).text())}y=this.getvaluebytype(y,m),void 0!=m.displayname?p[m.displayname]=y:p[m.name]=y}}(a.recordendindex<=0||o<a.recordendindex)&&(i[s+f]=e.extend({},p),i[s+f].uid=N,this.originaldata[s+f]=e.extend({},i[h]),f++)}}if(a.hierarchy&&a.hierarchy.root)for(h=o;h<n;h++){var _=t[h],T=i[h];if(e(_).parent().length>0){var N=this.getid(a.id,e(_).parents(a.hierarchy.record+":first"));T.parentuid=N}else T.parentuid=null}this.records=i,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var r=t.rowDelimiter||this.rowDelimiter||"\n",a=e.split(r),n=a.length,i=e.split("\r");1==n&&i.length>1&&(n=(a=i).length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var s=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},d=0;d<n;d++){var l=a[d];if("BEGIN:VEVENT"!=l)if(l.indexOf("SUMMARY")>=0)u.SUMMARY=l.substring(l.indexOf("SUMMARY")+8);else if(l.indexOf("LOCATION")>=0)u.LOCATION=l.substring(l.indexOf("LOCATION")+9);else if(l.indexOf("DESCRIPTION")>=0)u.DESCRIPTION=l.substring(l.indexOf("DESCRIPTION")+12);else if(l.indexOf("RRULE")>=0)u.RRULE=l.substring(l.indexOf("RRULE")+6);else if(l.indexOf("EXDATE")>=0){var c=l.substring(l.indexOf("EXDATE")+7);u.EXDATE=c}else l.indexOf("DTEND")>=0?u.DTEND=s(l.substring(l.indexOf("DTEND")+6)):l.indexOf("DTSTART")>=0?u.DTSTART=s(l.substring(l.indexOf("DTSTART")+8)):l.indexOf("UID")>=0?u.uid=u.UID=l.substring(l.indexOf("UID")+4):l.indexOf("STATUS")>=0?u.STATUS=l.substring(l.indexOf("STATUS")+7):"END:VEVENT"!=l||o.push(u);else var u={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(t,r){if(null!=t){var a=r.rowDelimiter||this.rowDelimiter||"\n",n=t.split(a),i=n.length,o=t.split("\r");1==i&&o.length>1&&(i=(n=o).length),this.totalrecords=this.virtualmode?r.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var s=this.records,d=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(d=0,i=this.totalrecords);var l=0;this.virtualmode&&(l=d=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,d=0,i=this.totalrecords);var c=r.datafields.length,u=r.columnDelimiter||this.columnDelimiter;u||(u="tab"===r.datatype||"tsv"===r.datatype?"\t":",");for(var f=d;f<i;f++){var h=n[f],p=null;if(!this.recordids[p]){null==r.id&&(p=f,this.recordids[p]=h);for(var g={},v=n[f].split(u),m=0;m<c;m++)if(!(m>=v.length)){var y=r.datafields[m],b=v[m];y.map&&e.isFunction(y.map)&&(b=y.map(h)),y.type&&(b=this.getvaluebytype(b,y)),g[y.map||y.name||m.toString()]=b,null!=r.id&&r.id===y.name&&(p=b,this.recordids[p]=h)}null==p&&(p=f),s[l+f]=e.extend({},g),s[l+f].uid=p,this.originaldata[l+f]=e.extend({},s[f])}}this.records=s,this.cachedrecords=this.records}},getvaluebytype:function(t,r){var a=t;if(null==t)return t;if(e.isArray(t)&&"array"!=r.type){for(var n=0;n<t.length;n++)t[n]=this.getvaluebytype(t[n],r);return t}if("date"==r.type)if("NaN"==t)t="";else{if(t&&t instanceof Date)return t;var i=new Date(t);if("string"==typeof t&&r.format){var o=e.jqx.dataFormat.parsedate(t,r.format);null!=o&&(i=o)}null==(t=("NaN"==i.toString()||"Invalid Date"==i.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):i)&&(t=a)}else if("float"==r.type||"number"==r.type||"decimal"==r.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=a)}else if("int"==r.type||"integer"==r.type){var t=parseInt(t);isNaN(t)&&(t=a)}else"bool"!=r.type&&"boolean"!=r.type||(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var r,a=e.patterns,n=t.length;if(1===n){if(!(r=a[t]))throw"Invalid date format string '"+t+"'.";t=r}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var r,a=e.getTime(),n=0,i=t.length;n<i;n++)if(null===(r=t[n].start)||a>=r)return n;return 0},toUpper:function(e){return e.split("Â ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],r=0,a=e.length;r<a;r++)t[r]=this.toUpper(e[r]);return t},getEraYear:function(e,t,r,a){var n=e.getFullYear();return!a&&t.eras&&(n-=t.eras[r].offset),n},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,r){var a,n=e.days,i=e._upperDays;return i||(e._upperDays=i=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr),this.toUpperArray(n.namesShort)]),t=t.toUpperCase(),r?-1===(a=this.arrayIndexOf(i[1],t))&&(a=this.arrayIndexOf(i[2],t)):a=this.arrayIndexOf(i[0],t),a},getMonthIndex:function(e,t,r){var a=e.months,n=e.monthsGenitive||e.months,i=e._upperMonths,o=e._upperMonthsGen;i||(e._upperMonths=i=[this.toUpperArray(a.names),this.toUpperArray(a.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr)]),t=this.toUpper(t);var s=this.arrayIndexOf(r?i[1]:i[0],t);return s<0&&(s=this.arrayIndexOf(r?o[1]:o[0],t)),s},appendPreOrPostMatch:function(e,t){for(var r=0,a=!1,n=0,i=e.length;n<i;n++){var o=e.charAt(n);switch(o){case"'":a?t.push("'"):r++,a=!1;break;case"\\":a&&t.push("\\"),a=!a;break;default:t.push(o),a=!1}}return r},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var r="";return t&&t.target&&(r="target="+t.target),""!=r?"<a "+r+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,r){return this.formatnumber(e,t,r)},formatnumber:function(e,t,r){if(void 0!=r&&null!=r&&""!=r||(r=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var a;t.length>1&&(a=parseInt(t.slice(1),10));var n={},i=t.charAt(0).toUpperCase();switch(n.thousandsSeparator=r.thousandsseparator,n.decimalSeparator=r.decimalseparator,i){case"D":case"d":case"F":case"f":n.decimalPlaces=a;break;case"N":case"n":n.decimalPlaces=0;break;case"C":case"c":n.decimalPlaces=a,"before"==r.currencysymbolposition?n.prefix=r.currencysymbol:n.suffix=r.currencysymbol;break;case"P":case"p":n.suffix=r.percentsymbol,n.decimalPlaces=a;break;default:throw"Bad number format specifier: "+i}if(this.isNumber(e)){var o,s=e<0,d=e+"",l=n.decimalSeparator?n.decimalSeparator:".";if(this.isNumber(n.decimalPlaces)){var c=n.decimalPlaces,u=Math.pow(10,c);if(d=(e*u).toFixed(0)/u+"",o=d.lastIndexOf("."),c>0)for(o<0?o=(d+=l).length-1:"."!==l&&(d=d.replace(".",l));d.length-1-o<c;)d+="0"}else(o=(d=e+"").lastIndexOf("."))>0&&void 0==c&&"."!==l&&(d=d.replace(".",l));if(n.thousandsSeparator){var f=n.thousandsSeparator;o=(o=d.lastIndexOf(l))>-1?o:d.length;for(var h=d.substring(o),p=-1,g=o;g>0;g--)++p%3==0&&g!==o&&(!s||g>1)&&(h=f+h),h=d.charAt(g-1)+h;d=h}return d=n.prefix?n.prefix+d:d,d=n.suffix?d+n.suffix:d}return e},tryparsedate:function(t,r){void 0!=r&&null!=r||(r=this.defaultcalendar());var a=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var n=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;if("Invalid Date"==(i=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")))){var i=null;(C=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(i=new Date(1*C[1]+36e5*C[2]+6e4*C[3]))}if(null==i||"Invalid Date"==i||isNaN(i)){var o=n.exec(t);if(o){I=new Date(parseInt(o[1]));if(o[2]){var s=parseInt(o[3]);"-"===o[2]&&(s=-s);var d=I.getUTCMinutes();I.setUTCMinutes(d-s)}if(!isNaN(I.valueOf()))return I}}return i}patterns=r.patterns;for(prop in patterns)if(i=a.parsedate(t,patterns[prop],r))return"ISO"==prop&&(l=a.parsedate(t,patterns.ISO2,r))?l:i;if(null!=t){for(var l=null,c=[":","/","-"],u=!0,f=0;f<c.length;f++)-1!=t.indexOf(c[f])&&(u=!1);if(u){var h=new Number(t);if(!isNaN(h))return new Date(h)}}if("string"===e.type(t)){var p=a,g=[":","/","-"," ",","],v="",m=t=function(e,t,r){return r.replace(new RegExp(e,"g"),t)}(", ",",",t=p.trim(t));t.indexOf(":")>=0?(v=t.substring(t.indexOf(":")-2),v=p.trim(v),m=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(v=t.substring(t.toUpperCase().indexOf("AM")-2),v=p.trim(v),m=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(v=t.substring(t.toUpperCase().indexOf("PM")-2),v=p.trim(v),m=t.substring(0,t.toUpperCase().indexOf("PM")-2));var y=new Date,b=!1;if(m){for(_=0;_<g.length;_++)if(m.indexOf(g[_])>=0){c=m.split(g[_]);break}for(var x=new Array,S=new Array,O=new Array,w=null,A=null,_=0;_<c.length;_++){var f=c[_],T=p.parsedate(f,"d",r)||p.parsedate(f,"dd",r)||p.parsedate(f,"ddd",r)||p.parsedate(f,"dddd",r);if(T&&f.length<=2){w=_,x.push(T.getDate());break}}for(_=0;_<c.length;_++){var f=c[_],N=p.parsedate(f,"M",r)||p.parsedate(f,"MM",r)||p.parsedate(f,"MMM",r)||p.parsedate(f,"MMMM",r);if(N){if(void 0!=w&&w==_)continue;if(S.push(N.getMonth()),f.length>2){A=_;break}}}for(_=0;_<c.length;_++){var f=c[_],j=p.parsedate(f,"yyyy",r);if(j){if(void 0!=w&&w==_)continue;if(void 0!=A&&A==_)continue;O.push(j.getFullYear())}}for(var E=new Array,M=0;M<x.length;M++)for(var C=0;C<S.length;C++)for(var D=0;D<O.length;D++){var I=new Date(O[D],S[C],x[M]);O[D]<1970&&I.setFullYear(O[D]),NaN!=I.getTime()&&E.push(I)}E.length>0&&(y=E[0],b=!0)}if(v){var F=v.indexOf(":")>=0?v.split(":"):v,U=p.parsedate(v,"h:mm tt",r)||p.parsedate(v,"h:mm:ss tt",r)||p.parsedate(v,"HH:mm:ss.fff",r)||p.parsedate(v,"HH:mm:ss.ff",r)||p.parsedate(v,"HH:mm:ss.tttt",r)||p.parsedate(v,"HH:mm:ss",r)||p.parsedate(v,"HH:mm",r)||p.parsedate(v,"HH",r),q=0,R=0,L=0,k=0;U&&NaN!=U.getTime()?(q=U.getHours(),R=U.getMinutes(),L=U.getSeconds(),k=U.getMilliseconds()):(1==F.length&&(q=parseInt(F[0])),2==F.length&&(q=parseInt(F[0]),R=parseInt(F[1])),3==F.length&&(q=parseInt(F[0]),R=parseInt(F[1]),F[2].indexOf(".")>=0?(L=parseInt(F[2].toString().split(".")[0]),k=parseInt(F[2].toString().split(".")[1])):L=parseInt(F[2])),4==F.length&&(q=parseInt(F[0]),R=parseInt(F[1]),L=parseInt(F[2]),k=parseInt(F[3]))),!y||isNaN(q)||isNaN(R)||isNaN(L)||isNaN(k)||(y.setHours(q,R,L,k),b=!0)}if(b)return y}return null},getparseregexp:function(e,t){var r=e._parseRegExp;if(r){var a=r[t];if(a)return a}else e._parseRegExp=r={};for(var n,i=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],s=[],d=0,l=0,c=this.getTokenRegExp();null!==(n=c.exec(i));){var u=i.slice(d,n.index);if(d=c.lastIndex,(l+=this.appendPreOrPostMatch(u,o))%2)o.push(n[0]);else{var f,h=n[0],p=h.length;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+h+"'."}f&&o.push(f),s.push(n[0])}}this.appendPreOrPostMatch(i.slice(d),o),o.push("$");var g={regExp:o.join("").replace(/\s+/g,"\\s+"),groups:s};return r[t]=g},outOfRange:function(e,t,r){return e<t||e>r},expandYear:function(e,t){var r=new Date,a=this.getEra(r);if(t<100){var n=e.twoDigitYearMax;n="string"==typeof n?(new Date).getFullYear()%100+parseInt(n,10):n;var i=this.getEraYear(r,e,a);(t+=i-i%100)>n&&(t-=100)}return t},parsedate:function(e,t,r){void 0!=r&&null!=r||(r=this.defaultcalendar()),e=this.trim(e);var a=r,n=this.getparseregexp(a,t),i=new RegExp(n.regExp).exec(e);if(null===i)return null;for(var o,s=n.groups,d=null,l=null,c=null,u=null,f=null,h=0,p=0,g=0,v=0,m=null,y=!1,b=0,x=s.length;b<x;b++){var S=i[b+1];if(S){var O=s[b],w=O.length,A=parseInt(S,10);switch(O){case"dd":case"d":if(u=A,this.outOfRange(u,1,31))return null;break;case"MMM":case"MMMM":if(c=this.getMonthIndex(a,S,3===w),this.outOfRange(c,0,11))return null;break;case"M":case"MM":if(c=A-1,this.outOfRange(c,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=w<4?this.expandYear(a,A):A,this.outOfRange(l,0,9999))return null;break;case"h":case"hh":if(12===(h=A)&&(h=0),this.outOfRange(h,0,11))return null;break;case"H":case"HH":if(h=A,this.outOfRange(h,0,23))return null;break;case"m":case"mm":if(p=A,this.outOfRange(p,0,59))return null;break;case"s":case"ss":if(g=A,this.outOfRange(g,0,59))return null;break;case"tt":case"t":if(!(y=a.PM&&(S===a.PM[0]||S===a.PM[1]||S===a.PM[2]))&&(!a.AM||S!==a.AM[0]&&S!==a.AM[1]&&S!==a.AM[2]))return null;break;case"f":case"ff":case"fff":if(v=A*Math.pow(10,3-w),this.outOfRange(v,0,999))return null;break;case"ddd":case"dddd":if(f=this.getDayIndex(a,S,3===w),this.outOfRange(f,0,6))return null;break;case"zzz":var _=S.split(/:/);if(2!==_.length)return null;if(o=parseInt(_[0],10),this.outOfRange(o,-12,13))return null;var T=parseInt(_[1],10);if(this.outOfRange(T,0,59))return null;m=60*o+(this.startsWith(S,"-")?-T:T);break;case"z":case"zz":if(o=A,this.outOfRange(o,-12,13))return null;m=60*o;break;case"g":case"gg":var N=S;if(!N||!a.eras)return null;N=trim(N.toLowerCase());for(var j=0,E=a.eras.length;j<E;j++)if(N===a.eras[j].name.toLowerCase()){d=j;break}if(null===d)return null}}}var M,C=new Date,D=a.convert;if(M=C.getFullYear(),null===l?l=M:a.eras&&(l+=a.eras[d||0].offset),null===c&&(c=0),null===u&&(u=1),D){if(null===(C=D.toGregorian(l,c,u)))return null}else{if(C.setFullYear(l,c,u),C.getDate()!==u)return null;if(null!==f&&C.getDay()!==f)return null}if(y&&h<12&&(h+=12),C.setHours(h,p,g,v),null!==m){var I=C.getMinutes()-(m+C.getTimezoneOffset());C.setHours(C.getHours()+parseInt(I/60,10),I%60)}return C},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,r){return this.formatdate(e,t,r)},formatdate:function(e,t,r){function a(e,t){var r,a=e+"";return t>1&&a.length<t?(r=u[t-2]+a).substr(r.length-t,t):r=a}function n(e,t){if(c)return c[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(void 0!=r&&null!=r||(r=this.defaultcalendar()),"string"==typeof e)return e;var i=e.toString()+"_"+t;if(this.datescache&&this.datescache[i]&&-1==t.indexOf("f"))return this.datescache[i];if(!t||!t.length||"i"===t){var o;return o=this.formatDate(e,r.patterns.F,r)}var s=r.eras,d="s"===t;t=this.expandFormat(r,t),o=[];for(var l,c,u=["0","00","000"],f=0,h=this.getTokenRegExp();;){var p=h.lastIndex,g=h.exec(t),v=t.slice(p,g?g.index:t.length);if(f+=this.appendPreOrPostMatch(v,o),!g)break;if(f%2)o.push(g[0]);else{var m=g[0],y=m.length;switch(m){case"ddd":case"dddd":var b=3===y?r.days.namesAbbr:r.days.names;o.push(b[e.getDay()]);break;case"d":case"dd":!0,o.push(a(n(e,2),y));break;case"MMM":case"MMMM":var x=n(e,1);o.push(r.months[3===y?"namesAbbr":"names"][x]);break;case"M":case"MM":o.push(a(n(e,1)+1,y));break;case"y":case"yy":case"yyyy":x=this.getEraYear(e,r,this.getEra(e,s),d),y<4&&(x%=100),o.push(a(x,y));break;case"h":case"hh":0===(l=e.getHours()%12)&&(l=12),o.push(a(l,y));break;case"H":case"HH":o.push(a(e.getHours(),y));break;case"m":case"mm":o.push(a(e.getMinutes(),y));break;case"s":case"ss":o.push(a(e.getSeconds(),y));break;case"t":case"tt":x=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",o.push(1===y?x.charAt(0):x);break;case"f":case"ff":case"fff":o.push(a(e.getMilliseconds(),3).substr(0,y));break;case"z":case"zz":l=e.getTimezoneOffset()/60,o.push((l<=0?"+":"-")+a(Math.floor(Math.abs(l)),y));break;case"zzz":l=e.getTimezoneOffset()/60,o.push((l<=0?"+":"-")+a(Math.floor(Math.abs(l)),2)+":"+a(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&o.push(r.eras[this.getEra(e,s)].name);break;case"/":o.push(r["/"]);break;default:throw"Invalid date format pattern '"+m+"'."}}}var S=o.join("");return this.datescache||(this.datescache=new Array),this.datescache[i]=S,S}}),e.jqx.data={};var d,l,c=/#.*$/,u=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,f=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,h=/^(?:GET|HEAD)$/,p=/^\/\//,g=/\?/,v=/([?&])_=[^&]*/,m=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,y=/\s+/,b=(e.fn.load,{}),x={},S=["*/"]+["*"];try{l=location.href}catch(e){(l=document.createElement("a")).href="",l=l.href}d=m.exec(l.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,r){return r?a(t,e.jqx.data.ajaxSettings):(r=t,t=e.jqx.data.ajaxSettings),a(t,r),t},ajaxSettings:{url:l,isLocal:f.test(d[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":S},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(b),ajaxTransport:t(x),ajax:function(t,a){function o(t,r,a,o){var d,c,u,f,h,p=r;2!==U&&(U=2,w&&clearTimeout(w),O=void 0,l=o||"",R.readyState=t>0?4:0,a&&(f=n(N,R,a)),t>=200&&t<300||304===t?(N.ifModified&&((h=R.getResponseHeader("Last-Modified"))&&(e.lastModified[s]=h),(h=R.getResponseHeader("Etag"))&&(e.etag[s]=h)),304===t?(p="notmodified",d=!0):(p=(d=i(N,f)).state,c=d.data,d=!(u=d.error))):(u=p,p&&!t||(p="error",t<0&&(t=0))),R.status=t,R.statusText=(r||p)+"",d?M.resolveWith(j,[c,p,R]):M.rejectWith(j,[R,p,u]),R.statusCode(D),D=void 0,_&&E.trigger("ajax"+(d?"Success":"Error"),[R,N,d?c:u]),C.fireWith(j,[R,p]),_&&(E.trigger("ajaxComplete",[R,N]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(a=t,t=void 0),a=a||{};var s,l,f,O,w,A,_,T,N=e.jqx.data.ajaxSetup({},a),j=N.context||N,E=j!==N&&(j.nodeType||j instanceof e)?e(j):e.event,M=e.Deferred(),C=e.Callbacks("once memory"),D=N.statusCode||{},I={},F={},U=0,q="canceled",R={readyState:0,setRequestHeader:function(e,t){if(!U){var r=e.toLowerCase();e=F[r]=F[r]||e,I[e]=t}return this},getAllResponseHeaders:function(){return 2===U?l:null},getResponseHeader:function(e){var t;if(2===U){if(!f)for(f={};t=u.exec(l);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return U||(N.mimeType=e),this},abort:function(e){return e=e||q,O&&O.abort(e),o(0,e),this}};if(M.promise(R),R.success=R.done,R.error=R.fail,R.complete=C.add,R.statusCode=function(e){if(e){var t;if(U<2)for(t in e)D[t]=[D[t],e[t]];else t=e[R.status],R.always(t)}return this},N.url=((t||N.url)+"").replace(c,"").replace(p,d[1]+"//"),N.dataTypes=e.trim(N.dataType||"*").toLowerCase().split(y),null==N.crossDomain&&(A=m.exec(N.url.toLowerCase()),N.crossDomain=!(!A||A[1]===d[1]&&A[2]===d[2]&&(A[3]||("http:"===A[1]?80:443))==(d[3]||("http:"===d[1]?80:443)))),N.data&&N.processData&&"string"!=typeof N.data&&(N.data=e.param(N.data,N.traditional)),r(b,N,a,R),2===U)return R;if(_=N.global,N.type=N.type.toUpperCase(),N.hasContent=!h.test(N.type),_&&0==e.active++&&e.event.trigger("ajaxStart"),!N.hasContent&&(N.data&&(N.url+=(g.test(N.url)?"&":"?")+N.data,delete N.data),s=N.url,!1===N.cache)){var L=(new Date).getTime(),k=N.url.replace(v,"$1_="+L);N.url=k+(k===N.url?(g.test(N.url)?"&":"?")+"_="+L:"")}(N.data&&N.hasContent&&!1!==N.contentType||a.contentType)&&R.setRequestHeader("Content-Type",N.contentType),N.ifModified&&(s=s||N.url,e.lastModified[s]&&R.setRequestHeader("If-Modified-Since",e.lastModified[s]),e.etag[s]&&R.setRequestHeader("If-None-Match",e.etag[s])),R.setRequestHeader("Accept",N.dataTypes[0]&&N.accepts[N.dataTypes[0]]?N.accepts[N.dataTypes[0]]+("*"!==N.dataTypes[0]?", "+S+"; q=0.01":""):N.accepts["*"]);for(T in N.headers)R.setRequestHeader(T,N.headers[T]);if(N.beforeSend&&(!1===N.beforeSend.call(j,R,N)||2===U))return R.abort();q="abort";for(T in{success:1,error:1,complete:1})R[T](N[T]);if(O=r(x,N,a,R)){R.readyState=1,_&&E.trigger("ajaxSend",[R,N]),N.async&&N.timeout>0&&(w=setTimeout(function(){R.abort("timeout")},N.timeout));try{U=1,O.send(I,o)}catch(e){if(!(U<2))throw e;o(-1,e)}}else o(-1,"No Transport");return R},active:0,lastModified:{},etag:{}});var O=[],w=/\?/,A=/(=)\?(?=&|$)|\?\?/,_=(new Date).getTime();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=O.pop()||e.expando+"_"+_++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,r,a){var n,i,o,s=t.data,d=t.url,l=!1!==t.jsonp,c=l&&A.test(d),u=l&&!c&&"string"==typeof s&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&A.test(s);if("jsonp"===t.dataTypes[0]||c||u)return n=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,i=window[n],c?t.url=d.replace(A,"$1"+n):u?t.data=s.replace(A,"$1"+n):l&&(t.url+=(w.test(d)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||e.error(n+" was not called"),o[0]},t.dataTypes[0]="json",window[n]=function(){o=arguments},a.always(function(){window[n]=i,t[n]&&(t.jsonpCallback=r.jsonpCallback,O.push(n)),o&&e.isFunction(i)&&i(o[0]),o=i=void 0}),"script"}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,r=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(a,n){(t=document.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,a){(a||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,r&&t.parentNode&&r.removeChild(t),t=void 0,a||n(200,"success"))},r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var T,N=!!window.ActiveXObject&&function(){for(var e in T)T[e](0,1)},j=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&o()||s()}:o,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support||(e.support={ajax:!0}),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var r;return{send:function(a,n){var i,o,s=t.xhr();if(t.username?s.open(t.type,t.url,t.async,t.username,t.password):s.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");try{for(o in a)s.setRequestHeader(o,a[o])}catch(e){}s.send(t.hasContent&&t.data||null),r=function(e,a){var o,d,l,c,u;try{if(r&&(a||4===s.readyState))if(r=void 0,i&&(s.onreadystatechange=function(){},N&&delete T[i]),a)4!==s.readyState&&s.abort();else{o=s.status,l=s.getAllResponseHeaders(),c={},(u=s.responseXML)&&u.documentElement&&(c.xml=u);try{c.text=s.responseText}catch(e){}try{d=s.statusText}catch(e){d=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=c.text?200:404}}catch(e){a||n(-1,e)}c&&n(o,d,c,l)},t.async?4===s.readyState?setTimeout(r,0):(i=++j,N&&(T||(T={},e(window).unload(N)),T[i]=r),s.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],a=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL"],i=new Array,o=new Array;this.evaluate=function(e){for(var t=!0,r=0;r<i.length;r++){var a=i[r].evaluate(e);t=0==r?a:1==o[r]||"or"==o[r]?t||a:t&&a}return t},this.getfilterscount=function(){return i.length},this.setoperatorsbyfiltertype=function(e,i){switch(e){case"numericfilter":r=i;break;case"stringfilter":t=i;break;case"datefilter":a=i;break;case"booleanfilter":n=i}},this.getoperatorsbyfiltertype=function(e){var i=new Array;switch(e){case"numericfilter":i=r.slice(0);break;case"stringfilter":i=t.slice(0);break;case"datefilter":i=a.slice(0);break;case"booleanfilter":i=n.slice(0)}return i};var s=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,r,a,n,i){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new c(t,r.toUpperCase());case"stringfilter":return new d(t,r.toUpperCase());case"datefilter":return new u(t,r.toUpperCase(),n,i);case"booleanfilter":return new l(t,r.toUpperCase());case"custom":return new f(t,r.toUpperCase(),a)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<i.length;t++){var r={value:i[t].filtervalue,condition:i[t].comparisonoperator,operator:o[t],type:i[t].type};i[t].data&&(r.id=i[t].data),e[t]=r}return e},this.addfilter=function(e,t){i[i.length]=t,t.key=s(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<i.length;t++)if(i[t].key==e.key){i.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:e<0||e>i.length?null:o[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:e<0||e>i.length?null:void(o[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:e<0||e>i.length?null:i[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:e<0||e>i.length?null:(t.key=s(),void(i[e]=t))},this.clear=function(){i=new Array,o=new Array};var d=function(t,r){this.filtervalue=t,this.comparisonoperator=r,this.type="stringfilter",this.evaluate=function(t){var r=this.filtervalue,a=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==a)return!0;if("EQUAL"==a&&t==r)return!0;if("NOT_EQUAL"==a&&t!=r)return!0;if("EMPTY"!=a)return!1;if(""==t)return!0}var n="";try{n=t.toString()}catch(e){return!0}var i=function(t,r){switch(a){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,r);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,r);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,r);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,r);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,r);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,r);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,r);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,r);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,r);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,r);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,r);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,r);default:return!1}},o=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){if(v=i(n,r))return v;var s=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,d=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,l=r.indexOf(" and ")>=0?r.split(" and "):new Array,c=r.indexOf(" or ")>=0?r.split(" or "):new Array,u=r.indexOf("|")>=0?r.split("|"):new Array;if(u.length>0)for(h=0;h<u.length;h++)u[h]=e.trim(u[h]);var f=r.indexOf(" ")>=0?r.split(" "):new Array;if(f.length>0)for(h=0;h<f.length;h++)f[h]=e.trim(f[h]);if(s=s.concat(f),s=s.concat(l),d=d.concat(u),d=d.concat(c),s.length>0)for(h=0;h<s.length;h++)!s[h].indexOf(" OR ")>=0&&o.push(s[h]);if(d.length>0)for(var h=0;h<d.length;h++)!d[h].indexOf(" AND ")>=0&&o.push(d[h]);for(var p=void 0,g=0;g<o.length;g++){var v=i(n,t=o[g]),m=g<s.length?"and":"or";p=void 0==p?v:"or"==m?p||v:p&&v}return p}return i(n,r)}},l=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,r=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==r;var a=e;switch(r){case"EQUAL":return a==t||a.toString()==t.toString();case"NOT_EQUAL":return a!=t&&a.toString()!=t.toString();default:return!1}}},c=function(t,r){this.filtervalue=t,this.comparisonoperator=r,this.type="numericfilter",this.evaluate=function(t){var r=this.filtervalue,a=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==a)return!1;if("NULL"==a)return!0;switch(a){case"EQUAL":return t==r;case"NOT_EQUAL":return t!=r}return!1}if("NULL"==a)return!1;if("NOT_NULL"==a)return!0;var n=t;try{n=parseFloat(n)}catch(e){if(""!=t.toString())return!1}var i=function(t,r){switch(a){case"EQUAL":return t==r;case"NOT_EQUAL":return t!=r;case"GREATER_THAN":return t>r;case"GREATER_THAN_OR_EQUAL":return t>=r;case"LESS_THAN":return t<r;case"LESS_THAN_OR_EQUAL":return t<=r;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),r.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),r.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),r.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),r.toString());default:return!0}},o=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){if(v=i(n,r))return v;var s=(r=r.toString()).indexOf(" AND ")>=0?r.split(" AND "):new Array,d=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,l=r.indexOf(" and ")>=0?r.split(" and "):new Array,c=r.indexOf(" or ")>=0?r.split(" or "):new Array;s=s.concat(l),d=d.concat(c);var u=r.indexOf("|")>=0?r.split("|"):new Array;if(u.length>0)for(f=0;f<u.length;f++)u[f]=e.trim(u[f]);if(d=d.concat(u),s.length>0)for(f=0;f<s.length;f++)!s[f].indexOf(" OR ")>=0&&o.push(s[f]);if(d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" AND ")>=0&&o.push(d[f]);for(var h=void 0,p=0;p<o.length;p++){if((t=o[p])&&t.indexOf&&t.indexOf("..")>=0){var g=t.toString().split("..");2==g.length&&(v=n>=g[0]&&n<=g[1])}else var v=i(n,t);var m=p<s.length?"and":"or";h=void 0==h?v:"or"==m?h||v:h&&v}return h}return r&&r.indexOf&&r.indexOf("..")>=0&&2==(o=r.toString().split("..")).length?n>=o[0]&&n<=o[1]:i(n,r)}},u=function(t,r,a,n){this.filtervalue=t,this.type="datefilter";var i=this;if(void 0!=a&&void 0!=n){var o=e.jqx.dataFormat.parsedate(t,a,n);if(null!=o)this.filterdate=o;else{var s=e.jqx.dataFormat.tryparsedate(t,n);null!=s&&(this.filterdate=s)}}else"NaN"==(d=new Date(t)).toString()||"Invalid Date"==d.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=d;if(!this.filterdate){var d=new Date(t);"NaN"==d.toString()||"Invalid Date"==d.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=d}this.comparisonoperator=r,this.evaluate=function(t){var r=this.filtervalue,o=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return t==r;case"NOT_EQUAL":return t!=r}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var s=new Date;s.setFullYear(1900,0,1),s.setHours(12,0,0,0);try{var d=new Date(t);s=t="NaN"==d.toString()||"Invalid Date"==d.toString()?e.jqx.dataFormat.tryparsedate(t):d;var l=!1;void 0!=a&&void 0!=n&&(a.indexOf("t")>=0||a.indexOf("T")>=0||a.indexOf(":")>=0||a.indexOf("f")>=0)&&(l=!0,r&&-1==r.toString().indexOf(":")&&null!=(w=e.jqx.dataFormat.tryparsedate(r.toString()+":00",n))&&(i.filterdate=w)),l||(s.setHours(0),s.setMinutes(0),s.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=i.filterdate)r=i.filterdate;else if(r&&r.indexOf&&(-1!=r.indexOf(":")||!isNaN(parseInt(r)))){var c=new Date(s);c.setHours(12,0,0,0);for(var u=r.split(":"),f=0;f<u.length;f++)0==f&&c.setHours(u[f]),1==f&&c.setMinutes(u[f]),2==f&&c.setSeconds(u[f]);r=c}l&&r&&r.setFullYear&&s&&s.getFullYear&&-1==a.indexOf("d")&&-1==a.indexOf("M")&&-1==a.indexOf("y")&&r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());var h=function(t,r){switch(null==t&&(t=""),o){case"EQUAL":return t.toString()==r.toString();case"NOT_EQUAL":return t.toString()!=r.toString();case"GREATER_THAN":return t>r;case"GREATER_THAN_OR_EQUAL":return t>=r;case"LESS_THAN":return t<r;case"LESS_THAN_OR_EQUAL":return t<=r;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),r.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),r.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),r.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),r.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),r.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),r.toString());default:return!0}},p=new Array;if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){if(w=h(s,r))return w;var g=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,v=r.indexOf(" OR ")>=0?r.split(" OR "):new Array,m=r.indexOf(" and ")>=0?r.split(" and "):new Array,y=r.indexOf(" or ")>=0?r.split(" or "):new Array;g=g.concat(m),v=v.concat(y);var b=r.indexOf("|")>=0?r.split("|"):new Array;if(b.length>0)for(f=0;f<b.length;f++)b[f]=e.trim(b[f]);if(v=v.concat(b),g.length>0)for(f=0;f<g.length;f++)!g[f].indexOf(" OR ")>=0&&p.push(g[f]);if(v.length>0)for(f=0;f<v.length;f++)!v[f].indexOf(" AND ")>=0&&p.push(v[f]);for(var x=void 0,S=0;S<p.length;S++){if((t=p[S])&&t.indexOf&&t.indexOf("..")>=0){var O=t.toString().split("..");2==O.length&&(w=s>=O[0]&&s<=O[1])}else var w=h(s,t);var A=S<g.length?"and":"or";x=void 0==x?w:"or"==A?x||w:x&&w}return x}return r&&r.indexOf&&r.indexOf("..")>=0&&2==(p=r.toString().split("..")).length?s>=p[0]&&s<=p[1]:h(s,r)}},f=function(e,t,r){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return r(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework);

!function(e){"use strict";e.jqx.timeSpan=function(){var a={ticksPerMillisecond:1e4,millisecondsPerTick:1e-4,ticksPerSecond:1e7,secondsPerTick:1e-7,ticksPerMinute:6e8,minutesPerTick:1/6e8,ticksPerHour:36e9,hoursPerTick:1/36e9,ticksPerDay:864e9,daysPerTick:1/864e9,millisPerSecond:1e3,millisPerMinute:6e4,millisPerHour:36e5,millisPerDay:864e5,_ticks:0};e.extend(!0,this,a);var t=this;if(t.ticks=function(){return t._ticks},t.days=function(){return parseInt(t._ticks/t.ticksPerDay)},t.timeToMS=function(e,a,s,i){var r=3600*e+60*a+s+i/1e3;return parseInt(r*t.ticksPerSecond)},t.hours=function(){return parseInt(t._ticks/t.ticksPerHour)%24},t.milliseconds=function(){return parseInt(t._ticks/t.ticksPerMillisecond)%1e3},t.minutes=function(){return parseInt(t._ticks/t.ticksPerMinute)%60},t.seconds=function(){return parseInt(t._ticks/t.ticksPerSecond)%60},t.totalDays=function(){return parseInt(t._ticks*t.daysPerTick)},t.totalHours=function(){return parseInt(t._ticks*t.hoursPerTick)},t.totalMilliseconds=function(){var e=t._ticks*t.millisecondsPerTick;return parseInt(e)},t.totalMinutes=function(){return parseInt(t._ticks*t.minutesPerTick)},t.totalSeconds=function(){return parseInt(t._ticks*t.secondsPerTick)},1===arguments.length)t._ticks=arguments[0];else if(3===arguments.length)t._ticks=t.timeToMS(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length){d=1e3*(3600*(s=arguments[0])*24+3600*(i=arguments[1])+60*(r=arguments[2])+(n=arguments[3]))+(o=0);t._ticks=d*t.ticksPerMillisecond}else if(5===arguments.length){var s=arguments[0],i=arguments[1],r=arguments[2],n=arguments[3],o=arguments[4],d=1e3*(3600*s*24+3600*i+60*r+n)+o;t._ticks=d*t.ticksPerMillisecond}return t.add=function(a){var s=t._ticks+a._ticks;return new e.jqx.timeSpan(s)},t.substract=function(a){var t=_ticks-a._ticks;return new e.jqx.timeSpan(t)},t.duration=function(){return t._ticks>=0?new e.jqx.timeSpan(t._ticks):new e.jqx.timeSpan(-t._ticks)},t.equals=function(e){return t._ticks==e._ticks},t.valueOf=function(){return t._ticks},t.compare=function(e,a){return e._ticks>a._ticks?1:e._ticks<a._ticks?-1:0},t.interval=function(a,s){var i=a*s+(a>=0?.5:-.5);return new e.jqx.timeSpan(i*t.ticksPerMillisecond)},t.fromDays=function(e){return t.interval(e,t.millisPerDay)},t.fromHours=function(e){return t.interval(e,t.millisPerHour)},t.fromMilliseconds=function(e){return t.interval(e,1)},t.fromMinutes=function(e){return t.interval(e,t.millisPerMinute)},t.fromSeconds=function(e){return t.interval(e,t.millisPerSecond)},t.fromTicks=function(a){return new e.jqx.timeSpan(a)},t};var a=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],t=[0,31,59,90,120,151,181,212,243,273,304,334,365],s=[0,31,60,91,121,152,182,213,244,274,305,335,366];e.jqx.date=function(){var i=this;if(i.ticksPerMillisecond=1e4,i.millisecondsPerTick=1e-4,i.ticksPerSecond=1e7,i.secondsPerTick=1e-7,i.ticksPerMinute=6e8,i.minutesPerTick=1/6e8,i.ticksPerHour=36e9,i.hoursPerTick=1/36e9,i.ticksPerDay=864e9,i.daysPerTick=1/864e9,i.millisPerSecond=1e3,i.millisPerMinute=6e4,i.millisPerHour=36e5,i.millisPerDay=864e5,i.daysPerYear=365,i.daysPer4Years=1461,i.daysPer100Years=36524,i.daysPer400Years=146097,i.daysTo1601=584388,i.daysTo1899=693593,i.daysTo10000=3652059,i.minTicks=0,i.maxTicks=3155378976e9,i.maxMillis=3155378976e5,i.datePartYear=0,i.datePartDayOfYear=1,i.datePartMonth=2,i.datePartDay=3,i.daysToMonth365=t,i.daysToMonth366=s,i.minValue=new Date(0),i.maxValue=new Date(3155378976e9),i.ticksMask=0x4000000000000000,i.flagsMask=0xc000000000000000,i.localMask=0x8000000000000000,i.ticksCeiling=0x4000000000000000,i.kindUnspecified=0,i.kindUtc=0x4000000000000000,i.kindLocal=0x8000000000000000,i.kindLocalAmbiguousDst=0xc000000000000000,i.kindShift=62,i.regexTrim=/^\s+|\s+$/g,i.regexInfinity=/^[+-]?infinity$/i,i.regexHex=/^0x[a-f0-9]+$/i,i.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,i.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},i.dateData=0,i.timeZone=null,i.timeZones=a,i.internalMS=function(){return i.dateData},i.getDatePart=function(e){var a=i.internalMS(),t=parseInt(a/i.millisPerDay),s=parseInt(t/i.daysPer400Years);t-=s*i.daysPer400Years;var r=parseInt(t/i.daysPer100Years);4==r&&(r=3),t-=r*i.daysPer100Years;var n=parseInt(t/i.daysPer4Years);t-=n*i.daysPer4Years;var o=parseInt(t/i.daysPerYear);if(4==o&&(o=3),e==i.datePartYear)return parseInt(400*s+100*r+4*n+o+1);if(t-=o*i.daysPerYear,e==i.datePartDayOfYear)return parseInt(t+1);for(var d=3==o&&(24!=n||3==r)?i.daysToMonth366:i.daysToMonth365,f=t>>6;t>=d[f];)f++;return e==i.datePartMonth?parseInt(f):parseInt(t-d[f-1]+1)},i.dayOfWeek=function(){var e=i.dateData;return parseInt(e/i.millisPerDay+1)%7},i.dayOfYear=function(){return i.getDatePart(i.datePartDayOfYear)},i.weekOfYear=function(e){var a=i.toDate(),t=e||i.calendar.firstDay,s=new Date(a.getFullYear(),0,1),r=s.getDay()-t;r=r>=0?r:r+7;var n,o=Math.floor((a.getTime()-s.getTime()-6e4*(a.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;return r<4?(n=Math.floor((o+r-1)/7)+1)>52&&(nYear=new Date(a.getFullYear()+1,0,1),nday=nYear.getDay()-t,nday=nday>=0?nday:nday+7,n=nday<4?1:53):n=Math.floor((o+r-1)/7),n},i.subtract=function(a){return new e.jqx.timeSpan(i.dateData*i.ticksPerMillisecond-a.dateData*i.ticksPerMillisecond)},i.dateToMS=function(e,a,t){if(e>=1&&e<=9999&&a>=1&&a<=12){e=parseInt(e);var s=i.isLeapYear(e)?i.daysToMonth366:i.daysToMonth365;if(t>=1&&t<=s[a]-s[a-1]){var r=e-1;return(365*r+parseInt(r/4)-parseInt(r/100)+parseInt(r/400)+s[a-1]+t-1)*i.millisPerDay}}},i.isLeapYear=function(e){if(e<1||e>9999)throw new Error("Year out of Range");return e%4==0&&(e%100!=0||e%400==0)},i.timeToMS=function(e,a,t,s){if(e>=0&&e<24&&a>=0&&a<60&&t>=0&&t<60){var r=parseInt(3600*e+60*a+t);return s>0&&s<1e3?r*i.millisPerSecond+s:r*i.millisPerSecond}},i.daysInMonth=function(e,a){if(a<1||a>12)throw new Error("Month out of Range");var t=i.isLeapYear(e)?i.daysToMonth366:i.daysToMonth365;return t[a]-t[a-1]},i.arrayIndexOf=function(e,a){if(e.indexOf)return e.indexOf(a);for(var t=0,s=e.length;t<s;t++)if(e[t]===a)return t;return-1},i.startsWith=function(e,a){return 0===e.indexOf(a)},i.endsWith=function(e,a){return e.substr(e.length-a.length)===a},i.trim=function(e){return(e+"").replace(i.regexTrim,"")},i.expandFormat=function(e,a){a=a||"F";var t,s=e.patterns,i=a.length;if(1===i){if(!(t=s[a]))throw"Invalid date format string '"+a+"'.";a=t}else 2===i&&"%"===a.charAt(0)&&(a=a.charAt(1));return a},i.getEra=function(e,a){if(!a)return 0;if("string"==typeof e)return 0;for(var t,s=e.getTime(),i=0,r=a.length;i<r;i++)if(null===(t=a[i].start)||s>=t)return i;return 0},i.toUpper=function(e){return e.split("Â ").join(" ").toUpperCase()},i.toUpperArray=function(e){for(var a=[],t=0,s=e.length;t<s;t++)a[t]=i.toUpper(e[t]);return a},i.getEraYear=function(e,a,t,s){var i=e.getFullYear();return!s&&a.eras&&(i-=a.eras[t].offset),i},i.getDayIndex=function(e,a,t){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[i.toUpperArray(r.names),i.toUpperArray(r.namesAbbr),i.toUpperArray(r.namesShort)]),a=a.toUpperCase(),t?-1===(s=i.arrayIndexOf(n[1],a))&&(s=i.arrayIndexOf(n[2],a)):s=i.arrayIndexOf(n[0],a),s},i.getMonthIndex=function(e,a,t){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[i.toUpperArray(s.names),i.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[i.toUpperArray(r.names),i.toUpperArray(r.namesAbbr)]),a=i.toUpper(a);var d=i.arrayIndexOf(t?n[1]:n[0],a);return d<0&&(d=i.arrayIndexOf(t?o[1]:o[0],a)),d},i.appendPreOrPostMatch=function(e,a){for(var t=0,s=!1,i=0,r=e.length;i<r;i++){var n=e.charAt(i);switch(n){case"'":s?a.push("'"):t++,s=!1;break;case"\\":s&&a.push("\\"),s=!s;break;default:a.push(n),s=!1}}return t},i.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},i.tryparseDate=function(a,t,s){if(void 0==t||null==t)t=i.calendar;else if(null!=t&&t&&"string"===e.type(t)&&Globalize){var r=Globalize.cultures[t];r&&(t=r.calendar)}if(void 0!=s){if("array"===e.type(s))for(C=0;C<s.length;C++)if(n=i.parseDate(a,s[C],t))return n;var n=i.parseDate(a,s,t);if(n)return n}if(""==a)return null;if(null==a||a.substring||(a=a.toString()),null!=a&&"/Date("==a.substring(0,6)){var o=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;if("Invalid Date"==(d=new Date(+a.replace(/\/Date\((\d+)\)\//,"$1")))){var d=null;(I=a.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(d=new Date(1*I[1]+36e5*I[2]+6e4*I[3]))}if(null==d||"Invalid Date"==d||isNaN(d)){var f=o.exec(a);if(f){O=new Date(parseInt(f[1]));if(f[2]){var u=parseInt(f[3]);"-"===f[2]&&(u=-u);var l=O.getUTCMinutes();O.setUTCMinutes(l-u)}if(!isNaN(O.valueOf()))return O}}return d}var m={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var y in m)if(d=i.parseDate(a,m[y],t))return d;var p=t.patterns;for(y in p)if(d=i.parseDate(a,p[y],t))return"ISO"==y&&(R=i.parseDate(a,p.ISO2,t))?R:d;if("string"===e.type(a)){var g=[":","/","-"," ",","],c="",T=a=function(e,a,t){return t.replace(new RegExp(e,"g"),a)}(", ",",",a=i.trim(a));a.indexOf(":")>=0?(c=a.substring(a.indexOf(":")-2),c=i.trim(c),T=a.substring(0,a.indexOf(":")-2)):a.toUpperCase().indexOf("AM")>=0?(c=a.substring(a.toUpperCase().indexOf("AM")-2),c=i.trim(c),T=a.substring(0,a.toUpperCase().indexOf("AM")-2)):a.toUpperCase().indexOf("PM")>=0&&(c=a.substring(a.toUpperCase().indexOf("PM")-2),c=i.trim(c),T=a.substring(0,a.toUpperCase().indexOf("PM")-2));var M=new Date,h=!1;if(T){for(C=0;C<g.length;C++)if(T.indexOf(g[C])>=0){q=T.split(g[C]);break}for(var S=new Array,D=new Array,v=new Array,H=null,k=null,C=0;C<q.length;C++){var U=q[C],P=i.parseDate(U,"d",t)||i.parseDate(U,"dd",t)||i.parseDate(U,"ddd",t)||i.parseDate(U,"dddd",t);if(P&&(S.push(P.getDate()),U.length>2)){H=C;break}}for(C=0;C<q.length;C++){var U=q[C],N=i.parseDate(U,"M",t)||i.parseDate(U,"MM",t)||i.parseDate(U,"MMM",t)||i.parseDate(U,"MMMM",t);if(N){if(void 0!=H&&H==C)continue;if(D.push(N.getMonth()),U.length>2){k=C;break}}}for(C=0;C<q.length;C++){var U=q[C],b=i.parseDate(U,"yyyy",t);if(b){if(void 0!=H&&H==C)continue;if(void 0!=k&&k==C)continue;v.push(b.getFullYear())}}for(var x=new Array,w=0;w<S.length;w++)for(var I=0;I<D.length;I++)for(var A=0;A<v.length;A++){var O=new Date(v[A],D[I],S[w]);v[A]<1970&&O.setFullYear(v[A]),NaN!=O.getTime()&&x.push(O)}x.length>0&&(M=x[0],h=!0)}if(c){var Y=c.indexOf(":")>=0?c.split(":"):c,z=i.parseDate(c,"h:mm tt",t)||i.parseDate(c,"HH:mm:ss.fff",t)||i.parseDate(c,"HH:mm:ss.ff",t)||i.parseDate(c,"h:mm:ss tt",t)||i.parseDate(c,"HH:mm:ss.tttt",t)||i.parseDate(c,"HH:mm:ss",t)||i.parseDate(c,"HH:mm",t)||i.parseDate(c,"HH",t),_=0,E=0,F=0,j=0;z&&NaN!=z.getTime()?(_=z.getHours(),E=z.getMinutes(),F=z.getSeconds(),j=z.getMilliseconds()):(1==Y.length&&(_=parseInt(Y[0])),2==Y.length&&(_=parseInt(Y[0]),E=parseInt(Y[1])),3==Y.length&&(_=parseInt(Y[0]),E=parseInt(Y[1]),Y[2].indexOf(".")>=0?(F=parseInt(Y[2].toString().split(".")[0]),j=parseInt(Y[2].toString().split(".")[1])):F=parseInt(Y[2])),4==Y.length&&(_=parseInt(Y[0]),E=parseInt(Y[1]),F=parseInt(Y[2]),j=parseInt(Y[3]))),!M||isNaN(_)||isNaN(E)||isNaN(F)||isNaN(j)||(M.setHours(_,E,F,j),h=!0)}if(h)return M}if(null!=a){for(var R=null,q=[":","/","-"],Z=!0,U=0;U<q.length;U++)-1!=a.indexOf(q[U])&&(Z=!1);if(Z){var B=new Number(a);if(!isNaN(B))return new Date(B)}}return null},i.getParseRegExp=function(e,a){var t=e._parseRegExp;if(t){var s=t[a];if(s)return s}else e._parseRegExp=t={};for(var r,n=i.expandFormat(e,a).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],d=[],f=0,u=0,l=i.getTokenRegExp();null!==(r=l.exec(n));){var m=n.slice(f,r.index);if(f=l.lastIndex,(u+=i.appendPreOrPostMatch(m,o))%2)o.push(r[0]);else{var y,p=r[0],g=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":y="(\\D+)";break;case"tt":case"t":y="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":y="(\\d{"+g+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":y="(\\d\\d?)";break;case"zzz":y="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":y="([+-]?\\d\\d?)";break;case"/":y="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}y&&o.push(y),d.push(r[0])}}i.appendPreOrPostMatch(n.slice(f),o),o.push("$");var c={regExp:o.join("").replace(/\s+/g,"\\s+"),groups:d};return t[a]=c},i.outOfRange=function(e,a,t){return e<a||e>t},i.expandYear=function(e,a){var t=new Date,s=i.getEra(t);if(a<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=i.getEraYear(t,e,s);(a+=n-n%100)>r&&(a-=100)}return a},i.parseDate=function(e,a,t){void 0!=t&&null!=t||(t=i.calendar),e=i.trim(e);var s=t,r=i.getParseRegExp(s,a),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var o,d=r.groups,f=null,u=null,l=null,m=null,y=null,p=0,g=0,c=0,T=0,M=null,h=!1,S=0,D=d.length;S<D;S++){var v=n[S+1];if(v){var H=d[S],k=H.length,C=parseInt(v,10);switch(H){case"dd":case"d":if(m=C,i.outOfRange(m,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(l=i.getMonthIndex(s,v,3===k),i.outOfRange(l,0,11))return null;break;case"M":case"MM":if(l=C-1,i.outOfRange(l,0,11))return null;break;case"y":case"yy":case"yyyy":if(u=k<4?i.expandYear(s,C):C,i.outOfRange(u,0,9999))return null;break;case"h":case"hh":if(12===(p=C)&&(p=0),i.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=C,i.outOfRange(p,0,23))return null;break;case"m":case"mm":if(g=C,i.outOfRange(g,0,59))return null;break;case"s":case"ss":if(c=C,i.outOfRange(c,0,59))return null;break;case"tt":case"t":if(!(h=s.PM&&(v===s.PM[0]||v===s.PM[1]||v===s.PM[2]))&&(!s.AM||v!==s.AM[0]&&v!==s.AM[1]&&v!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(T=C*Math.pow(10,3-k),i.outOfRange(T,0,999))return null;break;case"ddd":case"dddd":if(y=i.getDayIndex(s,v,3===k),i.outOfRange(y,0,6))return null;break;case"zzz":var U=v.split(/:/);if(2!==U.length)return null;if(o=parseInt(U[0],10),i.outOfRange(o,-12,13))return null;var P=parseInt(U[1],10);if(i.outOfRange(P,0,59))return null;M=60*o+(i.startsWith(v,"-")?-P:P);break;case"z":case"zz":if(o=C,i.outOfRange(o,-12,13))return null;M=60*o;break;case"g":case"gg":var N=v;if(!N||!s.eras)return null;N=trim(eraNathat.toLowerCase());for(var b=0,x=s.eras.length;b<x;b++)if(N===s.eras[b].nathat.toLowerCase()){f=b;break}if(null===f)return null}}}var w,I=new Date,A=s.convert;if(w=I.getFullYear(),null===u?u=w:s.eras&&(u+=s.eras[f||0].offset),null===l&&(l=0),null===m&&(m=1),A){if(null===(I=A.toGregorian(u,l,m)))return null}else{if(I.setFullYear(u,l,m),I.getDate()!==m)return null;if(null!==y&&I.getDay()!==y)return null}if(h&&p<12&&(p+=12),I.setHours(p,g,c,T),null!==M){var O=I.getMinutes()-(M+I.getTimezoneOffset());I.setHours(I.getHours()+parseInt(O/60,10),O%60)}return I},i.toString=function(a,t){function s(e,a){var t,s=e+"";return a>1&&s.length<a?(t=y[a-2]+s).substr(t.length-a,a):t=s}function r(e,a){if(m)return m[a];if(void 0!=e.getMonth)switch(a){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(void 0===a&&(a="yyyy-MM-dd HH:mm:ss"),e.jqx.date.cache&&e.jqx.date.cache[i.dateData+a])return e.jqx.date.cache[i.dateData+a];if(t&&"string"===e.type(t)&&Globalize){var n=Globalize.cultures[t];n&&(t=n.calendar)}var o=i.toDate();if(void 0!=t&&null!=t||(t=i.calendar),"string"==typeof o)return o;o.toString();if(!a||!a.length||"i"===a){var d;return d=i.formatDate(o,t.patterns.F,t)}var f=t.eras,u="s"===a;a=i.expandFormat(t,a),d=[];for(var l,m,y=["0","00","000"],p=0,g=i.getTokenRegExp();;){var c=g.lastIndex,T=g.exec(a),M=a.slice(c,T?T.index:a.length);if(p+=i.appendPreOrPostMatch(M,d),!T)break;if(p%2)d.push(T[0]);else{var h=T[0],S=h.length;switch(h){case"ddd":case"dddd":var D=3===S?t.days.namesAbbr:t.days.names;d.push(D[o.getDay()]);break;case"d":case"dd":!0,d.push(s(r(o,2),S));break;case"MMM":case"MMMM":var v=r(o,1);d.push(t.months[3===S?"namesAbbr":"names"][v]);break;case"M":case"MM":d.push(s(r(o,1)+1,S));break;case"y":case"yy":case"yyyy":v=i.getEraYear(o,t,i.getEra(o,f),u),S<4&&(v%=100),d.push(s(v,S));break;case"h":case"hh":0===(l=o.getHours()%12)&&(l=12),d.push(s(l,S));break;case"H":case"HH":d.push(s(o.getHours(),S));break;case"m":case"mm":d.push(s(o.getMinutes(),S));break;case"s":case"ss":d.push(s(o.getSeconds(),S));break;case"t":case"tt":v=o.getHours()<12?t.AM?t.AM[0]:" ":t.PM?t.PM[0]:" ",d.push(1===S?v.charAt(0):v);break;case"f":case"ff":case"fff":d.push(s(o.getMilliseconds(),3).substr(0,S));break;case"z":case"zz":l=o.getTimezoneOffset()/60,d.push((l<=0?"+":"-")+s(Math.floor(Math.abs(l)),S));break;case"zzz":l=o.getTimezoneOffset()/60,d.push((l<=0?"+":"-")+s(Math.floor(Math.abs(l)),2)+":"+s(Math.abs(o.getTimezoneOffset()%60),2));break;case"g":case"gg":t.eras&&d.push(t.eras[i.getEra(o,f)].name);break;case"/":d.push(t["/"]);break;default:throw"Invalid date format pattern '"+h+"'."}}}var H=d.join("");return e.jqx.date.cache||(e.jqx.date.cache=new Array),e.jqx.date.cache[i.dateData+a]=H,H},i.add=function(a,t,s){var r=i.internalMS();if(void 0===t)return!1===s?(i.dateData=r+parseInt(a._ticks/i.ticksPerMillisecond),i):((o=new e.jqx.date(r+parseInt(a._ticks/i.ticksPerMillisecond))).timeZone=i.timeZone,o);var n=a*t;if(n<=-i.maxMillis||n>=i.maxMillis)throw new Error("Out of Range");if(!1===s)return i.dateData=r+n,i;var o=new e.jqx.date(r+n);return o.timeZone=i.timeZone,o},i.addDays=function(e,a){return i.add(e,i.millisPerDay,a)},i.clone=function(){var a=new e.jqx.date(i.dateData);return a.timeZone=i.timeZone,a},i.clearTime=function(){var a=i.month(),t=i.year(),s=i.day(),r=new e.jqx.date(t,a,s,0,0,0,0);return r.timeZone=i.timeZone,r},i.addHours=function(e,a){return i.add(e,i.millisPerHour,a)},i.addMilliseconds=function(e,a){return i.add(e,1,a)},i.addMinutes=function(e,a){return i.add(e,i.millisPerMinute,a)},i.addMonths=function(a,t){if(a<-12e4||a>12e4)throw new Error("Invalid Months Value");var s=parseInt(i.getDatePart(i.datePartYear)),r=parseInt(i.getDatePart(i.datePartMonth)),n=parseInt(i.getDatePart(i.datePartDay)),o=r-1+a;if(o>=0?(r=o%12+1,s+=o/12):(r=12+(o+1)%12,s+=(o-11)/12),(s=parseInt(s))<1||s>9999)throw new Error("Year out of range");var d=i.daysInMonth(s,r);if(n>d&&(n=d),!1===t)return i.dateData=i.dateToMS(s,r,n)+i.internalMS()%i.millisPerDay,i;var f=new e.jqx.date(i.dateToMS(s,r,n)+i.internalMS()%i.millisPerDay);return f.timeZone=i.timeZone,f},i.addSeconds=function(e,a){return i.add(e,i.millisPerSecond,a)},i.addYears=function(e,a){return i.addMonths(12*e,a)},i.getTimeZoneOffset=function(){var e=new Date,a=new Date(e.getFullYear(),0,1),t=new Date(e.getFullYear(),6,1),s=e.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),t.getTimezoneOffset());return{offset:-e.getTimezoneOffset()/60,dst:+s}},i.isInDaylightSavingTime=function(){var e=new Date,a=new Date(e.getFullYear(),0,1),t=new Date(e.getFullYear(),6,1);return i.date().getTimezoneOffset()<Math.max(a.getTimezoneOffset(),t.getTimezoneOffset())},i.supportsDaylightSavingTime=function(){var e=new Date,a=new Date(e.getFullYear(),0,1),t=new Date(e.getFullYear(),6,1);return a.getTimezoneOffset()!=t.getTimezoneOffset()},i.date=function(){var a=i.month(),t=i.year(),s=i.day(),r=new e.jqx.date(t,a,s);return r.timeZone=i.timeZone,r},i.isWeekend=function(){return 0==i.dayOfWeek()||6==i.dayOfWeek()},i.toDate=function(e){var a=i.month(),t=i.year(),s=i.day(),r=i.hour(),n=i.minute(),o=i.second(),d=i.millisecond(),f=new Date(t,a-1,s);if(t<1970&&f.setFullYear(t),f.setHours(r,n,o,d),e){var u=i.timeZones.filter(function(a){return a.id==e});if(u.length){var l=u[0].offset;"Local"==e&&(l=-f.getTimezoneOffset());var m=f.getTime(),y=60*f.getTimezoneOffset()*1e3;if(i.timeZone){var p=i.timeZones.filter(function(e){return e.id==i.timeZone});if(p.length)y=60*-p[0].offset*1e3}var g=m+y;f=new Date(g+6e4*l)}}return f},i.toTimeZone=function(a){var t=a;null==t&&(t="Local");var s=i.toDate(t),r=new e.jqx.date(s);return r.timeZone=a,r},i.day=function(){return i.getDatePart(i.datePartDay)},i.month=function(){return i.getDatePart(i.datePartMonth)},i.year=function(){return i.getDatePart(i.datePartYear)},i.millisecond=function(){return parseInt(i.internalMS()%1e3)},i.hour=function(){return parseInt(i.internalMS()/i.millisPerHour%24)},i.minute=function(){return parseInt(i.internalMS()/i.millisPerMinute%60)},i.second=function(){return parseInt(i.internalMS()/i.millisPerSecond%60)},i.valueOf=function(){return i.dateData},i.equals=function(e){return i.dateData===e.dateData},0===arguments.length){y=new Date;i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}else if(1===arguments.length)if(void 0==arguments[0]&&(arguments[0]="todayDate"),(r="number"==typeof arguments[0]&&isFinite(arguments[0]))||"string"!==e.type(arguments[0]))if("number"==typeof arguments[0])i.dateData=arguments[0];else if("date"==e.type(arguments[0])){y=arguments[0];i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}else i.dateData=arguments[0];else if("today"===arguments[0]){y=new Date;i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}else if("todayDate"===arguments[0])(y=new Date).setHours(0,0,0,0),i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds());else{y=i.tryparseDate(arguments[0]);i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}else if(2===arguments.length){void 0==arguments[0]&&(arguments[0]="todayDate");var r="number"==typeof arguments[0]&&isFinite(arguments[0]);if(r||"string"!==e.type(arguments[0]))if("number"==typeof arguments[0])i.dateData=arguments[0];else if("date"==e.type(arguments[0])){y=arguments[0];i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}else i.dateData=arguments[0];else if("today"===arguments[0]){y=new Date;i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}else if("todayDate"===arguments[0])(y=new Date).setHours(0,0,0,0),i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds());else{y=i.tryparseDate(arguments[0]);i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}i.timeZone=arguments[1]}else if(arguments.length>2)if("string"===e.type(arguments[0])){y=i.tryparseDate(arguments[0],arguments[2],arguments[1]);i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}else{var n=arguments[0],o=arguments[1],d=arguments[2],f=arguments[3],u=arguments[4],l=arguments[5],m=arguments[6];void 0===f&&(f=0),void 0===u&&(u=0),void 0===l&&(l=0),void 0===m&&(m=0),o--;var y=new Date(n,o,d,f,u,l,m);n<1970&&y.setFullYear(n),i.dateData=i.dateToMS(y.getFullYear(),y.getMonth()+1,y.getDate())+i.timeToMS(y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}return i}}(jqxBaseFramework),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var a=Object(this),t=a.length>>>0;if("function"!=typeof e)throw new TypeError;for(var s=[],i=arguments[1],r=0;r<t;r++)if(r in a){var n=a[r];e.call(i,n,r,a)&&s.push(n)}return s});

!function(t){t.jqx.jqxWidget("jqxDraw","",{}),t.extend(t.jqx._jqxDraw.prototype,{defineInstance:function(){var e={renderEngine:""};t.extend(!0,this,e);var r=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var i in r)this._addFn(t.jqx._jqxDraw.prototype,r[i]);return t.jqx._jqxDraw.prototype,e},_addFn:function(t,e){t[e]||(t[e]=function(){return this.renderer[e].apply(this.renderer,arguments)})},createInstance:function(t){},_initRenderer:function(e){return t.jqx.createRenderer(this,e)},_internalRefresh:function(){var e=this;if(!t.jqx.isHidden(e.host)){e.renderer||(e.host.empty(),e._initRenderer(e.host));var r=e.renderer;if(r){var i=r.getRect();e._render({x:1,y:1,width:i.width,height:i.height}),r instanceof t.jqx.HTML5Renderer&&r.refresh()}}},_saveAsImage:function(e,r,i,n){return t.jqx._widgetToImage(this,e,r,i,n)},_render:function(t){var e=this;e.renderer;e._plotRect=t},refresh:function(){this._internalRefresh()},getSize:function(){var t=this._plotRect;return{width:t.width,height:t.height}},saveAsPNG:function(t,e,r){return this._saveAsImage("png",t,e,r)},saveAsJPEG:function(t,e,r){return this._saveAsImage("jpeg",t,e,r)}})}(jqxBaseFramework),function(t){t.jqx.toGreyScale=function(e){if(-1==e.indexOf("#"))return e;var r=t.jqx.cssToRgb(e);r[0]=r[1]=r[2]=Math.round(.3*r[0]+.59*r[1]+.11*r[2]);var i=t.jqx.rgbToHex(r[0],r[1],r[2]);return"#"+i[0]+i[1]+i[2]},t.jqx.adjustColor=function(e,r){if("string"!=typeof e)return"#000000";if(-1==e.indexOf("#"))return e;var i=t.jqx.cssToRgb(e),n=t.jqx.rgbToHsl(i);n[2]=Math.min(1,n[2]*r),n[1]=Math.min(1,n[1]*r*1.1),i=t.jqx.hslToRgb(n);for(var e="#",a=0;a<3;a++){var s=Math.round(i[a]);1==(s=t.jqx.decToHex(s)).toString().length&&(e+="0"),e+=s}return e.toUpperCase()},t.jqx.decToHex=function(t){return t.toString(16)},t.jqx.hexToDec=function(t){return parseInt(t,16)},t.jqx.rgbToHex=function(e,r,i){return[t.jqx.decToHex(e),t.jqx.decToHex(r),t.jqx.decToHex(i)]},t.jqx.hexToRgb=function(e,r,i){return[t.jqx.hexToDec(e),t.jqx.hexToDec(r),t.jqx.hexToDec(i)]},t.jqx.cssToRgb=function(e){return e.indexOf("rgb")<=-1?t.jqx.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")},t.jqx.hslToRgb=function(e){var i=parseFloat(e[0]),n=parseFloat(e[1]),a=parseFloat(e[2]);if(0==n)r=g=b=a;else{var s=a<.5?a*(1+n):a+n-a*n,o=2*a-s;r=t.jqx.hueToRgb(o,s,i+1/3),g=t.jqx.hueToRgb(o,s,i),b=t.jqx.hueToRgb(o,s,i-1/3)}return[255*r,255*g,255*b]},t.jqx.hueToRgb=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},t.jqx.rgbToHsl=function(t){var e,r,i=parseFloat(t[0])/255,n=parseFloat(t[1])/255,a=parseFloat(t[2])/255,s=Math.max(i,n,a),o=Math.min(i,n,a),h=(s+o)/2;if(s==o)e=r=0;else{var l=s-o;switch(r=h>.5?l/(2-s-o):l/(s+o),s){case i:e=(n-a)/l+(n<a?6:0);break;case n:e=(a-i)/l+2;break;case a:e=(i-n)/l+4}e/=6}return[e,r,h]},t.jqx.swap=function(t,e){var r=t;t=e,e=r},t.jqx.getNum=function(e){if(t.isArray(e)){for(var r=0;r<e.length;r++)if(!isNaN(e[r]))return e[r]}else if(isNaN(e))return 0;return 0},t.jqx._ptdist=function(t,e,r,i){return Math.sqrt((r-t)*(r-t)+(i-e)*(i-e))},t.jqx._ptrnd=function(e){if(!document.createElementNS)return Math.round(e)==e?e:t.jqx._rnd(e,1,!1,!0);var r=t.jqx._rnd(e,.5,!1,!0);return.5!=Math.abs(r-Math.round(r))?r>e?r-.5:r+.5:r},t.jqx._ptRotate=function(t,e,r,i,n){var a=Math.sqrt(Math.pow(Math.abs(t-r),2)+Math.pow(Math.abs(e-i),2)),s=Math.asin((t-r)/a)+n;return t=r+Math.cos(s)*a,e=i+Math.sin(s)*a,{x:t,y:e}},t.jqx._rup=function(t){var e=Math.round(t);return t>e&&e++,e},t.jqx.log=function(t,e){return Math.log(t)/(e?Math.log(e):1)},t.jqx._mod=function(t,e){var r=Math.abs(t>e?e:t),i=1;if(0!=r)for(;r*i<100;)i*=10;return t*=i,e*=i,t%e/i},t.jqx._rnd=function(e,r,i,n){if(isNaN(e))return e;void 0===n&&(n=!0);var a=e-(1==n?e%r:t.jqx._mod(e,r));return e==a?a:(i?e>a&&(a+=r):a>e&&(a-=r),1==r?Math.round(a):a)},t.jqx.commonRenderer={pieSlicePath:function(t,e,r,i,n,a,s){i||(i=1);var o=Math.abs(n-a),h=o>180?1:0;o>=360&&(a=n+359.99);var l=n*Math.PI*2/360,d=a*Math.PI*2/360,c=t,u=t,p=e,f=e,x=!isNaN(r)&&r>0;if(x&&(s=0),s+r>0){if(s>0){var v=(o/2+n)*Math.PI*2/360;t+=s*Math.cos(v),e-=s*Math.sin(v)}if(x){var g=r;c=t+g*Math.cos(l),p=e-g*Math.sin(l),u=t+g*Math.cos(d),f=e-g*Math.sin(d)}}var m=t+i*Math.cos(l),_=t+i*Math.cos(d),y=e-i*Math.sin(l),j=e-i*Math.sin(d),q="",w=Math.abs(Math.abs(a-n)-360)>.02;return x?(q="M "+u+","+f,q+=" a"+r+","+r,q+=" 0 "+h+",1 "+(c-u)+","+(p-f),q+=w?" L"+m+","+y:" M"+m+","+y,q+=" a"+i+","+i,q+=" 0 "+h+",0 "+(_-m)+","+(j-y),w&&(q+=" Z")):(q="M "+_+","+j,q+=" a"+i+","+i,q+=" 0 "+h+",1 "+(m-_)+","+(y-j),w&&(q+=" L"+t+","+e,q+=" Z")),q},measureText:function(e,r,i,n,a){var s=a._getTextParts(e,r,i),o=s.width,h=s.height;0==n&&(h/=.6);var l={};if(isNaN(r)&&(r=0),0==r)l={width:t.jqx._rup(o),height:t.jqx._rup(h)};else{var d=r*Math.PI*2/360,c=Math.abs(Math.sin(d)),u=Math.abs(Math.cos(d)),p=Math.abs(o*c+h*u),f=Math.abs(o*u+h*c);l={width:t.jqx._rup(f),height:t.jqx._rup(p)}}return n&&(l.textPartsInfo=s),l},alignTextInRect:function(e,r,i,n,a,s,o,h,l,d){var c=l*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),f=a*u,x=a*p;"center"==o||""==o||"undefined"==o?e+=i/2:"right"==o&&(e+=i),"center"==h||"middle"==h||""==h||"undefined"==h?r+=n/2:"bottom"==h?r+=n-s/2:"top"==h&&(r+=s/2);var v="middle";-1!=(d=d||"").indexOf("top")?v="top":-1!=d.indexOf("bottom")&&(v="bottom");var g="center";return-1!=d.indexOf("left")?g="left":-1!=d.indexOf("right")&&(g="right"),"center"==g?(e-=x/2,r-=f/2):"right"==g&&(e-=x,r-=f),"top"==v?(e-=s*u,r+=s*p):"middle"==v&&(e-=s*u/2,r+=s*p/2),e=t.jqx._rup(e),r=t.jqx._rup(r),{x:e,y:r}}},t.jqx.svgRenderer=function(){},t.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(t){t.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=t;var e=t.find(".chartContainer");e[0].style.width=t.width()+"px",e[0].style.height=t.height()+"px";try{var r=document.createElementNS(this._svgns,"svg");r.setAttribute("id","svgChart"),r.setAttribute("version","1.1"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("overflow","hidden"),e[0].appendChild(r),this.canvas=r}catch(t){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var e=this.canvas.getBoundingClientRect(),r=parseFloat(e.left)==parseInt(e.left),i=parseFloat(e.top)==parseInt(e.top);if(t.jqx.browser.msie){for(var r=!0,i=!0,n=this.host,a=0,s=0;n&&n.position&&n[0].parentNode;){var o=n.position();a+=parseFloat(o.left)-parseInt(o.left),s+=parseFloat(o.top)-parseInt(o.top),n=n.parent()}r=parseFloat(a)==parseInt(a),i=parseFloat(s)==parseInt(s)}r||(this.host.find(".tdLeft")[0].style.width="0.5px"),i||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var e=this.host.find(".chartContainer");this._width=Math.max(t.jqx._rup(this.host.width())-1,0),this._height=Math.max(t.jqx._rup(this.host.height())-1,0),e[0].style.width=this._width,e[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(t){if(void 0!=t){this.removeHandler(t);try{for(;t.firstChild;)this.removeElement(t.firstChild);t.parentNode?t.parentNode.removeChild(t):this.canvas.removeChild(t)}catch(t){}}},_openGroups:[],beginGroup:function(){var t=this._activeParent(),e=document.createElementNS(this._svgns,"g");return t.appendChild(e),this._openGroups.push(e),e},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(t){var e=document.createElementNS(this._svgns,"clipPath"),r=document.createElementNS(this._svgns,"rect");return this.attr(r,{x:t.x,y:t.y,width:t.width,height:t.height,fill:"none"}),this._clipId=this._clipId||0,e.id="cl"+this._id+"_"+(++this._clipId).toString(),e.appendChild(r),this._defs.appendChild(e),e},getWindowHref:function(){var e=t.jqx.browser;if(e&&"msie"==e.browser&&e.version<10)return"";var r=window.location.href;return r?(r=r.replace(/([\('\)])/g,"\\$1"),r=r.replace(/#.*$/,"")):r},setClip:function(t,e){var r="url("+this.getWindowHref()+"#"+e.id+")";return this.attr(t,{"clip-path":r})},_clipId:0,addHandler:function(e,r,i){t(e).on?t(e).on(r,i):t(e).bind(r,i)},removeHandler:function(e,r,i){t(e).off?t(e).off(r,i):t(e).unbind(r,i)},on:function(t,e,r){this.addHandler(t,e,r)},off:function(t,e,r){this.removeHandler(t,e,r)},shape:function(t,e){var r=document.createElementNS(this._svgns,t);if(r){for(var i in e)r.setAttribute(i,e[i]);return this._activeParent().appendChild(r),r}},_getTextParts:function(e,r,i){var n={width:0,height:0,parts:[]};if(void 0===e)return n;var a=e.toString().split("<br>"),s=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,i);for(var h=0;h<a.length;h++){var l=a[h],d=o.ownerDocument.createTextNode(l);o.appendChild(d),s.appendChild(o);var c;try{c=o.getBBox()}catch(t){}var u=t.jqx._rup(c.width),p=t.jqx._rup(.6*c.height);o.removeChild(d),n.width=Math.max(n.width,u),n.height+=p+(h>0?4:0),n.parts.push({width:u,height:p,text:l})}return s.removeChild(o),n},_measureText:function(e,r,i,n){return t.jqx.commonRenderer.measureText(e,r,i,n,this)},measureText:function(t,e,r){return this._measureText(t,e,r,!1)},text:function(e,r,i,n,a,s,o,h,l,d,c){var u,p=this._measureText(e,s,o,!0).textPartsInfo,f=p.parts;if(l||(l="center"),d||(d="center"),(f.length>1||h)&&(u=this.beginGroup()),h){var x=this.createClipRect({x:t.jqx._rup(r)-1,y:t.jqx._rup(i)-1,width:t.jqx._rup(n)+2,height:t.jqx._rup(a)+2});this.setClip(u,x)}var v=this._activeParent(),g=0,m=0;g=p.width,m=p.height,(isNaN(n)||n<=0)&&(n=g),(isNaN(a)||a<=0)&&(a=m);var _=n||0,y=a||0;if(!s||0==s){i+=m,"center"==d||"middle"==d?i+=(y-m)/2:"bottom"==d&&(i+=y-m),n||(n=g),a||(a=m);for(var v=this._activeParent(),j=0,q=f.length-1;q>=0;q--){var w=document.createElementNS(this._svgns,"text");this.attr(w,o),this.attr(w,{cursor:"default"});S=w.ownerDocument.createTextNode(f[q].text);w.appendChild(S);var M=r,b=f[q].width,C=f[q].height;"center"==l?M+=(_-b)/2:"right"==l&&(M+=_-b),this.attr(w,{x:t.jqx._rup(M),y:t.jqx._rup(i+j),width:t.jqx._rup(b),height:t.jqx._rup(C)}),v.appendChild(w),j-=f[q].height+4}return u?(this.endGroup(),u):w}var N=t.jqx.commonRenderer.alignTextInRect(r,i,n,a,g,m,l,d,s,c);r=N.x,i=N.y;var T=this.shape("g",{transform:"translate("+r+","+i+")"}),P=this.shape("g",{transform:"rotate("+s+")"});T.appendChild(P);for(var j=0,q=f.length-1;q>=0;q--){var E=document.createElementNS(this._svgns,"text");this.attr(E,o),this.attr(E,{cursor:"default"});var S=E.ownerDocument.createTextNode(f[q].text);E.appendChild(S);var M=0,b=f[q].width,C=f[q].height;"center"==l?M+=(p.width-b)/2:"right"==l&&(M+=p.width-b),this.attr(E,{x:t.jqx._rup(M),y:t.jqx._rup(j),width:t.jqx._rup(b),height:t.jqx._rup(C)}),P.appendChild(E),j-=C+4}return v.appendChild(T),u&&this.endGroup(),T},line:function(t,e,r,i,n){var a=this.shape("line",{x1:t,y1:e,x2:r,y2:i});return this.attr(a,n),a},path:function(t,e){var r=this.shape("path");return r.setAttribute("d",t),e&&this.attr(r,e),r},rect:function(e,r,i,n,a){e=t.jqx._ptrnd(e),r=t.jqx._ptrnd(r),i=Math.max(1,t.jqx._rnd(i,1,!1)),n=Math.max(1,t.jqx._rnd(n,1,!1));var s=this.shape("rect",{x:e,y:r,width:i,height:n});return a&&this.attr(s,a),s},circle:function(t,e,r,i){var n=this.shape("circle",{cx:t,cy:e,r:r});return i&&this.attr(n,i),n},pieSlicePath:function(e,r,i,n,a,s,o){return t.jqx.commonRenderer.pieSlicePath(e,r,i,n,a,s,o)},pieslice:function(t,e,r,i,n,a,s,o){var h=this.pieSlicePath(t,e,r,i,n,a,s),l=this.shape("path");return l.setAttribute("d",h),o&&this.attr(l,o),l},attr:function(t,e){if(t&&e)for(var r in e)"textContent"==r?t.textContent=e[r]:t.setAttribute(r,e[r])},removeAttr:function(t,e){if(t&&e)for(var r in e)"textContent"==r?t.textContent="":t.removeAttribute(e[r])},getAttr:function(t,e){return t.getAttribute(e)},_gradients:{},_toLinearGradient:function(e,r,i){var n="grd"+this._id+e.replace("#","")+(r?"v":"h"),a="url("+this.getWindowHref()+"#"+n+")";if(this._gradients[a])return a;var s=document.createElementNS(this._svgns,"linearGradient");this.attr(s,{x1:"0%",y1:"0%",x2:r?"0%":"100%",y2:r?"100%":"0%",id:n});for(var o=0;o<i.length;o++){var h=i[o],l=document.createElementNS(this._svgns,"stop"),d="stop-color:"+t.jqx.adjustColor(e,h[1]);this.attr(l,{offset:h[0]+"%",style:d}),s.appendChild(l)}return this._defs.appendChild(s),this._gradients[a]=!0,a},_toRadialGradient:function(e,r,i){var n="grd"+this._id+e.replace("#","")+"r"+(void 0!=i?i.key:""),a="url("+this.getWindowHref()+"#"+n+")";if(this._gradients[a])return a;var s=document.createElementNS(this._svgns,"radialGradient");void 0==i?this.attr(s,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:n}):this.attr(s,{cx:i.x,cy:i.y,r:i.outerRadius,id:n,gradientUnits:"userSpaceOnUse"});for(var o=0;o<r.length;o++){var h=r[o],l=document.createElementNS(this._svgns,"stop"),d="stop-color:"+t.jqx.adjustColor(e,h[1]);this.attr(l,{offset:h[0]+"%",style:d}),s.appendChild(l)}return this._defs.appendChild(s),this._gradients[a]=!0,a}},t.jqx.vmlRenderer=function(){},t.jqx.vmlRenderer.prototype={init:function(e){e.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=e;var r=e.find(".chartContainer");r[0].style.width=e.width()+"px",r[0].style.height=e.height()+"px";var i=!0;try{for(var n=0;n<document.namespaces.length;n++)if("v"==document.namespaces[n].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[n].urn){i=!1;break}}catch(t){return!1}return t.jqx.browser.msie&&parseInt(t.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(i&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):i&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=r[0],this._width=Math.max(t.jqx._rup(r.width()),0),this._height=Math.max(t.jqx._rup(r.height()),0),r[0].style.width=this._width+2,r[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(t){null!=t&&(this.removeHandler(t),t.parentNode.removeChild(t))},_openGroups:[],beginGroup:function(){var t=this._activeParent(),e=document.createElement("v:group");return e.style.position="absolute",e.coordorigin="0,0",e.coordsize=this._width+","+this._height,e.style.left=0,e.style.top=0,e.style.width=this._width,e.style.height=this._height,t.appendChild(e),this._openGroups.push(e),e},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(t){var e=document.createElement("div");return e.style.height=t.height+1+"px",e.style.width=t.width+1+"px",e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.overflow="hidden",this._clipId=this._clipId||0,e.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(e),e},setClip:function(t,e){},_clipId:0,addHandler:function(e,r,i){t(e).on?t(e).on(r,i):t(e).bind(r,i)},removeHandler:function(e,r,i){t(e).off?t(e).off(r,i):t(e).unbind(r,i)},on:function(t,e,r){this.addHandler(t,e,r)},off:function(t,e,r){this.removeHandler(t,e,r)},_getTextParts:function(e,r,i){var n={width:0,height:0,parts:[]},a=e.toString().split("<br>"),s=this._activeParent(),o=document.createElement("v:textbox");this.attr(o,i),s.appendChild(o);for(var h=0;h<a.length;h++){var l=a[h],d=document.createElement("span");d.appendChild(document.createTextNode(l)),o.appendChild(d),i&&i.class&&(d.className=i.class);var c=t(o),u=t.jqx._rup(c.width()),p=t.jqx._rup(.6*c.height());if(0==p&&t.jqx.browser.msie&&parseInt(t.jqx.browser.version)<9){var f=c.css("font-size");f&&(p=parseInt(f),isNaN(p)&&(p=0))}o.removeChild(d),n.width=Math.max(n.width,u),n.height+=p+(h>0?2:0),n.parts.push({width:u,height:p,text:l})}return s.removeChild(o),n},_measureText:function(e,r,i,n){return r=Math.abs(r)>45?90:0,t.jqx.commonRenderer.measureText(e,r,i,n,this)},measureText:function(t,e,r){return this._measureText(t,e,r,!1)},text:function(e,r,i,n,a,s,o,h,l,d){var c;o&&o.stroke&&(c=o.stroke),void 0==c&&(c="black");var u=this._measureText(e,s,o,!0),p=u.textPartsInfo.parts,f=u.width,x=u.height;(isNaN(n)||0==n)&&(n=f),(isNaN(a)||0==a)&&(a=x);var v;if(l||(l="center"),d||(d="center"),(p.length>0||h)&&(v=this.beginGroup()),h){var g=this.createClipRect({x:t.jqx._rup(r),y:t.jqx._rup(i),width:t.jqx._rup(n),height:t.jqx._rup(a)});this.setClip(v,g)}var m=this._activeParent(),_=n||0,y=a||0;s=Math.abs(s)>45?90:0;var j=0,q=0;"center"==l?j+=(_-f)/2:"right"==l&&(j+=_-f),"center"==d?q=(y-x)/2:"bottom"==d&&(q=y-x),0==s?(i+=x+q,r+=j):(r+=f+j,i+=q);for(var w,M=0,b=p.length-1;b>=0;b--){var C=p[b],N=(f-C.width)/2;0==s&&"left"==l?N=0:0==s&&"right"==l?N=f-C.width:90==s&&(N=(x-C.width)/2);var T=M-C.height;q=90==s?N:T,j=90==s?T:N,(w=document.createElement("v:textbox")).style.position="absolute",w.style.left=t.jqx._rup(r+j),w.style.top=t.jqx._rup(i+q),w.style.width=t.jqx._rup(C.width),w.style.height=t.jqx._rup(C.height),90==s&&(w.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",w.style.height=t.jqx._rup(C.height)+5);var P=document.createElement("span");P.appendChild(document.createTextNode(C.text)),o&&o.class&&(P.className=o.class),w.appendChild(P),m.appendChild(w),M-=C.height+(b>0?2:0)}return v?(this.endGroup(),m):w},shape:function(t,e){var r=document.createElement(this._createElementMarkup(t));if(r){for(var i in e)r.setAttribute(i,e[i]);return this._activeParent().appendChild(r),r}},line:function(t,e,r,i,n){var a="M "+t+","+e+" L "+r+","+i+" X E",s=this.path(a);return this.attr(s,n),s},_createElementMarkup:function(t){var e="<v:"+t+' style=""></v:'+t+">";return this._ie8mode&&(e=e.replace('style=""','style="behavior: url(#default#VML);"')),e},path:function(t,e){var r=document.createElement(this._createElementMarkup("shape"));return r.style.position="absolute",r.coordsize=this._width+" "+this._height,r.coordorigin="0 0",r.style.width=parseInt(this._width),r.style.height=parseInt(this._height),r.style.left="0px",r.style.top="0px",r.setAttribute("path",t),this._activeParent().appendChild(r),e&&this.attr(r,e),r},rect:function(e,r,i,n,a){e=t.jqx._ptrnd(e),r=t.jqx._ptrnd(r),i=t.jqx._rup(i),n=t.jqx._rup(n);var s=this.shape("rect",a);return s.style.position="absolute",s.style.left=e,s.style.top=r,s.style.width=i,s.style.height=n,s.strokeweight=0,a&&this.attr(s,a),s},circle:function(e,r,i,n){var a=this.shape("oval");return e=t.jqx._ptrnd(e-i),r=t.jqx._ptrnd(r-i),i=t.jqx._rup(i),a.style.position="absolute",a.style.left=e,a.style.top=r,a.style.width=2*i,a.style.height=2*i,n&&this.attr(a,n),a},updateCircle:function(e,r,i,n){void 0==r&&(r=parseFloat(e.style.left)+parseFloat(e.style.width)/2),void 0==i&&(i=parseFloat(e.style.top)+parseFloat(e.style.height)/2),void 0==n&&(n=parseFloat(e.width)/2),r=t.jqx._ptrnd(r-n),i=t.jqx._ptrnd(i-n),n=t.jqx._rup(n),e.style.left=r,e.style.top=i,e.style.width=2*n,e.style.height=2*n},pieSlicePath:function(e,r,i,n,a,s,o){n||(n=1);var h=Math.abs(a-s);h>360&&(a=0,s=360);var l=a*Math.PI*2/360,d=s*Math.PI*2/360,c=e,u=r,p=!isNaN(i)&&i>0;if(p&&(o=0),o>0){var f=(h/2+a)*Math.PI*2/360;e+=o*Math.cos(f),r-=o*Math.sin(f)}if(p){var x=i;c=t.jqx._ptrnd(e+x*Math.cos(l)),u=t.jqx._ptrnd(r-x*Math.sin(l)),t.jqx._ptrnd(e+x*Math.cos(d)),t.jqx._ptrnd(r-x*Math.sin(d))}t.jqx._ptrnd(e+n*Math.cos(l));var v=t.jqx._ptrnd(e+n*Math.cos(d)),g=(t.jqx._ptrnd(r-n*Math.sin(l)),t.jqx._ptrnd(r-n*Math.sin(d)));n=t.jqx._ptrnd(n),i=t.jqx._ptrnd(i),e=t.jqx._ptrnd(e),r=t.jqx._ptrnd(r);var m=Math.round(65535*a),_=Math.round(65536*(s-a));i<0&&(i=1);var y="";return p?(y="M"+c+" "+u,y+=" AE "+e+" "+r+" "+i+" "+i+" "+m+" "+_,y+=" L "+v+" "+g,m=Math.round(65535*(a-s)),y+=" AE "+e+" "+r+" "+n+" "+n+" "+(_=Math.round(65536*s))+" "+m,y+=" L "+c+" "+u):(y="M"+e+" "+r,y+=" AE "+e+" "+r+" "+n+" "+n+" "+m+" "+_),y+=" X E"},pieslice:function(t,e,r,i,n,a,s,o){var h=this.pieSlicePath(t,e,r,i,n,a,s),l=this.path(h,o);return o&&this.attr(l,o),l},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(t){for(var e in this._keymap)if(this._keymap[e].svg==t)return this._keymap[e].vml;return t},attr:function(t,e){if(t&&e)for(var r in e){var i=this._translateParam(r);void 0!=e[r]&&("fillcolor"==i&&-1!=e[r].indexOf("grd")?t.type=e[r]:"fillcolor"==i&&"transparent"==e[r]?(t.style.filter="alpha(opacity=0)",t["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==i||"fillopacity"==i?t.fill&&(t.fill.opacity=e[r]):"textContent"==i?t.children[0].innerText=e[r]:"dashstyle"==i?t.dashstyle=e[r].replace(","," "):-1==i.indexOf("style.")?t[i]=e[r]:t.style[i.replace("style.","")]=e[r])}},removeAttr:function(t,e){if(t&&e)for(var r in e)t.removeAttribute(e[r])},getAttr:function(t,e){var r=this._translateParam(e);return"opacity"==r||"fillopacity"==r?t.fill?t.fill.opacity:1:-1==r.indexOf("style.")?t[r]:t.style[r.replace("style.","")]},_gradients:{},_toRadialGradient:function(t,e,r){return t},_toLinearGradient:function(e,r,i){if(this._ie8mode)return e;var n="grd"+e.replace("#","")+(r?"v":"h"),a="#"+n;if(this._gradients[a])return a;var s=document.createElement(this._createElementMarkup("fill"));s.type="gradient",s.method="linear",s.angle=r?0:90;for(var o="",h=0;h<i.length;h++){var l=i[h];l>0&&(o+=", "),o+=l[0]+"% "+t.jqx.adjustColor(e,l[1])}s.colors=o;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(s),d.id=n,this.canvas.appendChild(d),a}},t.jqx.HTML5Renderer=function(){},t.jqx.ptrnd=function(t){if(.5==Math.abs(Math.round(t)-t))return t;var e=Math.round(t);return e<t&&(e-=1),e+.5},t.jqx.HTML5Renderer.prototype={init:function(t){try{this.host=t,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=t.find("#__jqxCanvasWrap"),this.canvas[0].width=t.width(),this.canvas[0].height=t.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(t){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(t){},addHandler:function(t,e,r){},removeHandler:function(t,e,r){},on:function(t,e,r){this.addHandler(t,e,r)},off:function(t,e,r){this.removeHandler(t,e,r)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(t){void 0!=t&&this._elements[t.id]&&delete this._elements[t.id]},shape:function(t,e){var r={type:t,id:this._maxId++};for(var i in e)r[i]=e[i];return this._elements[r.id]=r,r},attr:function(t,e){for(var r in e)t[r]=e[r]},removeAttr:function(t,e){for(var r in e)delete t[e[r]]},rect:function(t,e,r,i,n){if(isNaN(t))throw'Invalid value for "x"';if(isNaN(e))throw'Invalid value for "y"';if(isNaN(r))throw'Invalid value for "width"';if(isNaN(i))throw'Invalid value for "height"';var a=this.shape("rect",{x:t,y:e,width:r,height:i});return n&&this.attr(a,n),a},path:function(t,e){var r=this.shape("path",e);return this.attr(r,{d:t}),r},line:function(t,e,r,i,n){return this.path("M "+t+","+e+" L "+r+","+i,n)},circle:function(t,e,r,i){var n=this.shape("circle",{x:t,y:e,r:r});return i&&this.attr(n,i),n},pieSlicePath:function(e,r,i,n,a,s,o){return t.jqx.commonRenderer.pieSlicePath(e,r,i,n,a,s,o)},pieslice:function(t,e,r,i,n,a,s,o){var h=this.path(this.pieSlicePath(t,e,r,i,n,a,s),o);return this.attr(h,{x:t,y:e,innerRadius:r,outerRadius:i,angleFrom:n,angleTo:a}),h},_getCSSStyle:function(t){var e=document.styleSheets;try{for(var r=0;r<e.length;r++)for(var i=0;e[r].cssRules&&i<e[r].cssRules.length;i++)if(-1!=e[r].cssRules[i].selectorText.indexOf(t))return e[r].cssRules[i].style}catch(t){}return{}},_getTextParts:function(e,r,i){var n="Arial",a="10pt",s="";if(i&&i.class){var o=this._getCSSStyle(i.class);o.fontSize&&(a=o.fontSize),o.fontFamily&&(n=o.fontFamily),o.fontWeight&&(s=o.fontWeight)}this.ctx.font=s+" "+a+" "+n;for(var h={width:0,height:0,parts:[]},l=e.toString().split("<br>"),d=0;d<l.length;d++){var c=l[d],u=this.ctx.measureText(c).width,p=document.createElement("span.jqxchart");p.font=this.ctx.font,p.textContent=c,document.body.appendChild(p);var f=.6*p.offsetHeight;document.body.removeChild(p),h.width=Math.max(h.width,t.jqx._rup(u)),h.height+=f+(d>0?4:0),h.parts.push({width:u,height:f,text:c})}return h},_measureText:function(e,r,i,n){return t.jqx.commonRenderer.measureText(e,r,i,n,this)},measureText:function(t,e,r){return this._measureText(t,e,r,!1)},text:function(t,e,r,i,n,a,s,o,h,l,d){var c=this.shape("text",{text:t,x:e,y:r,width:i,height:n,angle:a,clip:o,halign:h,valign:l,rotateAround:d});if(s&&this.attr(c,s),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",s&&s.class){var u=this._getCSSStyle(s.class);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(t,0,s,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(i<=0||isNaN(i))&&this.attr(c,{width:p.width}),(n<=0||isNaN(n))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(e,r,i){if(this._renderers._gradients[e])return e;for(var n=[],a=0;a<i.length;a++)n.push({percent:i[a][0]/100,color:t.jqx.adjustColor(e,i[a][1])});var s="gr"+this._gradientId++;return this.createGradient(s,r?"vertical":"horizontal",n),s},_toRadialGradient:function(e,r){if(this._renderers._gradients[e])return e;for(var i=[],n=0;n<r.length;n++)i.push({percent:r[n][0]/100,color:t.jqx.adjustColor(e,r[n][1])});var a="gr"+this._gradientId++;return this.createGradient(a,"radial",i),a},createGradient:function(t,e,r){this._renderers.createGradient(this,t,e,r)},_renderers:{createGradient:function(t,e,r,i){t._gradients[e]={orientation:r,colorStops:i}},setStroke:function(t,e){var r=t.ctx;r.strokeStyle=e.stroke||"transparent",r.lineWidth=e["stroke-width"]||1,void 0!=e["fill-opacity"]?r.globalAlpha=e["fill-opacity"]:void 0!=e.opacity?r.globalAlpha=e.opacity:r.globalAlpha=1,r.setLineDash&&(e["stroke-dasharray"]?r.setLineDash(e["stroke-dasharray"].split(",")):r.setLineDash([]))},setFillStyle:function(e,r){var i=e.ctx;if(i.fillStyle="transparent",void 0!=r["fill-opacity"]?i.globalAlpha=r["fill-opacity"]:void 0!=r.opacity?i.globalAlpha=r.opacity:i.globalAlpha=1,r.fill&&-1==r.fill.indexOf("#")&&e._gradients[r.fill]){var n,a="horizontal"!=e._gradients[r.fill].orientation,s="radial"==e._gradients[r.fill].orientation,o=t.jqx.ptrnd(r.x),h=t.jqx.ptrnd(r.y),l=t.jqx.ptrnd(r.x+(a?0:r.width)),d=t.jqx.ptrnd(r.y+(a?r.height:0));"circle"!=r.type&&"path"!=r.type&&"rect"!=r.type||!s||(x=t.jqx.ptrnd(r.x),y=t.jqx.ptrnd(r.y),r1=r.innerRadius||0,r2=r.outerRadius||r.r||0,"rect"==r.type&&(x+=r.width/2,y+=r.height/2),n=i.createRadialGradient(x,y,r1,x,y,r2)),s||((isNaN(o)||isNaN(l)||isNaN(h)||isNaN(d))&&(o=0,h=0,l=a?0:i.canvas.width,d=a?i.canvas.height:0),n=i.createLinearGradient(o,h,l,d));for(var c=e._gradients[r.fill].colorStops,u=0;u<c.length;u++)n.addColorStop(c[u].percent,c[u].color);i.fillStyle=n}else r.fill&&(i.fillStyle=r.fill)},rect:function(e,r){0!=r.width&&0!=r.height&&(e.fillRect(t.jqx.ptrnd(r.x),t.jqx.ptrnd(r.y),r.width,r.height),e.strokeRect(t.jqx.ptrnd(r.x),t.jqx.ptrnd(r.y),r.width,r.height))},circle:function(e,r){0!=r.r&&(e.beginPath(),e.arc(t.jqx.ptrnd(r.x),t.jqx.ptrnd(r.y),r.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())},_parsePoint:function(t){return{x:this._parseNumber(t),y:this._parseNumber(t)}},_parseNumber:function(t){for(var e=!1,r=this._pos;r<t.length;r++)if(t[r]>="0"&&t[r]<="9"||"."==t[r]||"e"==t[r]||"-"==t[r]&&!e||"-"==t[r]&&r>=1&&"e"==t[r-1])e=!0;else{if(e||" "!=t[r]&&","!=t[r])break;this._pos++}var i=parseFloat(t.substring(this._pos,r));if(!isNaN(i))return this._pos=r,i},_cmds:"mlcazq",_isRelativeCmd:function(e){return t.jqx.string.contains(this._cmds,e)},_parseCmd:function(e){for(var r=this._pos;r<e.length;r++){if(t.jqx.string.containsIgnoreCase(this._cmds,e[r]))return this._pos=r+1,this._lastCmd=e[r],this._lastCmd;if(" "!=e[r]){if(e[r]>="0"&&e[r]<="9"){if(this._pos=r,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(t){return{x:this._currentPoint.x+t.x,y:this._currentPoint.y+t.y}},path:function(t,e){var r=e.d;this._pos=0,this._lastCmd="";var i=void 0;this._currentPoint={x:0,y:0},t.beginPath();for(;this._pos<r.length;){var n=this._parseCmd(r);if(void 0==n)break;if("M"!=n&&"m"!=n)if("L"!=n&&"l"!=n)if("A"!=n&&"a"!=n)if("Z"!=n&&"z"!=n||void 0==i)if("C"!=n&&"c"!=n)if("Q"!=n&&"q"!=n);else{var a=this._parsePoint(r),s=this._parsePoint(r);t.quadraticCurveTo(a.x,a.y,s.x,s.y),this._currentPoint=s}else{var a=this._parsePoint(r),s=this._parsePoint(r),o=this._parsePoint(r);t.bezierCurveTo(a.x,a.y,s.x,s.y,o.x,o.y),this._currentPoint=o}else t.lineTo(i.x,i.y),this._currentPoint=i;else{var h=this._parseNumber(r),l=this._parseNumber(r),d=this._parseNumber(r)*(Math.PI/180),c=this._parseNumber(r),u=this._parseNumber(r),p=this._parsePoint(r);if(this._isRelativeCmd(n)&&(p=this._toAbsolutePoint(p)),0==h||0==l)continue;var f=this._currentPoint,x={x:Math.cos(d)*(f.x-p.x)/2+Math.sin(d)*(f.y-p.y)/2,y:-Math.sin(d)*(f.x-p.x)/2+Math.cos(d)*(f.y-p.y)/2},v=Math.pow(x.x,2)/Math.pow(h,2)+Math.pow(x.y,2)/Math.pow(l,2);v>1&&(h*=Math.sqrt(v),l*=Math.sqrt(v));var g=(c==u?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(l,2)-Math.pow(h,2)*Math.pow(x.y,2)-Math.pow(l,2)*Math.pow(x.x,2))/(Math.pow(h,2)*Math.pow(x.y,2)+Math.pow(l,2)*Math.pow(x.x,2)));isNaN(g)&&(g=0);var m={x:g*h*x.y/l,y:g*-l*x.x/h},_={x:(f.x+p.x)/2+Math.cos(d)*m.x-Math.sin(d)*m.y,y:(f.y+p.y)/2+Math.sin(d)*m.x+Math.cos(d)*m.y},y=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},j=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},q=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(j(t,e))},w=q([1,0],[(x.x-m.x)/h,(x.y-m.y)/l]),M=[(x.x-m.x)/h,(x.y-m.y)/l],b=[(-x.x-m.x)/h,(-x.y-m.y)/l],C=q(M,b);j(M,b)<=-1&&(C=Math.PI),j(M,b)>=1&&(C=0),0==u&&C>0&&(C-=2*Math.PI),1==u&&C<0&&(C+=2*Math.PI);var j=h>l?h:l,N=h>l?1:h/l,T=h>l?l/h:1;t.translate(_.x,_.y),t.rotate(d),t.scale(N,T),t.arc(0,0,j,w,w+C,1-u),t.scale(1/N,1/T),t.rotate(-d),t.translate(-_.x,-_.y)}else{var P=this._parsePoint(r);if(void 0==P)break;t.lineTo(P.x,P.y),this._currentPoint=P}else{if(void 0==(P=this._parsePoint(r)))break;t.moveTo(P.x,P.y),this._currentPoint=P,void 0==i&&(i=P)}}t.fill(),t.stroke(),t.closePath()},text:function(e,r){var i=t.jqx.ptrnd(r.x),n=t.jqx.ptrnd(r.y),a=t.jqx.ptrnd(r.width),s=t.jqx.ptrnd(r.height),o=r.halign,h=r.valign,l=r.angle,d=r.rotateAround,c=r.textPartsInfo,u=c.parts,p=r.clip;void 0==p&&(p=!0),e.save(),o||(o="center"),h||(h="center"),p&&(e.rect(i,n,a,s),e.clip());var f=r.textWidth,x=r.textHeight,v=a||0,g=s||0;if(e.fillStyle=r.color,e.font=r.fontWeight+" "+r.fontSize+" "+r.fontFamily,l&&0!=l){var m=t.jqx.commonRenderer.alignTextInRect(i,n,a,s,f,x,o,h,l,d);i=m.x,n=m.y;var _=l*Math.PI*2/360;e.translate(i,n),e.rotate(_);for(var y=0,j=c.width,q=u.length-1;q>=0;q--){M=0;"center"==o?M+=(j-u[q].width)/2:"right"==o&&(M+=j-u[q].width),e.fillText(u[q].text,M,y),y-=u[q].height+4}e.restore()}else{n+=x,"center"==h||"middle"==h?n+=(g-x)/2:"bottom"==h&&(n+=g-x),a||(a=f),s||(s=x);for(var y=0,q=u.length-1;q>=0;q--){var w=u[q],M=i,b=u[q].width;u[q].height;"center"==o?M+=(v-b)/2:"right"==o&&(M+=v-b),e.fillText(w.text,M,n+y),y-=w.height+(q>0?4:0)}e.restore()}}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var t in this._elements){var e=this._elements[t];this._renderers.setFillStyle(this,e),this._renderers.setStroke(this,e),this._renderers[this._elements[t].type](this.ctx,e)}}},t.jqx.createRenderer=function(e,r){var i=e,n=i.renderer=null;if(document.createElementNS&&"HTML5"!=i.renderEngine&&"VML"!=i.renderEngine&&!(n=new t.jqx.svgRenderer).init(r)){if("SVG"==i.renderEngine)throw"Your browser does not support SVG";return null}if(null==n&&"HTML5"!=i.renderEngine){if(!(n=new t.jqx.vmlRenderer).init(r)){if("VML"==i.renderEngine)throw"Your browser does not support VML";return null}i._isVML=!0}if(null==n&&("HTML5"==i.renderEngine||void 0==i.renderEngine)&&!(n=new t.jqx.HTML5Renderer).init(r))throw"Your browser does not support HTML5 Canvas";return i.renderer=n,n},t.jqx._widgetToImage=function(e,r,i,n,a,s){var o=e;if(!o)return!1;void 0!=i&&""!=i||(i="image."+r);var h=o.renderEngine,l=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=h)try{o.refresh()}catch(t){return o.renderEngine=h,o.refresh(),o.enableAnimations=l,!1}var d=o.renderer.getContainer().find("canvas")[0],c=!0;t.isFunction(s)&&(c=s(e,d));var u=!0;return c&&(u=t.jqx.exportImage(d,r,i,n,a)),o.renderEngine!=h&&(o.renderEngine=h,o.refresh(),o.enableAnimations=l),u},t.jqx.getByPriority=function(t){for(var e=void 0,r=0;r<t.length&&void 0==e;r++)void 0==e&&void 0!=t[r]&&(e=t[r]);return e},t.jqx.exportImage=function(e,r,i,n,a){if(!e)return!1;var s="pdf"===r.toLowerCase();if(s&&(r="jpeg"),void 0!=i&&""!=i||(i="image."+r),void 0==n||""==n)throw"Please specifiy export server";var o=!0;try{if(e){var h=e.toDataURL("image/"+r);if(s){t.jqx.pdfExport||(t.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});l=595;switch(t.jqx.pdfExport.paperSize){case"legal":l=612;"portrait"!==t.jqx.pdfExport.orientation&&(l=1008);break;case"letter":l=612;"portrait"!==t.jqx.pdfExport.orientation&&(l=792);break;case"a3":l=841;"portrait"!==t.jqx.pdfExport.orientation&&(l=1190);break;case"a4":l=595;"portrait"!==t.jqx.pdfExport.orientation&&(l=842);break;case"a5":var l=420;"portrait"!==t.jqx.pdfExport.orientation&&(l=595)}var d=72*t(e).width()/96;d>=l-20&&(d=l-20);var c=new pdfDataExport(t.jqx.pdfExport.orientation,"pt",t.jqx.pdfExport.paperSize);return c.addImage(h,"JPEG",10,10,d,0),void c.save(i)}if(h=h.replace("data:image/"+r+";base64,",""),a)t.ajax({dataType:"string",url:n,type:"POST",data:{content:h,fname:i},async:!1,success:function(t,e,r){o=!0},error:function(t,e,r){o=!1}});else{var u=document.createElement("form");u.method="POST",u.action=n,u.style.display="none",document.body.appendChild(u);var p=document.createElement("input");p.name="fname",p.value=i,p.style.display="none";var f=document.createElement("input");f.name="content",f.value=h,f.style.display="none",u.appendChild(p),u.appendChild(f),u.submit(),document.body.removeChild(u),o=!0}}}catch(t){o=!1}return o}}(jqxBaseFramework),function(t){jqxPlot=function(){},jqxPlot.prototype={get:function(t,e,r){return void 0!==r?t[e][r]:t[e]},min:function(t,e){for(var r=NaN,i=0;i<t.length;i++){var n=this.get(t,i,e);(isNaN(r)||n<r)&&(r=n)}return r},max:function(t,e){for(var r=NaN,i=0;i<t.length;i++){var n=this.get(t,i,e);(isNaN(r)||n>r)&&(r=n)}return r},sum:function(t,e){for(var r=0,i=0;i<t.length;i++){var n=this.get(t,i,e);isNaN(n)||(r+=n)}return r},count:function(t,e){for(var r=0,i=0;i<t.length;i++){var n=this.get(t,i,e);isNaN(n)||r++}return r},avg:function(t,e){return this.sum(t,e)/Math.max(1,count(t,e))},filter:function(t,e){if(!e)return t;for(var r=[],i=0;i<t.length;i++)e(t[i])&&r.push(t[i]);return r},scale:function(e,r,i,n){if(isNaN(e))return NaN;if((e<Math.min(r.min,r.max)||e>Math.max(r.min,r.max))&&(!n||!0!==n.ignore_range))return NaN;var a=NaN,s=1;if(void 0===r.type||"logarithmic"!=r.type){var o=Math.abs(r.max-r.min);o||(o=1),s=Math.abs(e-Math.min(r.min,r.max))/o}else if("logarithmic"===r.type){d=r.base;isNaN(d)&&(d=10);var h=Math.min(r.min,r.max);h<=0&&(h=1);var l=Math.max(r.min,r.max);l<=0&&(l=1);c=t.jqx.log(l,d);l=Math.pow(d,c);u=t.jqx.log(h,d);h=Math.pow(d,u);p=t.jqx.log(e,d);s=Math.abs(p-u)/(c-u)}if("logarithmic"===i.type){var d=i.base;isNaN(d)&&(d=10);var c=t.jqx.log(i.max,d),u=t.jqx.log(i.min,d);i.flip&&(s=1-s);var p=Math.min(u,c)+s*Math.abs(c-u);a=Math.pow(d,p)}else a=Math.min(i.min,i.max)+s*Math.abs(i.max-i.min),i.flip&&(a=Math.max(i.min,i.max)-a+i.min);return a},axis:function(e,r,i){if(i<=1)return[r,e];(isNaN(i)||i<2)&&(i=2);for(var n=0;Math.round(e)!=e&&Math.round(r)!=r&&n<10;)e*=10,r*=10,n++;for(var a=(r-e)/i;n<10&&Math.round(a)!=a;)e*=10,r*=10,a*=10,n++;for(var s=[1,2,5],o=0;;){var h=o%s.length,l=Math.floor(o/s.length),d=Math.pow(10,l)*s[h];h=(o+1)%s.length,l=Math.floor((o+1)/s.length);var c=Math.pow(10,l)*s[h];if(a>=d&&a<c)break;o++}for(var u=c,p=[],f=t.jqx._rnd(e,u,!1),x=n<=0?1:Math.pow(10,n);f<r+u;)p.push(f/x),f+=u;return p}}}(jqxBaseFramework);

!function(t){var e=function(){function o(t,e,o,s,i,a,u){return this.hierarchy=i,this.exportFormat=a,this.filename=u,t.beginFile(u),n(t),r(t),t.endFile(u),t.getFile()}function n(e){var o=!0;t.each(w,function(){if(this.hidden)return o=!1,!1}),e.beginHeader(o);var n=0;for(var r in w){w[r].columnsDataFields&&(r=w[r].columnsDataFields[n].displayfield);var s=i(r,w[r]);e.appendHeaderCell(w[r],r,s,o,n),n++}e.endHeader(o)}function r(t){if(t.beginBody(),this.hierarchy){var e=function(o){for(var n=0;n<o.length;n+=1)void 0!==o[n]&&(t.beginRow(o[n].level),s(t,o[n],n,!0),o[n].records&&(t.beginRows(o[n].level),e(o[n].records),t.endRows(o[n].level)),t.endRow(o[n].level))};return e(d),void t.endBody()}for(var o=0;o<d.length;o+=1)void 0!==d[o]&&s(t,d[o],o);t.endBody()}function s(e,o,n,r){var s;1!=r&&e.beginRow();var i=0;for(var a in w){if(w[a].columnsDataFields&&(a=w[a].columnsDataFields[i].displayfield),s=u(n,a)){if(void 0!=s.level&&s.index-1>o.level&&s.index-1<s.maxLevel){i++;continue}void 0!=s.maxLevel&&s.index-1==s.maxLevel&&((s=t.extend({},s)).merge=s.maxLevel-o.level-1)}if(void 0!=o.level&&void 0!=o.label&&("xml"===this.exportFormat||"json"===this.exportFormat)){var l={};l.text="group",e.appendBodyCell(o.label,l,s,o,i,"group");break}o.hasOwnProperty(a)?e.appendBodyCell(o[a],w[a],s,o,i):e.appendBodyCell("",w[a],s,o,i),i++}1!=r&&e.endRow()}function i(t,e){if(e.style)return m[e.style];var o=a();return o.length>0?o[0].style:null}function a(){return h||(h=new Array,t.each(m,function(t,e){h[h.length]={name:t,style:e}})),h}function u(t,e){var o=w[e];if(o){if(o.customCellStyles){var n=o.customCellStyles[t];if(n)return m[n]}if(o.cellStyle)return o.cellAltStyle?0==(s=t%2)?m[o.cellStyle]:m[o.cellAltStyle]:m[o.cellStyle];var r=a();if(r.length>0){var s=t%(r.length-1);return r[s+1].style}}return null}function l(t,e,o){var n=document.createElement("input");return n.name=e,n.value=t,n.type="hidden",o.appendChild(n),n}function c(t,e,o){var n=document.createElement("textarea");return n.name=e,n.value=t,o.appendChild(n),n}function f(t,e,o,n,r){var s=document.createElement("form");return l(t,"filename",s),l(e,"format",s),c(o,"content",s),void 0!=n&&""!=n||(n=window&&window.location.toString().indexOf("jqwidgets.com")>=0?"http://jqwidgets.com/export_server/dataexport.php":"http://jquerygrid.net/export_server/dataexport.php"),s.action=n,s.method="post",r&&(s.acceptCharset=r),document.body.appendChild(s),s}var d,w,m,p,h,v={};return p=function(n,r,s,i,a,u){if(!(this instanceof e))return new e(n,r,s,a,u);d=n,w=r,m=s,this.exportTo=function(e,n,r,s){e=e.toString().toLowerCase();var i=v[e];if(void 0===i)throw"You can't export to "+e+" format.";if("pdf"===e&&void 0==s){var a=this.exportTo(e,n,e,"pdf");t.jqx.pdfExport||(t.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var u=new pdfDataExport(t.jqx.pdfExport.orientation,"pt",t.jqx.pdfExport.paperSize);u.cellInitialize();var l=t(a).find("th"),c=t(a).find("tr"),f=0;u.setFontSize(9.75);d=595;switch(t.jqx.pdfExport.paperSize){case"legal":d=612;"portrait"!==t.jqx.pdfExport.orientation&&(d=1008);break;case"letter":d=612;"portrait"!==t.jqx.pdfExport.orientation&&(d=792);break;case"a3":d=841;"portrait"!==t.jqx.pdfExport.orientation&&(d=1190);break;case"a4":d=595;"portrait"!==t.jqx.pdfExport.orientation&&(d=842);break;case"a5":var d=420;"portrait"!==t.jqx.pdfExport.orientation&&(d=595)}d-=20;var w=0,m=[];if(t.each(l,function(t){var e=parseInt(this.style.width);isNaN(e)&&(e=25);var o=72*e/96;m[t]=o,w+=o}),w>d&&t.each(m,function(t){m[t]=m[t]/w*100,m[t]=m[t]*d/100}),t.each(l,function(e){var o=m[e],n=u.getTextDimensions(t(this).html()),r=t(this).html();if(n.w+3>o){var s=u.splitTextToSize(r,o-3),i=s[0];r=i.length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=(s=u.splitTextToSize(r,o-3))[0])!=r&&(r=i)}u.cell(10,10,o,18.75,r,f)}),f++,t.each(c,function(e){if(0===e)return!0;var o=t(this).children();if(o.length>l.length){for(var n=o.length-l.length,r="",s=m[0],i=18.75,a=0;a<=n;a++){var c=o[a].innerHTML;"+"!==c&&"-"!==c||(c+=" "),"&nbsp;"===c&&(c="   "),r+=c}var d=u.getTextDimensions(r);d.w+3>s&&(r=(p=(w=u.splitTextToSize(r,s-3))[0]).length>3?p.substring(0,p.length-3)+"...":p.substring(0,1)+"...",(p=(w=u.splitTextToSize(r,s-3))[0])!=r&&(r=p)),u.cell(10,10,s,i,r,f);for(a=n+1;a<o.length;a++){var s=m[e=a-n],i=18.75,r=t(o[a]).html();if((d=u.getTextDimensions(t(o[a]).html())).w+3>s){var w=u.splitTextToSize(r,s-3),p=w[0];r=p.length>3?p.substring(0,p.length-3)+"...":p.substring(0,1)+"...",(p=(w=u.splitTextToSize(r,s-3))[0])!=r&&(r=p)}u.cell(10,10,s,i,r,f)}return f++,!0}t.each(o,function(e){var o=m[e],n=t(this).html();if(u.getTextDimensions(t(this).html()).w+3>o){var r=u.splitTextToSize(n,o-3),s=r[0];n=s.length>3?s.substring(0,s.length-3)+"...":s.substring(0,1)+"...",(s=(r=u.splitTextToSize(n,o-3))[0])!=n&&(n=s)}u.cell(10,10,o,18.75,n,f)}),f++}),t.jqx.browser.msie&&t.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return u}return o(i,0,0,0,n,r,s)},this.exportToFile=function(e,o,n,r,s){if("pdf"!==e){var i=f(o,e,this.exportTo(e,s,e,o),n,r);i.submit(),document.body.removeChild(i)}else{var a=this.exportTo(e,s,e,o);t.jqx.pdfExport||(t.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var u=new pdfDataExport(t.jqx.pdfExport.orientation,"pt",t.jqx.pdfExport.paperSize);"utf-8"!=r&&"UTF-8"!=r||u.setFont("courier","normal"),u.cellInitialize();var l=t(a).find("th"),c=t(a).find("tr"),d=0;u.setFontSize(9.75);w=595;switch(t.jqx.pdfExport.paperSize){case"legal":w=612;"portrait"!==t.jqx.pdfExport.orientation&&(w=1008);break;case"letter":w=612;"portrait"!==t.jqx.pdfExport.orientation&&(w=792);break;case"a3":w=841;"portrait"!==t.jqx.pdfExport.orientation&&(w=1190);break;case"a4":w=595;"portrait"!==t.jqx.pdfExport.orientation&&(w=842);break;case"a5":var w=420;"portrait"!==t.jqx.pdfExport.orientation&&(w=595)}w-=20;var m=0,p=[];if(t.each(l,function(t){var e=parseInt(this.style.width);isNaN(e)&&(e=25);var o=72*e/96;p[t]=o,m+=o}),m>w&&t.each(p,function(t){p[t]=p[t]/m*100,p[t]=p[t]*w/100}),t.each(l,function(e){var o=p[e],n=u.getTextDimensions(t(this).html()),r=t(this).html();if(n.w+3>o){var s=u.splitTextToSize(r,o-3),i=s[0];r=i.length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=(s=u.splitTextToSize(r,o-3))[0])!=r&&(r=i)}u.cell(10,10,o,18.75,r,d)}),d++,t.each(c,function(e){if(0===e)return!0;var o=t(this).children();if(o.length>l.length){for(var n=o.length-l.length,r="",s=p[0],i=18.75,a=0;a<=n;a++){var c=o[a].innerHTML;"+"!==c&&"-"!==c||(c+=" "),"&nbsp;"===c&&(c="   "),r+=c}var f=u.getTextDimensions(r);f.w+3>s&&(r=(m=(w=u.splitTextToSize(r,s-3))[0]).length>3?m.substring(0,m.length-3)+"...":m.substring(0,1)+"...",(m=(w=u.splitTextToSize(r,s-3))[0])!=r&&(r=m)),u.cell(10,10,s,i,r,d);for(a=n+1;a<o.length;a++){var s=p[e=a-n],i=18.75;if("&nbsp;"===(r=t(o[a]).html())&&(r="   "),(f=u.getTextDimensions(t(o[a]).html())).w+3>s){var w=u.splitTextToSize(r,s-3),m=w[0];r=m.length>3?m.substring(0,m.length-3)+"...":m.substring(0,1)+"...",(m=(w=u.splitTextToSize(r,s-3))[0])!=r&&(r=m)}u.cell(10,10,s,i,r,d)}return d++,!0}t.each(o,function(e){var o=p[e],n=t(this).html();if("&nbsp;"===n&&(n="   "),u.getTextDimensions(t(this).html()).w+3>o){var r=u.splitTextToSize(n,o-3),s=r[0];n=s.length>3?s.substring(0,s.length-3)+"...":s.substring(0,1)+"...",(s=(r=u.splitTextToSize(n,o-3))[0])!=n&&(n=s)}u.cell(10,10,o,18.75,n,d)}),d++}),t.jqx.browser.msie&&t.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");u.save(o+".pdf")}},this.exportToLocalFile=function(t,e,o,n){var r=this.exportTo(t,o,n);document.location.href="data:application/octet-stream;filename="+e+","+encodeURIComponent(r)}},p.extend=function(e,o){if(!(o instanceof t.jqx.dataAdapter.DataExportModuleBase))throw"The module "+e+" is not instance of DataExportModuleBase.";v[e]=o},p}();t.jqx.dataAdapter.ArrayExporter=e}(jqxBaseFramework),function(t){t.jqx.dataAdapter.DataExportModuleBase=function(){this.formatData=function(e,o,n,r){if("date"===o){var s="";if("string"==typeof e&&(e=s=t.jqx.dataFormat.tryparsedate(e)),""===e||null===e)return"";if("NaN"==(s=t.jqx.dataFormat.formatdate(e,n,r)).toString()||null==s)return"";e=s}else if("number"===o||"float"===o||"int"===o||"integer"==o){if(""===e||null===e)return"";if(!isNaN(new Number(e))){var i=t.jqx.dataFormat.formatnumber(e,n,r);if("NaN"==i.toString())return"";e=i}}else e=e;return null===e?"":e},this.getFormat=function(t){var e=t?t.formatString:"",o=t?t.localization:"",n="string";return"number"!=(n=t?t.type:"string")&&"float"!=n||e||(e="f2"),"int"!=n&&"integer"!=n||e||(e="n0"),"date"==n&&(e||(e="d")),{type:n,formatString:e,localization:o}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}}}(jqxBaseFramework),function(t){var e=function(t){function e(t,e){if(e){var o=i.getFormat(e);t=i.formatData(t,o.type,o.formatString,o.localization)}return t='"'+t+'"'}function o(o,r){o=e(o,r),n+=o+t}var n,r,s=0,i=this;this.beginFile=function(){n=""},this.beginHeader=function(){},this.appendHeaderCell=function(t,e,n,s,i){if(n&&void 0!=n.level){if(i<n.maxLevel)return;if(i===n.maxLevel){s&&o(t.text);for(var a=0;a<n.maxLevel;a++)o("");return}}r=s,s&&o(t.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){s=0},this.beginRow=function(){(s>0||0==s&&r)&&(n+="\n"),s++},this.appendBodyCell=function(t,e,n,r,s){if(n&&void 0!=n.maxLevel&&s===n.maxLevel){o(t,e);for(var i=0;i<n.maxLevel-r.level-1;i++)o("",e)}else o(t,e)},this.endRow=function(){n=n.substring(0,n.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return n}};e.prototype=new t.jqx.dataAdapter.DataExportModuleBase;var o=function(){};o.prototype=new e(",");var n=function(){};n.prototype=new e("\t"),t.jqx.dataAdapter.ArrayExporter.extend("csv",new o),t.jqx.dataAdapter.ArrayExporter.extend("tsv",new n)}(jqxBaseFramework),function(t){var e=function(){function t(t){var e="";for(var o in t)t.hasOwnProperty(o)&&(n&&"font-size"==o&&(t[o]="100%"),e+=o+":"+t[o]+";");return e}var e,o,n=!1,r=0;this.setPDF=function(){n=!0},this.beginFile=function(t){e=n||void 0==t?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){e+=n?"\n\t<thead><tr>":"\n\t\t\t<thead>"},this.appendHeaderCell=function(r,s,i,a){if(o=a,a)if(n)e+='\n\t\t\t\t<th style="'+t(i)+'">'+r.text+"</th>";else{if(i.disabled)return;i.merge?r.width?e+="\n\t\t\t\t<th colspan="+(1+i.merge)+' style="width: '+r.width+"px; "+t(i)+'">'+r.text+"</th>":e+="\n\t\t\t\t<th colspan="+(1+i.merge)+' style="'+t(i)+'">'+r.text+"</th>":r.width?e+='\n\t\t\t\t<th style="width: '+r.width+"px; "+t(i)+'">'+r.text+"</th>":e+='\n\t\t\t\t<th style="'+t(i)+'">'+r.text+"</th>"}},this.endHeader=function(){e+=n?"\n\t</tr></thead>":"\n\t\t\t</thead>"},this.beginBody=function(){e+=n?"\n\t<tbody>":"\n\t\t\t<tbody>",r=0},this.beginRow=function(){e+=n?"\n\t<tr>":"\n\t\t\t\t<tr>",r++},this.appendBodyCell=function(s,i,a){var u=this.getFormat(i);""===s&&(s="&nbsp;"),n?e+=1!=r||o?'\n\t\t\t\t\t<td style="'+t(a)+'">'+this.formatData(s,u.type,u.formatString,u.localization)+"</td>":'\n\t\t\t\t\t<td style="'+t(a)+' border-top-width: 1px;">'+this.formatData(s,u.type,u.formatString,u.localization)+"</td>":a.merge?e+=1!=r||o?"\n\t\t\t\t\t<td colspan="+(1+a.merge)+' style="'+t(a)+'">'+this.formatData(s,u.type,u.formatString,u.localization)+"</td>":"\n\t\t\t\t\t<td colspan="+(1+a.merge)+' style="'+t(a)+' border-top-width: 1px;">'+this.formatData(s,u.type,u.formatString,u.localization)+"</td>":e+=1!=r||o?'\n\t\t\t\t\t<td style="'+t(a)+'">'+this.formatData(s,u.type,u.formatString,u.localization)+"</td>":'\n\t\t\t\t\t<td style="'+t(a)+' border-top-width: 1px;">'+this.formatData(s,u.type,u.formatString,u.localization)+"</td>"},this.endRow=function(){e+=n?"\n\t</tr>":"\n\t\t\t\t</tr>"},this.endBody=function(){e+=n?"\n\t</tbody>":"\n\t\t\t</tbody>"},this.endFile=function(t){e+=n||void 0==t?"\n</table>":"\n\t\t</table>\n\t</body>\n</html>\n"},this.getFile=function(){return e}};e.prototype=new t.jqx.dataAdapter.DataExportModuleBase;var o=function(){};o.prototype=new e;var n=function(){};n.prototype=new e;var r=new n;t.jqx.dataAdapter.ArrayExporter.extend("html",new o),t.jqx.dataAdapter.ArrayExporter.extend("pdf",r)}(jqxBaseFramework),function(t){var e=function(){function t(t,e,o,n){var r="String",i=this.getFormat(e);null!=t&&"_AG"==t.toString().substring(0,3)?(t=t.toString().substring(3),r="String"):("date"==i.type&&(null!==(t=this.formatData(t,i.type,i.formatString,i.localization))&&""!==t||(t="",r="String")),"string"==i.type&&(null===t||void 0===t?t="":(t.toString().indexOf("&")>=0&&(t=t.toString().replace(/&/g,"&amp;")),t.toString().indexOf(">")>=0&&(t=t.toString().replace(/>/g,"&gt;")),t.toString().indexOf("<")>=0&&(t=t.toString().replace(/</g,"&lt;")),t.toString().indexOf('"')>=0&&(t=t.toString().replace(/"/g,"&quot;")),t.toString().indexOf("'")>=0&&(t=t.toString().replace(/'/g,"&apos;")))),"number"!=o.dataType&&"float"!=o.dataType&&"int"!=o.dataType&&"integer"!=o.dataType||(r="Number",(null===(t=parseFloat(t))||isNaN(t)||""===t)&&(t="",r="String"),t&&"String"!=r&&""!=t&&e&&e.formatString&&e.formatString.indexOf("p")>=0&&(t/=100),o.currencysymbol=e.localization.currencysymbol));var u=s(o);o.merge?a+='\n\t\t\t\t<Cell ss:MergeAcross="'+o.merge+'" ss:StyleID="'+u+'"><Data ss:Type="'+r+'">'+t+"</Data></Cell>":a+='\n\t\t\t\t<Cell ss:StyleID="'+u+'"><Data ss:Type="'+r+'">'+t+"</Data></Cell>"}function e(){return"xls-style-"+(f+=1)}function o(t){for(var e in c)if(n(t,c[e])&&n(c[e],t))return e}function n(t,e){var o=!0;for(var n in t)t[n]!==e[n]&&(o=!1);return o}function r(t,e){d.startStyle(t),d.buildAlignment(e),d.buildBorder(e),d.buildFont(e),d.buildInterior(e),d.buildFormat(e),d.closeStyle(),i+=d.toString()}function s(t){if(!t)return"";var n=o(t);return void 0===n&&(n=e(),c[n]=t,r(n,t)),n}var i,a,u,l,c,f,d={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(t){this.style+='\n\t\t<Style ss:ID="'+t+'" ss:Name="'+t+'">'},buildAlignment:function(t){if(t["text-align"]){var e=this.stylesMap.alignment[t["text-align"]];e||(e="Left");var o='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+e+'"/>';this.style+=o}},buildBorder:function(t){if(t["border-color"]){var e="\n\t\t\t<Borders>";e+='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+t["border-color"]+'"/>',e+='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+t["border-color"]+'"/>',e+='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+t["border-color"]+'"/>',e+='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+t["border-color"]+'"/>',e+="\n\t\t\t</Borders>",this.style+=e}},buildFont:function(t){var e=this.stylesMap.font,o="\n\t\t\t<Font ";for(var n in e)void 0!==t[n]&&("font-style"===n&&"italic"===t[n].toString().toLowerCase()?o+='ss:Italic="1" ':"font-weight"===n&&"bold"===t[n].toString().toLowerCase()?o+='ss:Bold="1" ':"color"===n&&(o+="ss:"+e[n]+'="'+t[n]+'" '));o+="/>",this.style+=o},buildInterior:function(t){var e=this.stylesMap.interior,o="\n\t\t\t<Interior ",n=!1;for(var r in e)void 0!==t[r]&&(o+="ss:"+e[r]+'="'+t[r]+'" ',n=!0);n&&(o+='ss:Pattern="Solid"'),o+="/>",this.style+=o},buildFormat:function(t){if("number"==t.dataType||"float"==t.dataType||"int"==t.dataType||"integer"==t.dataType){var e=t.formatString;""==e||-1!=e.indexOf("n")||-1!=e.indexOf("N")?this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>':"f"==e||"F"==e||"D"==e||-1!=e.indexOf("d")?this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':-1!=e.indexOf("p")||-1!=e.indexOf("P")?this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>':-1==e.indexOf("c")&&-1==e.indexOf("C")||(8364==parseInt(t.currencysymbol.charCodeAt(0))?this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>')}else"date"==t.dataType&&(this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var t=this.style;return this.style="",t}};this.beginFile=function(){c={},f=0,i='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'},this.beginHeader=function(){a='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>',u=[],l=[]},this.appendHeaderCell=function(t,e,o){var n=void 0!=t.width?t.width:10*t.text.length;a+='\n\t\t\t<Column ss:Width="'+n+'"/>',u.push(t),l.push(o)},this.endHeader=function(e){if(e){this.beginRow();for(var o=0;o<u.length;o+=1)l[o].disabled||t.call(this,u[o].text,null,l[o]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(t){if(void 0==t)a+="\n\t\t\t<Row>";else{a+="\n\t\t\t";for(var e=0;e<t;e++)a+="\t";a+="<Row>"}},this.beginRows=function(t){a+="\n\t\t\t\t<Rows>"},this.appendBodyCell=function(e,o,n,r){t.call(this,e,o,n,r)},this.endRow=function(t){if(void 0==t)a+="\n\t\t\t</Row>";else{a+="\n\t\t\t";for(var e=0;e<t;e++)a+="\t";a+="</Row>"}},this.endRows=function(t){if(void 0==t);else{a+="\n\t\t\t";for(var e=0;e<t;e++)a+="\t";a+="</Rows>"}},this.endBody=function(){a+="\n\t\t</Table>"},this.endFile=function(){a+="\n\t</Worksheet>\n</Workbook>",i+="\n\t</Styles>"},this.getFile=function(){return i+a}};e.prototype=new t.jqx.dataAdapter.DataExportModuleBase,t.jqx.dataAdapter.ArrayExporter.extend("xls",new e)}(jqxBaseFramework),function(t){var e=function(){var t,e,o;this.beginFile=function(){t='<?xml version="1.0" encoding="UTF-8" ?>',t+="\n<table>"},this.beginHeader=function(){e=[]},this.appendHeaderCell=function(t,o){e.push(o)},this.endHeader=function(){},this.beginBody=function(t,e){},this.beginRow=function(e){if(void 0!=e&&this.hierarchy){t+="\n\t";for(var n=0;n<e;n++)t+="\t\t";return t+="<row>",void(o=0)}t+="\n\t<row>",o=0},this.beginRows=function(e){if(void 0!=e){t+="\n\t\t";for(var n=0;n<e;n++)t+="\t\t";return t+="<rows>",void(o=0)}t+="\n\t\t<rows>"},this.appendBodyCell=function(n,r,s,i,a,u){var l=this.getFormat(r);if(n=this.formatData(n,l.type,l.formatString,l.localization),"string"==l.type&&(n.toString().indexOf("&")>=0&&(n=n.toString().replace(/&/g,"&amp;")),n.toString().indexOf(">")>=0&&(n=n.toString().replace(/>/g,"&gt;")),n.toString().indexOf("<")>=0&&(n=n.toString().replace(/</g,"&lt;")),n.toString().indexOf('"')>=0&&(n=n.toString().replace(/"/g,"&quot;")),n.toString().indexOf("'")>=0&&(n=n.toString().replace(/'/g,"&apos;"))),void 0!=i.level)if(this.hierarchy){t+="\n\t\t";for(var c=0;c<i.level;c++)t+="\t\t";t+=void 0===u?"<"+e[o]+">"+n+"</"+e[o]+">":"<"+u+">"+n+"</"+u+">"}else t+=void 0!=u?"\n\t\t<"+u+">"+n+"</"+u+">":"\n\t\t<"+e[o]+">"+n+"</"+e[o]+">";else t+="\n\t\t<"+e[o]+">"+n+"</"+e[o]+">";o++},this.endRow=function(e){if(void 0!=e&&this.hierarchy){t+="\n\t";for(var n=0;n<e;n++)t+="\t\t";return t+="</row>",void(o=0)}t+="\n\t</row>",o=0},this.endRows=function(e){if(void 0!=e){t+="\n\t\t";for(var n=0;n<e;n++)t+="\t\t";return t+="</rows>",void(o=0)}t+="\n\t\t</rows>"},this.endBody=function(){},this.endFile=function(){t+="\n</table>"},this.getFile=function(){return t}};e.prototype=new t.jqx.dataAdapter.DataExportModuleBase,t.jqx.dataAdapter.ArrayExporter.extend("xml",new e)}(jqxBaseFramework),function(t){function e(t){return'"'+t.replace(c,function(t){var e=f[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"'}function o(t){return t<10?"0"+t:t}function n(t){return isFinite(t.valueOf())?t.getUTCFullYear()+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+'Z"':"null"}function r(t){var e,o=t.length,n=[];for(e=0;e<o;e++)n.push(u(e,t)||"null");return"["+n.join(",")+"]"}function s(t){var o,n,r=[];for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n=u(o,t))&&r.push(e(o)+":"+n);return"{"+r.join(",")+"}"}function i(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return n(t);case"[object Array]":return r(t)}return s(t)}function a(t,o){switch(o){case"string":return e(t);case"number":case"float":case"integer":case"int":return isFinite(t)?t:"null";case"boolean":return t}return"null"}function u(t,e){var o=e[t],n=typeof o;return o&&"object"==typeof o&&"function"==typeof o.toJSON&&(n=typeof(o=o.toJSON(t))),/(number|float|int|integer|string|boolean)/.test(n)||!o&&"object"===n?a(o,n):i(o)}function l(t){return window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(t):u("",{"":t})}var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},d=function(){var t=this;this.prepareData=function(e,o){if(o){var n=t.getFormat(o);e=t.formatData(e,n.type,n.formatString,n.localization)}return e};var e,o,n,r=[],s=0;this.beginFile=function(){o=[]},this.beginHeader=function(){},this.appendHeaderCell=function(t){},this.endHeader=function(){},this.beginBody=function(t,e){},this.beginRow=function(){hierarchy?r[s]={}:n={}},this.beginRows=function(){r[s].rows=[],r[++s]={}},this.endRows=function(){s--},this.appendBodyCell=function(t,e){var o=this.prepareData(t,e);hierarchy?r[s][e.text]=o:n[e.text]=o},this.endRow=function(){hierarchy?0==s?o.push(r[s]):r[s-1].rows.push(r[s]):o.push(n)},this.endBody=function(){},this.endFile=function(){e=l(o)},this.getFile=function(){return e}};d.prototype=new t.jqx.dataAdapter.DataExportModuleBase,t.jqx.dataAdapter.ArrayExporter.extend("json",new d)}(jqxBaseFramework);var pdfDataExport=function(){"use strict";function t(n,r,s,i){n=void 0===n?"p":n.toString().toLowerCase(),void 0===r&&(r="mm"),void 0===s&&(s="a4"),void 0===i&&"undefined"==typeof zpipe&&(i=!1);var a,u,l,c,f,d,w,m,p,h=s.toString().toLowerCase(),v=[],y=0,q=i,g={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},x="0 g",b=0,k=[],z=2,S=!1,C=[],T={},F={},j=16,A={title:"",subject:"",author:"",keywords:"",creator:""},R=0,E=0,D={},O=new o(D),B=function(t){return t.toFixed(2)},P=function(t){return t.toFixed(3)},I=function(t){var e=t.toFixed(0);return t<10?"0"+e:e},H=function(t){var e=t.toFixed(0);return e.length<10?new Array(11-e.length).join("0")+e:e},N=function(t){S?k[b].push(t):(v.push(t),y+=t.length+1)},L=function(){return z++,C[z]=y,N(z+" 0 obj"),z},M=function(t){N("stream"),N(t),N("endstream")},U=function(){w=l*c,m=u*c;var t,e,o,n,r,s;for(t=1;t<=b;t++){if(L(),N("<</Type /Page"),N("/Parent 1 0 R"),N("/Resources 2 0 R"),N("/Contents "+(z+1)+" 0 R>>"),N("endobj"),e=k[t].join("\n"),L(),q){for(o=[],n=0;n<e.length;++n)o[n]=e.charCodeAt(n);s=adler32cs.from(e),(r=new Deflater(6)).append(new Uint8Array(o)),e=r.flush(),o=[new Uint8Array([120,156]),new Uint8Array(e),new Uint8Array([255&s,s>>8&255,s>>16&255,s>>24&255])],e="";for(n in o)o.hasOwnProperty(n)&&(e+=String.fromCharCode.apply(null,o[n]));N("<</Length "+e.length+" /Filter [/FlateDecode]>>")}else N("<</Length "+e.length+">>");M(e),N("endobj")}for(C[1]=y,N("1 0 obj"),N("<</Type /Pages"),p="/Kids [",n=0;n<b;n++)p+=3+2*n+" 0 R ";N(p+"]"),N("/Count "+b),N("/MediaBox [0 0 "+B(w)+" "+B(m)+"]"),N(">>"),N("endobj")},W=function(t){t.objectNumber=L(),N("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&N("/Encoding/"+t.encoding),N("/Subtype/Type1>>"),N("endobj")},J=function(){var t;for(t in T)T.hasOwnProperty(t)&&W(T[t])},G=function(){O.publish("putXobjectDict")},_=function(){N("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),N("/Font <<");var t;for(t in T)T.hasOwnProperty(t)&&N("/"+t+" "+T[t].objectNumber+" 0 R");N(">>"),N("/XObject <<"),G(),N(">>")},K=function(){J(),O.publish("putResources"),C[2]=y,N("2 0 obj"),N("<<"),_(),N(">>"),N("endobj"),O.publish("postPutResources")},Y=function(t,e,o){void 0===F[e]&&(F[e]={}),F[e][o]=t},X=function(t,o,n,r){var s="F"+(e(T)+1).toString(10),i=T[s]={id:s,PostScriptName:t,fontName:o,fontStyle:n,encoding:r,metadata:{}};return Y(s,o,n),O.publish("addFont",i),s},V=function(t,e){var o,n,r,s,i,u,l,c,f;if(void 0===e&&(e={}),r=e.sourceEncoding?r:"Unicode",i=e.outputEncoding,(e.autoencode||i)&&T[a].metadata&&T[a].metadata[r]&&T[a].metadata[r].encoding&&(s=T[a].metadata[r].encoding,!i&&T[a].encoding&&(i=T[a].encoding),!i&&s.codePages&&(i=s.codePages[0]),"string"==typeof i&&(i=s[i]),i)){for(l=!1,u=[],o=0,n=t.length;o<n;o++)(c=i[t.charCodeAt(o)])?u.push(String.fromCharCode(c)):u.push(t[o]),u[o].charCodeAt(0)>>8&&(l=!0);t=u.join("")}for(o=t.length;void 0===l&&0!==o;)t.charCodeAt(o-1)>>8&&(l=!0),o--;if(l){for(u=e.noBOM?[]:[254,255],o=0,n=t.length;o<n;o++){if(c=t.charCodeAt(o),(f=c>>8)>>8)throw new Error("Character at position "+o.toString(10)+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");u.push(f),u.push(c-(f<<8))}return String.fromCharCode.apply(void 0,u)}return t},Q=function(t,e){return V(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Z=function(){N("/Producer (pdfDataExport 0.9.0rc2)"),A.title&&N("/Title ("+Q(A.title)+")"),A.subject&&N("/Subject ("+Q(A.subject)+")"),A.author&&N("/Author ("+Q(A.author)+")"),A.keywords&&N("/Keywords ("+Q(A.keywords)+")"),A.creator&&N("/Creator ("+Q(A.creator)+")");var t=new Date;N("/CreationDate (D:"+[t.getFullYear(),I(t.getMonth()+1),I(t.getDate()),I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join("")+")")},$=function(){N("/Type /Catalog"),N("/Pages 1 0 R"),N("/OpenAction [3 0 R /FitH null]"),N("/PageLayout /OneColumn"),O.publish("putCatalog")},tt=function(){N("/Size "+(z+1)),N("/Root "+z+" 0 R"),N("/Info "+(z-1)+" 0 R")},et=function(){S=!0,k[++b]=[]},ot=function(){et(),N(B(.200025*c)+" w"),N("0 G"),0!==R&&N(R.toString(10)+" J"),0!==E&&N(E.toString(10)+" j"),O.publish("addPage",{pageNumber:b})},nt=function(t,e){var o;void 0===t&&(t=T[a].fontName),void 0===e&&(e=T[a].fontStyle);try{o=F[t][e]}catch(t){o=void 0}if(!o)throw new Error("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts.");return o},rt=function(){S=!1,v=[],C=[],N("%PDF-1.3"),U(),K(),L(),N("<<"),Z(),N(">>"),N("endobj"),L(),N("<<"),$(),N(">>"),N("endobj");var t,e=y;for(N("xref"),N("0 "+(z+1)),N("0000000000 65535 f "),t=1;t<=z;t++)N(H(C[t])+" 00000 n ");return N("trailer"),N("<<"),tt(),N(">>"),N("startxref"),N(e),N("%%EOF"),S=!0,v.join("\n")},st=function(t){var e="S";return"F"===t?e="f":"FD"!==t&&"DF"!==t||(e="B"),e},it=function(t,e){var o,n,r,s,i;switch(t){case void 0:return rt();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return D.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return D.output("dataurlnewwindow")}for(n=(o=rt()).length,r=new Uint8Array(new ArrayBuffer(n)),s=0;s<n;s++)r[s]=o.charCodeAt(s);i=new Blob([r],{type:"application/pdf"}),saveAs(i,e);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(rt());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(rt());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(rt()));break;default:throw new Error('Output type "'+t+'" is not supported.')}};if("pt"===r)c=1;else if("mm"===r)c=72/25.4;else if("cm"===r)c=72/2.54;else{if("in"!==r)throw"Invalid unit: "+r;c=72}if(g.hasOwnProperty(h))u=g[h][1]/c,l=g[h][0]/c;else try{u=s[1],l=s[0]}catch(t){throw"Invalid format: "+s}if("p"===n||"portrait"===n)n="p",l>u&&(f=l,l=u,u=f);else{if("l"!==n&&"landscape"!==n)throw"Invalid orientation: "+n;n="l",u>l&&(f=l,l=u,u=f)}D.internal={pdfEscape:Q,getStyle:st,getFont:function(){return T[nt.apply(D,arguments)]},getFontSize:function(){return j},btoa:btoa,write:function(t,e,o,n){N(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return B(t*c)},getVerticalCoordinateString:function(t){return B((u-t)*c)},collections:{},newObject:L,putStream:M,events:O,scaleFactor:c,pageSize:{width:l,height:u},output:function(t,e){return it(t,e)}},D.addPage=function(){return ot(),this};var at=["","0","00","000","0000"],ut=function(t,e){for(var o,n=["FEFF"],r=0,s=t.length;r<s;++r)o=t.charCodeAt(r).toString(16).toUpperCase(),n.push(at[4-o.length],o);return n.join("")};D.text16=function(t,e,o,n){var r,s,i,l,f;if("number"==typeof t&&(r=t,s=e,t=o,e=r,o=s),"string"==typeof t&&t.match(/[\n\r]/)&&(t=t.split(/\r\n|\r|\n/g)),void 0===n?n={noBOM:!0,autoencode:!0}:(void 0===n.noBOM&&(n.noBOM=!0),void 0===n.autoencode&&(n.autoencode=!0)),n.autoencode=!1,"string"==typeof t)l=ut(t);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(f=(i=t.concat()).length-1;-1!==f;f--)i[f]=ut(i[f]);l=i.join("> Tj\nT* <")}return N("BT\n/"+a+" "+j+" Tf\n"+j+" TL\n"+x+"\n"+B(e*c)+" "+B((u-o)*c)+" Td\n<"+l+"> Tj\nET"),this},D.text=function(t,e,o,n){var r,s,i,l,f;if("number"==typeof t&&(r=t,s=e,t=o,e=r,o=s),"string"==typeof t&&t.match(/[\n\r]/)&&(t=t.split(/\r\n|\r|\n/g)),void 0===n?n={noBOM:!0,autoencode:!0}:(void 0===n.noBOM&&(n.noBOM=!0),void 0===n.autoencode&&(n.autoencode=!0)),"string"==typeof t)l=Q(t,n);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(f=(i=t.concat()).length-1;-1!==f;f--)i[f]=Q(i[f],n);l=i.join(") Tj\nT* (")}return N("BT\n/"+a+" "+j+" Tf\n"+j+" TL\n"+x+"\n"+B(e*c)+" "+B((u-o)*c)+" Td\n("+l+") Tj\nET"),this},D.line=function(t,e,o,n){return N(B(t*c)+" "+B((u-e)*c)+" m "+B(o*c)+" "+B((u-n)*c)+" l S"),this},D.lines=function(t,e,o,n,r){var s,i,a,l,f,d,w,m,p,h,v,y,q;for("number"==typeof t&&(s=t,i=e,t=o,e=s,o=i),r=st(r),n=void 0===n?[1,1]:n,N(P(e*c)+" "+P((u-o)*c)+" m "),a=n[0],l=n[1],d=t.length,y=e,q=o,f=0;f<d;f++)2===(w=t[f]).length?(y=w[0]*a+y,q=w[1]*l+q,N(P(y*c)+" "+P((u-q)*c)+" l")):(m=w[0]*a+y,p=w[1]*l+q,h=w[2]*a+y,v=w[3]*l+q,y=w[4]*a+y,q=w[5]*l+q,N(P(m*c)+" "+P((u-p)*c)+" "+P(h*c)+" "+P((u-v)*c)+" "+P(y*c)+" "+P((u-q)*c)+" c"));return N(r),this},D.rect=function(t,e,o,n,r){var s=st(r);return N([B(t*c),B((u-e)*c),B(o*c),B(-n*c),"re",s].join(" ")),this},D.triangle=function(t,e,o,n,r,s,i){return this.lines([[o-t,n-e],[r-o,s-n],[t-r,e-s]],t,e,[1,1],i),this},D.roundedRect=function(t,e,o,n,r,s,i){var a=4/3*(Math.SQRT2-1);return this.lines([[o-2*r,0],[r*a,0,r,s-s*a,r,s],[0,n-2*s],[0,s*a,-r*a,s,-r,s],[2*r-o,0],[-r*a,0,-r,-s*a,-r,-s],[0,2*s-n],[0,-s*a,r*a,-s,r,-s]],t+r,e,[1,1],i),this},D.ellipse=function(t,e,o,n,r){var s=st(r),i=4/3*(Math.SQRT2-1)*o,a=4/3*(Math.SQRT2-1)*n;return N([B((t+o)*c),B((u-e)*c),"m",B((t+o)*c),B((u-(e-a))*c),B((t+i)*c),B((u-(e-n))*c),B(t*c),B((u-(e-n))*c),"c"].join(" ")),N([B((t-i)*c),B((u-(e-n))*c),B((t-o)*c),B((u-(e-a))*c),B((t-o)*c),B((u-e)*c),"c"].join(" ")),N([B((t-o)*c),B((u-(e+a))*c),B((t-i)*c),B((u-(e+n))*c),B(t*c),B((u-(e+n))*c),"c"].join(" ")),N([B((t+i)*c),B((u-(e+n))*c),B((t+o)*c),B((u-(e+a))*c),B((t+o)*c),B((u-e)*c),"c",s].join(" ")),this},D.circle=function(t,e,o,n){return this.ellipse(t,e,o,o,n)},D.setProperties=function(t){var e;for(e in A)A.hasOwnProperty(e)&&t[e]&&(A[e]=t[e]);return this},D.setFontSize=function(t){return j=t,this},D.setFont=function(t,e){return a=nt(t,e),this},D.setFontStyle=D.setFontType=function(t){return a=nt(void 0,t),this},D.getFontList=function(){var t,e,o,n={};for(t in F)if(F.hasOwnProperty(t)){n[t]=o=[];for(e in F[t])F[t].hasOwnProperty(e)&&o.push(e)}return n},D.setLineWidth=function(t){return N((t*c).toFixed(2)+" w"),this},D.setDrawColor=function(t,e,o,n){var r;return r=void 0===e||void 0===n&&t===e===o?"string"==typeof t?t+" G":B(t/255)+" G":void 0===n?"string"==typeof t?[t,e,o,"RG"].join(" "):[B(t/255),B(e/255),B(o/255),"RG"].join(" "):"string"==typeof t?[t,e,o,n,"K"].join(" "):[B(t),B(e),B(o),B(n),"K"].join(" "),N(r),this},D.setFillColor=function(t,e,o,n){var r;return r=void 0===e||void 0===n&&t===e===o?"string"==typeof t?t+" g":B(t/255)+" g":void 0===n?"string"==typeof t?[t,e,o,"rg"].join(" "):[B(t/255),B(e/255),B(o/255),"rg"].join(" "):"string"==typeof t?[t,e,o,n,"k"].join(" "):[B(t),B(e),B(o),B(n),"k"].join(" "),N(r),this},D.setTextColor=function(t,e,o){return x=0===t&&0===e&&0===o||void 0===e?P(t/255)+" g":[P(t/255),P(e/255),P(o/255),"rg"].join(" "),this},D.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},D.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return R=e,N(e.toString(10)+" J"),this},D.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return E=e,N(e.toString(10)+" j"),this},D.output=it,D.save=function(t){D.output("save",t)};for(d in t.API)t.API.hasOwnProperty(d)&&("events"===d&&t.API.events.length?function(t,e){var o,n,r;for(r=e.length-1;-1!==r;r--)o=e[r][0],n=e[r][1],t.subscribe.apply(t,[o].concat("function"==typeof n?[n]:n))}(O,t.API.events):D[d]=t.API[d]);return function(){var t,e,o,n,r=[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"]];for(t=0,e=r.length;t<e;t++)o=X(r[t][0],r[t][1],r[t][2],"StandardEncoding"),n=r[t][0].split("-"),Y(o,n[0],n[1]||"");O.publish("addFonts",{fonts:T,dictionary:F})}(),a="F1",ot(),O.publish("initialized"),D}"undefined"==typeof btoa&&(window.btoa=function(t){var e,o,n,r,s,i,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),u=0,l=0,c="",f=[];do{e=(s=t.charCodeAt(u++)<<16|t.charCodeAt(u++)<<8|t.charCodeAt(u++))>>18&63,o=s>>12&63,n=s>>6&63,r=63&s,f[l++]=a[e]+a[o]+a[n]+a[r]}while(u<t.length);return c=f.join(""),((i=t.length%3)?c.slice(0,i-3):c)+"===".slice(i||3)}),"undefined"==typeof atob&&(window.atob=function(t){var e,o,n,r,s,i,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,l=0,c=[];if(!t)return t;t+="";do{e=(i=a.indexOf(t.charAt(u++))<<18|a.indexOf(t.charAt(u++))<<12|(r=a.indexOf(t.charAt(u++)))<<6|(s=a.indexOf(t.charAt(u++))))>>16&255,o=i>>8&255,n=255&i,c[l++]=64===r?String.fromCharCode(e):64===s?String.fromCharCode(e,o):String.fromCharCode(e,o,n)}while(u<t.length);return c.join("")});var e="function"==typeof Object.keys?function(t){return Object.keys(t).length}:function(t){var e,o=0;for(e in t)t.hasOwnProperty(e)&&o++;return o},o=function(t){this.topics={},this.context=t,this.publish=function(t,e){if(this.topics[t]){var o,n,r,s,i=this.topics[t],a=[];for(e=Array.prototype.slice.call(arguments,1),n=0,r=i.length;n<r;n++)o=(s=i[n])[0],s[1]&&(s[0]=function(){},a.push(n)),o.apply(this.context,e);for(n=0,r=a.length;n<r;n++)i.splice(a[n],1)}},this.subscribe=function(t,e,o){return this.topics[t]?this.topics[t].push([e,o]):this.topics[t]=[[e,o]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic]){var e,o,n=this.topics[t.topic];for(e=0,o=n.length;e<o;e++)n[e][0]===t.callback&&n.splice(e,1)}}};return t.API={events:[]},t}();!function(t){"use strict";var e,o,n,r=0,s=0,i={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,u=!1,l=function(t,e,o,n,r){i={x:t,y:e,w:o,h:n,ln:r}},c=function(){return i},f=function(t){r=t},d=function(){return r},w=function(t){s=t},m=function(t){return s};t.getTextDimensions=function(t){e=this.internal.getFont().fontName,o=this.internal.getFontSize(),n=this.internal.getFont().fontStyle;var r,s;return s=document.createElement("font"),s.id="pdfDataExportCell",s.style.fontStyle=n,s.style.fontName=e,s.style.fontSize=o+"pt",s.innerHTML=t,document.body.appendChild(s),r={w:(s.offsetWidth+1)*(19.049976/25.4),h:(s.offsetHeight+1)*(19.049976/25.4)},document.body.removeChild(s),r},t.cellAddPage=function(){this.addPage(),l(void 0,void 0,void 0,void 0,void 0),u=!0,a+=1,w(1)},t.cellInitialize=function(){r=0,i={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,u=!1,w(0)},t.cell=function(t,e,o,n,r,s){this.lnMod=void 0===this.lnMod?0:this.lnMod,!0!==this.printingHeaderRow&&0!==this.lnMod&&(s+=this.lnMod),(s*n+e+2*n)/a>=this.internal.pageSize.height&&1===a&&!u?(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(s),this.lnMod+=1,s+=1),0===d()&&f(Math.round((this.internal.pageSize.height-2*n)/n))):u&&c().ln!==s&&m()===d()&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(s),this.lnMod+=1,s+=1));var i=c(),p=(this.getTextDimensions(r),1);return void 0!==i.x&&i.ln===s&&(t=i.x+i.w),void 0!==i.y&&i.y===e&&(e=i.y),void 0!==i.h&&i.h===n&&(n=i.h),void 0!==i.ln&&i.ln===s&&(s=i.ln,p=0),u?e=n*(m()+p):e+=n*Math.abs(d()*a-s-d()),this.rect(t,e,o,n),/[Ð°-ÑÐ-Ð¯ÐÑ]/.test(r)?this.text16(r,t+3,e+n-3):this.text(r,t+3,e+n-3),w(m()+p),l(t,e,o,n,s),this},t.getKeys="function"==typeof Object.keys?function(t){return t?Object.keys(t):[]}:function(t){var e,o=[];for(e in t)t.hasOwnProperty(e)&&o.push(e);return o},t.arrayMax=function(t,e){var o,n,r,s=t[0];for(o=0,n=t.length;o<n;o+=1)r=t[o],e?-1===e(s,r)&&(s=r):r>s&&(s=r);return s},t.table=function(e,o,n){var r,s,i,a,u,l,c,f,d,w=[],m=[],p={},h={},v=[],y=[];if(this.lnMod=0,n&&(n.autoSize||!1,this.printHeaders=n.printHeaders||!0,n.autoStretch||!0),!e)throw"No data for PDF table";if(void 0===o||null===o)w=this.getKeys(e[0]);else if(o[0]&&"string"!=typeof o[0])for(s=0,i=o.length;s<i;s+=1)r=o[s],w.push(r.name),m.push(r.prompt);else w=o;if(n.autoSize)for(d=function(t){return t[r]},s=0,i=w.length;s<i;s+=1){for(p[r=w[s]]=e.map(d),v.push(this.getTextDimensions(m[s]||r).w),l=0,i=(u=p[r]).length;l<i;l+=1)a=u[l],v.push(this.getTextDimensions(a).w);h[r]=t.arrayMax(v)}if(n.printHeaders){for(s=0,i=w.length;s<i;s+=1)r=w[s],y.push([10,10,h[r],25,String(m.length?m[s]:r)]);this.setTableHeaderRow(y),this.printHeaderRow(1)}for(s=0,i=e.length;s<i;s+=1)for(c=e[s],l=0,f=w.length;l<f;l+=1)r=w[l],this.cell(10,10,h[r],25,String(c[r]),s+2);return this},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var e,o,n,r;for(this.printingHeaderRow=!0,n=0,r=this.tableHeaderRow.length;n<r;n+=1)e=this.tableHeaderRow[n],o=[].concat(e),this.cell.apply(this,o.concat(t));this.printingHeaderRow=!1}}(pdfDataExport.API),function(t){"use strict";var e=t.getCharWidthsArray=function(t,e){e||(e={});var o,n,r,s=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,i=s.fof?s.fof:1,a=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,u=a.fof?a.fof:1,l=0,c=s[0]||i,f=[];for(o=0,n=t.length;o<n;o++)r=t.charCodeAt(o),f.push((s[r]||c)/i+(a[r]&&a[r][l]||0)/u),l=r;return f},o=function(t){for(var e=t.length,o=0;e;)o+=t[--e];return o},n=(t.getStringUnitWidth=function(t,n){return o(e.call(this,t,n))},function(t,e,o,n){for(var r=[],s=0,i=t.length,a=0;s!==i&&a+e[s]<o;)a+=e[s],s++;r.push(t.slice(0,s));var u=s;for(a=0;s!==i;)a+e[s]>n&&(r.push(t.slice(u,s)),a=0,u=s),a+=e[s],s++;return u!==s&&r.push(t.slice(u,s)),r}),r=function(t,r,s){s||(s={});var i,a,u,l,c,f=e(" ",s)[0],d=t.split(" "),w=[],m=[w],p=s.textIndent||0,h=0,v=0;for(u=0,l=d.length;u<l;u++)if(i=d[u],a=e(i,s),v=o(a),p+h+v>r){if(v>r){for(c=n(i,a,r-(p+h),r),w.push(c.shift()),w=[c.pop()];c.length;)m.push([c.shift()]);v=o(a.slice(i.length-w[0].length))}else w=[i];m.push(w),p=v,h=f}else w.push(i),p+=h+v,h=f;var y=[];for(u=0,l=m.length;u<l;u++)y.push(m[u].join(" "));return y};t.splitTextToSize=function(t,e,o){o||(o={});var n,s=o.fontSize||this.internal.getFontSize(),i=function(t){var e={0:1},o={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var n=this.internal.getFont(t.fontName,t.fontStyle);return n.metadata.Unicode?{widths:n.metadata.Unicode.widths||e,kerning:n.metadata.Unicode.kerning||o}:{widths:e,kerning:o}}.call(this,o);n=t.match(/[\n\r]/)?t.split(/\r\n|\r|\n/g):[t];var a=1*this.internal.scaleFactor*e/s;i.textIndent=o.textIndent?1*o.textIndent*this.internal.scaleFactor/s:0;var u,l,c=[];for(u=0,l=n.length;u<l;u++)c=c.concat(r(n[u],a,i));return c}}(pdfDataExport.API),function(t){"use strict";var e=function(t){var e,o;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),r=4,s=t.length;r<s;){if(r+=n,255!==t.charCodeAt(r))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(r+1))return o=256*t.charCodeAt(r+5)+t.charCodeAt(r+6),e=256*t.charCodeAt(r+7)+t.charCodeAt(r+8),[e,o];r+=2,n=256*t.charCodeAt(r)+t.charCodeAt(r+1)}},o=function(t){var e=this.internal.newObject(),o=this.internal.write,n=this.internal.putStream;if(t.n=e,o("<</Type /XObject"),o("/Subtype /Image"),o("/Width "+t.w),o("/Height "+t.h),"Indexed"===t.cs?o("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+(e+1)+" 0 R]"):(o("/ColorSpace /"+t.cs),"DeviceCMYK"===t.cs&&o("/Decode [1 0 1 0 1 0 1 0]")),o("/BitsPerComponent "+t.bpc),"f"in t&&o("/Filter /"+t.f),"dp"in t&&o("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array)for(var r="",s=0;s<t.trns.length;s++)o("/Mask ["+(r+=t[r][s]+" "+t.trns[s]+" ")+"]");"smask"in t&&o("/SMask "+(e+1)+" 0 R"),o("/Length "+t.data.length+">>"),n(t.data),o("endobj")},n=function(){var t=this.internal.collections.addImage_images;for(var e in t)o.call(this,t[e])},r=function(){var t,e=this.internal.collections.addImage_images,o=this.internal.write;for(var n in e)o("/I"+(t=e[n]).i,t.n,"0","R")};pdfDataExport.API.addImage=function(t,o,s,i,a,u){if("object"==typeof t&&1===t.nodeType){var l=document.createElement("canvas");l.width=t.clientWidth,l.height=t.clientHeight;var c=l.getContext("2d");if(!c)throw"addImage requires canvas to be supported by browser.";c.drawImage(t,0,0,l.width,l.height),t=l.toDataURL("image/jpeg"),o="JPEG"}if("JPEG"!==o.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+o+"'");var f,d=this.internal.collections.addImage_images,w=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===t.substring(0,23)&&(t=atob(t.replace("data:image/jpeg;base64,",""))),d?f=Object.keys?Object.keys(d).length:function(t){var e=0;for(var o in t)t.hasOwnProperty(o)&&e++;return e}(d):(f=0,this.internal.collections.addImage_images=d={},this.internal.events.subscribe("putResources",n),this.internal.events.subscribe("putXobjectDict",r));var p=e(t),h={w:p[0],h:p[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:f,data:t};return d[f]=h,a||u||(a=-96,u=-96),a<0&&(a=-1*h.w*72/a/this.internal.scaleFactor),u<0&&(u=-1*h.h*72/u/this.internal.scaleFactor),0===a&&(a=u*h.w/h.h),0===u&&(u=a*h.h/h.w),this.internal.write("q",w(a),"0 0",w(u),w(s),m(i+u),"cm /I"+h.i,"Do Q"),this}}(),function(t){"use strict";var e=function(t){for(var e={},o=0;o<"klmnopqrstuvwxyz".length;o++)e["klmnopqrstuvwxyz"[o]]="0123456789abcdef"[o];var n,r,s,i,a={},u=1,l=a,c=[],f="",d="",w=t.length-1;for(o=1;o!=w;)i=t[o],o+=1,"'"==i?n?(s=n.join(""),n=void 0):n=[]:n?n.push(i):"{"==i?(c.push([l,s]),l={},s=void 0):"}"==i?((r=c.pop())[0][r[1]]=l,s=void 0,l=r[0]):"-"==i?u=-1:void 0===s?e.hasOwnProperty(i)?(f+=e[i],s=parseInt(f,16)*u,u=1,f=""):f+=i:e.hasOwnProperty(i)?(d+=e[i],l[s]=parseInt(d,16)*u,u=1,s=void 0,d=""):d+=i;return a},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},n={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},r={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFonts",function(t){var e,o,s,i,a;for(o in t.fonts)t.fonts.hasOwnProperty(o)&&(e=t.fonts[o],(s=r.Unicode[e.PostScriptName])&&((i=e.metadata.Unicode?e.metadata.Unicode:e.metadata.Unicode={}).widths=s.widths,i.kerning=s.kerning),(a=n.Unicode[e.PostScriptName])&&((i=e.metadata.Unicode?e.metadata.Unicode:e.metadata.Unicode={}).encoding=a,a.codePages&&a.codePages.length&&(e.encoding=a.codePages[0])))}])}(pdfDataExport.API);var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(t){"use strict";var e=t.document,o=function(){return t.URL||t.webkitURL||t},n=t.URL||t.webkitURL||t,r=$("<a></a>")[0],s="download"in r,i=function(o){var n=e.createEvent("MouseEvents");return n.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(n)},a=t.webkitRequestFileSystem,u=t.requestFileSystem||a||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c=0,f=[],d=function(t,e,o){for(var n=(e=[].concat(e)).length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,o||t)}catch(t){l(t)}}},w=function(e,n){var l,w,m,p=this,h=e.type,v=!1,y=function(){var t=o().createObjectURL(e);return f.push(t),t},q=function(){d(p,"writestart progress write writeend".split(" "))},g=function(){!v&&l||(l=y()),w&&(w.location.href=l),p.readyState=p.DONE,q()},x=function(t){return function(){if(p.readyState!==p.DONE)return t.apply(this,arguments)}},b={create:!0,exclusive:!1};if(p.readyState=p.INIT,n||(n="download"),s&&(l=y(),r.href=l,r.download=n,i(r)))return p.readyState=p.DONE,void q();t.chrome&&h&&"application/octet-stream"!==h&&(m=e.slice||e.webkitSlice,e=m.call(e,0,e.size,"application/octet-stream"),v=!0),a&&"download"!==n&&(n+=".download"),w="application/octet-stream"===h||a?t:t.open(),u?(c+=e.size,u(t.TEMPORARY,c,x(function(t){t.root.getDirectory("saved",b,x(function(t){var o=function(){t.getFile(n,b,x(function(t){t.createWriter(x(function(o){o.onwriteend=function(e){w.location.href=t.toURL(),f.push(t),p.readyState=p.DONE,d(p,"writeend",e)},o.onerror=function(){var t=o.error;t.code!==t.ABORT_ERR&&g()},"writestart progress write abort".split(" ").forEach(function(t){o["on"+t]=p["on"+t]}),o.write(e),p.abort=function(){o.abort(),p.readyState=p.DONE},p.readyState=p.WRITING}),g)}),g)};t.getFile(n,{create:!1},x(function(t){t.remove(),o()}),x(function(t){t.code===t.NOT_FOUND_ERR?o():g()}))}),g)}),g)):g()},m=w.prototype;return m.abort=function(){var t=this;t.readyState=t.DONE,d(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,t.addEventListener&&t.addEventListener("unload",function(){for(var t=f.length;t--;){var e=f[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}f.length=0},!1),function(t,e){return new w(t,e)}}(self);!function(t){"use strict";pdfDataExport.API.output=function(t,e){return this.internal.output(t,e)}}();

!function($){"use strict";$.jqx.jqxWidget("jqxBarGauge","",{}),$.extend($.jqx._jqxBarGauge.prototype,{defineInstance:function(){var e={animationDuration:300,backgroundColor:"#e0e0e0",barSpacing:4,baseValue:null,colorScheme:"scheme01",customColorScheme:null,endAngle:-45,disabled:!1,formatFunction:null,geometry:{startAngle:225,endAngle:-45},height:400,labels:null,min:0,max:100,rendered:null,relativeInnerRadius:.3,startAngle:225,title:null,tooltip:null,values:[],width:400,useGradient:!0,_intervalArray:[],_drawnValues:[],_drawnSlices:[],_titleTemplate:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:28,weight:100},horizontalAlignment:"center",verticalAlignment:"top",placeholderSize:null,margin:{bottom:0,left:0,right:0,top:0},subtitle:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:16,weight:100}}},_labelTemplate:{connectorColor:null,connectorWidth:1,formatFunction:function(e){return e},font:{color:null,family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",size:16,weight:400},indent:20,precision:2,visible:!0},_tooltipTemplate:{classname:"",formatFunction:function(e){return e},visible:!1,precision:0},_colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"],_colorNames:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_dimensions:{},_ie:$.jqx.browser.msie,_oldIEbrowser:$.jqx.browser.msie&&$.jqx.browser.version<=8,_ie8:$.jqx.browser.msie&&8==$.jqx.browser.version,_ie7:$.jqx.browser.msie&&$.jqx.browser.version<8,_centerX:null,_centerY:null,_coordinatePlane:null,_geometry:{startAngle:-45,baseAngle:-45,fix:0,endAngle:225},_userValues:[],_valuesToDegrees:[],_oldValues:[],_oldValuesToDegrees:[],_temporaryValuesToDegrees:[],_temporaryValues:[],_temporaryOldAngle:[],_valuesLength:0,_oldValuesLength:0,_alignmentIE:null,_title:{},_backgroundColor:"#e0e0e0",_label:{},_tooltip:{},_renderedValues:0,_barWidth:35,_barStartAt:30,_barGaugeSlices:[],_barGaugeBackgroundSlices:[],_barGaugeSlicesStrokeWidth:0,_barGaugeLabelLines:[],_barGaugeLabelText:[],_barGaugeTitle:null,_barGaugeSubTitle:null,_barGaugeTooltip:$("<div></div>"),_measuredText:$("<div class='jqx-bar-gauge-measure-text'></div>"),_measuredTextId:"",renderer:null,_barGaugeRadius:null,_barGaugeFigureRadius:null,_labelPositioningRadius:null,_placeholderSize:50,_rendering:!1,_titleLines:0,_subTitleLines:0,_initialized:!1,_events:["initialized","valueChanged","tooltipOpen","tooltipClose","drawStart","drawEnd"]};return this===$.jqx._jqxBarGauge.prototype?e:($.extend(!0,this,e),e)},createInstance:function(){this._createBarGauge()},_createBarGauge:function(){var e=this;e._getLiquidDimensions(),e._addIEPolyfills(),e._barGaugeTooltip.css({display:"none"}),$(e.host).empty(),e._attachCustomColors(),e.geometry.startAngle=e.startAngle,e.geometry.endAngle=e.endAngle,e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._validateAnimationDuration(),e._transformValuesToAngles(),e._getColorScheme(),0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge(),e._raiseEvent("4"),e._createTooltip(),e._addCSS(),e._ie&&(e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._drawBarGaugeTitle()),e._addEventHandlers()},_initRenderer:function(e){if(!$.jqx.createRenderer)throw"jqxBarGauge: Please include a reference to jqxdraw.js";return $.jqx.createRenderer(this,e)},_validateValues:function(){var e,t,a=this;0===a._userValues.length&&(a._userValues=a.values.slice()),0===a._oldValues.length&&(a._oldValues=a.values.slice()),a._valuesLength=a.values.length;for(var l=0;l<a._valuesLength;l++)a.values[l]=parseFloat(a.values[l]),a.values[l]<a.startValue||isNaN(a.values[l])?a.values[l]=a.startValue:a.values[l]>a.max&&(a.values[l]=a.max),a._drawnValues[l]=!1,a._drawnSlices[l]=!1;a.baseValue<=a.startValue||null===a.baseValue?a.baseValue=a.min:a.baseValue>a.max&&(a.baseValue=a.max),a.relativeInnerRadius>=1?a.relativeInnerRadius=.99:a.relativeInnerRadius<0&&(a.relativeInnerRadius=0),a._calculateBarGaugeRadius(),e=a._valuesLength||1,t=a._barGaugeRadius*(1-a.relativeInnerRadius)/e-.01,a.barSpacing>t&&(a.barSpacing=t),a._backgroundColor=a._validateColor(a.backgroundColor,a._backgroundColor)},_attachCustomColors:function(){var e=this,t=e._colorSchemes.length,a=!1;if(null!==e.customColorScheme&&null!==e.customColorScheme.colors&&null!==e.customColorScheme.name){for(var l=0;l<t;l++)e.customColorScheme.name===e._colorSchemes[l].name&&(e._colorSchemes[l].colors=e.customColorScheme.colors.slice(),a=!0);a||e._colorSchemes.push(e.customColorScheme)}},_getLiquidDimensions:function(){var e=this;$.isEmptyObject(e._dimensions)&&(e._dimensions.width=e.width,e._dimensions.height=e.height),"string"==typeof e._dimensions.width&&-1!==e._dimensions.width.indexOf("%")&&(e.width=parseInt(e._dimensions.width,10)/100*$("#"+e.element.id).parent().width()),"string"==typeof e._dimensions.height&&-1!==e._dimensions.height.indexOf("%")&&(e.height=parseInt(e._dimensions.height,10)/100*$("#"+e.element.id).parent().height())},_getLongestValue:function(){for(var e=this,t=e.values.length,a="",l=0,i=0;i<t;i++)e.values[i].toString().length>l&&(l=(a=e.values[i]).toString().length);return a=e._calculatePrecision(e._label.precision,a),void 0!==e._label.formatFunction&&null!==e._label.formatFunction&&"function"==typeof e._label.formatFunction&&(a=e._label.formatFunction(a)),a=a.toUpperCase()},_validateGeometry:function(){var e=this,t=parseFloat(e.geometry.startAngle),a=parseFloat(e.geometry.endAngle);Math.abs(t)>=360&&(t%=360),t<0&&(t=360+t),Math.abs(a)>=360&&(a%=360),a<0&&(a=360+a),e.geometry.startAngle=t,e.geometry.endAngle=a},_validateColor:function(e,t){var a=this;return void 0===e||null===e?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?e:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e)?"#"+e:void 0!==a._colorNames[e.toLowerCase()]?a._colorNames[e.toLowerCase()]:"transparent"},_validateTooltip:function(){var e=this;void 0===e.tooltip||null===e.tooltip||"object"!=typeof e.tooltip?e._tooltip=e._tooltipTemplate:(e._tooltip.visible=!1!==e.tooltip.visible&&(e.tooltip.visible||e._tooltipTemplate.visible),e._tooltip.classname=e.tooltip.classname||e._tooltipTemplate.classname,"function"==typeof e.tooltip.formatFunction?e._tooltip.formatFunction=e.tooltip.formatFunction:e._tooltip.formatFunction=e._tooltipTemplate.formatFunction,null===e.tooltip.precision||void 0===e.tooltip.precision?e._tooltip.precision=e._tooltipTemplate.precision:parseInt(e.tooltip.precision,10)<=0?e._tooltip.precision=0:e._tooltip.precision=parseInt(e.tooltip.precision,10))},_validateTitle:function(){var e=this;if(e._title=e._titleTemplate,e._measuredTextId=e.element.id+"measuredText","string"==typeof e.title?e._title.text=e.title:"number"==typeof e.title?e._title.text=String(e.title):"object"==typeof e.title&&void 0!==e.title&&null!==e.title&&(e._title.text=e.title.text||e._titleTemplate.text,e._title.horizontalAlignment=e.title.horizontalAlignment||e._titleTemplate.horizontalAlignment,e._title.verticalAlignment=e.title.verticalAlignment||e._titleTemplate.verticalAlignment),void 0===e.title||null===e.title||void 0===e.title.font||null===e.title.font?e._title.font=e._titleTemplate.font:(e._title.font.family=e.title.font.family||e._titleTemplate.font.family,e._title.font.opacity=e.title.font.opacity||e._titleTemplate.font.opacity,e._title.font.size=e.title.font.size||e._titleTemplate.font.size,e._title.font.weight=e.title.font.weight||e._titleTemplate.font.weight,(e._ie7||e._ie8)&&e._title.font.weight>100&&(e._title.font.weight="bold"),e._title.font.color=e._validateColor(e.title.font.color,e._titleTemplate.font.color)),void 0===e.title||null===e.title||void 0===e.title.margin||null===e.title.margin)e._title.margin=e._titleTemplate.margin;else if("object"!=typeof e.title.margin){var t=parseInt(e.title.margin,10);e._title.margin.top=t,e._title.margin.right=t,e._title.margin.bottom=t,e._title.margin.left=t}else e._title.margin.top=0===e.title.margin.top?0:e.title.margin.top||e._titleTemplate.margin.top,e._title.margin.right=0===e.title.margin.right?0:e.title.margin.right||e._titleTemplate.margin.right,e._title.margin.bottom=0===e.title.margin.bottom?0:e.title.margin.bottom||e._titleTemplate.margin.bottom,e._title.margin.left=0===e.title.margin.left?0:e.title.margin.left||e._titleTemplate.margin.left;void 0===e.title||null===e.title||void 0===e.title.subtitle||null===e.title.subtitle?(e._title.subtitle.text=e._titleTemplate.subtitle.text,e._title.subtitle.font=e._titleTemplate.subtitle.font):"object"!=typeof e.title.subtitle?(e._title.subtitle.text=String(e.title.subtitle),e._title.subtitle.font=e._titleTemplate.subtitle.font):void 0===e.title.subtitle.font||null===e.title.subtitle.font?(e._title.subtitle.text=String(e.title.subtitle.text),e._title.subtitle.font=e._titleTemplate.subtitle.font):(e._title.subtitle.text=String(e.title.subtitle.text),e._title.subtitle.font.color=e.title.subtitle.font.color||e._titleTemplate.subtitle.font.color,e._title.subtitle.font.family=e.title.subtitle.font.family||e._titleTemplate.subtitle.font.family,e._title.subtitle.font.opacity=e.title.subtitle.font.opacity||e._titleTemplate.subtitle.font.opacity,e._title.subtitle.font.size=e.title.subtitle.font.size||e._titleTemplate.subtitle.font.size,e._title.subtitle.font.weight=e.title.subtitle.font.weight||e._titleTemplate.subtitle.font.weight,(e._ie7||e._ie8)&&e._title.subtitle.font.weight>100&&(e._title.subtitle.font.weight="bold"));var a;""===e._title.text?a=0:""===e._title.subtitle.text||void 0===e._title.subtitle.text||null===e._title.subtitle.text?(e._titleLines=null!==e._title.text.match(/<br>/g)?e._title.text.match(/<br>/g).length+1:1,a=e._title.font.size*e._titleLines+e._title.margin.top+e._title.margin.bottom):(e._titleLines=null!==e._title.text.match(/<br>/g)?e._title.text.match(/<br>/g).length+1:1,e._subTitleLines=null!==e._title.subtitle.text.match(/<br>/g)?e._title.text.match(/<br>/g).length+1:1,a=e._title.font.size*e._titleLines+e._title.subtitle.font.size*e._subTitleLines+e._title.margin.top+e._title.margin.bottom),void 0===e.title||null===e.title||null===e.title.placeholderSize||void 0===e.title.placeholderSize?e._title.placeholderSize=a||.05*e.height:e._title.placeholderSize=e.title.placeholderSize},_validateLabel:function(){var e=this;null===e.labels||void 0===e.labels||"object"!=typeof e.labels?e._label=e._labelTemplate:(e._label.connectorColor=e._validateColor(e.labels.connectorColor,e._labelTemplate.connectorColor),e._label.connectorWidth=e.labels.connectorWidth||e._labelTemplate.connectorWidth,e._label.formatFunction=e.labels.formatFunction||e._labelTemplate.formatFunction,void 0===e.labels.precision||null===e.labels.precision||"number"!=typeof e.labels.precision?e._label.precision=e._labelTemplate.precision:e._label.precision=e.labels.precision,e._label.precision>15?e._label.precision=15:e._label.precision<0&&(e._label.precision=0),void 0===e.labels.visible||null===e.labels.visible?e._label.visible=e._labelTemplate.visible:!1===e.labels.visible?e._label.visible=!1:e._label.visible=!0,"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0?e._label.indent=0:"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0?e._label.indent=0:e._label.indent=e.labels.indent,null===e.labels.font||void 0===e.labels.font||"object"!=typeof e.labels.font?e._label.font=e._labelTemplate.font:(e._label.font={},e._label.font.color=e._validateColor(e.labels.font.color,e._labelTemplate.font.color),e._label.font.family=e.labels.font.family||e._labelTemplate.font.family,e._label.font.size=e.labels.font.size||e._labelTemplate.font.size,e._label.font.weight=e.labels.font.weight||e._labelTemplate.font.weight,(e._ie7||e._ie8)&&e._label.font.weight>100&&(e._label.font.weight="bold")))},_validateAnimationDuration:function(){var e=this,t=parseInt(e.animationDuration,10),a=t>0?t:0;e._oldIEbrowser?e.animationDuration=0:e.animationDuration=a},_transformValuesToAngles:function(){var e,t,a,l,i=this;i._placeholderSize=i._title.placeholderSize||i._placeholderSize,i.geometry.endAngle<i.geometry.startAngle?(i._geometry.startAngle=parseFloat(i.geometry.endAngle)%360,i._geometry.endAngle=parseFloat(i.geometry.startAngle)%360):(i._geometry.startAngle=parseFloat(i.geometry.endAngle)%360-360,i._geometry.endAngle=parseFloat(i.geometry.startAngle)%360),(e=i._geometry.endAngle-i._geometry.startAngle)>360&&(i._geometry.startAngle=i._geometry.startAngle+(e-360)),void 0!==i.baseValue&&null!==i.baseValue&&i.baseValue>=i.min&&i.baseValue<=i.max&&(i._geometry.baseAngle=(i.baseValue-i.min)*(i._geometry.endAngle-i._geometry.startAngle)/(i.max-i.min)+i._geometry.startAngle,i._geometry.fix=i.geometry.startAngle+i.geometry.endAngle-180),t=i._getLongestValue(),a=i._measureText(t,i._label.font.size,i._label.font.family,i._label.font.weight),(l=i._barGaugeRadius-1.2*i._label.indent-1.2*a.height)+a.width+1.2*i._label.indent>i.width/2&&(l=i._barGaugeRadius-1.2*i._label.indent-a.width),!1===i._label.visible&&(l=i._barGaugeRadius),(l*=.98)<0&&(l=0),i._barGaugeFigureRadius=l,i._barWidth=l*(1-i.relativeInnerRadius)/i._valuesLength-i.barSpacing,i._barStartAt=l*i.relativeInnerRadius,i._labelPositioningRadius=i._barStartAt+i._valuesLength*(i._barWidth+i.barSpacing)-i.barSpacing+i._label.indent;for(var r=0;r<i._valuesLength;r++)i._valuesToDegrees[r]=(i.values[r]-i.min)/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle)+i._geometry.startAngle;$(i.host).width(i.width),$(i.host).height(i.height),i._initialized||(i._initRenderer(i.host),i._initialized=!0)},_measureRadius:function(){var e=this,t=e._getLongestValue(),a=e._measureText(t,e._label.font.size,e._label.font.family,e._label.font.weight),l=e._barGaugeRadius-1.2*e._label.indent-1.2*a.height;l+a.width+1.2*e._label.indent>e.width/2&&(l=e._barGaugeRadius-1.2*e._label.indent-a.width),!1===e._label.visible&&(l=e._barGaugeRadius),(l*=.98)<0&&(l=0),e._barWidth=l*(1-e.relativeInnerRadius)/e._valuesLength-e.barSpacing,e._barStartAt=l*e.relativeInnerRadius,e._labelPositioningRadius=e._barStartAt+e._valuesLength*(e._barWidth+e.barSpacing)-e.barSpacing+e._label.indent},_drawEmptyBarGauge:function(){var e,t,a=this,l=a._barStartAt,i=l+a._barWidth;e=""===a._title.text?a._barGaugeRadius:a._barGaugeFigureRadius,l=a.relativeInnerRadius*e,i=e,a._barGaugeBackgroundSlices[0]=a.renderer.pieslice(a._centerX,a._centerY,l,i,a._geometry.startAngle,a._geometry.endAngle,0,{fill:a._backgroundColor,stroke:a._backgroundColor,"stroke-width":a._barGaugeSlicesStrokeWidth}),t=a.element.id+"BackgroundSlice0",a.renderer.attr(a._barGaugeBackgroundSlices[0],{id:t}),a.renderer.attr(a._barGaugeBackgroundSlices[0],{class:"jqx-bar-gauge-background-slice"}),a._rendered(),a._oldValuesLength=0,a._oldValues.length=0},_drawBarGaugeLayout:function(){var e,t=this,a=t._barStartAt,l=a+t._barWidth;if(t._barGaugeSlicesStrokeWidth=0,t._centerX=t.width/2,""===t._title.text?t._centerY=t.height/2:"top"===t._title.verticalAlignment?t._centerY=(t.height+t._title.placeholderSize)/2:t._centerY=(t.height-t._title.placeholderSize)/2,t._valuesLength>0)for(var i=0;i<t._valuesLength;i++)t._barGaugeBackgroundSlices[i]=t.renderer.pieslice(t._centerX,t._centerY,a,l,t._geometry.startAngle,t._geometry.endAngle,0,{fill:t._backgroundColor,stroke:t._backgroundColor,"stroke-width":t._barGaugeSlicesStrokeWidth}),e=t.element.id+"BackgroundSlice"+i,t.renderer.attr(t._barGaugeBackgroundSlices[i],{id:e}),t.renderer.attr(t._barGaugeBackgroundSlices[i],{class:"jqx-bar-gauge-background-slice"}),l=(a=l+t.barSpacing)+t._barWidth;else t._drawEmptyBarGauge()},_drawBarGaugeElementsWithBase:function(){var e,t,a,l=this,i=180-l._geometry.baseAngle+l._geometry.fix;l._renderedValues=0,a=(t=l._barStartAt)+l._barWidth;for(var r=[],n=0;n<l._valuesLength;n++){r[n]=l.baseValue;var o=l._colors[n];if(l.formatFunction&&(o=l.formatFunction(l.values[n],n,o)),l._ie7||l._ie8)i=180-l._valuesToDegrees[n]+l._geometry.fix,l._valuesToDegrees[n]>l._geometry.baseAngle?l._barGaugeSlices[n]=l.renderer.pieslice(l._centerX,l._centerY,t,a,180-l._geometry.baseAngle+l._geometry.fix,i,0,{fill:o,stroke:o,"stroke-width":l._barGaugeSlicesStrokeWidth}):l._barGaugeSlices[n]=l.renderer.pieslice(l._centerX,l._centerY,t,a,i,180-l._geometry.baseAngle+l._geometry.fix,0,{fill:o,stroke:o,"stroke-width":l._barGaugeSlicesStrokeWidth}),e=l.element.id+"Slice"+n,l.renderer.attr(l._barGaugeSlices[n],{id:e}),l.renderer.attr(l._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),l._drawnSlices[n]=!0,!0===l._label.visible&&(l._drawLabelsLine(t,i,n),l._drawLabelsText(i,n)),l._rendered();else{if(l.useGradient){var s=[[0,1.4],[100,1]];o=l.renderer._toLinearGradient(o,!0,s)}l._barGaugeSlices[n]=l.renderer.pieslice(l._centerX,l._centerY,t,a,i+.01,i,0,{fill:o,stroke:o,"stroke-width":l._barGaugeSlicesStrokeWidth}),e=l.element.id+"Slice"+n,l.renderer.attr(l._barGaugeSlices[n],{id:e}),l.renderer.attr(l._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),l._drawnSlices[n]=!0}l.renderer.attr(l._barGaugeSlices[n],{id:l.element.id+"Slice"+n}),l.renderer.attr(l._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),a=(t=a+l.barSpacing)+l._barWidth}l._oldValues=r,l._temporaryValues=r.slice(0),l._oldValuesToDegrees.length=0;for(n=0;n<l.values.length;n++)l._oldValuesToDegrees[n]=l._geometry.baseAngle,l._temporaryValuesToDegrees[n]=l._geometry.baseAngle;l._rendering=!0,l._redrawWithNewValuesArray(l.values,l._oldValues)},_drawBarGaugeElementWithBase:function(gaugeLayerStart,change,amount,changeContition,valueIndex){function calculateNewPieSlicePath(){newPieSlicePath=-1===amount?$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,change,180-that._geometry.baseAngle+that._geometry.fix,0):$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,180-that._geometry.baseAngle+that._geometry.fix,change,0)}var that=this,newPieSlicePath,angleStepPercent,angleDiff,valueStep,animation=that._calculateAnimationInterval(valueIndex,!1),gaugeLayerEnd=gaugeLayerStart+that._barWidth,updatedItem=that._barGaugeSlices[valueIndex],updatedAngle=that._valuesToDegrees[valueIndex];0===that.animationDuration&&(change=180-updatedAngle+that._geometry.fix),0===(angleDiff=Math.abs(that._geometry.baseAngle-updatedAngle))&&(angleDiff=.01),angleStepPercent=Math.abs(amount/animation.smoothCoef/angleDiff),valueStep=angleStepPercent*Math.abs(that.baseValue-that.values[valueIndex]),isNaN(that._temporaryValues[valueIndex])&&(that._temporaryValues[valueIndex]=that.values[valueIndex]),isNaN(that._temporaryValuesToDegrees[valueIndex])&&(that._temporaryValuesToDegrees[valueIndex]=that._valuesToDegrees[valueIndex]),that._intervalArray[valueIndex]=setInterval(function(){calculateNewPieSlicePath(),eval(changeContition)&&!that.disabled?(that.renderer.attr(updatedItem,{d:newPieSlicePath}),change+=amount/animation.smoothCoef,that._temporaryValuesToDegrees[valueIndex]=(180-change+that._geometry.fix)%360,that._temporaryValues[valueIndex]=that._temporaryValues[valueIndex]+amount*valueStep):(change=180-updatedAngle+that._geometry.fix,that._temporaryValuesToDegrees[valueIndex]=updatedAngle%360,that._temporaryValues[valueIndex]=that.values[valueIndex],calculateNewPieSlicePath(),that.renderer.attr(updatedItem,{d:newPieSlicePath}),clearInterval(that._intervalArray[valueIndex]),that._renderedValues++,that._renderedValues===that.values.length&&that._rendered())},animation.interval/animation.smoothCoef)},_drawStaticBarGaugeElementsWithBase:function(){var e,t,a,l,i,r=this;t=(e=r._barStartAt)+r._barWidth;for(var n=0;n<r._valuesLength;n++){l=r._valuesToDegrees[n]||r._geometry.baseAngle,r._oldValues[n]=r.values[n]||r.baseValue,a=180-l+r._geometry.fix;var o=r._colors[n];if(r.useGradient){var s=[[0,1.4],[100,1]];o=r.renderer._toLinearGradient(o,!0,s)}r._valuesToDegrees[n]<r._geometry.baseAngle?r._barGaugeSlices[n]=r.renderer.pieslice(r._centerX,r._centerY,e,t,180-r._geometry.baseAngle+r._geometry.fix,a,0,{fill:o,stroke:o,"stroke-width":r._barGaugeSlicesStrokeWidth}):r._barGaugeSlices[n]=r.renderer.pieslice(r._centerX,r._centerY,e,t,a,180-r._geometry.baseAngle+r._geometry.fix,0,{fill:o,stroke:o,"stroke-width":r._barGaugeSlicesStrokeWidth}),i=r.element.id+"Slice"+n,r.renderer.attr(r._barGaugeSlices[n],{id:i}),r.renderer.attr(r._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),r._drawnSlices[n]=!0,t=(e=t+r.barSpacing)+r._barWidth}r._removeLabels(),r._addLabels()},_addLabels:function(e,t,a){var l,i,r,n=this,o=n._barStartAt,s=o+n._barWidth;for(e||(e=n._valuesToDegrees),r=0;r<n._valuesLength;r++)i=r,void 0==a||r===a?(l=180-e[i]+n._geometry.fix,!0===n._label.visible&&!1===n.disabled&&(n._drawLabelsLine(o,l,i),t&&void 0!==t[i]?n._drawLabelsText(l,i,t[i]):n._drawLabelsText(l,i)),s=(o=s+n.barSpacing)+n._barWidth):s=(o=s+n.barSpacing)+n._barWidth},_removeLabels:function(e){for(var t=this,a=0;a<t._barGaugeLabelText.length;a++)void 0!=e&&a!=e||($(t._barGaugeLabelLines[a]).remove(),$(t._barGaugeLabelText[a]).remove(),t._barGaugeLabelLines[a]=null,t._barGaugeLabelText[a]=null)},_removeBarGaugeSlices:function(){var e=this;e._removeBarGaugeBackgroundSlices(),e._removeBarGaugeForegroundSlices()},_removeBarGaugeBackgroundSlices:function(){for(var e=this,t=Math.max(e._valuesLength,e._oldValuesLength),a=0;a<t;a++)e._oldIEbrowser&&$(e._barGaugeBackgroundSlices[a]).remove(),e._barGaugeBackgroundSlices[a]=null,e._drawnSlices[a]=!1;$("#"+e.element.id+" .jqx-bar-gauge-background-slice").remove()},_removeBarGaugeForegroundSlices:function(){for(var e=this,t=Math.max(e._valuesLength,e._oldValuesLength),a=0;a<t;a++)!0===e._drawnSlices[a]&&(e._oldIEbrowser&&$(e._barGaugeSlices[a]).remove(),e._barGaugeSlices[a]=null,e._drawnSlices[a]=!1);$("#"+e.element.id+" .jqx-bar-gauge-slice").remove()},_removeBarGaugeTitle:function(){var e=this;e._oldIEbrowser&&e._barGaugeTitle&&$(e._barGaugeTitle).remove(),$("#"+e.element.id+" .jqx-bar-gauge-title").remove()},_removeBarGaugeSubTitle:function(){var e=this;e._oldIEbrowser&&e._barGaugeSubTitle&&$(e._barGaugeSubTitle).remove(),$("#"+e.element.id+" .jqx-bar-gauge-subtitle").remove()},_renderElements:function(){var e,t,a,l,i=this;i._geometry.baseAngle,i._geometry.fix;t=(e=i._barStartAt)+i._barWidth,i._rendering=!0,i._renderedValues=0,i._renderingValues=0;var r=!1;if(!i.disabled)for(t=(e=i._barStartAt)+i._barWidth,l=0;l<i._valuesLength;l++)i.values[l],i.baseValue,i.values[l]>i._oldValues[l]?(a="(oldAngle < newAngle)",i._renderElement(e,t,1,a,l,!0),r=!0):i.values[l]<i._oldValues[l]&&(a="(oldAngle > newAngle)",i._renderElement(e,t,-1,a,l,!1),r=!0),t=(e=t+i.barSpacing)+i._barWidth;r||i._rendered()},clearIntervals:function(){for(var e=this,t=e._intervalArray.length,a=0;a<t;a++)clearInterval(e._intervalArray[a]);e._intervalArray.length=0},_renderElement:function(e,t,a,l,i,r){function n(){var l=u,i=180-s._geometry.baseAngle+s._geometry.fix;1===a?r&&(_=s._geometry.baseAngle<m?$.jqx.commonRenderer.pieSlicePath(s._centerX,s._centerY,e,t,l,i,0):$.jqx.commonRenderer.pieSlicePath(s._centerX,s._centerY,e,t,i,l,0)):r||(_=s._geometry.baseAngle<m?$.jqx.commonRenderer.pieSlicePath(s._centerX,s._centerY,e,t,l,i,0):$.jqx.commonRenderer.pieSlicePath(s._centerX,s._centerY,e,t,i,l,0))}function o(a,l){_=a<=l?$.jqx.commonRenderer.pieSlicePath(s._centerX,s._centerY,e,t,a-1e-4,l,0):$.jqx.commonRenderer.pieSlicePath(s._centerX,s._centerY,e,t,l,a,0)}var s=this;s._renderingValues++;var _,u,d=s._oldValues[i],c=s.values[i],g=s._valuesToDegrees[i],m=s._oldValuesToDegrees[i],h=s._barGaugeSlices[i],f=s._calculateAnimationInterval(i,!0),b=Math.abs(g-m),v=Math.abs(a/f.smoothCoef/b)*Math.abs(c-d),p=f.interval/f.smoothCoef;isNaN(s._temporaryValues[i])&&(s._temporaryValues[i]=d),isNaN(s._temporaryValuesToDegrees[i])&&(s._temporaryValuesToDegrees[i]=(180-m+s._geometry.fix)%360),isNaN(s._temporaryOldAngle[i])&&(s._temporaryOldAngle[i]=m);var y=function(){s.values[i];var e=s._valuesToDegrees[i];u=180-m+s._geometry.fix,n();var t=!1;r&&m<e&&(t=!0),!r&&m>e&&(t=!0);var l=function(){s._removeLabels(i);for(var e=[],t=0;t<s._valuesToDegrees.length;t++)void 0!=s._temporaryOldAngle[t]?e[t]=s._temporaryOldAngle[t]:e[t]=s._valuesToDegrees[t];s._addLabels(e,s._temporaryValues,i)};if(t&&!1===s.disabled&&0!=s.animationDuration){if(l(),s.renderer.attr(h,{d:_}),s.formatFunction){d=s._colors[i];d=s.formatFunction(s.values[i],i,d),s.renderer.attr(h,{fill:d,stroke:d})}return m+=a/f.smoothCoef,s._temporaryOldAngle[i]=m,s._temporaryValuesToDegrees[i]=(180-m+s._geometry.fix)%360,s._temporaryValues[i]=s._temporaryValues[i]+a*v,!1}if(m=e,u=180-e+s._geometry.fix,s._temporaryOldAngle[i]=e,s._temporaryValuesToDegrees[i]=e%360,s._temporaryValues[i]=s.values[i],l(),o(u,180-s._geometry.baseAngle+s._geometry.fix),s.renderer.attr(h,{d:_}),s.formatFunction){var d=s._colors[i];d=s.formatFunction(s.values[i],i,d),s.renderer.attr(h,{fill:d,stroke:d})}return clearInterval(s._intervalArray[i]),s._renderedValues++,s._renderedValues===s._renderingValues&&s._rendered(),!0};if(0==s.animationDuration)y();else{var x=function(){clearInterval(s._intervalArray[i]);var e=y();if(s._rendering&&!e){var t=s._oldValues[i],l=s.values[i],r=s._valuesToDegrees[i],n=s._oldValuesToDegrees[i],o=(s._barGaugeSlices[i],s._calculateAnimationInterval(i,!0)),_=Math.abs(r-n),u=(Math.abs(a/o.smoothCoef/_),Math.abs(l-t),o.interval/o.smoothCoef);s._intervalArray[i]=setInterval(x,u)}};s._intervalArray[i]||(s._intervalArray[i]=setInterval(x,p))}},_calculateAnimationInterval:function(e,t){var a=this,l={},i=a.animationDuration/1e3,r=0;return t?a._oldValues[e]-a.values[e]!=0&&(r=1e3/Math.abs((a._oldValues[e]-a.values[e])/(a.max-a.min)*(a._geometry.endAngle-a._geometry.startAngle))):a.baseValue-a.values[e]!=0&&(r=1e3/Math.abs((a.baseValue-a.values[e])/(a.max-a.min)*(a._geometry.endAngle-a._geometry.startAngle))),l.smoothCoef=i||1,l.interval=r*i,l},_calculateLabelOffset:function(e,t,a){var l,i,r={};return i=e>=270?-(270-e)/180:e<=90?(90+e)/180:(270-e)/180,l=e<=180?e/180:(360-e)/180,r.y=i*t,r.x=l*a,r},_drawCoordinatePlane:function(){var e,t,a=this;"top"===a._title.verticalAlignment?(e=a._title.placeholderSize,t=a.height):(e=0,t=a.height-a._title.placeholderSize),null!==a._coordinatePlane&&$("#"+a.element.id+" .jqx-bar-gauge-coordinate-plane").remove(),a._coordinatePlane={},a._coordinatePlane.x=a.renderer.line(0,a._centerY,a.width,a._centerY,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),a._coordinatePlane.y=a.renderer.line(a._centerX,e,a._centerX,t,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),a.renderer.attr(a._coordinatePlane.x,{class:"jqx-bar-gauge-coordinate-plane"}),a.renderer.attr(a._coordinatePlane.y,{class:"jqx-bar-gauge-coordinate-plane"})},_getColorScheme:function(){var e,t,a=this,l=a._colorSchemes.length,i=a.values.length||1,r=Math.floor(i/a._colorSchemes[0].colors.length),n=0;for(t=0;t<l;t++)a.colorScheme===a._colorSchemes[t].name&&(n=t);if(a._colors=a._colorSchemes[n].colors,r>0)for(t=0;t<r;t++)e=(n+t+1)%l,a._colors=a._colors.concat(a._colorSchemes[e].colors)},_drawLabelsLine:function(e,t,a){var l,i,r,n,o,s,_,u,d=this;t<0?t=360+t:t>360&&(t%=360),o=(360-t)*Math.PI/180,s=e+d._barWidth+(d._valuesLength-a-1)*(d._barWidth+d.barSpacing)+d._label.indent,l=d._centerX+e*Math.cos(o),i=d._centerY+e*Math.sin(o),r=d._centerX+s*Math.cos(o),n=d._centerY+s*Math.sin(o),_=d._label.connectorColor||d._colors[a],d.formatFunction&&(_=d.formatFunction(d.values[a],a,_)),(d._ie7||d._ie8)&&(l=parseInt(l,10),i=parseInt(i,10),r=parseInt(r,10),n=parseInt(n,10)),!0===d._label.visible&&!1===d.disabled&&(d._barGaugeLabelLines[a]=d.renderer.line(l,i,r,n,{fill:_,stroke:_,"stroke-width":d._label.connectorWidth})),u=d.element.id+"LabelLine"+a,d.renderer.attr(d._barGaugeLabelLines[a],{id:u}),d.renderer.attr(d._barGaugeLabelLines[a],{class:"jqx-bar-gauge-label-line"})},_drawLabelsText:function(e,t,a){var l,i,r,n,o,s,_=this,u=_._label.font.color||_._colors[t];_.formatFunction&&(u=_.formatFunction(_.values[t],t,u));var d=_._calculatePrecision(_._label.precision,_.values[t]);void 0!==a&&(d=new Number(a).toFixed(_._label.precision),d=_._calculatePrecision(_._label.precision,d)),void 0!==_._label.formatFunction&&null!==_._label.formatFunction&&"function"==typeof _._label.formatFunction&&(d=_._label.formatFunction(d,t)),_._cachedMeasurements||(_._cachedMeasurements=[]),_._cachedMeasurements[d.length]?l=_._cachedMeasurements[d.length]:(l=_._measureText(d,_._label.font.size,_._label.font.family,_._label.font.weight),_._cachedMeasurements[d.length]=l),e<0?e=360+e:e>360&&(e%=360),i=(360-e)*Math.PI/180,r=_._centerX+(_._labelPositioningRadius+.3*l.height)*Math.cos(i),n=_._centerY+(_._labelPositioningRadius+.3*l.height)*Math.sin(i),o=_._calculateLabelOffset(e,l.height,l.width),!0===_._label.visible&&!1===_.disabled&&(_._barGaugeLabelText[t]=_.renderer.text(d,r-o.x,n-o.y,void 0,void 0,0,{class:"jqx-bargauge-label",fill:u,"font-size":_._label.font.size+"px","font-family":_._label.font.family,"font-weight":_._label.font.weight},!1,"left","top","lefttop")),s=_.element.id+"Label"+t,_.renderer.attr(_._barGaugeLabelText[t],{id:s}),_.renderer.attr(_._barGaugeLabelText[t],{class:"jqx-bar-gauge-label-text"}),(_._ie7||_._ie8)&&$("#"+s+" .jqx-bargauge-label").css({color:u,"white-space":"nowrap","font-size":_._label.font.size+"px","font-family":_._label.font.family,"font-weight":_._label.font.weight})},_calculatePrecision:function(e,t){var a;return a=e+Math.abs(t).toString().split(".")[0].length,a=a>15?15:a,t=parseFloat(t).toPrecision(a)},_createTooltip:function(){var e=this,t=e.element.id+"tooltip";e._barGaugeTooltip.attr("id",t),$(e._barGaugeTooltip).addClass(e.toThemeProperty("jqx-bar-gauge-tooltip")),e._tooltip.classname.length>0&&$(e._barGaugeTooltip).addClass(e.toThemeProperty(e._tooltip.classname)),$(document.body).append(e._barGaugeTooltip),!0===e._tooltip.visible&&!1===e.disabled&&e._valuesLength>0&&e._addTooltipHandlers()},_refreshTooltipHandlers:function(){var e=this;!0===e._tooltip.visible&&!1===e.disabled&&(e._removeTooltipHandlers(),e._addTooltipHandlers())},_addTooltipHandlers:function(){var e,t,a=this;a.addHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mouseenter",function(){!0===a._tooltip.visible&&a._valuesLength>0&&(e=a.renderer.getAttr(this,"id").substr(a.element.id.length+5),t=a._calculatePrecision(a._tooltip.precision,a.values[e]),a._barGaugeTooltip.css({display:"block",color:a._colors[e],"border-color":a._colors[e]}),void 0!==a._tooltip.formatFunction&&null!==a._tooltip.formatFunction&&"function"==typeof a._tooltip.formatFunction&&(t=a._tooltip.formatFunction(t,parseInt(e))),a._barGaugeTooltip.html(t),a._raiseEvent("2",{layer:e}))}),a.addHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mouseleave",function(){a._barGaugeTooltip.css({display:"none"}),a._raiseEvent("3",{layer:e})}),a.addHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mouseup",function(){a._barGaugeTooltip.css({display:"none"})}),$("#"+a.element.id+" .jqx-bar-gauge-slice").length>0&&a.addHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mousemove",function(){!0===a._tooltip.visible&&a._valuesLength>0&&(e=a.renderer.getAttr(this,"id").substr(a.element.id.length+5),t=a._calculatePrecision(a._tooltip.precision,a.values[e]),a._barGaugeTooltip.css({display:"block",color:a._colors[e],"border-color":a._colors[e]}),void 0!==a._tooltip.formatFunction&&null!==a._tooltip.formatFunction&&"function"==typeof a._tooltip.formatFunction&&(t=a._tooltip.formatFunction(t,parseInt(e))),a._barGaugeTooltip.html(t))}),a.addHandler($(a.host),"mousemove",function(e){a._barGaugeTooltip.css({top:e.pageY-10+"px",left:e.pageX+15+"px"})})},_removeTooltipHandlers:function(){var e=this;e._barGaugeSlices.length>0&&(e.removeHandler($(e._barGaugeSlices),"mouseenter"),e.removeHandler($(e._barGaugeSlices),"mouseleave"),e.removeHandler($(e._barGaugeSlices),"mouseup"),e.removeHandler($(e._barGaugeSlices),"mousemove"),e.removeHandler($("#"+e.element.id+" .jqx-bar-gauge-slice"),"mouseenter mouseleave mouseup mousemove")),e.removeHandler($(e.host),"mousemove")},_drawBarGaugeTitle:function(){var e=this;e._alignmentIE=e._alignmentIE||e._title.horizontalAlignment;var t,a,l,i,r,n,o,s,_,u=0;if((e._ie7||e._ie8)&&(e._title.horizontalAlignment="left"),e._titleLines>1){for(t=e._title.text.split("<br>"),_=0;_<e._titleLines;_++)for(l=e._measureText(t[_]+"_",e._title.font.size,e._title.font.family,e._title.font.weight),n=t[_];l.width>e.width;)n=n.slice(0,-1),t[_]=n+"...",l=e._measureText(t[_]+"_",e._title.font.size,e._title.font.family,e._title.font.weight);e._title.text=t.join("<br>")}else for(l=e._measureText(e._title.text+"_",e._title.font.size,e._title.font.family,e._title.font.weight),n=e._title.text;l.width>e.width;)n=n.slice(0,-1),e._title.text=n+"...",l=e._measureText(e._title.text+"_",e._title.font.size,e._title.font.family,e._title.font.weight);if("bottom"===e._title.verticalAlignment&&(u=e.height-e._title.placeholderSize),null!==e.title&&void 0!==e.title&&""!==e._title.text){if(e._barGaugeTitle=e.renderer.text(e._title.text,e._title.margin.left,u+e._title.margin.top,e.width-e._title.margin.right,0,void 0,{fill:e._title.font.color,"fill-opacity":e._title.font.opacity,"font-size":e._title.font.size,"font-family":e._title.font.family,"font-weight":e._title.font.weight},!1,e._title.horizontalAlignment,e._title.verticalAlignment,"centertop"),s=e.element.id+"Title",e.renderer.attr(e._barGaugeTitle,{id:s}),e.renderer.attr(e._barGaugeTitle,{class:"jqx-bar-gauge-title"}),e._ie7||e._ie8){$("#"+s+" textbox").css({width:e.width+"px !important","padding-left":"10px",position:"relative"});var d=0;l.width<e.width&&("center"===e._alignmentIE?d=(e.width-l.width)/2:"right"===e._alignmentIE&&(d=e.width-l.width)),$("#"+s+" span").css({color:e._title.font.color,"margin-left":d+"px","white-space":"nowrap","text-align":"center","font-size":e._title.font.size+"px","font-family":e._title.font.family,"font-weight":e._title.font.weight}),0}if(""!==e._title.subtitle.text&&void 0!==e._title.subtitle.text){if(e._subTitleLines>1){for(a=e._title.subtitle.text.split("<br>"),_=0;_<e._subTitleLines;_++)for(i=e._measureText(a[_]+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight),r=a[_];i.width>e.width;)r=r.slice(0,-1),a[_]=r+"...",i=e._measureText(a[_]+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight);e._title.subtitle.text=a.join("<br>")}else for(i=e._measureText(e._title.subtitle.text+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight),r=e._title.subtitle.text;i.width>e.width;)r=r.slice(0,-1),e._title.subtitle.text=r+"...",i=e._measureText(e._title.subtitle.text+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight);if(e._barGaugeSubTitle=e.renderer.text(e._title.subtitle.text,e._title.margin.left,u+e._title.font.size*e._titleLines+e._title.margin.top,e.width-e._title.margin.right,0,void 0,{fill:e._title.subtitle.font.color,"fill-opacity":e._title.subtitle.font.opacity,"font-size":e._title.subtitle.font.size,"font-family":e._title.subtitle.font.family,"font-weight":e._title.subtitle.font.weight,"margin-top":e._title.margin.top},!1,e._title.horizontalAlignment,e._title.verticalAlignment,"centertop"),o=e.element.id+"SubTitle",e.renderer.attr(e._barGaugeSubTitle,{id:o}),e.renderer.attr(e._barGaugeSubTitle,{class:"jqx-bar-gauge-subtitle"}),e._ie7||e._ie8){var c=0;i.width<e.width&&("center"===e._alignmentIE?c=(e.width-i.width)/2:"right"===e._alignmentIE&&(c=e.width-i.width)),$("#"+o+" textbox").css({width:e.width+"px !important",left:c+"px !important",position:"relative"}),$("#"+o+" span").css({width:"100%",color:e._title.subtitle.font.color,"margin-left":c+"px","white-space":"nowrap","text-align":"center","font-size":e._title.subtitle.font.size+"px","font-family":e._title.subtitle.font.family,"font-weight":e._title.subtitle.font.weight})}}}},_measureText:function(e,t,a,l){var i=this,r={};return $("#"+i._measuredTextId).length||(i._measuredText.attr("id",i._measuredTextId),$(i.host).append(i._measuredText),i._measuredText.css({"z-index":-999999,"white-space":"nowrap","font-size":t+"px","font-family":a,"font-weight":l})),i._measuredText[0].style.fontSize!=t+"px"&&(i._measuredText[0].style.fontSize=t+"px"),i._measuredText[0].style.fontFamily!=a+"px"&&(i._measuredText[0].style.fontFamily=a),i._measuredText[0].style.fontWeight!=l&&(i._measuredText[0].style.fontWeight=l+"px"),i._measuredText.text(e),r.width=i._measuredText[0].offsetWidth,r.height=i._measuredText[0].offsetHeight,r},_calculateBarGaugeRadius:function(){var e=this;e.width>e.height-e._title.placeholderSize?e._barGaugeRadius=(e.height-e._title.placeholderSize)/2:e._barGaugeRadius=e.width/2},_addCSS:function(){var e=this;$(e.host).addClass(e.toThemeProperty("jqx-widget")),$(e.host).addClass(e.toThemeProperty("jqx-bar-gauge")),$(e.host).addClass(e.toThemeProperty("jqx-widget-content")),e.disabled&&$(e.host).addClass(e.toThemeProperty("jqx-fill-state-disabled"))},_rendered:function(){var e=this;!0===e._rendering&&(null!==e.rendered&&"function"==typeof e.rendered&&e.rendered(),e._rendering=!1,e.clearIntervals(),e._temporaryOldAngle.length=0,e._temporaryValuesToDegrees.length=0,e._temporaryValues.length=0,e._raiseEvent("0"),e._raiseEvent("5"))},_render:function(){var e=this;e._removeAllGraphicElements(),e.values.length>0?0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge():(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._drawStaticBarGauge())},render:function(){var e=this;e.clearIntervals(),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._getColorScheme(),!0!==e._rendering?e._render():(e._staticRefresh(),e._render())},refresh:function(e){var t=this;!0!==e&&t.render()},_removeAllGraphicElements:function(){var e=this;e._removeLabels(),e._removeBarGaugeSlices(),e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle()},_drawStaticBarGauge:function(){var e=this;e._rendering=!0,e._drawBarGaugeTitle(),e._drawBarGaugeLayout(),e.disabled?e._rendered():(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._measureRadius(),e._drawStaticBarGaugeElementsWithBase(),e._rendered())},_drawDynamicBarGauge:function(){var e=this;e._drawBarGaugeTitle(),e._drawBarGaugeLayout(),e.disabled?e._rendered():e._drawBarGaugeElementsWithBase()},val:function(e){var t=this;return null!==e&&void 0!==e&&"object"==typeof e&&Object.keys(e).length>0?(t._raiseEvent("4","api"),e.length!=t.values.length?(t.values=e,t.render()):t._redrawWithNewValuesArray(e,t.values)):null!==e&&void 0!==e&&"object"==typeof e&&0===e.length&&(t._raiseEvent("4"),t._removeLabels(),t._removeBarGaugeSlices(),t._transformValuesToAngles(),t._drawEmptyBarGauge(),t._removeLabels(),t.values.length=0,t._refreshTooltipHandlers()),t.values},_redrawWithNewValuesArray:function(e,t){var a,l,i=this;if(!1===i._rendering)i._userValues=e.slice(),i._oldValues=t?t.slice():i.values.slice(),i._oldValuesToDegrees=i._valuesToDegrees.slice(),i._oldValuesLength=i._valuesLength,Object.keys(e).length>1?i.values=e.slice():null===e[0]||void 0===e[0]?i.values=[]:(i.values=[],i.values[0]=parseFloat(e)),i._lastChange=new Date;else if(!0===i._rendering){for(i._userValues=e.slice(),i._oldValues.length=0,i._oldValuesToDegrees.length=0,l=0;l<i.values.length;l++)i._oldValues[l]=void 0!=i._temporaryValues[l]?i._temporaryValues[l]:i.values[l],i._oldValuesToDegrees[l]=void 0!=i._temporaryValuesToDegrees[l]?i._temporaryValuesToDegrees[l]:i._valuesToDegrees[l];i._oldValuesLength=i.values.length,e.length>1?i.values=e.slice():null===e[0]||void 0===e[0]?i.values=[]:(i.values=[],i.values[0]=parseFloat(e))}else if(null===e||void 0===e)i.values=[];else{if("string"!=typeof e&&"number"!=typeof e)return i.values;i.values=[],i.values[0]=parseFloat(e)}if(i._valuesLength=i.values.length,i._getColorScheme(),i._valuesLength>i._oldValuesLength)for(var r=i._oldValuesLength;r<i._valuesLength;r++)i._oldValuesToDegrees[r]=i._geometry.baseAngle,i._oldValues[r]=i.baseValue;for(l=0;l<i._valuesLength;l++){i.values[l]<i.min?i.values[l]=i.min:i.values[l]>i.max&&(i.values[l]=i.max);var n=i.values[l];0==n&&(n=.03),a=(n-i.min)/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle)+i._geometry.startAngle,i._valuesToDegrees[l]=a%360}i._renderElements(),i._refreshTooltipHandlers(),i._raiseEvent("1")},_staticRefresh:function(){var e=this,t=e.animationDuration;"string"==typeof e.width&&-1!==e.width.indexOf("%")&&(e._dimensions.width=e.width),"string"==typeof e.height&&-1!==e.height.indexOf("%")&&(e._dimensions.height=e.height),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),$("#"+e.element.id+" .chartContainer").width(e.width),$("#"+e.element.id+" .chartContainer").height(e.height),e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._measureRadius(),e.animationDuration=0,e._render(),e.animationDuration=t},propertyChangedHandler:function(e,t,a,l){var i,r=e;if(r._cachedMeasurements=[],void 0!==e.isInitialized&&null!==e.isInitialized&&!1!==e.isInitialized&&(r.ie7||!e.batchUpdate||!e.batchUpdate.width||!e.batchUpdate.height||2!==Object.keys(e.batchUpdate).length)&&(l!==a||"colorScheme"===t||"tooltip"===t))switch(r.animationDuration,r._titleTemplate=r._title,r._labelTemplate=r._label,r._tooltipTemplate=r._tooltip,t){case"width":case"height":r._staticRefresh();break;case"values":r.values=a,r.val(l);break;case"animationDuration":break;case"disabled":r.disabled?$(r.host).addClass(r.toThemeProperty("jqx-fill-state-disabled")):$(r.host).removeClass(r.toThemeProperty("jqx-fill-state-disabled")),r._render();break;case"geometry":case"min":case"baseValue":case"max":case"barSpacing":case"startAngle":case"endAngle":case"relativeInnerRadius":r.geometry.startAngle=r.startAngle,r.geometry.endAngle=r.endAngle,r.values=r._userValues.slice(),r._validateValues(),r._transformValuesToAngles(),r._render();break;case"tooltip":r._validateTooltip();break;case"rendered":break;case"backgroundColor":if(r._backgroundColor=r._validateColor(r.backgroundColor,r._backgroundColor),r._ie7||r._ie8)for(i=0;i<r._valuesLength;i++)r.renderer.attr(r._barGaugeBackgroundSlices[i],{fillcolor:r._backgroundColor,strokecolor:r._backgroundColor,"stroke-width":r._barGaugeSlicesStrokeWidth});else $("#"+r.element.id+" .jqx-bar-gauge-background-slice").attr({fill:r._backgroundColor,stroke:r._backgroundColor,"stroke-width":r._barGaugeSlicesStrokeWidth});break;case"customColorScheme":r._attachCustomColors();break;case"colorScheme":var n,o;for(r._getColorScheme(),i=0;i<r._valuesLength;i++){n=r._label.connectorColor||r._colors[i],o=r._label.font.color||r._colors[i];var s=r._colors[i];if(r.useGradient){var _=[[0,1.4],[100,1]];s=r.renderer._toLinearGradient(s,!0,_)}if(r.renderer.attr(r._barGaugeSlices[i],{fill:s}),r.renderer.attr(r._barGaugeLabelLines[i],{fill:n,stroke:n}),r.renderer.attr(r._barGaugeLabelText[i],{fill:o}),r._ie7||r._ie8){r.renderer.attr(r._barGaugeSlices[i],{fillcolor:r._colors[i],strokecolor:r._colors[i],"stroke-width":r._barGaugeSlicesStrokeWidth}),r.renderer.attr(r._barGaugeLabelLines[i],{fillcolor:n,strokecolor:n});var u=r.element.id+"Label"+i;$("#"+u+" .jqx-bargauge-label").css({color:o})}}break;default:r._staticRefresh()}},_compareArrays:function(e,t){var a=e.length;if(a!==t.length)return!1;for(var l=0;l<a;l++)if(e[l]!==t[l])return!1;return!0},_addIEPolyfills:function(){Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=a.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var r,n,o=[];for(r in i)e.call(i,r)&&o.push(r);if(t)for(n=0;n<l;n++)e.call(i,a[n])&&o.push(a[n]);return o}}())},destroy:function(){var e=this;$("#"+e._measuredTextId).remove(),e.renderer.clear(),e.renderer=null,e._removeEventHandlers(),e._removeTooltipHandlers(),e.host.children().remove(),e.host.removeData(),e.host.removeClass(),e.host.remove(),e.host=null,e.element=null,delete e.element,delete e.host},_addEventHandlers:function(){var e=this;e.addHandler($(e.host),"drawStart",function(){}),e.addHandler($(e.host),"drawEnd",function(){e._refreshTooltipHandlers()}),e.addHandler($(window),"resize.jqxBarGauge"+e.host[0].id,function(){var t=!1;e._dimensions.width&&e._dimensions.width.toString().indexOf("%")>=0&&(t=!0),e._dimensions.height&&e._dimensions.height.toString().indexOf("%")>=0&&(t=!0),t&&e._staticRefresh()})},_removeEventHandlers:function(){var e=this;e.removeHandler($(e.host),"drawStart"),e.removeHandler($(e.host),"drawEnd"),e.removeHandler($(window),"resize.jqxBarGauge"+e.host[0].id)},_refreshEventHandlers:function(){var e=this;e._removeEventHandlers(),e._addEventHandlers()},_raiseEvent:function(e,t){var a=this,l=$.Event(a._events[e]);return l.args=t,a.host.trigger(l)},_getEvent:function(e){var t=this;return t._isTouchDevice?t._touchEvents[e]:e}})}(jqxBaseFramework);

!function($){$.jqx.jqxWidget("jqxPivotDesigner","",{}),$.extend($.jqx._jqxPivotDesigner.prototype,{defineInstance:function(){var t={type:"pivotGrid",target:null,dataFields:null};$.extend(!0,this,t)},_instanceId:0,createInstance:function(t){this.element;var e=this.host,i=this,s=[{widget:"jqxWindow",src:"jqxwindow.js"},{widget:"jqxButton",src:"jqxbuttons.js"},{widget:"jqxCheckBox",src:"jqxcheckbox.js"},{widget:"jqxInput",src:"jqxinput.js"},{widget:"jqxScrollBar",src:"jqxscrollbar.js"},{widget:"jqxListBox",src:"jqxlistbox.js"},{widget:"jqxDropDownList",src:"jqxdropdownlist.js"},{widget:"jqxDragDrop",src:"jqxdragdrop.js"}];for(var a in s)if(!window[s[a].widget])throw new Error("Please include "+s[a].src);this._isTouchDevice();var n="jqx-rc-all jqx-widget jqx-pivotgrid jqx-designer-host"+this.toThemeProperty("jqx-widget-content");e.append("<div class='"+n+"' style='width: 100%; height: 100%; overflow:hidden; onselectstart='return false;' oncontextmenu='return false;''><div class='labelFields jqx-widget' style='position: absolute;'>Pivot Table Fields</div><div class='labelFilters jqx-widget' style='position: absolute;'>Filters</div><div class='labelColumns jqx-widget' style='position: absolute;'>Columns</div><div class='labelRows jqx-widget' style='position: absolute;'>Rows</div><div class='labelValues jqx-widget' style='position: absolute;'>Values</div><div class='divFields' style='position: absolute;'></div><div class='divFilters' style='position: absolute;'></div><div class='divColumns' style='position: absolute;'></div><div class='divRows' style='position: absolute;'></div><div class='divValues' style='position: absolute;'></div></div>"),this._listBoxes={fields:i.host.find(".divFields"),rows:i.host.find(".divRows"),columns:i.host.find(".divColumns"),values:i.host.find(".divValues"),filters:i.host.find(".divFilters")},$.jqx.utilities.resize(i.host,function(){i._resize()},!1)},destroy:function(){$.jqx.utilities.resize(this.host,null,!0),self.target&&delete self.target._pivotDesigner},_getLocalizedString:function(t){var e=this.target?this.target._localizedStrings:{};switch(t){case"fields":return e.fieldslabel||"Pivot Fields";case"calculation":return e.calculation||"Calculation";case"filters":return e.filterslabel||"Filters";case"rows":return e.rowslabel||"Rows";case"columns":return e.columnslabel||"Columns";case"values":return e.valueslabel||"Values";case"of":return e.of||"of";case"to":return e.to||"to";case"move":return e.move||"Move";case"remove":return e.remove||"Remove";case"count":return e.count||"Count";case"sum":return e.sum||"Sum";case"average":return e.avgerage||"Average";case"product":return e.product||"Product";case"min":return e.min||"Min";case"max":return e.max||"Max"}return e[t]?e[t]:t},_isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=$.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if($.jqx.browser.msie&&$.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,$.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},_resize:function(){var t=this._listBoxes,e=this.host,i=e.height()-10,s=e.width()-10,a=$("<span style='white-space:nowrap;'></span>");this.host.append(a);for(var n=0,o=["fields","filters","rows","columns","values"],l=0;l<o.length;l++){a.text(this._getLocalizedString(o[l]));var r=a.height();r>n&&(n=r)}a.remove();var d=this.host.position(),u=d.left+5,g=d.top+5;g+=5,e.find(".labelFields").css({left:u,top:g,width:s-10,height:n}),g+=n;var v=(i-3*(n+10))/3,c=(s-5)/2;t.fields.css({left:u,top:g,background:"white"}),t.fields.jqxListBox({width:s,height:v,allowDrop:!0,allowDrag:!0}),g+=v+10,e.find(".labelFilters").css({left:u,top:g,width:c,height:n}),e.find(".labelColumns").css({left:u+c+5,top:g,width:c,height:n}),g+=n,t.filters.css({left:u,top:g}),t.filters.jqxListBox({width:c,height:v}),t.columns.css({left:u+c+5,top:g}),t.columns.jqxListBox({width:c,height:v}),g+=v+10,e.find(".labelRows").css({left:u,top:g,width:c,height:n}),e.find(".labelValues").css({left:u+c+5,top:g,width:c,height:n}),g+=n,e.find(".divRows").css({left:u,top:g}),e.find(".divRows").jqxListBox({width:c,height:v}),e.find(".divValues").css({left:u+c+5,top:g}),e.find(".divValues").jqxListBox({width:c,height:v})},_setupListBoxes:function(){var t=this,e=(t.host,t._listBoxes);for(var i in e){var s=e[i];s.off(),s.jqxListBox({allowDrag:!0,allowDrop:!0,renderer:function(e,i,s){return t._getCustomRendererElement(i,t._listBoxes.fields[0]!=this.host[0])}}).on("dragStart",function(t){e.rows.jqxListBox({dropAction:"copy"}),e.columns.jqxListBox({dropAction:"copy"}),e.filters.jqxListBox({dropAction:"copy"}),e.values.jqxListBox({dropAction:"copy"}),e.fields.jqxListBox({dropAction:"copy"})}).on("dragEnd",function(e){t._moveElement($(this),e.args.dropTargetElement,e.args.index,e.args.value)})}},_moveElement:function(t,e,i,s){var a=this,n=a._listBoxes;if(e){if(t[0]!=n.fields[0]&&t.jqxListBox("removeAt",i),e==n.fields[0])n.fields.jqxListBox("clear"),a._populateListBox(n.fields,a._allFields,"all");else{if(t[0]==n.fields[0]&&e==n.values[0]||(n.rows[0]!=e&&a._removeItem(n.rows,s),n.columns[0]!=e&&a._removeItem(n.columns,s)),e==n.values[0]){for(var o=n.values.jqxListBox("getItems"),l=0;l<o.length;l++)n.values.jqxListBox("updateAt",{label:o[l].label,value:$.extend({},o[l].value)},l);a._autoAssignAggregationFunctions()}a._removeDuplicates(n.rows),a._removeDuplicates(n.columns),a._removeDuplicates(n.filters)}a._updateCurrentSettings(),a._updateListBoxLabels();r=$(e).jqxListBox("width");$(e).jqxListBox("width",r+1),$(e).jqxListBox("width",r-1);var r=t.jqxListBox("width");t.jqxListBox("width",r+1),t.jqxListBox("width",r-1),a._updateListBoxLabels(),a._refreshPivotGrid(a._targetCurrentSettings)}},refresh:function(){var t=this;t.target&&(t.target._pivotDesigner=this),t._readPivotSettings(),t._setupListBoxes(),t._resize(),t._updateListBoxLabels()},_updateCurrentSettings:function(){var t=this,e=t._listBoxes,i=$.extend({},t._targetCurrentSettings),s={},a=["rows","columns","values","filters"];for(var n in a)for(var o=i[a[n]],l=0;l<o.length;l++)s[v=o[l].dataField+"_"+(o[l].function||"")]=$.extend({},o[l]),delete s[v].dataField,delete s[v].text;i=$.extend({},t._targetInitSettings);for(var n in a)for(var o=i[a[n]],l=0;l<o.length;l++)s[v=o[l].dataField+"_"+(o[l].function||"")]=$.extend(s[v]||{},o[l]),delete s[v].dataField,delete s[v].text;for(var n in e){o=e[n].jqxListBox("getItems");i[n]=[];for(l=0;l<o.length;l++){var r=o[l].value.dataField,d=o[l].value.text,u="values"==n?o[l].value.function:void 0,g={dataField:r,text:d||r};u&&(g.function=u),g.text=t._getFieldLabel(u,r);var v=g.dataField+"_"+(u||""),c=s[v];c&&$.extend(g,c),i[n].push(g)}}t._targetCurrentSettings=i},_refreshPivotGrid:function(t){var e=this,i=new $.jqx.pivot(e.target.source.dataAdapter,t);$(e.target.element).jqxPivotGrid({source:i});var s=$(e.target.element).jqxPivotGrid("getInstance");s._pivotRows.autoResize(),s._pivotColumns.autoResize(),s.refresh(),e._targetCurrentSettings=t},_autoAssignAggregationFunctions:function(){for(var t=this,e=t.host.find(".divValues").jqxListBox("getItems"),i={},s=0;s<e.length;s++)e[s].value.function&&(i[e[s].value.dataField]||(i[e[s].value.dataField]={}),i[e[s].value.dataField][e[s].value.function]=!0);for(var a=t.target.source.getFunctions(),s=0;s<e.length;s++){var n=!1;if(!e[s].value.function){i[e[s].value.dataField]||(i[e[s].value.dataField]={});for(var o in a)if(!i[e[s].value.dataField][o]){i[e[s].value.dataField][o]=!0,e[s].value.function=o,n=!0;break}if(!n)for(var o in a){e[s].value.function=o;break}}}},_updateListBoxLabels:function(){var t=this;t.host.find(".pivot-designer-item-button").off();var e=t._listBoxes;for(var i in e){var s=e[i],a=s.jqxListBox("getItems");if(a)for(var n=0;n<a.length;n++){var o=void 0;if("values"==i&&!(o=a[n].value.function))throw"Unspecified pivot aggregation function";a[n].label=t._getFieldLabel(o,a[n].value.dataField),s.jqxListBox("updateAt",{label:a[n].label,value:a[n].value},n)}}t.host.find(".pivot-designer-item-button").off(),t.host.find(".pivot-designer-item-button").on("click",function(i){for(var s in e)for(var a=e[s].jqxListBox("getItems"),n=0;n<a.length;n++){var o=$(a[n].element).find(".pivot-designer-item-button");if(o.length>0&&o[0]==this)return void t._showDesignerItemContextMenu(s,n)}})},_showDesignerItemContextMenu:function(t,e){var i=this;if(!i._isWindowOpen()){var s=i._listBoxes,a={moveOperations:{}};for(var n in s)n!=t&&(a.moveOperations[i._getLocalizedString("move")+" "+i._getLocalizedString("to")+" "+i._getLocalizedString(n)]={dropTarget:n});if("values"==t){var o=i.target.source.getFunctions(),l={};for(var n in o)l[i._getLocalizedString(n)]={function:n};a.functions=l}i._windowData={type:t,itemIndex:e,fieldSettings:a},"filters"==t?(this._filtersWindow||this._createFiltersWindow(),this._filtersWindow.jqxWindow("open"),this._updateFiltersWindowData()):(this._settingsWindow||this._createSettingsWindow(),this._settingsWindow.jqxWindow("open"),this._updateWindowData())}},_isWindowOpen:function(){return this._settingsWindow&&this._settingsWindow.jqxWindow("isOpen")||this._filtersWindow&&this._filtersWindow.jqxWindow("isOpen")},_getFieldLabel:function(t,e){if(t)return this._getValueFieldLabel(t,e);var i=this._targetInitSettings;for(var s in i)if("values"!=s){var a=i[s];for(var n in a)if(a[n].dataField==e&&a[n].text)return a[n].text}return e},_getValueFieldLabel:function(t,e){var i=this,s=i._getLocalizedString(t)||t,a=void 0,n=i._targetInitSettings;if(n.values)for(var o in n.values)if(n.values[o].dataField==e&&n.values[o].function==t&&void 0!=(a=n.values[o].text))break;return a||s+" "+i._getLocalizedString("of")+" "+e},_removeItem:function(t,e){for(var i=t.jqxListBox("getItems"),s=0,a=0;a<i.length;a++)t.jqxListBox("getItem",a).value.dataField==e.dataField&&(t.jqxListBox("removeAt",a-s),s++)},_getCustomRendererElement:function(t,e){return e?"<div><div style='width: 16px;height: 16px; float:left; margin-top: 1px;' class='pivot-designer-item-button jqx-pivotgrid-settings-icon'></div><div>"+t+"</div></div>":"<div><div style='height: 16px; float:left; margin-top: 2px;'></div><div>"+t+"</div></div>"},_readPivotSettings:function(){function t(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++){var a=t[s].name||t[s].dataField;a&&0!=a.length&&(e[a]||(e[a]={text:a,dataField:a}),void 0!=t[s].text&&"values"!=i&&(e[a].text=t[s].text),e[a].function=t[s].function)}}var e=this;if(e.target){var i=e.target.source;if(i){var s=i.dataAdapter;if(s){var a=s._source;if(a){e._targetCurrentSettings=$.extend({},e.target.source._initSettings),e._targetInitSettings=$.extend({},e.target.source._initSettings);var n={},o={dataFields:this.dataFields,adapterDataFields:a.datafields,rows:e.target.source.rows,columns:e.target.source.columns,values:e.target.source.values,filters:e.target.source.filters};Array.isArray(o.dataFields)?t(o.dataFields,n):t(o.adapterDataFields,n),t(o.filters,n,"filters"),t(o.rows,n,"rows"),t(o.columns,n,"columns"),t(o.values,n,"values"),this._allFields=n;e.host;var l=e._listBoxes;e._populateListBox(l.fields,n,"all"),e._populateListBox(l.filters,o.filters,"filters"),e._populateListBox(l.rows,o.rows,"rows"),e._populateListBox(l.columns,o.columns,"columns"),e._populateListBox(l.values,o.values,"values")}}}}},_populateListBox:function(t,e,i){var s=[],a=0;for(var n in e){var o=e[n].dataField,l=e[n].text||this._allFields[o].text||o;s[a]={text:l,value:{text:l,dataField:o,function:e[n].function||void 0}},"values"!=i&&(s[a].value.function=void 0),a++}t.jqxListBox({source:s,displayMember:"text",valueMember:"value"})},_removeDuplicates:function(t){for(var e=t.jqxListBox("getItems"),i={},s=0;s<e.length;s++){var a=e[s].label;void 0!=i[a]?(t.jqxListBox("removeAt",s),e.splice(s,1),s--):i[a]=!0}},_createSettingsWindow:function(){var t=this,e="<div id='pivotFieldSettingsWindow' style='width: 300px; height: 200px'><table style='width: 100%;'><tr><td style='height: 30px;'>"+t._getLocalizedString("move")+" "+t._getLocalizedString("to")+"</td><td><div style='width: 100%;' class='lbPivotFieldMoveTo'></div></td></tr><tr><td style='height: 30px;'>"+t._getLocalizedString("alignment")+"</td><td><div style='width: 100%;' class='lbAlignment'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+t._getLocalizedString("calculation")+"</td><td><div style='width: 100%;' class='lbCalculation'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+t._getLocalizedString("numberformat")+"</td><td></td></tr><tr class='valueField'><td style='height: 30px;'>"+t._getLocalizedString("cellalignment")+"</td><td><div style='width: 100%;' class='lbCellsAlignment'></div></td></tr><tr class='valueField'><td style='height: 30px;'>"+t._getLocalizedString("prefix")+"</td><td><input type='text' style='width: 100%;' class='txtPrefix'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+t._getLocalizedString("decimalplacestext")+"</td><td><input type='text' style='width: 100%;' class='txtDecimalPlaces'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+t._getLocalizedString("thousandsseparatortext")+"</td><td><input type='text' style='width: 100%;' class='txtThousandsSeparator'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+t._getLocalizedString("decimalseparatortext")+"</td><td><input type='text' style='width: 100%;' class='txtDecimalSeparator'></input></td></tr><tr class='valueField'><td style='height: 30px;'>"+t._getLocalizedString("nagativebracketstext")+"</td><td><div style='width: 100%;' class='checkBoxNagativeWithBrackets'></input></td></tr><tr><td style='height: 30px;' colspan=2 align=middle><input class='btnOk' type='button' value='"+t._getLocalizedString("ok")+"'></input><input class='btnCancel' style='margin-left: 10px;' type='button' value='"+t._getLocalizedString("cancel")+"'></input></td></tr></table>";t.host.append(e);t._settingsWindow=t.host.find("#pivotFieldSettingsWindow").jqxWindow({title:t._getLocalizedString("fieldsettings"),position:{x:0,y:0},showCollapseButton:!0,autoOpen:!1,minWidth:380,maxWidth:380,width:380,height:360,initContent:function(){t._updateWindowData();var e=t._settingsWindow.find(".btnCancel").jqxButton({width:80}),i=t._settingsWindow.find(".btnOk").jqxButton({width:80});e.on("click",function(){t._settingsWindow.jqxWindow("close")}),i.on("click",function(){t._applySettingsWindowChanges(),t._settingsWindow.jqxWindow("close")})}})},_applySettingsWindowChanges:function(){var t=this,e=t._windowData.itemIndex,i=t._windowData.type,s=t._listBoxes[i],a=s.jqxListBox("getItem",e),n=t._settingsWindow.find(".lbPivotFieldMoveTo").jqxDropDownList("selectedIndex");if(-1!=n){var o=void 0;for(var l in t._windowData.fieldSettings.moveOperations)if(o=t._windowData.fieldSettings.moveOperations[l].dropTarget,-1==--n)break;var r=t._listBoxes[o],d=a.value;return r!=t._listBoxes.fields&&r.jqxListBox("addItem",{label:a.label,value:d}),void t._moveElement(s,r[0],e,d)}u=t._settingsWindow.find(".lbAlignment").jqxDropDownList("getSelectedItem");if(t._targetCurrentSettings[i][e].align=u.value,delete t._targetCurrentSettings[i][e].function,"values"==i){u=t._settingsWindow.find(".lbCalculation").jqxDropDownList("getSelectedItem");t._targetCurrentSettings[i][e].text=a.value.text=a.label=t._getFieldLabel(u.value,a.value.dataField),t._targetCurrentSettings[i][e].function=a.value.function=u.value,s.jqxListBox("updateAt",{label:a.value.text,value:a.value},e),t._updateListBoxLabels()}if("values"==i){var u=t._settingsWindow.find(".lbCellsAlignment").jqxDropDownList("getSelectedItem");(x=t._targetCurrentSettings[i][e].formatSettings||{}).align=u.value,t._targetCurrentSettings[i][e].formatSettings=x}if("values"==i){var g=t._settingsWindow.find(".txtPrefix");(x=t._targetCurrentSettings[i][e].formatSettings||{}).prefix=g.val(),t._targetCurrentSettings[i][e].formatSettings=x}if("values"==i){var v=t._settingsWindow.find(".txtDecimalPlaces");(x=t._targetCurrentSettings[i][e].formatSettings||{}).decimalPlaces=v.val(),t._targetCurrentSettings[i][e].formatSettings=x}if("values"==i){var c=t._settingsWindow.find(".txtThousandsSeparator");(x=t._targetCurrentSettings[i][e].formatSettings||{}).thousandsSeparator=c.val(),t._targetCurrentSettings[i][e].formatSettings=x}if("values"==i){var f=t._settingsWindow.find(".txtDecimalSeparator");(x=t._targetCurrentSettings[i][e].formatSettings||{}).decimalSeparator=f.val(),t._targetCurrentSettings[i][e].formatSettings=x}if("values"==i){var h=t._settingsWindow.find(".checkBoxNagativeWithBrackets"),x=t._targetCurrentSettings[i][e].formatSettings||{};x.negativeWithBrackets=h.val(),t._targetCurrentSettings[i][e].formatSettings=x}t._refreshPivotGrid(t._targetCurrentSettings)},_updateWindowData:function(){for(var t=this,e=t._windowData.fieldSettings,i=t._listBoxes[t._windowData.type].jqxListBox("getItem",t._windowData.itemIndex).value,s=t.target.source[t._windowData.type],a=void 0,n=0;n<s.length;n++)if(s[n].dataField==i.dataField&&s[n].function==i.function){a=s[n];break}var o=[];for(var n in e.moveOperations)o.push({text:n,value:e.moveOperations[n]});t._settingsWindow.find(".lbPivotFieldMoveTo").jqxDropDownList({source:o,displayMember:"text",selectedIndex:-1,valueMember:"value",autoDropDownHeight:!0});var l=o=[{text:t._getLocalizedString("left"),value:"left"},{text:t._getLocalizedString("center"),value:"center"},{text:t._getLocalizedString("right"),value:"right"}],r=0;if(a)for(f=0;f<o.length;f++)if(o[f].value==a.align){r=f;break}t._settingsWindow.find(".lbAlignment").jqxDropDownList({source:o,selectedIndex:r,displayMember:"text",valueMember:"value",autoDropDownHeight:!0});var d=390;if(e.functions){var u=i.function;t._settingsWindow.find(".valueField").show(),o=[],r=-1;var g=0;for(var n in e.functions){var v=e.functions[n].function;o.push({text:n,value:v}),u==v&&(r=g),g++}t._settingsWindow.find(".lbCalculation").jqxDropDownList({source:o,displayMember:"text",valueMember:"value",autoDropDownHeight:!0,selectedIndex:r}),o=l;var r=2,c="right";if(a){a.formatSettings&&a.formatSettings.align&&(c=a.formatSettings.align);for(var f=0;f<o.length;f++)if(o[f].value==c){r=f;break}}t._settingsWindow.find(".lbCellsAlignment").jqxDropDownList({source:o,selectedIndex:r,displayMember:"text",valueMember:"value",autoDropDownHeight:!0});var h="";a&&a.formatSettings&&void 0!=a.formatSettings.prefix&&(h=a.formatSettings.prefix),t._settingsWindow.find(".txtPrefix").jqxInput({value:h,height:23,width:195});var x=2;try{a&&a.formatSettings&&void 0!=a.formatSettings.decimalPlaces&&(x=parseInt(a.formatSettings.decimalPlaces))}catch(t){x=2}t._settingsWindow.find(".txtDecimalPlaces").jqxInput({value:x,height:23,width:195});var p=t._getLocalizedString("thousandsseparator");a&&a.formatSettings&&void 0!=a.formatSettings.thousandsSeparator&&(p=a.formatSettings.thousandsSeparator),t._settingsWindow.find(".txtThousandsSeparator").jqxInput({value:p,height:23,width:195});var w=t._getLocalizedString("decimalseparator");a&&a.formatSettings&&void 0!=a.formatSettings.decimalSeparator&&(w=a.formatSettings.decimalSeparator),t._settingsWindow.find(".txtDecimalSeparator").jqxInput({value:w,height:23,width:195});var m=!1;a&&a.formatSettings&&void 0!=a.formatSettings.negativeWithBrackets&&(m=1==a.formatSettings.negativeWithBrackets),t._settingsWindow.find(".checkBoxNagativeWithBrackets").jqxCheckBox({checked:m})}else d=160,t._settingsWindow.find(".valueField").hide();t._settingsWindow.jqxWindow({height:d})},_createFiltersWindow:function(){var t=this,e="<div id='pivotFieldFiltersWindow' style='width: 300px; height: 340px;'><div style='padding: 5; margin: 5; width: 100%; height: 100%;'><table style='width: 100%; height: 100%; margin:0; padding:0;' cellspacing=0; cellpadding=0><tr style='height: auto;'><td style='height: 100%;'><div style='padding: 0px; margin: 0px; display:inline-block;position:relative;' class='listBoxFilters'></div></td></tr><tr style='height: 5px;'><td></td></tr><tr style='height: 30px;'><td colspan=2 align=middle><input class='btnOk' type='button' value='"+t._getLocalizedString("ok")+"'></input><input class='btnCancel' style='margin-left: 10px;' type='button' value='"+t._getLocalizedString("cancel")+"'></input></td></tr></div></table>";t.host.append(e);t._filtersWindow=t.host.find("#pivotFieldFiltersWindow").jqxWindow({title:t._getLocalizedString("fieldsettings"),position:{x:0,y:0},showCollapseButton:!0,autoOpen:!1,minWidth:300,maxWidth:300,width:300,height:360,initContent:function(){t._updateFiltersWindowData();var e=t._filtersWindow.find(".btnCancel").jqxButton({width:80}),i=t._filtersWindow.find(".btnOk").jqxButton({width:80});e.on("click",function(){t._filtersWindow.jqxWindow("close")}),i.on("click",function(){t._applyFiltersWindowChanges(),t._filtersWindow.jqxWindow("close")})}})},_updateFiltersWindowData:function(){for(var t=this,e=t._windowData.fieldSettings,i=t._listBoxes[t._windowData.type].jqxListBox("getItem",t._windowData.itemIndex).value,s=t.target.source[t._windowData.type],a=void 0,n=0;n<s.length;n++)if(s[n].dataField==i.dataField&&s[n].function==i.function){a=s[n];break}var o=[];for(var n in e.moveOperations)o.push({text:n,value:e.moveOperations[n]});o=[];var l=t.target.source.getItemsFilterStatus(a.dataField);for(var n in l)o.push({label:n,value:l[n]});var r=t._filtersWindow.find(".listBoxFilters");r.jqxListBox({source:o,checkBoxes:!0,displayMember:"label",selectedIndex:-1,valueMember:"value",width:"100%",height:"100%"}),r.jqxListBox("beginUpdate"),r.jqxListBox("checkAll");for(n=0;n<o.length;n++)o[n].value&&r.jqxListBox("uncheckIndex",n);r.jqxListBox("endUpdate")},_applyFiltersWindowChanges:function(){for(var self=this,lbFilters=self._filtersWindow.find(".listBoxFilters"),items=lbFilters.jqxListBox("getItems"),uncheckedItems=[],i=0;i<items.length;i++)items[i].checked||uncheckedItems.push(items[i].label);for(var fn="filterFunction = function(value) {",i=0;i<uncheckedItems.length;i++)fn+="if (value == '"+uncheckedItems[i]+"') return true;";fn+="return false;",fn+="}";for(var itemIndex=self._windowData.itemIndex,itemType=self._windowData.type,source=self._listBoxes[itemType],item=source.jqxListBox("getItem",itemIndex),targetCurrentSettings=self._targetCurrentSettings,i=0;i<targetCurrentSettings.filters.length;i++)targetCurrentSettings.filters[i].dataField==item.value.dataField&&(targetCurrentSettings.filters[i].filterFunction=eval(fn));self._refreshPivotGrid(self._targetCurrentSettings)}})}(jqxBaseFramework);

!function(t){t.jqx.pivot=function(e,s){var i=this;i.dataAdapter=e,i.rows=[],i.columns=[],i.values=[],i.filters=[],i.pivotValuesOnRows=!1,i.totals={rows:{subtotals:!1,grandtotals:!1},columns:{subtotals:!1,grandtotals:!1}},i.localization=null,i.aggregationFunctions={},i._initSettings={},t.extend(i.aggregationFunctions,i._defaultFunctions),s&&(i._initSettings=s,i.columns=s.columns||[],i.rows=s.rows||[],i.values=s.values||[],i.filters=s.filters||[],i.pivotValuesOnRows=s.pivotValuesOnRows||!1,i.totals=s.totals,i.localization=s.localization,t.extend(i.aggregationFunctions,s.customAggregationFunctions||{})),0===i.rows.length&&i.columns.length>0&&!1===i.pivotValuesOnRows&&(i.pivotValuesOnRows=!0),0===i.columns.length&&i.rows.length>0&&!1!==i.pivotValuesOnRows&&(i.pivotValuesOnRows=!1)},t.jqx.pivot.prototype={_clear:function(){this._pivot={rows:[],columns:[],values:[],groups:[],filters:[]},this._rowsHierarchy={items:{},valueItems:{}},this._columnsHierarchy={items:{},valueItems:{}},this._hashPivotItemsToTableRows={},this._hashRefItems={},this._hierarchyItemKeyIndex=0},_contains:function(t,e,s){if(!t)return!1;for(var i=0;i<t.length;i++)if(s?t[i]===e:t[i].dataField===e)return!0;return!1},_getFieldIndex:function(t,e){if(!t)return-1;for(var s=0;s<t.length&&t[s].name!==e;s++);return s===t.length?-1:s},dataBind:function(){if(this._clear(),this.dataAdapter){this.dataAdapter.dataBind();var t=["columns","rows","values","filters"];for(var e in t)for(var s=t[e],i=0;i<this[s].length;i++){var a=this[s][i];if(a){var r=!1;if("values"!==s&&"filters"!==s){for(var o in t){var n=t[o];if(s===n&&(r=this._contains(this._pivot[n],a.dataField)))break}if(r)continue}this._pivot[s].push(a)}}this._createPivot()}},_isRowSkipped:function(e){for(var s in this.filters){var i=this.filters[s];if(t.isFunction(i.filterFunction)&&(i.dataField&&void 0!==e[i.dataField]&&i.filterFunction(e[i.dataField])))return!0}return!1},getItemsFilterStatus:function(e){for(var s={},i=this.dataAdapter.records,a=0;a<i.length;a++){var r=i[a][e];if(!s[r])for(var o in this.filters){var n=this.filters[o];if(n.dataField===e){var d=t.isFunction(n.filterFunction)&&n.filterFunction(r);s[r]=d}}}return s},_createPivot:function(){if(this._pivot.values.length>0&&(this._pivot.rows.length>0||this._pivot.columns.length>0)){var t={},e={};this.hashSummaryPrefixes={};for(var s=this.dataAdapter.records,i=0;i<s.length;i++){var a=s[i];if(!this._isRowSkipped(a)){var r=this.dataAdapter._source.datafields;this._appendPivotHierarchy(i,t,this._rowsHierarchy,r,this._pivot.rows,this.pivotValuesOnRows?this._pivot.values:null),this._appendPivotHierarchy(i,e,this._columnsHierarchy,r,this._pivot.columns,this.pivotValuesOnRows?null:this._pivot.values)}}this._setupTotals(this._columnsHierarchy),this._setupTotals(this._rowsHierarchy)}},_setupTotals:function(t){if(this.totals){var e=t===this._columnsHierarchy?this.totals.columns:this.totals.rows;!e||!0!==e.subtotals&&!0!==e.grandtotals||(this._addTotals(t.items,!1,e),t===this._columnsHierarchy==!this.pivotValuesOnRows&&this._addvalueItemsToTotals(t.items))}},_addvalueItemsToTotals:function(t){for(var e in t){var s=t[e];if(s.isTotal){if(!this._hashRefItems[s.key])continue;refItems=this._hashRefItems[s.key].refItems;for(var i=[],e=0;e<refItems.length;e++){for(var a=this._hashPivotItemsToTableRows[refItems[e].key],r=0;r<a.length;r++)i.push(a[r]);if(0===e){s.valueItems={};for(var o in refItems[e].valueItems){var n=refItems[e].valueItems[o],d={text:n.text,boundField:n.boundField,isTotal:!0,key:this._hierarchyItemKeyIndex++};s.valueItems[o]=d}}}i.sort(function(t,e){return t-e});for(var o in s.valueItems)this._hashPivotItemsToTableRows[s.valueItems[o].key]=i;delete this._hashRefItems[s.key]}else this._addvalueItemsToTotals(s.items)}},_clearTotals:function(t){for(var e in t){var s=t[e];s.isTotal?delete t[s]:this._clearTotals(t[e].items)}},_addTotals:function(e,s,i){if(void 0!==e){this._clearTotals(e);var a=[],r=0;for(var o in e){var n=e[o];!0===i.subtotals&&this._addTotals(n.items,!0,i),a.push(n),r++}if(0!==r&&(s||1==i.grandtotals)){var d="_"+(s?"SubTotal":"Total")+"_",y=s?"SubTotal":"Total",l=this.localization;l&&(y=s?t.jqx.getByPriority([l.subtotalstring,l.SubTotalString,y]):t.jqx.getByPriority([l.grandtotalstring,l.GrandTotalString,y]));for(var _=this._hierarchyItemKeyIndex++,u=e[d]={text:y,key:_},h=[],o=0;o<a.length;o++)for(var M=0;M<this._hashPivotItemsToTableRows[a[o].key].length;M++)h.push(this._hashPivotItemsToTableRows[a[o].key][M]);this._hashRefItems[_]={item:u,refItems:a},this._hashPivotItemsToTableRows[_]=h.sort(function(t,e){return t-e}),u.isTotal=!0}}},_appendPivotHierarchy:function(t,e,s,i,a,r){var o=[],n="",d=this.dataAdapter.records[t];if(!this._getBoundFieldsValues(d,a,o))return!1;n.substring(0,n.length);var y=null;if(0==o.length&&null!=r)return this._attachValueFieldAsSummaryItem(t,e,y,n,r),!0;for(var l=0;l<o.length;l++){n+="!_$%^&_";var _=o[l];e[n+=_]?y=e[n]:(null==y?y=s.items[_]={text:_}:(this._addSourceRecordToPivotItem(y.key,t),y.items||(y.items={}),y=y.items[_]={text:_}),this._applyBoundFieldProperties(a[l],y),e[n]=y,y.key=this._hierarchyItemKeyIndex++),null==r||0==r.length?this._addSourceRecordToPivotItem(y.key,t):(this._addSourceRecordToPivotItem(y.key,t),null!=r&&this._attachValueFieldAsSummaryItem(t,e,y,n,r))}return!0},_attachValueFieldAsSummaryItem:function(t,e,s,i,a){for(var r=0;r<a.length;r++){var o=a[r],n=null,d=i+o.dataField+r;e[d]?n=e[d]:(null!=s?(s.valueItems||(s.valueItems={}),n=s.valueItems[o.dataField+r]={text:o.text||o.dataField}):n=(this.pivotValuesOnRows?this._rowsHierarchy:this._columnsHierarchy).valueItems[o.dataField+r]={text:o.text||o.dataField},e[d]=n,n.key=this._hierarchyItemKeyIndex++),this._applyBoundFieldProperties(o,n),this._addSourceRecordToPivotItem(n.key,t)}},_applyBoundFieldProperties:function(t,e){e.boundField=t,t.text&&(e.boundFieldText=t.text)},_addSourceRecordToPivotItem:function(t,e){var s=null;(s=this._hashPivotItemsToTableRows[t]?this._hashPivotItemsToTableRows[t]:this._hashPivotItemsToTableRows[t]=[]).length>0&&s[s.length-1]==e||s.push(e)},_sortedArrayIntersectAndDedup:function(t,e){for(var s=[],i=0,a=0;i<t.length&&a<e.length;)t[i]<e[a]?i++:t[i]>e[a]?a++:(0!=s.length&&s[s.length-1]==t[i]||s.push(t[i]),i++,a++);return s},_getBoundFieldValue:function(t,e){return null==e?null:t[e]},_getBoundFieldsValues:function(t,e,s){for(var i=0;i<e.length;i++){var a=t[e[i].dataField];void 0!==a&&s.push(a)}return!0},_internalDrillThroughPivotCell:function(t,e,s){var i=this._hashPivotItemsToTableRows[t]||[],a=this._hashPivotItemsToTableRows[e]||[];return 0==i.length||0==a.length?[]:this._sortedArrayIntersectAndDedup(i,a)},drillThroughPivotCell:function(t,e){if(!t||void 0===t.key||!e||void 0===e.key)return[];var s=t.isTotal||e.isTotal;return this._internalDrillThroughPivotCell(t.key,e.key,s)},getFunctions:function(){return this.aggregationFunctions},_defaultFunctions:{count:function(t){return t.length},sum:function(t){for(var e=0,s=0;s<t.length;s++)e+=t[s];return e},min:function(t){for(var e=1/0,s=0;s<t.length;s++)t[s]<e&&(e=t[s]);return e},max:function(t){for(var e=-1/0,s=0;s<t.length;s++)t[s]>e&&(e=t[s]);return e},average:function(e){var s=t.jqx.pivot.prototype._defaultFunctions.count(e);return 0==s?0:t.jqx.pivot.prototype._defaultFunctions.sum(e)/s},product:function(t){for(var e=0,s=0;s<t.length;s++)0==s?e=t[s]:e*=t[s];return e}},getCellValue:function(t,e){var s=this._getCellValueFromDataSource(t,e);if(isNaN(s))return"";var i=this.pivotValuesOnRows?t.boundField:e.boundField;return{value:s,formattedValue:this._formatValue(s,i.formatSettings,i.formatFunction)}},getCellFormatSettings:function(t,e){var s=this.pivotValuesOnRows?t.boundField:e.boundField;if(s)return s.formatSettings},_getCellValueFromDataSource:function(t,e){if(void 0==t)throw"Invalid rowItem";if(void 0==e)throw"Invalid columnItem";var s=t.isTotal||e.isTotal,i=this._internalDrillThroughPivotCell(t.key,e.key,s);if(0==i.length)return"";var a=this.pivotValuesOnRows?t.boundField:e.boundField;if(null!=a){var r=a.function||"count";"String"==typeof r&&(r=r.toLowerCase());try{for(var o=[],n=0;n<i.length;n++){var d=i[n],y=this.dataAdapter.records[d],l=this._getBoundFieldValue(y,a.dataField);o.push(parseFloat(l))}if("string"==typeof r&&(r=this.aggregationFunctions[r]),"function"==typeof r)return r(o)}catch(t){return NaN}return NaN}},_formatValue:function(e,s,i){if(void 0==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!t.isFunction(i))return e.toString();try{return i(e)}catch(t){return t.message}}return this._isNumber(e)?this._formatNumber(e,s):this._isDate(e)?this._formatDate(e,s):s?(s.prefix||"")+e.toString()+(s.sufix||""):e.toString()},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=t.trim(e);for(var s=0;s<e.length;s++){var i=e.charAt(s);if(!(i>="0"&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=s)&&!("("==i&&0==s||")"==i&&s==e.length-1)))return!1}return!0},_castAsDate:function(e,s){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(s&&(i=t.jqx.dataFormat.parsedate(e,s),this._isDate(i)))return i;if(this._autoDateFormats){for(var a=0;a<this._autoDateFormats.length;a++)if(i=t.jqx.dataFormat.parsedate(e,this._autoDateFormats[a]),this._isDate(i))return i}else this._autoDateFormats=[];var r=this._detectDateFormat(e);return r&&(i=t.jqx.dataFormat.parsedate(e,r),this._isDate(i))?(this._autoDateFormats.push(r),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(t){if(t instanceof Date&&!isNaN(t))return t.valueOf();if("string"==typeof t)if(this._isNumber(t))t=parseFloat(t);else if(!/[a-zA-Z]/.test(t)){var e=new Date(t);void 0!=e&&(t=e.valueOf())}return t},_isNumber:function(t){return"string"==typeof t&&this._isNumberAsString(t)&&(t=parseFloat(t)),"number"==typeof t&&isFinite(t)},_isDate:function(t){return t instanceof Date&&!isNaN(t.getDate())},_isBoolean:function(t){return"boolean"==typeof t},_isObject:function(e){return e&&("object"==typeof e||t.isFunction(e))||!1},_formatDate:function(e,s){var i=e.toString();return s&&(s.dateFormat&&(i=t.jqx.dataFormat.formatDate(e,s.dateFormat)),i=(s.prefix||"")+i+(s.sufix||"")),i},_formatNumber:function(t,e){if(!this._isNumber(t))return t;e=e||{};var s=".",i="",a=this;a.localization&&(s=a.localization.decimalSeparator||a.localization.decimalseparator||s,i=a.localization.thousandsSeparator||a.localization.thousandsseparator||i),e.decimalSeparator&&(s=e.decimalSeparator),e.thousandsSeparator&&(i=e.thousandsSeparator);var r=e.prefix||"",o=e.sufix||"",n=e.decimalPlaces;isNaN(n)&&(n=this._getDecimalPlaces([t],void 0,3));var d=e.negativeWithBrackets||!1,y=t<0;y&&d&&(t*=-1);var l,_=t.toString(),u=Math.pow(10,n);if(_=(Math.round(t*u)/u).toString(),isNaN(_)&&(_=""),l=_.lastIndexOf("."),n>0)for(l<0?l=(_+=s).length-1:"."!==s&&(_=_.replace(".",s));_.length-1-l<n;)_+="0";l=(l=_.lastIndexOf(s))>-1?l:_.length;for(var h=_.substring(l),M=0,m=l;m>0;m--,M++)M%3==0&&m!==l&&(!y||m>1||y&&d)&&(h=i+h),h=_.charAt(m-1)+h;return _=h,y&&d&&(_="("+_+")"),r+_+o},_getDecimalPlaces:function(t,e,s){var i=0;isNaN(s)&&(s=10);for(var a=0;a<t.length;a++){var r=void 0===e?t[a]:t[a][e];if(!isNaN(r)){for(var o=r.toString(),n=0;n<o.length;n++)if((o[n]<"0"||o[n]>"9")&&(i=o.length-(n+1))>=0)return Math.min(i,s);for(i>0&&(r*=Math.pow(10,i));Math.round(r)!=r&&i<s;)i++,r*=10}}return i},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_detectDateFormat:function(e,s){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};s&&(i=t.extend({},i,s));var a=[];t.isArray(e)?a=e:a.push(e);for(var r in i)i[r]={format:i[r],count:0};for(var o=0;o<a.length;o++)if(value=a[o],null!=value&&void 0!=value)for(var r in i)null!=t.jqx.dataFormat.parsedate(value,i[r].format)&&i[r].count++;var n={key:void 0,count:0};for(var r in i)i[r].count>n.count&&(n.key=r,n.count=i[r].count);return n.key?i[n.key].format:""}}}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxPivotGrid","",{}),t.extend(t.jqx._jqxPivotGrid.prototype,{defineInstance:function(){var e={scrollBarsEnabled:!0,source:null,groupingColumns:[],isGroupingEnabled:!1,_offsetX:0,_offsetY:0,_currentPosition:{},_selectStartPosition:{},_isMouseLeftButtonDown:!1,_timeLastUp:new Date,_timeLastDown:new Date,resizeTooltipEnabled:!1,isHorizontalResize:!0,_colResizeState:"NO_RESIZE",activeEditor:{Editor:null},_id:0,_colItemRangeSelectionBeg:null,_colItemRangeSelectionEnd:null,_rowItemRangeSelectionBeg:null,_rowItemRangeSelectionEnd:null,_isCTRLPressed:!1,_internalSelectMode:"CELLS_SELECT",_mostRightItemBounds:{x:0,y:0,width:0,height:0},_mostLeftItemBounds:{x:0,y:0,width:0,height:0},_adjSelectedItemsSave:{},multipleSelectionEnabled:!0,selectionEnabled:!0,selectionMode:"CELLS_SELECT",treeStyleRows:!0,autoResize:!1,cellsRenderer:null,itemsRenderer:null,localization:null};t.extend(!0,this,e),this._createPivotAreas()},_createPivotAreas:function(){this._pivotRows&&(this._pivotRows.clear(),delete this._pivotRows),this._pivotColumns&&(this._pivotColumns.clear(),delete this._pivotColumns),this._pivotCells&&(this._pivotCells._resetCanvas(),this._pivotCells.clear(),delete this._pivotCells),this._pivotRows=new t.jqx.jqxPivotGrid.pivotRows(this),this._pivotColumns=new t.jqx.jqxPivotGrid.pivotColumns(this),this._pivotCells=new t.jqx.jqxPivotGrid.pivotCells,this._pivotCells.parentPivotGrid=this},_instanceId:0,createInstance:function(e){this.element;var i=this.host,s=this;s.localizeStrings(s.localization);var n="jqx-pivotgrid jqx-rc-all jqx-widget "+this.toThemeProperty("jqx-widget-content"),o="";this._isTouchDevice()&&(o="class='jqx-grid-menu-item-touch'"),i.append("<div class='"+n+"' style='width:100%; height: 100%; overflow:hidden; position:relative; onselectstart='return false;' oncontextmenu='return false;''><div id='divContent' style='width:100px; height:100%;'></div><div id='divHScroll' style='width:100%; height:17px;'></div><div id='divVScroll' style='width:17px; height:100%;'></div><div id='divContextMenu'><ul><li "+o+"><div id='sortasc' class='jqx-pivotgrid-sortasc-icon'></div><span>"+s._localizedStrings.sortascendingstring+"</span></li><li "+o+"><div id='sortdesc' class='jqx-pivotgrid-sortdesc-icon'></div><span>"+s._localizedStrings.sortdescendingstring+"</span></li><li "+o+"><div id='sortremove' class='jqx-pivotgrid-sortremove-icon'></div><span>"+s._localizedStrings.sortremovestring+"</span></li></ul></div></div>");var r=i.find("#divContent"),l=(r[0],document.createElement("div"));l.style.position="relative",l.style.left="0px",l.style.top="0px",l.style.width="100%",l.style.height="100%",l.style.overflow="hidden",r.append(l),this.contentCanvas=this.Canvas=l,this.hostVScroll=i.find("#divVScroll"),this.hostHScroll=i.find("#divHScroll"),this.hScroll=i.find("#divHScroll").jqxScrollBar({vertical:!1,theme:this.theme}),this.vScroll=i.find("#divVScroll").jqxScrollBar({vertical:!0,theme:this.theme}),s._createContextMenu(),s.id=s._instanceId++,s._resizeLineId="divResizeLine"+s.id,t(document.body).append("<div id='"+s._resizeLineId+"' style='position: absolute; display: none;'></div>");try{s.dataBind()}catch(t){throw"Databinding exception: "+t.toString()}s._installEventHandlers(),t.jqx.utilities.resize(s.host,function(){s.refresh()},!1),s._isInitialized||(s._isInitialized=!0)},destroy:function(){this._isInitialized=!1,this.host.find("#divHScroll").off(),this.host.find("#divVScroll").off(),this._contextMenu.off(),this.removeHandler(this.host),t.jqx.utilities.resize(this.host,null,!0)},_installEventHandlers:function(){var e=this;e.hostVScroll.on("valueChanged",function(t){t.currentTarget==e.hostVScroll[0]&&e.onVScroll(t.currentValue)}),e.hostHScroll.on("valueChanged",function(t){t.currentTarget==e.hostHScroll[0]&&e.onHScroll(t.currentValue)}),e.addHandler(e.host,"mousewheel DOMMouseScroll",function(i){if(!(e._isContextMenuOpen||e._pivotDesigner&&e._pivotDesigner._isWindowOpen())){var s=t.jqx.position(i);e.isPtInRect({x:s.left,y:s.top},e._rect)&&(i.preventDefault(),e._scrollBarPositions.vertical.visible&&e.onMouseWheel(i))}}),e.addHandler(e.host,"mouseenter",function(t){t.currentTarget==e.element&&e._onMouseEnter(t)}),e.addHandler(e.host,"mouseleave",function(t){t.currentTarget==e.element&&e._onMouseLeave(t)}),e.addHandler(e.host,"mousedown",function(t){e._isContextMenuOpen||e._pivotDesigner&&e._pivotDesigner._isWindowOpen()||(t.preventDefault(),e._onMouseDown(t),this.focus())}),e.addHandler(t(document),"mouseup",function(i){if(!e._isContextMenuOpen&&!(e._pivotDesigner&&e._pivotDesigner._isWindowOpen()||(i.preventDefault(),e._onMouseUp(i),i.cancel))){var s=t.jqx.position(i);(e.isPtInRect({x:s.left,y:s.top},e._rect)||"RESIZING"==e._colResizeState)&&e._onMouseClick(i)}}),e.addHandler(t(document),"mousemove",function(t){e._isContextMenuOpen||e._pivotDesigner&&e._pivotDesigner._isWindowOpen()||e._onMouseMove(t)}),e.addHandler(t(document),"keydown",function(t){e._isContextMenuOpen||e._pivotDesigner&&e._pivotDesigner._isWindowOpen()||e._isContextMenuOpen||(17==t.keyCode?e._isCTRLPressed=!0:16==t.keyCode?e._isSHIFTPressed=!0:e._handleKeyboardNavigation&&e._handleKeyboardNavigation(t))}),e.addHandler(t(document),"keyup",function(t){e._isContextMenuOpen||e._pivotDesigner&&e._pivotDesigner._isWindowOpen()||e._isContextMenuOpen||(17==t.keyCode?e._isCTRLPressed=!1:16==t.keyCode&&(e._isSHIFTPressed=!1))})},_createContextMenu:function(){var e=this,i=this.host.find("#divContextMenu");e._contextMenu=i.jqxMenu({width:"120px",autoCloseOnClick:!0,autoOpenPopup:!1,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0,theme:this.theme,keyboardNavigation:!1,mode:"popup"});for(var s=i.find("li"),n="",o=0;o<s.length;o++){var r=t(s[o]).text();r.length>n.length&&(n=r)}var l=t('<span style="white-space:nowrap;">'+n+"</span>");l.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(l);var h=l.outerWidth()+30;l.remove(),e._contextMenu=i.jqxMenu({width:h}),e._contextMenu.on("shown",function(){e._isContextMenuOpen=!0}),e._contextMenu.on("closed",function(){e._isContextMenuOpen=!1,e._hideItemMenuElement()}),e._contextMenu.on("itemclick",function(t){t.stopImmediatePropagation(),t.stopPropagation();var i=e._menuElement._itemMouseOver;if(i){var s=i.hierarchy==e._pivotColumns?e._pivotRows:e._pivotColumns,n=t.args.innerHTML;-1!=n.indexOf("sortasc")?s.sortBy(i,"asc"):-1!=n.indexOf("sortdesc")?s.sortBy(i,"desc"):-1!=n.indexOf("sortremove")&&s.removeSort()}})},_isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e=t.jqx.mobile.isTouchDevice();if(this.touchDevice=e,1==this.touchmode){if(t.jqx.browser.msie&&t.jqx.browser.version<9)return this.enablehover=!1,!1;e=!0,t.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e}else 0==this.touchmode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),e},propertyChangedHandler:function(t,e,i,s){void 0!=this._isInitialized&&0!=this._isInitialized&&("source"==e?this.dataBind():"theme"==e&&(this.hostVScrollBar.jqxScrollBar("theme",this.theme),this.hostHScrollBar.jqxScrollBar("theme",this.theme)),this._internalRefresh())},genId:function(){return this._id++},getCellId:function(t,e){return t.id+"_"+e.id},_scrollTimer:void 0,_renderOnTimeout:function(t){clearTimeout(this._scrollTimer);var e=this;0==t?(this._pivotColumns._refreshRequired=this._pivotRows._refreshRequired=!0,e._internalRefresh()):this._scrollTimer=setTimeout(function(){e._render()},t)},onVScroll:function(t){if((t=Math.round(t))!=this._offsetY){this._offsetY=t,this._renderOnTimeout(0)}},onHScroll:function(t){if((t=Math.round(t))!=this._offsetX){this._offsetX=t,this._renderOnTimeout(0)}},onMouseWheel:function(t){var e=0;if(t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var i=this.vScroll.jqxScrollBar("min"),s=this.vScroll.jqxScrollBar("max"),n=this.vScroll.jqxScrollBar("value");(n-=e*=10)>s&&(n=s),n<i&&(n=i),this.vScroll.jqxScrollBar("value",n)}},_onMouseMove:function(e){var i=t.jqx.position(e),s=i.left,n=i.top;if(this.isPtInRect({x:s,y:n},this._rect)||"RESIZING"==this._colResizeState){var o=this.host.position();if(s-=Math.round(o.left),n-=Math.round(o.top),s=Math.max(s,0),n=Math.max(n,0),this._currentPosition.x!=s||this._currentPosition.y!=n){this._currentPosition.x=s,this._currentPosition.y=n;for(var r in this._scrollBarPositions)if(this._scrollBarPositions[r].visible&&this.isPtInRect({x:s,y:n},this._scrollBarPositions[r].rect))return;this._handleMouseMove(e),this.activeEditor&&this.activeEditor.Editor}}},_onMouseEnter:function(t){},_onMouseLeave:function(t){this._hideItemMenuElement()},_onMouseDown:function(t){var e={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,e);null!=i&&this._raisePivotItemMouseEvent(i,"pivotitemmousedown",0==t.button?"left":"right")?t.cancel=!0:0==t.button?this.onMouseLeftButtonDown(t):2==t.button&&this.onMouseRightButtonDown(t)},_onMouseUp:function(t){var e={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,e);null!=i&&this._raisePivotItemMouseEvent(i,"pivotitemmouseup",0==t.button?"left":"right")?t.cancel=!0:0==t.button?this.onMouseLeftButtonUp(t):2==t.button&&this.onMouseRightButtonUp(t)},_onMouseClick:function(t){var e=this;if(e._handleMouseClick(t),!t.cancel)return e._dtLastMouseClick&&new Date-e._dtLastMouseClick<500?(this._handleMouseDoubleClick(t),void(e._dtLastMouseClick=void 0)):void(e._dtLastMouseClick=new Date)},setDivContent:function(t,e,i,s,n){var o=this.getChild(t,"innerDiv");o.style.padding=i.top+"px "+i.right+"px "+i.bottom+"px "+i.left+"px",s&&(o.style["text-align"]=s),this.setElementSize(t,parseFloat(t.style.width),parseFloat(t.style.height)),n&&(o.style.width=parseFloat(t.style.width)-i.left+"px"),o.innerHTML=e},setElementPosition:function(t,e,i){t.style.position="absolute",t.style.left=e+"px",t.style.top=i+"px"},_getFloat:function(t){for(var e,i=0;i<t.length;i++)if(e=parseFloat(t[i]),!isNaN(e))return e;return NaN},setElementSize:function(t,e,i){t.style.width=e+"px",t.style.height=i+"px";var s=this.getChild(t,"innerDiv");if(s){var n=this._getFloat([s.style.padding.left,s.style.padding,0]),o=this._getFloat([s.style.padding.right,s.style.padding,0]),r=this._getFloat([s.style.padding.top,s.style.padding,0]),l=this._getFloat([s.style.padding.bottom,s.style.padding,0]);s.style.width=e-n-o+"px",s.style.height=i-r-l+"px"}},createCanvas:function(t){var e=document.createElement("div");return e.style["background-color"]="transparent",e.style.overflow="hidden",t.appendChild(e),e},createDiv:function(t,e,i,s){var n=document.createElement("div");n.id=e,n.style.height=s+"px",n.style.width=i+"px";var o=document.createElement("div");return o.id="innerDiv",o.style.height=s+"px",o.style.width=i+"px",n.appendChild(o),t.appendChild(n),n},getPivotRows:function(){return this._pivotRows},getPivotColumns:function(){return this._pivotColumns},getPivotCells:function(){return this._pivotCells},_layout:function(){this.host.find("#divContent"),this.host.find("#divVScroll"),this.host.find("#divHScroll"),this.host.width(),this.host.height();this._pivotCells.Canvas||(this._pivotCells.Canvas=this.createCanvas(this.Canvas,"divCells",100,100)),this._pivotRows.Canvas||(this._pivotRows.Canvas=this.createCanvas(this.Canvas,"divRowsHierarchy",100,100)),this._pivotColumns.Canvas||(this._pivotColumns.Canvas=this.createCanvas(this.Canvas,"divColumnsHierarchy",100,100)),this._pivotRows.isHidden?this._pivotRows.Canvas.style.display="none":(this._pivotRows.Canvas.style.display="block",this.setElementPosition(this._pivotRows.Canvas,this._pivotRows.x,this._pivotRows.y),this.setElementSize(this._pivotRows.Canvas,this._pivotRows.getWidth()+1,this._pivotRows.getHeight()),void 0==this._pivotRows.renderCanvas&&(this._pivotRows.renderCanvas=this.createCanvas(this._pivotRows.Canvas,"divRowsRender",100,100)),this.setElementSize(this._pivotRows.renderCanvas,this._pivotRows.getWidth()+1,this._pivotRows.getHeight())),this._pivotColumns.isHidden?this._pivotColumns.Canvas.style.display="none":(this._pivotColumns.Canvas.style.display="block",this.setElementPosition(this._pivotColumns.Canvas,this._pivotColumns.x,this._pivotColumns.y),this.setElementSize(this._pivotColumns.Canvas,this._pivotColumns.getWidth(),this._pivotColumns.getHeight()+1),void 0==this._pivotColumns.renderCanvas&&(this._pivotColumns.renderCanvas=this.createCanvas(this._pivotColumns.Canvas,"divColumnsRender",100,100)),this.setElementSize(this._pivotColumns.renderCanvas,this._pivotColumns.getWidth(),this._pivotColumns.getHeight()+1)),this.setElementPosition(this._pivotCells.Canvas,this._pivotColumns.x,this._pivotRows.y),this.setElementSize(this._pivotCells.Canvas,this._pivotCells.viewPort.width,this._pivotCells.viewPort.height),void 0==this._pivotCells.renderCanvas&&(this._pivotCells.renderCanvas=this.createCanvas(this._pivotCells.Canvas,"divCellsRender",100,100)),this.setElementSize(this._pivotCells.renderCanvas,this._pivotColumns.getWidth()+1,this._pivotRows.getHeight()+1)},refresh:function(){this._pivotColumns._renderRequired=!0,this._pivotRows._renderRequired=!0,this._pivotCells.clear(),this._internalRefresh()},_internalRefresh:function(){var t=this.host.position();if(this.autoResize){var e=this._pivotColumns.isHidden?0:this._pivotColumns.getHeight(),i=this._pivotColumns.isHidden?0:this._pivotColumns.getWidth(),s=this._pivotRows.isHidden?0:this._pivotRows.getHeight(),n=this._pivotRows.isHidden?0:this._pivotRows.getWidth(),o={};o.width=i+n+1,o.height=e+s+1,o.width==this.host.width()&&o.height==this.host.height()||(this._pivotColumns._renderRequired=this._pivotRows._renderRequired=!0,this.host.css({width:o.width+"px",height:o.height+"px"}))}this._rect={x:t.left,y:t.top,width:this.host.width(),height:this.host.height()},this._render(),this.host.find("#divHScroll").jqxScrollBar("refresh")},_render:function(){var t=this._pivotColumns._renderRequired||this._pivotRows._renderRequired;this._pivotRows.compactStyleRenderingEnabled!=this.treeStyleRows&&(this._pivotRows.compactStyleRenderingEnabled=this.treeStyleRows,t=!0),t&&(this._pivotRows._renderRequired=this._pivotColumns._renderRequired=!0,this.RenderGridContent(),this._layout()),this._pivotRows.viewPort.y=this._offsetY+(this._pivotColumns.isVisible()?this._pivotColumns.viewPort.height:0),this._pivotColumns.viewPort.x=this._offsetX+(this._pivotRows.isVisible()?this._pivotRows.viewPort.width:0),this._pivotColumns.refresh(),this._pivotRows.refresh(),this._pivotCells.render(),this._updateMenuElement()},_updateMenuElement:function(){var e=this.host.find("#divContent")[0];this._menuElement&&(t(this._menuElement).off(),e.removeChild(this._menuElement));var i=document.createElement("div");i.style.height="16px",i.style.width="16px",i.style.id="menu_element",i.style.align="left",i.style.valign="top",i.style.display="none",e.appendChild(i),this._menuElement=i;var s=this;t(s._menuElement).on("click",function(){s._showItemContextMenu()})},dataBind:function(){function e(i,s,n,o,r){for(var l in i.items){h=i.items[l];(a=new t.jqx.jqxPivotGrid.pivotItem(n,o)).text=h.text,a.adapterItem=h,a.isColumn=r,s.items.push(a),e(h,a,a,o,r)}for(var l in i.valueItems){var h=i.valueItems[l],a=new t.jqx.jqxPivotGrid.pivotItem(n,o);a.adapterItem=h,a.text=h.text,a.isColumn=r,a._isValueItem=!0,s.valueItems.push(a),e(h,a,a,o,r)}}var i=this.source;this.localization&&!i.localization&&(i.localization=this.localization),i.dataBind(),this._createPivotAreas(),e(i._rowsHierarchy,this._pivotRows,null,this._pivotRows,!1),e(i._columnsHierarchy,this._pivotColumns,null,this._pivotColumns,!0),this.bindingState="DataBoundPivot",this._pivotRows.autoResize("default"),this._pivotColumns.autoResize("default"),this._internalRefresh()},getChild:function(t,e){for(var i=t.childNodes,s=0;s<i.length;s++)if(i[s].id==e)return i[s];return null},scrollToOffset:function(t,e){for(var i=this.gridcells,s=0;s<i.length;s++)i[s].style.top=e+parseInt(i[s].originalY)+"px",this.setDivContent(i[s],"cell "+s)},getWidth:function(){return this.host.width()},getHeight:function(){return this.host.height()},RenderGridContent:function(){if(!this._pivotColumns._renderRequired&&!this._pivotRows._renderRequired)return this._pivotRows.viewPort.y=this._offsetY,void(this._pivotColumns.viewPort.x=this._offsetX);if(!this.PaintSuspended&&"RESIZING"!=this._colResizeState){var t={};if(t.x=this._offsetX,t.y=this._offsetY,t.width=this.getWidth(),t.height=this.getHeight(),0!=t.width&&0!=t.height)if(this.PaintSuspended=!0,this._pivotColumns._isColumnsCountRequresUpdate&&(this._pivotColumns._updateVisibleLeaves(),this._pivotColumns._updateColumnsCount(),this._pivotColumns._updateColumnsIndexes()),this._pivotRows._isColumnsCountRequresUpdate&&(this._pivotRows._updateColumnsCount(),this._pivotRows._updateColumnsIndexes()),0!=this.getWidth()&&0!=this.getHeight()){this.GroupingEnabled&&this.groupingColumns.length>0&&(this._pivotRows.isHidden=!0),this._pivotColumns._renderRequired&&this._pivotColumns.render(),this._pivotRows._renderRequired&&this._pivotRows.render();var e=this._pivotColumns.isVisible()?this._pivotColumns.getHeight():0,i=this._pivotRows.isVisible()?this._pivotRows.getWidth():0,s={width:this._pivotColumns.getWidth()+i,height:this._pivotRows.getHeight()+e};(this.scrollableAreaSize!=s||this.isSyncScrollRequired)&&(this.scrollableAreaSize=s,this.SynchronizeScrollBars());var n=this.host.find("#divContent"),o=this.host.find("#divVScroll"),r=this.host.find("#divHScroll"),l="none"!=r.css("display"),h="none"!=o.css("display");n.css({height:t.height-(l?r.height()+4:0)+"px"}),n.css({width:t.width-(h?o.width()+4:0)+"px"});var a=t.height;t.height==this.getHeight()&&(a=t.height-e-(l?r.height()+4:0))<0&&(a=t.height),this._pivotRows.x=0,this._pivotRows.y=e,this._pivotRows.viewPort={x:this._pivotRows.x,y:t.y,width:this._pivotRows.getWidth(),height:a};var d=t.width;t.width==this.getWidth()&&(d=t.width-i-(h?o.width()+4:0))<0&&(d=t.width),this._pivotColumns.x=i,this._pivotColumns.y=0,this._pivotColumns.viewPort={x:t.x,y:this._pivotColumns.y,width:d,height:this._pivotColumns.getHeight()},this._pivotCells.Bounds={x:this._pivotColumns.x,y:this._pivotRows.y,width:this._pivotColumns.getWidth(),height:a},this._pivotCells.viewPort={x:t.x,y:t.y,width:d,height:a},null!=this.draggingItem&&dragElement.visibility==visibility.visible&&dragElement.setValue(Canvas.ZIndexProperty,1e4),this._pivotRows._renderRequired=!1,this._pivotColumns._renderRequired=!1,this.PaintSuspended=!1}else this.PaintSuspended=!1}},SynchronizeScrollBars:function(){var t=!1,e=!1,i=this.host.find("#divVScroll"),s=this.host.find("#divHScroll"),n="none"!=s.css("display"),o="none"!=i.css("display"),r=s.height();if(this.scrollableAreaSize.height>this.getHeight()&&(t=!0),this.scrollableAreaSize.width>this.getWidth()&&(e=!0),this.scrollableAreaSize.height<=this.getHeight()&&this.scrollableAreaSize.width<=this.getWidth()&&(t=!1,e=!1),t&&(e=e||this.scrollableAreaSize.width>this.getWidth()-r),e&&(t=t||this.scrollableAreaSize.height>this.getHeight()-r),t){o||!0,i[0].style.display="block";var l=this.getHeight()-(e?r+5:0);l<0&&(l=0),this.setElementPosition(i[0],this.getWidth()-r-4,0),this.setElementSize(i[0],r,l),i.jqxScrollBar("min",0);var h=this.scrollableAreaSize.height-(this.getHeight()-(e?r:0))+4;h!=i.jqxScrollBar("max")&&i.jqxScrollBar("max",h),void 0!=this.VerticalScrollBarSmallChange?i.jqxScrollBar("step",this.VerticalScrollBarSmallChange):i.jqxScrollBar("step",10);var a=this.scrollableAreaSize.height/10;a<10&&(a=10),void 0!=this.VerticalScrollBarLargeChange&&(a=verticalScrollBarLargeChange),i.jqxScrollBar("largestep")!=a&&i.jqxScrollBar("largestep",a),i.jqxScrollBar("largestep")<i.jqxScrollBar("step")&&i.jqxScrollBar("largestep",i.jqxScrollBar("step")),this.rtl}else o&&!0,i.jqxScrollBar("value",0),i[0].style.display="none";if(e){n&&!0,s[0].style.display="block";var d=this.getWidth()-(t?r+5:0);(d<0||void 0==d)&&(d=0),this.setElementPosition(s[0],0,this.getHeight()-r-4),this.setElementSize(s[0],d,r),0!=s.jqxScrollBar("min")&&s.jqxScrollBar("min",0);var u=this.scrollableAreaSize.width-(this.getWidth()-(t?r:0))+4;s.jqxScrollBar("max")!=u&&s.jqxScrollBar("max",u),void 0!=this.HorizontalScrollBarSmallChange?s.jqxScrollBar("step",this.HorizontalScrollBarSmallChange):s.jqxScrollBar("step",10);var c=this.getWidth()/2;c<25&&(c=25),void 0!=this.HorizontalScrollBarLargeChange&&(c=this.HorizontalScrollBarSmallChange),s.jqxScrollBar("largestep",c),s.jqxScrollBar("largestep")<s.jqxScrollBar("largestep")&&s.jqxScrollBar("largestep",s.jqxScrollBar("step"))}else n&&!0,s.jqxScrollBar("value",0),s[0].style.display="none";e=e&&this.scrollBarsEnabled,t=t&&this.scrollBarsEnabled,e!=("block"==s[0].display)&&(s[0].display=e?"block":"none"),t!=("block"==i[0].display)&&(i[0].display=t?"block":"none"),this._scrollBarPositions={vertical:{visible:t,rect:{x:i.position().left,y:i.position().top,width:i.width(),height:i.height()}},horizontal:{visible:e,rect:{x:s.position().left,y:s.position().top,width:s.width(),height:s.height()}}},s.jqxScrollBar("refresh"),i.jqxScrollBar("refresh")},isPtInRect:function(t,e){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},onMouseLeftButtonUp:function(e){var i=this;for(var s in i._scrollBarPositions)if(this._scrollBarPositions[s].visible&&this.isPtInRect(i._currentPosition,i._scrollBarPositions[s].rect))return;if(i._isMouseCaptured())i._releaseMouseCapture();else if(!i._itemMenuButtonMouseOver&&!i._isContextMenuOpen){i.canDrag=!1;var n=i._pivotCells._hitTest(i._currentPosition);if(!n||!i._raisePivotCellMouseEvent(n.pivotRow,n.pivotColumn,"pivotcellmouseup","left")){if("RESIZING"==i._colResizeState){i._colResizeState="NO_RESIZE",i._updateCursor("ARROW"),i._pivotColumns._renderRequired=!0,i._pivotRows._renderRequired=!0;var o={x:i.resizingItem.x+i.resizingItem.hierarchy.x-i._offsetX,y:i.resizingItem.y+i.resizingItem.hierarchy.y-i._offsetY};return this.isHorizontalResize?i.resizingItem.setWidth(Math.max(i.resizingItem.minimumWidth,Math.abs(i._currentPosition.x-o.x))):i.resizingItem.setHeight(Math.max(i.resizingItem.minimumHeight,Math.abs(i._currentPosition.y-o.y))),t("body").find("#"+i._resizeLineId).hide(),i.resizingItem=null,i.resizeTooltipEnabled,i._isMouseLeftButtonDown=!1,void i._internalRefresh()}var r={isOnItemButton:!1},l=i._itemHitTest(i._currentPosition,r);if(null==l||!r.isOnItemButton&&!r.isOnMenuButton){var h=!1;if(i._canDrop(l)?(i._endDrag(l),h=!0):i.dragElement&&"block"==i.dragElement.style.display&&(i._endDrag(draggingItem),h=!0),h)return i._isMouseLeftButtonDown=!1,void i._internalRefresh();var a=t.jqx.position(e),d=i.isPtInRect({x:a.left,y:a.top},i._rect);i._isMouseLeftButtonDown=!1,d&&null==i.activeEditor.Editor&&i._updateSelection()}}}},onMouseLeftButtonDown:function(t){for(var e in this._scrollBarPositions)if(this._scrollBarPositions[e].visible&&this.isPtInRect(this._currentPosition,this._scrollBarPositions[e].rect))return void this._captureMouse();var i={isOnItemButton:!1},s=this._itemHitTest(this._currentPosition,i);this._timeLastDown=new Date;if(this.isShiftPressed||(this._selectStartPosition={x:this._currentPosition.x,y:this._currentPosition.y}),!this._itemMenuButtonMouseOver&&!this._isContextMenuOpen){if(this._isMouseLeftButtonDown=!0,"READY_RESIZE"==this._colResizeState)return this._colResizeState="RESIZING",this._updateCursor(this.isHorizontalResize?"COLUMN_RESIZE":"ROW_RESIZE"),void this._refreshMouseCursor();if("RESIZING"!=this._colResizeState){if(null!=s){if(i.isOnItemButton){if(this._lastToggle&&this._lastToggle.item==s&&new Date-this._lastToggle.time<500)return;return this._isMouseLeftButtonDown=!1,s.isExpanded?s.collapse():s.expand(),this._lastToggle={time:new Date,item:s},void this._internalRefresh()}this.canDrag=!0,i.isOnItemButton?this._updateCursor("ARROW"):this._updateCursor("CROSS"),s.isColumn?this._internalSelectMode="COL_SELECT":this._internalSelectMode="ROW_SELECT"}else this._internalSelectMode="CELLS_SELECT";var n=this._pivotCells._hitTest(this._currentPosition);n&&this._raisePivotCellMouseEvent(n.pivotRow,n.pivotColumn,"pivotcellmousedown","left")||(null==this.activeEditor.Editor&&this._updateSelection(),this._refreshMouseCursor())}}},onMouseRightButtonDown:function(t){this._timeLastDown=new Date;var e={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,e);if(null==i){var s=this._pivotCells._hitTest(this._currentPosition);s&&this._raisePivotCellMouseEvent(s.pivotRow,s.pivotColumn,"pivotcellmousedown","right")}else this._raisePivotItemMouseEvent(i,"pivotitemmousedown","right")},onMouseRightButtonUp:function(t){var e=this._pivotCells._hitTest(this._currentPosition);e&&this._raisePivotCellMouseEvent(e.pivotRow,e.pivotColumn,"pivotcellmouseup","right"),this._timeLastUp=new Date},_itemMouseMove:function(t,e){if(this.resizingItem)this.isHorizontalResize?this._updateCursor("COLUMN_RESIZE"):this._updateCursor("ROW_RESIZE");else{this._menuElement._itemMouseOver!=e&&this._hideItemMenuElement(),this._updateCursor("CROSS");var i={x:e.x,y:e.y,width:e.getDisplayWidth(),height:e.getDisplayHeight()};if(e.isColumn?i.x+=e.hierarchy.x-this._offsetX:i.y+=e.hierarchy.y-this._offsetY,e.IsRowsHierarchyItem&&_pivotRows.compactStyleRenderingEnabled&&(i.height=e.height),i.right=i.x+i.width,i.bottom=i.y+i.height,Math.abs(i.right-t.x)<=4&&t.y>=i.y&&t.y<=i.bottom){if(this.isHorizontalResize=!0,e.hierarchy.resizable&&!this._pivotColumns.isGroupingColumn(e)){if(this._updateCursor("COLUMN_RESIZE"),this.resizingItem=e.isColumn?e._getLastVisibleLeaf(e):e,!this.resizingItem.isColumn&&!this.resizingItem.isExpanded){var s=this._pivotRows._getVisibleLeafLevelItems();for(var n in s){var o=s[n];o.ItemLevel>this.resizingItem.ItemLevel&&(this.resizingItem=o)}}this._colResizeState="READY_RESIZE"}}else{if(!e.isColumn&&Math.abs(i.bottom-t.y)<=3)return this.isHorizontalResize=!1,e.IsRowsHierarchyItem&&this._pivotRows.compactStyleRenderingEnabled||(e=e._getLastVisibleLeaf(e)),void(e.hierarchy.resizable&&(this._updateCursor("ROW_RESIZE"),this.resizingItem=e,this._colResizeState="READY_RESIZE"));var r=e.hierarchy.getOtherHierarchy();e.hierarchy.sortable&&r.items.length>0&&this._hitTestShowItemMenuElement(t,e,i)}}},isInHierarchyViewPort:function(t,e){return e.isColumnsHierarchy?this.isPtInRect({x:t.x+this._offsetX,y:t.y},e.viewPort):this.isPtInRect({x:t.x,y:t.y+this._offsetY},e.viewPort)},_hitTestShowItemMenuElement:function(e,i,s){if(this._menuElement&&this._menuElement._itemMouseOver&&this._menuElement._itemMouseOver._element&&t(this._menuElement._itemMouseOver._element).find("#sortElement").show(),this._menuElement.style.display="none",!(this._isContextMenuOpen||i.valueItems.length>0)&&e.x<s.right&&e.x>s.x&&e.y>=s.y&&e.y<=s.bottom){var n=t.extend({},this._rect);n.x=n.y=0,"block"==this.vScroll[0].display&&(n.width-=this.vScroll.width()),"block"==this.hScroll[0].display&&(n.height-=this.hScroll.height());var o={x:this._currentPosition.x,y:this._currentPosition.y};if(o.x-=i.hierarchy.x-(i.hierarchy.viewPort.x-i.hierarchy.x),o.y-=i.hierarchy.y-(i.hierarchy.viewPort.y-i.hierarchy.y),menuRect={x:i.x+s.width-18,y:i.y+(s.height-16)/2+1,width:16,height:16},this._menuElement.style.height=menuRect.height+"px",this._menuElement.className=this.toThemeProperty("jqx-pivotgrid-menu-button"),i.isColumn?menuRect.x+=i.hierarchy.x-this._offsetX:menuRect.y+=i.hierarchy.y-this._offsetY,this.setElementPosition(this._menuElement,menuRect.x,menuRect.y),this.isPtInRect({x:menuRect.x,y:menuRect.y},n)&&this.isPtInRect({x:menuRect.x,y:menuRect.y+menuRect.height},n)&&this.isPtInRect({x:menuRect.x+menuRect.width,y:menuRect.y},n)&&this.isPtInRect({x:menuRect.x+menuRect.width,y:menuRect.y+menuRect.height},n)){if(this._menuElement.style.display="block",this._menuElement._itemMouseOver=i,t(this._menuElement._itemMouseOver._element).find("#sortElement").hide(),!i._currentCustomContent){var r=t(i._element).css("background-color");this._menuElement.style["background-color"]=r}i.isColumn?menuRect.x+=this._offsetX-i.hierarchy.x:menuRect.y+=this._offsetY-i.hierarchy.y,this.isPtInRect({x:o.x,y:o.y},menuRect)&&(this._itemMenuButtonMouseOver=!0)}}},_hideItemMenuElement:function(){this._menuElement&&!this._isContextMenuOpen&&"block"==this._menuElement.style.display&&(this._menuElement.style.display="none",t(this._menuElement._itemMouseOver._element).find("#sortElement").show())},_hideItemContextMenu:function(){this._contextMenu.jqxMenu("close"),this._hideItemMenuElement()},_showItemContextMenu:function(){var t=this._menuElement._itemMouseOver;if(t){var e=this._contextMenu.width(),i=this._contextMenu.height();this._contextMenu.find("#sortasc")[0].className="jqx-pivotgrid-sortasc-icon "+this.toThemeProperty("jqx-pivotgrid-sortasc-icon"),this._contextMenu.find("#sortdesc")[0].className="jqx-pivotgrid-sortdesc-icon "+this.toThemeProperty("jqx-pivotgrid-sortdesc-icon"),this._contextMenu.find("#sortremove")[0].className="jqx-pivotgrid-sortremove-icon "+this.toThemeProperty("jqx-pivotgrid-sortremove-icon");var s=-e+t.displayWidth+t.x+(t.hierarchy.viewPort.x-this._offsetX)-this._offsetX;t.isColumn||(s=t.x+t.displayWidth);var n=t.y+t.getDisplayHeight();t.isColumn||(n=t.y-this._offsetY+t.hierarchy.y),s<=1&&(s=1),n<this._pivotColumns.y+this._pivotColumns.getHeight()&&(n=this._pivotColumns.y+this._pivotColumns.getHeight()),n+i>this._rect.height&&(n=this._rect.height-i),this._contextMenu.jqxMenu("open",s+this._rect.x,n+this._rect.y),this._contextMenu.focus()}},_handleMouseMove:function(t){if("RESIZING"==this._colResizeState)return this._doResize({x:this._currentPosition.x,y:this._currentPosition.y}),void this._refreshMouseCursor();this._colResizeState="NO_RESIZE",this.resizingItem=null;var e=this._currentPosition,i=null;this.isInHierarchyViewPort({x:e.x,y:e.y},this._pivotColumns)&&(i=this._pivotColumns.hitTest(e));var s=null;if(this.isInHierarchyViewPort({x:e.x,y:e.y},this._pivotRows)&&(s=this._pivotRows.hitTest(e)),this._itemMenuButtonMouseOver=!1,null!=i||null!=s){var n=null==i?s:i;this.gridCellMouseOver=null,this._itemMouseMove(e,n),this._focusedItem!=n&&(this._focusedItem=n,this._isMouseLeftButtonDown&&this._updateSelection());l={};return this.CellsHighlightOnHierarchyItemMoveEnabled&&(n.IsRowsHierarchyItem&&"CELLS_HIGHLIGHT_ROW"==this.CellsHighlightMode||n.isColumn&&"CELLS_HIGHLIGHT_COLUMN"==this.CellsHighlightMode)&&(l=n.isColumn?{x:n.x,y:0,width:n.DisplayWidth,height:this._pivotRows.getHeight()}:{x:0,y:n.y,width:this._pivotColumns.getWidth(),height:n.getDisplayHeight()},(n.isColumn&&this.isGroupingEnabled&&this.groupingColumns.length>0||n.IsRowsHierarchyItem&&this._pivotRows.isOnRowDetails(this._currentPosition,n))&&(l={x:0,y:0,width:0,height:0})),void this._refreshMouseCursor()}this._hideItemMenuElement();this.gridCellMouseOver;this.resizingItem=null,this._focusedItem=null,this._colResizeState="NO_RESIZE",this._updateCursor("ARROW");var o=null;this.gridCellMouseOver&&((o={}).pivotColumn=this.gridCellMouseOver.pivotColumn,o.pivotRow=this.gridCellMouseOver.pivotRow);var r=this._pivotCells._hitTest(e);if(this._isMouseLeftButtonDown&&r){null!=this.gridCellMouseOver&&this.gridCellMouseOver.pivotRow==s&&this.gridCellMouseOver.pivotColumn==i||(this.gridCellMouseOver={pivotRow:r.pivotRow,pivotColumn:r.pivotColumn,pivotCells:this._pivotCells});var l={x:0,y:0,width:0,height:0};"CELLS_HIGHLIGHT_COLUMN"==this.cellsHighlightMode?l={x:this.gridCellMouseOver.pivotColumn.x,y:0,width:this.gridCellMouseOver.pivotColumn.getDisplayWidth(),height:this._pivotRows.getHeight()}:"CELLS_HIGHLIGHT_ROW"==this.cellsHighlightMode?l={x:0,y:this.gridCellMouseOver.pivotRow.y,width:this._pivotColumns.getWidth(),height:this.gridCellMouseOver.pivotRow.getDisplayHeight()}:"CELLS_HIGHLIGHT_SINGLE_CELL"==this.cellsHighlightMode&&(l={x:this.gridCellMouseOver.pivotColumn.x,y:this.gridCellMouseOver.pivotRow.y,width:this._pivotColumns.getWidth(),height:this.gridCellMouseOver.pivotRow.getDisplayHeight()},this.isGroupingEnabled&&this.groupingColumns.length>0&&this.gridCellMouseOver.pivotRow.items.length>0&&(l={x:0,y:0,width:0,height:0}),this.gridCellMouseOver.pivotRow.RowDetailsVisible&&(l.height-=this.gridCellMouseOver.pivotRow.GetRowDetailsHeight())),(this._pivotColumns.isGroupingColumn(this.gridCellMouseOver.pivotColumn)||this._pivotRows.isOnRowDetails(this._currentPosition,this.gridCellMouseOver.pivotRow))&&(l={x:0,y:0,width:0,height:0})}else this.gridCellMouseOver=null;null==this.gridCellMouseOver||this.gridCellMouseOver==o&&o.pivotRow==this.gridCellMouseOver.pivotRow&&o.pivotColumn==this.gridCellMouseOver.pivotColumn||this._isMouseLeftButtonDown&&!this._itemMenuButtonMouseOver&&(this._updateSelection(),this._internalRefresh())},_handleMouseClick:function(t){var e={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,e);if(null!=i){if(o=this._raisePivotItemMouseEvent(i,"pivotitemclick",0==t.button?"left":"right"))return void(t.cancel=!0);if(this._itemMenuButtonMouseOver||this._isContextMenuOpen)return;if(this._isMouseLeftButtonDown&&!e.isOnItemButton&&"Automatic"==i.sortMode&&0==i.valueItems.length){var s=this.cursor;this.cursor="Wait",this.cursor=s}}else{var n=this._pivotCells._hitTest(this._currentPosition);if(n){var o=this._raisePivotCellMouseEvent(n.pivotRow,n.pivotColumn,"pivotcellclick",0==t.button?"left":"right");if(o)return void(t.cancel=!0)}}},_handleMouseDoubleClick:function(t){if(null!=this.activeEditor.Editor){if(0==this.hideEditor("MOUSE_DBLCLICK",null,!0))return}if(!this._itemMenuButtonMouseOver&&!this._isContextMenuOpen){var e={isOnItemButton:!1},i=this._itemHitTest(this._currentPosition,e);if(null!=i){if(e.isOnMenuButton)return;if(n=this._raisePivotItemMouseEvent(i,"pivotitemdblclick",0==t.button?"left":"right"))return;if(this._lastToggle&&this._lastToggle.item==i&&new Date-this._lastToggle.time<500)return;0==t.button&&(i.isExpanded?i.collapse():i.expand(),i.hierarchy.selectItem(i),this._internalRefresh()),this._lastToggle={time:new Date,item:i}}else{var s=this._pivotCells._hitTest(this._currentPosition);if(s){var n=this._raisePivotCellMouseEvent(s.pivotRow,s.pivotColumn,"pivotcelldblclick",0==t.button?"left":"right");if(n)return}}this._refreshMouseCursor()}},_isMouseCaptured:function(){return!0===this._captured},_releaseMouseCapture:function(){this._captured=!1},_captureMouse:function(){this._captured=!0},_updateCursor:function(t){"ARROW"==t?this.element.style.cursor="default":"CROSS"==t?this.element.style.cursor="pointer":"COLUMN_RESIZE"==t?this.element.style.cursor="col-resize":"ROW_RESIZE"==t&&(this.element.style.cursor="row-resize")},_refreshMouseCursor:function(){},_ensureEditorFocus:function(){},focus:function(){},_itemHitTest:function(t,e){e.isOnItemButton=!1;var i=null;if(!this._pivotRows.isHidden&&this.isInHierarchyViewPort(t,this._pivotRows)&&(i=this._pivotRows.hitTest(t)),null==i&&!this._pivotColumns.isHidden&&this.isInHierarchyViewPort(t,this._pivotColumns)&&(i=this._pivotColumns.hitTest(t)),null!=i){var s={x:this._currentPosition.x,y:this._currentPosition.y};if(s.x-=i.hierarchy.x-(i.hierarchy.viewPort.x-i.hierarchy.x),s.y-=i.hierarchy.y-(i.hierarchy.viewPort.y-i.hierarchy.y),0!=i.items.length&&0!=i.expandCollapseEnabled&&i.hierarchy.showExpandCollapseButtons){var n=0;!i.hierarchy.isColumnsHierarchy&&i.hierarchy.compactStyleRenderingEnabled&&(n=24*i.itemLevel),s.x>i.x+9+n&&s.x<i.x+20+n&&s.y>i.y+9&&s.y<i.y+20&&(e.isOnItemButton=!0)}var o={x:i.x,y:i.y,width:i.getDisplayWidth(),height:i.getDisplayHeight()},r={x:i.x+o.width-16,y:i.y,width:16,height:o.height};this.isPtInRect(s,r)&&i.hierarchy.sortable&&(e.isOnMenuButton=!0)}return i},_raisePivotCellMouseEvent:function(e,i,s,n){var o=new t.Event(s);return o.owner=this,o.args={pivotRow:e,pivotColumn:i,mousebutton:n,cancel:!1},this.host.trigger(o),!!o.args.cancel},_raisePivotItemMouseEvent:function(e,i,s){var n=new t.Event(i);return n.owner=this,n.args={pivotItem:e,mousebutton:s,cancel:!1},this.host.trigger(n),!!n.args.cancel},_beginDrag:function(t){},_endDrag:function(t){},_canDrop:function(t){},_doResize:function(e){if(null!=this.resizingItem&&this.resizingItem.hierarchy.resizable&&!this._pivotColumns.isGroupingColumn(this.resizingItem)){this.isHorizontalResize?this._updateCursor("COLUMN_RESIZE"):this._updateCursor("ROW_RESIZE"),this._focusedItem=this.resizingItem;var i={x:this.resizingItem.x+2*this.resizingItem.hierarchy.x-this.resizingItem.hierarchy.viewPort.x,y:this.resizingItem.y+2*this.resizingItem.hierarchy.y-this.resizingItem.hierarchy.viewPort.y},s=!1,n=(this.resizingItem.hierarchy,t("body").find("#"+this._resizeLineId));if(this.isHorizontalResize){var o=e.x-i.x;if(o<this.resizingItem.minimumWidth)return;l={x:e.x+this._rect.x,y:this._pivotRows.y+this._rect.y};n.css({"border-right":"1px dotted #555","border-bottom":"",width:"1px",height:this._pivotCells.viewPort.height,top:l.y,left:l.x,display:"block"}),o>=this.resizingItem.minimumWidth&&o<=this.resizingItem.maximumWidth&&(this.resizeTooltipEnabled&&(this._resizeTooltip.Content="width: "+o+" pixels"),s=!0)}else{var r=e.y-i.y;if(r<this.resizingItem.minimumHeight)return;var l={x:this._pivotColumns.x+this._rect.x,y:e.y+this._rect.y};n.css({"border-bottom":"1px dotted #555","border-right":"",height:"1px",width:this._pivotCells.viewPort.width,left:l.x,top:l.y,display:"block",zIndex:5e4}),r>=this.resizingItem.minimumHeight&&r<=this.resizingItem.maximumHeight&&(this.resizeTooltipEnabled&&(this._resizeTooltip.Content="height: "+r+" pixels"),s=!0)}s&&this.resizeTooltipEnabled&&(this._resizeTooltip.visibility!=visibility.visible&&(this._resizeTooltip.visibility=visibility.visible),_resizeTooltip.setValue(Canvas.LeftProperty,e.x),_resizeTooltip.setValue(Canvas.TopProperty,e.y),_resizeTooltip.setValue(Canvas.ZIndexProperty,10002))}},_internalClearSelection:function(){this._pivotColumns._internalClearSelection(),this._pivotRows._internalClearSelection(),this._pivotCells._internalClearSelection()},_beginSelectionUpdate:function(){this._isCTRLPressed&&this.multipleSelectionEnabled||(this._pivotCells._beginSelectionUpdate(),this._pivotColumns._beginSelectionUpdate(),this._pivotRows._beginSelectionUpdate())},_endSelectionUpdate:function(){this._pivotColumns._endSelectionUpdate(),this._pivotRows._endSelectionUpdate(),this._pivotCells._endSelectionUpdate()},_updateSelection:function(){if(this.selectionEnabled){this._colItemRangeSelectionBeg=null,this._rowItemRangeSelectionBeg=null,this._beginSelectionUpdate();var t=!1;if(this._isCTRLPressed&&0!=this.multipleSelectionEnabled||(this._internalClearSelection(),t=!0),null!=this.activeEditor.Editor)return this._internalClearSelection(),void this._endSelectionUpdate();var e=-1,i=-1,s={x:this._selectStartPosition.x,y:this._selectStartPosition.y};s.y-=this._offsetY,s.x-=this._offsetX;var n={isOnItemButton:!1},o=this._itemHitTest(this._selectStartPosition,n);if(null!=o)if(!o.isColumn&&this._pivotRows.compactStyleRenderingEnabled||(o=o._getFirstVisibleLeaf(o)),o.isColumn){if("FULL_ROW_SELECT"==this.selectionMode)return this._internalSelectMode="NO_SELECT",void this._endSelectionUpdate();this._internalSelectMode="COL_SELECT",this._colItemRangeSelectionBeg=o}else{if("FULL_COLUMN_SELECT"==this.selectionMode)return this._internalSelectMode="NO_SELECT",this._endSelectionUpdate(),void this._internalRefresh();this._internalSelectMode="ROW_SELECT",this._rowItemRangeSelectionBeg=o}else{if(!(a=this._pivotCells._hitTest(this._selectStartPosition)))return this._internalSelectMode="NO_SELECT",this._endSelectionUpdate(),void this._internalRefresh();this._internalSelectMode="CELLS_SELECT","FULL_ROW_SELECT"==this.selectionMode?this._internalSelectMode="ROW_SELECT":"FULL_COLUMN_SELECT"==this._SelectionMode&&(this._internalSelectMode="COL_SELECT")}var r={x:this._currentPosition.x,y:this._currentPosition.y};"COL_SELECT"==this._internalSelectMode?(r.y>=this._pivotColumns.y+this._pivotColumns.getHeight()&&(r.y=this._pivotColumns.y+this._pivotColumns.getHeight()-1),r.y<=this._pivotColumns.y&&(r.y=this._selectStartPosition.y),r.x<=this._pivotColumns.x&&(r.x=this._pivotColumns.x+1),r.x>=this._pivotColumns.x+this._pivotColumns.getWidth()&&(r.x=this._pivotColumns.x+this._pivotColumns.getWidth()-1)):"ROW_SELECT"==this._internalSelectMode?(r.y>=this._pivotRows.y+this._pivotRows.getHeight()&&(r.y=this._pivotRows.y+this._pivotRows.getHeight()-1),r.y<=this._pivotRows.y&&(r.y=this._pivotRows.y+1),r.x<=this._pivotRows.x&&(r.x=this._pivotRows.x+this._pivotRows.getWidth()-1),r.x>=this._pivotRows.x+this._pivotRows.getWidth()&&(r.x=this._pivotRows.x+this._pivotRows.getWidth()-1)):"CELLS_SELECT"==this._internalSelectMode&&(r.x<this._pivotColumns.x&&(r.x=this._pivotColumns.x+1),r.y<this._pivotRows.y&&(r.y=this._pivotRows.y+1)),this._colItemRangeSelectionEnd=null,this._rowItemRangeSelectionEnd=null;var l=-1,h=-1;if("COL_SELECT"==this._internalSelectMode||"ROW_SELECT"==this._internalSelectMode)if(null!=o){var a={},d=this._itemHitTest(r,a);if(null==d)return void this._endSelectionUpdate();!d.isColumn&&this._pivotRows.compactStyleRenderingEnabled||(d=d._getLastVisibleLeaf(d)),d.isColumn?this._colItemRangeSelectionEnd=d:this._rowItemRangeSelectionEnd=d}else this._pivotCells.hitTest(r,a),null!=a?(this._colItemRangeSelectionEnd=a.pivotColumn,this._rowItemRangeSelectionEnd=a.pivotRow):(this._colItemRangeSelectionEnd=null,this._rowItemRangeSelectionEnd=null);if("CELLS_SELECT"==this._internalSelectMode){a=this._pivotCells._hitTest(this._selectStartPosition);if(this._colItemRangeSelectionBeg=a.pivotColumn,this._rowItemRangeSelectionBeg=a.pivotRow,!a)return this._endSelectionUpdate(),void this._internalRefresh();if(s.x==r.x&&s.y==r.y||(this._pivotCells.hitTest(r,a),this._colItemRangeSelectionEnd=a.pivotColumn,this._rowItemRangeSelectionEnd=a.pivotRow),!a.pivotRow||!a.pivotColumn)return this._internalSelectMode="CELLS_SELECT",this._pivotCells._internalSelectCell(this._rowItemRangeSelectionBeg,this._colItemRangeSelectionBeg),this._cellKBRangeSelectionStart=this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._endSelectionUpdate(),void this._internalRefresh()}if(this._saveSelectedItemsRangeOrder(),this._adjustSelectedItemsOrder(t),"CELLS_SELECT"==this._internalSelectMode){var u=this._pivotRows._getVisibleLeafLevelItems(),c=this._pivotColumns._getVisibleLeafLevelItems(),i=this._pivotRows._pointToLeafItemIndexAbsolute(this._selectStartPosition),h=this._pivotRows._pointToLeafItemIndexAbsolute(r),e=this._pivotColumns._pointToLeafItemIndexAbsolute(this._selectStartPosition),l=this._pivotColumns._pointToLeafItemIndexAbsolute(r);if(-1==e&&-1==l||-1==i&&-1==h)return this._endSelectionUpdate(),void this._internalRefresh();if(-1==e&&(e=l),-1==l&&(l=e),-1==i&&(i=h),-1==h&&(h=i),l<e){v=e;e=l,l=v}if(h<i){var v=i;i=h,h=v}for(var m=i;m<=h&&m<u.length;m++)for(var p=u[m],_=e;_<=l&&_<c.length;_++){var g=c[_];this._pivotCells._internalSelectCell(p,g)}return this._cellKBRangeSelectionStart={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionEnd,pivotColumn:this._colItemRangeSelectionEnd,pivotCells:this._pivotCells},this._endSelectionUpdate(),void this._internalRefresh()}this._restoreSelectedItemsRangeOrder(),this._applyItemsMultiSelect(t),this._endSelectionUpdate(),this._internalRefresh()}},_saveSelectedItemsRangeOrder:function(){this._adjSelectedItemsSave.colBeg=this._colItemRangeSelectionBeg,this._adjSelectedItemsSave.colEnd=this._colItemRangeSelectionEnd,this._adjSelectedItemsSave.rowBeg=this._rowItemRangeSelectionBeg,this._adjSelectedItemsSave.rowEnd=this._rowItemRangeSelectionEnd},_restoreSelectedItemsRangeOrder:function(){this._colItemRangeSelectionBeg=this._adjSelectedItemsSave.colBeg,this._colItemRangeSelectionEnd=this._adjSelectedItemsSave.colEnd,this._rowItemRangeSelectionBeg=this._adjSelectedItemsSave.rowBeg,this._rowItemRangeSelectionEnd=this._adjSelectedItemsSave.rowEnd},_adjustSelectedItemsOrder:function(t){if(null!=this._colItemRangeSelectionBeg&&null!=this._colItemRangeSelectionEnd&&this._colItemRangeSelectionBeg.x>this._colItemRangeSelectionEnd.x){e=this._colItemRangeSelectionBeg;this._colItemRangeSelectionBeg=this._colItemRangeSelectionEnd,this._colItemRangeSelectionEnd=e}if(null!=this._rowItemRangeSelectionBeg&&null!=this._rowItemRangeSelectionEnd&&this._rowItemRangeSelectionBeg.y>this._rowItemRangeSelectionEnd.y){var e=this._rowItemRangeSelectionBeg;this._rowItemRangeSelectionBeg=this._rowItemRangeSelectionEnd,this._rowItemRangeSelectionEnd=e}(0==this.multipleSelectionEnabled&&!t||null==this._rowItemRangeSelectionEnd)&&(this._rowItemRangeSelectionEnd=this._rowItemRangeSelectionBeg),(0==this.multipleSelectionEnabled&&!t||null==this._colItemRangeSelectionEnd)&&(this._colItemRangeSelectionEnd=this._colItemRangeSelectionBeg)},_applyItemsMultiSelect:function(t){this._saveSelectedItemsRangeOrder(),this._adjustSelectedItemsOrder(t);for(var e=0;e<2;e++)if(!("COL_SELECT"==this._internalSelectMode&&0!=e||"ROW_SELECT"==this._internalSelectMode&&1!=e)){var i=0==e?this._colItemRangeSelectionBeg:this._rowItemRangeSelectionBeg,s=0==e?this._colItemRangeSelectionEnd:this._rowItemRangeSelectionEnd,n=0==e?this._pivotColumns:this._pivotRows,o=n._getVisibleLeafLevelItems();if(null==o)return this._internalRefresh(),void this._restoreSelectedItemsRangeOrder();var r=!1;for(var l in o){var h=o[l];if((h==i||r)&&(h.getWidthWithChildren()+h.x>this._mostRightItemBounds.x+this._mostRightItemBounds.width&&(this._mostRightItemBounds={x:h.x,y:h.y,width:h.getWidthWithChildren(),height:h.getHeightWithChildren()}),h.getWidthWithChildren()+h.x<this._mostLeftItemBounds.x+this._mostLeftItemBounds.width&&(this._mostLeftItemBounds={x:h.x,y:h.y,width:h.getWidthWithChildren(),height:h.getHeightWithChildren()}),r=!0,n._internalSelectItem(h),h==s))break}!n.isColumnsHierarchy&&n.compactStyleRenderingEnabled||n._applySelectionToParentItems()}this._restoreSelectedItemsRangeOrder()},localizeStrings:function(e,i){var s=this;t.jqx.dataFormat&&t.jqx.dataFormat.cleardatescache(),s._localizedStrings={decimalseparator:".",thousandsseparator:",",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",alignment:"Text alignment",cellalignment:"Number alignment",numberformat:"Number format",prefix:"Number prefix",decimalplacestext:"Decimal places",thousandsseparatortext:"Thousands separator",decimalseparatortext:"Decimal separator",nagativebracketstext:"Nagatives in brackets",fieldsettings:"Field settings",ok:"Ok",cancel:"Cancel"};var n=t.extend({},e);s._localizedStrings=t.extend(s._localizedStrings,n);for(var o in n)o&&o.toLowerCase()!==o&&(n[o.toLowerCase()]=n[o]);for(var r in s._localizedStrings)void 0!==n[r]&&(s._localizedStrings[r]=n[r])}})}(jqxBaseFramework),$.jqx.jqxPivotGrid=$.jqx.jqxPivotGrid||{},$.jqx.define($.jqx.jqxPivotGrid,"propertyBag",""),$.extend($.jqx.jqxPivotGrid.propertyBag.prototype,{defineInstance:function(){this.namedPropertyTables={},this._tableSizes={},this.enablePropertyChangeNotifications=!1},getPropertyTable:function(t){return void 0==this.namedPropertyTables[t]&&(this.namedPropertyTables[t]={},this._tableSizes[t]=0),this.namedPropertyTables[t]},getPropertyCount:function(t){return null==this.getPropertyTable(t)?0:this._tableSizes[t]},getPropertyValue:function(t,e){var i=this.getPropertyTable(t);return null==i?null:void 0!=i[e]?i[e]:null},containsPropertyValue:function(t,e){var i=this.getPropertyTable(t);return null!=i&&void 0!=i[e]},removePropertyValue:function(t,e){var i=this.getPropertyTable(t);null!=i&&(delete i[e],this._tableSizes[t]--)},setPropertyValue:function(t,e,i){var s=this.getPropertyTable(t);null!=s&&(null==i||void 0==i?s[e]&&(this._tableSizes[t]--,delete s[e]):(s[e]||this._tableSizes[t]++,s[e]=i),this.enablePropertyChangeNotifications&&this.onPropertyChanged(t))},clear:function(t){if(""!=t&&null!=t&&void 0!=t){this.getPropertyTable(t);({}),this._tableSizes[t]=0}else this.namedPropertyTables={}},onPropertyChanged:function(t){$.event.trigger("propertychanged",t)}}),function(t){t.jqx.jqxPivotGrid=t.jqx.jqxPivotGrid||{},t.jqx.define(t.jqx.jqxPivotGrid,"pivotCells",""),t.extend(t.jqx.jqxPivotGrid.pivotCells.prototype,{defineInstance:function(){this.parentPivotGrid=null,this.IsDataBoundPivotCellsEditable=!1,this.cellProperties=new t.jqx.jqxPivotGrid.propertyBag,this.hashCellAutoSize={},this.hashCellInSpan={},this.hashCellSpan={},this._selectedCells=new Object},hitTest:function(t){var e=this._hitTest(t);if(e)return{pivotRow:e.pivotRow,pivotColumn:e.pivotColumn,pivotCells:this}},_hitTest:function(t){var e={};if(e.pivotColumn=this.parentPivotGrid._pivotColumns._pointToLeafItemAbsolute(t),e.pivotRow=this.parentPivotGrid._pivotRows._pointToLeafItemAbsolute(t),!this.parentPivotGrid._pivotColumns.isGroupingColumn(e.pivotColumn)&&null!=e.pivotColumn&&null!=e.pivotRow)return e},clear:function(){this._reset()},_reset:function(){this.cellProperties.clear(),this._selectedCells=new Object,this.hashCellAutoSize={},this.hashCellInSpan={},this.hashCellSpan={},this._clearElementsAndCellsCache()},_resetCanvas:function(){var e=t.jqx.get(this,"renderCanvas");if(e)for(;e.hasChildNodes();)e.removeChild(e.firstChild)},_clearElementsAndCellsCache:function(){this._clearCellsCache()},setCellValue:function(t,e,i){if(null!=t&&null!=e){var s=this.parentPivotGrid.getCellId(e,t),n=(this.getCellDataSource(t,e),-1!=t.BoundFieldIndex&&-1!=e.BoundFieldIndex);if("DataBound"==dsType&&n){if(this.parentPivotGrid.OnCellValueChanging(t,e,i))return;try{this.parentPivotGrid.setCellValueFromDataSourceNonPivot(t,e,i)}catch(t){return}return this.cellProperties.setPropertyValue("CellValue",s,null),void this.parentPivotGrid.OnCellValueChanged(t,e)}if("DataBoundPivot"==dsType){if(this.IsDataBoundPivotCellsEditable)return;throw"The cell's value is derived from the data source and aggregated. It is not editable in this mode. Use the SetCellDataSource method to change the cell's data source first"}this.parentPivotGrid.OnCellValueChanging(t,e,i)||(this.SetCellDataSource(t,e,"Static"),this.cellProperties.setPropertyValue("CellValue",s,i),this.onPropertyChanged("CellValue"),this.parentPivotGrid.OnCellValueChanged(t,e))}},_clearCellsCache:function(){this.cellProperties.clear("CellValue")},_clearCachedCell:function(t,e){var i=this.parentPivotGrid.getCellId(e,t);this.cellProperties.containsPropertyValue("CellValue",i)&&this.cellProperties.removePropertyValue("CellValue",i)},drillThroughCell:function(t,e){if(!t||t.isColumn)throw"Invalid pivotRow parameter";if(!e||!e.isColumn)throw"Invalid pivotColumn parameter";return this.parentPivotGrid.source.drillThroughPivotCell(t.adapterItem,e.adapterItem)},getCellValue:function(t,e){var i=null;if(this.parentPivotGrid._pivotColumns.isGroupingColumn(e))return null;var s=this.parentPivotGrid.getCellId(e,t),n=this.getCellDataSource(t,e);switch((t.isTotal||e.isTotal)&&(n="Virtual"),n){case"Virtual":i=this.parentPivotGrid.onCellValueNeeded(t,e),this.cellProperties.setDirty(s),null==i&&"BoundPivot"==this.parentPivotGrid.bindingState&&(t.isTotal||e.isTotal)&&(i=this.parentPivotGrid.getCellValueFromDataSource(t,e));break;case"DataBoundPivot":null==(i=this.cellProperties.getPropertyValue("CellValue",s))&&(i=this.parentPivotGrid.source.getCellValue(t.adapterItem,e.adapterItem),this.cellProperties.getPropertyCount("CellValue")<4e6&&this.cellProperties.setPropertyValue("CellValue",s,i));break;case"DataBound":if(null==(i=this.cellProperties.getPropertyValue("CellValue",s))){try{i=this.parentPivotGrid.getCellValueFromDataSourceNonPivot(t,e)}catch(t){return null}this.cellProperties.getPropertyCount("CellValue")<4e6&&this.cellProperties.setPropertyValue("CellValue",s,i)}break;case"NotSet":case"Static":default:i=this.cellProperties.getPropertyValue("CellValue",s)}return i},setCellDataSource:function(t,e,i){if(null!=t&&null!=e){var s=this.parentPivotGrid.getCellId(e,t);this.cellProperties.setPropertyValue("cellDataSource",s,i)}},getCellDataSource:function(t,e){var i=this.parentPivotGrid.getCellId(e,t),s=this.cellProperties.getPropertyValue("cellDataSource",i);return null==s&&(s=e.cellDataSource),null!=s&&"NotSet"!=s||(s=t.cellDataSource),null!=s&&"NotSet"!=s?s:this.parentPivotGrid.UseVirtualCellsByDefault?"Virtual":"DataBound"==this.parentPivotGrid.bindingState||"DataBoundPivot"==this.parentPivotGrid.bindingState?this.parentPivotGrid.bindingState:"NotSet"},render:function(){var e=this.renderCanvas;if(e){var i=this.parentPivotGrid;i.setElementPosition(e,-this.parentPivotGrid._offsetX,-this.parentPivotGrid._offsetY);var s=i._pivotRows,n=i._pivotColumns;if(this._refreshRequired||s._isVirtualMode||n._isVirtualMode){var o=s._getLeafItemsToRender(),r=n._getLeafItemsToRender();this._cellElements=this._cellElements||{};for(var l=new Array,h=new Date,a={first:s._isVirtualMode?o.first:0,last:s._isVirtualMode?o.last:o.items.length-1},d={first:n._isVirtualMode?r.first:0,last:n._isVirtualMode?r.last:r.items.length-1},u=a.last;u>=a.first;u--)for(var c=d.last;c>=d.first;c--)if(-1!=u&&-1!=c){var v=o.items[u],m=r.items[c],p=i.getCellId(m,v),_=m.getDisplayWidth()-1,g=v.getDisplayHeight()-1,C=this.isCellSelected(v,m),f=this._cellElements[p],y=void 0;f&&f.isSelected==C&&(y=f.element);var x={left:4,top:4,right:4,bottom:4},I=this.getCellValue(v,m),S="";if(y)y.style.width==_+"px"&&y.style.height==g+"px"||this.parentPivotGrid.setElementSize(y,_,g);else{(y=i.createDiv(e,S,_,g)).cellId=p,this._cellElements[p]={element:y,isSelected:C},i.setElementSize(y,_,g);var R="right";if(i.cellsRenderer&&t.isFunction(i.cellsRenderer))S=i.cellsRenderer({value:I.value,formattedValue:I.formattedValue,isSelected:C,pivotRow:v,pivotColumn:m}),x={left:0,top:0,right:0,bottom:0};else{S=void 0!==I&&void 0!==I.formattedValue?I.formattedValue.toString():"";var w=this.parentPivotGrid.source.getCellFormatSettings(v.adapterItem,m.adapterItem);w&&(R=w.align||"right")}this.parentPivotGrid.setDivContent(y,S,x,R),y.originalY=y.style.top,y.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-normal")}y.tRender=h,"block"!=y.style.display&&(y.style.display="block"),y.style.left==m.x+"px"&&y.style.top==v.y+"px"||this.parentPivotGrid.setElementPosition(y,m.x,v.y);var P="cellsClassName";this.isCellSelected(v,m)?(y.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-selected jqx-fill-state-hover jqx-widget-content"),P="cellsClassNameSelected"):y.className=this.parentPivotGrid.toThemeProperty("jqx-grid-cell-normal jqx-widget-content");var E=t.jqx.getByPriority([v[P],v.adapterItem&&v.adapterItem.boundField?v.adapterItem.boundField[P]:void 0,m[P],m.adapterItem&&m.adapterItem.boundField?m.adapterItem.boundField[P]:void 0]);E&&(y.className+=" "+E),y.className+=" jqx-pivotgrid-content-wrapper"}for(var b=0;b<e.childNodes.length;b++)e.childNodes[b].cellId&&e.childNodes[b].tRender!=h&&l.push(e.childNodes[b]);for(;;){if(!(y=l.pop()))break;delete this._cellElements[y.cellId],y.style.display="none",e.removeChild(y)}this._refreshRequired=!1}}},_beginSelectionUpdate:function(){for(var t in this._selectedCells)this._selectedCells[t].OldIsSelected=this._selectedCells[t].isSelected},_endSelectionUpdate:function(){var t=new Array;for(var e in this._selectedCells){var i=this._selectedCells[e];i.isSelected||t.push(e),i.isSelected,i.OldIsSelected}if(t.length>0)for(var e in t)delete this._selectedCells[t[e]]},_internalClearSelection:function(){for(var t in this._selectedCells)this._internalUnselectCell(this._selectedCells[t].pivotRow,this._selectedCells[t].pivotColumn)},clearSelection:function(){this._beginSelectionUpdate(),this._internalClearSelection(),this._endSelectionUpdate(),this.render()},selectCell:function(t,e){this.parentPivotGrid.selectionEnabled&&(this._beginSelectionUpdate(),this._internalSelectCell(t,e),this.parentPivotGrid._cellKBRangeSelectionStart={pivotRow:t,pivotColumn:e,pivotCells:this},this.parentPivotGrid._cellKBRangeSelectionEnd={pivotRow:t,pivotColumn:e,pivotCells:this},this._endSelectionUpdate())},_internalSelectCell:function(t,e){if(null==e||!this.parentPivotGrid._pivotColumns.isGroupingColumn(e)){if("NO_SELECT"==this.parentPivotGrid._internalSelectMode)switch(this.parentPivotGrid.selectionMode){case"CELL_SELECT":this.parentPivotGrid._internalSelectMode="CELLS_SELECT";break;case"FULL_COLUMN_SELECT":this.parentPivotGrid._internalSelectMode="COL_SELECT";break;case"FULL_ROW_SELECT":this.parentPivotGrid._internalSelectMode="ROW_SELECT"}var i=this.parentPivotGrid.getCellId(e,t);delete this._cellElements[i],void 0==this._selectedCells[i]?this._selectedCells[i]={pivotRow:t,pivotColumn:e,isSelected:!0}:this._selectedCells[i].isSelected=!0,this._refreshRequired=!0}},unselectCell:function(t,e){this._beginSelectionUpdate(),this._internalUnselectCell(t,e),this._endSelectionUpdate()},_internalUnselectCell:function(t,e){var i=this.parentPivotGrid.getCellId(e,t);void 0!=this._selectedCells[i]&&(this._selectedCells[i].isSelected=!1),delete this._cellElements[i],this._refreshRequired=!0},isCellSelected:function(t,e){var i=this.parentPivotGrid.getCellId(e,t);return!(!e.isSelected&&!t.isSelected)||void 0!=this._selectedCells[i]&&this._selectedCells[i].isSelected},getSelectedCellsCount:function(){return this._selectedCells.length},getSelectedCells:function(){var t=new Array;for(var e in this._selectedCells){var i=this._selectedCells[e];i.isSelected&&t.push({pivotRow:i.pivotRow,pivotColumn:i.pivotColumn,pivotCells:this})}return t},getNextCell:function(t,e){var i={};switch(e){case"left":i={x:t.pivotColumn.x-1,y:t.pivotRow.y+1};break;case"right":i={x:t.pivotColumn.x+t.pivotColumn.getWidth()+1,y:t.pivotRow.y+1};break;case"top":i={x:t.pivotColumn.x+1,y:t.pivotRow.y-1};break;case"bottom":i={x:t.pivotColumn.x+1,y:t.pivotRow.y+t.pivotRow.getHeight()+1}}var s={x:i.x+2*this.parentPivotGrid._pivotColumns.x-this.parentPivotGrid._pivotColumns.viewPort.x,y:i.y+2*this.parentPivotGrid._pivotRows.y-this.parentPivotGrid._pivotRows.viewPort.y},n=this._hitTest(s);if(n)return n}})}(jqxBaseFramework),function(t){t.jqx.jqxPivotGrid=t.jqx.jqxPivotGrid||{},t.jqx.jqxPivotGrid.pivotItem=function(t,e){this.text="Item",this.isExpanded=!1,this.expandCollapseEnabled=!0,this.isHidden=!1,this.isFiltered=!1,this.isSelected=!1,this._height=26,this._width=18,this.isDirty=!0,this.parentItem=t||null,this.hierarchy=e||t.hierarchy,this.parentPivotGrid=this.hierarchy.parentPivotGrid,this.id=this.parentPivotGrid.genId(),this.itemLevel=0,this.itemColumn=0,this._itemOrdinal=NaN,this.x=0,this.y=0,this.hierarchyItemWidth=70,this.hierarchyItemHeight=26,this.widthWithChildrenCached=0,this.minimumWidth=18,this.maximumWidth=1e7,this.minimumHeight=8,this.maximumHeight=1/0,this.items=new Array,this.valueItems=new Array},t.extend(t.jqx.jqxPivotGrid.pivotItem.prototype,{_getChildItemsToRender:function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];i.isHidden||i.isFiltered||(t.push(i),i.isExpanded&&i._getChildItemsToRender(t))}},_calculateWidthWithChildren:function(){if(this.isHidden)this.widthWithChildrenCached=0;else{var t=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled;if(t)this.widthWithChildrenCached=this.hierarchy.getColumnWidth(0);else if(this.widthWithChildrenCached=this.getWidth(),null!=this.items&&null!=this.valueItems&&(this.getVisibleItemsCount()>0||!this.isColumn&&!t)){var e=0;if(this.isColumn){if(e=0,this.isExpanded)for(s=0;s<this.items.length;s++)this.items[s].isHidden||(e+=this.items[s].getWidthWithChildren());for(s=0;s<this.valueItems.length;s++)this.valueItems[s].isHidden||(e+=this.valueItems[s].getWidthWithChildren())}else for(var i=this.hierarchy.getMaxVisibleLevelDepth(),s=this.itemLevel;s<=i;s++)e+=this.hierarchy.getColumnWidth(s);this.widthWithChildrenCached=e}else this.widthWithChildrenCached=this.getWidth()}},getWidthWithChildren:function(){return this.hierarchy._renderRequired&&this._calculateWidthWithChildren(),this.widthWithChildrenCached},getDisplayWidth:function(){if(!this.isDirty&&!this.hierarchy._renderRequired)return displayWidth;var t=this.hasVisibleValueItems();return this.isColumn?this.displayWidth=this.isExpanded||t?this.getWidthWithChildren():this.getWidth():(this.displayWidth=!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled?this.getWidthWithChildren():this.getWidth(),this.isExpanded||t||(this.displayWidth=this.hierarchy.getWidth()-this.x)),this.displayWidth<18&&(this.displayWidth=18),this.displayWidth},getWidth:function(){if(this.isHidden||this.isFiltered)return 0;if(null==this.hierarchy)return 0;var t=this.itemColumn;!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled&&(t=0);var e=this.minimumWidth;if(this.isColumn){if(e=this.hierarchyItemWidth,this.parentItem){var i=this.parentItem.getWidth();i>e&&this.parentItem.widthWithChildrenCached}}else e=this.hierarchy.getColumnWidth(t);return e},_measureElement:function(e){var i=t("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");t(document.body).append(i);var s=this.hierarchy.sortable?16:0,n={width:i.width()+s+8,height:i.height()+8};return i.remove(),n},autoResize:function(t){t||(t="fitItemContent"),this.isColumn?this.setWidth(this.minimumWidth):this.setHeight(this.minimumHeight),"default"!=t&&"fitAll"!=t&&"fitItemContent"!=t||this._autoResizeBestItemContent(t),"default"!=t&&"fitAll"!=t&&"fitItemContent"!=t||this.isColumn&&null!=this.parentItem&&this.getWidth()<this.parentItem.getWidth()&&this.setWidth(this.parentItem.getWidth())},_autoResizeBestItemContent:function(t){this._updateVisibleChildItemsCount(),sz=this._measureElement(this.text),"default"==t&&this.adapterItem.boundField&&(isNaN(this.adapterItem.boundField.width)||(sz.width=this.adapterItem.boundField.width),isNaN(this.adapterItem.boundField.height)||(sz.height=this.adapterItem.boundField.height)),this.itemColumn>=this.hierarchy._getColumnsCount()&&this.hierarchy._updateColumnsCount(),this._visibleChildItemsCount>0&&(sz.width+=30),(this.getWidth()<sz.width||"default"==t&&this.adapterItem.boundField&&!isNaN(this.adapterItem.boundField.width))&&this.setWidth(sz.width),this.isColumn?this.parentPivotGrid._pivotColumns.getHeight()<sz.height&&this.parentPivotGrid._pivotColumns.setRowHeight(this,sz.height):this.getHeight()<sz.height&&this.setHeight(sz.height);for(var e in this.items)this.items[e]._autoResizeBestItemContent(t);for(var e in this.valueItems)this.valueItems[e]._autoResizeBestItemContent(t);null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},_autoResizeBestCellFit:function(t){if(null!=this.hierarchy&&this.hierarchy._renderRequired&&this.hierarchy.render(),null!=this.hierarchy&&this.hierarchy.ColumnsCountRequresUpdate&&this.hierarchy._updateColumnsCount(),0==this.items.length&&0==this.valueItems.length){if(null!=this.hierarchy&&null!=this.parentPivotGrid&&null!=this.parentPivotGrid._pivotCells&&null!=this.parentPivotGrid._pivotRows&&null!=this.parentPivotGrid._pivotColumns){var e={width:1,height:1},i=(this.isColumn?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns,this._getVisibleLeafLevelItems());for(var s in i){i[s].isColumn||i[s],i[s].isColumn&&i[s];var n={width:10,height:10};e.width<n.width&&(e.width=n.width),e.height<n.height&&(e.height=n.height)}this.width<e.width&&this.setWidth(e.width),!this.isColumn&&this.getHeight()<e.height&&this.setHeight(e.height)}}else{for(var s in this.items)this.items[s]._autoResizeBestCellFit(t);for(var s in this.valueItems)this.valueItems[s]._autoResizeBestCellFit(t)}null!=hierarchyHost&&(hierarchyHost._renderRequired=!0)},setWidth:function(t){if(t<0)throw new Exception("Invalid pivotItem Width value. The value must greater than 0");if(null!=this.hierarchy){var e=this.itemColumn;!this.hierarchy.isColumnsHierarchy&&this.hierarchy.compactStyleRenderingEnabled&&(e=0),this.hierarchy._getColumnsCount()<e&&this.hierarchy._updateColumnsCount(),t<this.minimumWidth&&(t=this.minimumWidth),t>this.maximumWidth&&(t=this.maximumWidth),this.isColumn?this.hierarchyItemWidth=t:this.hierarchy.setColumnWidth(e,t),this.hierarchy._renderRequired=!0}},getHeight:function(){return this.isHidden||this.isFiltered?0:this.hierarchyItemHeight},setHeight:function(t){if(t<0||t>1e4)throw new Exception("Invalid pivotItem Height value. The value must be between 0 and 10000");t<this.minimumHeight&&(t=this.minimumHeight),t>this.maximumHeight&&(t=this.maximumHeight),this.hierarchyItemHeight=t,null!=this.hierarchy&&(this.hierarchy._renderRequired=!0)},_calculateHeightWithChildren:function(){if(this.isHidden||this.isFiltered)this.heightWithChildren=0;else{var t=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled;if(this.isExpanded||this.hasVisibleValueItems()){var e=0;if(this.isColumn){if(e=this.hierarchyItemHeight,h=0,this.isExpanded)for(s=0;s<this.items.length;s++){i=this.items[s].getHeightWithChildren();h<i&&(h=i)}for(s=0;s<this.valueItems.length;s++){var i=this.valueItems[s].getHeightWithChildren();h<i&&(h=i)}h>0&&(e+=h)}else{if(e=t?this.getHeight():0,this.isExpanded)for(s=0;s<this.items.length;s++)this.items[s].isHidden||this.items[s].isFiltered||(e+=this.items[s].getHeightWithChildren());for(var s=0;s<this.valueItems.length;s++)this.valueItems[s].isHidden||this.valueItems[s].isFiltered||(e+=this.valueItems[s].getHeightWithChildren())}this.heightWithChildren=e}else this.heightWithChildren=this.hierarchyItemHeight;this.IsRowDetailsVisible&&(this.heightWithChildren+=this.RowDetailsHeight)}},getHeightWithChildren:function(){return(this.hierarchy._renderRequired||this.isDirty)&&this._calculateHeightWithChildren(),this.heightWithChildren},getDisplayHeight:function(){var t=this.hasVisibleValueItems(),e=0;return this.isColumn?e=this.isExpanded||t?this.getTotalHeight():this.hierarchy.getHeight()-this.y:this.hierarchy.compactStyleRenderingEnabled?(e=this.getHeight(),this.IsRowDetailsVisible&&(e+=this.RowDetailsHeight)):e=this.getHeightWithChildren(),e<this.minimumHeight&&(e=this.minimumHeight),e},getTotalHeight:function(){return this.isHidden||this.isFiltered?0:this.hierarchyItemHeight+(this.IsRowDetailsVisible?this.RowDetailsHeight:0)},ensureVisible:function(){var t=this;if(!t.isVisible()){var e=t.hierarchy.parentPivotGrid.host;if(t.isColumn){var i=e.find("#divHScroll");t.x+t.getWidth()>t.hierarchy.viewPort.width?i.val(t.x+t.getWidth()-t.hierarchy.viewPort.width):i.val(t.x)}else{var s=e.find("#divVScroll");t.y+t.getHeight()>t.hierarchy.viewPort.height?s.val(t.y+t.getHeight()-t.hierarchy.viewPort.height):s.val(t.y)}}},isVisible:function(){return!this.isHidden&&!(this.y<this.hierarchy.viewPort.y-this.hierarchy.y||this.y+this.getDisplayHeight()>this.hierarchy.viewPort.y-this.hierarchy.y+this.hierarchy.viewPort.height||this.x<this.hierarchy.viewPort.x-this.hierarchy.x||this.x+this.getDisplayWidth()>this.hierarchy.viewPort.x-this.hierarchy.x+this.hierarchy.viewPort.width)},_updateVisibleChildItemsCount:function(){for(var t=0,e=0;e<this.items.length;e++)this.items[e].isHidden||this.items[e].isFiltered||t++;this._visibleChildItemsCount=t},render:function(t,e){this._updateVisibleChildItemsCount();if(this.isHidden||this.isFiltered)return!0;this.x=t,this.y=e;var i=!this.isColumn&&this.hierarchy.compactStyleRenderingEnabled,s=i?this.getTotalHeight():0;if(this.isExpanded)for(n=0;n<this.items.length;n++)if(!(o=this.items[n]).isHidden&&!o.isFiltered)if(this.isColumn){if(!o.render(this.x+s,e+this.getTotalHeight()))break;s+=o.getWidthWithChildren()}else{r=t;if(r+=i?0:this.getWidth(),!o.render(r,this.y+s))break;s+=o.getHeightWithChildren()}for(var n=0;n<this.valueItems.length;n++){var o=this.valueItems[n];if(!o.isHidden&&!o.isFiltered)if(this.isColumn){if(!o.render(this.x+s,e+this.getTotalHeight()))break;s+=o.getWidthWithChildren()}else{var r=t;if(r+=i?0:this.getWidth(),!o.render(r,this.y+s))break;s+=o.getHeightWithChildren()}}return this._calculateWidthWithChildren(),this._calculateHeightWithChildren(),!0},_getChildItemsDepth:function(){for(var t=0,e=0;e<this.items.length;e++)(i=this.items[e]._getChildItemsDepth())>t&&(t=i);for(e=0;e<this.valueItems.length;e++){var i=this.valueItems[e]._getChildItemsDepth();i>t&&(t=i)}return t+1},getTotalItemsCount:function(){var t=0;if(0==this.items.length&&0==this.valueItems.length)t=1;else{for(e=0;e<this.items.length;e++)t+=this.items[e].getTotalItemsCount();for(var e=0;e<this.valueItems.length;e++)t+=this.valueItems[e].getTotalItemsCount()}return t},hasVisibleValueItems:function(){for(var t=0;t<this.valueItems.length;t++){var e=this.valueItems[t];if(0==e.isHidden&&0==e.isFiltered)return!0}return!1},getVisibleItemsCount:function(){if(this.isHidden||this.isFiltered)return 0;var t=0;if(!(this.isExpanded&&0!=this.items.length||0!=this.valueItems.length))return t;t=0;for(e=0;e<this.items.length;e++)this.items[e].isHidden||this.items[e].isFiltered||t++;for(var e=0;e<this.valueItems.length;e++)this.valueItems[e].isHidden||this.valueItems[e].isFiltered||t++;return t},hitTest:function(t){if(this.isHidden||this.isFiltered)return null;var e=this.getDisplayHeight()+1,i=this.getDisplayWidth()+1;return t.x>=this.x&&t.x<=this.x+i&&t.y>=this.y&&t.y<=this.y+e?this:null},_expandInternal:function(e,i,s){if(0!=this.items.length&&this.expandCollapseEnabled&&this.isExpanded!=e){var n=new t.Event(this.isExpanded?"pivotitemcollapsing":"pivotitemexpanding");n.owner=this.hierarchy.parentPivotGrid,n.args={pivotItem:this},n.cancel=!1;var o=this.hierarchy.parentPivotGrid.host;if(o.trigger(n),!n.cancel&&(this.isExpanded=e,0!=this.items.length||0!=this.valueItems.length)){if(s){for(r=0;r<this.items.length;r++)this.items[r]._expandInternal(e,i,s);for(var r=0;r<this.valueItems.length;r++)this.valueItems[r]._expandInternal(e,i,s)}this.hierarchy._renderRequired=!0,i&&this.hierarchy._updateVisibleLeaves(),(n=new t.Event(this.isExpanded?"pivotitemexpanded":"pivotitemcollapsed")).owner=this.hierarchy.parentPivotGrid,n.args={pivotItem:this},o.trigger(n)}}},expand:function(){this._expandInternal(!0,!0,!1)},collapse:function(){this._expandInternal(!1,!0,!1)},_getFirstVisibleLeaf:function(t){if(t.isExpanded){for(var e=!1,i=0;i<t.items.length;i++)if(0==t.items[i].isHidden&&0==t.items[i].isFiltered){t=t.items[i],t=this._getFirstVisibleLeaf(t),e=!0;break}if(e)return t}if(t.hasVisibleValueItems){for(var e=!1,i=0;i<t.valueItems.length;i++)if(0==t.valueItems[i].isHidden&&0==t.valueItems[i].isFiltered){t=t.valueItems[i],t=this._getFirstVisibleLeaf(t),e=!0;break}if(e)return t}return t},_getLastVisibleLeaf:function(t){for(var e=!1,i=t.valueItems.length-1;i>=0;i--)if(0==t.valueItems[i].isHidden&&0==t.valueItems[i].isFiltered){t=t.valueItems[i],t=this._getLastVisibleLeaf(t),e=!0;break}if(e)return t;for(i=t.items.length-1;i>=0&&t.isExpanded;i--)if(0==t.items[i].isHidden&&0==t.items[i].isFiltered){t=t.items[i],t=this._getLastVisibleLeaf(t);break}return t}}),t.jqx.jqxPivotGrid.hierarchy=function(){this.parentPivotGrid=arguments[0],this._initDefaults()},t.extend(t.jqx.jqxPivotGrid.hierarchy.prototype,{_initDefaults:function(){this.columnWidths=new Array,this.rowHeights=new Array,this.items=new Array,this.valueItems=new Array,this.visibleLeafItems=new Array,this.viewPort=new Object,this.viewPort.x=0,this.viewPort.y=0,this.viewPort.width=1e4,this.viewPort.height=1e4,this.isFixed=!1,this.isHidden=!1,this.resizable=!0,this.sortable=!0,this._renderRequired=!0,this.maxVisibleLevelDepth=-1,this.showExpandCollapseButtons=!0,this.x=0,this.y=0,this._width=0,this._height=0,this.minColumnWidth=18,this._isColumnsCountRequresUpdate=!0,this._selectedItems=new Object,this.virtualModeThreshold=5e3,this._isVirtualMode=!0},isVisible:function(){return!this.isHidden},toggle:function(){this.isHidden?this.show():this.hide()},getOtherHierarchy:function(){return this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns},show:function(){this.isHidden=!1,this._renderRequired=!0,this.getOtherHierarchy()._renderRequired=!0},hide:function(){this.isHidden=!0,this._renderRequired=!0,this.getOtherHierarchy()._renderRequired=!0},refresh:function(){var e=this.parentPivotGrid,i=e.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-widget-header"),s=e.toThemeProperty("jqx-widget-content jqx-fill-state-normal jqx-widget-header"),n=t.jqx.get(this,"renderCanvas");if((this._renderRequired||this._refreshRequired)&&(this._renderRequired&&this.render(),!this.isHidden)){var o=new Array,r=new Date,l=this._getItemsToRender();if(l){for(R=0;R<l.length;R++){var h=l[R],a=h.getDisplayWidth()-1,d=h.getDisplayHeight()-1,u=h._element;if(t.isFunction(e.itemsRenderer)){var c=e.itemsRenderer(h);u&&h._currentCustomContent!=c&&(n.removeChild(u),u=h._element=null),h._currentCustomContent=c}if(!u){var v={left:4,top:4,right:4,bottom:4};!this.isColumnsHierarchy&&this.compactStyleRenderingEnabled&&(v.left+=h.itemLevel*this.compactStyleRenderingItemsIndent);var m=h.text,p="left";if(t.isFunction(e.itemsRenderer))m=h._currentCustomContent,v={left:0,top:0,right:0,bottom:0};else{var _="";0!=h.items.length&&h.hierarchy.showExpandCollapseButtons&&(_=h.isExpanded?"<div style='position: relative; top: 3px; padding: 5px; width: 11px; height: 11px;' class='jqx-pivotgrid-collapse-button'></div>":"<div style='position: relative; top: 3px; padding: 5px; width: 11px; height: 11px;' class='jqx-pivotgrid-expand-button'></div>");var g="";h.hierarchy._sortItem==h&&(g="<div id='sortElement' class='"+("desc"==h.hierarchy._sortOrder?"sortdesc jqx-grid-column-sortdescbutton "+this.parentPivotGrid.toThemeProperty("jqx-icon-arrow-down"):"sortasc jqx-grid-column-sortascbutton "+this.parentPivotGrid.toThemeProperty("jqx-icon-arrow-up"))+"' style='position: relative; float: right; padding-right: 8px; width: 16px; height: 100%;'></div>");var C=h.text;if(h.adapterItem.boundField&&(p=h.adapterItem.boundField.align||"left"),"center"!=(p=p.toString().toLowerCase())&&"right"!=p&&(p="left"),""!=g){var f=0,y=24;""!=_&&(y+=f=23),m=_+"<div><div style='left: "+f+"px; top: 0; position: absolute; height: 100%; width: calc(100% - "+y+"px); text-overflow: ellipsis; overflow: hidden;  white-space: nowrap;padding-left:"+v.left+"px; padding-top:"+v.top+"px; '>"+C+"</div><div style='left: 0; top: 0; position: absolute; height: 100%; width: 100%;'>"+g+"</div></div>"}else m=_+C+g}u=e.createDiv(n,"",a,d),e.setDivContent(u,m,v,p,!0),this.parentPivotGrid.getChild(u,"innerDiv").className="jqx-pivotgrid-item",e.setElementPosition(u,h.x,h.y),u.originalY=u.style.top}h.tRender=r;var x=h.isSelected?i:s,I=h.isSelected?"classNameSelected":"className",S=t.jqx.getByPriority([h[I],h.adapterItem&&h.adapterItem.boundField?h.adapterItem.boundField[I]:void 0,this.hierarchy?this.hierarchy[I]:void 0]);S&&(x+=" "+S),(x+=" jqx-pivotgrid-content-wrapper")!=u.className&&(u.className=x),u.style.display="block",u.item=h,h._element=u}for(var R=0;R<n.childNodes.length;R++)n.childNodes[R].item&&n.childNodes[R].item.tRender!=r&&o.push(n.childNodes[R]);for(;;){var w=o.pop();if(!w)break;n.childNodes.length>100?(w.item._element=void 0,n.removeChild(w)):w.item._element.style.display="none"}var P=this.isColumnsHierarchy?0:-e._offsetY,E=this.isColumnsHierarchy?-e._offsetX:0;e.setElementPosition(n,E,P),this._refreshRequired=!1}}},clear:function(){this._initDefaults(),this._resetCanvas(),this.items=[],this.valueItems=[],this._renderRequired=!0},_resetCanvas:function(){var e=t.jqx.get(this,"renderCanvas");if(e)for(;e.hasChildNodes();)e.firstChild.item._element=void 0,e.removeChild(e.firstChild)},autoResize:function(t){for(e=0;e<this.items.length;e++)this.items[e].autoResize(t);for(var e=0;e<this.valueItems.length;e++)this.valueItems[e].autoResize(t)},getMaxVisibleLevelDepth:function(){if(-1==this.maxVisibleLevelDepth||this._renderRequired){var t=this._getVisibleLeafLevelItems();this.maxVisibleLevelDepth=0;for(var e=0;e<t.length;e++)t[e].itemLevel>this.maxVisibleLevelDepth&&(this.maxVisibleLevelDepth=t[e].itemLevel)}return this.maxVisibleLevelDepth},getHierarchyDepth:function(){for(var t=0,e=0;e<this.items.length;e++)(i=this.items[e]._getChildItemsDepth())>t&&(t=i);for(e=0;e<this.valueItems.length;e++){var i=this.valueItems[e]._getChildItemsDepth();i>t&&(t=i)}return t},getSortItem:function(){return this._sortItem},getSortOrder:function(){return this._sortOrder},_fnAscSortComparer:function(t,e){var i=t.hierarchy.parentPivotGrid,s=(t.isColumn?i._pivotRows:i._pivotColumns)._sortItem;if(!s)return 0;if(t.adapterItem&&t.adapterItem.isTotal)return 1;if(e.adapterItem&&e.adapterItem.isTotal)return-1;var n=i._pivotCells,o=t.isColumn?n.getCellValue(s,t):n.getCellValue(t,s),r=e.isColumn?n.getCellValue(s,e):n.getCellValue(e,s);return o.value-r.value},_fnDescSortComparer:function(e,i){return e.adapterItem&&e.adapterItem.isTotal?1:i.adapterItem&&i.adapterItem.isTotal?-1:-1*t.jqx.jqxPivotGrid.hierarchy.prototype._fnAscSortComparer(e,i)},_collectionSort:function(t,e,i){if(this.parentPivotGrid&&this.parentPivotGrid._pivotCells){var s=this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns;t||(t=this.items),e||(e="asc"==s._sortOrder?this._fnAscSortComparer:this._fnDescSortComparer),this._isSorted&&!i&&this._collectionRemoveSort(t);for(var n=0;n<t.length;n++)t[n]._itemOrdinal=n,this._collectionSort(t[n].items,e,!0);t=t.sort(e),i||(this._isSorted=!0,this._renderRequired=!0,s._renderRequired=!0,this._updateVisibleLeaves())}},_collectionRemoveSort:function(t,e){if(this._isSorted){t||(t=this.items);for(var i=new Array(t.length),s=0;s<t.length;s++)i[t[s]._itemOrdinal]=t[s],this._collectionRemoveSort(t[s].items,!0);if(this.items=i,!e){this._renderRequired=!0,this._updateVisibleLeaves(),this.isColumnsHierarchy&&(this._isColumnsCountRequresUpdate=!0),this._isSorted=!1;var n=this.isColumnsHierarchy?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns;n._sortItem=void 0,n._sortOrder=void 0,n._renderRequired=!0}}},sortBy:function(e,i){if(e&&e.isColumn!=this.isColumnsHierarchy&&!(e.valueItems.length>0)){var s=new t.Event("sortchanging");s.owner=this.parentPivotGrid,s.args={pivotItem:e,sortOrder:i},s.cancel=!1;var n=this.parentPivotGrid.host;if(n.trigger(s),!s.cancel){this._collectionRemoveSort(this.items);var o=e.isColumn?this.parentPivotGrid._pivotColumns:this.parentPivotGrid._pivotRows;o._sortItem=e,o._sortOrder=i,this._collectionSort(),this.parentPivotGrid._internalRefresh(),(s=new t.Event("sortchanged")).owner=this.parentPivotGrid,s.args={pivotItem:e,sortOrder:i},(n=this.parentPivotGrid.host).trigger(s)}}},removeSort:function(){var e=this==this.parentPivotGrid._pivotColumns?this.parentPivotGrid._pivotRows:this.parentPivotGrid._pivotColumns,i=e._sortItem,s=e._sortOrder,n=new t.Event("sortremoving");n.owner=this.parentPivotGrid,n.args={pivotItem:i,sortOrder:s},n.cancel=!1;var o=this.parentPivotGrid.host;o.trigger(n),n.cancel||(this._collectionRemoveSort(this.items),this.parentPivotGrid._internalRefresh(),(n=new t.Event("sortremoved")).owner=this.parentPivotGrid,n.args={pivotItem:i,sortOrder:s},o.trigger(n))},_binSearchItems:function(t,e){return this._binSearchItems2(t,e,0,t.length)},_binSearchItems2:function(t,e,i,s){var n=i,o=s;if(o==n)return-1;for(var r=t[0].isColumn;n<o;){var l=parseInt((n+o)/2),h=t[l];if(r)if(h.x>e.x)o=l;else{if(!((l+1<o?t[l+1].x:h.x+h.getWidth())<e.x))return l;n=l+1}else if(h.y>e.y)o=l;else{if(!((l+1<o?t[l+1].y:h.y+h.getTotalHeight())<e.y))return l;n=l+1}}return-1},_pointToLeafItemIndex:function(t){this._renderRequired&&this.render();var e={x:t.x,y:t.y};e.x+=-this.x+this.viewPort.x,e.y+=-this.y+this.viewPort.y;var i=this._getVisibleLeafLevelItems();return this._binSearchItems(i,e)},_pointToLeafItem:function(t){var e=this._getVisibleLeafLevelItems(),i=this._pointToLeafItemIndex(t);return-1==i||i<0||i>=e.length?null:(e[i].lfIdx=i,e[i])},_pointToLeafItemIndexAbsolute:function(t){this._renderRequired&&this.render();this.viewPort.x,this.x,this.viewPort.y,this.y;var e={x:t.x,y:t.y};e.x-=this.x-(this.viewPort.x-this.x),e.y-=this.y-(this.viewPort.y-this.y);var i=this._getVisibleLeafLevelItems();return this._binSearchItems(i,e)},_pointToLeafItemAbsolute:function(t){var e=this._getVisibleLeafLevelItems(),i=this._pointToLeafItemIndexAbsolute(t);return-1==i||i<0||i>=e.length?null:(e[i].lfIdx=i,e[i])},_pointInRect:function(t,e){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},hitTest:function(t){this._renderRequired&&this.render();var e=this.viewPort.x-this.x,i=this.viewPort.y-this.y;if(!this._pointInRect({x:t.x+e,y:t.y+i},this.viewPort)||this.isHidden)return null;var s={x:t.x,y:t.y};s.x-=this.x-(this.viewPort.x-this.x),s.y-=this.y-(this.viewPort.y-this.y);var n=this._getVisibleLeafLevelItems(),o=this._binSearchItems(n,s);if(-1==o)return null;var r=n[o],l=r.hitTest(s);if(null!=l)return l;for(;null!=r;)if(null!=(r=r.parentItem)&&null!=(l=r.hitTest(s)))return l;return null},_addColumn:function(t){return t<this.minColumnWidth&&(t=this.minColumnWidth),this.columnWidths.push(t),this.columnWidths.length-1},setColumnWidth:function(t,e){return t>=this.columnWidths.length&&this._updateColumnsCount(t+1),e<this.minColumnWidth&&(e=this.minColumnWidth),t<this.columnWidths.length&&(this.columnWidths[t]=e),this._renderRequired=!0,!0},getColumnWidth:function(t){return t>=this.columnWidths.length?70:this.columnWidths[t]},_getVisibleLeaves:function(t,e,i){if(e.isHidden||e.isFiltered)return!0;if(0==e.items.length&&0==e.valueItems.length)return t.push(e),!0;if(i&&t.push(e),e.isExpanded)for(n=0;n<e.items.length;n++){var s=e.items[n];s.isHidden||s.isFiltered||(e.items.length>0&&s.isExpanded||s.hasVisibleValueItems()?this._getVisibleLeaves(t,s,i):t.push(s))}for(var n=0;n<e.valueItems.length;n++){var o=e.valueItems[n];o.isHidden||o.isFiltered||t.push(o)}return!0},_getVisibleLeafLevelItems:function(){return 0==this.visibleLeafItems.length&&this._updateVisibleLeaves(),this.visibleLeafItems},_updateVisibleLeaves:function(){if(this.visibleLeafItems=new Array,this.items.length+this.valueItems.length!=0){for(var t=!this.isColumnsHierarchy&&this.compactStyleRenderingEnabled,e=0;e<this.items.length;e++)(i=this.items[e]).isHidden||i.isFiltered||(i.isExpanded||i.hasVisibleValueItems()?this._getVisibleLeaves(this.visibleLeafItems,i,t):this.visibleLeafItems.push(i));for(e=0;e<this.valueItems.length;e++){var i=this.valueItems[e];i.isHidden||i.isFiltered||(i.isExpanded||i.hasVisibleValueItems()?this._getVisibleLeaves(this.visibleLeafItems,i,t):this.visibleLeafItems.push(i))}for(e=0;e<this.visibleLeafItems.length;e++)this.visibleLeafItems[e]._lfIndex=e;this._updateItemsLevelAndColumn()}},_getFirstLeafIndexToRender:function(){var t={x:this.x,y:this.y},e={x:t.x,y:t.y};return e.x-=this.x-(this.viewPort.x-this.x),e.y-=this.y-(this.viewPort.y-this.y),this._binSearchItems(this._getVisibleLeafLevelItems(),e)},_getLastLeafIndexToRender:function(){var t={x:Math.min(this.viewPort.width,this.getWidth())-5,y:Math.min(this.viewPort.height,this.getHeight())-5};return this._pointToLeafItemIndex(t)},_getLeafItemsToRender:function(){var t={};return t.items=this._getVisibleLeafLevelItems(),t.first=this._getFirstLeafIndexToRender(),t.last=this._getLastLeafIndexToRender(),t},_getItemsToRender:function(){var t=this._getLeafItemsToRender(),e=t.first,i=t.last;if(-1!=e&&-1!=i){var s={};for(r=e;r<=i;r++){var n=t.items[r];for(s[n.id]=n;null!=n.parentItem;)s[(n=n.parentItem).id]=n}var o=new Array;for(var r in s)o.push(s[r]);return o}},_updateItemsLevelAndColumn2:function(t,e){t.itemColumn=e,t.itemLevel=e;for(i=0;i<t.items.length;i++)this._updateItemsLevelAndColumn2(t.items[i],e+1);for(var i=0;i<t.valueItems.length;i++)this._updateItemsLevelAndColumn2(t.valueItems[i],e+1)},_updateItemsLevelAndColumn:function(){for(t=0;t<this.items.length;t++)this._updateItemsLevelAndColumn2(this.items[t],0);for(var t=0;t<this.valueItems.length;t++)this._updateItemsLevelAndColumn2(this.valueItems[t],0)},updateColumnsCount:function(){this.updateColumnsCount(0)},getTotalItemsCount:function(){var t=0;if(0==this.items.length&&0==this.valueItems.length)t=1;else{for(e=0;e<this.items.length;e++)t+=this.items[e].getTotalItemsCount();for(var e=0;e<this.valueItems.length;e++)t+=this.valueItems[e].getTotalItemsCount()}return t},_updateColumnsCount:function(t){var e=this._getColumnsCount(),i=this.getTotalItemsCount();if(t>1024&&(t=1024),this.isColumnsHierarchy)t>i&&(i=t);else{var s=this.getHierarchyDepth();i=t>s?desi:s}for(var n=e;n<i;n++)this._addColumn(70);this._isColumnsCountRequresUpdate=!1},_updateColumnsIndexes:function(){for(var t in this.items)this._updateItemsLevelAndColumn2(this.items[t],0);for(var t in this.valueItems)this._updateItemsLevelAndColumn2(this.valueItems[t],0)},_getColumnsCount:function(){return this.columnWidths.length},_getRenderedItems:function(){var t=new Array;return this._getChildItemsToRender(t),t},_getChildItemsToRender:function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];i.isHidden||i.isFiltered||(t.push(i),i.isExpanded&&i._getChildItemsToRender(t))}},getWidth:function(){return this._renderRequired&&this.render(),this._width},getHeight:function(){return this._renderRequired&&this.render(),this._height},_beginSelectionUpdate:function(){for(var t in this._selectedItems)this._selectedItems[t].OldIsSelected=this._selectedItems[t].isSelected},_endSelectionUpdate:function(){var e=new Array;for(var i in this._selectedItems){var s=this._selectedItems[i];if(s.isSelected||e.push(this._selectedItems[i]),s.isSelected!=s.OldIsSelected&&(null==s.parentItem||1==s.parentItem.isExpanded||s._isValueItem)){var n=new t.Event("pivotitemselectionchanged");n.owner=this.parentPivotGrid,n.args={pivotItem:s,selected:s.isSelected},this.parentPivotGrid.host.trigger(n)}}for(var i in e){var o=this._selectedItems[e[i].adapterItem.key];o.isSelected=o.OldIsSelected=!1,delete this._selectedItems[e[i].adapterItem.key]}},selectItem:function(t){this.parentPivotGrid.selectionEnabled&&(this._beginSelectionUpdate(),this._internalSelectItem(t),this._endSelectionUpdate())},_internalSelectItem:function(t){if(null!=t&&!(t.isColumn!=this.isColumnsHierarchy||this.isColumnsHierarchy&&this.isGroupingColumn(t))){var e=t.adapterItem.key;if(void 0==this._selectedItems[e]&&(this._selectedItems[e]=t),t.isSelected=!0,this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this.isColumnsHierarchy||!t.hierarchy.compactStyleRenderingEnabled){for(var i in t.items)this._internalSelectItem(t.items[i]);for(var i in t.valueItems)this._internalSelectItem(t.valueItems[i])}}},unselectItem:function(t){this._beginSelectionUpdate(),this._internalUnselectItem(t),this._endSelectionUpdate()},_internalUnselectItem:function(t){if(null!=t&&t.isColumn==this.isColumnsHierarchy){var e=t.adapterItem.key;if(this._selectedItems[e]&&(this._selectedItems[e].isSelected=!1,this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0),this.isColumnsHierarchy||!t.hierarchy.compactStyleRenderingEnabled){for(var i in t.items)this._internalUnselectItem(t.items[i]);for(var i in t.valueItems)this._internalUnselectItem(t.valueItems[i])}}},_internalClearSelection:function(){for(var t in this._selectedItems)this._internalUnselectItem(this._selectedItems[t])},clearSelection:function(){this._beginSelectionUpdate(),this._internalClearSelection(),this._endSelectionUpdate()},_applySelectionToParentItem:function(t){var e=t.parentItem;if(void 0!=e&&null!=e){var i=t.hierarchy,s=!0;if(e.isExpanded)for(var n in e.items)if(0==(o=e.items[n]).isSelected&&0==o.isHidden){s=!1;break}if(s)for(var n in e.valueItems){var o=e.valueItems[n];if(0==o.isSelected&&0==o.isHidden){s=!1;break}}if(s){var r=e.adapterItem.key;void 0==i._selectedItems[r]&&(i._selectedItems[r]=e),e.isSelected=!0,this._applySelectionToParentItem(e)}}},_applySelectionToParentItems:function(){for(var t in this._selectedItems)this._applySelectionToParentItem(this._selectedItems[t])},getSelectedItems:function(){var t=new Array;for(var e in this._selectedItems)this._selectedItems[e].isSelected&&t.push(e);return t}}),t.jqx.jqxPivotGrid.pivotRows=function(e){t.extend(this,new t.jqx.jqxPivotGrid.hierarchy),this.parentPivotGrid=e,this.isColumnsHierarchy=!1,this.compactStyleRenderingEnabled=!1,this.compactStyleRenderingItemsIndent=20},t.extend(t.jqx.jqxPivotGrid.pivotRows.prototype,t.jqx.jqxPivotGrid.hierarchy.prototype),t.extend(t.jqx.jqxPivotGrid.pivotRows.prototype,{setColumnWidth:function(t,e){return t>=this.columnWidths.Count&&this._updateColumnsCount(t+1),this.compactStyleRenderingEnabled&&(t=0),t<this.columnWidths.length&&(this.columnWidths[t]=e),this._renderRequired=!0,!0},updateBounds:function(){for(var t=0,e=0,i=0;i<2;i++)for(var s=0==i?this.items:this.valueItems,n=0;n<s.length;n++){var o=s[n];if(!o.isHidden){t+=o.getHeightWithChildren();var r=o.getWidthWithChildren();e<r&&(e=r)}}this._width=e,this._height=t+1},render:function(){if(!this._renderSuppressed){for(this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this.isRendering=!0,this._isColumnsCountRequresUpdate&&this._updateColumnsCount();this._getColumnsCount()<this.getHierarchyDepth();)t.jqx.get(this,"columnWidths").push(70);if(this._updateVisibleLeaves(),this.compactStyleRenderingEnabled){0==this.columnWidths.Count&&this._addColumn(70);var e=this.columnWidths[0],i=this.getHierarchyDepth();e<i*this.compactStyleRenderingItemsIndent&&(e=i*this.compactStyleRenderingItemsIndent),this.columnWidths[0]=e}this.updateBounds();var s=0;if(this.items.length+this.valueItems.length==0)return null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this.isRendering=!1,void(this._renderRequired=!1);for(var n=0;n<2;n++)for(var o=0==n?this.items:this.valueItems,r=0;r<o.length;r++){var l=o[r];if(null==l.hierarchy&&(l.hierarchy=this),!l.isHidden){var h=l.getHeightWithChildren();if(l.itemLevel<this.columnWidths.length&&l.getWidth()>this.columnWidths[l.itemLevel]&&(this.columnWidths[l.itemLevel]=l.getWidth()),!l.render(0,s))break;s+=h}}this.updateBounds(),null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this._resetCanvas(),this._renderRequired=!1,this.isRendering=!1}},isOnRowDetails:function(t,e){if(!e.RowDetailsVisible)return!1;var i={x:t.x,y:t.y};return i.x+=-this.x+this.viewPort.x,i.y+=-this.y+this.viewPort.y,i.y<e.y+e.getDisplayHeight()&&i.y>e.y+e.getDisplayHeight()-e.RowDetailsHeight}}),t.jqx.jqxPivotGrid.pivotColumns=function(e){t.extend(this,new t.jqx.jqxPivotGrid.hierarchy),this.parentPivotGrid=e,this.isColumnsHierarchy=!0},t.extend(t.jqx.jqxPivotGrid.pivotColumns.prototype,t.jqx.jqxPivotGrid.hierarchy.prototype),t.extend(t.jqx.jqxPivotGrid.pivotColumns.prototype,{render:function(){if(!this._renderSuppressed){if(this._refreshRequired=!0,this.parentPivotGrid._pivotCells._refreshRequired=!0,this._updateVisibleLeaves(),this._updateColumnsIndexes(),this.items.length+this.valueItems.length==0)return null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),void this._updateVisibleLeaves();for(var t=0,e=0;e<2;e++)for(var i=0==e?this.items:this.valueItems,s=0;s<i.length;s++){var n=i[s];if(null==n.hierarchy&&(n.hierarchy=this),!n.isHidden){var o=n.getWidthWithChildren();if(!n.render(t,0))break;t+=o}}this._renderRequired=!1,null!=this.parentPivotGrid&&(this.parentPivotGrid.isSyncScrollRequired=!0),this._updateVisibleLeaves(),this.updateBounds(),this._resetCanvas()}},updateBounds:function(){for(var t=0,e=0,i=0;i<2;i++)for(var s=0==i?this.items:this.valueItems,n=0;n<s.length;n++){var o=s[n],r=o.getHeightWithChildren();t<r&&(t=r),e+=o.getWidthWithChildren()}this._height=t,this._width=e+1},_updateColumnsIndexes:function(){for(var t=this.visibleLeafItems.length,e=--t;e>=0;e--){var i=this.visibleLeafItems[e];i.itemColumn=e;for(var s=i.parentItem;null!=s;)s.hierarchy!=i.hierarchy?s=null:(s.itemColumn=e,s=(i=s).parentItem)}},setRowHeight:function(t,e){return!(e<15||e>500)&&(t.hierarchyItemHeight=e,this._renderRequired=!0,!0)},isGroupingColumn:function(t){return null!=t&&(null!=this.parentPivotGrid&&!!(t.ItemIndex<this.parentPivotGrid.groupingColumns.length&&this.parentPivotGrid.isGroupingEnabled))}})}(jqxBaseFramework),function(t){t.extend(t.jqx._jqxPivotGrid.prototype,{_handleKeyboardNavigation:function(t){return"CELLS_SELECT"==this._internalSelectMode?this._handleCellsKeyboardNavigation(t):("ROW_SELECT"==this._internalSelectMode||this._internalSelectMode,!1)},_handleCellsKeyboardNavigation:function(t){var e=this._cellKBRangeSelectionEnd,i=void 0;if(!e)return!1;if(37==t.keyCode&&(i=this._pivotCells.getNextCell(e,"left")),38==t.keyCode?i=this._pivotCells.getNextCell(e,"top"):39==t.keyCode?i=this._pivotCells.getNextCell(e,"right"):40==t.keyCode&&(i=this._pivotCells.getNextCell(e,"bottom")),null!=i){this._pivotRows._refreshRequired=!0,this._pivotColumns._refreshRequired=!0,this._pivotCells._refreshRequired=!0,this._colItemRangeSelectionBeg=i.pivotColumn,this._rowItemRangeSelectionBeg=i.pivotRow,this._beginSelectionUpdate(),this._isCTRLPressed&&0!=this.multipleSelectionEnabled||this._internalClearSelection(),this._pivotCells._internalSelectCell(this._rowItemRangeSelectionBeg,this._colItemRangeSelectionBeg),this._cellKBRangeSelectionEnd={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells},this._cellKBRangeSelectionStart&&this._isSHIFTPressed||(this._cellKBRangeSelectionStart={pivotRow:this._rowItemRangeSelectionBeg,pivotColumn:this._colItemRangeSelectionBeg,pivotCells:this._pivotCells});for(var s=Math.min(this._cellKBRangeSelectionStart.pivotColumn._lfIndex,this._cellKBRangeSelectionEnd.pivotColumn._lfIndex),n=Math.max(this._cellKBRangeSelectionStart.pivotColumn._lfIndex,this._cellKBRangeSelectionEnd.pivotColumn._lfIndex),o=Math.min(this._cellKBRangeSelectionStart.pivotRow._lfIndex,this._cellKBRangeSelectionEnd.pivotRow._lfIndex),r=Math.max(this._cellKBRangeSelectionStart.pivotRow._lfIndex,this._cellKBRangeSelectionEnd.pivotRow._lfIndex),l=s;l<=n;l++)for(var h=o;h<=r;h++){var a=this._pivotColumns.visibleLeafItems[l],d=this._pivotRows.visibleLeafItems[h];this._pivotCells._internalSelectCell(d,a)}this._endSelectionUpdate(),i.pivotRow.ensureVisible(),i.pivotColumn.ensureVisible(),this._internalRefresh()}return!1}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxBulletChart","",{}),t.extend(t.jqx._jqxBulletChart.prototype,{defineInstance:function(){var i={width:500,height:100,barSize:"50%",ranges:[{startValue:0,endValue:50,color:"#000000",opacity:.7},{startValue:50,endValue:80,color:"#000000",opacity:.5},{startValue:80,endValue:100,color:"#000000",opacity:.3}],pointer:{value:65,label:"Value",size:"25%",color:""},target:{value:85,label:"Target",size:4,color:""},ticks:{position:"far",interval:20,size:10},title:"Title",description:"Description",orientation:"horizontal",labelsFormat:null,labelsFormatFunction:null,animationDuration:400,showTooltip:!0,tooltipFormatFunction:null,disabled:!1,rtl:!1,events:["change"]};return this===t.jqx._jqxBulletChart.prototype?i:(t.extend(!0,this,i),i)},createInstance:function(i){if(!t.jqx.dataAdapter)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxdata.js'.");this._setDefaultValues(),this.render();var e=this;t.jqx.utilities.resize(this.host,function(){e._timer&&clearTimeout(e._timer),e._timer=setTimeout(function(){var t=e.animationDuration;e.animationDuration=0,e.render(),setTimeout(function(){e.animationDuration=t},0)},10)},!1,!0)},render:function(){this.host.children().length>0&&(this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.empty()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-bulletchart")),this.host.width(this.width),this.host.height(this.height);var i,e=this.host.width(),o=this.host.height(),s=this.rtl?"rtl":"ltr";"horizontal"==this.orientation?i=t("<div style='position: absolute; visibility: hidden; padding: 5px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='direction: "+s+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+s+";'>"+this.description+"</div></div>"):"vertical"==this.orientation&&(i=t("<div style='position: absolute; visibility: hidden; padding-bottom: 15px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='width: "+e+"px; direction: "+s+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+s+";'>"+this.description+"</div></div>")),this.host.append(i);var r=i.outerWidth(),a=i.outerHeight();i.remove();var h,l,n,c,d,p;if("horizontal"==this.orientation){if(h="jqx-bulletchart-title-container-horizontal",l="jqx-bulletchart-chart-container-horizontal",n=this._checkPercentage(this.barSize,this.host),v=r,c=this.barSize,d=0,u=e-v,p=c,this.width&&this.width.toString().indexOf("%")>=0){var u=parseFloat(parseFloat(100*u)/e).toString()+"%",v=parseFloat(parseFloat(100*v)/e).toString()+"%";this._percentageWidth=!0}}else"vertical"==this.orientation&&(h="jqx-bulletchart-title-container-vertical",l="jqx-bulletchart-chart-container-vertical",n=0,v="100%",c=a,d=this._checkPercentage(this.barSize,this.host),u=this.barSize,p=o-c);if((0==this.rtl||1==this.rtl&&"vertical"==this.orientation)&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+h+"' style='top: "+n+";'></div>"),this.host.append("<div id='"+this.element.id+"ChartContainer' class='"+l+"' style='top: "+n+"; left: "+d+";'></div>"),1==this.rtl&&"horizontal"==this.orientation&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+h+"' style='top: "+n+";'></div>"),this._titleContainer=t("#"+this.element.id+"titleContainer"),this._chartContainer=t("#"+this.element.id+"ChartContainer"),this._titleContainer.css({width:v,height:c}),this._chartContainer.css({width:u,height:p}),this._min=this.ranges[0].startValue,this._max=this.ranges[this.ranges.length-1].endValue,this._interval=this._max-this._min,this._valueToPixelsHorizontal=this._chartContainer.width()/this._interval,this._valueToPixelsVertical=this._chartContainer.height()/this._interval,this._checkValues(),this._appendRanges(),this._appendPointerAndTarget(),this._appendTitleAndDescription(),"none"!=this.ticks.position&&this._appendTicksAndLabels(),1==this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.showTooltip){if(void 0==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip(),this.host.data().jqxWidget=this}this._updateValue(this.pointer.value,0,!0)},refresh:function(t){t||this.render()},val:function(t){if(0==arguments.length||null!=t&&"object"==typeof t)return this.pointer.value;t>this._max?t=this._max:t<this._min&&(t=this._min),t!=this.pointer.value&&(this._updateValue(t,this.pointer.value),this.pointer.value=t,1==this.showTooltip&&this._updateTooltip())},destroy:function(){t.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},propertyChangedHandler:function(i,e,o,s){if(o!=s||s instanceof Object){var r=!0,a=function(){t.each(o,function(t,o){void 0==s[t]&&(i[e][t]=o)})};switch(e){case"barSize":break;case"ranges":t.each(o,function(o,r){t.each(r,function(t,r){void 0!==s[o]&&void 0==s[o][t]&&(i[e][o][t]=r)})}),this._setDefaultValues();break;case"pointer":return a(),void this._updatePointer(s,o);case"target":return a(),void this._updateTarget(s,o);case"ticks":r=!1,a(),t.each(o,function(t,s){o[t]!=i[e][t]&&(r=!0)});break;case"showTooltip":if(1==s){if(void 0==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip()}else this._removeHandlers(),this.host.jqxTooltip("destroy");break;case"animationDuration":return;case"tooltipFormatFunction":return void this._updateTooltip();case"disabled":return void(1==s?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}1==r&&this.render()}},_raiseEvent:function(i,e){var o=this.events[i],s=new t.Event(o);s.owner=this,s.args=e;try{var r=this.host.trigger(s)}catch(t){}return r},_removeHandlers:function(){var i=t("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.removeHandler(i,"mouseenter.bulletchart"+this.element.id),this.removeHandler(i,"mouseleave.bulletchart"+this.element.id)},_setDefaultValues:function(){for(var t=this.ranges,i=this.ranges.length,e=0;e<i;e++){if(void 0==t[e].startValue||void 0==t[e].endValue)throw new Error("jqxBulletChart: Each range must have its startValue and endValue set.");void 0==t[e].color&&(this.ranges[e].color="#000000"),void 0==t[e].opacity&&(this.ranges[e].opacity=1-1/i*e)}var o=this.pointer;void 0==o.value&&(this.pointer.value=65),void 0==o.label&&(this.pointer.label="Value"),void 0==o.size&&(this.pointer.size="25%"),void 0==o.color&&(this.pointer.color="");var s=this.target;void 0==s.value&&(this.target.value=85),void 0==s.label&&(this.target.label="Target"),void 0==s.size&&(this.target.size=5),void 0==s.color&&(this.target.color="");var r=this.ticks;void 0==r.position&&(this.ticks.position="near"),void 0==r.interval&&(this.ticks.interval=20),void 0==r.size&&(this.ticks.size=10)},_checkValues:function(){this.pointer.value>this._max?this.pointer.value=this._max:this.pointer.value<this._min&&(this.pointer.value=this._min),this.target.value>this._max?this.target.value=this._max:this.target.value<this._min&&(this.target.value=this._min)},_appendRanges:function(){for(var t="",i=this.ranges.length,e=0;e<i;e++){var o,s=this.ranges[e];if("horizontal"==this.orientation){var r=this.rtl?"right":"left",a=(s.startValue-this._min)*this._valueToPixelsHorizontal,h=(s.endValue-s.startValue)*this._valueToPixelsHorizontal;o="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-horizontal")+"' style='"+r+": "+a+"px; width: "+h+"px; background-color: "+s.color+"; opacity: "+s.opacity+"'></div>"}else if("vertical"==this.orientation){var l=(s.startValue-this._min)*this._valueToPixelsVertical,n=(s.endValue-s.startValue)*this._valueToPixelsVertical;o="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-vertical")+"' style='bottom: "+l+"px; height: "+n+"px; background-color: "+s.color+"; opacity: "+s.opacity+"'></div>"}t+=o}this._chartContainer.append(t)},_appendPointerAndTarget:function(){var t="",i=this.element.id+"Pointer",e=this.element.id+"Target",o=this.pointer.size,s=this.target.value,r=this.target.size,a=s>0?0:parseInt(r),h=this.pointer.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed"),l=this.target.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed");if("horizontal"==this.orientation){var n=this._normaliseValue(o),c=this._checkPercentage(o,this._chartContainer),d=this.rtl?"right":"left",p=(s-this._min)*this._valueToPixelsHorizontal-a,u=p+parseInt(r)-this._chartContainer.width();p<0?p=0:u>0&&(p-=u);var v=this._normaliseValue(r);t+="<div class='"+l+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-horizontal")+"' id='"+e+"' style='"+d+": "+p+"px; width: "+v+"; background-color: "+this.target.color+"'></div>",t+="<div class='"+h+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+i+"' style='top: "+c+"; height: "+n+"; background-color: "+this.pointer.color+"'></div>"}else if("vertical"==this.orientation){this._chartContainer.width();var m=this._normaliseValue(o),x=this._checkPercentage(o,this._chartContainer),g=(s-this._min)*this._valueToPixelsVertical-a,u=g+parseInt(r)-this._chartContainer.height();g<0?g=0:u>0&&(g-=u);var _=this._normaliseValue(r);t+="<div class='"+l+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-vertical")+"' id='"+e+"' style='bottom: "+g+"px; height: "+_+"; background-color: "+this.target.color+"'></div>",t+="<div class='"+h+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+i+"' style='left: "+x+"; width: "+m+"; background-color: "+this.pointer.color+"'></div>"}this._chartContainer.append(t)},_updatePointer:function(i,e){var o=t("#"+this.element.id+"Pointer");if(i.value>this._max?this.pointer.value=this._max:i.value<this._min&&(this.pointer.value=this._min),i.value!=e.value&&(this._updateValue(i.value,e.value),1==this.showTooltip&&this._updateTooltip()),i.label!=e.label&&1==this.showTooltip&&this._updateTooltip(),i.size!=e.size){var s=i.size;if("horizontal"==this.orientation){var r=this._checkPercentage(s,this._chartContainer),a=this._normaliseValue(s);o.css({top:r,height:a})}else if("vertical"==this.orientation){var h=this._checkPercentage(s,this._chartContainer),l=this._normaliseValue(s);o.css({left:h,width:l})}}i.color!=e.color&&(""==i.color?(o.css("background-color",""),o.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),o.css("background-color",i.color)))},_updateTarget:function(i,e){var o=t("#"+this.element.id+"Target");if(i.value>this._max?this.target.value=this._max:i.value<this._min&&(this.target.value=this._min),i.value!=e.value||i.size!=e.size){var s=i.value,r=parseInt(i.size),a=s>0?0:r;if("horizontal"==this.orientation){this.rtl;var h=(s-this._min)*this._valueToPixelsHorizontal-a,l=h+r-this._chartContainer.width();h<0?h=0:l>0&&(h-=l),0==this.rtl?o.css("left",h):o.css("right",h),o.width(r)}else if("vertical"==this.orientation){var n=(s-this._min)*this._valueToPixelsVertical-a,l=n+r-this._chartContainer.height();n<0?n=0:l>0&&(n-=l),o.css({bottom:n,height:r})}1==this.showTooltip&&this._updateTooltip()}i.label!=e.label&&1==this.showTooltip&&this._updateTooltip(),i.color!=e.color&&(""==i.color?(o.css("background-color",""),o.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),o.css("background-color",i.color)))},_appendTitleAndDescription:function(){var i;i="horizontal"==this.orientation?1==this.rtl?this.toThemeProperty("jqx-bulletchart-title-description-rtl"):this.toThemeProperty("jqx-bulletchart-title-description-ltr"):this.toThemeProperty("jqx-bulletchart-title-description-vertical");var e=this.rtl?"rtl":"ltr",o="<div id='"+this.element.id+"Title' class='"+this.toThemeProperty("jqx-bulletchart-title")+" "+i+"' style='direction: "+e+";'>"+this.title+"</div><div id='"+this.element.id+"Description' class='"+this.toThemeProperty("jqx-bulletchart-description")+" "+i+"' style='direction: "+e+";'>"+this.description+"</div>",s=t("<div style='position: absolute; visibility: hidden;'>"+o+"</div>");this._titleContainer.append(s);var r=s.children(),a=t(r[0]).height()+t(r[1]).height();s.remove();var h;h="horizontal"==this.orientation?0==this.rtl?this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-ltr"):this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-rtl"):"",this._titleContainer.append("<div class='"+h+"' style='height: "+a+"px;'>"+o+"</div>")},_appendTicksAndLabels:function(){var i=t("<div style='position: absolute; visibility: hidden;'></div>");this._chartContainer.append(i);var e="",o=this._min<0,s=this.ticks.size;if("horizontal"==this.orientation){var r=this._titleContainer.width(),a=this._chartContainer.offset().top-this.host.offset().top;if("both"==this.ticks.position||"far"==this.ticks.position)var h=this._chartContainer.height()+a;for(u=0;u<=this._interval;u+=this.ticks.interval){var l=u*this._valueToPixelsHorizontal+r;u+this.ticks.interval>this._interval&&(l-=1),o&&(m=u+this._min==0)&&(e+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='top: "+a+"px; "+c+": "+l+"px; height: "+this._chartContainer.height()+"px;'></div>",o=!1);x=this._labelValue(u);i.html(x);var n=l-i.width()/2,c=this.rtl?"right":"left";"both"!=this.ticks.position&&"far"!=this.ticks.position||(e+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+h+"px; "+c+": "+l+"px; height: "+s+"px;'></div>",e+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(h+s+2)+"px; "+c+": "+n+"px;'>"+x+"</div>"),"both"!=this.ticks.position&&"near"!=this.ticks.position||(e+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+(a-s)+"px; "+c+": "+l+"px; height: "+s+"px;'></div>",e+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(a-(s+i.height()+2))+"px; "+c+": "+n+"px;'>"+x+"</div>")}}else if("vertical"==this.orientation){var d=this._chartContainer.offset().left-this.host.offset().left;if("both"==this.ticks.position||"far"==this.ticks.position)var p=this._chartContainer.width();for(var u=0;u<=this._interval;u+=this.ticks.interval){var v=u*this._valueToPixelsVertical;if(u+this.ticks.interval>this._interval&&(v-=1),o){var m=u+this._min==0;m&&(e+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='left: "+d+"px; bottom: "+v+"px; width: "+p+"px;'></div>",o=!1)}if("both"==this.ticks.position||"near"==this.ticks.position){e+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(d-s)+"px; bottom: "+v+"px; width: "+s+"px;'></div>";x=this._labelValue(u,"near");i.html(x);n=i.height()/2-1;e+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(d-(s+i.width()+2))+"px; bottom: "+(v-n)+"px;'>"+x+"</div>"}if("both"==this.ticks.position||"far"==this.ticks.position){e+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(p+d)+"px; bottom: "+v+"px; width: "+s+"px;'></div>";var x=this._labelValue(u,"far");i.html(x);n=i.height()/2-1;e+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(p+d+s+2)+"px; bottom: "+(v-n)+"px;'>"+x+"</div>"}}}this.host.append(e),i.remove()},_labelValue:function(i,e){var o=i+this._min;return this.labelsFormatFunction?this.labelsFormatFunction(o,e):t.jqx.dataFormat.formatnumber(o,this.labelsFormat)},_initializeTooltip:function(){var i=this,e=this._tooltipContent();this.host.jqxTooltip({theme:this.theme,position:"mouse",content:e,trigger:"none",autoHide:!1,rtl:this.rtl}),this.host.jqxTooltip("getInstance").val=t.proxy(this.val,this);var o=t("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.addHandler(o,"mouseenter.bulletchart"+this.element.id,function(e){0==i.disabled&&(i.host.jqxTooltip("open",e.pageX,e.pageY),(e.target.id==i.element.id+"Pointer"&&""==i.pointer.color||e.target.id==i.element.id+"Target"&&""==i.target.color)&&(t(e.target).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),t(e.target).addClass(i.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(o,"mouseleave.bulletchart"+this.element.id,function(e){0==i.disabled&&(i.host.jqxTooltip("close"),(e.target.id==i.element.id+"Pointer"&&""==i.pointer.color||e.target.id==i.element.id+"Target"&&""==i.target.color)&&(t(e.target).removeClass(i.toThemeProperty("jqx-fill-state-hover")),t(e.target).addClass(i.toThemeProperty("jqx-fill-state-pressed"))))})},_updateTooltip:function(){this.host.jqxTooltip({content:this._tooltipContent()})},_tooltipContent:function(){var i;if(this.tooltipFormatFunction)i=this.tooltipFormatFunction(this.pointer.value,this.target.value);else{var e=t.jqx.dataFormat.formatnumber(this.pointer.value,this.labelsFormat),o=t.jqx.dataFormat.formatnumber(this.target.value,this.labelsFormat);i="<div>"+this.pointer.label+": "+e+"</div><div>"+this.target.label+": "+o+"</div>"}return i},_updateValue:function(i,e,o){var s,r,a,h=this,l=t("#"+this.element.id+"Pointer"),n=function(t,o,n){if(h._min>=0)"vertical"==t?l.css("bottom",0):1==h.rtl&&"horizontal"==t&&l.css("right",0),s=(i-h._min)*o;else{if(i>=0){"horizontal"==t?1==h.rtl?(r="right",a="left"):r="left":"vertical"==t&&(r="bottom",a="top");c=-h._min*o}else{"horizontal"==t?1==h.rtl?r="left":(r="right",a="left"):"vertical"==t&&(r="top");var c=n+h._min*o}l.css(r,c),a&&l.css(a,""),i*e<0&&("horizontal"==t?l.width(0):"vertical"==t&&l.height(0)),s=Math.abs(i*o)}return s},c=function(){o||h._raiseEvent("0")};if("horizontal"==this.orientation){var d=n("horizontal",this._valueToPixelsHorizontal,this._chartContainer.width());setTimeout(function(){l.animate({width:d},h.animationDuration,c)},0)}else if("vertical"==this.orientation){var p=n("vertical",this._valueToPixelsVertical,this._chartContainer.height());setTimeout(function(){l.animate({height:p},h.animationDuration,c)},0)}},_checkPercentage:function(t,i){var e=-1;t.indexOf&&(e=t.indexOf("%"));if(-1==e){var o;return"horizontal"==this.orientation?o=i.height():"vertical"==this.orientation&&(o=i.width()),(o-function(i){return t.indexOf&&-1!=t.indexOf("px")?parseFloat(i.slice(0,t.indexOf("px"))):i}(t))/2+"px"}return(100-function(t){return parseFloat(t.slice(0,e))}(t))/2+"%"},_normaliseValue:function(t){return!t.indexOf||-1==t.indexOf("px")&&-1==t.indexOf("%")?t+"px":t}})}(jqxBaseFramework);

!function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxButton.prototype?t:(e.extend(!0,this,t),t)},_addImage:function(t){var s=this;if("input"==s.element.nodeName.toLowerCase()||"button"==s.element.nodeName.toLowerCase()||"div"==s.element.nodeName.toLowerCase()){if(s._img)s._img.setAttribute("src",s.imgSrc),s._img.setAttribute("width",s.imgWidth),s._img.setAttribute("height",s.imgHeight),s._text.innerHTML=s.value;else{s.field=s.element,s.field.className&&(s._className=s.field.className);var i={title:s.field.title},o=null;if(s.field.getAttribute("value"))o=s.field.getAttribute("value");else if("input"!=s.element.nodeName.toLowerCase())o=s.element.innerHTML;s.value&&(o=s.value),s.field.id.length?i.id=s.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var a=document.createElement("div");a.id=i.id,a.title=i.title,a.style.cssText=s.field.style.cssText,a.style.boxSizing="border-box";var r=document.createElement("img");r.setAttribute("src",s.imgSrc),r.setAttribute("width",s.imgWidth),r.setAttribute("height",s.imgHeight),a.appendChild(r),s._img=r;var n=document.createElement("span");o&&(n.innerHTML=o,s.value=o),a.appendChild(n),s._text=n,s.field.style.display="none",s.field.parentNode&&s.field.parentNode.insertBefore(a,s.field.nextSibling);var l=s.host.data();s.host=e(a),s.host.data(l),s.element=a,s.element.id=s.field.id,s.field.id=i.id;var d=new e(s.element),h=new e(s.field);if(s._className&&(d.addClass(s._className),h.removeClass(s._className)),s.field.tabIndex){var u=s.field.tabIndex;s.field.tabIndex=-1,s.element.tabIndex=u}}s.imgSrc?s._img.style.display="inline":s._img.style.display="none",s.value?s._text.style.display="inline":s._text.style.display="none",s._positionTextAndImage()}},_positionTextAndImage:function(){var e=this,t=e.element.offsetWidth,s=e.element.offsetHeight,i=e.imgWidth,o=e.imgHeight;""==e.imgSrc&&(i=0,o=0);var a=e._text.offsetWidth,r=e._text.offsetHeight,n=0,l=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":n=i+a+8+4+8,l=Math.max(o,r)+8+4+8;break;case"imageAboveText":case"textAboveImage":n=Math.max(i,a)+8,l=o+r+4+8+8;break;case"overlay":n=Math.max(i,a)+8,l=Math.max(o,r)+8}e.width||(e.element.style.width=n+"px",t=n),e.height||(e.element.style.height=l+"px",s=l),e._img.style.position="absolute",e._text.style.position="absolute",e.element.style.position="relative",e.element.style.overflow="hidden";var d={},h={},u=function(e,t,s,i,o){switch(t.width<i&&(t.width=i),t.height<o&&(t.height=o),s){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-o/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-o+"px";break;default:case"center":e.style.left=t.left+t.width/2-i/2+"px",e.style.top=t.top+t.height/2-o/2+"px";break;case"top":e.style.left=t.left+t.width/2-i/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-i/2+"px",e.style.top=t.top+t.height-o+"px";break;case"right":e.style.left=t.left+t.width-i+"px",e.style.top=t.top+t.height/2-o/2+"px";break;case"topRight":e.style.left=t.left+t.width-i+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-i+"px",e.style.top=t.top+t.height-o+"px"}},m=0,c=0,b=t,f=s,p=(b-m)/2,g=(f-c)/2,x=e._img,v=e._text,j=f-c,y=b-m;switch(m+=4,c+=4,b=b-4-2,y=y-8-2,j=j-8-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":h={left:m,top:c,width:m+i,height:j},d={left:m+i+4,top:c,width:y-i-4,height:j};break;case"center":case"top":case"bottom":d={left:(h={left:p-a/2-i/2-2,top:c,width:i,height:j}).left+i+4,top:c,width:b-h.left-i-4,height:j};break;case"right":case"topRight":case"bottomRight":d={left:(h={left:b-a-i-4,top:c,width:i,height:j}).left+i+4,top:c,width:b-h.left-i-4,height:j}}u(x,h,e.imgPosition,i,o),u(v,d,e.textPosition,a,r);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":d={left:m,top:c,width:m+a,height:j},h={left:m+a+4,top:c,width:y-a-4,height:j};break;case"center":case"top":case"bottom":h={left:(d={left:p-a/2-i/2-2,top:c,width:a,height:j}).left+a+4,top:c,width:b-d.left-a-4,height:j};break;case"right":case"topRight":case"bottomRight":h={left:(d={left:b-a-i-4,top:c,width:a,height:j}).left+a+4,top:c,width:b-d.left-a-4,height:j}}u(x,h,e.imgPosition,i,o),u(v,d,e.textPosition,a,r);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":h={left:m,top:c,width:y,height:o},d={left:m,top:c+o+4,width:y,height:j-o-4};break;case"left":case"center":case"right":d={left:m,top:(h={left:m,top:g-o/2-r/2-2,width:y,height:o}).top+4+o,width:y,height:j-h.top-4-o};break;case"bottomLeft":case"bottom":case"bottomRight":d={left:m,top:(h={left:m,top:f-o-r-4,width:y,height:o}).top+4+o,width:y,height:r}}u(x,h,e.imgPosition,i,o),u(v,d,e.textPosition,a,r);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":d={left:m,top:c,width:y,height:r},h={left:m,top:c+r+4,width:y,height:j-r-4};break;case"left":case"center":case"right":h={left:m,top:(d={left:m,top:g-o/2-r/2-2,width:y,height:r}).top+4+r,width:y,height:j-d.top-4-r};break;case"bottomLeft":case"bottom":case"bottomRight":h={left:m,top:(d={left:m,top:f-o-r-4,width:y,height:r}).top+4+r,width:y,height:o}}u(x,h,e.imgPosition,i,o),u(v,d,e.textPosition,a,r);break;case"overlay":default:d={left:m,top:c,width:y,height:j},u(x,h={left:m,top:c,width:y,height:j},e.imgPosition,i,o),u(v,d,e.textPosition,a,r)}},createInstance:function(t){var s=this;s._setSize(),s.buttonObj=new e(s.element),(""!=s.imgSrc||""!=s.textPosition||s.element.value&&s.element.value.indexOf("<")>=0||null!=s.value)&&(s.refresh(),s._addImage("jqxButton"),s.buttonObj=new e(s.element)),s._ariaDisabled||s.element.setAttribute("role","button"),""!==s.type&&s.element.setAttribute("type",s.type),s.overrideTheme||(s.buttonObj.addClass(s.toThemeProperty(e.jqx.cssroundedcorners(s.roundedCorners))),s.enableDefault&&s.buttonObj.addClass(s.toThemeProperty("jqx-button")),s.buttonObj.addClass(s.toThemeProperty("jqx-widget"))),s.isTouchDevice=e.jqx.mobile.isTouchDevice(),s._ariaDisabled||e.jqx.aria(this),"arrow"!=s.cursor&&(s.disabled?s.element.style.cursor="arrow":s.element.style.cursor=s.cursor);i="mouseenter mouseleave mousedown focus blur";if(s._scrollAreaButton)var i="mousedown";s.isTouchDevice&&(s.addHandler(s.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){s.isPressed=!0,s.refresh()}),s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+s.element.id,function(e){s.isPressed=!1,s.refresh()})),s.addHandler(s.host,i,function(e){switch(e.type){case"mouseenter":s.isTouchDevice||!s.disabled&&s.enableHover&&(s.isMouseOver=!0,s.refresh());break;case"mouseleave":s.isTouchDevice||!s.disabled&&s.enableHover&&(s.isMouseOver=!1,s.refresh());break;case"mousedown":s.disabled||(s.isPressed=!0,s.refresh());break;case"focus":s.disabled||(s.isFocused=!0,s.refresh());break;case"blur":s.disabled||(s.isFocused=!1,s.refresh())}}),s.mouseupfunc=function(e){s.disabled||(s.isPressed||s.isMouseOver)&&(s.isPressed=!1,s.refresh())},s.addHandler(document,"mouseup.button"+s.element.id,s.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var o="";if(window.parent&&document.referrer&&(o=document.referrer),-1!=o.indexOf(document.location.host)){window.top.document&&s.addHandler(e(window.top.document),"mouseup",function(e){s.isPressed=!1,s.refresh()})}}}catch(e){}s.propertyChangeMap.roundedCorners=function(t,s,i,o){t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(i))),t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(o)))},s.propertyChangeMap.disabled=function(t,s,i,o){i!=o&&(t.refresh(),t.element.setAttribute("disabled",o),t.element.disabled=o,t.element.style.cursor=o?"default":t.cursor,e.jqx.aria(t,"aria-disabled",t.disabled))},s.propertyChangeMap.rtl=function(e,t,s,i){s!=i&&e.refresh()},s.propertyChangeMap.template=function(e,t,s,i){s!=i&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+s)),e.refresh())},s.propertyChangeMap.theme=function(t,s,i,o){t.buttonObj.removeClass(t.element),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},s.disabled&&(s.element.disabled=!0,s.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this,s=t.host.find("input");return s.length>0?0==arguments.length||"object"==typeof value?s.val():(s.val(value),t.refresh(),s.val()):0==arguments.length||"object"==typeof value?"button"==t.element.nodeName.toLowerCase()?e(t.element).text():t.element.value:(t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&e(t.element).text(arguments[0]),void t.refresh())},_setSize:function(){var e=this,t=e.height,s=e.width;t&&(isNaN(t)||(t+="px"),e.element.style.height=t),s&&(isNaN(s)||(s+="px"),e.element.style.width=s)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var s=e.data(t.element,"jqxButton");s&&delete s.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.element,delete t.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,s){s&&s.width&&s.height&&2==Object.keys(s).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,s,i){void 0!=this.isInitialized&&0!=this.isInitialized&&i!=s&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",i),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t||e._addImage("jqxButton"),"value"===t&&e.val(i),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),s=e.toThemeProperty("jqx-fill-state-disabled"),i=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(i="");var o=e.toThemeProperty("jqx-fill-state-hover"),a=e.toThemeProperty("jqx-fill-state-pressed"),r=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(a="");var n="";if(e.host){if(e.element.disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),n=i+" "+s,"default"!==e.template&&""!==e.template&&(n+=" jqx-"+e.template,""!=e.theme&&(n+=" jqx-"+e.template+"-"+e.theme)),e.buttonObj.addClass(n),void(e._oldCSSCurrent=n);n=e.isMouseOver&&!e.isTouchDevice?e.isPressed?r:o:e.isPressed?a:i,e.isFocused&&(n+=" "+t),"default"!==e.template&&""!==e.template&&(n+=" jqx-"+e.template,""!=e.theme&&(n+=" jqx-"+e.template+"-"+e.theme)),n!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),e.buttonObj.addClass(n),e._oldCSSCurrent=n),e.rtl&&(e.buttonObj.addClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="rtl")}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(t){var s=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var i=this.height||this.element.offsetHeight,o=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var a=document.createElement("input");a.type="button",a.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(a,o,i),a.value=this.content,new e(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(a),this._setSize(a,o,i);var r=void 0==t?{}:t[0]||{};e(a).jqxButton(r),this.wrapElement=a,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,s,i){e.element.disabled=i,e.wrapElement.jqxButton({disabled:i})},this.addHandler(e(a),"click",function(e){return this.disabled||s.onclick(e),!1})},_setSize:function(e,t,s){s&&(isNaN(s)||(s+="px"),e.style.height=s),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var s=this,i=e.jqx.mobile.isTouchDevice(),o=i?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,a=i?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),o,function(e){null!=s.timeout&&(clearTimeout(s.timeout),s.timeout=null,s.refresh()),void 0!=s.timer&&(clearInterval(s.timer),s.timer=null,s.refresh())}),this.addHandler(this.base.host,a,function(e){null!=s.timer&&clearInterval(s.timer),s.timeout=setTimeout(function(){clearInterval(s.timer),s.timer=setInterval(function(e){s.ontimer(e)},s.delay)},150)}),this.mousemovefunc=function(e){i||0==e.which&&null!=s.timer&&(clearInterval(s.timer),s.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),s=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,i=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,i),this.removeHandler(e(document),s),this.timer=null,delete this.mousemovefunc,delete this.timer;var o=e.data(this.base.element,"jqxRepeatButton");o&&delete o.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){var t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var s=this;s.base.overrideTheme=!0,s.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),s.propertyChangeMap.roundedCorners=function(t,s,i,o){t.base.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(i))),t.base.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(o)))},s.propertyChangeMap.toggled=function(e,t,s,i){e.refresh()},s.propertyChangeMap.disabled=function(e,t,s,i){e.base.disabled=i,e.refresh()},s.addHandler(s.base.host,"click",function(e){!s.base.disabled&&s.uiToggle&&s.toggle()}),s.isTouchDevice||(s.addHandler(s.base.host,"mouseenter",function(e){s.base.disabled||s.refresh()}),s.addHandler(s.base.host,"mouseleave",function(e){s.base.disabled||s.refresh()})),s.addHandler(s.base.host,"mousedown",function(e){s.base.disabled||s.refresh()}),s.addHandler(e(document),"mouseup.togglebutton"+s.base.element.id,function(e){s.base.disabled||s.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),s=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(s="");var i=e.base.toThemeProperty("jqx-fill-state-hover"),o=e.base.toThemeProperty("jqx-fill-state-pressed"),a=e.base.toThemeProperty("jqx-fill-state-pressed"),r="";if(e.base.element.disabled=e.base.disabled,e.base.disabled)return r=s+" "+t,void e.base.buttonObj.addClass(r);r=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?a:i:e.base.isPressed||e.toggled?o:s,"default"!==e.base.template&&""!==e.base.template&&(r+=" jqx-"+e.base.template,""!=e.base.theme&&(r+=" jqx-"+e.template+"-"+e.base.theme)),e.base.buttonObj.hasClass(t)&&t!=r&&e.base.buttonObj.removeClass(t),e.base.buttonObj.hasClass(s)&&s!=r&&e.base.buttonObj.removeClass(s),e.base.buttonObj.hasClass(i)&&i!=r&&e.base.buttonObj.removeClass(i),e.base.buttonObj.hasClass(o)&&o!=r&&e.base.buttonObj.removeClass(o),e.base.buttonObj.hasClass(a)&&a!=r&&e.base.buttonObj.removeClass(a),e.base.buttonObj.hasClass(r)||e.base.buttonObj.addClass(r)}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxButtonGroup","",{}),e.extend(e.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var t={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxButtonGroup.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var n=this;n._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(n),n._baseId=n._baseId+n.element.id,n.addHandler(n.host,"selectstart",function(e){n.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&e.width.toString().indexOf("%")>=0?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){var t=this;if(t._isTouchDevice){var n=t._eventsMap[e]||e;return n+="."+t.element.id}return e+="."+t.element.id},_refreshButtons:function(){var t=this;t.lastElement&&t.lastElement.remove(),t.lastElement=e("<div style='clear: both;'></div>");var n,s=t.host.children(),r=s.length;switch(t.mode){case"radio":t.host.attr("role","radiogroup");break;case"checkbox":case"default":t.host.attr("role","group")}for(var o=new Number(100/r).toFixed(2),a=0;a<r;a+=1)n=e(s[a]),t.width&&("horizontal"===t.orientation?(n.css("width",o+"%"),n.css("box-sizing","border-box"),n.css("-moz-box-sizing","border-box"),n.css("white-space","nowrap"),n.css("text-overflow","ellipsis"),n.css("overflow","hidden")):(n.css("box-sizing","border-box"),n.css("-moz-box-sizing","border-box"),n.css("width","100%"))),t._refreshButton(n,a,r);t.lastElement.appendTo(t.host)},_refreshButton:function(e,t,n){(function(e){var s=this;e=s._render(e),s._removeStyles(e),s._addStyles(e,t,n),s._performLayout(e),s._removeButtonListeners(e),s._addButtonListeners(e),s._handleButtonId(e,t),"radio"===s.mode?e.attr("role","radio"):e.attr("role","button"),e.attr("disabled",s.disabled),s.disabled?e.addClass(s.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(s.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(t){for(var n,s=this,r=s.host.children(),o=r.length,a=0;a<o;a+=1)n=e(r[a]),s._removeStyles(n),s._removeButtonListeners(n);!1!==t&&s.host.remove()},_render:function(e){var t=this;return"button"===e[0].tagName.toLowerCase()?t._renderFromButton(e):t._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this,n=t.toThemeProperty;t.host.removeClass("jqx-widget"),t.host.removeClass("jqx-rc-all"),e.removeClass(n.call(this,"jqx-fill-state-normal")),e.removeClass(n.call(this,"jqx-group-button-normal")),e.removeClass(n.call(this,"jqx-rc-tl")),e.removeClass(n.call(this,"jqx-rc-bl")),e.removeClass(n.call(this,"jqx-rc-tr")),e.removeClass(n.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,n){var s=this,r=this.toThemeProperty;s.host.addClass(r.call(this,"jqx-widget")),s.host.addClass(r.call(this,"jqx-rc-all")),s.host.addClass(r.call(this,"jqx-buttongroup")),e.addClass(r.call(this,"jqx-button")),e.addClass(r.call(this,"jqx-group-button-normal")),e.addClass(r.call(this,"jqx-fill-state-normal")),s.template&&e.addClass(r.call(this,"jqx-"+s.template)),s.roundedCorners&&(0===t?s._addRoundedCorners(e,!0):t===n-1&&s._addRoundedCorners(e,!1)),"horizontal"===s.orientation?e.css("margin-left",-parseInt(e.css("border-left-width"),10)):e.css("margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var n=this,s=n.toThemeProperty;"horizontal"===n.orientation?t?(e.addClass(s.call(this,"jqx-rc-tl")),e.addClass(s.call(this,"jqx-rc-bl"))):(e.addClass(s.call(this,"jqx-rc-tr")),e.addClass(s.call(this,"jqx-rc-br"))):t?(e.addClass(s.call(this,"jqx-rc-tl")),e.addClass(s.call(this,"jqx-rc-tr"))):(e.addClass(s.call(this,"jqx-rc-bl")),e.addClass(s.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(t){var n=t.val();""===n&&(n=t.html());var s,r=t[0].id;return t.wrap("<div/>"),(s=t.parent()).attr("style",t.attr("style")),t.remove(),e.jqx.utilities.html(s,n),s[0].id=r,s},_performLayout:function(t){"horizontal"===this.orientation?this.rtl?t.css("float","right"):t.css("float","left"):t.css("float","none"),this._centerContent(e(t.children()),t)},_mouseEnterHandler:function(t){var n=t.data.self,s=e(t.currentTarget);if(!n._isDisabled(s)&&n.enableHover){var r=n.toThemeProperty;s.addClass(r.call(n,"jqx-group-button-hover")),s.addClass(r.call(n,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(t){var n=t.data.self,s=e(t.currentTarget);if(!n._isDisabled(s)&&n.enableHover){var r=n.toThemeProperty;s.removeClass(r.call(n,"jqx-group-button-hover")),s.removeClass(r.call(n,"jqx-fill-state-hover"))}},_mouseDownHandler:function(t){var n=t.data.self,s=e(t.currentTarget);if(!n._isDisabled(s)){n._pressed=s;var r=n.toThemeProperty;s.addClass(r.call(n,"jqx-group-button-pressed")),s.addClass(r.call(n,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(t){var n=t.data.self,s=e(t.currentTarget);n._isDisabled(s)||(n._handleSelection(s),n._pressed=null,s=n._buttonId[s[0].id],n._raiseEvent(2,{index:s.num,button:s.btn}))},_isDisabled:function(e){return!(!e||!e[0])&&this._buttonId[e[0].id].disabled},_documentUpHandler:function(e){var t=e.data.self,n=t._pressed;n&&!t._buttonId[n[0].id].selected&&(n.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(t){var n=this,s=n.addHandler,r=n._getEvent;s(t,r.call(n,"mouseenter"),n._mouseEnterHandler,{self:n}),s(t,r.call(n,"mouseleave"),n._mouseLeaveHandler,{self:n}),s(t,r.call(n,"mousedown"),n._mouseDownHandler,{self:n}),s(t,r.call(n,"mouseup"),n._mouseUpHandler,{self:n}),s(e(document),r.call(n,"mouseup"),n._documentUpHandler,{self:n})},_removeButtonListeners:function(t){var n=this,s=n.removeHandler,r=n._getEvent;s(t,r.call(n,"mouseenter"),n._mouseEnterHandler),s(t,r.call(n,"mouseleave"),n._mouseLeaveHandler),s(t,r.call(n,"mousedown"),n._mouseDownHandler),s(t,r.call(n,"mouseup"),n._mouseUpHandler),s(e(document),r.call(n,"mouseup"),n._documentUpHandler)},_handleSelection:function(e){var t=this;"radio"===t.mode?t._handleRadio(e):"checkbox"===t.mode?t._handleCheckbox(e):t._handleDefault(e)},_handleRadio:function(e){var t=this,n=t._getSelectedButton();n&&n.btn[0].id!==e[0].id&&t._unselectButton(n.btn,!0);for(var s in t._buttonId)t._buttonId[s].selected=!0,t._unselectButton(t._buttonId[s].btn,!1);t._selectButton(e,!0)},_handleCheckbox:function(e){var t=this,n=t._buttonId[e[0].id];n.selected?t._unselectButton(n.btn,!0):t._selectButton(e,!0)},_handleDefault:function(e){var t=this;t._selectButton(e,!1);for(var n in t._buttonId)t._buttonId[n].selected=!0,t._unselectButton(t._buttonId[n].btn,!1)},_getSelectedButton:function(){var e=this;for(var t in e._buttonId)if(e._buttonId[t].selected)return e._buttonId[t];return null},_getSelectedButtons:function(){var e=this,t=[];for(var n in e._buttonId)e._buttonId[n].selected&&t.push(e._buttonId[n].num);return t},_getButtonByIndex:function(e){var t=this;for(var n in t._buttonId)if(t._buttonId[n].num===e)return t._buttonId[n];return null},_selectButton:function(t,n){var s=this,r=s._buttonId[t[0].id];if(!r.selected){var o=s.toThemeProperty;r.btn.addClass(o.call(this,"jqx-group-button-pressed")),r.btn.addClass(o.call(this,"jqx-fill-state-pressed")),r.selected=!0,n&&s._raiseEvent(0,{index:r.num,button:r.btn}),e.jqx.aria(r.btn,"aria-checked",!0)}},_unselectButton:function(t,n){var s=this,r=s._buttonId[t[0].id];if(r.selected){var o=s.toThemeProperty;r.btn.removeClass(o.call(this,"jqx-group-button-pressed")),r.btn.removeClass(o.call(this,"jqx-fill-state-pressed")),r.selected=!1,n&&s._raiseEvent(1,{index:r.num,button:r.btn}),e.jqx.aria(r.btn,"aria-checked",!1)}},setSelection:function(e){var t=this;if(-1!==e)if("checkbox"===t.mode)if("number"==typeof e)t._setSelection(e);else for(var n=0;n<e.length;n+=1)t._setSelection(e[n]);else"number"==typeof e&&"radio"===t.mode&&t._setSelection(e);else t.clearSelection()},_setSelection:function(e){var t=this,n=t._getButtonByIndex(e);n&&t._handleSelection(n.btn)},getSelection:function(){var e=this;if("radio"===e.mode){if(e._getSelectedButton())return e._getSelectedButton().num}else if("checkbox"===e.mode)return e._getSelectedButtons()},disable:function(){var t=this;t.disabled=!0;var n;for(var s in t._buttonId)n=t._buttonId[s],t.disableAt(n.num);e.jqx.aria(t,"aria-disabled",!0)},enable:function(){var t=this;t.disabled=!1;var n;for(var s in t._buttonId)n=t._buttonId[s],t.enableAt(n.num);e.jqx.aria(t,"aria-disabled",!1)},disableAt:function(e){var t=this,n=t._getButtonByIndex(e);n.disabled||(n.disabled=!0,n.btn.addClass(t.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){var t=this,n=t._getButtonByIndex(e);n.disabled&&(n.disabled=!1,n.btn.removeClass(t.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var n=e[0].id,s={btn:e,num:t,selected:!1};return n||(n=this._baseId+e.index()),e[0].id=n,this._buttonId[n]=s,n},_raiseEvent:function(t,n){var s=e.Event(this._events[t]);return s.args=n,this.host.trigger(s)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(t,n,s,r){if("theme"===n&&null!==r&&e.jqx.utilities.setTheme(s,r,t.host),"template"===n&&t.refresh(),"mode"===n)return t._unselectAll(),void t.refresh();"disabled"===n?r?t.disable():t.enable():t.refresh()}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxCalendar","",{}),e.extend(e.jqx._jqxCalendar.prototype,{defineInstance:function(){var t={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:e.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return this===e.jqx._jqxCalendar.prototype?t:(e.extend(!0,this,t),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),t)},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var a={title:i.field.title};if(i.field.value&&(a.value=i.field.value),i.field.checked&&(a.checked=!0),i.field.id.length?a.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:a.id=e.jqx.utilities.createId()+"_"+t,i.field.getAttribute("min")){var s=new Date(i.field.getAttribute("min"));"Invalid Date"!=s&&(i.min=s)}if(i.field.getAttribute("max")){var r=new Date(i.field.getAttribute("max"));"Invalid Date"!=r&&(i.max=r)}var l=e("<div></div>",a);l[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(l);var n=i.host.data();if(i.host=l,i.host.data(n),i.element=l[0],i.element.id=i.field.id,i.field.id=a.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}},createInstance:function(t){this._createFromInput("jqxCalendar"),this.setCalendarSize(),""===this.element.id&&(this.element.id=e.jqx.utilities.createId()),"date"==e.type(this.value)&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");this.element.id;var i=this;if(this.propertyChangeMap.width=function(e,t,a,s){i.setCalendarSize()},this.propertyChangeMap.height=function(e,t,a,s){i.setCalendarSize()},e.global&&e.global.preferCulture(this.culture),"default"!=this.culture){if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(Globalize){var a=Globalize.culture(this.culture);this.localization.calendar=a.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&void 0!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return i.keyboardNavigation&&void 0!=i._handleKey&&((t=i._handleKey(e))||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var s=!1,r=this,l=!1;null!=i.width&&-1!=i.width.toString().indexOf("%")&&(l=!0),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(l=!0),e.jqx.utilities.resize(this.host,function(){var e=r.host.find("#View"+i.element.id);s?r.refreshTitle(e):(s=!0,r.render()),l&&(i.refreshTimer&&clearTimeout(i.refreshTimer),i.refreshTimer=setTimeout(function(){i.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,a,s){s?e.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),i.refreshControl()}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},_handleKey:function(t){if(this.readOnly)return!0;var i=t.keyCode,a=this._getSelectedDate();if(void 0==a){if("month"!=this.view||37!=i&&38!=i&&39!=i&&40!=i)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),a=this.selectedDate}if(t.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==i){var s=this._getSelectedCell();this._setDateAndSwitchViews(s,t,"keyboard")}if("year"==this.view){var r=a.getMonth(),l=this._getYearAndMonthPart(this.getMinDate()),n=this._getYearAndMonthPart(this.getMaxDate());switch(i){case 37:return 0==r?(h=new Date(a.getFullYear()-1,11,1))>=l?(this.selectedDate=h,this.navigateBackward()):this.selectedDate!=l&&(this.selectedDate=l,this.navigateBackward()):(h=new Date(a.getFullYear(),r-1,1))>=l&&this._selectDate(h,"key"),!1;case 38:return(h=new Date(a.getFullYear(),r-4,1))<l&&(h=l),r-4<0?(this.selectedDate=h,this.navigateBackward()):this._selectDate(h,"key"),!1;case 40:return(h=new Date(a.getFullYear(),r+4,1))>n&&(h=n),r+4>11?(this.selectedDate=h,this.navigateForward()):this._selectDate(h,"key"),!1;case 39:if(11==r)(h=new Date(a.getFullYear()+1,0,1))<=n?(this.selectedDate=h,this.navigateForward()):this.selectedDate!=n&&(this.selectedDate=n,this.navigateForward());else{var h=new Date(a.getFullYear(),r+1,1);h<=n&&this._selectDate(h,"key")}return!1}return!0}if("decade"==this.view){var d=this._renderStartDate.getFullYear(),o=this._renderEndDate.getFullYear(),c=a.getFullYear(),u=this.getMinDate().getFullYear(),g=this.getMaxDate().getFullYear();switch(i){case 37:return c-1>=u&&(c<=d?(this.selectedDate=new Date(c-1,a.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(c-1,a.getMonth(),1),"key")),!1;case 38:var f=c-4;return c-4<u&&(f=u),f<d?(this.selectedDate=new Date(f,a.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(f,a.getMonth(),1),"key"),!1;case 40:return(f=c+4)>g&&(f=g),f>o?(this.selectedDate=new Date(f,a.getMonth(),1),this.navigateForward()):this._selectDate(new Date(f,a.getMonth(),1),"key"),!1;case 39:return c+1<=g&&(c==o?(this.selectedDate=new Date(c+1,a.getMonth(),1),this.navigateForward()):this._selectDate(new Date(c+1,a.getMonth(),1),"key")),!1}return!0}var m=new e.jqx._jqxDateTimeInput.getDateTime(a),v=this.getViewStart(),D=this.getViewEnd(),w=e.data(this.element,"View"+this.element.id);if(void 0==w||null==w)return!0;if(36==i)return m._setDay(1),!this._isDisabled(m.dateTime)&&(this._selectDate(m.dateTime,"key"),!1);if(35==i){var y=this.value._daysInMonth(this.value.year,this.value.month);return m._setDay(y),this._isDisabled(m.dateTime)?!1:(this._selectDate(m.dateTime,"key"),!1)}var p=1;if(t.ctrlKey&&(p=12),34==i){if(_=this.navigateForward(p)){if(m._addMonths(p),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(33==i){if(_=this.navigateBackward(p)){if(m._addMonths(-p),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(38==i){if(m._addDays(-7),m.dateTime<this.getMinDate())return!1;if(m.dateTime<v&&!(_=this.navigateBackward()))return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(b=0;b<w.cells.length;b++){T=(s=w.cells[b]).getDate();if(s.isOtherMonth&&s.isSelected&&T<=m.dateTime){this.value.day=T.getDate(),this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(40==i){if(m._addDays(7),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>D&&!(_=this.navigateForward()))return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(b=0;b<w.cells.length;b++){T=(s=w.cells[b]).getDate();if(s.isOtherMonth&&s.isSelected&&T>=m.dateTime){this.value.day=T.getDate(),this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}if(37==i){if(m._addDays(-1),m.dateTime<this.getMinDate())return!1;if(m.dateTime<v&&!(_=this.navigateBackward()))return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(b=0;b<w.cells.length;b++){T=(s=w.cells[b]).getDate();if(s.isOtherMonth&&s.isSelected&&T<=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;if(this._isDisabled(m.dateTime))return!1;this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(39==i){if(m._addDays(1),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>D){var _=this.navigateForward();if(!_)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var b=0;b<w.cells.length;b++){var T=(s=w.cells[b]).getDate();if(s.isOtherMonth&&s.isSelected&&T>=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var a=this.specialDates.length;this.specialDates[a]={Date:e,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(e){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var t=this.getViewStart(),i=new e.jqx._jqxDateTimeInput.getDateTime(t);return i._addDays(41),i.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),a=this.getVisibleDate(),s=this.getFirstDayOfWeek(a);this.refreshCalendarCells(i,s,e),this.refreshTitle(i),this.refreshRowHeader(i,e),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var r=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(r=this.host.height()-this.titleHeight),this.showFooter&&(r-=20);var l=i.find("#cellsTable"+e),n=i.find("#calendarRowHeader"+e);l.height(r),n.height(r)}},refreshRowHeader:function(t,i){if(this.showWeekNumbers){var a=this.getVisibleDate(),s=this.getFirstDayOfWeek(a),r=(s.dayOfWeek,this.getWeekOfYear(s)),l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(s.dateTime));l._addDays(5),l.dayOfWeek=l.dateTime.getDay();this.getWeekOfYear(l);var n=this.rowHeader.find("table");n.width(this.rowHeaderWidth);for(var h=s,d=new Array,o=0;o<6;o++){r.toString();var c=new e.jqx._jqxCalendar.cell(h.dateTime),u=o+1+this.element.id,g=e(n[0].rows[o].cells[0]);c.element=g,c.row=o,c.column=0;var f=g.find("#headerCellContent"+u);f.addClass(this.toThemeProperty("jqx-calendar-row-cell")),f[0].innerHTML=r,d[o]=c,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date(h._addWeeks(1))),r=this.getWeekOfYear(h)}var m=e.data(this.element,t[0].id);m.rowCells=d,this._refreshOtherMonthRows(m,i)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,a=!1,s=0;s<e.cells.length;s++){var r=e.cells[s];r.isVisible&&s<7?i=!0:r.isVisible&&s>=e.cells.length-7&&(a=!0)}i||this._displayFirstRow(!1,t),a||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var a=this.host.find("#"+i),s=a.find("#calendarRowHeader"+a[0].id).find("table"),r=null;if(this.showWeekNumbers&&s[0].cells)r=e(s[0].rows[5]);var l=e(a.find("#cellTable"+a[0].id)[0].rows[5]);t?(this.showWeekNumbers&&r&&r.css("display","table-row"),l.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),l.css("display","none"))},_displayFirstRow:function(t,i){var a=this.host.find("#"+i),s=a.find("#calendarRowHeader"+a[0].id).find("table"),r=null;if(this.showWeekNumbers&&s[0].cells)r=e(s[0].rows[0]);var l=e(a.find("#cellTable"+a[0].id)[0].rows[0]);t?(this.showWeekNumbers&&r&&r.css("display","table-row"),l.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),l.css("display","none"))},_renderSingleCalendar:function(t,i){if(this.canRender){var a=this.host.find("#"+t.toString());null!=a&&a.remove();var s=e("<div id='"+t.toString()+"'></div>"),r=this.getVisibleDate(),l=this.getFirstDayOfWeek(r),n=new e.jqx._jqxDateTimeInput.getDateTime(l.dateTime);n._addMonths(1);var h=e.jqx._jqxCalendar.monthView(l,n,null,null,null,s);void 0==i||null==i?(this.host.append(s),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&s.height(this.height):s.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&s.width(this.width):s.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&s.width("100%"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&s.height("100%")):i.append(s),e.data(this.element,t,h);var d=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(d=this.host.height()-this.titleHeight),this.showFooter&&(d-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var o=this.rowHeaderWidth,c=this.columnHeaderHeight;this.showWeekNumbers||(o=0),this.showDayNames||(c=0);var u="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",g="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+c+"'><td role='gridcell' id='selectCell' width='"+o+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+d+"' width='"+o+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+d+"'></td></tr></table>",f="<div id='footer' style='margin: 0px; display: none; height:"+m+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";s[0].innerHTML=u+g+f,this.header=s.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=s.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=s.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=s.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=s.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=s.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=s.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=s.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=s.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=s.find("#calendarFooter"),this._footer=s.find("#footer"),this._footer[0].id="footer"+t,this.footer[0].id="calendarFooter"+t,this.todayButton=s.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=s.find("#doneButton"),this.doneButton[0].id="doneButton"+t,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var m=20;if(this.showFooter&&this._footer.css("display","block"),s.find("tr").addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=s,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(s):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var v=e("<a href='javascript:;'>"+this.todayString+"</a>");v.appendTo(this.todayButton);var D=e("<a href='javascript:;'>"+this.clearString+"</a>");D.appendTo(this.doneButton),D.addClass(this.toThemeProperty("jqx-calendar-footer")),v.addClass(this.toThemeProperty("jqx-calendar-footer"));var w=this,y="mousedown";e.jqx.mobile.isTouchDevice()&&(y=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(v,y,function(){return w.today?w.today():w.setDate(new Date,"mouse"),!1}),this.addHandler(D,y,function(){return w.clear?w.clear():w.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(s),this.oldView=this.view,this.renderCalendarCells(s,l,t),void 0!=i&&null!=i||this.renderTitle(s),this._refreshOtherMonthRows(h,t),s.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var p=this;return this.addHandler(this.host,"focus",function(){p.focus()}),s}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var i=e("<div role='button' style='float: left;'></div>"),a=e("<div role='button' style='float: right;'></div>"),s=this.title;s.addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-header")),s.addClass(this.toThemeProperty("jqx-calendar-title-header"));var r=s.find("td");if(e.jqx.browser.msie&&e.jqx.browser.version<8){if("transparent"!=r.css("background-color")){var l=s.css("background-color");r.css("background-color",l)}if("transparent"!=r.css("background-image")){var n=s.css("background-image"),h=s.css("background-repeat");s.css("background-position");r.css("background-image",n),r.css("background-repeat",h),r.css("background-position","left center scroll")}}else r.css("background-color","transparent");this.disabled&&s.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);var d=this.leftButton;a.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),a.addClass(this.toThemeProperty("jqx-icon-arrow-right")),a.appendTo(this.rightButton);var o=this.rightButton;this.enableTooltips&&e(d).jqxTooltip&&(e(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),e(o).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var c=this.titleHeader,u=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view)u=(g=this._format(this._renderStartDate,this._getTitleFormat(),this.culture))+" - "+(f=this._format(this._renderEndDate,this._getTitleFormat(),this.culture));else if("centuries"==this.view){var g=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),f=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);u=g+" - "+f}var m=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+u+"</div>");c.append(m),m.addClass(this.toThemeProperty("jqx-calendar-title-content"));var v=parseInt(i.width()),D=t.width()-2*v;c.find(".jqx-calendar-title-content").width(D);e.data(i,"navigateLeft",this),e.data(a,"navigateRight",this);var w=e.jqx.mobile.isTouchDevice();if(!this.disabled){var y=this;this.addHandler(c,"mousedown",function(e){if(y.enableViews){if(!y._viewAnimating&&!y._animating){var t=y.view;switch(y.oldView=t,y.view){case"month":y.view="year";break;case"year":y.view="decade"}if(-1==y.views.indexOf("year")&&"year"==y.view&&(y.view="decade"),-1==y.views.indexOf("decade")&&"decade"==y.view&&(y.view=t),t!=y.view){var i="View"+y.element.id,a=y.host.find("#"+i),s=y.getVisibleDate(),r=y.getFirstDayOfWeek(s);y.renderCalendarCells(a,r,i,!0),y.refreshTitle(a),y._raiseEvent("8")}}return!1}}),this.addHandler(i,"mousedown",function(t){if(y._animating)return!1;e.data(i,"navigateLeftRepeat",!0);var a=e.data(i,"navigateLeft");return a.enableFastNavigation&&!w&&a.startRepeat(a,i,!0,y.navigationDelay+200),a.navigateBackward(y.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),a._raiseEvent(0,t)}),this.addHandler(i,"mouseup",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(a,"mousedown",function(t){if(y._animating)return!1;e.data(a,"navigateRightRepeat",!0);var i=e.data(a,"navigateRight");return i.enableFastNavigation&&!w&&i.startRepeat(i,a,!1,y.navigationDelay+200),i.navigateForward(y.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),i._raiseEvent(1,t)}),this.addHandler(a,"mouseup",function(t){e.data(a,"navigateRightRepeat",!1)}),this.addHandler(a,"mouseleave",function(t){e.data(a,"navigateRightRepeat",!1)})}},refreshTitle:function(t){var i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view)i=(a=this._format(this._renderStartDate,this._getTitleFormat(),this.culture))+" - "+(s=this._format(this._renderEndDate,this._getTitleFormat(),this.culture));else if("centuries"==this.view){var a=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),s=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);i=a+" - "+s}var r=this.titleHeader;if(this.titleHeader){var l=r.find(".jqx-calendar-title-content"),n=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>");r.append(n),n.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=l&&l.remove()}},startRepeat:function(t,i,a,s){var r=window.setTimeout(function(){var l=e.data(i,"navigateLeftRepeat");a||(l=e.data(i,"navigateRightRepeat")),l?(s<25&&(s=25),a?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,s)):(t.navigateForward(1,"arrow"),r=t.startRepeat(t,i,!1,s))):window.clearTimeout(r)},s)},navigateForward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var a=this.getMaxDate().getFullYear();if((a<i||i>a)&&(i=a),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var s=this.value.day;if(this.value.month+e<=12){var r=this.value._daysInMonth(this.value.year,this.value.month+e);s>r&&(s=r)}if("month"==this.view){l=new Date(this.value.year,this.value.month-1+e,s);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else var l=new Date(this.value.year,this.value.month-1,s);return this.navigateTo(l)},navigateBackward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var a=this.getMinDate().getFullYear();if(i<a&&(i=a),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var s=this.value.day;if(this.value.month-e>=1){var r=this.value._daysInMonth(this.value.year,this.value.month-e);s>r&&(s=r)}if("month"==this.view){l=new Date(this.value.year,this.value.month-1-e,s);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else var l=new Date(this.value.year,this.value.month-1,s);return this.navigateTo(l)},_isRestrictedRange:function(e,t){if(e>t)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(e>t)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(e>t)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(t){var i=this;if(!e.isArray(i.restrictedDates))return!1;for(var a=0;a<i.restrictedDates.length;a++){var s=i.restrictedDates[a];if("object"==typeof s&&void 0!=s.from&&void 0!=s.to){var r=s.from,l=s.to;if(t.valueOf()>=r.valueOf()&&t.valueOf()<=l.valueOf())return!0}else if(s.getMonth()==t.getMonth()&&s.getDate()==t.getDate()&&s.getFullYear()==t.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];return-1==this.selectableDays.indexOf(t)||!!this._isRestrictedDate(e)},refreshCalendarCells:function(t,i,a){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){for(var s=this.table.find("#cellTable"+a.toString()),r=i,l=new Array,n=0,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date),d=0;d<6;d++)for(var o=0;o<7;o++){var c=d+1,u=o;this.rtl&&(u=6-u);var g=u+1,f="#cell"+c+g+this.element.id,m=new Date(r.dateTime.getFullYear(),r.dateTime.getMonth(),r.dateTime.getDate()),v=new e.jqx._jqxCalendar.cell(m),D=e(s[0].rows[d].cells[g-1]);D[0].id=f.substring(1),v.element=D,v.row=d,v.column=o,v.isVisible=!0,v.isOtherMonth=!1,v.isToday=!1,v.isWeekend=!1,v.isHighlighted=!1,v.isSelected=!1,r.month!=this.value.month&&(v.isOtherMonth=!0,v.isVisible=this.showOtherMonthDays),this._isRestrictedDate(m)&&(v.isRestricted=!0,v.isDisabled=!0),v.isDisabled||(m<this.getMinDate()||m>this.getMaxDate()||this._isDisabled(m))&&(v.isDisabled=!0),r.month==h.month&&r.day==h.day&&r.year==h.year&&(v.isToday=!0),r.isWeekend()&&(v.isWeekend=!0),e.data(this.element,"cellContent"+f.substring(1),v),e.data(this.element,f.substring(1),v),l[n]=v,n++,e.jqx.utilities.html(D,r.day),this._applyCellStyle(v,D,D),r=new e.jqx._jqxDateTimeInput.getDateTime(new Date(r._addDays(1)))}var w=e.data(this.element,t[0].id);void 0!=w&&null!=w&&(w.cells=l),this.renderedCells=l,this._refreshOtherMonthRows(w,a)}else this.refreshViews(t,i,a)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();i<12&&(i=12);var a=this.getMinDate(),s=this.getMaxDate(),r=this.value.dateTime.getFullYear();if("decade"==this.view){r+12>s.getFullYear()&&(r=s.getFullYear()-11),r<a.getFullYear()&&(r=a.getFullYear());for(o=0;o<i;o++){c=new Date(a.getFullYear()+o,0,1);if(a.getFullYear()<=r&&r<=c.getFullYear()){for(var l=new Date(c.getFullYear(),c.getMonth(),1),n=0;n<12;n++){var h=new Date(l.getFullYear()+n,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),d=h.getFullYear();a.getFullYear()<=d&&d<=s.getFullYear()?(e.push(d),t.push(h),0==n&&(this._renderStartDate=h),this._renderEndDate=h):(e.push(d),t.push(h))}break}}}else if("centuries"==this.view)for(var o=0;o<i;o+=120){var c=new Date(a.getFullYear()+o+120,0,1);if(a.getFullYear()<=r&&r<=c.getFullYear()){(l=new Date(c.getFullYear()-130,c.getMonth(),1))<a&&(l=a);for(n=0;n<12;n++){var u=new Date(l.getFullYear()+10*n,l.getMonth(),1);l.getFullYear()>=a.getFullYear()&&u.getFullYear()<=s.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==n&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(t,i,a){for(var s=new Array,r=t.find("#cellTable"+a.toString()),l=this._getDecadeAndCenturiesData(),n=l.years,h=l.dates,d=0,o=this.getMinDate(),c=this.getMaxDate(),u=0;u<3;u++)for(var g=0;g<4;g++){var f=g;this.rtl&&(f=3-f);(p=new Date(this.value.dateTime)).setDate(1),p.setMonth(4*u+f);var m=new e.jqx._jqxCalendar.cell(p),v=r[0].rows["row"+(1+u)+this.element.id],D=e(v.cells[g]);m.isSelected=!1,m.isVisible=!0,m.element=D,m.row=u,m.column=g,m.index=s.length;var w="";if("year"==this.view){var y=this.localization.calendar.months.names[4*u+f];switch(this.monthNameFormat){case"default":y=this.localization.calendar.months.namesAbbr[4*u+f];break;case"shortest":y=this.localization.calendar.months.namesShort[4*u+f];break;case"firstTwoLetters":y=y.substring(0,2);break;case"firstLetter":y=y.substring(0,1)}w=y}else"decade"!=this.view&&"centuries"!=this.view||(void 0==(w=n[4*u+f])&&(w="<span style='cursor: default; visibility: hidden;'>2013</span>"),m.setDate(h[4*u+f]));var p=m.getDate();"year"==this.view?p.getMonth()==this.getDate().getMonth()&&p.getFullYear()==this.getDate().getFullYear()&&(m.isSelected=!0):p.getFullYear()==this.getDate().getFullYear()&&(m.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(p)<this._getYearAndMonthPart(o)&&(m.isDisabled=!0),this._getYearAndMonthPart(p)>this._getYearAndMonthPart(c)&&(m.isDisabled=!0)):(p.getFullYear()<o.getFullYear()&&(m.isDisabled=!0),p.getFullYear()>c.getFullYear()&&(m.isDisabled=!0)),e.jqx.utilities.html(D,w),s[d]=m,d++}var _=e.data(this.element,t[0].id);void 0!=_&&null!=_&&(_.cells=s),this.renderedCells=s,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t},_addCellsTable:function(e,t){var i=this,a=this.showFooter?20:0;"month"!=this.view?t.height(this.host.height()-this.titleHeight):t.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-a),this._viewAnimating=!0;var s=this.host.find(".jqx-calendar-month-container");s.css("position","relative");this.host.find(".jqx-calendar-month");var r=this._createViewClone();s.append(r),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(r,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){var a=this;if(a._viewAnimating=!0,a.oldView==a.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){if(!this.disabled)try{if(this.renderedCells&&this.renderedCells.length>0){var e=this;e.selectedDate||"range"==e.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(e){}},renderViews:function(t,i,a){var s=this,r=new Array,l=e("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+a.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");this.host.find(".jqx-calendar-month-container").css("position","relative");var n=t.find("#cellsTable"+t[0].id);n[0].style.borderColor="transparent";var h=this._getDecadeAndCenturiesData(),d=h.years,o=h.dates,c=0,u=this.getMinDate(),g=this.getMaxDate(),f=new Date(this.value.dateTime);f.setDate(1);for(var m=0;m<3;m++)for(var v=0;v<4;v++){var D=v;this.rtl&&(D=3-D);var w=l[0].rows["row"+(1+m)+this.element.id];(T=new Date(f)).setMonth(4*m+D);var y=new e.jqx._jqxCalendar.cell(T),p=e(w.cells[v]);y.isVisible=!0,y.element=p,y.row=m,y.column=v,y.index=r.length,y.isSelected=!1;var _="";if("year"==this.view){T.getMonth()==this.getDate().getMonth()&&T.getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0);var b=this.localization.calendar.months.names[4*m+D];switch(this.monthNameFormat){case"default":b=this.localization.calendar.months.namesAbbr[4*m+D];break;case"shortest":b=this.localization.calendar.months.namesShort[4*m+D];break;case"firstTwoLetters":b=b.substring(0,2);break;case"firstLetter":b=b.substring(0,1)}_=b}else"decade"!=this.view&&"centuries"!=this.view||(_=d[4*m+D],y.setDate(o[4*m+D]),y.getDate().getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0),void 0==_&&(_="<span style='cursor: default; visibility: hidden;'>2013</span>"));var T=y.getDate();if("year"==this.view){var x=new Date(T);x.setDate(1),x.setHours(0,0,0,0),x.setMonth(T.getMonth()+1),x=new Date(x.valueOf()-1),(this._getYearAndMonthPart(T)<this._getYearAndMonthPart(u)||this._getYearAndMonthPart(T)>this._getYearAndMonthPart(g)||!this._hasUnrestrictedRanges(T,x))&&(y.isDisabled=!0)}else{var M=new Date(T);M.setMonth(0),M.setDate(1),M.setHours(0,0,0,0),M.setFullYear(T.getFullYear()+1),M=new Date(M.valueOf()-1),(T.getFullYear()<u.getFullYear()||T.getFullYear()>g.getFullYear()||!this._hasUnrestrictedRanges(T,M))&&(y.isDisabled=!0)}e.jqx.utilities.html(p,_),r[c]=y,c++}e.each(r,function(){var e=this.element,t=this;s.disabled||(s.addHandler(e,"mousedown",function(e){s._setDateAndSwitchViews(t,e,"mouse")}),s.addHandler(e,"mouseover",function(e){var i=s.renderedCells[t.index];"centuries"!=s.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!0,s._applyCellStyle(i,i.element,i.element))}),s.addHandler(e,"mouseout",function(e){var i=s.renderedCells[t.index];"centuries"!=s.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!1,s._applyCellStyle(i,i.element,i.element))}))});var C=e.data(this.element,t[0].id);void 0!=C&&null!=C&&(C.cells=r),this.renderedCells=r,this._addCellsTable(n,l),this._applyCellStyles()},_setDateAndSwitchViews:function(t,i,a){if(!this._viewAnimating&&!this._animating){this.getDate();var s=this.renderedCells[t.index].getDate(),r=this.value.dateTime.getDate(),l=new Date(s);-1!=this.views.indexOf("month")?l.setDate(r):(l.setDate(1),s.setDate(1)),l.getMonth()==s.getMonth()&&(s=l);var n=this.getMinDate(),h=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(n))return;if(this._getYearAndMonthPart(s)>this._getYearAndMonthPart(h))return}else{if(s.getFullYear()<n.getFullYear())return;if(s.getFullYear()>h.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(s,a),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(n)&&(s=n),this._getYearAndMonthPart(s)>this._getYearAndMonthPart(h)&&(s=h)):(s.getFullYear()<n.getFullYear()&&(s=n),s.getFullYear()>h.getFullYear()&&(s=h)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=s.getFullYear()||this.selectedDate.getMonth()!=s.getMonth()||this.selectedDate.getDate()!=s.getDate())&&(s=this.selectedDate),this.value._setYear(s.getFullYear()),this.value._setDay(s.getDate()),this.value._setMonth(s.getMonth()+1),this.value._setDay(s.getDate());var d=this.getVisibleDate(),o=this.getFirstDayOfWeek(d),c="View"+this.element.id;if(this.renderCalendarCells(this.month,o,c,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,c),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var u=this;e.each(this.renderedCells,function(t){var i=this,a=i.getDate(),r=e(i.element);if(0==r.length)return!1;var l=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};i.isOtherMonth||l(a).toString()!=l(s).toString()||(u.value._setMonth(s.getMonth()+1),u.value._setDay(s.getDate()),u.value._setYear(s.getFullYear())),i.isSelected=!1,i.isDisabled=!1,l(a)<l(u.selection.from)&&1==u._clicks&&(i.isDisabled=!0),u.getMaxDate()<a&&(i.isDisabled=!0),u.getMinDate()>a&&(i.isDisabled=!0),u._isDisabled(a)&&(i.isDisabled=!0),i.isDisabled||l(a)>=l(u.selection.from)&&l(a)<=l(u.selection.to)&&(i.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=a&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(t,i,a,s){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){var r=e("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+a.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),l=this.table;if(l[0].style.borderColor="transparent",void 0==s){var n=l.find("#cellTable"+a.toString());null!=n&&n.remove(),l.append(r)}var h=i,d=this.showDayNames?1:0,o=this.showWeekNumbers?1:0,c=new Array,u=0,g=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(g=(t.width()-2)/7),g=parseInt(g);for(var f=new e.jqx._jqxDateTimeInput.getDateTime(new Date),m=0;m<6;m++){for(var v=0;v<7;v++){var D=m+1,w=v;this.rtl&&(w=6-w);var y=w+1,p="#cell"+D+y+this.element.id,_=new Date(h.dateTime.getFullYear(),h.dateTime.getMonth(),h.dateTime.getDate()),b=new e.jqx._jqxCalendar.cell(_),T=e(r[0].rows[m].cells[y-1]);T[0].id=p.substring(1),b.isVisible=!0,b.isDisabled=!1,h.month!=this.value.month&&(b.isOtherMonth=!0,b.isVisible=this.showOtherMonthDays),this._isRestrictedDate(_)&&(b.isRestricted=!0,b.isDisabled=!0),b.isDisabled||(_<this.getMinDate()||_>this.getMaxDate()||this._isDisabled(_))&&(b.isDisabled=!0),h.month==f.month&&h.day==f.day&&h.year==f.year&&(b.isToday=!0),h.isWeekend()&&(b.isWeekend=!0),b.element=T,b.row=d,b.column=o,e.jqx.utilities.html(T,h.day),h=new e.jqx._jqxDateTimeInput.getDateTime(new Date(h._addDays(1))),e.data(this.element,"cellContent"+p.substring(1),b),e.data(this.element,""+p.substring(1),b);var x=this;if(this.addHandler(T,"mousedown",function(t){if(!x.readOnly&&!x.disabled){var i=e(t.target),a=e.data(x.element,i[0].id);x._raiseEvent(3,t);if(null!=a&&void 0!=a){var s=a.getDate();if(x.getMinDate()<=s&&s<=x.getMaxDate()&&!a.isDisabled)if(a.isOtherMonth&&x.enableAutoNavigation)a.row<2?x.navigateBackward():x.navigateForward(),x._selectDate(a.getDate(),"mouse",t.shiftKey);else{new Date(x.getDate());x._selectDate(a.getDate(),"mouse",t.shiftKey),x.value._setYear(s.getFullYear()),x.value._setDay(1),x.value._setMonth(s.getMonth()+1),x.value._setDay(s.getDate());var r=x.host.find(".jqx-calendar-month");r.stop(),r.css("margin-left","0px");x.getDate();x._raiseEvent("2"),a.isOtherMonth&&x._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!x.disabled){var M=function(t,i){if(!x.readOnly){var a=e(t.target),s=e.data(x.element,a[0].id);if(null!=s&&void 0!=s){var r=s.getDate();x.getMinDate()<=r&&r<=x.getMaxDate()&&(s.isHighlighted=i,x._applyCellStyle(s,s.element,a))}}};this.addHandler(T,"mouseenter",function(e){return M(e,!0),!1}),this.addHandler(T,"mouseleave",function(e){return M(e,!1),!1})}o++,c[u]=b,u++}o=0,d++}var C=e.data(this.element,t[0].id);void 0!=C&&null!=C&&(C.cells=c),this.renderedCells=c,void 0!=s&&this._addCellsTable(l,r),this._applyCellStyles(),this._refreshOtherMonthRows(C,a)}else this.renderViews(t,i,a)},setMaxDate:function(t,i){null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),!1!==i&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),!1!==i&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(t,i){if("month"==this.view){var a=this.getMinDate(),s=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(t<this._getYearAndMonthPart(a)||t>this._getYearAndMonthPart(s))return!1}else if(t&&(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==t)return!1;if(void 0==i){var r=this;if(this._animating)return;this._animating=!0;var l=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove()),(c=this.host.find(".jqx-calendar-month")).stop(),c.css("margin-left","0px");var n=c.clone();this._viewClone=n;var h=new Date(this.value.dateTime);this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),r.refreshControl(),l.css("position","relative"),n.css("position","absolute"),n.css("top",c.position().top),l.append(n),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var d=-this.host.width();t<h&&("month"==this.view&&t.getMonth()!=h.getMonth()?d=this.host.width():t.getFullYear()!=h.getFullYear()&&(d=this.host.width())),n.animate({marginLeft:parseInt(d)+"px"},this.navigationDelay,function(){n.remove()});var o=c.clone();this._newViewClone=o,o.css("position","absolute"),o.css("top",c.position().top),l.append(o),o.css("margin-left",-d),c.css("visibility","hidden"),o.animate({marginLeft:"0px"},this.navigationDelay,function(){o.remove(),c.css("visibility","inherit"),r._animating=!1})}else{this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1);var c=this.host.find(".jqx-calendar-month");c.stop(),c.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,a){if("none"!=this.selectionMode){null!=i&&void 0!=i||(i="none"),null!=a&&void 0!=a||(a=!1);var s=e.data(this.element,"View"+this.element.id);if(void 0!=s&&null!=s){if(this.changing&&t&&this.selectedDate){if(this.selectedDate.getFullYear()!=t.getFullYear()||this.selectedDate.getDate()!=t.getDate()||this.selectedDate.getMonth()!=t.getMonth())var r=this.changing(this.selectedDate,t);r&&(t=r)}var l=this;this.input&&(null!=t?this.input.val(t.toString()):this.input.val(""));var n=this.selectedDate;if(this.selectedDate=t,"month"!=this.view)return n!=t&&this._raiseEvent(7,{selectionType:i}),e.each(this.renderedCells,function(a){var s=this,r=s.getDate(),n=e(s.element);n.find("#cellContent"+n[0].id);if(null==t)s.isSelected=!1,s.isDisabled=!1;else if(s.isSelected=!1,r&&(r.getMonth()==t.getMonth()&&"year"==l.view&&r.getFullYear()==t.getFullYear()||"decade"==l.view&&r.getFullYear()==t.getFullYear())){s.isSelected=!0;try{"none"!=i&&s.element.focus()}catch(e){}}l._applyCellStyle(s,n,n)}),void(this.change&&this.change(t));if("month"==this.view&&"range"==this.selectionMode&&"key"==i){var h=this.getVisibleDate(),d=this.getFirstDayOfWeek(h);this.refreshCalendarCells(this.month,d,"View"+this.element.id)}var o=!1;e.each(this.renderedCells,function(s){var r=this,n=r.getDate(),h=e(r.element),d=h;if(0==h.length)return!1;if(null==t)r.isSelected=!1,r.isDisabled=!1,0==s&&(l.selection={from:null,to:null},l._raiseEvent("2"),l._raiseEvent("5",{selectionType:i}));else if("range"!=l.selectionMode||"key"==i){if(n.getDate()==t.getDate()&&n.getMonth()==t.getMonth()&&n.getFullYear()==t.getFullYear()&&r.isSelected)return l._applyCellStyle(r,h,d),void l._raiseEvent("5",{selectionType:i});if(r.isSelected&&l._raiseEvent("6",{selectionType:i}),r.isSelected=!1,n.getDate()==t.getDate()&&n.getMonth()==t.getMonth()&&n.getFullYear()==t.getFullYear()){r.isSelected=!0,0==s&&(l.selection={date:t});try{"none"!=i&&(r.element.focus(),l.host.focus())}catch(e){}r.isOtherMonth||(l.value._setMonth(t.getMonth()+1),l.value._setDay(t.getDate()),l.value._setYear(t.getFullYear()),l._raiseEvent("2"),l._raiseEvent("5",{selectionType:i}))}"range"==l.selectionMode&&(l._clicks=0,l.selection={from:t,to:t})}else if("range"==l.selectionMode){if("view"==i)return r.isSelected=!1,r.isDisabled=!1,l.getMaxDate()<n&&(r.isDisabled=!0),l.getMinDate()>n&&(r.isDisabled=!0),l._isRestrictedDate(n)&&(r.isDisabled=!0,r.isRestricted=!0),!r.isDisabled&&l._isDisabled(n)&&(r.isDisabled=!0),l._applyCellStyle(r,h,d),!0;if(0==s)if("none"!=i)if(void 0==l._clicks&&(l._clicks=0),l._clicks++,a&&l._clicks++,1==l._clicks)l.selection={from:t,to:t};else{var c=l.selection.from,u=c<=t?c:t,g=c<=t?t:c;if(u)var f=new Date(u.getFullYear(),u.getMonth(),u.getDate());if(g)var m=new Date(g.getFullYear(),g.getMonth(),g.getDate(),23,59,59);l.selection={from:f,to:m},l._clicks=0}else null!=l.selection&&null!=l.selection.from||(l.selection={from:t,to:t},void 0==l._clicks&&(l._clicks=0),l._clicks++,2==l._clicks&&(l._clicks=0));var v=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};r.isOtherMonth||v(n).toString()!=v(t).toString()||(l.value._setMonth(t.getMonth()+1),l.value._setDay(t.getDate()),l.value._setYear(t.getFullYear()),l._raiseEvent("2"),l._raiseEvent("5",{selectionType:i})),r.isSelected=!1,r.isDisabled=o,v(n)<v(l.selection.from)&&1==l._clicks&&(r.isDisabled=!0),l.getMaxDate()<n&&(r.isDisabled=!0),l.getMinDate()>n&&(r.isDisabled=!0),l._isRestrictedDate(n)&&(r.isRestricted=!0,r.isDisabled=!0),!r.isDisabled&&l._isDisabled(n)&&(r.isDisabled=!0),r.isDisabled?!l.allowRestrictedDaysInRange&&v(n)>=v(l.selection.from)&&l.selection.to==l.selection.from&&(o=!0):v(n)>=v(l.selection.from)&&v(n)<=v(l.selection.to)&&(r.isSelected=!0)}l._applyCellStyle(r,h,d)}),"range"!=l.selectionMode||0!=l._clicks?"range"!=l.selectionMode&&n!=t&&(l._raiseEvent(7,{selectionType:i}),this.change&&this.change(t)):l._raiseEvent(7,{selectionType:i})}}},_getSelectedDate:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t){if("month"!=this.view)return this.selectedDate;for(var i=0;i<t.cells.length;i++){var a=t.cells[i],s=a.getDate();if(a.isSelected)return s}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var a=t.cells[i];a.getDate();if(a.isSelected)return a}},_applyCellStyle:function(t,i,a){var s=this;(null==a||null!=a&&0==a.length)&&(a=i);var r="";if(r=this.toThemeProperty("jqx-rc-all"),r+=" "+this.toThemeProperty("jqx-item"),(this.disabled||t.isDisabled&&!t.isRestricted)&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),r+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&t.isRestricted&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),t.isVisible?(r+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&a.length>0&&-1!=a.html().toLowerCase().indexOf("span")&&a.css("cursor","default")):r+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),a.removeAttr("aria-selected"),t.isSelected&&t.isVisible){r+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),r+=" "+this.toThemeProperty("jqx-fill-state-pressed"),a.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",a[0].id);var l=t.getDate();this._isDisabled(l)&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(r+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),r+=" "+this.toThemeProperty("jqx-fill-state-hover"))),r+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),t.isToday&&t.isVisible&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-today")),a[0].className=r,this.specialDates.length>0){var n=this;e.each(this.specialDates,function(){void 0!=this.Class&&null!=this.Class&&""!=this.Class?a.removeClass(this.Class):a.removeClass(s.toThemeProperty("jqx-calendar-cell-specialDate"));var i=t.getDate();if(i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()){if(null==t.tooltip&&null!=this.Tooltip&&(t.tooltip=this.Tooltip,e(a).jqxTooltip)){var r=this.Class;e(a).jqxTooltip({value:{cell:t,specialDate:this.Date},name:n.element.id,content:this.Tooltip,position:"mouse",theme:n.theme,opening:function(e){return!!a.hasClass(s.toThemeProperty("jqx-calendar-cell-specialDate"))||!!a.hasClass(r)}})}return a.removeClass(s.toThemeProperty("jqx-calendar-cell-othermonth")),a.removeClass(s.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(a.addClass(s.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(a.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var a=t.cells[i],s=e(a.element),r=s.find("#cellContent"+s[0].id);0==r.length&&(r=s),this._applyCellStyle(a,s,r)}},getWeekOfYear:function(e){var t=new Date(e.dateTime);dowOffset=this.firstDayOfWeek;var i=new Date(t.getFullYear(),0,1),a=i.getDay()-dowOffset;a=a>=0?a:a+7;var s,r=Math.floor((t.getTime()-i.getTime()-6e4*(t.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;return a<4?(s=Math.floor((r+a-1)/7)+1)>52&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,s=nday<4?1:53):s=Math.floor((r+a-1)/7),s},renderColumnHeader:function(t){if(this.showDayNames){var i=e("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),i.addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(i);var a=this.getVisibleDate(),s=this.getFirstDayOfWeek(a),r=(s.dayOfWeek,this.getWeekOfYear(s),this.firstDayOfWeek),l=this.localization.calendar.days.names,n=new Array,h=s,d=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(d=(t.width()-2)/7);for(var o=0;o<7;o++){var c=l[r];switch(this.rtl&&(c=l[6-r]),this.dayNameFormat){case"default":c=this.localization.calendar.days.namesAbbr[r],this.rtl&&(c=this.localization.calendar.days.namesAbbr[6-r]);break;case"shortest":c=this.localization.calendar.days.namesShort[r],this.rtl&&(c=this.localization.calendar.days.namesShort[6-r]);break;case"firstTwoLetters":c=c.substring(0,2);break;case"firstLetter":c=c.substring(0,1)}var u=new e.jqx._jqxCalendar.cell(h.dateTime),g=o+1+this.element.id,f=e(i[0].rows[0].cells[o]),m=o;this.enableTooltips&&e(f).jqxTooltip&&e(f).jqxTooltip({name:this.element.id,content:l[r],theme:this.theme,position:"mouse"}),r>=6?r=0:r++,o=m,u.element=f,u.row=0,u.column=o+1;var v=this._textwidth(c),D="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+g+"'>"+c+"</div>";if(f.append(D),f.find("#columnCell"+g).addClass(this.toThemeProperty("jqx-calendar-column-cell")),f.width(d),this.disabled&&f.find("#columnCell"+g).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),v>0&&d>0)for(;v>f.width()&&0!=c.length;)c=c.substring(0,c.length-1),e.jqx.utilities.html(f.find("#columnCell"+g),c),v=this._textwidth(c);n[o]=u,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date(h._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width()),e.data(this.element,t[0].id).columnCells=n}},_format:function(t,i,a){var s=!1;try{void 0!=Globalize&&(s=!0)}catch(e){}if(e.global)return e.global.culture.calendar=this.localization.calendar,e.global.format(t,i,this.culture);if(s)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(t,i,this.culture)):Globalize.format(t,i,this.culture)}catch(e){return Globalize.format(t,i)}else if(e.jqx.dataFormat)return e.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=e("<span>"+t+"</span>");i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),e(this.host).append(i);var a=i.width();return i.remove(),a},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var a=i.height();return i.remove(),a},_renderRowHeader:function(t){var i=this.getVisibleDate(),a=this.getFirstDayOfWeek(i),s=(a.dayOfWeek,this.getWeekOfYear(a)),r=new e.jqx._jqxDateTimeInput.getDateTime(new Date(a.dateTime));r._addDays(5),r.dayOfWeek=r.dateTime.getDay();this.getWeekOfYear(r);53==s&&0==r.dateTime.getMonth()&&(s=1);var l=e("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");l.find("table").addClass(this.toThemeProperty("jqx-reset")),l.find("td").addClass(this.toThemeProperty("jqx-reset")),l.find("tr").addClass(this.toThemeProperty("jqx-reset")),l.addClass(this.toThemeProperty("jqx-calendar-row-header")),l.width(this.rowHeaderWidth),this.rowHeader.append(l);for(var n=a,h=new Array,d=0;d<6;d++){var o=s.toString(),c=new e.jqx._jqxCalendar.cell(n.dateTime),u=d+1+this.element.id,g=e(l[0].rows[d].cells[0]);c.element=g,c.row=d,c.column=0;var f="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+u+"'>"+o+"</div>";g.append(f),g.find("#headerCellContent"+u).addClass(this.toThemeProperty("jqx-calendar-row-cell")),h[d]=c,n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(n._addWeeks(1))),s=this.getWeekOfYear(n)}e.data(this.element,t[0].id).rowCells=h},getFirstDayOfWeek:function(t){var i=t;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var a=i.dayOfWeek-this.firstDayOfWeek;return a<=0&&(a+=7),e.jqx._jqxDateTimeInput.getDateTime(i._addDays(-a))},getVisibleDate:function(){var t=new e.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),t.dateTime.setHours(0);var i=t.day;return t=e.jqx._jqxDateTimeInput.getDateTime(t._addDays(1-i))},destroy:function(t){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=t&&this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var a=this.events[t],s=i||{};s.owner=this;var r=new e.Event(a);if(r.owner=this,r.args=s,0==t||1==t||2==t||3==t||4==t||5==t||6==t||7==t||8==t){r.args.date=r.args.selectedDate=this.getDate(),r.args.range=this.getRange();var l=this.getViewStart(),n=this.getViewEnd();r.args.view={from:l,to:n}}if(7==t){var h=s.selectionType;h||(h=null),"key"==h&&(h="keyboard"),"none"==h&&(h=null),s.type=h}var d=this.host.trigger(r);return 0!=t&&1!=t||(d=!1),d},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.height(this.height):e.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.width(this.width):e.width(this.width);var t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).height(t),e.find("#calendarRowHeader"+i).height(t),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,a,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&"enableHover"!=i&&"keyboardNavigation"!=i){if("localization"==i&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==i)try{if(e.global)e.global.preferCulture(t.culture),t.localization.calendar=e.global.culture.calendar;else if(Globalize){var r=Globalize.culture(t.culture);t.localization.calendar=r.calendar}t.localization.calendar&&void 0!=t.localization.calendar.firstDay&&"default"!=t.culture&&(t.firstDayOfWeek=t.localization.calendar.firstDay)}catch(e){}if("views"==i)return-1==t.views.indexOf("month")&&(t.view="year"),-1==t.views.indexOf("year")&&-1==t.views.indexOf("month")&&(t.view="decade"),void t.render();"showFooter"==i&&t.render(),"width"!=i&&"height"!=i?"theme"==i?e.jqx.utilities.setTheme(a,s,t.host):"rowHeaderWidth"==i||"showWeekNumbers"==i?t.render():(t.view="month",t.render()):t._setSize()}}})}(jqxBaseFramework),function(e){e.jqx._jqxCalendar.cell=function(t){return{dateTime:new e.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new e.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},e.jqx._jqxCalendar.monthView=function(e,t,i,a,s,r){return{start:e,end:t,cells:i,rowCells:a,columnCells:s,element:r}}}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxChart","",{}),e.extend(e.jqx._jqxChart.prototype,{defineInstance:function(){return e.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(t){if(!e.jqx.dataAdapter)throw"jqxdata.js is not loaded";var i=this;i._refreshOnDownloadComlete(),i._isTouchDevice=e.jqx.mobile.isTouchDevice(),i._jqxPlot||(i._jqxPlot=new jqxPlot),i.addHandler(i.host,i._getEvent("mousemove"),function(t){if(0!=i.enabled){i._isRangeSelectorInstance||i.host.css("cursor","default");var r=t.pageX||t.clientX||t.screenX,s=t.pageY||t.clientY||t.screenY,a=i.host.offset();if(i._isTouchDevice){var n=e.jqx.position(t);r=n.left,s=n.top}r-=a.left,s-=a.top,i.onmousemove(r,s)}}),i.addHandler(i.host,i._getEvent("mouseleave"),function(e){if(0!=i.enabled){var t=i._mouseX,r=i._mouseY,s=i._plotRect;s&&t>=s.x&&t<=s.x+s.width&&r>=s.y&&r<=s.y+s.height||(i._cancelTooltipTimer(),i._hideToolTip(0),i._unselect())}}),i.addHandler(i.host,"click",function(t){if(0!=i.enabled){var r=t.pageX||t.clientX||t.screenX,s=t.pageY||t.clientY||t.screenY,a=i.host.offset();if(i._isTouchDevice){var n=e.jqx.position(t);r=n.left,s=n.top}r-=a.left,s-=a.top,i._mouseX=r,i._mouseY=s,!isNaN(i._lastClickTs)&&(new Date).valueOf()-i._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(i._isTouchDevice||(i._cancelTooltipTimer(),i._hideToolTip(),i._unselect()),i._pointMarker&&i._pointMarker.element){var e=i.seriesGroups[i._pointMarker.gidx],r=e.series[i._pointMarker.sidx];t.stopImmediatePropagation(),i._raiseItemEvent("click",e,r,i._pointMarker.iidx)}},100))}});var r=i.element.style;if(r){var s=!1;null!=r.width&&(s|=-1!=r.width.toString().indexOf("%")),null!=r.height&&(s|=-1!=r.height.toString().indexOf("%")),s&&e.jqx.utilities.resize(this.host,function(){i.timer&&clearTimeout(i.timer);i.timer=setTimeout(function(){var e=i.enableAnimations;i.enableAnimations=!1,i.refresh(),i.enableAnimations=e},1)},!1,!0)}},_refreshOnDownloadComlete:function(){var t=this,i=this.source;if(i instanceof e.jqx.dataAdapter){var r=i._options;(void 0==r||void 0!=r&&!r.autoBind)&&(i.autoSync=!1,i.dataBind());var s=this.element.id;if(0==i.records.length){i.unbindDownloadComplete(s),i.bindDownloadComplete(s,function(){t.ready&&t.ready(),t.refresh()})}else t.ready&&t.ready();i.unbindBindingUpdate(s),i.bindBindingUpdate(s,function(){t._supressBindingRefresh||t.refresh()})}},propertyChangedHandler:function(e,t,i,r){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include jqxdraw.js";return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t._stopAnimations(),t.renderer&&(t._isToggleRefresh||t._isUpdate)||(t._hideToolTip(0),t._isVML=!1,t.host.empty(),t._measureDiv=void 0,t._initRenderer(t.host));var i=t.renderer;if(i){var r=i.getRect();t._render({x:1,y:1,width:r.width,height:r.height}),this._raiseEvent("refreshBegin",{instance:this}),i instanceof e.jqx.HTML5Renderer&&i.refresh(),t._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(t,i,r,s){for(var a=!1,n=0;n<this.seriesGroups.length&&!a;n++){var o=this._getXAxis(n);o&&o.rangeSelector&&(a=!0)}return e.jqx._widgetToImage(this,t,i,r,s,a?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(t,i){for(var r=t,s=0;s<r.seriesGroups.length;s++){var a=r._getXAxis(s);if(a&&a.rangeSelector&&!a.rangeSelector.renderTo){var n=r._rangeSelectorInstances[s];if(n){var o=n.jqxChart("getInstance"),l=(o.renderEngine,o.renderer.getRect()),h=o.renderer.getContainer().find("canvas")[0].getContext("2d"),d=r._sliders[s],f="horizontal"==r.seriesGroups[s].orientation,g=f?"height":"width",u=f?"width":"height",c=f?"y":"x",x=f?"x":"y",m={};m[c]=d.startOffset+d.rect[c],m[x]=d.rect[x],m[g]=d.endOffset-d.startOffset,m[u]=d.rect[u];var p=a.rangeSelector.colorSelectedRange||"blue",_=(a.rangeSelector.colorUnselectedRange,a.rangeSelector.colorRangeLine||"grey"),y=[];y.push(o.renderer.rect(m.x,m.y,m.width,m.height,{fill:p,opacity:.1})),f?(y.push(o.renderer.line(e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(m.y),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(m.y+m.height),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(d.rect.x),e.jqx._ptrnd(m.y),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(m.y),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(d.rect.x),e.jqx._ptrnd(m.y+m.height),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(m.y+m.height),{stroke:_,opacity:.5}))):(y.push(o.renderer.line(e.jqx._ptrnd(d.rect.x),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(m.x),e.jqx._ptrnd(d.rect.y),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(m.x+m.width),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(d.rect.y),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(m.x),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(m.x),e.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:_,opacity:.5})),y.push(o.renderer.line(e.jqx._ptrnd(m.x+m.width),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(m.x+m.width),e.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:_,opacity:.5}))),o.renderer.refresh();var v=h.getImageData(l.x,l.y,l.width,l.height);i.getContext("2d").putImageData(v,parseInt(n.css("left")),parseInt(n.css("top")),1,1,l.width,l.height);for(var N=0;N<y.length;N++)o.renderer.removeElement(y[N]);o.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var t in e._defaultSettings)e[t]=e._defaultSettings[t];e.title="",e.description="",e.refresh()},_validateSeriesGroups:function(){if(!e.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];if(!i.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!e.isArray(i.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(t){var i=this,r=i.renderer;i._validateSeriesGroups(),i._colorsCache.clear(),!i._isToggleRefresh&&i._isUpdate&&i._renderData&&i._renderDataClone(),i._renderData=[],r.clear(),i._unselect(),i._hideToolTip(0);var s=i.backgroundImage;void 0==s||""==s?i.host.css({"background-image":""}):i.host.css({"background-image":-1!=s.indexOf("(")?s:"url('"+s+"')"}),i._rect=t;var a=i.padding||{left:5,top:5,right:5,bottom:5},n=r.createClipRect(t),o=r.beginGroup();r.setClip(o,n);var l=r.rect(t.x,t.y,t.width-2,t.height-2);if(void 0==s||""==s?r.attr(l,{fill:i.backgroundColor||i.background||"white"}):r.attr(l,{fill:"transparent"}),0!=i.showBorderLine){var h=void 0==i.borderLineColor?i.borderColor:i.borderLineColor;void 0==h&&(h=i._defaultLineColor);var d=this.borderLineWidth;(isNaN(d)||d<0||d>10)&&(d=1),r.attr(l,{"stroke-width":d,stroke:h})}else e.jqx.browser.msie&&e.jqx.browser.version<9&&r.attr(l,{"stroke-width":1,stroke:i.backgroundColor||"white"});e.isFunction(i.drawBefore)&&i.drawBefore(r,t);var f={x:a.left,y:a.top,width:t.width-a.left-a.right,height:t.height-a.top-a.bottom};i._paddedRect=f;var g,u=i.titlePadding||{left:2,top:2,right:2,bottom:2};if(i.title&&i.title.length>0){var c=i.toThemeProperty("jqx-chart-title-text",null);g=r.measureText(i.title,0,{class:c}),r.text(i.title,f.x+u.left,f.y+u.top,f.width-(u.left+u.right),g.height,0,{class:c},!0,"center","center"),f.y+=g.height,f.height-=g.height}if(i.description&&i.description.length>0){var x=i.toThemeProperty("jqx-chart-title-description",null);g=r.measureText(i.description,0,{class:x}),r.text(i.description,f.x+u.left,f.y+u.top,f.width-(u.left+u.right),g.height,0,{class:x},!0,"center","center"),f.y+=g.height,f.height-=g.height}(i.title||i.description)&&(f.y+=u.bottom+u.top,f.height-=u.bottom+u.top);var m={x:f.x,y:f.y,width:f.width,height:f.height};i._plotRect=m,i._buildStats(m);for(var p,_=i._isPieOnlySeries(),y=i.seriesGroups,v={xAxis:{},valueAxis:{}},N=0;N<y.length&&!_;N++)if("pie"!=y[N].type&&"donut"!=y[N].type){if(!(J=i._getXAxis(N)))throw"seriesGroup["+N+"] is missing xAxis definition";A=J==i._getXAxis()?-1:N;v.xAxis[A]=0}var M=i.axisPadding;isNaN(M)&&(M=5);var b={left:0,right:0,leftCount:0,rightCount:0},w=[];for(N=0;N<y.length;N++)if("pie"!=(z=y[N]).type&&"donut"!=z.type&&1!=z.spider&&1!=z.polar){p="horizontal"==z.orientation;var A=(J=i._getXAxis(N))==i._getXAxis()?-1:N,S=(T=i._getValueAxis(N))==i._getValueAxis()?-1:N,C=p?J.axisSize:T.axisSize,k={x:0,y:m.y,width:m.width,height:m.height},D=p?i._getXAxis(N).position:T.position;C&&"auto"!=C||(p?(C=this._renderXAxis(N,k,!0,m).width,1==(1&v.xAxis[A])?C=0:C>0&&(v.xAxis[A]|=1)):(C=i._renderValueAxis(N,k,!0,m).width,1==(1&v.valueAxis[S])?C=0:C>0&&(v.valueAxis[S]|=1))),"left"!=D&&1==i.rtl&&(D="right"),"right"!=D&&(D="left"),b[D+"Count"]>0&&b[D]>0&&C>0&&(b[D]+=M),w.push({width:C,position:D,xRel:b[D]}),b[D]+=C,b[D+"Count"]++}else w.push({width:0,position:0,xRel:0});var O=Math.max(1,Math.max(t.width,t.height)),F={top:0,bottom:0,topCount:0,bottomCount:0},j=[];for(N=0;N<y.length;N++)if("pie"!=(z=y[N]).type&&"donut"!=z.type&&1!=z.spider&&1!=z.polar){p="horizontal"==z.orientation;var T=this._getValueAxis(N),S=T==i._getValueAxis()?-1:N,A=(J=i._getXAxis(N))==i._getXAxis()?-1:N,I=p?T.axisSize:J.axisSize,D=p?T.position:J.position;I&&"auto"!=I||(p?(I=i._renderValueAxis(N,{x:0,y:0,width:O,height:0},!0,m).height,2==(2&v.valueAxis[S])?I=0:I>0&&(v.valueAxis[S]|=2)):(I=i._renderXAxis(N,{x:0,y:0,width:O,height:0},!0).height,2==(2&v.xAxis[A])?I=0:I>0&&(v.xAxis[A]|=2))),"top"!=D&&(D="bottom"),F[D+"Count"]>0&&F[D]>0&&I>0&&(F[D]+=M),j.push({height:I,position:D,yRel:F[D]}),F[D]+=I,F[D+"Count"]++}else j.push({height:0,position:0,yRel:0});i._createAnimationGroup("series");var P=0!=i.showLegend,q=P?i._renderLegend(i.legendLayout?i._rect:f,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(q={width:0,height:0}),f.height<F.top+F.bottom+q.height||f.width<b.left+b.right)r.endGroup();else{m.height-=F.top+F.bottom+q.height,m.x+=b.left,m.width-=b.left+b.right,m.y+=F.top;var L=[];if(!_){i._getXAxis().tickMarksColor||i._defaultLineColor;for(N=0;N<y.length;N++)if(1!=(z=y[N]).polar&&1!=z.spider&&"pie"!=z.type&&"donut"!=z.type){p="horizontal"==z.orientation;var A=i._getXAxis(N)==i._getXAxis()?-1:N,S=i._getValueAxis(N)==i._getValueAxis()?-1:N,k={x:m.x,y:0,width:m.width,height:j[N].height};if("top"!=j[N].position?k.y=m.y+m.height+j[N].yRel:k.y=m.y-j[N].yRel-j[N].height,p){if(4==(4&v.valueAxis[S]))continue;if(!i._isGroupVisible(N))continue;i._renderValueAxis(N,k,!1,m),v.valueAxis[S]|=4}else{if(L.push(k),4==(4&v.xAxis[A]))continue;if(!i._isGroupVisible(N))continue;i._renderXAxis(N,k,!1,m),v.xAxis[A]|=4}}}if(P){var R=i.legendLayout?i._rect:f,G=f.x+e.jqx._ptrnd((f.width-q.width)/2),V=m.y+m.height+F.bottom,C=f.width,I=q.height;i.legendLayout&&(isNaN(i.legendLayout.left)||(G=i.legendLayout.left),isNaN(i.legendLayout.top)||(V=i.legendLayout.top),isNaN(i.legendLayout.width)||(C=i.legendLayout.width),isNaN(i.legendLayout.height)||(I=i.legendLayout.height)),G+C>R.x+R.width&&(C=R.x+R.width-G),V+I>R.y+R.height&&(I=R.y+R.height-V),i._renderLegend({x:G,y:V,width:C,height:I})}if(i._hasHorizontalLines=!1,!_)for(N=0;N<y.length;N++)if(1!=(z=y[N]).polar&&1!=z.spider&&"pie"!=z.type&&"donut"!=z.type){p="horizontal"==y[N].orientation;k={x:m.x-w[N].xRel-w[N].width,y:m.y,width:w[N].width,height:m.height};"left"!=w[N].position&&(k.x=m.x+m.width+w[N].xRel);var A=i._getXAxis(N)==i._getXAxis()?-1:N,S=i._getValueAxis(N)==i._getValueAxis()?-1:N;if(p){if(L.push(k),8==(8&v.xAxis[A]))continue;if(!i._isGroupVisible(N))continue;i._renderXAxis(N,k,!1,m),v.xAxis[A]|=8}else{if(8==(8&v.valueAxis[S]))continue;if(!i._isGroupVisible(N))continue;i._renderValueAxis(N,k,!1,m),v.valueAxis[S]|=8}}if(!(m.width<=0||m.height<=0)){for(i._plotRect={x:m.x,y:m.y,width:m.width,height:m.height},N=0;N<y.length;N++)this._drawPlotAreaLines(N,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(N,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(N=0;N<y.length;N++)this._drawPlotAreaLines(N,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(N,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var E=!1;for(N=0;N<y.length&&!E;N++)if(void 0!==(z=y[N]).annotations||e.isFunction(z.draw)||e.isFunction(z.drawBefore)){E=!0;break}var H=r.beginGroup();if(!E){var B=r.createClipRect({x:m.x-2,y:m.y,width:m.width+4,height:m.height});r.setClip(H,B)}for(N=0;N<y.length;N++){var z=y[N],W=!1;for(var X in i._seriesTypes)if(i._seriesTypes[X]==z.type){W=!0;break}if(!W)throw'Invalid serie type "'+z.type+'"';e.isFunction(z.drawBefore)&&z.drawBefore(r,t,N,this),1!=z.polar&&1!=z.spider||-1==z.type.indexOf("pie")&&-1==z.type.indexOf("donut")&&i._renderSpiderAxis(N,m),i._renderAxisBands(N,m,!0),i._renderAxisBands(N,m,!1)}for(N=0;N<y.length;N++){z=y[N];if(i._isColumnType(z.type)?i._renderColumnSeries(N,m):-1!=z.type.indexOf("pie")||-1!=z.type.indexOf("donut")?i._renderPieSeries(N,m):-1!=z.type.indexOf("line")||-1!=z.type.indexOf("area")?i._renderLineSeries(N,m):-1!=z.type.indexOf("scatter")||-1!=z.type.indexOf("bubble")?i._renderScatterSeries(N,m):-1==z.type.indexOf("candlestick")&&-1==z.type.indexOf("ohlc")||i._renderCandleStickSeries(N,m,-1!=z.type.indexOf("ohlc")),z.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var U=0;U<z.annotations.length;U++)i._renderAnnotation(N,z.annotations[U],m)}e.isFunction(z.draw)&&i.draw(r,t,N,this)}if(r.endGroup(),0==i.enabled){var Y=r.rect(t.x,t.y,t.width,t.height);r.attr(Y,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}e.isFunction(i.draw)&&i.draw(r,t),r.endGroup(),i._startAnimation("series"),i._credits&&i._credits();for(var Z=!1,N=0;N<i.seriesGroups.length&&!Z;N++){var J=i._getXAxis(N);J&&J.rangeSelector&&(Z=!0)}if(Z){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var Q=[];for(this._isSelectorRefresh||(i.removeHandler(e(document),i._getEvent("mousemove"),i._onSliderMouseMove),i.removeHandler(e(document),i._getEvent("mousedown"),i._onSliderMouseDown),i.removeHandler(e(document),i._getEvent("mouseup"),i._onSliderMouseUp)),i._isSelectorRefresh||(i._rangeSelectorInstances={}),N=0;N<i.seriesGroups.length;N++){var K=this._getXAxis(N);-1==Q.indexOf(K)&&this._renderXAxisRangeSelector(N,L[N])&&Q.push(K)}}}}},_credits:function(){var t=this,i=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(!t._isRangeSelectorInstance&&-1==location.hostname.indexOf(i.substring(4))){var r=t.renderer,s=t._rect,a={class:t.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},n=r.measureText(i,0,a),o=r.text(i,s.x+s.width-n.width-5,s.y+s.height-n.height-5,n.width,n.height,0,a);e(o).on("click",function(){location.href="http://"+i+"/?ref="+t.widgetName})}},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(t,i,r,s){var a=this,n=a.renderer,o={x:i.x,y:i.y,width:i.width,height:i.height};o.width>=6&&(o.x+=3,o.width-=6),o.height>=6&&(o.y+=3,o.height-=6);for(var l={width:o.width,height:0},h=0,d=0,f=20,g=0,u=0,c=0;c<t.length;c++){var x=t[c].css;x||(x=a.toThemeProperty("jqx-chart-legend-text",null)),f=20;var m=t[c].text,p=n.measureText(m,0,{class:x});p.height>f&&(f=p.height),p.width>u&&(u=p.width),s?(0!=c&&(d+=f),d>o.height&&(d=0,h+=u+20+10,u=p.width,l.width=h+u)):(0!=h&&(h+=10),h+20+p.width>o.width&&p.width<o.width&&(h=0,d+=f,f=20,g=o.width,l.height=d+f));var _=!1;if(p.width>o.width){_=!0;for(var y=o.width,v=(L=m).split(/\s+/),N=[],M="",b=0;b<v.length;b++){G=M+(M.length>0?" ":"")+v[b];(C=a.renderer.measureText(G,0,{class:x})).width>y&&G.length>0&&M.length>0?(N.push({text:M}),M=v[b]):M=G,b+1==v.length&&N.push({text:M})}p.width=0;for(var w=0,A=0;A<N.length;A++){var S=N[A].text,C=a.renderer.measureText(S,0,{class:x});p.width=Math.max(p.width,C.width),w+=p.height}p.height=w}k=h+p.width<o.width&&d+p.height<i.height;if(a.legendLayout)var k=o.x+h+p.width<a._rect.x+a._rect.width&&o.y+d+p.height<a._rect.y+a._rect.height;if(!r&&k){var D=t[c].seriesIndex,O=t[c].groupIndex,F=t[c].itemIndex,j=t[c].fillColor,T=t[c].lineColor,I=a._isSerieVisible(O,D,F),P=n.beginGroup(),q=I?t[c].opacity:.1;if(_){for(var L=m,y=o.width,v=L.split(/\s+/),R=0,N=[],M="",b=0;b<v.length;b++){var G=M+(M.length>0?" ":"")+v[b];(C=a.renderer.measureText(G,0,{class:x})).width>y&&G.length>0&&M.length>0?(N.push({text:M,dy:R}),R+=C.height,M=v[b]):M=G,b+1==v.length&&N.push({text:M,dy:R})}for(A=0;A<N.length;A++){S=N[A].text;R=N[A].dy;C=a.renderer.measureText(S,0,{class:x});s?a.renderer.text(S,o.x+h+15,o.y+d+R,p.width,f,0,{class:x},!1,"left","center"):a.renderer.text(S,o.x+h+15,o.y+d+R,p.width,f,0,{class:x},!1,"center","center")}V=n.rect(o.x+h,o.y+d+5+R/2,10,10);s&&(d+=R),a.renderer.attr(V,{fill:j,"fill-opacity":q,stroke:T,"stroke-width":1,"stroke-opacity":t[c].opacity})}else{var V=n.rect(o.x+h,o.y+d+5,10,10);a.renderer.attr(V,{fill:j,"fill-opacity":q,stroke:T,"stroke-width":1,"stroke-opacity":t[c].opacity}),s?a.renderer.text(m,o.x+h+15,o.y+d,p.width,p.height+5,0,{class:x},!1,"left","center"):a.renderer.text(m,o.x+h+15,o.y+d,p.width,f,0,{class:x},!1,"center","center")}a.renderer.endGroup(),a._setLegendToggleHandler(O,D,F,P)}s||g<(h+=p.width+20)&&(g=h)}if(r)return l.height=e.jqx._ptrnd(d+f+5),l.width=e.jqx._ptrnd(g),l},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(t,i,r){for(;this._itemsToggleState.length<t+1;)this._itemsToggleState.push([]);for(var s=this._itemsToggleState[t];s.length<i+1;)s.push(!!isNaN(r)||[]);var a=s[i];if(isNaN(r))return a;for(e.isArray(a)||(s[i]=a=[]);a.length<r+1;)a.push(!0);return a[r]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var r=0;r<i.length;r++)if(this._isSerieVisible(e,r)){t=!0;break}return t},_toggleSerie:function(t,i,r,s){var a=!this._isSerieVisible(t,i,r);void 0!=s&&(a=s);var n=this.seriesGroups[t],o=n.series[i];if(this._raiseEvent("toggle",{state:a,seriesGroup:n,serie:o,elementIndex:r}),isNaN(r))this._itemsToggleState[t][i]=a;else{var l=this._itemsToggleState[t][i];for(e.isArray(l)||(l=[]);l.length<r;)l.push(!0);l[r]=a}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(e,t,i,r){var s=this.seriesGroups[e],a=s.series[t].enableSeriesToggle;if(void 0==a&&(a=0!=s.enableSeriesToggle),a){var n=this;this.renderer.addHandler(r,"click",function(r){n._toggleSerie(e,t,i)})}},_renderLegend:function(e,t){for(var i=this,r=[],s=0;s<i.seriesGroups.length;s++){var a=i.seriesGroups[s];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l,h=i._getSerieSettings(s,n);if("pie"!=a.type&&"donut"!=a.type){var d=o.legendFormatSettings||a.legendFormatSettings,f=o.legendFormatFunction||a.legendFormatFunction;l=i._formatValue(o.displayText||o.dataField||"",d,f,s,n,NaN);var g=i._getSeriesColors(s,n),u=this._get([o.legendFillColor,o.legendColor,g.fillColor]),c=this._get([o.legendLineColor,o.legendColor,g.lineColor]);r.push({groupIndex:s,seriesIndex:n,text:l,css:o.displayTextClass,fillColor:u,lineColor:c,opacity:h.opacity})}else for(var x=i._getXAxis(s),d=o.legendFormatSettings||a.legendFormatSettings||x.formatSettings||o.formatSettings||a.formatSettings,f=o.legendFormatFunction||a.legendFormatFunction||x.formatFunction||o.formatFunction||a.formatFunction,m=i._getDataLen(s),p=0;p<m;p++){l=i._getDataValue(p,o.displayText,s),l=i._formatValue(l,d,f,s,n,p);g=i._getColors(s,n,p);r.push({groupIndex:s,seriesIndex:n,itemIndex:p,text:l,css:o.displayTextClass,fillColor:g.fillColor,lineColor:g.lineColor,opacity:h.opacity})}}}}return i._renderChartLegend(r,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,r,s,a,n,o,l){var h=this._getInterval(s[e],o),d=[];(""==e||s[e].visible&&"custom"!=s[e].visible)&&(d=this._generateIntervalValues(r,h,o,n,l));var f;if("labels"!=e){u=n?a.left:0;if(!n&&o>1&&(u=a.left*(o+1)),1==d.length&&(u*=2),f=this._valuesToOffsets(d,t,r,i,a,!1,u),!n){var g=(a.left+a.right)*h/o;t.flip?f.unshift(f[0]+g):f.push(f[f.length-1]+g)}}else{var u=a.left;1==d.length&&(u*=2),f=this._valuesToOffsets(d,t,r,i,a,n,u)}var c=this._arraysToObjectsArray([d,f],["value","offset"]);if(t[e]&&t[e].custom)for(var x=this._objectsArraysToArray(t[e].custom,"value"),m=this._objectsArraysToArray(t[e].custom,"offset"),p=this._valuesToOffsets(x,t,r,i,a,n,a.left),_=0;_<t[e].custom.length;_++)c.push({value:x[_],offset:isNaN(m[_])?p[_]:m[_]});return c},_renderXAxis:function(t,i,r,s){var a=this,n=a._getXAxis(t),o=a.seriesGroups[t],l="horizontal"==o.orientation,h={width:0,height:0},d=a._getAxisSettings(n);if(!n||!d.visible||"spider"==o.type)return h;if(!a._isGroupVisible(t)||this._isPieGroup(t))return h;for(var f=a._alignValuesWithTicks(t);a._renderData.length<t+1;)a._renderData.push({});a.rtl&&(n.flip=!0);var g=l?i.height:i.width,u=n.text,c=a._calculateXOffsets(t,g),x=c.axisStats,m=n.rangeSelector,p=0;if(m){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";p=this._selectorGetSize(n)}var _=l&&"right"==n.position||!l&&"top"==n.position;!r&&m&&(l?(i.width-=p,"right"!=n.position&&(i.x+=p)):(i.height-=p,"top"==n.position&&(i.y+=p)));var y={rangeLength:c.rangeLength,itemWidth:c.itemWidth,intervalWidth:c.intervalWidth,data:c,settings:d,isMirror:_,rect:i};a._renderData[t].xAxis=y;var v=x.interval;if(isNaN(v))return h;l&&(d.title.angle-=90,d.labels.angle-=90);var N,M=this._getInterval(d.gridLines,v),b=this._getInterval(d.tickMarks,v),w=this._getInterval(d.labels,v),A=x.min,S=x.max,C=c.padding,k=1==n.flip||a.rtl,D={min:A,max:S};x.logAxis.enabled&&(D.min=x.logAxis.minPow,D.max=x.logAxis.maxPow),"date"==n.type?(d.gridLines.offsets=this._generateDTOffsets(A,S,g,C,M,v,x.dateTimeUnit,f,NaN,!1,k),d.tickMarks.offsets=this._generateDTOffsets(A,S,g,C,b,v,x.dateTimeUnit,f,NaN,!1,k),N=this._generateDTOffsets(A,S,g,C,w,v,x.dateTimeUnit,f,NaN,!0,k)):(d.gridLines.offsets=this._getOffsets("gridLines",n,g,x,d,C,f,v),d.tickMarks.offsets=this._getOffsets("tickMarks",n,g,x,d,C,f,v),N=this._getOffsets("labels",n,g,x,d,C,f,v));var O;a.renderer.getRect().width,i.x,i.width,a._getDataLen(t);a._elementRenderInfo&&a._elementRenderInfo.length>t&&(O=a._elementRenderInfo[t].xAxis);var F,j=[];d.labels.formatFunction&&(F=d.labels.formatFunction);var T;d.labels.formatSettings&&(T=e.extend({},d.labels.formatSettings)),"date"==n.type&&(n.dateFormat&&!F?T?T.dateFormat=T.dateFormat||n.dateFormat:T={dateFormat:n.dateFormat}:F||T&&(!T||T.dateFormat)||(F=this._getDefaultDTFormatFn(n.baseUnit||"day")));for(var I=0;I<N.length;I++){var P=N[I].value,q=N[I].offset;if(!isNaN(q)){var L=void 0;"date"!=n.type&&x.useIndeces&&n.dataField&&(L=Math.round(P),void 0==(P=a._getDataValue(L,n.dataField))&&(P="")),void 0!=(u=a._formatValue(P,T,F,t,void 0,L))&&""!=u.toString()||(isNaN(L)&&(L=I),L>=x.filterRange.min&&L<=x.filterRange.max&&(u=x.useIndeces?(x.min+L).toString():void 0==P?"":P.toString()));var R={key:P,text:u,targetX:q,x:q};O&&O.itemOffsets[P]&&(R.x=O.itemOffsets[P].x,R.y=O.itemOffsets[P].y),j.push(R)}}var G=a._getAnimProps(t),V=G.enabled&&j.length<500?G.duration:0;0==a.enableAxisTextAnimation&&(V=0);var E={items:j,renderData:y},H=a._renderAxis(l,_,d,{x:i.x,y:i.y,width:i.width,height:i.height},s,v,!1,!0,E,r,V);return l?H.width+=p:H.height+=p,H},_animateAxisText:function(e,t){for(var i=e.items,r=e.textSettings,s=0;s<i.length;s++){var a=i[s];if(a&&a.visible){var n=a.targetX,o=a.targetY;isNaN(a.x)||isNaN(a.y)||(n=a.x+(n-a.x)*t,o=a.y+(o-a.y)*t),a.element&&(this.renderer.removeElement(a.element),a.element=void 0),a.element=this.renderer.text(a.text,n,o,a.width,a.height,r.angle,{class:r.style},!1,r.halign,r.valign,r.textRotationPoint)}}},_getPolarAxisCoords:function(t,i){var r=this.seriesGroups[t],s=i.x+e.jqx.getNum([r.offsetX,i.width/2]),a=i.y+e.jqx.getNum([r.offsetY,i.height/2]),n=Math.min(i.width,i.height),o=r.radius;this._isPercent(o)&&(o=parseFloat(o)/100*n/2),isNaN(o)&&(o=n/2*.6);var l=this._alignValuesWithTicks(t),h=this._get([r.startAngle,r.minAngle,0])-90;h=isNaN(h)?0:2*Math.PI*h/360;var d=this._get([r.endAngle,r.maxAngle,360])-90;if(d=isNaN(d)?2*Math.PI:2*Math.PI*d/360,h>d){var f=h;h=d,d=f}var g=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0),u=2*Math.PI*o*g,c=this._calcGroupOffsets(t,i).xoffsets;if(c){var x=!(Math.abs(Math.abs(d-h)-2*Math.PI)>1e-5);if(r.spider){axisStats=this._getXAxisStats(t,this._getXAxis(t),u);var m=axisStats.interval;(isNaN(m)||0==m)&&(m=1);var p=(axisStats.max-axisStats.min)/m+(x?1:0);if((p=Math.round(p))>2){var _=Math.cos(Math.abs(d-h)/2/p);0==(_=e.jqx._rnd(_,.01))&&(_=1);var y=o/_;y>o&&l&&(o=y)}}return o=e.jqx._ptrnd(o),{x:s,y:a,r:o,adjR:this._get([y,o]),itemWidth:c.itemWidth,rangeLength:c.rangeLength,valuesOnTicks:l,startAngle:h,endAngle:d,isClosedCircle:x,axisSize:u}}},_toPolarCoord:function(t,i,r,s){var a=Math.abs(t.startAngle-t.endAngle)/(2*Math.PI),n=2*(r-i.x)*Math.PI*a/Math.max(1,i.width)+t.startAngle,o=(i.height+i.y-s)*t.r/Math.max(1,i.height),l=t.x+o*Math.cos(n),h=t.y+o*Math.sin(n);return{x:e.jqx._ptrnd(l),y:e.jqx._ptrnd(h)}},_renderSpiderAxis:function(t,i){var r=this,s=r._getXAxis(t),a=this._getAxisSettings(s);if(s&&a.visible){var n=r.seriesGroups[t],o=r._getPolarAxisCoords(t,i);if(o){var l=e.jqx._ptrnd(o.x),h=e.jqx._ptrnd(o.y),d=o.adjR,f=o.startAngle,g=o.endAngle;if(!(d<1)){var u=e.jqx._rnd(Math.abs(f-g)/(2*Math.PI),.001,!0),c=2*Math.PI*d*u,x=o.isClosedCircle,m=this._renderData[t].xoffsets;if(m.rangeLength){var p=m.axisStats.interval;(isNaN(p)||p<1)&&(p=1);var _="horizontal"==n.orientation;for(_&&"right"==s.position||!_&&s.position;r._renderData.length<t+1;)r._renderData.push({});var y={rangeLength:m.rangeLength,itemWidth:m.itemWidth,data:m,rect:i,settings:a};r._renderData[t].xAxis=y,r._renderData[t].polarCoords=o;for(var v=!0,N=0;N<t;N++){r._renderData[N].xAxis;var M=r._renderData[N].polarCoords,b=r._getXAxis(N),w=!1;for(var A in o)if(o[A]!=M[A]){w=!0;break}w&&b==s||(v=!1)}var S,C=a.gridLines,k=a.tickMarks,D=a.labels,O=this._getInterval(C,p),F=this._getInterval(k,p),j=this._getInterval(D,p),T=r._alignValuesWithTicks(t),I=r.renderer,P=m.axisStats,q=P.min,L=P.max,R=this._getPaddingSize(m.axisStats,s,T,c,!0,x,!1),G=1==s.flip||r.rtl;"date"==s.type?(C.offsets=this._generateDTOffsets(q,L,c,R,O,p,s.baseUnit,!0,0,!1,G),k.offsets=this._generateDTOffsets(q,L,c,R,F,p,s.baseUnit,!0,0,!1,G),S=this._generateDTOffsets(q,L,c,R,j,p,s.baseUnit,!0,0,!0,G)):(a.gridLines.offsets=this._getOffsets("gridLines",s,c,P,a,R,!0,p),a.tickMarks.offsets=this._getOffsets("tickMarks",s,c,P,a,R,!0,p),S=this._getOffsets("labels",s,c,P,a,R,!0,p));var V;r.renderer.getRect().width,i.x,i.width,r._getDataLen(t);r._elementRenderInfo&&r._elementRenderInfo.length>t&&(V=r._elementRenderInfo[t].xAxis);for(var E=[],H=this._getDataLen(t),N=0;N<S.length;N++){var B=S[N].offset,z=S[N].value;if("date"!=s.type&&P.useIndeces&&s.dataField){var W=Math.round(z);if(W>=H)continue;void 0==(z=r._getDataValue(W,s.dataField))&&(z="")}var X=r._formatValue(z,D.formatSettings,D.formatFunction,t,void 0,W);void 0!=X&&""!=X.toString()||(X=P.useIndeces?(P.min+N).toString():void 0==z?"":z.toString());var U={key:z,text:X,targetX:B,x:B};V&&V.itemOffsets[z]&&(U.x=V.itemOffsets[z].x,U.y=V.itemOffsets[z].y),E.push(U)}var Y={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};if(!n.spider)if(1==u)I.circle(l,h,d,Y);else{var Z=-f/Math.PI*180,J=-g/Math.PI*180;this.renderer.pieslice(l,h,0,d,Math.min(Z,J),Math.max(Z,J),void 0,Y)}var Q=E.length,K=(Math.PI,f);if(C.visible&&v){T||x||C.offsets.unshift({offset:-R.right});for(N=0;N<C.offsets.length;N++){ne=C.offsets[N].offset;if(T||(ne+=x?R.right/2:R.right),!((le=K+2*ne*Math.PI*u/Math.max(1,c))-g>.01)){var $=e.jqx._ptrnd(l+d*Math.cos(le)),ee=e.jqx._ptrnd(h+d*Math.sin(le));I.line(l,h,$,ee,Y)}}}if(k.visible&&v){var te={stroke:k.color,fill:"none","stroke-width":k.width,"stroke-dasharray":k.dashStyle||""};T||x||k.offsets.unshift({offset:-R.right});for(N=0;N<k.offsets.length;N++){ne=k.offsets[N].offset;if(T||(ne+=x?R.right/2:R.right),!((le=K+2*ne*Math.PI*u/Math.max(1,c))-g>.01)){var ie={x:l+d*Math.cos(le),y:h+d*Math.sin(le)},re={x:l+(d+5)*Math.cos(le),y:h+(d+5)*Math.sin(le)};I.line(e.jqx._ptrnd(ie.x),e.jqx._ptrnd(ie.y),e.jqx._ptrnd(re.x),e.jqx._ptrnd(re.y),te)}}}var se=[];if(n.spider){var ae=[];ae="date"==s.type?this._generateDTOffsets(q,L,c,R,p,p,s.baseUnit,!0,0,!1,G):this._getOffsets("",s,c,P,a,R,!0,p),T||x||ae.unshift({offset:-R.right});for(N=0;N<ae.length;N++){var ne=ae[N].offset;T||(ne+=x?R.right/2:R.right),(le=K+2*ne*Math.PI*u/Math.max(1,c))-g>.01||se.push(le)}y.offsetAngles=se}var oe=r._renderSpiderValueAxis(t,i,T?o.adjR:o.r,se);if(oe||(oe=[]),n.spider){if(!T)for(N=0;N<oe.length;N++)oe[N]=oe[N]*o.adjR/o.r;oe.push(d),this._renderSpiderLines(l,h,oe,o,se,Y)}if(v&&D.visible){y.polarLabels=[];for(N=0;N<E.length;N++){var le=K+2*(ne=E[N].x)*Math.PI*u/Math.max(1,c);(le=(360-le/(2*Math.PI)*360)%360)<0&&(le=360+le);var he,de=I.measureText(E[N].text,0,{class:a.labels.style}),fe=(T?o.adjR:o.r)+(k.visible?7:2),ge=a.labels;if(ge.autoRotate){var ue=e.jqx._ptRotate(l-de.width/2,h-fe-de.height,l,h,-le/180*Math.PI),ce=e.jqx._ptRotate(l+de.width/2,h-fe,l,h,-le/180*Math.PI);de.width=Math.abs(ue.x-ce.x),de.height=Math.abs(ue.y-ce.y),he={x:Math.min(ue.x,ce.x),y:Math.min(ue.y,ce.y)}}else he=this._adjustTextBoxPosition(l,h,de,fe,le,!1,!1,!1);y.polarLabels.push({x:he.x,y:he.y,value:E[N].text}),I.text(E[N].text,he.x,he.y,de.width,de.height,ge.autoRotate?90-le:ge.angle,{class:ge.style},!1,ge.halign,ge.valign)}}}}}}},_renderSpiderLines:function(t,i,r,s,a,n){for(var o=this.renderer,l=(s.startAngle,s.endAngle,s.isClosedCircle),h=0;h<r.length;h++){for(var d=r[h],f=void 0,g=void 0,u=0;u<a.length;u++){var c=a[u],x=e.jqx._ptrnd(t+d*Math.cos(c)),m=e.jqx._ptrnd(i+d*Math.sin(c));f&&o.line(f.x,f.y,x,m,n),f={x:x,y:m},g||(g={x:x,y:m})}g&&l&&o.line(f.x,f.y,g.x,g.y,n)}},_renderSpiderValueAxis:function(t,i,r,s){var a=this.seriesGroups[t],n=this._getPolarAxisCoords(t,i);if(n){var o=e.jqx._ptrnd(n.x),l=e.jqx._ptrnd(n.y);r=r||n.r;var h=n.startAngle,d=n.endAngle,f=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0);if(!(r<1)){r=e.jqx._ptrnd(r);var g=this._getValueAxis(t);if(settings=this._getAxisSettings(g),g&&0!=settings.visible){var u=this._stats.seriesGroups[t].mu,c=settings.labels,x=c.formatSettings;-1!=a.type.indexOf("stacked")&&-1!=a.type.indexOf("100")&&!x&&(x={sufix:"%"});var m=this._get([c.step,c.unitInterval/u]);isNaN(m)&&(m=1),m=Math.max(1,Math.round(m)),this._calcValueAxisItems(t,r,m);var p=settings.gridLines,_=settings.tickMarks,y=(this._getInterval(p,u),this._getInterval(_,u),settings.labels),v={stroke:p.color,fill:"none","stroke-width":1,"stroke-dasharray":p.dashStyle||""},N=this._renderData[t].valueAxis,M=N.items,b=h;if(M.length&&settings.line.visible){isNaN(settings.line.angle)||(b=2*Math.PI*settings.line.angle/360);var w=o+Math.cos(b)*r,A=l+Math.sin(b)*r;if(-1==s.indexOf(b)){var S=e.extend({},v);S["stroke-width"]=settings.line.lineWidth,S.stroke=settings.line.color,S["stroke-dasharray"]=settings.line.dashStyle,this.renderer.line(o,l,w,A,S)}}M=M.reverse();var C=this.renderer;N.polarLabels=[];for(H=0;H<M.length-1;H++){var k=M[H];if(!isNaN(k)){var D=y.formatFunction?y.formatFunction(k):this._formatNumber(k,x),O=C.measureText(D,0,{class:y.style}),F=o+(0!=g.showTickMarks?3:2),j=l-N.itemWidth*H-O.height/2,T=e.jqx._ptRotate(F,j,o,l,b),I=e.jqx._ptRotate(F+O.width,j+O.height,o,l,b);F=Math.min(T.x,I.x),j=Math.min(T.y,I.y),O.width=Math.abs(T.x-I.x),O.height=Math.abs(T.y-I.y),F+=settings.labels.textOffset.x,j+=settings.labels.textOffset.y,N.polarLabels.push({x:F,y:j,value:D}),C.text(D,F,j,O.width,O.height,y.autoRotate?90+180*h/Math.PI:y.angle,{class:y.style},!1,y.halign,y.valign)}}var P=1==g.logarithmicScale?M.length:N.rangeLength;aIncrement=2*Math.PI/P;var q=0!=g.valuesOnTicks,L=this._stats.seriesGroups[t],R=L.mu,G=1==g.logarithmicScale;g.logarithmicScaleBase;G&&(R=1);var V={min:L.min,max:L.max,logAxis:{enabled:1==G,base:g.logarithmicScaleBase,minPow:L.minPow,maxPow:L.maxPow}};(p.visible||a.spider||g.alternatingBackgroundColor||g.alternatingBackgroundColor2)&&(p.offsets=this._getOffsets("gridLines",g,r,V,settings,{left:0,right:0},q,R));var E=[];if(p.visible||a.spider)for(var v={stroke:p.color,fill:"none","stroke-width":1,"stroke-dasharray":p.dashStyle||""},H=0;H<p.offsets.length;H++)if((j=e.jqx._ptrnd(p.offsets[H].offset))!=r)if(a.spider)E.push(j);else if(1!=f){var B=-h/Math.PI*180,z=-d/Math.PI*180;this.renderer.pieslice(o,l,0,j,Math.min(B,z),Math.max(B,z),void 0,v)}else C.circle(o,l,j,v);if(g.tickMarks&&(g.tickMarks.visible||g.showTickMarks)||(_.visible=!1),_.visible){_.offsets=this._getOffsets("tickMarks",g,r,V,settings,{left:0,right:0},q,R),tickMarkSize=2*_.size;for(var v={stroke:_.color,fill:"none","stroke-width":1,"stroke-dasharray":_.dashStyle||""},H=0;H<_.offsets.length;H++){var W=_.offsets[H].offset,T={x:o+W*Math.cos(b)-tickMarkSize/2*Math.sin(b+Math.PI/2),y:l+W*Math.sin(b)-tickMarkSize/2*Math.cos(b+Math.PI/2)},I={x:o+W*Math.cos(b)+tickMarkSize/2*Math.sin(b+Math.PI/2),y:l+W*Math.sin(b)+tickMarkSize/2*Math.cos(b+Math.PI/2)};C.line(e.jqx._ptrnd(T.x),e.jqx._ptrnd(T.y),e.jqx._ptrnd(I.x),e.jqx._ptrnd(I.y),v)}}return E}}}},_renderAxis:function(t,i,r,s,a,n,o,l,h,d,f){if(r.customDraw&&!d)return{width:NaN,height:NaN};var g=r.title,u=r.labels,c=(r.gridLines,r.tickMarks),x=r.padding,m=c.visible?c.size:0,p={width:0,height:0},_={width:0,height:0};t?p.height=_.height=s.height:p.width=_.width=s.width,!d&&i&&t&&(s.x-=s.width);var y=h.renderData,v=y.itemWidth;if(g.visible&&void 0!=g.text&&""!=g){var N=g.angle,M=this.renderer.measureText(g.text,N,{class:g.style});_.width=M.width,_.height=M.height,d||this.renderer.text(g.text,s.x+g.offset.x+(t?i?-x.right-2+2*s.width-_.width:2+x.left:0),s.y+g.offset.y+(t?0:i?x.top+2:s.height-2-_.height-x.bottom),t?_.width:s.width,t?s.height:_.height,N,{class:g.style},!0,g.halign,g.valign,g.rotationPoint)}var b=0,w=l?-v/2:0;l&&!t&&(u.halign="center");var A=s.x,S=s.y,C=u.textOffset;C&&(isNaN(C.x)||(A+=C.x),isNaN(C.y)||(S+=C.y)),t?(A+=x.left+2+(_.width>0?_.width+2:0)+(i?s.width-_.width:0),S+=w):(A+=w,i?(S+=_.height>0?_.height+6:4,S+=m-(l?m:m/4)):S+=l?m:m/4,S+=x.top);var k=0,D=0,O=h.items;y.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(f=0);for(var F=!1,j=0,T=0;T<O.length&&u.visible;T++,b+=v)if(O[T]&&!isNaN(v)){var I=O[T].text;if(isNaN(O[T].targetX)||(b=O[T].targetX),(M=this.renderer.measureText(I,u.angle,{class:u.style})).width>D&&(D=M.width),M.height>k&&(k=M.height),j+=t?k:D,!d){if(t&&b>s.height+2||!t&&b>s.width+2)continue;var P=t?A+(i?0==_.width?m:m-2:0):A+b,q=t?S+b:S;y.itemOffsets[O[T].key]={x:P,y:q},F||(!isNaN(O[T].x)||!isNaN(O[T].y)&&f)&&(F=!0),O[T].targetX=P,O[T].targetY=q,O[T].width=t?s.width-x.left-x.right-4-m-(_.width>0?_.width+2:0):v,O[T].height=t?v:s.height-x.top-x.bottom-4-m-(_.height>0?_.height+2:0),O[T].visible=!0}}if(y.avgWidth=0==O.length?0:j/O.length,!d){var L={items:O,textSettings:u};if(!isNaN(f)&&F||(f=0),this._animateAxisText(L,0==f?1:0),0!=f){var R=this;this._enqueueAnimation("series",void 0,void 0,f,function(e,t,i){R._animateAxisText(t,i)},L)}}p.width+=4+m+_.width+D+(t&&_.width>0?2:0),p.height+=4+m+_.height+k+(!t&&_.height>0?2:0),t?p.width+=x.left+x.right:p.height+=x.top+x.bottom;if(!d&&r.line.visible){var G={stroke:r.line.color,"stroke-width":r.line.width,"stroke-dasharray":r.line.dashStyle||""};if(t){P=s.x+s.width+(i?x.left:-x.right);P=e.jqx._ptrnd(P),this.renderer.line(P,s.y,P,s.y+s.height,G)}else{q=e.jqx._ptrnd(s.y+(i?s.height-x.bottom:x.top));this.renderer.line(e.jqx._ptrnd(s.x),q,e.jqx._ptrnd(s.x+s.width+1),q,G)}}return p.width=e.jqx._rup(p.width),p.height=e.jqx._rup(p.height),p},_drawPlotAreaLines:function(t,i,r){var s=this.seriesGroups[t],a="horizontal"!=s.orientation;if(this._renderData&&!(this._renderData.length<=t)){var n=i?"valueAxis":"xAxis",o=this._renderData[t][n];if(o){var l=this._renderData.axisDrawState;l||(l=this._renderData.axisDrawState={});var h,d="";i?(d="valueAxis_"+(s.valueAxis?t:"")+(a?"swap":""),h=this._getValueAxis(t)):(d="xAxis_"+(s.xAxis||s.categoryAxis?t:"")+(a?"swap":""),h=this._getXAxis(t)),l=l[d]?l[d]:l[d]={},i||(a=!a);var f=o.settings;if(f&&!f.customDraw){var g=f.gridLines,u=f.tickMarks,c=f.padding,x=o.rect,m=this._plotRect;if(g&&u){var p={},_={stroke:g.color,"stroke-width":g.width,"stroke-dasharray":g.dashStyle||""},y=i?x.y+x.height:x.x,v=g.offsets;if(i&&!h.flip&&(v=(v=e.extend([],v)).reverse()),v&&v.length>0)for(var N=NaN,M=(v.length,0);M<v.length;M++)if(a?(lineOffset=e.jqx._ptrnd(x.y+v[M].offset),lineOffset<x.y-.5&&(lineOffset=e.jqx._ptrnd(x.y)),lineOffset>x.y+x.height&&(lineOffset=x.y+x.height)):(lineOffset=e.jqx._ptrnd(x.x+v[M].offset),lineOffset>x.x+x.width+.5&&(lineOffset=e.jqx._ptrnd(x.x+x.width))),!isNaN(lineOffset)&&(isNaN(N)||!(Math.abs(lineOffset-N)<2))){if(N=lineOffset,r.gridLines&&0!=g.visible&&1!=l.gridLines&&(a?this.renderer.line(e.jqx._ptrnd(m.x),lineOffset,e.jqx._ptrnd(m.x+m.width),lineOffset,_):this.renderer.line(lineOffset,e.jqx._ptrnd(m.y),lineOffset,e.jqx._ptrnd(m.y+m.height),_)),p[lineOffset]=!0,r.alternatingBackground&&(g.alternatingBackgroundColor||g.alternatingBackgroundColor2)&&1!=l.alternatingBackground){var b=M%2==0?g.alternatingBackgroundColor2:g.alternatingBackgroundColor;if(M>0&&b){var w;w=a?this.renderer.rect(e.jqx._ptrnd(m.x),y,e.jqx._ptrnd(m.width-1),lineOffset-y,_):this.renderer.rect(y,e.jqx._ptrnd(m.y),lineOffset-y,e.jqx._ptrnd(m.height),_),this.renderer.attr(w,{"stroke-width":0,fill:b,opacity:g.alternatingBackgroundOpacity||1})}}y=lineOffset}_={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""};if(r.tickMarks&&u.visible&&1!=l.tickMarks)for(var A=u.size,v=u.offsets,N=NaN,M=0;M<v.length;M++)if(a?(lineOffset=e.jqx._ptrnd(x.y+v[M].offset),lineOffset<x.y-.5&&(lineOffset=e.jqx._ptrnd(x.y)),lineOffset>x.y+x.height&&(lineOffset=x.y+x.height)):(lineOffset=e.jqx._ptrnd(x.x+v[M].offset),lineOffset>x.x+x.width+.5&&(lineOffset=e.jqx._ptrnd(x.x+x.width))),!isNaN(lineOffset)&&(isNaN(N)||!(Math.abs(lineOffset-N)<2))){if(p[lineOffset-1]?lineOffset--:p[lineOffset+1]&&lineOffset++,a){if(lineOffset>x.y+x.height+.5)break}else if(lineOffset>x.x+x.width+.5)break;N=lineOffset;var S=o.isMirror?A:-A;if(a){var C=x.x+x.width+("right"==h.position?c.left:-c.right);i||(C=x.x+(o.isMirror?c.left:-c.right+x.width)),this.renderer.line(C,lineOffset,C+S,lineOffset,_)}else{var k=x.y+(o.isMirror?x.height:0);k+=o.isMirror?-c.bottom:c.top,k=e.jqx._ptrnd(k),this.renderer.line(lineOffset,k,lineOffset,k-S,_)}}l.tickMarks=l.tickMarks||r.tickMarks,l.gridLines=l.gridLines||r.gridLines,l.alternatingBackground=l.alternatingBackground||r.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var r=this._stats.seriesGroups[e];if(!r||!r.isValid)return!1;var s=this.seriesGroups[e],a=(s.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,r.intervals),l=t/o,h=r.min,d=r.mu,f=1==a.logarithmicScale,g=a.logarithmicScaleBase||10,u=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");for(f&&(d=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var c=this._renderData[e].valueAxis;c.itemWidth=c.intervalWidth=l,c.items=[];for(var x=c.items,m=0;m<=o;m++){var p=0;p=f?u?r.max/Math.pow(g,o-m):h*Math.pow(g,m):n?h+m*d:h+(m+.5)*d,m%i==0?x.push(p):x.push(NaN)}return c.rangeLength=f&&!u?r.intervals:r.intervals*d,1!=a.flip&&(x=x.reverse()),!0},_getDecimalPlaces:function(e,t,i){var r=0;isNaN(i)&&(i=10);for(var s=0;s<e.length;s++){var a=void 0===t?e[s]:e[s][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||n[o]>"9")&&(r=n.length-(o+1))>=0)return Math.min(r,i);for(r>0&&(a*=Math.pow(10,r));Math.round(a)!=a&&r<i;)r++,a*=10}}return r},_renderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a="horizontal"==s.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==s.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,f=1==n.logarithmicScale;n.logarithmicScaleBase;if(f&&(d=isNaN(n.unitInterval)?1:n.unitInterval),0==d&&(d=1),isNaN(d))return o;var g=this._getAxisSettings(n),u=g.title,c=g.labels,x=n.labels||{};this._get([n.horizontalTextAlignment,x.horizontalAlignment])||0!=c.angle||(c.halign=a?"center":"right"==n.position?"left":"right");var m=this._get([c.step,c.unitInterval/d]);if(isNaN(m)&&(m=1),m=Math.max(1,Math.round(m)),!this._calcValueAxisItems(e,a?t.width:t.height,m)||!g.visible)return o;a||(u.angle=this.rtl?90:-90,"centercenter"==u.rotationPoint&&("top"==u.valign?u.rotationPoint="rightcenter":"bottom"==u.valign&&(u.rotationPoint="leftcenter")));var p=this._renderData[e].valueAxis,_=c.formatSettings;-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100")&&!_&&(_={sufix:"%"}),c.formatFunction||_&&_.decimalPlaces||((_=_||{}).decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));var y=g.gridLines,v=(f||this._getInterval(y,d),a?t.width:t.height),N=1==n.flip;n.flip=!N;var M={min:h.min,max:h.max,logAxis:{enabled:1==f,base:n.logarithmicScaleBase,minPow:h.minPow,maxPow:h.maxPow}};(y.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(y.offsets=this._getOffsets("gridLines",n,v,M,g,{left:0,right:0},l,d));var b=g.tickMarks;b.visible&&(b.offsets=this._getOffsets("tickMarks",n,v,M,g,{left:0,right:0},l,d)),labelOffsets=this._getOffsets("labels",n,v,M,g,{left:0,right:0},l,d,!l),n.flip=N;var w,A=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(w=this._elementRenderInfo[e].valueAxis);for(var S=0;S<labelOffsets.length;S++){var C=labelOffsets[S].value;if(isNaN(labelOffsets[S].offset))A.push(void 0);else{var k={key:C,text:c.formatFunction?c.formatFunction(C):isNaN(C)?C:this._formatNumber(C,_)};w&&w.itemOffsets[C]&&(k.x=w.itemOffsets[C].x,k.y=w.itemOffsets[C].y),k.targetX=labelOffsets[S].offset,isNaN(k.targetX)||A.push(k)}}var D=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,O={items:A,renderData:p},F=this._getAnimProps(e),j=F.enabled&&A.length<500?F.duration:0;return 0==this.enableAxisTextAnimation&&(j=0),p.settings=g,p.isMirror=D,p.rect=t,this._renderAxis(!a,D,g,t,r,d,f,!0,O,i,j)},_objectsArraysToArray:function(t,i){var r=[];if(!e.isArray(t))return r;for(var s=0;s<t.length;s++)r.push(t[s][i]);return r},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)i.length<=s&&i.push({}),i[s][t[r]]=e[r][s];return i},_valuesToOffsets:function(t,i,r,s,a,n,o){var l=[];if(!i||!e.isArray(t))return l;var h=r.logAxis.base,d=r.logAxis.enabled?"logarithmic":"linear",f=i.flip,g=s,u=0,c=0;a&&!isNaN(a.left)&&(u=a.left),a&&!isNaN(a.right)&&(c=a.right),s=g=s-u-c;for(var m=0;m<t.length;m++)x=this._jqxPlot.scale(t[m],{min:r.min.valueOf(),max:r.max.valueOf(),type:d,base:h},{min:0,max:n?s:g,flip:f},{}),isNaN(x)?l.push(NaN):(isNaN(o)||(x+=o),x<=s+u+c+1?l.push(e.jqx._ptrnd(x)):l.push(NaN));return l},_generateIntervalValues:function(e,t,i,r,s){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),void 0==n||void 0==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;i<1&&(n*=l=1e6,o*=l,i*=l);for(f=n;f<=o;f+=i)a.push(f/l+(s?i/2:0));if(t>i){for(var h=[],d=Math.round(t/i),f=0;f<a.length;f++)f%d==0&&h.push(a[f]);a=h}if(e.logAxis&&e.logAxis.enabled)for(f=0;f<a.length;f++)a[f]=Math.pow(e.logAxis.base,a[f]);return a},_generateDTOffsets:function(t,i,r,s,a,n,o,l,h,d,f){o||(o="day");var g=[];if(t>i)return g;if(t==i)return d?g.push({offset:l?r/2:s.left,value:t}):l&&g.push({offset:r/2,value:t}),g;var u=r-s.left-s.right,c=t,x=s.left,m=x,p=n=Math.max(n,1),_=Math.min(1,n);for(n>1&&"millisecond"!=o&&(n=1);e.jqx._ptrnd(m)<=e.jqx._ptrnd(s.left+u+(l?0:s.right));){g.push({offset:m,value:c});var y=new Date(c.valueOf());if("millisecond"==o)y.setMilliseconds(c.getMilliseconds()+n);else if("second"==o)y.setSeconds(c.getSeconds()+n);else if("minute"==o)y.setMinutes(c.getMinutes()+n);else if("hour"==o){var v=y.valueOf();y.setHours(c.getHours()+n),v==y.valueOf()&&y.setHours(c.getHours()+n+1)}else"day"==o?y.setDate(c.getDate()+n):"month"==o?y.setMonth(c.getMonth()+n):"year"==o&&y.setFullYear(c.getFullYear()+n);m=x+((c=y).valueOf()-t.valueOf())*_/(i.valueOf()-t.valueOf())*u}if(f)for(M=0;M<g.length;M++)g[M].offset=r-g[M].offset;if(p>1&&"millisecond"!=o){for(var N=[],M=0;M<g.length;M+=p)N.push({offset:g[M].offset,value:g[M].value});g=N}if(!l&&!d&&g.length>1){(N=[]).push({offset:0,value:void 0});for(M=1;M<g.length;M++)N.push({offset:g[M-1].offset+(g[M].offset-g[M-1].offset)/2,value:void 0});var b=N.length;b>1?N.push({offset:N[b-1].offset+(N[b-1].offset-N[b-2].offset)}):N.push({offset:r,value:void 0}),g=N}if(a>n){for(var N=[],w=Math.round(a/p),M=0;M<g.length;M++)M%w==0&&N.push({offset:g[M].offset,value:g[M].value});g=N}return g},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var r=-1!=i.type.indexOf("waterfall"),s=this._getDataLen(e),a=!1,n=[],o=0;o<i.series.length;o++)n[o]=this._isSerieVisible(e,o);for(var l=0;l<s;l++){var h=void 0;r||(a=!1);for(var d=0;d<i.series.length;d++)if(n[d]&&(val=this._getDataValueAsNumber(l,i.series[d].dataField,e),!(isNaN(val)||i.series[d].summary&&void 0!==this._getDataValue(l,i.series[d].summary,e)))){var f=a?val<0:val<t;if(a=!0,void 0==h&&(h=f),f!=h)return!0;h=f,val}}return!1},_getValueAxis:function(e){var t=void 0==e?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;return t||(t=this.valueAxis={}),t},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var r=this.seriesGroups[i];t.seriesGroups[i]={};var s=this._getXAxis(i),a=this._getValueAxis(i),n=this._getXAxisStats(i,s,"horizontal"!=r.orientation?e.width:e.height);(B=t.seriesGroups[i]).isValid=!0;var o="horizontal"==r.orientation?e.width:e.height,l=1==a.logarithmicScale,h=a.logarithmicScaleBase;isNaN(h)&&(h=10);var d=-1!=r.type.indexOf("stacked"),f=d&&-1!=r.type.indexOf("100"),g=-1!=r.type.indexOf("range"),u=-1!=r.type.indexOf("waterfall");if(u&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";f&&(B.psums=[],B.nsums=[]);var c=NaN,x=NaN,m=NaN,p=NaN,_=a?a.baselineValue:NaN;isNaN(_)&&(_=l&&!f?1:0);var y=!1;0!=_&&d&&(y=this._hasStackValueReversal(i,_))&&(_=0),d&&u&&(y=this._hasStackValueReversal(i,_));var v=this._getDataLen(i),N=0,M=NaN,b=[];if(u)for(F=0;F<r.series.length;F++)b.push(NaN);for(var w=NaN,A=0;A<v&&B.isValid;A++){if(s.rangeSelector){var S=s.dataField?this._getDataValue(A,s.dataField,i):A;if(S&&n.isDateTime&&(S=this._castAsDate(S,s.dateFormat)),n.useIndeces&&(S=A),S&&(S.valueOf()<n.min.valueOf()||S.valueOf()>n.max.valueOf()))continue}var C=a.minValue,k=a.maxValue;a.baselineValue&&(C=isNaN(C)?_:Math.min(_,C),k=isNaN(k)?_:Math.max(_,k));for(var D=0,O=0,F=0;r.series&&F<r.series.length;F++)if(this._isSerieVisible(i,F)){var j=NaN,T=NaN,I=NaN;if(-1!=r.type.indexOf("candle")||-1!=r.type.indexOf("ohlc")){var P=["Open","Low","Close","High"];for(var q in P){var L=this._getDataValueAsNumber(A,r.series[F]["dataField"+P[q]],i);isNaN(L)||(I=isNaN(T)?L:Math.min(I,L),T=isNaN(T)?L:Math.max(T,L))}}else if(g){var R=this._getDataValueAsNumber(A,r.series[F].dataFieldFrom,i),G=this._getDataValueAsNumber(A,r.series[F].dataFieldTo,i);T=Math.max(R,G),I=Math.min(R,G)}else{if(j=this._getDataValueAsNumber(A,r.series[F].dataField,i),u){if(this._isSummary(i,A)&&void 0!==this._getDataValue(A,r.series[F].summary,i))continue;d?(isNaN(w)||(j+=w),w=j):(isNaN(b[F])?b[F]=j:j+=b[F],b[F]=j)}if(isNaN(j)||l&&j<=0)continue;I=T=j}(isNaN(k)||T>k)&&(isNaN(a.maxValue)||T<=a.maxValue)&&(k=T),(isNaN(C)||I<C)&&(isNaN(a.minValue)||I>=a.minValue)&&(C=I),isNaN(j)||!d||u||(j>_?D+=j:j<_&&(O+=j))}if(f||(isNaN(a.maxValue)||(D=Math.min(a.maxValue,D)),isNaN(a.minValue)||(O=Math.max(a.minValue,O))),l&&f)for(F=0;F<r.series.length;F++)if(this._isSerieVisible(i,F)){j=this._getDataValueAsNumber(A,r.series[F].dataField,i);if(isNaN(j)||j<=0)M=.01;else{var V=0==D?0:j/D;(isNaN(M)||V<M)&&(M=V)}}else M=.01;var E=D-O;N<E&&(N=E),f&&(B.psums[A]=D,B.nsums[A]=O),(k>x||isNaN(x))&&(x=k),(C<c||isNaN(c))&&(c=C),(D>m||isNaN(m))&&(m=D),(O<p||isNaN(p))&&(p=O)}f&&(m=0==m?0:Math.max(m,-p),p=0==p?0:Math.min(p,-m)),c==x&&(!isNaN(a.minValue)&&isNaN(a.maxValue)?(c=a.minValue,x=l?c*h:c+1):isNaN(a.minValue)&&!isNaN(a.maxValue)&&(x=a.maxValue,c=l?x/h:x-1)),c==x&&(0==c?(c=-1,x=1):c<0?x=0:l?1==c&&(c/=h,x*=h):c=0);var H={gmin:c,gmax:x,gsumP:m,gsumN:p,gbase:_,isLogAxis:l,logBase:h,minPercent:M,gMaxRange:N,isStacked:d,isStacked100:f,isWaterfall:u,hasStackValueReversal:y,valueAxis:a,valueAxisSize:o};H.isStacked&&(H.gsumN<0&&(H.gmin=Math.min(H.gmin,H.gbase+H.gsumN)),H.gsumP>0&&(H.gmax=Math.max(H.gmax,H.gbase+H.gsumP))),B.context=H}this._mergeCommonValueAxisStats();for(A=0;A<t.seriesGroups.length;A++){var B=t.seriesGroups[A];if(B.isValid){var z=this._calcOutputGroupStats(B.context);for(var q in z)B[q]=z[q];delete B.context}}},_mergeCommonValueAxisStats:function(){for(var e={},t=0;t<this.seriesGroups.length;t++)if(this._isGroupVisible(t)&&!this.seriesGroups[t].valueAxis){var i=this._stats.seriesGroups[t].context;e.gbase=i.gbase,(isNaN(e.gmin)||i.gmin<e.gmin)&&(e.gmin=i.gmin),(isNaN(e.gmax)||i.gmax>e.gmax)&&(e.gmax=i.gmax),(isNaN(e.gsumP)||i.gsumP>e.gsumP)&&(e.gsumP=i.gsumP),(isNaN(e.gsumN)||i.gsumN<e.gsumN)&&(e.gsumN=i.gsumN),(isNaN(e.logBase)||i.logBase<e.logBase)&&(e.logBase=i.logBase),(isNaN(e.minPercent)||i.minPercent<e.minPercent)&&(e.minPercent=i.minPercent),e.gsumN>0&&(e.gmin=Math.min(e.gmin,e.gbase+e.gsumN)),e.gsumP>0&&(e.gmax=Math.max(e.gmax,e.gbase+e.gsumP))}for(t=0;t<this.seriesGroups.length;t++)if(!this.seriesGroups[t].valueAxis){var r=this._stats.seriesGroups[t].context;for(var s in e)r[s]=e[s]}},_calcOutputGroupStats:function(t){var i=t.gmin,r=t.gmax,s=t.gsumP,a=t.gsumN,n=t.gbase,o=t.isLogAxis,l=t.logBase,h=t.minPercent,d=t.gMaxRange,f=t.isStacked,g=t.isStacked100,u=t.isWaterfall,c=t.hasStackValueReversal,x=t.valueAxis,m=t.valueAxisSize,p=t.valueAxis.unitInterval;p||(p=this._calcInterval(i,r,Math.max(m/80,2))),i==r&&(i=n,r*=2);var _=NaN,y=0,v=0;if(o){if(g){_=0;var N=1;for(y=v=e.jqx.log(100,l);N>h;)N/=l,y--,_++;i=Math.pow(l,y)}else f&&!u&&(r=Math.max(r,s)),v=e.jqx._rnd(e.jqx.log(r,l),1,!0),r=Math.pow(l,v),y=e.jqx._rnd(e.jqx.log(i,l),1,!1),i=Math.pow(l,y);p=l}i<a&&(a=i),r>s&&(s=r);var M=o?i:e.jqx._rnd(i,p,!1),b=o?r:e.jqx._rnd(r,p,!0);if(g&&b>100&&(b=100),g&&!o&&(b=b>0?100:0,M=M<0?-100:0,p=x.unitInterval,(isNaN(p)||p<=0||p>=100)&&(p=10),100%p!=0))for(;p>=1&&100%p!=0;p--);return isNaN(b)||isNaN(M)||isNaN(p)?{}:(isNaN(_)&&(_=parseInt(((b-M)/(0==p?1:p)).toFixed())),o&&!g&&(_=v-y,d=Math.pow(l,_)),_<1?{}:{min:M,max:b,logarithmic:o,logBase:l,base:o?M:n,minPow:y,maxPow:v,sumP:s,sumN:a,mu:p,maxRange:d,intervals:_,hasStackValueReversal:c})},_getDataLen:function(t){var i=this.source;return void 0!=t&&-1!=t&&this.seriesGroups[t].source&&(i=this.seriesGroups[t].source),i instanceof e.jqx.dataAdapter&&(i=i.records),i?i.length:0},_getDataValue:function(t,i,r){var s=this.source;if(void 0!=r&&-1!=r&&(s=this.seriesGroups[r].source||s),s instanceof e.jqx.dataAdapter&&(s=s.records),!(!s||t<0||t>s.length-1))return e.isFunction(i)?i(t,s):i&&""!=i?s[t][i]:s[t]},_getDataValueAsNumber:function(e,t,i){var r=this._getDataValue(e,t,i);return this._isDate(r)?r.valueOf():("number"!=typeof r&&(r=parseFloat(r)),"number"!=typeof r&&(r=void 0),r)},_isPieGroup:function(e){var t=this.seriesGroups[e];return!(!t||!t.type)&&(-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"))},_renderPieSeries:function(t,i){for(var r=this._getDataLen(t),s=this.seriesGroups[t],a=this._calcGroupOffsets(t,i).offsets,n=0;n<s.series.length;n++){var o=s.series[n];if(!o.customDraw){var l=this._getSerieSettings(t,n),h=(o.colorScheme||s.colorScheme||this.colorScheme,this._getAnimProps(t,n)),d=h.enabled&&r<5e3&&!this._isToggleRefresh&&1!=this._isVML?h.duration:0;e.jqx.mobile.isMobileBrowser()&&this.renderer instanceof e.jqx.HTML5Renderer&&(d=0);var f=this._get([o.minAngle,o.startAngle]);(isNaN(f)||f<0||f>360)&&(f=0);var g=this._get([o.maxAngle,o.endAngle]);(isNaN(g)||g<0||g>360)&&(g=360);for(var u={rect:i,minAngle:f,maxAngle:g,groupIndex:t,serieIndex:n,settings:l,items:[]},c=0;c<r;c++){var x=a[n][c];if(x.visible){var m=x.fromAngle,p=x.toAngle,_=this.renderer.pieslice(x.x,x.y,x.innerRadius,x.outerRadius,m,0==d?p:m,x.centerOffset);this._setRenderInfo(t,n,c,{element:_});var y={displayValue:x.displayValue,itemIndex:c,visible:x.visible,x:x.x,y:x.y,innerRadius:x.innerRadius,outerRadius:x.outerRadius,fromAngle:m,toAngle:p,centerOffset:x.centerOffset};u.items.push(y)}}this._animatePieSlices(u,0);var v=this;this._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){v._animatePieSlices(t,i)},u)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var r=this.seriesGroups[e.groupIndex],s=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),a=s.visible,n=[],o=0;o<e.items.length;o++)if((u=e.items[o]).visible){var l=u.fromAngle,h=u.fromAngle+t*(u.toAngle-u.fromAngle);if(i&&i[u.displayValue]){var d=i[u.displayValue].fromAngle,f=i[u.displayValue].toAngle;l=d+(l-d)*t,h=f+(h-f)*t}n.push({index:o,from:l,to:h})}i&&n.sort(this._sliceSortFunction);for(var g=NaN,o=0;o<n.length;o++){var u=e.items[n[o].index],c=this._getRenderInfo(e.groupIndex,e.serieIndex,u.itemIndex),l=n[o].from,h=n[o].to;i&&(!isNaN(g)&&l>g&&(l=g),g=h,o==n.length-1&&h!=n[0].from&&(h=e.maxAngle+n[0].from));var x=this.renderer.pieSlicePath(u.x,u.y,u.innerRadius,u.outerRadius,l,h,u.centerOffset);this.renderer.attr(c.element,{d:x});var m=this._getColors(e.groupIndex,e.serieIndex,u.itemIndex,"radialGradient",u.outerRadius),p=e.settings;c.colors=m,c.settings=p,this.renderer.attr(c.element,{fill:m.fillColor,stroke:m.lineColor,"stroke-width":p.stroke,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-dasharray":"none"});r.series[e.serieIndex];a&&this._showPieLabel(e.groupIndex,e.serieIndex,u.itemIndex,s),1==t&&this._installHandlers(c.element,"pieslice",e.groupIndex,e.serieIndex,u.itemIndex)}},_showPieLabel:function(t,i,r,s,a){var n=this._renderData[t].offsets[i][r];if(n.elementInfo.labelElement&&this.renderer.removeElement(n.elementInfo.labelElement),s||(s=this._getLabelsSettings(t,i,NaN)),s.visible){var o=n.fromAngle,l=n.toAngle,h=Math.abs(o-l);h>360&&(o=0,l=360);Math.PI,Math.PI;var d,f=h/2+o,g=(f%=360)*Math.PI*2/360;1==s.autoRotate&&(d=f<90||f>270?360-f:180-f);var u=s.linesEnabled,c=this._showLabel(t,i,r,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,d),x=s.radius||n.outerRadius+Math.max(c.width,c.height);this._isPercent(x)&&(x=parseFloat(x)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),x+=n.centerOffset,isNaN(a)&&(a=0),x+=a;var m=this.seriesGroups[t],p=m.series[i],_=e.jqx.getNum([p.offsetX,m.offsetX,this._plotRect.width/2]),y=e.jqx.getNum([p.offsetY,m.offsetY,this._plotRect.height/2]),v=this._plotRect.x+_,N=this._plotRect.y+y,M=this._adjustTextBoxPosition(v,N,c,x,f,n.outerRadius>x,0!=s.linesAngles,1==s.autoRotate),b={};if(n.elementInfo.labelElement=this._showLabel(t,i,r,{x:M.x,y:M.y,width:c.width,height:c.height},"left","top",!1,!1,!1,d,b),x>n.outerRadius+5&&0!=u){var w={lineColor:n.elementInfo.colors.lineColor,stroke:n.elementInfo.settings.stroke,opacity:n.elementInfo.settings.opacity,dashStyle:n.elementInfo.settings.dashStyle};n.elementInfo.labelArrowPath=this._updateLebelArrowPath(n.elementInfo.labelArrowPath,v,N,x,n.outerRadius+a,g,0!=s.linesAngles,w,b)}}},_updateLebelArrowPath:function(t,i,r,s,a,n,o,l,h){var d=e.jqx._ptrnd(i+(s-0)*Math.cos(n)),f=e.jqx._ptrnd(r-(s-0)*Math.sin(n)),g=e.jqx._ptrnd(i+(a+2)*Math.cos(n)),u=e.jqx._ptrnd(r-(a+2)*Math.sin(n)),c=[];c.push({x:h.x+h.width/2,y:h.y}),c.push({x:h.x+h.width/2,y:h.y+h.height}),c.push({x:h.x,y:h.y+h.height/2}),c.push({x:h.x+h.width,y:h.y+h.height/2}),o||(c.push({x:h.x,y:h.y}),c.push({x:h.x+h.width,y:h.y}),c.push({x:h.x+h.width,y:h.y+h.height}),c.push({x:h.x,y:h.y+h.height})),c=(c=c.sort(function(t,s){return e.jqx._ptdist(t.x,t.y,i,r)-e.jqx._ptdist(s.x,s.y,i,r)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-r)-(Math.abs(t.x-i)+Math.abs(t.y-r))});for(var x=0;x<c.length;x++)c[x].x=e.jqx._ptrnd(c[x].x),c[x].y=e.jqx._ptrnd(c[x].y);var m="M "+(d=c[0].x)+","+(f=c[0].y)+" L"+g+","+u;return o&&(m="M "+d+","+f+" L"+g+","+f+" L"+g+","+u),t?this.renderer.attr(t,{d:m}):t=this.renderer.path(m,{}),this.renderer.attr(t,{fill:"none",stroke:l.lineColor,"stroke-width":l.stroke,"stroke-opacity":l.opacity,"stroke-dasharray":"none"}),t},_adjustTextBoxPosition:function(t,i,r,s,a,n,o,l){var h=a*Math.PI*2/360,d=e.jqx._ptrnd(t+s*Math.cos(h)),f=e.jqx._ptrnd(i-s*Math.sin(h));if(l){var g=r.width,u=r.height,c=Math.atan(u/g)%(2*Math.PI),x=h%(2*Math.PI),m=0;x<=c?m=g/2*Math.cos(h):x>=c&&x<Math.PI-c?m=u/2*Math.sin(h):x>=Math.PI-c&&x<Math.PI+c?m=g/2*Math.cos(h):x>=Math.PI+c&&x<2*Math.PI-c?m=u/2*Math.sin(h):x>=2*Math.PI-c&&x<2*Math.PI&&(m=g/2*Math.cos(h)),s+=Math.abs(m)+3;var d=e.jqx._ptrnd(t+s*Math.cos(h)),f=e.jqx._ptrnd(i-s*Math.sin(h));return d-=r.width/2,f-=r.height/2,{x:d,y:f}}return n?(d-=r.width/2,f-=r.height/2):o?a>=90&&a<270?(f-=r.height/2,d-=r.width):f-=r.height/2:a>=0&&a<45||a>=315&&a<360?f-=r.height/2:a>=45&&a<135?(f-=r.height,d-=r.width/2):a>=135&&a<225?(f-=r.height/2,d-=r.width):a>=225&&a<315&&(d-=r.width/2),{x:d,y:f}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,r=0;r<i.length;r++){var s=i[r].orientation||"vertical";this._isColumnType(i[r].type)&&s==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",r=0;r<e;r++){var s=this.seriesGroups[r],a=s.orientation||"vertical";this._isColumnType(s.type)&&a==i&&t++}return t},_renderAxisBands:function(t,i,r){var s=r?this._getXAxis(t):this._getValueAxis(t),a=this.seriesGroups[t],n=r?void 0:a.bands;if(!n){for(h=0;h<t;h++)if((r?this._getXAxis(h):this._getValueAxis(h))==s)return;n=s.bands}if(e.isArray(n)){var o=i,l="horizontal"==a.orientation;l&&(o={x:i.y,y:i.x,width:i.height,height:i.width}),this._calcGroupOffsets(t,o);for(var h=0;h<n.length;h++){var d,f=n[h],g=this._get([f.minValue,f.from]),u=this._get([f.maxValue,f.to]),c=r?this.getXAxisDataPointOffset(g,t):this.getValueAxisDataPointOffset(g,t),x=r?this.getXAxisDataPointOffset(u,t):this.getValueAxisDataPointOffset(u,t),m=Math.abs(c-x);if(a.polar||a.spider){var p=this._renderData[t],_=p.polarCoords;if(r)if(a.spider){p1=this.getPolarDataPointOffset(g,this._stats.seriesGroups[t].max,t),p2=this.getPolarDataPointOffset(u,this._stats.seriesGroups[t].max,t);D="M "+_.x+","+_.y;D+=" L "+p1.x+","+p1.y,D+=" L "+p2.x+","+p2.y,d=this.renderer.path(D)}else{var y={},v={x:Math.min(c,x),y:i.y,width:m,height:i.height};this._columnAsPieSlice(y,i,_,v),d=y.element}else{var N=this._toPolarCoord(_,i,i.x,p.baseOffset),M=this._toPolarCoord(_,i,i.x,c),b=this._toPolarCoord(_,i,i.x,x),w=e.jqx._ptdist(N.x,N.y,M.x,M.y),A=e.jqx._ptdist(N.x,N.y,b.x,b.y),S=Math.round(360*-_.startAngle/(2*Math.PI)),C=Math.round(360*-_.endAngle/(2*Math.PI));if(S>C){R=S;S=C,C=R}if(a.spider){var k=p.xAxis.offsetAngles,D="",O=[A,w],F=k;_.isClosedCircle&&(F=e.extend([],k)).push(F[0]);for(var j in O){for(var T=0;T<F.length;T++){var I=0==j?T:k.length-T-1,P=_.x+O[j]*Math.cos(F[I]),q=_.y+O[j]*Math.sin(F[I]);D+=""==D?"M ":" L",D+=e.jqx._ptrnd(P)+","+e.jqx._ptrnd(q)}if(0==j){var P=_.x+O[1]*Math.cos(F[I]),q=_.y+O[1]*Math.sin(F[I]);D+=" L"+e.jqx._ptrnd(P)+","+e.jqx._ptrnd(q)}}D+=" Z",d=this.renderer.path(D)}else d=this.renderer.pieslice(_.x,_.y,w,A,S,C)}}else{var L={x:Math.min(c,x),y:o.y,width:m,height:o.height};if(r||(L={x:o.x,y:Math.min(c,x),width:o.width,height:m}),l){var R=L.x;L.x=L.y,L.y=R,R=L.width,L.width=L.height,L.height=R}d=0==m||1==m?this.renderer.line(e.jqx._ptrnd(L.x),e.jqx._ptrnd(L.y),e.jqx._ptrnd(L.x+(l?0:L.width)),e.jqx._ptrnd(L.y+(l?L.height:0))):this.renderer.rect(L.x,L.y,L.width,L.height)}var G=f.fillColor||f.color||"#AAAAAA",V=f.lineColor||G,E=f.lineWidth;isNaN(E)&&(E=1);var H=f.opacity;(isNaN(H)||H<0||H>1)&&(H=1),this.renderer.attr(d,{fill:G,"fill-opacity":H,stroke:V,"stroke-opacity":H,"stroke-width":E,"stroke-dasharray":f.dashStyle})}}},_getColumnGroupWidth:function(e,t,i){var r=this.seriesGroups[e],s=-1!=r.type.indexOf("stacked"),a=(s||r.series.length,this._getColumnGroupsCount(r.orientation));(isNaN(a)||0==a)&&(a=1);var n=t.rangeLength>=1?t.itemWidth:.9*i,o=r.columnsMinWidth;isNaN(o)&&(o=1),isNaN(r.columnsMaxWidth)||(o=Math.min(r.columnsMaxWidth,o)),o>n&&t.length>0&&(n=Math.max(n,.9*i/t.length));var l=o;if(!s){var h=r.seriesGapPercent;(isNaN(h)||h<0)&&(h=10);var d=o;d*=1+(h/=100),l+=r.series.length*d}return{requiredWidth:l,availableWidth:n,targetWidth:Math.max(n/a,l)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],r=(i.series[t],"horizontal"==i.orientation),s=this._plotRect;r&&(s={x:s.y,y:s.x,width:s.height,height:s.width});var a=this._calcGroupOffsets(e,s);if(a&&0!=a.xoffsets.length){var n=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(n=1);var o=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,a.xoffsets,r?s.height:s.width),h=0,d=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(d)>Math.round(l.availableWidth/n))&&(n=1,o=0),h-=d*n/2,h+=d*o;var f=i.columnsGapPercent;f<=0&&(f=0),(isNaN(f)||f>=100)&&(f=25);var g=d*(f/=100);g+l.requiredWidth>l.targetWidth&&(g=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(d)>Math.round(l.availableWidth)&&(g=0),d-=g,h+=g/2;var u=i.seriesGapPercent;(isNaN(u)||u<0)&&(u=10);var c=-1!=i.type.indexOf("stacked"),x=d;c||(x/=i.series.length);var m=this._get([i.seriesGap,d*u/100/(i.series.length-1)]);(1==i.polar||1==i.spider||c||i.series.length<=1)&&(m=0);var p=m*(i.series.length-1);i.series.length>1&&p>d-1*i.series.length&&(m=(p=d-1*i.series.length)/Math.max(1,i.series.length-1));var _=x-p/i.series.length,y=0,v=i.columnsMaxWidth;isNaN(v)||_>v&&(y=_-v,_=v);var N=0;return N=c?y/2:(d-_*i.series.length-p)/2+_*t+Math.max(0,t)*m,{width:_,offset:h+N}}},_renderColumnSeries:function(t,i){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){this._getDataLen(t);var s="horizontal"==r.orientation,a=i;s&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var n=this._calcGroupOffsets(t,a);if(n&&0!=n.xoffsets.length){var o;1!=r.polar&&1!=r.spider||(o=this._getPolarAxisCoords(t,a));var l={groupIndex:t,rect:i,vertical:!s,seriesCtx:[],renderData:n,polarAxisCoords:o};l.columnGroupWidth=this._getColumnGroupWidth(t,n.xoffsets,s?a.height:a.width);for(var h=this._getGroupGradientType(t),d=0;d<r.series.length;d++){var f=r.series[d];if(!f.customDraw){f.dataField;var g=this._getAnimProps(t,d),u=g.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?g.duration:0,c=this._getColumnSerieWidthAndOffset(t,d),x=this._isSerieVisible(t,d),m=this._getSerieSettings(t,d),p=this._getColors(t,d,NaN,this._getGroupGradientType(t),4),_=[];if(e.isFunction(f.colorFunction)&&!o)for(var y=n.xoffsets.first;y<=n.xoffsets.last;y++)_.push(this._getColors(t,d,y,h,4));var v={seriesIndex:d,serieColors:p,itemsColors:_,settings:m,columnWidth:c.width,xAdjust:c.offset,isVisible:x};l.seriesCtx.push(v)}}this._animColumns(l,0==u?1:0);var N=this;this._enqueueAnimation("series",void 0,void 0,u,function(e,t,i){N._animColumns(t,i)},l)}}},_getPercent:function(e,t,i,r){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(r)&&!isNaN(e)&&e>r&&(e=r),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,r,s,a){var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100);0==o&&0==l&&(l=100);for(var h=this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,f=[],g=NaN,u=0;u<i.length;u++){var c,x=(O=i[u]).seriesIndex,m=(n.series[x],e.offsets[x][r].from),p=e.offsets[x][r].to,_=e.xoffsets.data[r],y=O.isVisible;y||(p=m);var v=this._elementRenderInfo;if(y&&v&&v.length>t&&v[t].series.length>x){var N=e.xoffsets.xvalues[r];!(c=v[t].series[x][N])||isNaN(c.from)||isNaN(c.to)||(m=c.from+(m-c.from)*a,p=c.to+(p-c.to)*a,_=c.xoffset+(_-c.xoffset)*a)}c||(p=m+(p-m)*(s?1:a)),isNaN(m)&&(m=isNaN(g)?e.baseOffset:g),g=!isNaN(p)&&s?p:m,isNaN(p)&&(p=m);var M={from:m,to:p,xOffset:_};100==o&&100==l||(M.funnel=!0,M.toWidthPercent=o,M.fromWidthPercent=l),f.push(M)}if(s&&f.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var b=0,w=0,A=-1/0,S=1/0,C=1/0,k=-1/0,D=0;D<f.length;D++){var O=i[D];O.isVisible&&(f[D].to>=f[D].from?(w+=f[D].to-f[D].from,C=Math.min(C,f[D].from),k=Math.max(k,f[D].to)):(b+=f[D].from-f[D].to,A=Math.max(A,f[D].from),S=Math.min(S,f[D].to)))}var F=b,j=w;b*=a,w*=a;for(var T=0,I=0,D=0;D<f.length;D++)if(f[D].to>=f[D].from)(P=f[D].to-f[D].from)+I>w&&(P=Math.max(0,w-I),f[D].to=f[D].from+P),100==o&&100==l||(f[D].funnel=!0,!isNaN(h)&&j*h>=I?f[D].fromWidthPercent=100*d:f[D].fromWidthPercent=Math.abs(f[D].from-C)/j*(o-l)+l,!isNaN(h)&&j*h>=0+(I+P)?f[D].toWidthPercent=100*d:f[D].toWidthPercent=Math.abs(f[D].to-C)/j*(o-l)+l),I+=P;else{var P=f[D].from-f[D].to;P+T>b&&(P=Math.max(0,b-T),f[D].to=f[D].from-P),100==o&&100==l||(f[D].funnel=!0,!isNaN(h)&&F*h>=T?f[D].fromWidthPercent=100*d:f[D].fromWidthPercent=Math.abs(f[D].from-A)/F*(o-l)+l,!isNaN(h)&&F*h>=0+(T+P)?f[D].toWidthPercent=100*d:f[D].toWidthPercent=Math.abs(f[D].to-A)/F*(o-l)+l),T+=P}}return f},_columnAsPieSlice:function(t,i,r,s){var a=this._toPolarCoord(r,i,s.x,s.y),n=this._toPolarCoord(r,i,s.x,s.y+s.height),o=e.jqx._ptdist(r.x,r.y,n.x,n.y),l=e.jqx._ptdist(r.x,r.y,a.x,a.y),h=i.width,d=180*Math.abs(r.startAngle-r.endAngle)/Math.PI,f=-(s.x-i.x)*d/h,g=-(s.x+s.width-i.x)*d/h,u=r.startAngle;if(u=360*u/(2*Math.PI),f-=u,g-=u,t)if(void 0!=t.element){var c=this.renderer.pieSlicePath(r.x,r.y,o,l,g,f,0);c+=" Z",this.renderer.attr(t.element,{d:c})}else t.element=this.renderer.pieslice(r.x,r.y,o,l,g,f,0);return{fromAngle:g,toAngle:f,innerRadius:o,outerRadius:l}},_setRenderInfo:function(e,t,i,r){this._renderData[e].offsets[t][i].elementInfo=r},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(t,i){for(var r=this,s=t.groupIndex,a=this.seriesGroups[s],n=t.renderData,o=-1!=a.type.indexOf("waterfall"),l=this._getXAxis(s),h=-1!=a.type.indexOf("stacked"),d=t.polarAxisCoords,f=(this._getGroupGradientType(s),t.columnGroupWidth.targetWidth,-1),g=0;g<a.series.length;g++)if(this._isSerieVisible(s,g)){f=g;break}for(var u=NaN,c=NaN,g=0;g<t.seriesCtx.length;g++){var x=t.seriesCtx[g];(isNaN(u)||u>x.xAdjust)&&(u=x.xAdjust),(isNaN(c)||c<x.xAdjust+x.columnWidth)&&(c=x.xAdjust+x.columnWidth)}var m=Math.abs(c-u),p=this._get([a.columnsGapPercent,25])/100;(isNaN(p)<0||p>=1)&&(p=.25);for(var _=p*m,y=t.renderData.xoffsets,v=-1,N={},M=1==a.skipOverlappingPoints,b=y.first;b<=y.last;b++){var w=y.data[b];if(!isNaN(w)&&!(-1!=v&&Math.abs(w-v)<m-1+_&&M)){v=w;var A=this._getColumnVOffsets(n,s,t.seriesCtx,b,h,i),S=!1;if(o)for(C=0;C<a.series.length;C++)a.series[C].summary&&y.xvalues[b][a.series[C].summary]&&(S=!0);for(var C=0;C<t.seriesCtx.length;C++){var k=(x=t.seriesCtx[C]).seriesIndex,D=a.series[k],O=A[C].from,F=A[C].to,j=A[C].xOffset,T=(t.vertical?t.rect.x:t.rect.y)+x.xAdjust,I=x.settings,P=0!=x.itemsColors.length?x.itemsColors[b-n.xoffsets.first]:x.serieColors,q=this._isSerieVisible(s,k);if(q){var L={x:w=e.jqx._ptrnd(T+j),width:x.columnWidth};A[C].funnel&&(L.fromWidthPercent=A[C].fromWidthPercent,L.toWidthPercent=A[C].toWidthPercent);var R=!0;t.vertical?(L.y=O,L.height=F-O,L.height<0&&(L.y+=L.height,L.height=-L.height,R=!1)):(L.x=O<F?O:F,L.width=Math.abs(O-F),R=O-F<0,L.y=w,L.height=x.columnWidth);var G=O-F;if(!isNaN(G)){G=Math.abs(G);var V=void 0,E=r._getRenderInfo(s,k,b),H=E.element,B=E.labelElement,z=void 0==H;if(B&&(r.renderer.removeElement(B),B=void 0),d){var W={element:H};V=this._columnAsPieSlice(W,t.rect,d,L),H=W.element;P=this._getColors(s,k,void 0,"radialGradient",V.outerRadius)}else if(A[C].funnel){var X=this._getTrapezoidPath(e.extend({},L),t.vertical,R);z?H=this.renderer.path(X,{}):this.renderer.attr(H,{d:X})}else z?H=this.renderer.rect(L.x,L.y,t.vertical?L.width:0,t.vertical?0:L.height):1==t.vertical?this.renderer.attr(H,{x:L.x,y:L.y,height:G}):this.renderer.attr(H,{x:L.x,y:L.y,width:G});if(G<1&&(1!=i||d)?this.renderer.attr(H,{display:"none"}):this.renderer.attr(H,{display:"block"}),z&&this.renderer.attr(H,{fill:P.fillColor,"fill-opacity":I.opacity,"stroke-opacity":I.opacity,stroke:P.lineColor,"stroke-width":I.stroke,"stroke-dasharray":I.dashStyle}),B&&this.renderer.removeElement(B),!q||0==G&&i<1)E={element:H,labelElement:B},r._setRenderInfo(s,k,b,E);else{if(o&&0!=this._get([D.showWaterfallLines,a.showWaterfallLines])){if(!h||h&&C==f){var U=h?-1:C;if(1==i&&!isNaN(n.offsets[C][b].from)&&!isNaN(n.offsets[C][b].to)){var Y=N[U];if(void 0!=Y){var Z={x:Y.x,y:e.jqx._ptrnd(Y.y)},J={x:w,y:Z.y},Q=a.columnsTopWidthPercent/100;isNaN(Q)?Q=1:(Q>1||Q<0)&&(Q=1);var K=a.columnsBottomWidthPercent/100;isNaN(K)?K=1:(K>1||K<0)&&(K=1);ee=t.vertical?L.width:L.height;if(Z.x=Z.x-ee/2+ee/2*Q,S){$=ee*Q/2;J.x=J.x+ee/2-(l.flip?-$:$)}else{var $=ee*K/2;J.x=J.x+ee/2-(l.flip?-$:$)}t.vertical||(this._swapXY([Z]),this._swapXY([J])),this.renderer.line(Z.x,Z.y,J.x,J.y,{stroke:Y.color,"stroke-width":I.stroke,"stroke-opacity":I.opacity,"fill-opacity":I.opacity,"stroke-dasharray":I.dashStyle})}}}1==i&&0!=G&&(N[h?-1:C]={y:F,x:t.vertical?L.x+L.width:L.y+L.height,color:P.lineColor})}if(d){this._toPolarCoord(d,t.rect,L.x+L.width/2,L.y);var ee=this._showLabel(s,k,b,L,void 0,void 0,!0),te=V.outerRadius+10;labelOffset=this._adjustTextBoxPosition(d.x,d.y,ee,te,(V.fromAngle+V.toAngle)/2,!0,!1,!1),B=this._showLabel(s,k,b,{x:labelOffset.x,y:labelOffset.y},void 0,void 0,!1,!1,!1)}else B=this._showLabel(s,k,b,L,void 0,void 0,!1,!1,R);E={element:H,labelElement:B},r._setRenderInfo(s,k,b,E),1==i&&this._installHandlers(H,"column",s,k,b)}}}}}}},_getTrapezoidPath:function(t,i,r){var s="",a=t.fromWidthPercent/100,n=t.toWidthPercent/100;if(!i){var o=t.width;t.width=t.height,t.height=o,o=t.x,t.x=t.y,t.y=o}var l=t.x+t.width/2,h=[{x:l-t.width*(r?n:a)/2,y:t.y+t.height},{x:l-t.width*(r?a:n)/2,y:t.y},{x:l+t.width*(r?a:n)/2,y:t.y},{x:l+t.width*(r?n:a)/2,y:t.y+t.height}];i||this._swapXY(h),s+="M "+e.jqx._ptrnd(h[0].x)+","+e.jqx._ptrnd(h[0].y);for(var d=1;d<h.length;d++)s+=" L "+e.jqx._ptrnd(h[d].x)+","+e.jqx._ptrnd(h[d].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(t,i,r){var s=this,a=s.seriesGroups[t];if(a.series&&0!=a.series.length){var n="horizontal"==a.orientation,o=i;n&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var l=s._calcGroupOffsets(t,o);if(l&&0!=l.xoffsets.length){var h;o.width;(a.polar||a.spider)&&2*(h=s._getPolarAxisCoords(t,o)).r;s._alignValuesWithTicks(t);for(var d=s._getGroupGradientType(t),f=[],g=0;g<a.series.length;g++)f[g]=s._getColumnSerieWidthAndOffset(t,g);for(g=0;g<a.series.length;g++)if(this._isSerieVisible(t,g)){var u=s._getSerieSettings(t,g),c=a.series[g];if(!c.customDraw){var x=e.isFunction(c.colorFunction)?void 0:s._getColors(t,g,NaN,d),m={rect:i,inverse:n,groupIndex:t,seriesIndex:g,symbolType:c.symbolType,symbolSize:c.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-dasharray":u.dashStyle,gradientType:d,colors:x,renderData:l,polarAxisCoords:h,columnsInfo:f,isOHLC:r,items:[],self:s},p=s._getAnimProps(t,g),_=p.enabled&&!s._isToggleRefresh&&l.xoffsets.length<5e3?p.duration:0;s._animCandleStick(m,0);s._enqueueAnimation("series",void 0,void 0,_,function(e,t,i){s._animCandleStick(t,i)},m)}}}}},_animCandleStick:function(t,i){var r=["Open","Low","Close","High"],s=t.columnsInfo[t.seriesIndex].width,a=t.self.seriesGroups[t.groupIndex],n=t.renderData.xoffsets,o=-1,l=Math.abs(n.data[n.last]-n.data[n.first]);l*=i;for(var h=NaN,d=NaN,f=0;f<t.columnsInfo.length;f++){var g=t.columnsInfo[f];(isNaN(h)||h>g.offset)&&(h=g.offset),(isNaN(d)||d<g.offset+g.width)&&(d=g.offset+g.width)}for(var u=Math.abs(d-h),c=0!=a.skipOverlappingPoints,x=n.first;x<=n.last;x++){var m=n.data[x];if(!isNaN(m)&&!(-1!=o&&Math.abs(m-o)<u&&c)){if(Math.abs(n.data[x]-n.data[n.first])>l)break;o=m;var p=t.items[x]=t.items[x]||{};for(var f in r){var _=t.self._getDataValueAsNumber(x,a.series[t.seriesIndex]["dataField"+r[f]],t.groupIndex);if(isNaN(_))break;var y=t.renderData.offsets[t.seriesIndex][x][r[f]];if(isNaN(y))break;p[r[f]]=y}if(m+=t.inverse?t.rect.y:t.rect.x,t.polarAxisCoords){var v=this._toPolarCoord(t.polarAxisCoords,this._plotRect,m,y);m=v.x,y=v.y}m=e.jqx._ptrnd(m);for(var N in r)p[N]=e.jqx._ptrnd(p[N]);var M=t.colors;if(M||(M=t.self._getColors(t.groupIndex,t.seriesIndex,x,t.gradientType)),t.isOHLC){var b="M"+m+","+p.Low+" L"+m+","+p.High+" M"+(m-s/2)+","+p.Open+" L"+m+","+p.Open+" M"+(m+s/2)+","+p.Close+" L"+m+","+p.Close;t.inverse&&(b="M"+p.Low+","+m+" L"+p.High+","+m+" M"+p.Open+","+(m-s/2)+" L"+p.Open+","+m+" M"+p.Close+","+m+" L"+p.Close+","+(m+s/2));var w=p.lineElement;w||(w=this.renderer.path(b,{}),this.renderer.attr(w,{fill:M.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:M.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),p.lineElement=w),1==i&&this._installHandlers(w,"column",t.groupIndex,t.seriesIndex,x)}else{(w=p.lineElement)||(w=t.inverse?this.renderer.line(p.Low,m,p.High,m):this.renderer.line(m,p.Low,m,p.High),this.renderer.attr(w,{fill:M.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:M.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),p.lineElement=w);var A=p.stickElement;if(m-=s/2,!A){var S=M.fillColor;p.Close<=p.Open&&M.fillColorAlt&&(S=M.fillColorAlt),A=t.inverse?this.renderer.rect(Math.min(p.Open,p.Close),m,Math.abs(p.Close-p.Open),s):this.renderer.rect(m,Math.min(p.Open,p.Close),s,Math.abs(p.Close-p.Open)),this.renderer.attr(A,{fill:S,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:M.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),p.stickElement=A}1==i&&this._installHandlers(A,"column",t.groupIndex,t.seriesIndex,x)}}}},_renderScatterSeries:function(t,i,r){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){var a=-1!=s.type.indexOf("bubble"),n="horizontal"==s.orientation,o=i;n&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var l=this._calcGroupOffsets(t,o);if(l&&0!=l.xoffsets.length){var h,d=o.width;(s.polar||s.spider)&&(d=2*(h=this._getPolarAxisCoords(t,o)).r);this._alignValuesWithTicks(t);var f=this._getGroupGradientType(t);r||(r="to");for(var g=0;g<s.series.length;g++){var u=this._getSerieSettings(t,g),c=s.series[g];if(!c.customDraw){var x=c.dataField,m=e.isFunction(c.colorFunction),p=this._getColors(t,g,NaN,f),_=NaN,y=NaN;if(a)for(C=l.xoffsets.first;C<=l.xoffsets.last;C++){if("number"!=typeof(k=this._getDataValueAsNumber(C,c.radiusDataField||c.sizeDataField,t)))throw"Invalid radiusDataField value at ["+C+"]";isNaN(k)||((isNaN(_)||k<_)&&(_=k),(isNaN(y)||k>y)&&(y=k))}var v=c.minRadius||c.minSymbolSize;isNaN(v)&&(v=d/50);var N=c.maxRadius||c.maxSymbolSize;isNaN(N)&&(N=d/25),v>N&&(N=v);var M=c.radius;M=isNaN(M)&&!isNaN(c.symbolSize)?"circle"==c.symbolType?c.symbolSize/2:c.symbolSize:5;for(var b=this._getAnimProps(t,g),w=b.enabled&&!this._isToggleRefresh&&l.xoffsets.length<5e3?b.duration:0,A={groupIndex:t,seriesIndex:g,symbolType:c.symbolType,symbolSize:c.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-width-symbol":u.strokeSymbol,"stroke-dasharray":u.dashStyle,items:[],polarAxisCoords:h},S=void 0,C=l.xoffsets.first;C<=l.xoffsets.last;C++){var k=this._getDataValueAsNumber(C,x,t);if("number"==typeof k){var D=l.xoffsets.data[C],O=l.xoffsets.xvalues[C],F=l.offsets[g][C][r];if(!(F<o.y||F>o.y+o.height||isNaN(D)||isNaN(F))){if(n){G=D;D=F,F=G+i.y}else D+=i.x;if(!(!m&&S&&this.enableSampling&&e.jqx._ptdist(S.x,S.y,D,F)<1)){S={x:D,y:F};var j=M;if(a){var T=this._getDataValueAsNumber(C,c.radiusDataField||c.sizeDataField,t);if("number"!=typeof T)continue;j=v+(N-v)*(T-_)/Math.max(1,y-_),isNaN(j)&&(j=v)}l.offsets[g][C].radius=j;var I=NaN,P=NaN,q=0,L=this._elementRenderInfo;if(void 0!=O&&L&&L.length>t&&L[t].series.length>g){var R=L[t].series[g][O];if(R&&!isNaN(R.to)){if(I=R.to,P=R.xoffset,q=M,n){var G=P;P=I,I=G+i.y}else P+=i.x;a&&(q=v+(N-v)*(R.valueRadius-_)/Math.max(1,y-_),isNaN(q)&&(q=v))}}m&&(p=this._getColors(t,g,C,f)),A.items.push({from:q,to:j,itemIndex:C,fill:p.fillColor,stroke:p.lineColor,x:D,y:F,xFrom:P,yFrom:I})}}}}this._animR(A,0);var V=this;this._enqueueAnimation("series",void 0,void 0,w,function(e,t,i){V._animR(t,i)},A)}}}}},_animR:function(t,i){for(var r=t.items,s=t.symbolType||"circle",a=t.symbolSize,n=0;n<r.length;n++){var o=r[n],l=o.x,h=o.y,d=Math.round((o.to-o.from)*i+o.from);if(isNaN(o.yFrom)||(h=o.yFrom+(h-o.yFrom)*i),isNaN(o.xFrom)||(l=o.xFrom+(l-o.xFrom)*i),t.polarAxisCoords){var f=this._toPolarCoord(t.polarAxisCoords,this._plotRect,l,h);l=f.x,h=f.y}l=e.jqx._ptrnd(l),h=e.jqx._ptrnd(h),d=e.jqx._ptrnd(d);var g=this._getRenderInfo(t.groupIndex,t.seriesIndex,r[n].itemIndex),u=g.element,c=g.labelElement;"circle"==s?(u||(u=this.renderer.circle(l,h,d),this.renderer.attr(u,{fill:o.fill,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:o.stroke,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(u,void 0,void 0,d):this.renderer.attr(u,{r:d,cy:h,cx:l})):(u&&this.renderer.removeElement(u),u=this._drawSymbol(s,l,h,o.fill,t["fill-opacity"],o.stroke,t["stroke-opacity"]||t["fill-opacity"],t["stroke-width-symbol"],t["stroke-dasharray"],a||d)),c&&this.renderer.removeElement(c),c=this._showLabel(t.groupIndex,t.seriesIndex,o.itemIndex,{x:l-d,y:h-d,width:2*d,height:2*d}),i>=1&&this._installHandlers(u,"circle",t.groupIndex,t.seriesIndex,o.itemIndex),this._setRenderInfo(t.groupIndex,t.seriesIndex,r[n].itemIndex,{element:u,labelElement:c})}},_showToolTip:function(t,i,r,s,a){var n=this,o=n._getXAxis(r),l=n._getValueAxis(r);if(!n._ttEl||r!=n._ttEl.gidx||s!=n._ttEl.sidx||a!=n._ttEl.iidx){var h=n.seriesGroups[r],d=h.series[s],f=n.enableCrosshairs;n._pointMarker?(t=parseInt(n._pointMarker.x+5),i=parseInt(n._pointMarker.y-5)):f=!1;var g=f&&0==n.showToolTips;t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);n._ttEl;if(0!=h.showToolTips&&0!=d.showToolTips){var u=n._get([d.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,n.toolTipFormatSettings]),c=n._get([d.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,n.toolTipFormatFunction]),x=n._getColors(r,s,a),m=n._getDataValue(a,o.dataField,r);void 0!=o.dataField&&""!=o.dataField||(m=a),"date"==o.type&&(m=n._castAsDate(m,(u?u.dateFormat:void 0)||o.dateFormat));var p="";if(e.isFunction(c)){var _={},y=0;for(var v in d)0==v.indexOf("dataField")&&(_[v.substring(9,v.length).toLowerCase()]=n._getDataValue(a,d[v],r),y++);0==y?_=n._getDataValue(a,void 0,r):1==y&&(_=_[""]),p=c(_,a,d,h,m,o)}else{p=n._getFormattedValue(r,s,a,u,c);var N=this._getAxisSettings(o),M=N.toolTipFormatSettings,b=N.toolTipFormatFunction;b||M||"date"!=o.type||(b=this._getDefaultDTFormatFn(o.baseUnit||"day"));var w=n._formatValue(m,M,b,r,s,a);if(n._isPieGroup(r))m=n._getDataValue(a,d.displayText||d.dataField,r),p=(w=n._formatValue(m,M,b,r,s,a))+": "+p;else{var A=o.displayText||o.dataField||"";p=A.length>0?A+": "+w+"<br>"+p:w+"<br>"+p}}if(n._ttEl||(n._ttEl={}),n._ttEl.sidx=s,n._ttEl.gidx=r,n._ttEl.iidx=a,rect=n.renderer.getRect(),f){var S=e.jqx._ptrnd(n._pointMarker.x),C=e.jqx._ptrnd(n._pointMarker.y),k=n.crosshairsColor||n._defaultLineColor;if(h.polar||h.spider){var D=this._getPolarAxisCoords(r,this._plotRect);if(e.jqx._ptdist(S,C,D.x,D.y)>D.r)return;var O=Math.atan2(C-D.y,S-D.x),F=Math.cos(O)*D.r+D.x,j=Math.sin(O)*D.r+D.y;n._ttEl.vLine?n.renderer.attr(n._ttEl.vLine,{x1:D.x,y1:D.y,x2:F,y2:j}):n._ttEl.vLine=n.renderer.line(D.x,D.y,F,j,{stroke:k,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""})}else n._ttEl.vLine&&n._ttEl.hLine?(n.renderer.attr(n._ttEl.vLine,{x1:S,x2:S}),n.renderer.attr(n._ttEl.hLine,{y1:C,y2:C})):(n._ttEl.vLine=n.renderer.line(S,n._plotRect.y,S,n._plotRect.y+n._plotRect.height,{stroke:k,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}),n._ttEl.hLine=n.renderer.line(n._plotRect.x,C,n._plotRect.x+n._plotRect.width,C,{stroke:k,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}))}if(!g&&0!=n.showToolTips){var T=d.toolTipClass||h.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),I=d.toolTipBackground||h.toolTipBackground||"#FFFFFF",P=d.toolTipLineColor||h.toolTipLineColor||x.lineColor,q=this._get([d.toolTipOpacity,h.toolTipOpacity,1]),L=this.getItemCoord(r,s,a),R=0;n._pointMarker&&n._pointMarker.element&&(R=d.symbolSizeSelected,isNaN(R)&&(R=d.symbolSize),(isNaN(R)||R>50||R<0)&&(R=h.symbolSize),(isNaN(R)||R>50||R<0)&&(R=8)),n._createTooltip(L,h,p,{css:T,fill:I,stroke:P,fillOpacity:q,symbolSize:R})}}}},_fitTooltip:function(e,t,i,r,s){var a={},n=2+s/2;if(t.x-i.width-7-n>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.left={arrowLocation:"right",x:t.x-i.width-7-n,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+n<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.right={arrowLocation:"left",x:t.x+t.width+n,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-n-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-n-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+n<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+n,width:i.width,height:i.height+7}),t.width>t.height||(-1!=r.type.indexOf("stackedcolumn")||-1!=r.type.indexOf("stackedwaterfall"))&&"horizontal"!=r.orientation){if(a.left)return a.left;if(a.right)return a.right}else{if(a.top)return a.top;if(a.bottom)return a.bottom}for(var o in a)if(a[o])return a[o];return{arrowLocation:""}},_createTooltip:function(t,i,r,s){var a=this,n=i.type,o=!1,l=a._ttEl.box;if(!l){o=!0;(l=a._ttEl.box=document.createElement("div")).style.position="absolute",l.style.cursor="default",e(h).css({"z-index":1e7,"box-sizing":"content-box"}),e(l).css({"z-index":1e7}),e(document.body).append(l);var h=document.createElement("div");h.id="arrowOuterDiv",h.style.width="0px",h.style.height="0px",h.style.position="absolute",e(h).css({"z-index":1e7+1,"box-sizing":"content-box"});var d=document.createElement("div");d.id="arrowInnerDiv",d.style.width="0px",d.style.height="0px",d.style.position="absolute";var f=document.createElement("div");f.id="contentDiv",f.style.position="absolute",e(f).css({"box-sizing":"content-box"}),e(f).addClass("jqx-rc-all jqx-button"),e(f).appendTo(e(l)),e(h).appendTo(e(l)),e(d).appendTo(e(l)),e(d).css({"z-index":1e7+2,"box-sizing":"content-box"})}if(r&&0!=r.length){f=e(l).find("#contentDiv")[0],h=e(l).find("#arrowOuterDiv")[0],(d=e(l).find("#arrowInnerDiv")[0]).style.opacity=h.style.opacity=s.fillOpacity,f.style.backgroundColor=s.fill,f.style.borderColor=s.stroke,f.style.opacity=s.fillOpacity;var g="<span class='"+s.css+"'>"+r+"</span>";e(f).html(g);var u=this._measureHtml(g,"jqx-rc-all jqx-button");if(rect=a._plotRect,!(u.width>rect.width||u.height>rect.height)){var c={width:u.width,height:u.height};arrowLocation="";var m=a._isColumnType(n);if(x=Math.max(t.x,rect.x),y=Math.max(t.y,rect.y),"dataPoint"==a.toolTipAlignment){if(-1!=n.indexOf("pie")||-1!=n.indexOf("donut")){var p=(t.fromAngle+t.toAngle)/2;p*=Math.PI/180;var _=!isNaN(t.innerRadius)&&t.innerRadius>0?(t.innerRadius+t.outerRadius)/2:.75*t.outerRadius;x=t.x=t.center.x+Math.cos(p)*_,y=t.y=t.center.y-Math.sin(p)*_,t.width=t.height=1}else m&&(i.polar||i.spider)&&(t.width=t.height=1);var v=this._fitTooltip(this._plotRect,t,c,i,s.symbolSize);""!=v.arrowLocation&&(arrowLocation=v.arrowLocation,x=v.x,y=v.y,c.width=v.width,c.height=v.height)}else arrowLocation="";"top"==arrowLocation||"bottom"==arrowLocation?(c.height+=7,x-=3.5,"bottom"==arrowLocation&&(y-=7)):"left"!=arrowLocation&&"right"!=arrowLocation||(c.width+=7,y-=3.5,"right"==arrowLocation&&(x-=7)),x+c.width>rect.x+rect.width&&(arrowLocation="",x=rect.x+rect.width-c.width),y+c.height>rect.y+rect.height&&(arrowLocation="",y=rect.y+rect.height-c.height);var N={x:0,y:0};e(f).css({width:u.width,height:u.height,left:0,top:0}),h.style["margin-top"]=h.style["margin-left"]=0,d.style["margin-top"]=d.style["margin-left"]=0,f.style["margin-top"]=f.style["margin-left"]=0;switch(arrowLocation){case"left":N={x:0,y:(u.height-7)/2},contentPostion={x:7,y:0},f.style["margin-left"]="7px",h.style["margin-left"]="0px",h.style["margin-top"]=N.y+"px",h.style["border-left"]="",h.style["border-right"]="7px solid "+s.stroke,h.style["border-top"]="7px solid transparent",h.style["border-bottom"]="7px solid transparent",d.style["margin-left"]="1px",d.style["margin-top"]=N.y+"px",d.style["border-left"]="",d.style["border-right"]="7px solid "+s.fill,d.style["border-top"]="7px solid transparent",d.style["border-bottom"]="7px solid transparent";break;case"right":N={x:c.width-7,y:(u.height-7)/2},contentPostion={x:0,y:0},h.style["margin-left"]=N.x+"px",h.style["margin-top"]=N.y+"px",h.style["border-left"]="7px solid "+s.stroke,h.style["border-right"]="",h.style["border-top"]="7px solid transparent",h.style["border-bottom"]="7px solid transparent",d.style["margin-left"]=N.x-1+"px",d.style["margin-top"]=N.y+"px",d.style["border-left"]="7px solid "+s.fill,d.style["border-right"]="",d.style["border-top"]="7px solid transparent",d.style["border-bottom"]="7px solid transparent";break;case"top":N={x:c.width/2-3.5,y:0},contentPostion={x:0,y:7},f.style["margin-top"]=contentPostion.y+"px",h.style["margin-left"]=N.x+"px",h.style["border-top"]="",h.style["border-bottom"]="7px solid "+s.stroke,h.style["border-left"]="7px solid transparent",h.style["border-right"]="7px solid transparent",d.style["margin-left"]=N.x+"px",d.style["margin-top"]="1px",d.style["border-top"]="",d.style["border-bottom"]="7px solid "+s.fill,d.style["border-left"]="7px solid transparent",d.style["border-right"]="7px solid transparent";break;case"bottom":N={x:c.width/2-3.5,y:c.height-7},contentPostion={x:0,y:0},h.style["margin-left"]=N.x+"px",h.style["margin-top"]=N.y+"px",h.style["border-top"]="7px solid "+s.stroke,h.style["border-bottom"]="",h.style["border-left"]="7px solid transparent",h.style["border-right"]="7px solid transparent",d.style["margin-left"]=N.x+"px",d.style["margin-top"]=N.y-1+"px",d.style["border-top"]="7px solid "+s.fill,d.style["border-bottom"]="",d.style["border-left"]="7px solid transparent",d.style["border-right"]="7px solid transparent"}""==arrowLocation?(e(h).hide(),e(d).hide()):(e(h).show(),e(d).show()),e(l).css({width:c.width+"px",height:c.height+"px"});var M=a.host.coord();o&&(e(l).fadeOut(0,0),l.style.left=x+M.left+"px",l.style.top=y+M.top+"px"),e(l).clearQueue(),e(l).animate({left:x+M.left,top:y+M.top,opacity:1},a.toolTipMoveDuration,"easeInOutCirc"),e(l).fadeTo(400,1)}}else e(l).fadeTo(0,0)},_measureHtml:function(t,i){var r=this._measureDiv;r||(this._measureDiv=r=document.createElement("div"),r.style.position="absolute",r.style.cursor="default",r.style.overflow="hidden",r.style.display="none",e(r).addClass(i),this.host.append(r)),e(r).html(t);var s={width:e(r).width()+2,height:e(r).height()+2};return e.jqx.browser&&e.jqx.browser.mozilla&&(s.height+=3),s},_hideToolTip:function(t){this._ttEl&&(this._ttEl.box&&(0==t?e(this._ttEl.box).hide():e(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(t){return e.jqx.getByPriority(t)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},r={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},a={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},n=e.title||{},o={visible:t._get([n.visible,!0]),text:t._get([e.description,n.text]),style:t._get([e.descriptionClass,n.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([n.rotationPoint,"centercenter"]),offset:t._get([n.offset,{x:0,y:0}])},l=e.line||{},h={visible:t._get([l.visible,!0]),color:t._get([l.color,r.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,r.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},d=e.padding||{};d={left:d.left||0,right:d.right||0,top:d.top||0,bottom:d.bottom||0};var f=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:r,tickMarks:a,line:h,title:o,labels:f,padding:d,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,f.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,f.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(t,i,r,s){for(var a=this.seriesGroups[t],n=a.series[i],o=isNaN(r)?void 0:this._getDataValue(r,n.dataField,t),l=s||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],h={},d=0;d<l.length;d++){var f=l[d],g="labels"+f,u="label"+f,c=f.substring(0,1).toLowerCase()+f.substring(1),x=void 0;a.labels&&"object"==typeof a.labels&&(x=a.labels[c]),n.labels&&"object"==typeof n.labels&&void 0!=n.labels[c]&&(x=n.labels[c]),x=this._get([n[g],n[u],x,a[g],a[u]]),e.isFunction(x)?h[c]=x(o,r,n,a):h[c]=x}h.class=h.class||this.toThemeProperty("jqx-chart-label-text",null),h.visible=this._get([h.visible,n.showLabels,a.showLabels,void 0!=n.labels||void 0,void 0!=a.labels||void 0]);var m=h.padding||1;return h.padding={left:this._get([m.left,isNaN(m)?1:m]),right:this._get([m.right,isNaN(m)?1:m]),top:this._get([m.top,isNaN(m)?1:m]),bottom:this._get([m.bottom,isNaN(m)?1:m])},h},_showLabel:function(e,t,i,r,s,a,n,o,l,h,d){this.seriesGroups[e].series[t];var f={width:0,height:0};if(!isNaN(i)){var g=this._getLabelsSettings(e,t,i);if(!g.visible)return n?f:void 0;if(r.width<0||r.height<0)return n?f:void 0;var u=g.angle;isNaN(h)||(u=h);var c=g.offset||{},x={x:c.x,y:c.y};isNaN(x.x)&&(x.x=0),isNaN(x.y)&&(x.y=0),s=s||g.horizontalAlignment||"center",a=a||g.verticalAlignment||"center";var m=this._getFormattedValue(e,t,i,void 0,void 0,!0),p=r.width,_=r.height;if(1==o&&"center"!=s&&(s="right"==s?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",x.y*=-1),f=this.renderer.measureText(m,u,{class:g.class}),n)return f;var y=0,v=0;p>0&&(""==s||"center"==s?y+=(p-f.width)/2:"right"==s&&(y+=p-f.width)),_>0&&(""==a||"center"==a?v+=(_-f.height)/2:"bottom"==a&&(v+=_-f.height)),y+=r.x+x.x,v+=r.y+x.y;var N=this._plotRect;y<=N.x&&(y=N.x+2),v<=N.y&&(v=N.y+2);var M={width:Math.max(f.width,1),height:Math.max(f.height,1)};v+M.height>=N.y+N.height&&(v=N.y+N.height-M.height-2),y+M.width>=N.x+N.width&&(y=N.x+N.width-M.width-2);var b,w=g.backgroundColor,A=g.borderColor,S=g.padding;if(w||A){b=this.renderer.beginGroup();var r=this.renderer.rect(y-S.left,v-S.top,f.width+S.left+S.right,f.height+S.bottom+S.bottom,{fill:w||"transparent","fill-opacity":g.backgroundOpacity||1,stroke:A||"transparent","stroke-opacity":g.borderOpacity,"stroke-width":1})}var C=this.renderer.text(m,y,v,f.width,f.height,u,{class:g.class,opacity:g.opacity||1},!1,"center","center");return d&&(d.x=y-S.left,d.y=v-S.top,d.width=f.width+S.left+S.right,d.height=f.height+S.bottom+S.bottom),this._isVML&&(this.renderer.removeElement(C),this.renderer.getContainer()[0].appendChild(C)),b&&this.renderer.endGroup(),b||C}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],r=isNaN(t)?void 0:i.series[t],s=1==this.enableAnimations;i.enableAnimations&&(s=1==i.enableAnimations),r&&r.enableAnimations&&(s=1==r.enableAnimations);var a=this.animationDuration;isNaN(a)&&(a=1e3);var n=i.animationDuration;if(isNaN(n)||(a=n),r){var o=r.animationDuration;isNaN(o)||(a=o)}return a>5e3&&(a=1e3),{enabled:s,duration:a}},_isColorTransition:function(e,t,i,r){if(r-1<i.xoffsets.first)return!1;var s=this._getColors(e,t,r,this._getGroupGradientType(e)),a=this._getColors(e,t,r-1,this._getGroupGradientType(e));return s.fillColor!=a.fillColor},_renderLineSeries:function(t,i){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var s=-1!=r.type.indexOf("area"),a=-1!=r.type.indexOf("stacked"),n=a&&-1!=r.type.indexOf("100"),o=-1!=r.type.indexOf("spline"),l=-1!=r.type.indexOf("step"),h=-1!=r.type.indexOf("range"),d=1==r.polar||1==r.spider;if(d&&(l=!1),!l||!o){var f=this._getDataLen(t),g=(i.width,"horizontal"==r.orientation),u=1==this._getXAxis(t).flip,c=i;g&&(c={x:i.y,y:i.x,width:i.height,height:i.width});var x=this._calcGroupOffsets(t,c);if(x&&0!=x.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[t]={};for(var m=r.series.length-1;m>=0;m--){var p=this._getSerieSettings(t,m),_={groupIndex:t,rect:c,serieIndex:m,swapXY:g,isArea:s,isSpline:o,isRange:h,isPolar:d,settings:p,segments:[],pointsLength:0};if(this._isSerieVisible(t,m)){var y=r.series[m];if(!y.customDraw){var v,N=e.isFunction(y.colorFunction),M=x.xoffsets.first,b=M,w=this._getColors(t,m,NaN,this._getGroupGradientType(t));do{var A=[],S=[],C=[],k=0,D=0,O=NaN,F=NaN,j=NaN;if(!(x.xoffsets.length<1)){var T=this._getAnimProps(t,m),I=T.enabled&&!this._isToggleRefresh&&x.xoffsets.length<1e4&&1!=this._isVML?T.duration:0,P=M;v=!1;this._getColors(t,m,M,this._getGroupGradientType(t));for(var q=void 0,L=M;L<=x.xoffsets.last;L++){M=L;var R=x.xoffsets.data[L],G=x.xoffsets.xvalues[L];if(!isNaN(R)&&(R=Math.max(R,1),k=R,D=x.offsets[m][L].to,!(!N&&q&&this.enableSampling&&e.jqx._ptdist(q.x,q.y,k,D)<1))){q={x:k,y:D};var V=x.offsets[m][L].from;if(isNaN(D)||isNaN(V)){if("connect"==y.emptyPointsDisplay)continue;if("zero"!=y.emptyPointsDisplay){v=!0;break}isNaN(D)&&(D=x.baseOffset),isNaN(V)&&(V=x.baseOffset)}if(N&&this._isColorTransition(t,m,x,M)&&A.length>1){M--;break}var E=this._elementRenderInfo;if(E&&E.length>t&&E[t].series.length>m){var H=E[t].series[m][G],j=e.jqx._ptrnd(H?H.to:void 0),B=e.jqx._ptrnd(c.x+(H?H.xoffset:void 0));C.push(g?{y:B,x:j,index:L}:{x:B,y:j,index:L})}b=L,p.stroke<2&&(D-c.y<=1&&(D=c.y+1),V-c.y<=1&&(V=c.y+1),c.y+c.height-D<=1&&(D=c.y+c.height-1),c.y+c.height-V<=1&&(V=c.y+c.height-1)),!s&&n&&(D<=c.y&&(D=c.y+1),D>=c.y+c.height&&(D=c.y+c.height-1),V<=c.y&&(V=c.y+1),V>=c.y+c.height&&(V=c.y+c.height-1)),k=(R=Math.max(R,1))+c.x,1==r.skipOverlappingPoints&&!isNaN(O)&&Math.abs(O-k)<=1||(!l||isNaN(O)||isNaN(F)||F!=D&&A.push(g?{y:k,x:e.jqx._ptrnd(F)}:{x:k,y:e.jqx._ptrnd(F)}),A.push(g?{y:k,x:e.jqx._ptrnd(D),index:L}:{x:k,y:e.jqx._ptrnd(D),index:L}),S.push(g?{y:k,x:e.jqx._ptrnd(V),index:L}:{x:k,y:e.jqx._ptrnd(V),index:L}),O=k,F=D,isNaN(j)&&(j=D))}}if(0!=A.length){var z=A[A.length-1].index;N&&(w=this._getColors(t,m,z,this._getGroupGradientType(t)));var W=c.x+x.xoffsets.data[P],X=c.x+x.xoffsets.data[b];if(s&&1==r.alignEndPointsWithIntervals){if(W>c.x&&(W=c.x),X<c.x+c.width&&(X=c.x+c.width),u){var U=W;W=X,X=U}}X=e.jqx._ptrnd(X),W=e.jqx._ptrnd(W);var Y=x.baseOffset;j=e.jqx._ptrnd(j);var Z=e.jqx._ptrnd(D)||Y;h&&(A=A.concat(S.reverse())),_.pointsLength+=A.length;var J={lastItemIndex:z,colorSettings:w,pointsArray:A,pointsStart:C,left:W,right:X,pyStart:j,pyEnd:Z,yBase:Y,labelElements:[],symbolElements:[]};_.segments.push(J)}else M++}}while(M<x.xoffsets.first+x.xoffsets.length-1||v);this._linesRenderInfo[t][m]=_}}else this._linesRenderInfo[t][m]=_}var Q=this._linesRenderInfo[t],K=[];for(var L in Q)K.push(Q[L]);K=K.sort(function(e,t){return e.serieIndex-t.serieIndex}),s&&a&&K.reverse();for(L=0;L<K.length;L++){_=K[L];this._animateLine(_,0==I?1:0);var $=this;this._enqueueAnimation("series",void 0,void 0,I,function(e,t,i){$._animateLine(t,i)},_)}}}}},_animateLine:function(e,t){var i=e.settings,r=e.groupIndex,s=e.serieIndex,a=this.seriesGroups[r],n=a.series[s],o=this._getSymbol(r,s),l=this._getLabelsSettings(r,s,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1)),0==n.endPointsConnect&&(h=!1);for(var d=0,f=0;f<e.segments.length;f++){var g=e.segments[f],u=this._calculateLine(r,e.pointsLength,d,g.pointsArray,g.pointsStart,g.yBase,t,e.isArea,e.swapXY);if(d+=g.pointsArray.length,""!=u){var c=u.split(" "),x=(c.length,u);x=""!=x?this._buildLineCmd(u,e.isRange,g.left,g.right,g.pyStart,g.pyEnd,g.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0";var m=g.colorSettings;if(g.pathElement?this.renderer.attr(g.pathElement,{d:x}):(g.pathElement=this.renderer.path(x,{"stroke-width":i.stroke,stroke:m.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?m.fillColor:"none"}),this._installHandlers(g.pathElement,"path",r,s,g.lastItemIndex)),g.labelElements){for(y=0;y<g.labelElements.length;y++)this.renderer.removeElement(g.labelElements[y]);g.labelElements=[]}if(g.symbolElements){for(y=0;y<g.symbolElements.length;y++)this.renderer.removeElement(g.symbolElements[y]);g.symbolElements=[]}if(g.pointsArray.length==c.length&&("none"!=o||l))for(var p=n.symbolSize,_=this._plotRect,y=0;y<c.length;y++){var v=c[y].split(",");if(!((v={x:parseFloat(v[0]),y:parseFloat(v[1])}).x<_.x||v.x>_.x+_.width||v.y<_.y||v.y>_.y+_.height)){if("none"!=o){var N=this._getColors(r,s,g.pointsArray[y].index,this._getGroupGradientType(r)),M=this._drawSymbol(o,v.x,v.y,N.fillColorSymbol,i.opacity,N.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,p);g.symbolElements.push(M)}if(l){var b=(y>0?c[y-1]:c[y]).split(",");b={x:parseFloat(b[0]),y:parseFloat(b[1])};var w=(y<c.length-1?c[y+1]:c[y]).split(",");if(w={x:parseFloat(w[0]),y:parseFloat(w[1])},v=this._adjustLineLabelPosition(r,s,g.pointsArray[y].index,v,b,w)){var A=this._showLabel(r,s,g.pointsArray[y].index,{x:v.x,y:v.y,width:0,height:0});g.labelElements.push(A)}}}}if(1==t&&"none"!=o)for(y=0;y<g.symbolElements.length;y++)isNaN(g.pointsArray[y].index)||this._installHandlers(g.symbolElements[y],"symbol",r,s,g.pointsArray[y].index)}}},_adjustLineLabelPosition:function(e,t,i,r,s,a){var n=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(n){var o={x:r.x-n.width/2,y:0};return o.y=r.y-1.5*n.height,o}},_calculateLine:function(t,i,r,s,a,n,o,l,h){var d,f=this.seriesGroups[t];1!=f.polar&&1!=f.spider||(d=this._getPolarAxisCoords(t,this._plotRect));var g="",u=s.length;l||0!=a.length||(u=i*o-r);for(var c=0;c<u+1&&c<s.length;c++){c>0&&(g+=" ");var x=s[c].y,m=s[c].x,p=l?n:x,_=m;if(a&&a.length>c&&(p=a[c].y,_=a[c].x,(isNaN(p)||isNaN(_))&&(p=x,_=m)),_,u<=s.length&&c>0&&c==u&&(_=s[c-1].x,p=s[c-1].y),h?(m=e.jqx._ptrnd((m-p)*(l?o:1)+p),x=e.jqx._ptrnd(x)):(m=e.jqx._ptrnd((m-_)*o+_),x=e.jqx._ptrnd((x-p)*o+p)),d){var y=this._toPolarCoord(d,this._plotRect,m,x);m=y.x,x=y.y}g+=m+","+x}return g},_buildLineCmd:function(e,t,i,r,s,a,n,o,l,h,d,f){var g=e,u=f?n+","+i:i+","+n,c=f?n+","+r:r+","+n;!o||l||t||(g=u+" "+e+" "+c),d&&(g=this._getBezierPoints(g));var x=g.split(" ");if(0==x.length)return"";if(1==x.length){var m=x[0].split(",");return"M "+x[0]+" L"+(parseFloat(m[0])+1)+","+(parseFloat(m[1])+1)}var p=x[0].replace("M","");return o&&!l?g=t?"M "+p+" L "+p+(d?"":" L "+p+" ")+g:"M "+u+" L "+p+" "+g:d||(g="M "+p+" L "+p+" "+g),(l&&h||t)&&(g+=" Z"),g},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("line"),a=i.series[t],n=a.dashStyle||i.dashStyle||"",o=a.opacity||i.opacity;(isNaN(o)||o<0||o>1)&&(o=1);var l=a.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||l<0||l>15)&&(l=r?2:s?3:1);var h=a.lineWidthSymbol;return isNaN(h)&&(h=1),{stroke:l,strokeSymbol:h,opacity:o,dashStyle:n}},_getColors:function(t,i,r,s,a){var n=this.seriesGroups[t],o=n.series[i],l=this._get([o.useGradientColors,n.useGradientColors,n.useGradient,!0]),h=this._getSeriesColors(t,i,r);h.fillColor||(h.fillColor=y,h.fillColorSelected=e.jqx.adjustColor(y,1.1),h.fillColorAlt=e.jqx.adjustColor(y,4),h.fillColorAltSelected=e.jqx.adjustColor(y,3),h.lineColor=h.symbolColor=e.jqx.adjustColor(y,.9),h.lineColorSelected=h.symbolColorSelected=e.jqx.adjustColor(y,.9));var d=[[0,1.4],[100,1]],f=[[0,1],[25,1.1],[50,1.4],[100,1]],g=[[0,1.3],[90,1.2],[100,1]],u=NaN;if(isNaN(a)||(u=2==a?d:f),l){var c={};for(var x in h)c[x]=h[x];if(h=c,"verticalLinearGradient"==s||"horizontalLinearGradient"==s){var m="verticalLinearGradient"==s?u||d:u||f,p=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var _ in p){var y=h[p[_]];y&&(h[p[_]]=this.renderer._toLinearGradient(y,"verticalLinearGradient"==s,m))}}else if("radialGradient"==s){var v,u=d;("pie"==n.type||"donut"==n.type||n.polar)&&void 0!=r&&this._renderData[t]&&this._renderData[t].offsets[i]&&(v=this._renderData[t].offsets[i][r],u=g),h.fillColor=this.renderer._toRadialGradient(h.fillColor,u,v),h.fillColorSelected=this.renderer._toRadialGradient(h.fillColorSelected,u,v)}}return h},_installHandlers:function(e,t,i,r,s){if(!this.enableEvents)return!1;var a=this,n=this.seriesGroups[i],o=this.seriesGroups[i].series[r],l=-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area");l||0==n.enableSelection||0==o.enableSelection||this.renderer.addHandler(e,"mousemove",function(e){var t=a._selected;if(!t||!t.isLineType||"click"!=t.linesUnselectMode||t.group==i&&t.series==r){var n=e.pageX||e.clientX||e.screenX,o=e.pageY||e.clientY||e.screenY,l=a.host.offset();n-=l.left,o-=l.top,a._mouseX==n&&a._mouseY==o||a._ttEl&&a._ttEl.gidx==i&&a._ttEl.sidx==r&&a._ttEl.iidx==s||a._startTooltipTimer(i,r,s)}}),0!=n.enableSelection&&0!=o.enableSelection&&this.renderer.addHandler(e,"mouseover",function(n){var o=a._selected;o&&o.isLineType&&"click"==o.linesUnselectMode&&(o.group!=i||o.series!=r)||a._select(e,t,i,r,s,s)}),this.renderer.addHandler(e,"click",function(e){clearTimeout(a._hostClickTimer),a._lastClickTs=(new Date).valueOf(),l&&"symbol"!=t&&"pointMarker"!=t||(a._isColumnType(n.type)&&a._unselect(),isNaN(s)||(e.stopImmediatePropagation(),a._raiseItemEvent("click",n,o,s)))})},_getHorizontalOffset:function(t,i,r,s){var a=this._plotRect;if(0==this._getDataLen(t))return{index:void 0,value:r};var n=this._calcGroupOffsets(t,this._plotRect);if(0==n.xoffsets.length)return{index:void 0,value:void 0};var o,l=r,h=s,d=this.seriesGroups[t];(d.polar||d.spider)&&(o=this._getPolarAxisCoords(t,a));this._getXAxis(t).flip;for(var f,g,u,c,x=n.xoffsets.first;x<=n.xoffsets.last;x++){var m=n.xoffsets.data[x],p=n.offsets[i][x].to,_=0;if(o){var y=this._toPolarCoord(o,a,m+a.x,p);m=y.x,p=y.y,_=e.jqx._ptdist(l,h,m,p)}else if("horizontal"==d.orientation){var v=p;p=m+=a.y,m=v,_=e.jqx._ptdist(l,h,m,p)}else m+=a.x,_=Math.abs(l-m);(isNaN(f)||f>_)&&(f=_,g=x,u=m,c=p)}return{index:g,value:n.xoffsets.data[g],polarAxisCoords:o,x:u,y:c}},onmousemove:function(t,i){if((this._mouseX!=t||this._mouseY!=i)&&(this._mouseX=t,this._mouseY=i,this._selected)){var r=this._selected.group,s=this._selected.series,a=this.seriesGroups[r],n=a.series[s],o=this._plotRect;if(this.renderer&&((o=this.renderer.getRect()).x+=5,o.y+=5,o.width-=10,o.height-=10),t<o.x||t>o.x+o.width||i<o.y||i>o.y+o.height)return this._hideToolTip(),void this._unselect();var l="horizontal"==a.orientation,o=this._plotRect;if(-1!=a.type.indexOf("line")||-1!=a.type.indexOf("area")){var h=this._getHorizontalOffset(r,this._selected.series,t,i),d=h.index;if(void 0==d)return;if(this._selected.item!=d){for(var f=this._linesRenderInfo[r][s].segments,g=0;d>f[g].lastItemIndex;)if(++g>=f.length)return;var u=f[g].pathElement,c=f[g].lastItemIndex;this._unselect(!1),this._select(u,"path",r,s,d,c)}var x=this._getSymbol(this._selected.group,this._selected.series);"none"==x&&(x="circle");var m=this._calcGroupOffsets(r,o),p=m.offsets[this._selected.series][d].to,_=p;-1!=a.type.indexOf("range")&&(_=m.offsets[this._selected.series][d].from);var y=l?t:i;if(i=!isNaN(_)&&Math.abs(y-_)<Math.abs(y-p)?_:p,isNaN(i))return;if(t=h.value,l){var v=t;t=i,i=v+o.y}else t+=o.x;if(h.polarAxisCoords&&(t=h.x,i=h.y),i=e.jqx._ptrnd(i),t=e.jqx._ptrnd(t),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(t)||isNaN(i))return;var N=this._getSeriesColors(r,s,d),M=this._getSerieSettings(r,s),b=n.symbolSizeSelected;isNaN(b)&&(b=n.symbolSize),(isNaN(b)||b>50||b<0)&&(b=a.symbolSize),(isNaN(b)||b>50||b<0)&&(b=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:x,x:t,y:i,gidx:r,sidx:s,iidx:d},this._pointMarker.element=this._drawSymbol(x,t,i,N.fillColorSymbolSelected,M.opacity,N.lineColorSymbolSelected,M.opacity,M.strokeSymbol,M.dashStyle,b),this._installHandlers(this._pointMarker.element,"pointMarker",r,s,d)),this._startTooltipTimer(r,this._selected.series,d)}}},_drawSymbol:function(e,t,i,r,s,a,n,o,l,h){var d,f=h||6,g=f/2;switch(e){case"none":return;case"circle":d=this.renderer.circle(t,i,f/2);break;case"square":g=(f-=1)/2,d=this.renderer.rect(t-g,i-g,f,f);break;case"diamond":u="M "+(t-g)+","+i+" L"+t+","+(i-g)+" L"+(t+g)+","+i+" L"+t+","+(i+g)+" Z";d=this.renderer.path(u);break;case"triangle_up":case"triangle":u="M "+(t-g)+","+(i+g)+" L "+(t+g)+","+(i+g)+" L "+t+","+(i-g)+" Z";d=this.renderer.path(u);break;case"triangle_down":u="M "+(t-g)+","+(i-g)+" L "+t+","+(i+g)+" L "+(t+g)+","+(i-g)+" Z";d=this.renderer.path(u);break;case"triangle_left":u="M "+(t-g)+","+i+" L "+(t+g)+","+(i+g)+" L "+(t+g)+","+(i-g)+" Z";d=this.renderer.path(u);break;case"triangle_right":var u="M "+(t-g)+","+(i-g)+" L "+(t-g)+","+(i+g)+" L "+(t+g)+","+i+" Z";d=this.renderer.path(u);break;default:d=this.renderer.circle(t,i,f)}return this.renderer.attr(d,{fill:r,"fill-opacity":s,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(d,{r:f/2}),"square"!=e&&this.renderer.attr(d,{x:t,y:i})),d},_getSymbol:function(e,t){var i,r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],s=this.seriesGroups[e],a=s.series[t];return void 0!=a.symbolType&&(i=a.symbolType),void 0==i&&(i=s.symbolType),"default"==i?r[t%r.length]:void 0!=i?i:"none"},_startTooltipTimer:function(e,t,i,r,s,a,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[e],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||l>1e4||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(a)||(l=a),clearTimeout(this._tttimerHide),isNaN(r)&&(r=o._mouseX),isNaN(s)&&(s=o._mouseY-3),0==l&&o._showToolTip(r,s,e,t,i),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(r,s,e,t,i);var a=o.toolTipHideDelay;isNaN(n)||(a=n),isNaN(a)&&(a=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},a)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,r,s,a){if(this._selected){if(this._selected.item==s&&this._selected.series==r&&this._selected.group==i)return;this._unselect()}var n=this.seriesGroups[i],o=n.series[r];if(0!=n.enableSelection&&0!=o.enableSelection){var l=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area");this._selected={element:e,type:t,group:i,series:r,item:s,iidxBase:a,isLineType:l,linesUnselectMode:o.linesUnselectMode||n.linesUnselectMode};var h=this._getColors(i,r,a||s,this._getGroupGradientType(i)),d=h.fillColorSelected;l&&(d="none");var f=this._getSerieSettings(i,r),g="symbol"==t?h.lineColorSymbolSelected:h.lineColorSelected;d="symbol"==t?h.fillColorSymbolSelected:d;var u="symbol"==t?1:f.stroke;this.renderer.getAttr(e,"fill")==h.fillColorAlt&&(d=h.fillColorAltSelected),this.renderer.attr(e,{stroke:g,fill:d,"stroke-width":u}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",n,o,s)}},_applyPieSelect:function(){var e=this;e._createAnimationGroup("animPieSlice");var t=this._selected;if(t){var i=this.getItemCoord(t.group,t.series,t.item);if(i){var r={element:this._getRenderInfo(t.group,t.series,t.item),coord:i};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(i,r,s){var a=r.coord,n=a.selectedRadiusChange*s,o=e.renderer.pieSlicePath(a.center.x,a.center.y,0==a.innerRadius?0:a.innerRadius+n,a.outerRadius+n,a.fromAngle,a.toAngle,a.centerOffset);e.renderer.attr(r.element.element,{d:o}),e._showPieLabel(t.group,t.series,t.item,void 0,n)},r),e._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var e=this._selected;if(e){var t=this.getItemCoord(e.group,e.series,e.item);if(t&&t.center){var i=this.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius,t.outerRadius,t.fromAngle,t.toAngle,t.centerOffset);this.renderer.attr(e.element,{d:i}),this._showPieLabel(e.group,e.series,e.item,void 0,0)}}},_unselect:function(){var e=this;if(e._selected){var t=e._selected.group,i=e._selected.series,r=e._selected.item,s=e._selected.iidxBase,a=e._selected.type,n=e.seriesGroups[t],o=n.series[i],l=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area"),h=e._getColors(t,i,s||r,e._getGroupGradientType(t)),d=h.fillColor;l&&(d="none");var f=e._getSerieSettings(t,i),g="symbol"==a?h.lineColorSymbol:h.lineColor;d="symbol"==a?h.fillColorSymbol:d,this.renderer.getAttr(e._selected.element,"fill")==h.fillColorAltSelected&&(d=h.fillColorAlt);var u="symbol"==a?1:f.stroke;e.renderer.attr(e._selected.element,{stroke:g,fill:d,"stroke-width":u}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieUnselect(),e._selected=void 0,isNaN(r)||e._raiseItemEvent("mouseout",n,o,r)}e._pointMarker&&(e._pointMarker.element&&(e.renderer.removeElement(e._pointMarker.element),e._pointMarker.element=void 0),e._pointMarker=void 0,e._hideCrosshairs())},_raiseItemEvent:function(t,i,r,s){for(var a=r[t]||i[t],n=0;n<this.seriesGroups.length&&this.seriesGroups[n]!=i;n++);if(n!=this.seriesGroups.length){var o={event:t,seriesGroup:i,serie:r,elementIndex:s,elementValue:this._getDataValue(s,r.dataField,n)};a&&e.isFunction(a)&&a(o),this._raiseEvent(t,o)}},_raiseEvent:function(t,i){var r=new e.Event(t);return r.owner=this,i.event=t,r.args=i,this.host.trigger(r)},_calcInterval:function(e,t,i){var r=Math.abs(t-e)/i,s=[.5,.25,.125,.1],a=.1,n=[1,2,3,4,5,10,15,20,25,50,100];r<1&&(n=s,a=10);var o=0;do{o=0,r>=1?a*=10:a/=10;for(var l=1;l<n.length&&Math.abs(n[o]*a-r)>Math.abs(n[l]*a-r);l++)o=l}while(o==n.length-1);return n[o]*a},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],r=this._renderData[t];if(r.offsets){if(r.valueAxis){i.valueAxis={itemOffsets:{}};for(var s in r.valueAxis.itemOffsets)i.valueAxis.itemOffsets[s]=r.valueAxis.itemOffsets[s]}if(r.xAxis){i.xAxis={itemOffsets:{}};for(var s in r.xAxis.itemOffsets)i.xAxis.itemOffsets[s]=r.xAxis.itemOffsets[s]}i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<r.offsets.length;o++){a.push({});for(var l=0;l<r.offsets[o].length;l++)if(n){var h=r.offsets[o][l];a[o][h.displayValue]={value:h.value,x:h.x,y:h.y,fromAngle:h.fromAngle,toAngle:h.toAngle}}else a[o][r.xoffsets.xvalues[l]]={value:r.offsets[o][l].value,valueRadius:r.offsets[o][l].valueRadius,xoffset:r.xoffsets.data[l],from:r.offsets[o][l].from,to:r.offsets[o][l].to}}}}}},getPolarDataPointOffset:function(e,t,i){var r=this._renderData[i];if(!r)return{x:NaN,y:NaN};var s=this.getValueAxisDataPointOffset(t,i),a=this.getXAxisDataPointOffset(e,i),n=this._toPolarCoord(r.polarCoords,r.xAxis.rect,a,s);return{x:n.x,y:n.y}},_getDataPointOffsetDiff:function(e,t,i,r,s,a,n){var o=this._getDataPointOffset(e,i,r,s,a,n),l=this._getDataPointOffset(t,i,r,s,a,n);return Math.abs(o-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(void 0==t.xAxis){for(var r=0;r<=e&&void 0!=this.seriesGroups[r].xAxis;r++);i=this._renderData[r].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;if(renderData=this._getXAxisRenderData(t),!renderData)return NaN;var r=renderData.data.axisStats,s=r.min.valueOf(),a=r.max.valueOf(),n=a-s;if(0==n&&(n=1),e.valueOf()>a||e.valueOf()<s)return NaN;var o=this._getXAxis(t),l="horizontal"==i.orientation?"height":"width",h="horizontal"==i.orientation?"y":"x",d=(e.valueOf()-s)/n,f=renderData.rect[l]-renderData.data.padding.left-renderData.data.padding.right;return(i.polar||i.spider)&&this._renderData[t].polarCoords.isClosedCircle&&(f=renderData.data.axisSize),this._plotRect[h]+renderData.data.padding.left+f*(o.flip?1-d:d)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var r=this._renderData[t];if(!r)return NaN;var s=1==i.flip,a=r.logBase,n=r.scale,o=r.gbase,l=r.baseOffset;return this._getDataPointOffset(e,o,a,n,l,s)},_getDataPointOffset:function(t,i,r,s,a,n){var o;return isNaN(t)&&(t=i),o=isNaN(r)?(t-i)*s:(e.jqx.log(t,r)-e.jqx.log(i,r))*s,this._isVML&&(o=Math.round(o)),o=n?a+o:a-o},_calcGroupOffsets:function(t,i){for(var r=this.seriesGroups[t];this._renderData.length<t+1;)this._renderData.push({});if(null!=this._renderData[t]&&void 0!=this._renderData[t].offsets)return this._renderData[t];if(this._isPieGroup(t))return this._calcPieSeriesGroupOffsets(t,i);var s=this._getValueAxis(t);if(!s||!r.series||0==r.series.length)return this._renderData[t];var a=1==s.flip,n=1==s.logarithmicScale,o=s.logarithmicScaleBase||10,l=[],h=-1!=r.type.indexOf("stacked"),d=h&&-1!=r.type.indexOf("100"),f=-1!=r.type.indexOf("range"),g=this._isColumnType(r.type),u=-1!=r.type.indexOf("waterfall"),c=this._getDataLen(t),x=r.baselineValue||s.baselineValue||0;d&&(x=0);var m=this._stats.seriesGroups[t];if(m&&m.isValid){var p=m.hasStackValueReversal;if(p&&(x=0),u&&h){if(p)return;x=m.base}x>m.max&&(x=m.max),x<m.min&&(x=m.min);var _=d||n?m.maxRange:m.max-m.min,y=m.min,v=m.max,N=i.height/(n?m.intervals:_),M=0;M=d?y*v<0?-((_/=2)+x)*N:-x*N:-(x-y)*N,a?M=i.y-M:M+=i.y+i.height;var b,w=[],A=[],S=[];n&&(b=e.jqx.log(v,o)-e.jqx.log(x,o),h&&(b=m.intervals,x=d?0:y),m.intervals-b,a||(M=i.y+b/m.intervals*i.height)),M=e.jqx._ptrnd(M);var C=y*v<0?i.height/2:i.height,k=[],D=[],O=h&&(g||n),F=[];l=new Array(r.series.length);for(T=0;T<r.series.length;T++)l[T]=new Array(c);for(var j=0;j<c;j++){!u&&h&&(D=[]);for(var T=0;T<r.series.length;T++){!h&&n&&(k=[]);var I=r.series[T],P=I.dataField,q=I.dataFieldFrom,L=I.dataFieldTo,R=I.radiusDataField||I.sizeDataField;l[T][j]={};var G=this._isSerieVisible(t,T);if(-1==r.type.indexOf("candle")&&-1==r.type.indexOf("ohlc")){if(h)for(;D.length<=j;)D.push(0);var V=NaN;f&&(V=this._getDataValueAsNumber(j,q,t),isNaN(V)&&(V=x));var E=NaN;E=f?this._getDataValueAsNumber(j,L,t):this._getDataValueAsNumber(j,P,t);var H=this._getDataValueAsNumber(j,R,t);if(h&&(D[j]+=G?E:0),G||(E=NaN),isNaN(E)||n&&E<=0)l[T][j]={from:void 0,to:void 0};else{var B;h&&(O?B=E>=x?w:A:E=D[j]);var z=N*(E-x);if(f&&(z=N*(E-V)),h&&O&&(F[j]?z=N*E:(F[j]=!0,z=N*(E-x))),n){for(;k.length<=j;)k.push({p:{value:0,height:0},n:{value:0,height:0}});var W=f||f?V:x,X=E>W?k[j].p:k[j].n;X.value+=E,d?(E=X.value/(m.psums[j]+m.nsums[j])*100,z=(e.jqx.log(E,o)-m.minPow)*N):(z=e.jqx.log(X.value,o)-e.jqx.log(W,o),z*=N),z-=X.height,X.height+=z}var U=M;if(f){var Y=0;Y=n?(e.jqx.log(V,o)-e.jqx.log(x,o))*N:(V-x)*N,U+=a?Y:-Y}if(h){if(d&&!n){var Z=m.psums[j]-m.nsums[j];E>x?(z=m.psums[j]/Z*C,0!=m.psums[j]&&(z*=E/m.psums[j])):(z=m.nsums[j]/Z*C,0!=m.nsums[j]&&(z*=E/m.nsums[j]))}O&&(isNaN(B[j])&&(B[j]=U),U=B[j])}isNaN(S[j])&&(S[j]=0);var J=S[j],Q=z=Math.abs(z);if(z>=1&&(h_new=this._isVML?Math.round(z):e.jqx._ptrnd(z)-1,z=Math.abs(z-h_new)>.5?Math.round(z):h_new),J+=z-Q,h||(J=0),Math.abs(J)>.5&&(J>0?(z-=1,J-=1):(z+=1,J+=1)),S[j]=J,T==r.series.length-1&&d){for(var K=0,$=0;$<T;$++)K+=Math.abs(l[$][j].to-l[$][j].from);if((K+=z)<C)if(z>.5)z=e.jqx._ptrnd(z+C-K);else for($=T-1;$>=0;){if(Math.abs(l[$][j].to-l[$][j].from)>1){l[$][j].from>l[$][j].to&&(l[$][j].from+=C-K);break}$--}}a&&(z*=-1);var ee=E<x;f&&(ee=V>E);var te=isNaN(V)?E:{from:V,to:E};ee?(O&&(B[j]+=z),l[T][j]={from:U,to:U+z,value:te,valueRadius:H}):(O&&(B[j]-=z),l[T][j]={from:U,to:U-z,value:te,valueRadius:H})}}else{var ie=["Open","Close","High","Low"];for(var re in ie){var se="dataField"+ie[re];I[se]&&(l[T][j][ie[re]]=this._getDataPointOffset(this._getDataValueAsNumber(j,I[se],t),x,n?o:NaN,N,M,a))}}}}var ae=this._renderData[t];return ae.baseOffset=M,ae.gbase=x,ae.logBase=n?o:NaN,ae.scale=N,ae.offsets=u?this._applyWaterfall(l,c,t,M,x,n?o:NaN,N,a,h):l,ae.xoffsets=this._calculateXOffsets(t,i.width),this._renderData[t]}},_isPercent:function(e){return"string"==typeof e&&e.length>0&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(t,i){for(var r=this,s=this._getDataLen(t),a=this.seriesGroups[t],n=this._renderData[t]={},o=n.offsets=[],l=0;l<a.series.length;l++){var h=a.series[l],d=this._get([h.minAngle,h.startAngle]);(isNaN(d)||d<0||d>360)&&(d=0);var f=this._get([h.maxAngle,h.endAngle]);(isNaN(f)||f<0||f>360)&&(f=360);var g=f-d,u=h.initialAngle||0;u<d&&(u=d),u>f&&(u=f);var c=h.centerOffset||0,x=e.jqx.getNum([h.offsetX,a.offsetX,i.width/2]),m=e.jqx.getNum([h.offsetY,a.offsetY,i.height/2]),p=Math.min(i.width,i.height)/2,_=u,y=h.radius;r._isPercent(y)&&(y=parseFloat(y)/100*p),isNaN(y)&&(y=.4*p);var v=h.innerRadius;r._isPercent(v)&&(v=parseFloat(v)/100*p),(isNaN(v)||v>=y)&&(v=0);var N=h.selectedRadiusChange;r._isPercent(N)&&(N=parseFloat(N)/100*(y-v)),isNaN(N)&&(N=.1*(y-v)),o.push([]);for(var M=0,b=0,w=0;w<s;w++){S=this._getDataValueAsNumber(w,h.dataField,t);isNaN(S)||(this._isSerieVisible(t,l,w)||1==h.hiddenPointsDisplay)&&(S>0?M+=S:b+=S)}var A=M-b;0==A&&(A=1);for(w=0;w<s;w++){var S=this._getDataValueAsNumber(w,h.dataField,t);if(isNaN(S))o[l].push({});else{var C=h.displayText||h.displayField,k=this._getDataValue(w,C,t);void 0==k&&(k=w);var D=0,O=this._isSerieVisible(t,l,w);(O||1==h.hiddenPointsDisplay)&&(D=Math.abs(S)/A*g);var F=i.x+x,j=i.y+m,T=c;e.isFunction(c)&&(T=c({seriesIndex:l,seriesGroupIndex:t,itemIndex:w})),isNaN(T)&&(T=0);var I={key:t+"_"+l+"_"+w,value:S,displayValue:k,x:F,y:j,fromAngle:_,toAngle:_+D,centerOffset:T,innerRadius:v,outerRadius:y,selectedRadiusChange:N,visible:O};o[l].push(I),_+=D}}}return n},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var r in e)if(-1!=i.type.indexOf(e[r]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],r=this._getXAxis(e),s=void 0==r.valuesOnTicks?t:0!=r.valuesOnTicks;return r.logarithmicScale&&(s=!0),void 0==e?s:void 0==i.valuesOnTicks?s:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(t,i,r,s){var a=0;switch("year"!=r&&"month"!=r&&(a=i.valueOf()-t.valueOf()),r){case"year":a=this._getYearsDiff(t,i);break;case"month":a=this._getMonthsDiff(t,i);break;case"day":a/=864e5;break;case"hour":a/=36e5;break;case"minute":a/=6e4;break;case"second":a/=1e3}return"year"!=r&&"month"!=r&&0!=s&&(a=e.jqx._rnd(a,1,!0)),a},_getBestDTUnit:function(e,t,i,r,s){var a="day",n=t.valueOf()-e.valueOf();a=n<1e3?"second":n<36e5?"minute":n<864e5?"hour":n<2592e6?"day":n<31104e6?"month":"year";for(var o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,f=-1;l<o.length&&!(o[l].cnt/100>r);l++){var g=this._estAxisInterval(e,t,i,r,o[l].key,s),u=this._getDTIntCnt(e,t,g,o[l].key);(-1==d||d<u)&&(d=u,f=l)}return a=o[f].key},_getXAxisStats:function(t,i,r){var s=this._getDataLen(t),a="date"==i.type||"time"==i.type;if(a&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var n=this._testXAxisDateFormat();n&&this._autoDateFormats.push(n)}var o=a?this._castAsDate(i.minValue,i.dateFormat):this._castAsNumber(i.minValue),l=a?this._castAsDate(i.maxValue,i.dateFormat):this._castAsNumber(i.maxValue);if(this._selectorRange&&this._selectorRange[t]){var h=this._selectorRange[t].min;isNaN(h)||(o=a?this._castAsDate(h,i.dateFormat):this._castAsNumber(h));var d=this._selectorRange[t].max;isNaN(d)||(l=a?this._castAsDate(d,i.dateFormat):this._castAsNumber(d))}for(var f,g,u=o,c=l,x=void 0==i.type||"auto"==i.type,m=x||"basic"==i.type,p=0,_=0,y=0;y<s&&i.dataField;y++){var v=this._getDataValue(y,i.dataField,t);v=a?this._castAsDate(v,i.dateFormat):this._castAsNumber(v),isNaN(v)||(a?p++:_++,(isNaN(f)||v<f)&&(f=v),(isNaN(g)||v>=g)&&(g=v))}x&&(!a&&_==s||a&&p==s)&&(m=!1),m&&(f=0,g=Math.max(0,s-1)),isNaN(u)&&(u=f),isNaN(c)&&(c=g),a?(this._isDate(u)||(u=this._isDate(c)?c:new Date),this._isDate(c)||(c=this._isDate(u)?u:new Date)):(isNaN(u)&&(u=0),isNaN(c)&&(c=m?Math.max(0,s-1):u)),void 0==f&&(f=u),void 0==g&&(g=c);var N=i.rangeSelector;if(N){var M=N.minValue||u;M&&a&&(M=this._castAsDate(M,N.dateFormat||i.dateFormat));var b=N.maxValue||c;b&&a&&(b=this._castAsDate(b,N.dateFormat||i.rangeSelector)),u<M&&(u=M),c<M&&(c=b),u>b&&(u=M),c>b&&(c=b)}var w,A,S=i.unitInterval;a&&((w=i.baseUnit)||(w=this._getBestDTUnit(u,c,t,r)),A="hour"==w||"minute"==w||"second"==w||"millisecond"==w);var C=1==i.logarithmicScale,k=i.logarithmicScaleBase;(isNaN(k)||k<=1)&&(k=10);S=i.unitInterval;C?S=1:(isNaN(S)||S<=0)&&(S=this._estAxisInterval(u,c,t,r,w));var D={min:u,max:c},O=this.seriesGroups[t];if(C){u||(u=1,c&&u>c&&(u=c)),c||(c=u),D={min:u,max:c};var F=e.jqx._rnd(e.jqx.log(u,k),1,!1),j=e.jqx._rnd(e.jqx.log(c,k),1,!0);c=Math.pow(k,j),u=Math.pow(k,F)}else a||!O.polar&&!O.spider||(u=e.jqx._rnd(u,S,!1),c=e.jqx._rnd(c,S,!0));return{min:u,max:c,logAxis:{enabled:C,base:k,minPow:F,maxPow:j},dsRange:{min:f,max:g},filterRange:D,useIndeces:m,isDateTime:a,isTimeUnit:A,dateTimeUnit:w,interval:S}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return"year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},_getDTIntCnt:function(e,t,i,r){var s=0,a=new Date(e),n=new Date(t);if(n=n.valueOf(),i<=0)return 1;for(;a.valueOf()<n;)"millisecond"==r?a=new Date(a.valueOf()+i):"second"==r?a=new Date(a.valueOf()+1e3*i):"minute"==r?a=new Date(a.valueOf()+6e4*i):"hour"==r?a=new Date(a.valueOf()+6e4*i*24):"day"==r?a.setDate(a.getDate()+i):"month"==r?a.setMonth(a.getMonth()+i):"year"==r&&a.setFullYear(a.getFullYear()+i),s++;return s},_estAxisInterval:function(e,t,i,r,s,a){if(isNaN(e)||isNaN(t))return NaN;var n=[1,2,5,10,15,20,50,100,200,500],o=0,l=r/(!isNaN(a)&&a>0?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)){var h=Math.max(1,this._renderData[i].xAxis.avgWidth);0!=h&&isNaN(a)&&(l=.9*r/h)}if(l<=1)return Math.abs(t-e);for(;;){var d=o>=n.length?Math.pow(10,3+o-n.length):n[o];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,s):(t-e)/d)<=l)break;o++}var f=this.seriesGroups[i];return(f.spider||f.polar)&&2*d>t-e&&(d=t-e),d},_getPaddingSize:function(e,t,i,r,s,a,n){var o=e.min,l=e.max;e.logAxis.enabled&&(o=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,d=e.dateTimeUnit;if(s){var f=r/Math.max(1,l-o+h)*h;return a?{left:0,right:f}:i?{left:0,right:0}:{left:f/2,right:f/2}}if(i&&!n)return{left:0,right:0};if(this._isDate(o)&&this._isDate(l)){var g=this._getDTIntCnt(o,l,Math.min(h,l-o),d);return{left:(u=r/Math.max(2,g))/2,right:u/2}}if(1==(g=Math.max(1,l-o)))return sz=r/4,{left:sz,right:sz};var u=r/(g+1);return{left:u/2,right:u/2}},_calculateXOffsets:function(t,i){var r=this.seriesGroups[t],s=this._getXAxis(t),a=[],n=[],o=this._getDataLen(t),l=this._getXAxisStats(t,s,i),h=l.min,d=l.max,f=l.isDateTime,g=l.isTimeUnit,u=this._hasColumnSeries(),c=r.polar||r.spider,x=this._get([r.startAngle,r.minAngle,0]),m=this._get([r.endAngle,r.maxAngle,360]),p=c&&!(Math.abs(Math.abs(m-x)-360)>1e-4),_=this._alignValuesWithTicks(t),y=this._getPaddingSize(l,s,_,i,c,p,u),v=d-h,N=l.filterRange;0==v&&(v=1);var M=i-y.left-y.right;c&&_&&!p&&(y.left=y.right=0);for(var b=-1,w=-1,A=0;A<o;A++){var S=void 0===s.dataField?A:this._getDataValue(A,s.dataField,t);if(l.useIndeces){if(A<N.min||A>N.max){a.push(NaN),n.push(void 0);continue}if(C=y.left+(A-h)/v*M,1==l.logAxis.enabled){k=l.logAxis.base;C=this._jqxPlot.scale(S,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:k},{min:0,max:M,flip:!1})}a.push(e.jqx._ptrnd(C)),n.push(S),-1==b&&(b=A),(-1==w||w<A)&&(w=A)}else if(S=f?this._castAsDate(S,s.dateFormat):this._castAsNumber(S),isNaN(S)||S<N.min||S>N.max)a.push(NaN),n.push(void 0);else{var C=0;if(1==l.logAxis.enabled){var k=l.logAxis.base;C=this._jqxPlot.scale(S,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:k},{min:0,max:M,flip:!1})}else!f||f&&g?(diffFromMin=S-h,C=(S-h)*M/v):C=(S.valueOf()-h.valueOf())/(d.valueOf()-h.valueOf())*M;C=e.jqx._ptrnd(y.left+C),a.push(C),n.push(S),-1==b&&(b=A),(-1==w||w<A)&&(w=A)}}if(1==s.flip)for(A=0;A<a.length;A++)isNaN(a[A])||(a[A]=i-a[A]);(g||f)&&(v=this._getDateDiff(h,d,s.baseUnit),v=e.jqx._rnd(v,1,!1));var D=Math.max(1,v),O=M/D;return b==w&&1==D&&(a[b]=y.left+M/2),{axisStats:l,data:a,xvalues:n,first:b,last:w,length:-1==w?0:w-b+1,itemWidth:O,intervalWidth:O*l.interval,rangeLength:v,useIndeces:l.useIndeces,padding:y,axisSize:M}},_getXAxis:function(e){return void 0==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],r=i.series[t];return 1==r.greyScale||0!=r.greyScale&&(1==i.greyScale||0!=i.greyScale&&1==this.greyScale)},_getSeriesColors:function(t,i,r){var s=this._getSeriesColorsInternal(t,i,r);if(this._isGreyScale(t,i))for(var a in s)s[a]=e.jqx.toGreyScale(s[a]);return s},_getColorFromScheme:function(e,t,i){var r="#000000",s=this.seriesGroups[e],a=s.series[t];if(this._isPieGroup(e)){var n=this._getDataLen(e);r=this._getItemColorFromScheme(a.colorScheme||s.colorScheme||this.colorScheme,t*n+i,e,t)}else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(s.colorScheme&&(d=s.colorScheme,sidex=seriesIndex),void 0!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return r;for(l=0;l<this.colorSchemes.length;l++){var f=this.colorSchemes[l];if(f.name==d){for(;o>f.colors.length;)o-=f.colors.length,++l>=this.colorSchemes.length&&(l=0),f=this.colorSchemes[l];r=f.colors[o%f.colors.length]}}}return r},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(t,i,r){var s=this.seriesGroups[t],a=s.series[i];e.isFunction(a.colorFunction)||"pie"==s.type||"donut"==s.type||(r=NaN);var n=t+"_"+i+"_"+(isNaN(r)?"NaN":r);if(this._colorsCache.get(n))return this._colorsCache.get(n);var o,l={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(e.isFunction(a.colorFunction)){var h=isNaN(r)?NaN:this._getDataValue(r,a.dataField,t);if(-1==s.type.indexOf("range")||isNaN(r)||(h={from:this._getDataValue(r,a.dataFieldFrom,t),to:this._getDataValue(r,a.dataFieldTo,t)}),"object"==typeof(o=a.colorFunction(h,r,a,s)))for(var d in o)l[d]=o[d];else l.fillColor=o}else{for(var d in l)a[d]&&(l[d]=a[d]);a.fillColor||a.color?a.fillColor=a.fillColor||a.color:l.fillColor=this._getColorFromScheme(t,i,r)}var f={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var d in l)"object"==typeof o&&o[d]||a[d]&&(l[d]=a[d]);for(var d in l)"object"==typeof o&&o[d]||a[d]||(l[d]=e.jqx.adjustColor(l[f[d].baseColor],f[d].adjust));return this._colorsCache.set(n,l),l},_getItemColorFromScheme:function(t,i,r,s){void 0!=t&&""!=t||(t=this.colorSchemes[0].name);for(var a=0;a<this.colorSchemes.length&&t!=this.colorSchemes[a].name;a++);for(var n=0;n<=i;){a==this.colorSchemes.length&&(a=0);var o=this.colorSchemes[a].colors.length;if(!(n+o<=i)){var l=this.colorSchemes[a].colors[i-n];return this._isGreyScale(r,s)&&0==l.indexOf("#")&&(l=e.jqx.toGreyScale(l)),l}n+=o,a++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(t,i,r,s,a,n){if(void 0==t)return"";if(this._isObject(t)&&!this._isDate(t)&&!r)return"";if(r){if(!e.isFunction(r))return t.toString();try{return r(t,n,a,s)}catch(e){return e.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_getFormattedValue:function(t,i,r,s,a,n){var o=this.seriesGroups[t],l=o.series[i],h="",d=s,f=a;f||(f=l.formatFunction||o.formatFunction),d||(d=l.formatSettings||o.formatSettings),!l.formatFunction&&l.formatSettings&&(f=void 0);var g={},u=0;for(var c in l)0==c.indexOf("dataField")&&(g[c.substring(9).toLowerCase()]=this._getDataValue(r,l[c],t),u++);if(0==u&&(g=this._getDataValue(r,void 0,t)),-1!=o.type.indexOf("waterfall")&&this._isSummary(t,r)&&(g=this._renderData[t].offsets[i][r].value,u=0),f&&e.isFunction(f))try{return f(1==u?g[""]:g,r,l,o)}catch(e){return e.message}if(1==u&&this._isPieGroup(t))return this._formatValue(g[""],d,f,t,i,r);if(u>0){var x=0;for(var c in g){x>0&&""!=h&&(h+="<br>");var m="dataField"+(c.length>0?c.substring(0,1).toUpperCase()+c.substring(1):""),p=l["displayText"+(c.length>0?c.substring(0,1).toUpperCase()+c.substring(1):"")]||l[m],_=g[c];void 0!=_&&(_=this._formatValue(_,d,f,t,i,r),h+=!0===n?_:p+": "+_,x++)}}else void 0!=g&&(h=this._formatValue(g,d,f,t,i,r));return h||""},_isNumberAsString:function(t){if("string"!=typeof t)return!1;t=e.trim(t);for(var i=0;i<t.length;i++){var r=t.charAt(i);if(!(r>="0"&&r<="9"||","==r||"."==r)&&(("-"!=r||0!=i)&&!("("==r&&0==i||")"==r&&i==t.length-1)))return!1}return!0},_castAsDate:function(t,i){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){var r;if(i&&(r=e.jqx.dataFormat.parsedate(t,i),this._isDate(r)))return r;if(this._autoDateFormats)for(var s=0;s<this._autoDateFormats.length;s++)if(r=e.jqx.dataFormat.parsedate(t,this._autoDateFormats[s]),this._isDate(r))return r;var a=this._detectDateFormat(t);return a&&(r=e.jqx.dataFormat.parsedate(t,a),this._isDate(r))?(this._autoDateFormats.push(a),r):(r=new Date(t),this._isDate(r)&&-1==t.indexOf(":")&&r.setHours(0,0,0,0),r)}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);void 0!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},_formatDate:function(t,i){var r=t.toString();return i&&(i.dateFormat&&(r=e.jqx.dataFormat.formatDate(t,i.dateFormat)),r=(i.prefix||"")+r+(i.sufix||"")),r},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",r="",s=this;s.localization&&(i=s.localization.decimalSeparator||s.localization.decimalseparator||i,r=s.localization.thousandsSeparator||s.localization.thousandsseparator||r),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator);var a=t.prefix||"",n=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,h=e<0;h&&l&&(e*=-1);var d,f=e.toString(),g=Math.pow(10,o);if(f=(Math.round(e*g)/g).toString(),isNaN(f)&&(f=""),d=f.lastIndexOf("."),o>0)for(d<0?d=(f+=i).length-1:"."!==i&&(f=f.replace(".",i));f.length-1-d<o;)f+="0";d=(d=f.lastIndexOf(i))>-1?d:f.length;for(var u=f.substring(d),c=0,x=d;x>0;x--,c++)c%3==0&&x!==d&&(!h||x>1||h&&l)&&(u=r+u),u=f.charAt(x-1)+u;return f=u,h&&l&&(f="("+f+")"),a+f+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],r=e[t+1],s=e[t+2],a=e[t+3],n=e[t+4],o=e[t+5],l=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-r,2)),h=l+Math.sqrt(Math.pow(n-s,2)+Math.pow(o-a,2));0==h&&(h=1);var d=.4*l/h,f=.4-d;return[s+d*(i-n),a+d*(r-o),s-f*(i-n),a-f*(r-o)]},_getBezierPoints:function(t){for(var i="",r=[],s=[],a=t.split(" "),n=0;n<a.length;n++){var o=a[n].split(",");r.push(parseFloat(o[0])),r.push(parseFloat(o[1])),!isNaN(r[r.length-1])&&isNaN(r[r.length-2])}var l=r.length;if(l<=1)return"";if(2==l)return i="M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" L"+e.jqx._ptrnd(r[0]+1)+","+e.jqx._ptrnd(r[1]+1)+" ";for(n=0;n<l-4;n+=2)s=s.concat(this._calculateControlPoints(r,n));for(n=2;n<l-5;n+=2)i+=" C"+e.jqx._ptrnd(s[2*n-2])+","+e.jqx._ptrnd(s[2*n-1])+" "+e.jqx._ptrnd(s[2*n])+","+e.jqx._ptrnd(s[2*n+1])+" "+e.jqx._ptrnd(r[n+2])+","+e.jqx._ptrnd(r[n+3])+" ";return i=l<=4||Math.abs(r[0]-r[2])<3||Math.abs(r[1]-r[3])<3||this._isVML?"M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" L"+e.jqx._ptrnd(r[2])+","+e.jqx._ptrnd(r[3])+" "+i:"M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" Q"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" "+e.jqx._ptrnd(r[2])+","+e.jqx._ptrnd(r[3])+" "+i,l>=4&&(Math.abs(r[l-2]-r[l-4])<3||Math.abs(r[l-1]-r[l-3])<3||this._isVML)?i+=" L"+e.jqx._ptrnd(r[l-2])+","+e.jqx._ptrnd(r[l-1])+" ":l>=5&&(i+=" Q"+e.jqx._ptrnd(s[2*l-10])+","+e.jqx._ptrnd(s[2*l-9])+" "+e.jqx._ptrnd(r[l-2])+","+e.jqx._ptrnd(r[l-1])+" "),i},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,r,s,a,n){r<0&&(r=0),void 0==n&&(n="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:r,fn:s,context:a,easing:n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var e=this;this._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt)}},_runAnimation:function(t){if(this._animGroups){var i=(new Date).getTime(),r={};for(var s in this._animGroups){for(var a=this._animGroups[s].animations,n=this._animGroups[s].startTick,o=0,l=0;l<a.length;l++){var h=a[l],d=i-n;h.duration>o&&(o=h.duration);var f=h.duration>0?d/h.duration:1,g=f;if(h.easing&&0!=h.duration&&(g=e.easing[h.easing](f,d,0,1,h.duration)),f>1&&(f=1,g=1),h.fn)h.fn(h.key,h.context,g);else{for(var u={},s=0;s<h.properties.length;s++){var c=h.properties[s],x=0;x=1==f?c.to:easeParecent*(c.to-c.from)+c.from,u[c.key]=x}this.renderer.attr(h.key,u)}}n+o>i&&(r[s]={startTick:n,animations:a})}this._animGroups=r,this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var s in this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;i=e.x;e.x=e.y,e.y=i+this._plotRect.y-this._plotRect.x;var i=e.width;return e.width=e.height,e.height=i,e},getItemCoord:function(e,t,i){var r=this;if(r._isPieGroup(e)&&(!r._isSerieVisible(e,t,i)||!r._renderData||r._renderData.length<=e))return{x:NaN,y:NaN};if(!r._isSerieVisible(e,t)||!r._renderData||r._renderData.length<=e)return{x:NaN,y:NaN};var s=r.seriesGroups[e],a=s.series[t],n=r._getItemCoord(e,t,i);if(r._isPieGroup(e)){if(isNaN(n.x)||isNaN(n.y)||isNaN(n.fromAngle)||isNaN(n.toAngle))return{x:NaN,y:NaN};var o=this._plotRect,l=n.fromAngle*(Math.PI/180),h=n.toAngle*(Math.PI/180);x1=o.x+n.center.x+Math.cos(l)*n.outerRadius,x2=o.x+n.center.x+Math.cos(h)*n.outerRadius,y1=o.y+n.center.y-Math.sin(l)*n.outerRadius,y2=o.y+n.center.y-Math.sin(h)*n.outerRadius;var d=Math.min(x1,x2),f=Math.abs(x2-x1);return n={x:d,y:u=Math.min(y1,y2),width:f,height:Math.abs(y2-y1),center:n.center,centerOffset:n.centerOffset,innerRadius:n.innerRadius,outerRadius:n.outerRadius,selectedRadiusChange:n.selectedRadiusChange,fromAngle:n.fromAngle,toAngle:n.toAngle}}if(-1!=s.type.indexOf("column")||-1!=s.type.indexOf("waterfall")){g=this._getColumnSerieWidthAndOffset(e,t);n.height=Math.abs(n.y.to-n.y.from),n.y=Math.min(n.y.to,n.y.from),n.x+=g.offset,n.width=g.width}else if(-1!=s.type.indexOf("ohlc")||-1!=s.type.indexOf("candlestick")){var g=this._getColumnSerieWidthAndOffset(e,t),u=n.y,c=Math.min(u.Open,u.Close,u.Low,u.High),x=Math.max(u.Open,u.Close,u.Low,u.High);n.height=Math.abs(x-c),n.y=c,n.x+=g.offset,n.width=g.width}else if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area"))n.width=n.height=0,n.y=n.y.to;else if(-1!=s.type.indexOf("bubble")||-1!=s.type.indexOf("scatter")){n.center={x:n.x,y:n.y.to};var m=n.y.radius;"circle"!=a.symbolType&&void 0!=a.symbolType&&(m/=2),n.y=n.y.to,n.radius=m,n.width=2*m,n.height=2*m}if(n=this._fixCoords(n,e),s.polar||s.spider){var p=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.x,n.y);n.x=p.x,n.y=p.y,n.center&&(n.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.center.x,n.center.y))}return-1==s.type.indexOf("bubble")&&-1==s.type.indexOf("scatter")||(n.x-=m,n.y-=m),n},_getItemCoord:function(e,t,i){var r,s,a=this.seriesGroups[e];if(!a||!this._renderData)return{x:NaN,y:NaN};if(!a.series[t])return{x:NaN,y:NaN};var n=this._plotRect;if(this._isPieGroup(e)){var o=this._renderData[e].offsets[t][i];if(!o)return{x:NaN,y:NaN};var l=(o.fromAngle+o.toAngle)/2*(Math.PI/180);return r=n.x+o.x+Math.cos(l)*o.outerRadius,s=n.y+o.y-Math.sin(l)*o.outerRadius,{x:r,y:s,center:{x:o.x,y:o.y},centerOffset:o.centerOffset,innerRadius:o.innerRadius,outerRadius:o.outerRadius,selectedRadiusChange:o.selectedRadiusChange,fromAngle:o.fromAngle,toAngle:o.toAngle}}if(r=n.x+this._renderData[e].xoffsets.data[i],s=this._renderData[e].offsets[t][i],isNaN(r)||!s)return{x:NaN,y:NaN};var h={};for(var d in s)h[d]=s[d];return{x:r,y:h}},getXAxisValue:function(t,i){var r=this.seriesGroups[i];if(r){var s=this._getXAxis(i),a=this._plotRect,n=0,o=NaN,l=this._renderData[0].xoffsets.axisStats,h=0,d=0;if(r.polar||r.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var f=this._getPolarAxisCoords(i,a);if(e.jqx._ptdist(t.x,t.y,f.x,f.y)>f.r)return NaN;var g=Math.atan2(f.y-t.y,t.x-f.x);(g=Math.PI/2-g)<0&&(g=2*Math.PI+g),o=g*f.r;var u=f.startAngle+Math.PI/2,c=f.endAngle+Math.PI/2;h=u*f.r,d=c*f.r,n=(c-u)*f.r;var x=this._getPaddingSize(l,s,s.valuesOnTicks,n,!0,f.isClosedCircle,this._hasColumnSeries());f.isClosedCircle?(n-=x.left+x.right,d-=x.left+x.right):s.valuesOnTicks||(h+=x.left,d-=x.right)}else{if("horizontal"!=r.orientation){if(t<a.x||t>a.x+a.width)return NaN;o=t-a.x,n=a.width}else{if(t<a.y||t>a.y+a.height)return NaN;o=t-a.y,n=a.height}this._renderData[i]&&this._renderData[i].xoffsets&&(n-=(x=this._renderData[i].xoffsets.padding).left+x.right,o-=x.left),d=n}return this._jqxPlot.scale(o,{min:h,max:d},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logAxis.enabled?"logarithmic":"linear",base:l.logAxis.base,flip:s.flip})}},getValueAxisValue:function(t,i){var r=this.seriesGroups[i];if(r){var s=this._getValueAxis(i),a=this._plotRect,n=0,o=NaN;if(r.polar||r.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var l=this._getPolarAxisCoords(i,a);o=e.jqx._ptdist(t.x,t.y,l.x,l.y),o=(n=l.r)-o}else if("horizontal"==r.orientation){if(t<a.x||t>a.x+a.width)return NaN;o=t-a.x,n=a.width}else{if(t<a.y||t>a.y+a.height)return NaN;o=t-a.y,n=a.height}var h=this._stats.seriesGroups[i];return this._jqxPlot.scale(o,{min:0,max:n},{min:h.min.valueOf(),max:h.max.valueOf(),type:h.logarithmic?"logarithmic":"linear",base:h.logBase,flip:!s.flip})}},_detectDateFormat:function(t,i){var r={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};i&&(r=e.extend({},r,i));var s=[];e.isArray(t)?s=t:s.push(t);for(var a in r)r[a]={format:r[a],count:0};for(var n=0;n<s.length;n++)if(value=s[n],null!=value&&void 0!=value)for(var a in r)null!=e.jqx.dataFormat.parsedate(value,r[a].format)&&r[a].count++;var o={key:void 0,count:0};for(var a in r)r[a].count>o.count&&(o.key=a,o.count=r[a].count);return o.key?r[o.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),r=t._getDataLen(e),s={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)s["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;o<r&&o<10;o++)value=t._getDataValue(o,i.dataField,e),null!=value&&void 0!=value&&n.push(value);return t._detectDateFormat(n,s)}})}(jqxBaseFramework);

!function(t){t.extend(t.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(t,e){var i=this.seriesGroups[t];if(!this._isSerieVisible(t,e))return 0;var r=this._renderData;return!i||!r||r.length<=t?0:i.series[e]?r[t].offsets[e].length:0},getXAxisRect:function(t){var e=this._renderData;if(e&&!(e.length<=t)&&e[t].xAxis)return e[t].xAxis.rect},getXAxisLabels:function(t){var e=[],i=this._renderData;if(!i||i.length<=t)return e;if(!(i=i[t].xAxis))return e;var r=this.seriesGroups[t];if(r.polar||r.spider){for(l=0;l<i.polarLabels.length;l++){var s=i.polarLabels[l];e.push({offset:{x:s.x,y:s.y},value:s.value})}return e}for(var a=this._getXAxis(t),o=this.getXAxisRect(t),n="top"==a.position||"right"==a.position,u="horizontal"==r.orientation,l=0;l<i.data.length;l++)u?e.push({offset:{x:o.x+(n?0:o.width),y:o.y+i.data.data[l]},value:i.data.xvalues[l]}):e.push({offset:{x:o.x+i.data.data[l],y:o.y+(n?o.height:0)},value:i.data.xvalues[l]});return e},getValueAxisRect:function(t){var e=this._renderData;if(e&&!(e.length<=t)&&e[t].valueAxis)return e[t].valueAxis.rect},getValueAxisLabels:function(t){var e=[],i=this._renderData;if(!i||i.length<=t)return e;if(!(i=i[t].valueAxis))return e;var r=this._getValueAxis(t),s="top"==r.position||"right"==r.position,a=this.seriesGroups[t],o="horizontal"==a.orientation;if(a.polar||a.spider){for(u=0;u<i.polarLabels.length;u++){var n=i.polarLabels[u];e.push({offset:{x:n.x,y:n.y},value:n.value})}return e}for(var u=0;u<i.items.length;u++)o?e.push({offset:{x:i.itemOffsets[i.items[u]].x+i.itemWidth/2,y:i.rect.y+(s?i.rect.height:0)},value:i.items[u]}):e.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[u]].y+i.itemWidth/2},value:i.items[u]});return e},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(t,e,i,r,s){var a=this.getItemCoord(t,e,i);isNaN(a.x)||isNaN(a.y)||this._startTooltipTimer(t,e,i,a.x,a.y,r,s)},hideToolTip:function(t){isNaN(t)&&(t=0);var e=this;e._cancelTooltipTimer(),setTimeout(function(){e._hideToolTip(0)},t)}})}(jqxBaseFramework);

!function(t){t.extend(t.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(t,e,i){var a=this.seriesGroups[t],s=this.renderer;if(!isNaN(t)){var o=this._get([this.getXAxisDataPointOffset(e.xValue,t),e.x]),n=this._get([this.getValueAxisDataPointOffset(e.yValue,t),e.y]),r=this._get([this.getXAxisDataPointOffset(e.xValue2,t),e.x2]),f=this._get([this.getValueAxisDataPointOffset(e.yValue2,t),e.y2]);if(a.polar||a.spider){var l=this.getPolarDataPointOffset(e.xValue,e.yValue,t);!l||isNaN(l.x)||isNaN(l.y)?(o=e.x,n=e.y):(o=l.x,n=l.y)}if(isNaN(n)||isNaN(o))return!1;if("horizontal"==a.orientation){var h=o;o=n,n=h,h=r,r=f,f=h}e.offset&&(isNaN(e.offset.x)||(o+=e.offset.x,r+=e.offset.x),isNaN(e.offset.y)||(n+=e.offset.y,f+=e.offset.y));var c,x=this._get([e.width,r-o]),y=this._get([e.height,f-n]);switch(e.type){case"rect":c=s.rect(o,n,x,y);break;case"circle":c=s.rect(o,n,e.radius);break;case"line":c=s.rect(o,n,r,f);break;case"path":c=s.path(e.path)}s.attr(c,{fill:e.fillColor,stroke:e.lineColor,opacity:this._get([e.fillOpacity,e.opacity]),"stroke-opacity":this._get([e.lineOpacity,e.opacity]),"stroke-width":e.lineWidth,"stroke-dasharray":e.dashStyle||"none"});var N;if(e.text){var d=e.text,u=0,g=0;d.offset&&(isNaN(d.offset.x)||(u+=d.offset.x),isNaN(d.offset.y)||(g+=d.offset.y)),N=s.text(d.value,o+u,n+g,NaN,NaN,d.angle,{},!0===d.clip,d.horizontalAlignment||"center",d.verticalAlignment||"center",d.rotationPoint||"centermiddle"),s.attr(N,{fill:d.fillColor,stroke:d.lineColor,class:d.class})}for(var v=["click","mouseenter","mouseleave"],_=this,p=0;p<v.length;p++){var A=this._getEvent(v[p])||v[p];c&&this.renderer.addHandler(c,A,function(){_._raiseAnnotationEvent(e,A)}),N&&this.renderer.addHandler(N,A,function(){_._raiseAnnotationEvent(e,A)})}}},_raiseAnnotationEvent:function(t,e){this._raiseEvent("annotation_"+e,{annotation:t})}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(t,s){var i=this;i._isTouchDevice=e.jqx.mobile.isTouchDevice();var r=i.seriesGroups[t],o=i._getXAxis(t),a=o?o.rangeSelector:void 0;if(i._isSelectorRefresh||(a&&a.renderTo?a.renderTo:i.host).find(".rangeSelector").remove(),!o||0==o.visible||"spider"==r.type)return!1;if(!i._isGroupVisible(t))return!1;if(!a)return!1;var n="horizontal"==r.orientation;a.renderTo&&(n=!1),i.rtl&&(o.flip=!0);var d=n?this.host.height():this.host.width();d-=4;var l=this._getXAxisStats(t,o,d),h=o.position;if(a.renderTo&&a.position&&(h=a.position),!this._isSelectorRefresh){var c=a.renderTo,g=e("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(c||this.renderer.getContainer());if(c)g.css({width:c.width(),height:c.height()}),s.width=c.width(),s.height=c.height();else{var p=this.host.coord();p.top=0,p.left=0,selectorSize=this._selectorGetSize(o),n?(g.css("left",p.left+1+s.x+("right"!=h?-selectorSize:s.width)),g.css("top",p.top),g.css("height",d),g.css("width",selectorSize),s.height=selectorSize):(g.css("left",p.left+1),g.css("top",p.top+s.y+("top"!=h?s.height:-selectorSize)),g.css("height",selectorSize),g.css("width",d))}this._refreshSelector(t,o,l,g,s,n)}return this._isSelectorRefresh=!1,!0},_refreshSelector:function(t,s,i,r,o,a){var n={},d=s.rangeSelector;this.seriesGroups[t];for(var l in d)n[l]=d[l];delete n.padding;var h=n.minValue,c=n.maxValue;void 0==h&&(h=Math.min(i.min.valueOf(),i.dsRange.min.valueOf())),void 0==c&&(c=Math.max(i.max.valueOf(),i.dsRange.max.valueOf())),this._isDate(i.min)&&(h=new Date(h)),this._isDate(i.max)&&(c=new Date(c));var g=s.position;d.renderTo&&d.position&&(g=d.position),n.dataField=s.dataField,delete n.rangeSelector,n.type=s.type,n.baseUnit=d.baseUnit||s.baseUnit,n.minValue=h,n.maxValue=c,n.flip=s.flip,n.position=g;var p=2,u=2,f=2,_=2;d.renderTo||(p=a?0:o.x,u=a?0:this._rect.width-o.x-o.width,f=a?o.y:5,_=a?this._paddedRect.height-this._plotRect.height:5);var v=d.padding;v=void 0!=v||d.renderTo?{left:v&&v.left?v.left:p,top:v&&v.top?v.top:f,right:v&&v.right?v.right:u,bottom:v&&v.bottom?v.bottom:_}:{left:p,top:f,right:u,bottom:_};for(var m=s.rangeSelector.dataField,l=0;void 0==m&&l<this.seriesGroups.length;l++)for(var x=0;void 0==m&&x<this.seriesGroups[l].series.length;x++)m=this.seriesGroups[l].series[x].dataField;var S={padding:v,_isRangeSelectorInstance:!0,title:d.title||"",description:d.description||"",titlePadding:d.titlePadding,colorScheme:d.colorScheme||this.colorScheme,backgroundColor:d.backgroundColor||this.backgroundColor||"transparent",backgroundImage:d.backgroundImage||"",showBorderLine:d.showBorderLine||!!d.renderTo,borderLineWidth:d.borderLineWidth||this.borderLineWidth,borderLineColor:d.borderLineColor||this.borderLineColor,rtl:d.rtl||this.rtl,greyScale:d.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:n,seriesGroups:[{orientation:a?"horizontal":"vertical",valueAxis:{visible:!1},type:s.rangeSelector.serieType||"area",skipOverlappingPoints:e.jqx.getByPriority([s.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:e.jqx.getByPriority([s.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:e.jqx.getByPriority([s.rangeSelector.columnsGapPercent,25]),seriesGapPercent:e.jqx.getByPriority([s.rangeSelector.seriesGapPercent,25]),series:[{dataField:m,opacity:.8,lineWidth:1}]}]};s.rangeSelector.seriesGroups&&(S.seriesGroups=s.rangeSelector.seriesGroups),s.rangeSelector.valueAxis&&(S.valueAxis=s.rangeSelector.valueAxis),S.showBorderLine||(S.borderLineWidth=1,S.borderLineColor=e.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),S.showBorderLine=!0);var w=this;w._supressBindingRefresh=!0,r.empty(),r.jqxChart(S),w._rangeSelectorInstances[t]=r,w._supressBindingRefresh=!1,r.on(w._getEvent("mousemove"),function(){w._unselect(),w._hideToolTip()});var y=r.jqxChart("getInstance");if(y._plotRect){var b=y._paddedRect;if(b.height=y._plotRect.height,a||"top"!=g){if(a){var T=y._renderData[0].xAxis.rect.width;b.width-=T,"right"!=g&&(b.x+=T)}}else b.y+=y._renderData[0].xAxis.rect.height;w._createSliderElements(t,r,b,d),w.removeHandler(e(document),w._getEvent("mousemove")+"."+this.element.id,w._onSliderMouseMove),w.removeHandler(e(document),w._getEvent("mousedown"),w._onSliderMouseDown),w.removeHandler(e(document),w._getEvent("mouseup")+"."+this.element.id,w._onSliderMouseUp),w.addHandler(e(document),w._getEvent("mousemove")+"."+this.element.id,w._onSliderMouseMove,{self:this,groupIndex:t,renderTo:r,swapXY:a}),w.addHandler(e(r),w._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:t,renderTo:r,swapXY:a}),w.addHandler(e(document),w._getEvent("mouseup")+"."+this.element.id,w._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:t,renderTo:r,swapXY:a})}},_createSliderElements:function(t,s,i,r){s.find(".slider").remove();var o=r.selectedRangeColor||"blue",a=e.jqx.getByPriority([r.selectedRangeOpacity,.1]),n=e.jqx.getByPriority([r.unselectedRangeOpacity,.5]),d=r.unselectedRangeColor||"white",l=r.rangeLineColor||"grey",h=e("<div class='slider' style='position: absolute;'></div>");for(h.css({background:o,opacity:a,left:i.x,top:i.y,width:i.width,height:i.height}),h.appendTo(s);this._sliders.length<t+1;)this._sliders.push({});var c="<div class='slider' style='position: absolute;  background: "+d+"; opacity: "+n+";'></div>",g="<div class='slider' style='position: absolute; background:"+l+"; opacity: "+n+";'></div>",p="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+l+";'></div>";this._sliders[t]={element:h,host:s,_sliderInitialAbsoluteRect:{x:h.coord().left,y:h.coord().top,width:i.width,height:i.height},_hostInitialAbsolutePos:{x:s.coord().left,y:s.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:i,left:e(c),right:e(c),leftTop:e(g),rightTop:e(g),leftBorder:e(g),leftBar:e(p),rightBorder:e(g),rightBar:e(p)},this._sliders[t].left.appendTo(s),this._sliders[t].right.appendTo(s),this._sliders[t].leftTop.appendTo(s),this._sliders[t].rightTop.appendTo(s),this._sliders[t].leftBorder.appendTo(s),this._sliders[t].rightBorder.appendTo(s),this._sliders[t].leftBar.appendTo(s),this._sliders[t].rightBar.appendTo(s);var u=this._renderData[t].xAxis.data.axisStats,f=u.min.valueOf(),_=u.max.valueOf(),v=this._valueToOffset(t,f),m=this._valueToOffset(t,_);if(v>m){var x=m;m=v,v=x}"horizontal"!=this.seriesGroups[t].orientation?h.css({left:Math.round(i.x+v),top:i.y,width:Math.round(m-v),height:i.height}):h.css({top:Math.round(i.y+v),left:i.x,height:Math.round(m-v),width:i.width}),this._setSliderPositions(t,v,m)},_setSliderPositions:function(e,t,s){var i=this.seriesGroups[e],r=this._getXAxis(e),o=r.rangeSelector,a="horizontal"==i.orientation;r.rangeSelector.renderTo&&(a=!1);var n=r.position;o.renderTo&&o.position&&(n=o.position);var d=this._sliders[e],l=a?"top":"left",h=a?"left":"top",c=a?"height":"width",g=a?"width":"height",p=a?"y":"x",u=a?"x":"y",f=d.rect;d.startOffset=t,d.endOffset=s,d.left.css(l,f[p]),d.left.css(h,f[u]),d.left.css(c,t),d.left.css(g,f[g]),d.right.css(l,f[p]+s),d.right.css(h,f[u]),d.right.css(c,f[c]-s+1),d.right.css(g,f[g]),d.leftTop.css(l,f[p]),d.leftTop.css(h,f[u]+(a&&"right"==n||!a&&"top"!=n?0:f[g])),d.leftTop.css(c,t),d.leftTop.css(g,1),d.rightTop.css(l,f[p]+s),d.rightTop.css(h,f[u]+(a&&"right"==n||!a&&"top"!=n?0:f[g])),d.rightTop.css(c,f[c]-s+1),d.rightTop.css(g,1),d.leftBorder.css(l,f[p]+t),d.leftBorder.css(h,f[u]),d.leftBorder.css(c,1),d.leftBorder.css(g,f[g]);var _=f[g]/4;_>20&&(_=20),_<3&&(_=3),d.leftBar.css(l,f[p]+t-3),d.leftBar.css(h,f[u]+f[g]/2-_/2),d.leftBar.css(c,5),d.leftBar.css(g,_),d.rightBorder.css(l,f[p]+s),d.rightBorder.css(h,f[u]),d.rightBorder.css(c,1),d.rightBorder.css(g,f[g]),d.rightBar.css(l,f[p]+s-3),d.rightBar.css(h,f[u]+f[g]/2-_/2),d.rightBar.css(c,5),d.rightBar.css(g,_)},_resizeState:{},_onSliderMouseDown:function(t){t.stopImmediatePropagation(),t.stopPropagation();var s=t.data.self;s._sliders[t.data.groupIndex]&&(void 0==s._resizeState.state&&s._testAndSetReadyResize(t),"ready"==s._resizeState.state&&(e.jqx._rangeSelectorTarget=s,s._resizeState.state="resizing"))},_valueToOffset:function(e,t){var s=this.seriesGroups[e],i=this._sliders[e],r=i.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,o=r.min.valueOf(),a=r.max.valueOf()-o;0==a&&(a=1);var n=this._getXAxis(e),d="horizontal"==s.orientation?"height":"width",l=(t.valueOf()-o)/a;return i.getRect()[d]*(n.flip?1-l:l)},_offsetToValue:function(e,t){var s=this._sliders[e],i=this.seriesGroups[e],r=this._getXAxis(e),o="horizontal"==i.orientation?"height":"width",a=s.getRect()[o];0==a&&(a=1);var n=s.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,d=n.min.valueOf(),l=n.max.valueOf(),h=t/a*(l-d)+d;return 1==r.flip&&(h=l-t/a*(l-d)),this._isDate(n.min)||this._isDate(n.max)?h=new Date(h):((void 0==r.dataField||n.useIndeces)&&(h=Math.round(h)),h<n.min&&(h=n.min),h>n.max&&(h=n.max)),h},_onSliderMouseUp:function(t){var s=e.jqx._rangeSelectorTarget;if(s){var i=t.data.groupIndex,r=t.data.swapXY,o=s._sliders[i];if(o&&"resizing"==s._resizeState.state){t.stopImmediatePropagation(),t.stopPropagation(),s._resizeState={},s.host.css("cursor","default");var a=r?"top":"left",n=r?"y":"x",d=o.element.coord()[a],l=d+(r?o.element.height():o.element.width()),h=o.getRect(),c=s._offsetToValue(i,d-h[n]),g=s._offsetToValue(i,l-h[n]);!o.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&g.valueOf()-c.valueOf()>864e5&&(c.setHours(0,0,0,0),g.setDate(g.getDate()+1),g.setHours(0,0,0,0));var p=s._getXAxis(i);if(p.flip){var u=c;c=g,g=u}for(var f=0;f<s.seriesGroups.length;f++)s._getXAxis(f)==p&&(s._selectorRange[f]={min:c,max:g});s._isSelectorRefresh=!0;var _=s.enableAnimations;s._raiseEvent("rangeSelectionChanging",{instance:s,minValue:c,maxValue:g}),s.enableAnimations=!1,s.update(),s.enableAnimations=_,s._raiseEvent("rangeSelectionChanged",{instance:s,minValue:c,maxValue:g})}}},_onSliderMouseMove:function(t){var s=t.data.self,i=(t.data.renderTo,t.data.groupIndex),r=s._sliders[i],o=t.data.swapXY;if(r){var a=r.getRect(),n=r.element,d=e.jqx.position(t),l=n.coord(),h=o?"top":"left",c=o?"height":"width",g=o?"y":"x";if("resizing"==s._resizeState.state){if(t.stopImmediatePropagation(),t.stopPropagation(),"left"==s._resizeState.side){var p=Math.round(d[h]-l[h]),u=a[g];if(l[h]+p>=u&&l[h]+p<=u+a[c]){var f=parseInt(n.css(h)),_=Math.max(2,(o?n.height():n.width())-p);n.css(c,_),n.css(h,f+p)}}else if("right"==s._resizeState.side){var v=o?n.height():n.width(),p=Math.round(d[h]-l[h]-v),u=a[g];if(l[h]+v+p>=u&&l[h]+p+v<=u+a[c]){_=Math.max(2,v+p);n.css(c,_)}}else if("move"==s._resizeState.side){var v=o?n.height():n.width(),f=parseInt(n.css(h)),p=Math.round(d[h]-s._resizeState.startPos);l[h]+p>=a[g]&&l[h]+p+v<=a[g]+a[c]&&(s._resizeState.startPos=d[h],n.css(h,f+p))}var m=parseInt(n.css(h))-r.rect[g],x=m+(o?n.height():n.width());s._setSliderPositions(i,m,x)}else s._testAndSetReadyResize(t)}},_testAndSetReadyResize:function(t){var s=t.data.self,i=t.data.renderTo,r=t.data.groupIndex,o=s._sliders[r],a=t.data.swapXY,n=o.getRect(),d=o.element,l=e.jqx.position(t),h=d.coord(),c=a?"left":"top",g=a?"top":"left",p=a?"width":"height",u=s._isTouchDevice?30:5;l[c]>=h[c]&&l[c]<=h[c]+n[p]?Math.abs(l[g]-h[g])<=u?(i.css("cursor",a?"row-resize":"col-resize"),s._resizeState={state:"ready",side:"left"}):Math.abs(l[g]-h[g]-(a?d.height():d.width()))<=u?(i.css("cursor",a?"row-resize":"col-resize"),s._resizeState={state:"ready",side:"right"}):l[g]+u>h[g]&&l[g]-u<h[g]+(a?d.height():d.width())?(i.css("cursor","pointer"),s._resizeState={state:"ready",side:"move",startPos:l[g]}):(i.css("cursor","default"),s._resizeState={}):(i.css("cursor","default"),s._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework);

!function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(a,e){for(var i=this.seriesGroups[a],t=0;t<i.series.length;t++)if(void 0!==i.series[t].summary&&(summaryValue=this._getDataValue(e,i.series[t].summary,a),void 0!==summaryValue))return!0;return!1},_applyWaterfall:function(a,e,i,t,s,r,u,f,l){var o=this.seriesGroups[i];if(0==a.length)return a;for(var v=t,N={},n=[],m=void 0,h=[],_=0;_<o.series.length;_++)h.push(this._isSerieVisible(i,_));for(var g={},y=0;y<e;y++)for(var D=t,p=0,d=this._isSummary(i,y),_=0;_<a.length;_++)if(h[_]){var x=0;if(d){x=D==t?s:0,a[_][y].value=N[_],a[_][y].summary=!0,m=a[_][y].value<x,f&&(m=!m);V=0;V=isNaN(r)?this._getDataPointOffsetDiff(a[_][y].value,x,x,NaN,u,t,f):this._getDataPointOffsetDiff(a[_][y].value+p,0==p?s:p,x||s,r,u,t,f),a[_][y].to=D+(m?V:-V),a[_][y].from=D,l&&(p+=a[_][y].value,D=a[_][y].to)}else{var O=l?-1:_;if(!isNaN(a[_][y].value)){void 0===g[O]&&(x=s,g[O]=!0),m=a[_][y].value<x,f&&(m=!m);var P=NaN,V=NaN;P=l?v:0==y?t:a[_][n[_]].to;V=0;V=isNaN(r)?this._getDataPointOffsetDiff(a[_][y].value,x,x,NaN,u,t,f):this._getDataPointOffsetDiff(a[_][y].value+(isNaN(N[O])?0:N[O]),isNaN(N[O])?s:N[O],x||s,r,u,P,f),a[_][y].to=v=P+(m?V:-V),a[_][y].from=P,isNaN(N[O])?N[O]=a[_][y].value:N[O]+=a[_][y].value,-1==O&&(isNaN(N[_])?N[_]=a[_][y].value:N[_]+=a[_][y].value),l||(n[_]=y)}}}return a}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxCheckBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this;t._createFromInput("CheckBox"),t.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var h={title:i.field.title};i.field.value&&(h.value=i.field.value),i.field.checked&&(h.checked=!0),i.field.id.length?h.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:h.id=e.jqx.utilities.createId()+"_"+t;var s=i.element.nextSibling,a=!1;!s||"#text"!=s.nodeName&&"span"!=s.nodeName||(a=!0);var o=0,c=e("<div></div>",h);if(a){c.append(s);var r=e("<span>"+e(s).text()+"</span>");r.appendTo(e(document.body)),o+=r.width(),r.remove()}c[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+o+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(c);var d=i.host.data();if(i.host=c,i.host.data(d),i.element=c[0],i.element.id=i.field.id,i.field.id=h.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var n=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=n}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(e,i,h,s){t.setSize()},this.propertyChangeMap.height=function(e,i,h,s){t.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",h=Math.floor((parseInt(this.boxSize)-13)/2),s=h;h+="px",s+="px","13px"!=this.boxSize?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+h+"; top: "+s+'; width: 13px; height: 13px;"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var a=this.element.getAttribute("checked");"checked"!=a&&"true"!=a&&1!=a||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,i="mousedown";e.jqx.mobile.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,i,function(e){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&t.keyboardCheck&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.addHandler(this.host,i,function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1}),this.addHandler(this.host,"selectstart",function(e){if(!t.disabled&&t.enableContainerClick)return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1)}),this.addHandler(this.host,"blur",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1)}),this.addHandler(this.host,"mouseenter",function(e){if(t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1}),this.addHandler(this.host,"mouseleave",function(e){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t="mousedown";e.jqx.mobile.isTouchDevice()&&(t="touchend"),this.box&&(this.removeHandler(this.box,t),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,t),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),!1!==t&&!0!==t||(this.locked=t)},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,function(){e(this).jqxCheckBox("groupName")==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&this.groupName.length>0?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,1==this.checked?this.checked=!!this.hasThreeStates&&null:this.checked=null!=this.checked,this.updateStates(),void 0!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var h=this.events[t],s=new e.Event(h);s.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,s.args=i;try{var a=this.host.trigger(s)}catch(e){}return a}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,h,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("enableContainerClick"!=i||t.disabled||t.locked||(s?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(s?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(h,s,t.host),"checked"==i&&s!=h)switch(s){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&s!=h&&(s?t.disable():t.enable())}}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxColorPicker","",{}),t.extend(t.jqx._jqxColorPicker.prototype,{defineInstance:function(){var e={disabled:!1,height:null,width:null,color:new t.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===t.jqx._jqxColorPicker.prototype?e:(t.extend(!0,this,e),e)},_createFromInput:function(e){var r=this;if("input"==r.element.nodeName.toLowerCase()){r.field=r.element,r.field.className&&(r._className=r.field.className);var o={title:r.field.title};if(r.field.getAttribute("value")){var i=r.field.getAttribute("value");r.color=new t.jqx.color({hex:i})}r.field.id.length?o.id=r.field.id.replace(/[^\w]/g,"_")+"_"+e:o.id=t.jqx.utilities.createId()+"_"+e;var s=t("<div></div>",o);s[0].style.cssText=r.field.style.cssText,r.width||(r.width=t(r.field).width()),r.height||(r.height=t(r.field).outerHeight()),t(r.field).hide().after(s);var h=r.host.data();if(r.host=s,r.host.data(h),r.element=s[0],r.element.id=r.field.id,r.field.id=o.id,r._className&&(r.host.addClass(r._className),t(r.field).removeClass(r._className)),r.field.tabIndex){var a=r.field.tabIndex;r.field.tabIndex=-1,r.element.tabIndex=a}}},createInstance:function(e){this._createFromInput("jqxColorPicker"),this.render();var r=this;t.jqx.utilities.resize(this.host,function(){r._setSize(),r.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=t.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new t.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=t("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=t("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=t("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=t("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=t("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=t("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=t("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=t("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=t("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=t("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=t("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=t("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=t("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=t("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(t){return 0==arguments.length?"#"+this.color.hex:(this.setColor(t),this.color.hex)},_setPositionFromValue:function(){var t=this,e=t.color.h,r=100-t.color.v,o=t.colorMap.height(),i=t.colorMap.width(),s=e*i/360,h=r*o/100;if("saturation"==this.colorMode)a=(a=100-t.color.s)*o/100,t._saturation=100-t.color.s,t.colorMapPointer.css("margin-left",s-8),t.colorMapPointer.css("margin-top",h-8),t.colorBarPointer.css("margin-top",a-8),t.colorMapImageOverlay.css("opacity",(100-t.color.s)/100);else{var s=(e=t.color.s)*i/100,h=r*o/100,a=360-t.color.h;a=a*o/360,t._hue=t.color.h,t.colorMapPointer.css("margin-left",s-8),t.colorMapPointer.css("margin-top",h-8),t.colorBarPointer.css("margin-top",a-8)}},updateRGB:function(){var t=this;t.color.setRgb(t.red.val(),t.green.val(),t.blue.val()),t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},_setPosition:function(e,r,o){var i=parseInt(e.pageX),s=parseInt(r.offset().left),h=parseInt(e.pageY),a=parseInt(r.offset().top);if(this._isTouchDevice){var l=t.jqx.position(e);i=l.left,h=l.top}-1==o[0].className.indexOf("jqx-color-picker-bar")&&o.css("margin-left",i-8-s),h>=a&&h<=a+r.height()&&o.css("margin-top",h-8-a)},_handleKeyInput:function(t,e,r){if(!t.disabled){if(!t._validateKey(e))return e;r.val(t._setValueInRange(r.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var e=this;this.addHandler(this.colorMapPointer,"dragStart",function(t){return t.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(t){return t.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(t){e._raiseEvent("0",{color:"transparent"}),t.preventDefault(),e.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(t){return t.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(t){e._handleKeyInput(e,t,e.blue)}),this.addHandler(this.green,"keyup blur",function(t){e._handleKeyInput(e,t,e.green)}),this.addHandler(this.red,"keyup blur",function(t){e._handleKeyInput(e,t,e.red)}),this.addHandler(this.hex,"keyup blur",function(t){if(!e.disabled)return e._validateKey(t)?void(6==e.hex.val().toString().length&&(e.hex.val(e.color.validateHex(e.hex.val())),e.color.setHex(e.hex.val()),e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:e.color}))):t}),this.addHandler(this.colorMap,"dragstart",function(t){return t.preventDefault(),!1});var r=function(t){if(e._setPosition(t,e.colorMap,e.colorMapPointer),"saturation"==e.colorMode)(r=e._valuesFromMouse(t,e.colorMap,360,100)).x>360&&(r.x=360),e.color.setHsv(r.x,null!=e._saturation?100-e._saturation:100,100-r.y);else{var r=e._valuesFromMouse(t,e.colorMap,100,100);r.x>100&&(r.x=100),e.color.setHsv(null!=e._hue?e._hue:360,r.x,100-r.y)}e._updateUI(),e._raiseEvent("0",{color:e.color}),e.color.transparent=!1},o="mousedown.picker"+this.element.id;this._isTouchDevice&&(o=t.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,o,function(t){e.disabled||(e.beginDrag=!0,r(t))});var i="mousemove.picker"+this.element.id;this._isTouchDevice&&(i=t.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(t(document),i,function(t){e.disabled||1==e.beginDrag&&(r(t),e._isTouchDevice&&t.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(t){return t.preventDefault(),!1});var s=function(t){if(e._setPosition(t,e.colorBar,e.colorBarPointer),"saturation"==e.colorMode){r=e._valuesFromMouse(t,e.colorBar,100,100);e.color.s=r.y,e._saturation=r.y,e.colorMapImageOverlay.css("opacity",e.color.s/100),e.color.setHsv(e.color.h,100-e.color.s,e.color.v)}else{var r=e._valuesFromMouse(t,e.colorBar,100,360);e.color.h=360-r.y,e._hue=e.color.h,e.color.setHsv(e.color.h,e.color.s,e.color.v)}e._updateUI(),e._raiseEvent("0",{color:e.color}),e.color.transparent=!1},h="mousemove.colorBar"+this.element.id,a="mousedown.colorBar"+this.element.id,l="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(h=t.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,a=t.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,l=t.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,a,function(t){e.disabled||(e.beginDragBar=!0,s(t))}),this.addHandler(t(document),h,function(t){e.disabled||1==e.beginDragBar&&(s(t),e._isTouchDevice&&t.preventDefault())}),this.addHandler(t(document),l,function(t){e.disabled||(e.beginDrag=!1,e.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var e=this.element.id,r="mousemove.colorBar"+e,o="mousedown.colorBar"+e,i="mouseup.colorBar"+e,s="mousedown.picker"+e,h="mousemove.picker"+e;this._isTouchDevice&&(r=t.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+e,o=t.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+e,i=t.jqx.mobile.getTouchEventName("touchend")+".colorBar"+e,s=t.jqx.mobile.getTouchEventName("touchstart")+".picker"+e,h=t.jqx.mobile.getTouchEventName("touchmove")+".picker"+e),this.removeHandler(this.colorMap,s),this.removeHandler(this.colorMap,h),this.removeHandler(this.colorBar,o),this.removeHandler(this.colorBar,r),this.removeHandler(t(document),h),this.removeHandler(t(document),r),this.removeHandler(t(document),i)},_raiseEvent:function(e,r){void 0==r&&(r={owner:null});var o=this.events[e],i=r||{};i.owner=this;var s=new t.Event(o);return s.owner=this,s.args=i,this.host.trigger(s)},setColor:function(e){e&&("transparent"==e?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):e.r?this.color=new t.jqx.color({rgb:e}):"#"==e.substring(0,1)?this.color=new t.jqx.color({hex:e.substring(1)}):this.color=new t.jqx.color({hex:e}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(t,e){this.width=t,this.height=e,this._setSize(),this.refresh()},propertyChangedHandler:function(t,e,r,o){void 0!=t.isInitialized&&0!=t.isInitialized&&("colorMode"==e&&t.refresh(),"color"==e&&(t._updateUI(),t._setPositionFromValue(),t._raiseEvent("0",{color:o})),"width"!=e&&"height"!=e||(t._setSize(),t.refresh()),"showTransparent"==e&&t.refresh(),"disabled"==e&&(this.element.disabled=o,o?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(e,r,o,i){var s=0,h=0,a=r.offset(),l=r.height(),n=r.width(),c=e.pageX,d=e.pageY;if(this._isTouchDevice){var p=t.jqx.position(e);c=p.left,d=p.top}return s=c<a.left?0:c>a.left+n?n:c-a.left+1,h=d<a.top?0:d>a.top+l?l:d-a.top+1,{x:parseInt(s/n*o),y:parseInt(h/l*i)}},_validateKey:function(t){return 9!=t.keyCode&&16!=t.keyCode&&38!=t.keyCode&&29!=t.keyCode&&40!=t.keyCode&&17!=t.keyCode&&37!=t.keyCode&&(!t.ctrlKey||t.keyCode!="c".charCodeAt()&&t.keyCode!="v".charCodeAt())&&(!t.ctrlKey||t.keyCode!="C".charCodeAt()&&t.keyCode!="V".charCodeAt())&&(!t.ctrlKey&&!t.shiftKey)},_setValueInRange:function(t,e,r){return""==t||isNaN(t)?e:(t=parseInt(t))>r?r:t<e?e:t},destroy:function(){t.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(t){this.colorMapPointer.removeClass(),"transparent"!=t&&""!=t.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));"Black"==(255-(.299*t.r+.587*t.g+.114*t.b)<105?"Black":"White")?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var e=this;e.red.val(e.color.r),e.green.val(e.color.g),e.blue.val(e.color.b),e.hex.val(e.color.hex);var r=new t.jqx.color({hex:"fff"});"saturation"==this.colorMode?(r.setHsv(this.color.h,100,this.color.v),e.colorBar.css("background","#"+r.hex)):(r.setHsv(this.color.h,100,100),e.colorMap.css("background-color","#"+r.hex)),e.preview.css("background","#"+this.color.hex),e.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var t=this.host.height(),e=this.host.width(),r=t-44;if(this.showTransparent&&(r=t-64),!(r<=0)){this.colorMap.width(85*e/100),this.colorMap.height(r),this.colorBar.height(r),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*e/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(e),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",r+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var o=this.red.prev().outerWidth()-this.hex.prev().outerWidth();o<4&&(o=4),this.hex.css("margin-left",o+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var i=this.hex.width()-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return i>0?(this.blue.width(i/3),this.green.width(i/3),void this.red.width(i/3)):void 0}},_getColorPointer:function(){var e=t("<div></div>");return e.addClass(this.toThemeProperty("jqx-color-picker-pointer")),e},_getImageUrl:function(t){var e=t.css("backgroundImage");return e=e.replace('url("',""),e=e.replace('")',""),e=e.replace("url(",""),e=e.replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=t("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=t("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=t("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=t("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),t.jqx.color=function(t){var e={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(t){var e="00",r="00",o="00";return 6==(t=this.validateHex(t)).length?(e=t.substring(0,2),r=t.substring(2,4),o=t.substring(4,6)):(t.length>4&&(e=t.substring(4,t.length),t=t.substring(0,4)),t.length>2&&(r=t.substring(2,t.length),t=t.substring(0,2)),t.length>0&&(o=t.substring(0,t.length))),{r:this.hexToInt(e),g:this.hexToInt(r),b:this.hexToInt(o)}},validateHex:function(t){return t=new String(t).toUpperCase(),(t=t.replace(/[^A-F0-9]/g,"0")).length>6&&(t=t.substring(0,6)),t},webSafeDec:function(t){return t=Math.round(t/51),t*=51},hexToWebSafe:function(t){var e,r,o;return 3==t.length?(e=t.substring(0,1),r=t.substring(1,1),o=t.substring(2,1)):(e=t.substring(0,2),r=t.substring(2,4),o=t.substring(4,6)),intToHex(this.webSafeDec(this.hexToInt(e)))+this.intToHex(this.webSafeDec(this.hexToInt(r)))+this.intToHex(this.webSafeDec(this.hexToInt(o)))},rgbToWebSafe:function(t){return{r:this.webSafeDec(t.r),g:this.webSafeDec(t.g),b:this.webSafeDec(t.b)}},rgbToHex:function(t){return this.intToHex(t.r)+this.intToHex(t.g)+this.intToHex(t.b)},intToHex:function(t){var e=parseInt(t).toString(16);return 1==e.length&&(e="0"+e),e.toUpperCase()},hexToInt:function(t){return parseInt(t,16)},hslToRgb:function(t){var e=parseInt(t.h)/360,r=parseInt(t.s)/100,o=parseInt(t.l)/100;if(o<=.5)i=o*(1+r);else var i=o+r-o*r;var s=2*o-i,h=e+1/3,a=e,l=e-1/3;return{r:Math.round(255*this.hueToRgb(s,i,h)),g:Math.round(255*this.hueToRgb(s,i,a)),b:Math.round(255*this.hueToRgb(s,i,l))}},hueToRgb:function(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t},rgbToHsv:function(t){var e=t.r/255,r=t.g/255,o=t.b/255;hsv={h:0,s:0,v:0};var i=0,s=0;return e>=r&&e>=o?(s=e,i=r>o?o:r):r>=o&&r>=e?(s=r,i=e>o?o:e):(s=o,i=r>e?e:r),hsv.v=s,hsv.s=s?(s-i)/s:0,hsv.s?(delta=s-i,hsv.h=e==s?(r-o)/delta:r==s?2+(o-e)/delta:4+(e-r)/delta,hsv.h=parseInt(60*hsv.h),hsv.h<0&&(hsv.h+=360)):hsv.h=0,hsv.s=parseInt(100*hsv.s),hsv.v=parseInt(100*hsv.v),hsv},hsvToRgb:function(t){rgb={r:0,g:0,b:0};var e=t.h,r=t.s,o=t.v;if(0==r)rgb.r=rgb.g=rgb.b=0==o?0:parseInt(255*o/100);else{360==e&&(e=0),e/=60,r/=100,o/=100;var i=parseInt(e),s=e-i,h=o*(1-r),a=o*(1-r*s),l=o*(1-r*(1-s));switch(i){case 0:rgb.r=o,rgb.g=l,rgb.b=h;break;case 1:rgb.r=a,rgb.g=o,rgb.b=h;break;case 2:rgb.r=h,rgb.g=o,rgb.b=l;break;case 3:rgb.r=h,rgb.g=a,rgb.b=o;break;case 4:rgb.r=l,rgb.g=h,rgb.b=o;break;case 5:rgb.r=o,rgb.g=h,rgb.b=a}rgb.r=parseInt(255*rgb.r),rgb.g=parseInt(255*rgb.g),rgb.b=parseInt(255*rgb.b)}return rgb},setRgb:function(t,e,r){var o=function(t){return t<0||t>255?0:isNaN(parseInt(t))?0:t};this.r=o(t),this.g=o(e),this.b=o(r);var i=this.rgbToHsv(this);this.h=i.h,this.s=i.s,this.v=i.v,this.hex=this.rgbToHex(this)},setHsl:function(t,e,r){this.h=t,this.s=e,this.l=r;var o=this.hslToRgb(this);this.r=o.r,this.g=o.g,this.b=o.b,this.hex=this.rgbToHex(o)},setHsv:function(t,e,r){this.h=t,this.s=e,this.v=r;var o=this.hsvToRgb(this);this.r=o.r,this.g=o.g,this.b=o.b,this.hex=this.rgbToHex(o)},setHex:function(t){this.hex=t;var e=this.hexToRgb(this.hex);this.r=e.r,this.g=e.g,this.b=e.b;var r=this.rgbToHsv(e);this.h=r.h,this.s=r.s,this.v=r.v}};if(t)if(t.hex){var r=e.validateHex(t.hex);e.setHex(r)}else t.r?e.setRgb(t.r,t.g,t.b):t.h?e.setHsv(t.h,t.s,t.v):t.rgb&&e.setRgb(t.rgb.r,t.rgb.g,t.rgb.b);return e}}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxComboBox","",{}),e.extend(e.jqx._jqxComboBox.prototype,{defineInstance:function(){var t={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",emptyString:"",ready:null,openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",dropDownContainer:"default",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:1e5,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxComboBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){if(this.host.attr("role","combobox"),e.jqx.aria(this,"aria-autocomplete","both"),null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");e.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":s.id=e.jqx.utilities.createId()+"_jqxComboBox";var o=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),t.element.style.cssText=t.field.style.cssText,e(t.field).hide().after(o);var n=t.host.data();if(t.host=o,t.host.data(n),t.element=o[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var r=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=r}if(""!=t.field.innerHTML){l=e.jqx.parseSourceTag(t.field);t.source=l.items,-1==t.selectedIndex&&(t.selectedIndex=l.index)}}else if(t.host.find("li").length>0||t.host.find("option").length>0){var l=e.jqx.parseSourceTag(t.element);t.source=l.items}t.removeHandlers(),t.isanimating=!1,t.id=e.jqx.utilities.createId(),t.element.innerHTML="";var a=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(t.comboStructure=a,null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";t.touch=e.jqx.mobile.isTouchDevice(),!0===t.touchMode&&(t.touch=!0),t.host.append(a),t.dropdownlistWrapper=t.host.find("#dropdownlistWrapper"),t.dropdownlistArrow=t.host.find("#dropdownlistArrow"),t.dropdownlistContent=t.host.find("#dropdownlistContent"),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t.template&&t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-"+t.template)),t.dropdownlistContent.append(e('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),t.input=t.dropdownlistContent.find("input"),t.input.addClass(t.toThemeProperty("jqx-combobox-input")),t.input.addClass(t.toThemeProperty("jqx-widget-content")),t.host.attr("tabindex")&&(t.input.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t._addInput(),t.rtl&&(t.input.css({direction:"rtl"}),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-rtl")));try{var d="listBox"+t.id,h=e(e.find("#"+d));h.length>0&&h.remove(),e.jqx.aria(this,"aria-owns",d),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-multiline",!1),t.listBoxContainer&&t.listBoxContainer.jqxListBox("destroy"),t.container&&t.container.remove();var c=e("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");c.hide(),"element"==t.dropDownContainer?c.appendTo(t.host):c.appendTo(document.body),t.container=c,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var p=t.width;"auto"!=t.dropDownWidth&&(p=t.dropDownWidth),null==t.dropDownHeight&&(t.dropDownHeight=200),t.container.width(parseInt(p)+25),t.container.height(parseInt(t.dropDownHeight)+25),t._ready=!1,t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t._ready||(t.ready&&t.ready(),t._ready=!0),t._raiseEvent("6")}),t.addHandler(t.listBoxContainer,"itemAdd",function(e){t._raiseEvent("7",e.args)}),t.addHandler(t.listBoxContainer,"itemRemove",function(e){t._raiseEvent("8",e.args)}),t.addHandler(t.listBoxContainer,"itemUpdate",function(e){t._raiseEvent("9",e.args)});t.listBoxContainer.jqxListBox({autoItemsHeight:t.autoItemsHeight,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:t.checkboxes,emptyString:t.emptyString,autoBind:!t.remoteAutoComplete&&t.autoBind,renderer:t.renderer,rtl:t.rtl,itemHeight:t.itemHeight,selectedIndex:t.selectedIndex,incrementalSearch:!1,width:p,scrollBarSize:t.scrollBarSize,autoHeight:t.autoDropDownHeight,height:t.dropDownHeight,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,source:t.source,theme:t.theme,rendered:function(){if(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.remoteAutoComplete)if(t.autoDropDownHeight?(t.container.height(t.listBox.virtualSize.height+25),t.listBoxContainer.height(t.listBox.virtualSize.height),t.listBox._arrange()):(t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25)),void 0!=t.searchString&&t.searchString.length>=t.minLength){var i=t.listBoxContainer.jqxListBox("items");i&&i.length>0?t.isOpened()||t.open():t.close()}else t.close();else t.renderSelection("mouse"),t.multiSelect&&t.doMultiSelect(!1);t.rendered&&t.rendered()}}),"element"==t.dropDownContainer?t.listBoxContainer.css({position:"absolute",top:0,left:0}):t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.listBoxContainer.css("border-top-width","1px"),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.template&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox._arrange(),t.addHandler(t.listBoxContainer,"unselect",function(e){t.multiSelect||t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){t.multiSelect||(t.selectedIndex=t.listBox.selectedIndex,t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide(),!1}catch(e){throw e}if((t=this).input.attr("disabled",t.disabled),e.jqx.browser.msie&&e.jqx.browser.version<8||t.input.attr("placeholder",t.placeHolder),t.propertyChangeMap.disabled=function(i,s,o,n){n?(i.host.addClass(t.toThemeProperty("jqx-combobox-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-combobox-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-combobox-content-disabled"))),i.input.attr("disabled",i.disabled),e.jqx.aria(i,"aria-disabled",i.disabled),i.input.attr("disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-disabled"))),t.host.addClass(t.toThemeProperty("jqx-combobox-state-normal")),t.host.addClass(t.toThemeProperty("jqx-combobox")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistArrowIcon=e("<div></div>"),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon")),t.dropdownlistArrow.append(t.dropdownlistArrowIcon),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-normal")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-rc-l")):t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-rc-r")),t._setSize(),t._updateHandlers(),t.addHandler(t.input,"keyup.textchange",function(e){t._writeTimer&&clearTimeout(t._writeTimer),t._writeTimer=setTimeout(function(){t._search(e);t.cinput&&t.input&&(t.displayMember?t._updateInputSelection():t.cinput[0].value=t.input[0].value)},50)}),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var u=t.host.parents(".jqx-window").css("z-index");c.css("z-index",u+10),t.listBoxContainer.css("z-index",u+10)}t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(this,"aria-readonly",!0)):e.jqx.aria(this,"aria-readonly",!1),t.remoteAutoComplete||(t.searchString="")},_addInput:function(){var t=this.host.attr("name");this.cinput=e("<input type='hidden'/>"),this.host.append(this.cinput),t&&this.cinput.attr("name",t)},_updateInputSelection:function(){if(this.cinput){var t=new Array;if(-1==this.selectedIndex)this.cinput.val("");else{var i=this.getSelectedItem();null!=i?(this.cinput.val(i.value),t.push(i.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)s=this.getSelectedItems();else var s=this.getCheckedItems();var o="";if(null!=s)for(var n=0;n<s.length;n++)n==s.length-1?o+=s[n].value:o+=s[n].value+",",t.push(s[n].value);this.cinput.val(o)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(t){a=this;if(9!=t.keyCode&&"none"!=a.searchMode&&null!=a.searchMode&&"undefined"!=a.searchMode&&16!=t.keyCode&&17!=t.keyCode&&20!=t.keyCode&&!a.checkboxes){if(a.multiSelect){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+a.input.val()+"</span>");i.addClass(a.toThemeProperty("jqx-widget")),e(document.body).append(i);var s=i.width()+15;i.remove(),s>a.host.width()&&(s=a.host.width()),s<25&&(s=25),a.input.css("width",s+"px"),0==a.selectedItems.length?(a.input.css("width","100%"),a.input.attr("placeholder",a.placeHolder)):a.input.attr("placeholder","");var o=parseInt(this._findPos(a.host[0])[1])+parseInt(a.host.outerHeight())-1+"px",n=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=n&&n&&(o=e.jqx.mobile.getTopPos(this.element)+parseInt(a.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)-this._getBodyOffset().top+"px")),a.container.css("top",o);var r=parseInt(a.host.height());a.dropdownlistArrow.height(r)}if(!a.isanimating){if(t.altKey&&38==t.keyCode)return a.hideListBox("altKey"),!1;if(t.altKey&&40==t.keyCode)return a.isOpened()||a.showListBox("altKey"),!1}if(37==t.keyCode||39==t.keyCode)return!1;if(!t.altKey&&18!=t.keyCode&&!(t.keyCode>=33&&t.keyCode<=40||(t.ctrlKey||a.ctrlKey)&&88!=t.keyCode&&86!=t.keyCode)){var l=a.input.val();if(0==l.length&&!a.autoComplete)return a.listBox.searchString=a.input.val(),a.listBox.clearSelection(),a.hideListBox("search"),void(a.searchString=a.input.val());if(a.remoteAutoComplete){var a=this,d=function(){a.listBox.vScrollInstance.value=0};l.length>=a.minLength?t.ctrlKey||t.altKey||(a.searchString!=l&&(null==a.listBoxContainer.jqxListBox("source")&&a.listBoxContainer.jqxListBox({source:a.source}),a._searchTimer&&clearTimeout(a._searchTimer),13!=t.keyCode&&27!=t.keyCode&&(a._searchTimer=setTimeout(function(){if(d(),a.autoDropDownHeight&&(a.listBox.autoHeight=!0),a.searchString=a.input.val(),null==a.search)throw"'search' function is not defined";a.search(a.input.val())},a.remoteAutoCompleteDelay))),a.searchString=l):(a._searchTimer&&clearTimeout(a._searchTimer),d(),a.searchString="",a.search(""),a.listBoxContainer.jqxListBox({source:null}))}else if(l!==(a=this).searchString){if("27"!=t.keyCode&&"13"!=t.keyCode){var h=a.input[0].value,c=a._updateItemsVisibility(l),p=c.matchItems;a.autoComplete&&a.autoItemsHeight&&(a.input[0].value=h);var u=c.index;a.autoComplete||a.remoteAutoComplete||(!a.multiSelect||a.multiSelect&&u>=0)&&(a.listBox.selectIndex(u),a.listBox.isIndexInView(u)?a.listBox._renderItems():a.listBox.ensureVisible(u)),a.autoComplete&&0===p.length&&a.hideListBox("search")}if("13"==t.keyCode){if((x="block"==a.container.css("display"))&&!a.isanimating)return a.hideListBox("keyboard"),void(a._oldvalue=a.listBox.selectedValue)}else if("27"==t.keyCode){var x="block"==a.container.css("display");if(x&&!a.isanimating){if(a.multiSelect)a.input.val(""),a.listBox.selectedValue=null;else if(m=a.listBox.getVisibleItem(a._oldvalue)){a=this;setTimeout(function(){a.autoComplete&&a._updateItemsVisibility(""),a.listBox.selectIndex(m.index),a.renderSelection("api")},a.closeDelay)}else a.clearSelection();return a.hideListBox("keyboard"),a.renderSelection("api"),t.preventDefault(),!1}}else{a.isOpened()||a.opening||t.ctrlKey||a.listBox.visibleItems&&a.listBox.visibleItems.length>0&&a.input.val()!=a.searchString&&void 0!=a.searchString&&-1!=u&&a.showListBox("search"),a.searchString=a.input.val(),""==a.searchString&&(a.listBox.itemsByValue[""]||(u=-1,a.multiSelect||a.clearSelection()));var m=a.listBox.getVisibleItem(u);void 0!=m&&a._updateInputSelection()}}}}},val:function(e){if(!this.input)return"";if(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length)return(t=this.getSelectedItem())?t.value:this.input.val();var t=this.getItemByValue(e);return null!=t?this.selectItem(t):this.input.val(e),this.input.val()},focus:function(){var e=this,t=function(){e.input.focus();var t=e.input.val();e._setSelection(0,t.length)};t(),setTimeout(function(){t()},10)},_setSelection:function(e,t){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(e,t);else{var i=this.input[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(e){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var s=this,o=-1,n=new Array,r=0;e.each(i,function(i){var l="";if(!this.isGroup){l=(l=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(l,t);break;case"contains":a=e.jqx.string.contains(l,t);break;case"equals":a=e.jqx.string.equals(l,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(l,t);break;case"startswith":a=e.jqx.string.startsWith(l,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(l,t);break;case"endswith":a=e.jqx.string.endsWith(l,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(l,t)}if(s.autoComplete&&!a&&(this.visible=!1),a&&s.autoComplete&&(n[r++]=this,this.visible=!0,o=this.visibleIndex),""==t&&s.autoComplete&&(this.visible=!0,a=!1),s.multiSelect&&(this.disabled=!1,(s.selectedItems.indexOf(this.value)>=0||s._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,a=!1)),s.multiSelect){if(a&&!s.autoComplete)return-1===o&&(o=this.visibleIndex),!0}else if(a&&!s.autoComplete)return o=this.visibleIndex,!1}}),this.listBox.searchString=t;var s=this,l=function(){if(s.multiSelect){for(var e=0,t=!1,i=null,o=0;o<s.listBox.items.length;o++)s.listBox.selectedIndexes[o]=-1,s.listBox.items[o].disabled||0==t&&(e=(i=s.listBox.items[o]).visibleIndex,t=!0);s.listBox.selectedIndex=-1,s.listBox.selectedIndex=e,s.listBox.selectedIndexes[e]=e,s.listBox.visibleItems.length>0?s.listBox.selectedValue=i?i.value:null:s.listBox.selectedValue=null,s.listBox.ensureVisible(0)}};if(!this.autoComplete)return l(),{index:o,matchItems:n};this.listBox.renderedVisibleItems=new Array;var a=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var d=this.listBox.selectedValue,h=this.listBox.getItemByValue(d);if(this.multiSelect)l();else if(h)if(h.visible){this.listBox.selectedIndex=h.visibleIndex;for(c=0;c<this.listBox.items.length;c++)this.listBox.selectedIndexes[c]=-1;this.listBox.selectedIndexes[h.visibleIndex]=h.visibleIndex}else{for(var c=0;c<this.listBox.items.length;c++)this.listBox.selectedIndexes[c]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var p=this.listBox._calculateVirtualSize().height;if(p<a&&(a=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(p+25),this.listBox.invalidate(),this._disableSelection=!1;else if(p<parseInt(this.dropDownHeight)){var u="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=u+p,this.container.height(p+25+u),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(a),{index:o,matchItems:n}},findItems:function(t){var i=this.getItems(),s=this,o=0,n=new Array;return e.each(i,function(i){var r="";if(!this.isGroup){r=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var l=!1;switch(s.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(r,t);break;case"contains":l=e.jqx.string.contains(r,t);break;case"equals":l=e.jqx.string.equals(r,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(r,t);break;case"startswith":l=e.jqx.string.startsWith(r,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(r,t);break;case"endswith":l=e.jqx.string.endsWith(r,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(r,t)}l&&(n[o++]=this)}}),n},_resetautocomplete:function(){e.each(this.listBox.items,function(e){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height)),t){var i=this,s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25),this._arrange()}var o=function(){i.multiSelect&&i.host.height(i.height),i._arrange(),i.multiSelect&&i.host.height("auto")};(i=this).oldWidth=i.host.width(),i.oldHeight=i.host.height(),e.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();e==i.oldWidth&&t==i.oldHeight||(o(),i.hideListBox("api")),i.oldWidth=e,i.oldHeight=t})},isOpened:function(){var t=this,i=e.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"==this.container.css("display")&&(null!=i&&i==t.listBoxContainer)},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(e){if(e.target.href)return!1;t.input.focus(),setTimeout(function(){t.input.focus()},10)}),this.addHandler(this.dropdownlistContent,"focus",function(e){if(e.target.href)return!1;t.input.focus(),setTimeout(function(){t.input.focus()},10)})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){t.isOpened()&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-hover")),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-combobox-state-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-fill-state-hover")),i=!1)})),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),this.addHandler(e(document),"mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,o=i.left,n=t.container.coord(),r=n.left,l=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+t.host.height()+2&&e.pageX>=o&&e.pageX<o+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()-20&&e.pageX>=r&&e.pageX<r+t.container.width()&&(canClose=!1),canClose&&t.close()}}));var s="mousedown";this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart"));var o=function(i){if(!t.disabled){var s="block"==t.container.css("display");if(!t.isanimating){if(s)return t.hideListBox("api"),e.jqx.mobile.isTouchDevice()||(t.input.focus(),setTimeout(function(){t.input.focus()},10)),!0;if(t.autoDropDownHeight&&(t.container.height(t.listBoxContainer.height()+25),t.listBoxContainer.jqxListBox("autoHeight")||(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25))),t.showListBox("api"),e.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){t.input.focus()},10)}}};this.addHandler(this.dropdownlistArrow,s,function(e){o()}),this.addHandler(this.dropdownlistArrowIcon,s,function(e){}),this.addHandler(this.host,"focus",function(){t.focus()}),this.addHandler(this.input,"focus",function(e){t.focused=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-focus")),e.stopPropagation&&e.stopPropagation()}),this.addHandler(this.input,"blur",function(){t.focused=!1,t.isOpened()||t.opening||("dropDownList"==t.selectionMode&&t._selectOldValue(),t.host.removeClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.removeClass(t.toThemeProperty("jqx-combobox-content-focus"))),t._searchTimer&&clearTimeout(t._searchTimer)}),this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if(t.ctrlKey=e.ctrlKey,"none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&i&&!t.isanimating){if(-1!=t.listBox.selectedIndex){t.renderSelection("mouse");var s=t.listBox.selectedIndex;(o=t.listBox.getVisibleItem(s))&&(t.listBox.selectedValue=o.value),t._setSelection(t.input.val().length,t.input.val().length),t.hideListBox("keyboard")}return"13"==e.keyCode&&(t._oldvalue=t.listBox.selectedValue),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"9"==e.keyCode}if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox("keyboard"):t.showListBox("keyboard")),!1;if(e.altKey&&"block"==t.host.css("display")&&(t.isanimating||(38==e.keyCode?t.isOpened()&&t.hideListBox("altKey"):40==e.keyCode&&(t.isOpened()||t.showListBox("altKey")))),("27"==e.keyCode||"9"==e.keyCode)&&t.isOpened()&&!t.isanimating){if("27"==e.keyCode)if(t.multiSelect)t.listBox.selectedValue=null,t.input.val("");else{var o=t.listBox.getItemByValue(t._oldvalue);o?setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(o.index),t.renderSelection("api")},t.closeDelay):t.clearSelection()}return t.hideListBox("keyboard"),"9"==e.keyCode?!0:(t.renderSelection("api"),e.preventDefault(),!1)}var n=e.keyCode;if(i&&!t.disabled&&8!=n)return t.listBox._handleKeyDown(e);if(!(t.disabled||i||33!=(n=e.keyCode)&&34!=n&&35!=n&&36!=n&&38!=n&&40!=n))return t.listBox._handleKeyDown(e);if(8===n&&t.multiSelect&&0===t.input.val().length){var r=t.selectedItems[t.selectedItems.length-1];return t.selectedItems.pop(),t._selectedItems.pop(),r&&(t._raiseEvent("3",{index:r.index,type:"keyboard",item:r}),t._raiseEvent("4",{index:r.index,type:"keyboard",item:r})),t.listBox.selectedValue=null,t.doMultiSelect(),!1}}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection("mouse"),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled&&("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(e.args.type),t.multiSelect||t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item}),"mouse"==e.args.type&&(t._oldvalue=t.listBox.selectedValue,!t.checkboxes))){if(t.hideListBox("mouse"),t.touch)return!1;t.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;if(e.target&&e.target.className&&e.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;t.renderSelection("mouse"),t._oldvalue=t.listBox.selectedValue,t.touch||t.ishiding||t.checkboxes||(t.hideListBox("mouse"),t.input.focus()),!0===t.touch&&(t.checkboxes||t.hideListBox("mouse"))}})},_selectOldValue:function(){var e=this;if(-1==e.listBox.selectedIndex)if(e.multiSelect)e.listBox.selectedValue=null,e.input.val("");else{var t=e.listBox.getItemByValue(e._oldvalue);t?setTimeout(function(){e.autoComplete&&e._updateItemsVisibility(""),e.listBox.selectIndex(t.index),e.renderSelection("api")},e.closeDelay):(e.clearSelection(),e.listBox.selectIndex(0),e.renderSelection("api"))}else e.renderSelection("api")},removeHandlers:function(){var t=this;if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,i),this.removeHandler(this.dropdownlistArrow,i)}},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},getVisibleItem:function(e){return this.listBox.getVisibleItem(e)},renderSelection:function(t){if(void 0!=t&&"none"!=t&&!0!==this._disableSelection&&null!=this.listBox&&!this.multiSelect){i=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)var i=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var s=this.getCheckedItems();i=null!=s&&s.length>0?s[0]:null}if(null==i){var o=e.jqx.browser.msie&&e.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),o||this.input.attr("placeholder",this.placeHolder),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var n=e("<span></span>");void 0!=i.label&&null!=i.label&&i.label.toString().length>0?e.jqx.utilities.html(n,i.label):void 0!=i.value&&null!=i.value&&i.value.toString().length>0?e.jqx.utilities.html(n,i.value):void 0!=i.title&&null!=i.title&&i.title.toString().length>0?e.jqx.utilities.html(n,i.title):e.jqx.utilities.html(n,this.emptyString);n.outerHeight();if(this.checkboxes){for(var r=this.getCheckedItems(),l="",a=0;a<r.length;a++)a==r.length-1?l+=r[a].label:l+=r[a].label+", ";this.input.val(l)}else this.input.val(n.text());if(n.remove(),this._updateInputSelection(),this.renderSelectedItem){var d=this.renderSelectedItem(this.listBox.selectedIndex,i);void 0!=d&&(this.input[0].value=d)}this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){if(!isNaN(e)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect)){if(e>=0){var i=this.getItem(e),s=this.selectedItems.indexOf(i.value);s>=0&&(i.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(s,1),this._selectedItems.splice(s,1))}this.doMultiSelect(!1)}},selectIndex:function(e,t,i,s){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,s),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){if(this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect)){var t=this.getItemByValue(e);if(t){var i=this.selectedItems.indexOf(t.value);i>=0&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(i,1),this._selectedItems.splice(i,1))}this.doMultiSelect(!1)}},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0].index:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0]:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var t=new Array,i=this;return e.each(this.selectedItems,function(){var e=i.getItemByValue(this);e?t.push(e):(e=i._selectedItems[this])&&t.push(e)}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;if(t){var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,s){var o=t.outerWidth(),n=t.outerHeight(),r=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(i.left+o>r&&o>this.host.width()){var a=this.host.coord().left,d=o-this.host.width();i.left=a-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>l&&l>n?Math.abs(n+s+23):0),i},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(t){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=t||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=t&&(this._updateItemsVisibility(""),this.multiSelect))for(var i=this.getVisibleItems(),s=0;s<i.length;s++)if(!i[s].disabled){this.ensureVisible(s);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=t&&(this._oldvalue=this.listBox.selectedValue),e.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var o=this.host.width();this.listBoxContainer.jqxListBox({width:o}),this.container.width(parseInt(o)+25)}var n,r=this,l=this.listBoxContainer,a=this.listBox,d=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));n=h+"px","element"===this.dropDownContainer&&(d=parseInt(this.host.outerHeight())-1+"px",n=0);var c=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();this.ishiding=!1,(e.jqx.utilities.hasTransform(this.host)||null!=c&&c)&&(n=e.jqx.mobile.getLeftPos(this.element),d=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(d=parseInt(d)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),"top"==this.dropDownVerticalAlignment?this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",n),this.container.css("top",d),a._arrange();var p=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var u=this.container.outerWidth(),x=Math.abs(u-this.host.width());u>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-x+"px"):this.container.css("left",25+parseInt(Math.round(h))+x+"px")}if("top"==this.dropDownVerticalAlignment){var m=l.height();p=!0,l.css("top",23),l.addClass(this.toThemeProperty("jqx-popup-up"));var f=parseInt(this.host.outerHeight()),g=parseInt(d)-Math.abs(m+f+23);this.container.css("top",g)}if(this.enableBrowserBoundsDetection){var w=this.testOffset(l,{left:parseInt(this.container.css("left")),top:parseInt(d)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=w.top?(p=!0,l.css("top",23),l.addClass(this.toThemeProperty("jqx-popup-up"))):l.css("top",0),this.container.css("top",w.top),this.container.css("top",w.top),parseInt(this.container.css("left"))!=w.left&&this.container.css("left",w.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedCombojqxListBoxParent",r),e.data(document.body,"openedCombojqxListBox"+r.element.id,l),l.css("margin-top",0),l.css("opacity",1);else{this.container.css("display","block");var v=l.outerHeight();l.stop(),"fade"==this.animationType?(l.css("margin-top",0),l.css("opacity",0),l.animate({opacity:1},this.openDelay,function(){r.isanimating=!1,r.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",r),e.data(document.body,"openedCombojqxListBox"+r.element.id,l)})):(l.css("opacity",1),p?l.css("margin-top",v):l.css("margin-top",-v),this.isanimating=!0,this.opening=!0,l.animate({"margin-top":0},this.openDelay,function(){r.isanimating=!1,r.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",r),e.data(document.body,"openedCombojqxListBox"+r.element.id,l)}))}a._renderItems(),p?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),l.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),l.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),l.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",a)}},doMultiSelect:function(t){this.checkboxes&&(this.multiSelect=!1);var i=this;if(!this.multiSelect){var s=i.dropdownlistContent.find(".jqx-button"),o="mousedown";if(this.touch&&(o=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(s,o),this.removeHandler(s.find(".jqx-icon-close"),o),s.remove(),!(l=this.listBox.items))return;for(r=0;r<l.length;r++)l[r].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(!this.validateSelection||this.validateSelection(this.listBox.selectedValue)){this.selectedItems;if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var n=this.getItemByValue(this.listBox.selectedValue);n&&n.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(n),this._raiseEvent("2",{index:n.index,item:n}),this._raiseEvent("4",{index:n.index,item:n}))}this.listBox.selectedIndex=0}if(l=this.listBox.items){for(var r=0;r<l.length;r++)l[r].disabled=!1,(this.selectedItems.indexOf(l[r].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(l[r].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var l="",o="mousedown",s=i.dropdownlistContent.find(".jqx-button");this.touch&&(o=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(s,o),this.removeHandler(s.find(".jqx-icon-close"),o),s.remove(),i.input.detach(),this.selectedItems.length>0?(i.input.css("width","25px"),i.input.attr("placeholder","")):(i.input.css("width","100%"),i.input.attr("placeholder",this.placeHolder)),e.each(this.selectedItems,function(t){var s=i.getItemByValue(this);s&&!i.remoteAutoComplete||(s=i._selectedItems[t]);var o=e('<div style="overflow: hidden; float: left;"></div>');if(o.addClass(i.toThemeProperty("jqx-button")),o.addClass(i.toThemeProperty("jqx-combobox-multi-item")),o.addClass(i.toThemeProperty("jqx-fill-state-normal")),o.addClass(i.toThemeProperty("jqx-rc-all")),s){var n=s.label;if(i.renderSelectedItem){var r=i.renderSelectedItem(t,s);r&&(n=r)}""==o[0].innerHTML&&(o[0].innerHTML='<a data-value="'+s.value+'" style="float: left;" href="#">'+n+"</a>"),i.rtl&&(o[0].innerHTML='<a data-value="'+s.value+'" style="float: right;" href="#">'+n+"</a>");var l=i.rtl?"left":"right";if(i.showCloseButtons){a='<div style="position: relative; overflow: hidden; float: '+l+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(a='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>'),i.rtl){var a='<div style="position: relative; overflow: hidden; float: '+l+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(a='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>')}o[0].innerHTML+=a}}else""==o[0].innerHTML&&(o[0].innerHTML='<a href="#"></a>');i.dropdownlistContent.append(o)}),i.dropdownlistContent.append(i.input),i.input.val(""),!1!==t&&(i.input.focus(),setTimeout(function(){i.input.focus()},10));s=i.dropdownlistContent.find(".jqx-button");!0===this.touchMode&&(o="mousedown"),this.addHandler(s,o,function(t){if(t.target.className.indexOf("jqx-icon-close")>=0)return!0;if(i.disabled)return!0;var s=e(t.target).attr("data-value");return i.getItemByValue(s)&&(i.listBox.selectedValue=null,i.listBox.clearSelection()),i.listBox.scrollTo(0,0),i.open(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}),this.addHandler(s.find(".jqx-icon-close"),o,function(t){if(!i.disabled){var s=e(t.target).parent().parent().find("a").attr("data-value"),o=i.getItemByValue(s);if(o||i.remoteAutoComplete&&!o&&i.selectedItems.indexOf(s)>=0){i.listBox.selectedValue=null;var n=i.selectedItems.indexOf(s),r=o&&o.index>=0?o.index:n;if(n>=0)i.selectedItems.splice(n,1),(a=i._selectedItems[n])||(a=o),i._selectedItems.splice(n,1),i._raiseEvent("3",{index:r,type:"mouse",item:a}),i._raiseEvent("4",{index:r,type:"mouse",item:a}),i.doMultiSelect();else for(var l=0;l<i.selectedItems.length;l++){var a=i.selectedItems[l];if(a==s){i.selectedItems.splice(l,1),i._selectedItems.splice(l,1),i._raiseEvent("3",{index:r,type:"mouse",item:o}),i._raiseEvent("4",{index:r,type:"mouse",item:o}),i.doMultiSelect();break}}}}}),i.dropdownlistArrow.height(this.host.height()),i._updateInputSelection()}}},hideListBox:function(t){var i=this.listBoxContainer,s=this.listBox,o=this.container;if("none"!=this.container[0].style.display){e.jqx.aria(this,"aria-expanded",!1),"keyboard"!=t&&"mouse"!=t||(this.listBox.searchString=""),("keyboard"==t||"mouse"==t&&this.multiSelect)&&this.doMultiSelect();var n=this;if(e.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var r=i.outerHeight();i.css("margin-top",0),i.stop(),this.opening=!1,this.isanimating=!0;var l=-r;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(l=r),"fade"==this.animationType?(i.css({opacity:1}),i.animate({opacity:0},this.closeDelay,function(){n.isanimating=!1,o.css("display","none"),n.ishiding=!1})):i.animate({"margin-top":l},this.closeDelay,function(){n.isanimating=!1,o.css("display","none"),n.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",s)}},closeOpenedListBox:function(t){var i=t.data.that,s=e(t.target),o=t.data.listbox;if(null==o)return!0;if(!e(t.target).ischildof(i.host)){var n=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return i.element.id==this.id&&(n=!0),!1}}),null==o||n||i.isOpened()&&(i.hideListBox("api"),i.input.blur()),!0}},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var t=parseInt(this.host.width()),i=parseInt(this.host.height()),s=(this.arrowSize,this.arrowSize),o=1;this.showArrow?"none"===this.dropdownlistArrow[0].style.display&&this.dropdownlistArrow.show():(s=0,0,this.dropdownlistArrow.hide(),o=0,this.host.css("cursor","arrow"));var n=t-s-1*o;n>0&&(this.dropdownlistContent[0].style.width=n+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+n+"px"),this.dropdownlistContent[0].style.height=i+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=s+1+"px",this.dropdownlistArrow[0].style.height=i+"px",this.dropdownlistArrow[0].style.left=1+n+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(i);var r=this.input.height();0==r&&(r=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var l=parseInt(i)/2-parseInt(r)/2;if(this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);i=parseInt(this.host.height());this.dropdownlistArrow.height(i);var a=parseInt(this.host.css("min-height"));(l=parseInt(a)/2-parseInt(r)/2)>0&&this.input.css("margin-top",l)}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var t=e.data(this.element,"jqxComboBox");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var o=new e.Event(s);return o.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(o.args=i),this.host.trigger(o)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,s,o){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+s+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.dropDownListArrow.removeClass(t.toThemeProperty("jqx-"+s)),t.dropDownListArrow.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:o}),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:o}),"renderSelectedItem"==i&&t.renderSelection("mouse"),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:o}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:o}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:o}),"touchMode"===i&&(t.listBoxContainer.jqxListBox({touchMode:o}),t.touch=e.jqx.mobile.isTouchDevice(),!0===t.touchMode&&(t.touch=!0),t._updateHandlers()),"multiSelect"==i)if(o)t.doMultiSelect(!1);else{for(var n=t.listBox.items,r=-1,l=0;l<n.length;l++)n[l].disabled=!1,(t.selectedItems.indexOf(n[l].value)>=0||t._disabledItems.indexOf(t.value)>=0)&&(n[l].disabled=!0,r=n[l].index);if(t.doMultiSelect(!1),t.listBox._renderItems(),!n)return;t.listBox.selectedIndex=r,t.renderSelection("mouse"),t.dropdownlistWrapper.parent().css("height","100%"),t.dropdownlistContent.css("height","100"),t.dropdownlistWrapper.css("height","100"),t.dropdownlistContent.css("position","relative"),t.host.css("min-height",null),t._setSize(),t._arrange()}if("showArrow"==i&&(t._arrange(),t.multiSelect&&t.doMultiSelect(!1)),"placeHolder"==i&&t.input.attr("placeholder",t.placeHolder),"popupZIndex"==i&&t.listBoxContainer.css({zIndex:t.popupZIndex}),"promptText"==i&&(t.placeHolder=o),"autoOpen"==i&&t._updateHandlers(),"renderer"==i&&(t.listBox.renderer=t.renderer),"itemHeight"==i&&(t.listBox.itemHeight=o),"source"==i&&(t.input.val(""),t.listBoxContainer.jqxListBox({source:t.source}),t.renderSelection("mouse"),null==t.source&&t.clearSelection(),t.multiSelect&&(t.selectedItems=new Array,t._selectedItems=new Array,t.doMultiSelect(!1))),"rtl"==i&&(o?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection("mouse")),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){a=t.width;"auto"!=t.dropDownWidth&&(a=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:a,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(a)+25)}if("autoComplete"==i&&t._resetautocomplete(),"checkboxes"==i&&(t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(t,"aria-readonly",!0)):e.jqx.aria(t,"aria-readonly",!1)),"theme"==i&&null!=o&&(t.listBoxContainer.jqxListBox({theme:o}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),e.jqx.utilities.setTheme(s,o,t.host)),"rtl"==i&&(t.render(),t.refresh()),"width"==i||"height"==i){if(t._setSize(),"width"==i&&"auto"==t.dropDownWidth){var a=t.host.width();t.listBoxContainer.jqxListBox({width:a}),t.container.width(parseInt(a)+25)}t._arrange(),t.close()}"selectedIndex"==i&&(t.listBox.selectIndex(o),t.renderSelection("mouse"))}}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxComplexInput","",{}),e.extend(e.jqx._jqxComplexInput.prototype,{defineInstance:function(){var t={width:null,height:null,decimalNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",events:["change"]};return this===e.jqx._jqxComplexInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;t._firefox="mozilla"===e.jqx.browser.browser,t._currentNumber={},t._allowedCharacters=new RegExp(/([\+\-\.0-9i])/i),t.render()},render:function(){var e=this;if("DIV"===e.element.nodeName.toUpperCase()){e.baseHost=e.host;var t=e.host.data();e.host=e.baseHost.children("input"),e.element=e.host[0],e.host.data(t)}if(!0===e.spinButtons){if(!e.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");e._appendSpinButtons()}if(e._addClasses(),e._setSize(),e._removeHandlers(),e._addHandlers(),"exponential"===e.decimalNotation&&-1!==e.value.toLowerCase().indexOf("e")){var n=e._exponentialToDecimal(e.value),o=n.realPart,r=n.imaginaryPart,a=o+" "+(r<0?"-":"+")+" "+Math.abs(r)+"i";e._currentNumber={value:a,realPart:o,imaginaryPart:r}}else e._currentNumber={value:e.value,realPart:e._getReal(e.value),imaginaryPart:e._getImaginary(e.value)};"default"===e.decimalNotation?e.element.value=e.value:e._setNotation(),e._refreshPlaceHolder()},refresh:function(e){!0!==e&&this.render()},destroy:function(){var e=this;e._removeHandlers(),e.host.destroy()},val:function(t){var n=this;if("string"!=typeof t&&("object"!=typeof t||!1!==e.isEmptyObject(t)))return n.element.value;var o,r;if("string"==typeof t)if(-1===(t=t.toLowerCase()).indexOf("e"))o=n._getReal(t),r=n._getImaginary(t);else{var a=n._exponentialToDecimal(t);o=1*a.realPart,r=1*a.imaginaryPart}else"object"==typeof t&&!1===e.isEmptyObject(t)&&(o=t.real,r=t.imaginary);var s=o+" "+(r>=0?"+":"-")+" "+Math.abs(r)+"i";s!==n._currentNumber.value&&(n.element.value=s,n._onChange(n.value),"default"!==n.decimalNotation&&n._setNotation())},getReal:function(){return this._currentNumber.realPart},_getReal:function(t){function n(t){return o=o.slice(0,t),o=e.trim(o),parseFloat(r+""+o)}(!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value);var o=e.trim(t),r="";if(0===(t.match(/i/g)||[]).length)return parseFloat(o);"+"===t.charAt(0)?o=o.slice(1,t.length):"-"===t.charAt(0)&&(o=o.slice(1,t.length),r="-");var a=o.indexOf("+");if(-1!==a)return n(a);var s=o.indexOf("-");return-1!==s?n(s):0},getImaginary:function(){return this._currentNumber.imaginaryPart},_getImaginary:function(t){function n(t,n){return o=o.slice(t+1,o.indexOf("i")),""===(o=e.trim(o))&&(o=1),parseFloat(n+""+o)}if((!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value),0===(t.match(/i/g)||[]).length)return 0;var o=e.trim(t),r="";"-"!==o.charAt(0)&&"+"!==o.charAt(0)||(r="-"===o.charAt(0)?"-":"+",o=e.trim(o.slice(1,t.length)));var a=o.indexOf("+");if(-1!==a)return n(a,"+");var s=o.indexOf("-");return-1!==s?n(s,"-"):""==(o=r+""+o.slice(0,o.indexOf("i")))||"+"===o?1:"-"===o?-1:parseFloat(o)},getDecimalNotation:function(e,t){var n=this;"real"===e?e=n._currentNumber.realPart:"imaginary"===e&&(e=n._currentNumber.imaginaryPart);var o=e.toExponential();return"scientific"===t?function(e){var t=e.indexOf("e"),o=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","Ã10"),r+=n._toSuperScript(o),r=r.replace("+","")}(o):"engineering"===t?function(e){var t=e.indexOf("e"),o=e.slice(t+1),r=e.slice(0,t),a=parseInt(o,10)%3;r*=Math.pow(10,a);var s=e.slice(0,t).length-a-2;return s>=0&&(r=r.toFixed(s)),r+"Ã10"+n._toSuperScript((parseInt(o,10)-a).toString())}(o):o},propertyChangedHandler:function(t,n,o,r){if(r!==o)switch(n){case"template":t.template&&(t._upbutton.removeClass(that.toThemeProperty("jqx-"+o)),t._downbutton.removeClass(that.toThemeProperty("jqx-"+o)),t._upbutton.addClass(that.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(that.toThemeProperty("jqx-"+t.template)));break;case"width":case"height":t._setSize();break;case"decimalNotation":"default"===r?t.element.value=t._currentNumber.value:t._setNotation();break;case"value":t.element.value=r,t._onChange(o);break;case"spinButtons":var a=function(){t.host.removeClass(t.toThemeProperty("jqx-rc-all")),!1===t.rtl?(t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r"))):(t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l")))};if(t._spinButtonsContainer){var s=t.host.width(),i=t._spinButtonsContainer.outerWidth();!1===r?(t.host.width(s+i),t._spinButtonsContainer.hide(),t.host.addClass(t.toThemeProperty("jqx-rc-all"))):(t.host.width(s-i),t._spinButtonsContainer.show(),a())}else if(!0===r){var l=e("<div></div>");if(t.baseHost)t.host.after(l),t.render();else{var u=t.element.id;t.host.removeAttr("id"),t.host.wrap('<div id="'+u+'" style="display: inline-block;"></div>');var d=e("#"+u);d.append(l);var p=t.host.data();p.jqxComplexInput.host=d,p.jqxComplexInput.element=d[0],t.baseHost=d,t.baseHost.data(p),t.render()}a()}break;case"placeHolder":t._refreshPlaceHolder(o);break;case"roundedCorners":t._spinButtonsContainer?!0===r?!1===t.rtl?(t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r"))):(t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l"))):!1===t.rtl?(t.host.removeClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-r"))):(t.host.removeClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-l"))):!0===r?t.host.addClass(t.toThemeProperty("jqx-rc-all")):t.host.removeClass(t.toThemeProperty("jqx-rc-all"));break;case"disabled":!0===r?(t.host.attr("disabled",!0),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeAttr("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),t._spinButtonsContainer&&t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":t._spinButtonsContainer&&(!0===r?(t.host.addClass(t.toThemeProperty("jqx-complex-input-child-rtl")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),!0===t.roundedCorners&&(t.host.removeClass(t.toThemeProperty("jqx-rc-l")),t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l")))):(t.host.removeClass(t.toThemeProperty("jqx-complex-input-child-rtl")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),!0===t.roundedCorners&&(t.host.removeClass(t.toThemeProperty("jqx-rc-r")),t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r")))));break;case"theme":e.jqx.utilities.setTheme(o,r,t.host)}},_raiseEvent:function(t,n){void 0===n&&(n={owner:null});var o=this.events[t];n.owner=this;var r=new e.Event(o);return r.owner=this,n.type=this.changeType,this.changeType=null,r.args=n,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_appendSpinButtons:function(){var t=this;t._spinButtonsContainer=e(t.baseHost.children("div")),t._spinButtonsContainer.attr("unselectable","on"),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container")),!1===t.rtl?t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")):t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"));var n='<div unselectable="on" class="'+t.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+t.toThemeProperty("jqx-input-icon")+'"></div></div>';t._upbutton=e(n),t._spinButtonsContainer.append(t._upbutton),t._downbutton=e(n),t._spinButtonsContainer.append(t._downbutton),t._upArrow=t._upbutton.find("div"),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")),t._downArrow=t._downbutton.find("div"),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t._upArrow.add(t._downArrow).attr("unselectable","on"),t.template&&(t._upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(t.toThemeProperty("jqx-"+t.template)))},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-input jqx-complex-input jqx-widget-content")),e.baseHost&&(e.baseHost.addClass(e.toThemeProperty("jqx-widget jqx-complex-input-parent")),e.host.addClass(e.toThemeProperty("jqx-complex-input-child"))),!0===e.roundedCorners&&(e._spinButtonsContainer?!1===e.rtl?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l"))):e.host.addClass(e.toThemeProperty("jqx-rc-all"))),!0===e.disabled&&(e.host.attr("disabled",!0),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled"))),!0===e.rtl&&e.host.add(e._spinButtonsContainer).addClass(e.toThemeProperty("jqx-complex-input-child-rtl"))},_refreshPlaceHolder:function(e){var t=this;"placeholder"in t.element?t.host.attr("placeHolder",t.placeHolder):""!==t.element.value&&t.element.value!==e||(t.element.value=t.placeHolder)},_setSize:function(){function t(){var t=n.baseHost.height(),o=parseInt(n.host.css("border-left-width"),10)+parseInt(n.host.css("border-right-width"),10)+parseInt(n.host.css("padding-left"),10)+parseInt(n.host.css("padding-right"),10),r=0;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(r=o,n.host.height(n.baseHost.height()-2*(parseInt(n.host.css("border-top-width"),10)+parseInt(n.host.css("border-bottom-width"),10)+parseInt(n.host.css("padding-top"),10)+parseInt(n.host.css("padding-bottom"),10)))),n._spinButtonsContainer){var a="string"==typeof n.width&&"%"===n.width.charAt(n.width.length-1)?1:0;n.host.width(n.baseHost.width()-o-n._spinButtonsContainer.outerWidth()-r-a),e.jqx.browser.msie&&e.jqx.browser.version<8&&n._spinButtonsContainer.height(t-2*(parseInt(n._spinButtonsContainer.css("border-top-width"),10)+parseInt(n._spinButtonsContainer.css("border-bottom-width"),10)+parseInt(n._spinButtonsContainer.css("padding-top"),10)+parseInt(n._spinButtonsContainer.css("padding-bottom"),10)))}else n.host.width(n.baseHost.width()-o-r)}var n=this;n.baseHost?(n.baseHost.width(n.width),n.baseHost.height(n.height),t()):(n.host.width(n.width),n.host.height(n.height)),e.jqx.browser.msie&&e.jqx.browser.version<9&&n.host.css("line-height",n.host.height()+"px");var o=n.baseHost||n.host;e.jqx.utilities.resize(o,function(){t(),(e.jqx.browser.msie&&e.jqx.browser.version<9||!e.jqx.browser.msie)&&"string"==typeof n.height&&"%"===n.height.charAt(n.height.length-1)&&n.host.css("line-height",n.host.height()+"px")})},_addHandlers:function(){var t,n=this;t=n.baseHost?n.baseHost[0].id:n.element.id;var o=[8,9,13,32,35,36,37,38,39,40,46];if(n.addHandler(n.host,"focus.jqxComplexInput"+t,function(){if(n.host.addClass(n.toThemeProperty("jqx-fill-state-focus")),n._spinButtonsContainer&&n._spinButtonsContainer.addClass(n.toThemeProperty("jqx-fill-state-focus")),"placeholder"in n.element||n.element.value!==n.placeHolder||(n.element.value=""),"default"!==n.decimalNotation){var e=n._getCaretPosition();n.element.value=n._currentNumber.value,n._setCaretPosition(e)}}),n.addHandler(n.host,"blur.jqxComplexInput"+t,function(){n.host.removeClass(n.toThemeProperty("jqx-fill-state-focus")),n._spinButtonsContainer&&n._spinButtonsContainer.removeClass(n.toThemeProperty("jqx-fill-state-focus")),(n.element.value!==n.value||"placeholder"in n.element||!("placeholder"in n.element)&&""===n.element.value)&&n._onChange(n.value),"placeholder"in n.element||""!==n.element.value&&n.element.value!==n.placeHolder||(n.element.value=n.placeHolder),"default"!==n.decimalNotation&&n._setNotation()}),n.addHandler(n.host,"keydown.jqxComplexInput"+t,function(e){var t=e.charCode?e.charCode:e.which;if(n.changeType="keyboard",!0!==e.ctrlKey||67!==t&&86!==t&&88!==t){var r=String.fromCharCode(t);if(t>=96&&t<=105&&(r=(t-96).toString(),t-=48),(!n._firefox&&187===t||n._firefox&&61===t)&&!0===e.shiftKey?r="+":(!n._firefox&&189===t||n._firefox&&173===t)&&!1===e.shiftKey?r="-":190===t&&!1===e.shiftKey&&(r="."),!0!==n._allowedCharacters.test(r))return-1!==o.indexOf(t)&&void 0;if("+"===r||"-"===r){if((n.element.value.match(/-/g)||[]).length+(n.element.value.match(/\+/g)||[]).length>1)return!1}else if("."===r){if((n.element.value.match(/\./g)||[]).length>1)return!1}else if("i"===r.toLowerCase()&&-1!==n.element.value.indexOf(r.toLowerCase()))return!1}}),n.addHandler(n.host,"keypress.jqxComplexInput"+t,function(e){13===(e.charCode?e.charCode:e.which)&&n.element.value!==n.value&&n._onChange(n.value)}),n._spinButtonsContainer){var r=n._upbutton.add(n._downbutton);n.addHandler(n._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+t,function(){n.disabled||""===n.value||null===n.value||(n._upbutton.addClass(n.toThemeProperty("jqx-fill-state-pressed")),n.changeType="mouse",n._incrementOrDecrement(!0))}),n.addHandler(n._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+t,function(){n.disabled||""===n.value||null===n.value||n._upbutton.removeClass(n.toThemeProperty("jqx-fill-state-pressed"))}),n.addHandler(n._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+t,function(){n.disabled||""===n.value||null===n.value||(n._downbutton.addClass(n.toThemeProperty("jqx-fill-state-pressed")),n.changeType="mouse",n._incrementOrDecrement(!1))}),n.addHandler(n._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+t,function(){n.disabled||""===n.value||null===n.value||n._downbutton.removeClass(n.toThemeProperty("jqx-fill-state-pressed"))}),n.addHandler(r,"mouseenter.jqxComplexInputSpinButtons"+t,function(t){if(!n.disabled&&""!==n.value&&null!==n.value){var o=e(t.target);o.hasClass("jqx-icon-arrow-up")||o.children().hasClass("jqx-icon-arrow-up")?(n._upbutton.addClass(n.toThemeProperty("jqx-fill-state-hover")),n._upArrow.addClass(n.toThemeProperty("jqx-icon-arrow-up-hover"))):(n._downbutton.addClass(n.toThemeProperty("jqx-fill-state-hover")),n._downArrow.addClass(n.toThemeProperty("jqx-icon-arrow-down-hover")))}}),n.addHandler(r,"mouseleave.jqxComplexInputSpinButtons"+t,function(t){if(!n.disabled&&""!==n.value&&null!==n.value){var o=e(t.target);o.hasClass("jqx-icon-arrow-up")||o.children().hasClass("jqx-icon-arrow-up")?(n._upbutton.removeClass(n.toThemeProperty("jqx-fill-state-hover")),n._upArrow.removeClass(n.toThemeProperty("jqx-icon-arrow-up-hover"))):(n._downbutton.removeClass(n.toThemeProperty("jqx-fill-state-hover")),n._downArrow.removeClass(n.toThemeProperty("jqx-icon-arrow-down-hover")))}}),n.addHandler(e("body"),"mouseup.jqxComplexInputSpinButtons"+t,function(){n._upbutton.add(n._downbutton).removeClass(n.toThemeProperty("jqx-fill-state-pressed"))})}},_removeHandlers:function(){var t,n=this;if(t=n.baseHost?n.baseHost[0].id:n.element.id,n.removeHandler(n.host,"focus.jqxComplexInput"+t),n.removeHandler(n.host,"blur.jqxComplexInput"+t),n.removeHandler(n.host,"keydown.jqxComplexInput"+t),n.removeHandler(n.host,"keypress.jqxComplexInput"+t),n._spinButtonsContainer){var o=n._upbutton.add(n._downbutton);n.removeHandler(n._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+t),n.removeHandler(n._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+t),n.removeHandler(n._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+t),n.removeHandler(n._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+t),n.removeHandler(o,"mouseenter.jqxComplexInputSpinButtons"+t),n.removeHandler(o,"mouseleave.jqxComplexInputSpinButtons"+t),n.removeHandler(e("body"),"mouseup.jqxComplexInputSpinButtons"+t)}},_onChange:function(t){var n,o,r=this,a=r.element.value.toLowerCase();if(""!==e.trim(a)&&e.trim(a)!==r.placeHolder){if(-1!==a.indexOf("++")||-1!==a.indexOf("+-")){var s=a.indexOf("+");a=a.slice(0,s+1)+""+a.slice(s+2,a.length)}else if(-1!==a.indexOf("--")||-1!==a.indexOf("-+")){var i=a.indexOf("-");a=a.slice(0,i+1)+""+a.slice(i+2,a.length)}if(-1!==a.indexOf("..")){var l=a.indexOf(".");a=a.slice(0,l+1)+""+a.slice(l+2,a.length)}var u=r._getReal(a),d=r._getImaginary(a),p=d>=0?"+":"-";if(n=u,o=d,isNaN(n)||isNaN(o))return void(r.element.value=t);r.element.value=u+" "+p+" "+Math.abs(d)+"i",r.value=r.element.value}else n=0,o=0,r.value="";r.value!==t&&(r._currentNumber={value:r.value,realPart:n,imaginaryPart:o},r._raiseEvent("0",{value:r.value,oldValue:t,realPart:n,imaginaryPart:o}))},_incrementOrDecrement:function(e){function t(t){var n,o,a,s=t.toString(),i=s.indexOf(".");return-1!==i?(o=parseInt(s.slice(0,i),10),a=s.slice(s.indexOf(".")+1),n="."):(o=t,a="",n=""),t=!0===e?o+r.spinButtonsStep:o-r.spinButtonsStep,t=parseFloat(t+""+n+a)}var n,o,r=this,a=r.host.is(":focus"),s=r.element.value,i=r._currentNumber.realPart,l=r._currentNumber.imaginaryPart;a&&(n=r._getCaretPosition()),l>=0?o=s.indexOf("+"):("-"===s.charAt(0)&&(s=s.slice(1,s.length)),o=s.indexOf("-")),void 0===n||n<=o?i=t(i):l=t(l);var u=i+" "+(l>=0?"+":"-")+" "+Math.abs(l)+"i";r.element.value=u,r._onChange(r.value),a?r._setCaretPosition(n):"default"!==r.decimalNotation&&r._setNotation()},_getCaretPosition:function(){var e=this.element;if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),n=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-n}},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},10)},_exponentialToDecimal:function(t){var n=t.indexOf("e")+2,o=t.slice(n),r=o.indexOf("+"),a=o.indexOf("-");n=-1!==r&&(r<a||-1===a)?r:a;var s=o.slice(n),i=t.replace(s,""),l=(s=s.slice(0,s.length-1)).charAt(0);return s=e.trim(s.slice(1)),"-"===l&&(s="-"+s),i=1*parseFloat(i).toFixed(20),s=1*parseFloat(s).toFixed(20),{realPart:i,imaginaryPart:s}},_setNotation:function(){var e=this,t=e.getDecimalNotation(e._currentNumber.realPart,e.decimalNotation),n=e.getDecimalNotation(Math.abs(e._currentNumber.imaginaryPart),e.decimalNotation),o=e._currentNumber.imaginaryPart>=0?"+":"-";e.element.value=t+" "+o+" "+n+"i"},_toSuperScript:function(e,t){for(var n="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",o="",r=0;r<e.length;r++)if(!0===t){var a=n.indexOf(e.charAt(r));o+=-1!==a?"-0123456789"[a]:e[r]}else{var s="-0123456789".indexOf(e.charAt(r));o+=-1!==s?n[s]:e[r]}return o}})}(jqxBaseFramework);

!function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!r.hasOwnProperty(s)&&!r.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+s+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return this===e.jqx._jqxDataTable.prototype?t:(e.extend(!0,this,t),this.that=this,t)},createInstance:function(t){var i=this;if(15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var r=i.host.find("tbody tr"),s=i.host.find("th"),o=new Array;0===s.length&&(s=r[0],r.splice(0,1)),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1));for(var a=[],l=0;l<r.length;l++){for(var n=r[l],d={},h=0;h<s.length;h++){var c=e.trim(e(s[h]).text());if(0===l){var u={name:c};if(i.columns[h]&&i.columns[h].cellsFormat){var g=i.columns[h].cellsFormat.toLowerCase();-1==g.indexOf("p")&&-1==g.indexOf("c")&&-1==g.indexOf("n")&&-1==g.indexOf("f")||(u.type="number"),-1==g.indexOf("d")&&-1==g.indexOf("m")&&-1==g.indexOf("y")&&-1==g.indexOf("h")&&-1==g.indexOf("m")&&-1==g.indexOf("s")&&-1==g.indexOf("t")||(u.type="date")}o.push(u)}var p=e(n).find("td:eq("+h+")");if(o[h].type){var f=i.getvaluebytype(e.trim(p.text()),o[h]);d[c]=f}else d[c]=e.trim(p.text())}a[a.length]=d}i.host.wrap("<div></div>");var m=i.host.parent(),v=i.host.data();v.jqxDataTable.host=m,v.jqxDataTable.element=m[0],i.host.parent()[0].id=i.element.id;try{i.host.parent()[0].style=i.element.style}catch(e){}i.element=m[0],i.host=m,i.host.data(v);var w={dataFields:o,localdata:a,datatype:"array"},y=new e.jqx.dataAdapter(w);i.source=y}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var x=i.source._source.datafields;x&&x.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),r=e(window).height(),s=i.host.width(),o=i.host.height();i._lastHostWidth==s&&i._lastHostHeight==o||i._updatesize(i._lastHostWidth!=s,i._lastHostHeight!=o),i._lastWidth=t,i._lastHeight=r,i._lastHostWidth=s,i._lastHostHeight=o}))},getvaluebytype:function(t,i){var r=t;if(null==t)return t;if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var s=0;s<t.length;s++)t[s]=this.getvaluebytype(t[s],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var o=new Date(t);if("string"==typeof t&&i.format){var a=e.jqx.dataFormat.parsedate(t,i.format);null!=a&&(o=a)}null==(t=("NaN"==o.toString()||"Invalid Date"==o.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):o)&&(t=r)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var r=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(r=!0),r?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,r=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(r(),t+=" jqxscrollbar.js"),this.host.jqxButton||(r(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(r(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var s=[];if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":i.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,r(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||s.dropdownlist?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var r=this,s=r.host.width(),o=r.host.height();r._oldWidth||(r._oldWidth=s),r._oldHeight||(r._oldHeight=o),void 0!=r._resizeTimer&&(clearTimeout(r._resizeTimer),r._resizeTimer=null);var a=function(){r._resizeTimer&&clearTimeout(r._resizeTimer),r.resizingGrid=!0,e.jqx.isHidden(r.host)||(r._updatecolumnwidths(),r.refresh(),r._oldWidth=s,r._oldHeight=o,r.resizingGrid=!1)};a(),r._resizeTimer=setTimeout(function(){var e=r.host.width(),t=r.host.height();r._oldWidth==e&&r._oldHeight==t||a()},300)}},resize:function(e,t){void 0!=e&&(this.width=e),void 0!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=t){for(var r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);for(var s=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],o=this,a=0;a<s.length;a++){var l=s[a];void 0!==t[l]&&(o.gridlocalization[l]=t[l])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),r=this.table?this.table.height():0,s=0,o=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)a=e;else var a=this.host.height();this.columnGroups?a-=this.showHeader?this.columnsheader.height():0:a-=this.showHeader?this.columnsHeight:0,this.filterable&&(a-=this.filter.height()),this.pageable&&(a-=this.pagerHeight,"both"===this.pagerPosition&&(a-=this.pagerHeight)),this.showtoolbar&&(a-=this.toolbarHeight),this.showstatusbar&&(a-=this.statusBarHeight),this.showAggregates&&(a-=this.aggregatesHeight);var l=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(l=!0),!l&&r>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility="inherit",s=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:r-a})):this.vScrollBar[0].style.visibility="hidden",o!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var n=this.table.height();r!=n&&(r=n,!l&&r>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility="inherit",s=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:r-a})))}0==this.scrollBarSize&&(s=0);var d=this.table?this.table.width():0;d>3&&(d-=3);var h=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),c=h+this.host.width()-s;if(d>c&&!t){if(this.hScrollBar[0].style.visibility="inherit",this.hScrollBar.jqxScrollBar({max:d-c}),s=4+parseInt(i),0==i&&(s=0),!l){if(r>a-s+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:h+d-c});var u="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility="inherit",this._updatecolumnwidths(),u&&this.hScrollBar.jqxScrollBar({max:d-c+s+h});var g=this.table?this.table.width():0;g>3&&(g-=3),g!=d&&g<c&&(this.hScrollBar.jqxScrollBar({max:h+g-c}),this.hScrollBar[0].style.visibility="hidden",s=0)}this.vScrollBar.jqxScrollBar({max:r-a+s})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var r=this.filter.find(".filterrow"),s=1;this.filter.find(".filterrow-hidden").length>0&&(s=0),i+=this.filterHeight-1+this.filterHeight*r.length*s}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var r=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==r?r=this._measureElementWidth(this.columns.records[i].text):r)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),r=1;this.filter.find(".filterrow-hidden").length>0&&(r=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var s=1==r?i.length:0;t+=this.filterHeight*s,e-=this.filterHeight*s}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var t=this.host.width(),i=this.host.height(),r=i;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var s=0;if(this.showtoolbar?(this.toolbar.width(t),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),s+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(t),this.filter.css("top",s);var o=this.filter.find(".filterrow"),a=1;this.filter.find(".filterrow-hidden").length>0&&(a=0),this.filter.height(this.filterHeight-1+this.filterHeight*o.length*a),s+=this.filterHeight,i-=parseInt(this.filterHeight);var l=1==a?o.length:0;s+=this.filterHeight*l,i-=this.filterHeight*l}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(t,this.table.width()):t),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(s)+"px",s+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=s+"px"&&(this.toppager[0].style.top=s+"px");var n=s+("bottom"!=this.pagerPosition?this.pagerHeight:0)+"px";this.content[0].style.top!=n&&(this.content[0].style.top=s+this.pagerHeight+"px")}this._updateScrollbars(r);var d=parseInt(this.scrollBarSize),h=2,c=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(c=d+4),"hidden"!=this.hScrollBar[0].style.visibility&&(h=d+4+2),0==d&&(c=0,h=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(t,this.table.width())+4:t):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var u=this._arrangeAutoHeight(h-2),g=this._arrangeAutoWidth(c+1);if(u||g){t=this.host.width();this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(u){var p=this._measureTopAndHeight();s=p.top,i=p.height}}var f=0;this.pageable&&(f=this.pagerHeight,"top"!=this.pagerPosition&&(h+=this.pagerHeight)),this.showAggregates&&(h+=this.aggregatesHeight,f+=this.aggregatesHeight),this.showstatusbar&&(h+=this.statusBarHeight,f+=this.statusBarHeight),this.hScrollBar[0].style.height!=d+"px"&&(this.hScrollBar[0].style.height=parseInt(d)+"px"),this.hScrollBar[0].style.top==s+i-4-d-f+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=s+i-4-d-f-1+"px",this.hScrollBar[0].style.left="0px");var m=this.hScrollBar[0].style.width,v=!1,w=!1;0==c?m!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",v=!0):m!=t-d-4+"px"&&(this.hScrollBar[0].style.width=t-d-4+"px",v=!0),this.vScrollBar[0].style.width!=d+"px"&&(this.vScrollBar[0].style.width=d+"px",w=!0),this.vScrollBar[0].style.height!=parseInt(i)-h+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-h+"px",w=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(d)-4+"px"&&this.vScrollBar[0].style.top==s+"px"||(this.vScrollBar[0].style.top=s+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(d)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:s}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:d+2}));var y=this.vScrollInstance;y.disabled=this.disabled;var x=this.hScrollInstance;x.disabled=this.disabled,v&&x.refresh(),w&&y.refresh();var b=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(d)+3+"px",e.bottomRight[0].style.height=parseInt(d)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(d)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(b(this),this.content[0].style.width!=t-c+"px"&&(this.content[0].style.width=t-c+"px"),this.content[0].style.height!=i-h+3+"px"&&(this.content[0].style.height=i-h+3+"px"),this.content[0].style.top!=s+"px"&&(this.content[0].style.top=parseInt(s)+"px"),this.rtl&&(this.content.css("left",c),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",c),this.table)){var _=this.table.width();_<t-c&&(this.content.css("left",t-_+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-_+2))}this.showAggregates&&(this.aggregates.css("top",s+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:s+i-4-d-f+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+s+i-d-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),b(this)),this.showstatusbar&&(this.statusbar.css("top",s+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(s)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)var t=e.left,e=e.top;null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,r){if(!0!==this.loadingstate){var s=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var o=this;null==t&&(t={}),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);if(null!=t&&(void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!o.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var a=t._source.sortdirection;if("a"==a||"asc"==a||"ascending"==a||1==a)l=!0;else var l=!1;this.sortdirection=null!=a?{ascending:l,descending:!l}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){o._loading=!1,o.rowsByKey=new Array;var a=o.source._source.datafields;if(o.groups&&o.groups.length>0){var l=Object.prototype.toString,n=o.groups[0];if(Object.prototype.toString="function"==typeof n?n:function(){return this[n]},!o.source.records.sort){var d=new Array,h=0;e.each(data,function(){d[startindex+h++]=this}),data=d}o.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var r=0,s=0;if(t&&t.uid&&(r=t.uid),i&&i.uid&&(s=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof r){if(r<s)return-1;if(r>s)return 1}return 0}),Object.prototype.toString=l}for(var c=0;c<o.source.records.length;c++){var u=o.source.records[c];if(o.rowsByKey[u.uid]=u,u.records&&u.records.length>0){var g=function(e){for(var t=0;t<e.length;t++)e[t]&&(o.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&g(e[t].records))};g(u.records)}if(0===c){var p=!1;if(a)for(w=0;w<a.length;w++)if(a[w]&&!a[w].type){p=!0,a[w].type="string";var f=u[a[w].name];if(void 0==f)continue;if(!0!==f&&!1!==f||(a[w].type="boolean"),null!=f&&f.toString().indexOf(o.gridlocalization.currencysymbol)>-1||f.toString().indexOf(o.gridlocalization.percentsymbol)>-1){var m=f.toString().split(" ").length,v=new Number(o._toNumber(f.toString()));isNaN(v)||1!=m||(a[w].type="number")}(e.jqx.dataFormat.isNumber(f)||!isNaN(parseFloat(f))&&isFinite(f))&&(a[w].type="number"),e.jqx.dataFormat.isDate(f)&&(a[w].type="date")}if(p)for(var w=0;w<a.length;w++){var y=o.source.getvaluebytype(u[a[w].name],a[w]);if(null!=y&&"number"==a[w].type){var x=y;x=new Number(o._toNumber(x.toString())),isNaN(x)||(y=x)}u[a[w].name]=y}}}if("pager"===i||"filter"===i||"sort"===i?o.refresh():o._render(),o.autoShowLoadElement&&!o._loading&&(e(o.dataloadelement).css("visibility","hidden"),e(o.dataloadelement).css("display","none")),o.pageable&&(o.disabled||o.pagernexttop&&(o.pagerfirsttop.jqxButton({disabled:!1}),o.pagerfirstbottom.jqxButton({disabled:!1}),o.pagerlasttop.jqxButton({disabled:!1}),o.pagerlastbottom.jqxButton({disabled:!1}),o.pagernexttop.jqxButton({disabled:!1}),o.pagerprevioustop.jqxButton({disabled:!1}),o.pagershowrowscombotop.jqxDropDownList&&"advanced"==o.pagerMode&&(o.pagershowrowscombotop.jqxDropDownList({disabled:!1}),o.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),o.pagernextbottom.jqxButton({disabled:!1}),o.pagerpreviousbottom.jqxButton({disabled:!1}))),o._updateTouchScrolling(),o._raiseEvent("bindingComplete"),r&&r(),!o.initializedcall){if(o.initializedcall=!0,o.isInitialized=!0,o.ready&&o.ready(),(null!=o.width&&-1!=o.width.toString().indexOf("%")||null!=o.height&&-1!=o.height.toString().indexOf("%"))&&o._updatesize(!0),o._rendercelltexts&&o._rendercelltexts(),o._gridRenderElement){e(o._gridRenderElement).show("slow");var b=6e3+Math.floor(4e3*Math.random()+1),_=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();s[e.camelCase(_)](function(){e(o._gridRenderElement).hide("slow",function(){e(o._gridRenderElement).remove()})},b)}if("hidden"==o.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==o.vScrollBar.css("visibility")&&o.vScrollBar.css("visibility","inherit"),"visible"==o.hScrollBar.css("visibility")&&o.hScrollBar.css("visibility","inherit"),o._intervalTimer=setInterval(function(){"visible"==o.host.css("visibility")&&(o._updatesize(!0),clearInterval(o._intervalTimer))},100)}}},this.dataview.databind(t)}},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=t;args=i,args.owner=this;var s=new e.Event(r);s.owner=this,s.args=args;var o=this.host.trigger(s);return i=s.args,o},ensureColumnVisible:function(e){for(var t=0,i=0,r=0;r<this.columns.records.length;r++){if(this.columns.records[r].datafield==e){t+=this.columns.records[r].width,i=this.columns.records[r].width;break}t+=this.columns.records[r].width}if("hidden"!=this.hScrollBar.css("visibility")){var s=this.hScrollBar.jqxScrollBar("value"),o=s+this.host.width();s>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>o&&this.hScrollBar.jqxScrollBar("setPosition",s+t-o)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var i=this._getuirow(t);if(i){var r=this.vScrollBar.jqxScrollBar("value"),s=this.host.height(),o=0;this.columnGroups?o+=this.showHeader?this.columnsheader.height():0:o+=this.showHeader?this.columnsHeight:0,this.filterable&&(o+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(o+=this.pagerHeight),this.showtoolbar&&(o+=this.toolbarHeight),s-=o,this.pageable&&"top"!==this.pagerPosition&&(s-=this.pagerHeight),this.showstatusbar&&(s-=this.statusBarHeight),this.showAggregates&&(s-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(s-=20);var a=this.host.coord().top+o,l=r,n=s+l,d=i.coord().top+r-a,h=(d=Math.round(d))+i.outerHeight();if(h=Math.round(h),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var c=e(this._table.children()[1]).children().length-1,u=this._getuikey(c),g=this._getuirow(u);if(g&&g[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(d<l){var p=d-i.height();return p<0&&(p=0),this.vScrollBar.jqxScrollBar("setPosition",p)}return h>n?this.vScrollBar.jqxScrollBar("setPosition",4+h-s-r):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var r=t;t=t.toLowerCase();var s=this.getColumn(e);if(null!=s){s[t];s[t]=i,s[r]=i;var o=this.getColumn(e);switch(null!=o&&(o[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){var t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),r=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(i);s.id=e.jqx.utilities.createId(),s.innerHTML=t,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(r+t)},this.content[0].appendChild(s),this._gridRenderElement=s}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),s=e.jqx.mobile.getTouchEventName("touchmove");t.table&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,s+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var r=0;r<this.dataview.filters.length;r++)if(this.dataview.filters[r].datafield===i.displayfield){e(i.filtericon).show();break}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var s=e.jqx.isHidden(e(i.filtericon))?0:16;s+=e.jqx.isHidden(e(i.sortasc))?0:16,s+=e.jqx.isHidden(e(i.sortdesc))?0:16;var o=e(e(e(i.element).children()[0]).children()[0]);this.rtl?s>0?o.css("margin-left",4+s+"px"):o.css("margin-left","4px"):s>0?o.css("margin-right",4+s+"px"):o.css("margin-right","4px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var r=this.host.find("#verticalScrollBar"+this.element.id),s=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var o=this.source.datafields;if(null==o&&this.source._source&&(o=this.source._source.datafields),o)for(var a=0;a<this.columns.length;a++){var l=this.columns[a];if(l&&l.cellsFormat&&l.cellsFormat.length>2)for(var n=0;n<o.length;n++)if(o[n].name==l.datafield&&!o[n].format){o[n].format=l.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var d=this,h=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return h(),!1}),!0!==t&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.filterable?t.filter[0].style.visibility="inherit":t.filter[0].style.visibility="hidden",t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.dataCollection(t.element):t._initializeColumns();var i=!1,r=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0),i?t.element.width=t.width:t.host.width(t.width),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(r=!0),r?t.element.height=t.height:t.host.height(t.height),t._lastHostWidth=t.host.width(),t._lastHostHeight=t.host.height(),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.gridcontent=t.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.gridcontent.remove();var s=t.columnsHeight;s=t._preparecolumnGroups(),t.columnsheader.height(s),t.content.append(t.columnsheader),t.content.append(t.gridcontent),t._rendercolumnheaders(),t.tableheight=null,t.gridcontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.gridcontent.addClass(t.toTP("jqx-grid-content")),t.gridcontent.addClass(t.toTP("jqx-widget-content")),t.gridcontent.append(t.table),t._renderrows(),t.filterable&&t._renderfilter(),t.pageable&&t._initpager(),t._arrange(),t.renderStatusBar&&t.renderStatusBar(t.statusbar),t.rendertoolbar&&t.rendertoolbar(t.toolbar),t.showAggregates&&t._updateaggregates(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._showicons(),t._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),r=(this.pagerHeight-17)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){this.pagerdiv.children().remove(),this.toppager.children().remove();var s=this.pagerRenderer();null!=s&&this.pagerdiv.append(e(s)),this.pager.append(this.pagerdiv),null!=(s=this.pagerRenderer())&&this.toppagerdiv.append(e(s)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",r),this.toppagerdiv.css("top",r);var o=function(r,s){var o=this,a=e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),l=e('<div style="float: right; margin-right: 7px;"></div>'),n=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=e('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=e('<div style="margin-right: 7px; float: right;"></div>'),g=e('<div style="margin-right: 7px; float: right;"></div>'),p=e('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');a.attr("disabled",o.disabled);var f=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(f[0].id="gridpagerlist"+s+o.element.id,o.removeHandler(n,"mousedown"),o.removeHandler(n,"mouseup"),o.removeHandler(n,"click"),o.removeHandler(d,"mousedown"),o.removeHandler(d,"mouseup"),o.removeHandler(d,"click"),o.removeHandler(h,"mousedown"),o.removeHandler(h,"mouseup"),o.removeHandler(h,"click"),o.removeHandler(c,"mousedown"),o.removeHandler(c,"mouseup"),o.removeHandler(c,"click"),o.rtl?(n.attr("title",o.gridlocalization.pagerpreviousbuttonstring),d.attr("title",o.gridlocalization.pagernextbuttonstring)):(d.attr("title",o.gridlocalization.pagerpreviousbuttonstring),n.attr("title",o.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&p.css("padding-top","3px"),this["pagerfirst"+s]=h,this["pagerlast"+s]=c,this["pagernext"+s]=n,this["pagerprevious"+s]=d,this["pagergotoinput"+s]=a,this["pagerdetails"+s]=u,this["pagershowrows"+s]=g,this["pagergotolabel"+s]=l,this["pagershowrowscombo"+s]=f,this["pagerbuttons"+s]=p,"default"==o.pagerMode){o.rtl?(c.attr("title",o.gridlocalization.pagerfirstbuttonstring),h.attr("title",o.gridlocalization.pagerlastbuttonstring)):(h.attr("title",o.gridlocalization.pagerfirstbuttonstring),c.attr("title",o.gridlocalization.pagerlastbuttonstring));var m=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");m.addClass(o.toThemeProperty("jqx-icon-arrow-first")),h.wrapInner(m);var v=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");v.addClass(o.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(v),o.rtl?(r.append(c),r.append(n),r.append(p),r.append(d),r.append(h)):(r.append(h),r.append(d),r.append(p),r.append(n),r.append(c)),c.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme}),h.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme});var w=o.rtl?"right":"left";p.css("float",w),c.css("float",w),h.css("float",w),n.css("float",w),d.css("float",w),u.css("float",o.rtl?"left":"right"),o.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else o.rtl||(r.append(n),r.append(d));n.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme}),d.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme});var y=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");y.addClass(o.toThemeProperty("jqx-icon-arrow-left")),d.wrapInner(y);var x=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(x.addClass(o.toThemeProperty("jqx-icon-arrow-right")),n.wrapInner(x),o.rtl||r.append(u),"default"!=o.pagerMode){o.rtl?(r.append(l),r.append(a),r.append(g),r.append(f),r.append(u),r.append(n),r.append(d)):(r.append(f),r.append(g),r.append(a),r.append(l));var b=o.pageSizeOptions;f.jqxDropDownList({_checkForHiddenParent:!1,rtl:o.rtl,disabled:o.disabled,source:b,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:o.theme});for(var _=0,j=0;j<b.length;j++)this.pageSize>=b[j]&&(_=j);l[0].innerHTML=t,f.jqxDropDownList({selectedIndex:_});var q=a.find("input");q.addClass(o.toThemeProperty("jqx-input")),q.addClass(o.toThemeProperty("jqx-widget-content")),this.rtl&&q.css("direction","rtl");o=this;this.removeHandler(f,"select"),this.addHandler(f,"select",function(e){if(e.args){o.vScrollInstance&&o.vScrollInstance.setPosition(0);var t=e.args.index;o.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),o.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),o.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),o.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=o.dataview.pagenum*o.dataview.pagesize,r=b[t],s=o.pageSize;o.pageSize=parseInt(r),isNaN(o.pageSize)&&(o.pageSize=10),r>=100?(o.pagershowrowscombotop.jqxDropDownList({width:55}),o.pagershowrowscombobottom.jqxDropDownList({width:55})):(o.pagershowrowscombotop.jqxDropDownList({width:44}),o.pagershowrowscombobottom.jqxDropDownList({width:44})),o.dataview.pagesize=o.pageSize;var a=Math.floor(i/o.dataview.pagesize);a===o.dataview.pagenum&&parseInt(r)===parseInt(s)||(o._raiseEvent("pageSizeChanged",{pagenum:a,oldpageSize:s,pageSize:o.dataview.pagesize}),o.goToPage(a)||(o.serverProcessing?o.updateBoundData("pager"):o.refresh()))}}),(a=a.find("input")).addClass(o.toThemeProperty("jqx-grid-pager-input")),a.addClass(o.toThemeProperty("jqx-rc-all")),this.removeHandler(a,"keydown"),this.removeHandler(a,"change"),o.addHandler(a,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=a.val();return t=parseInt(t),isNaN(t)||o.goToPage(t-1),!1}}),o.addHandler(a,"change",function(){var e=a.val();e=parseInt(e),isNaN(e)||o.goToPage(e-1)})}g[0].innerHTML=i,o.addHandler(n,"mouseenter",function(){x.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),o.addHandler(d,"mouseenter",function(){y.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),o.addHandler(n,"mouseleave",function(){x.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),o.addHandler(d,"mouseleave",function(){y.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),o.addHandler(n,"mousedown",function(){x.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),o.addHandler(n,"mouseup",function(){x.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),o.addHandler(d,"mousedown",function(){y.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),o.addHandler(d,"mouseup",function(){y.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===o.pagerMode&&(o.addHandler(c,"mouseenter",function(){v.addClass(o.toThemeProperty("jqx-icon-arrow-last-hover"))}),o.addHandler(h,"mouseenter",function(){m.addClass(o.toThemeProperty("jqx-icon-arrow-first-hover"))}),o.addHandler(c,"mouseleave",function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-hover"))}),o.addHandler(h,"mouseleave",function(){m.removeClass(o.toThemeProperty("jqx-icon-arrow-first-hover"))}),o.addHandler(c,"mousedown",function(){v.addClass(o.toThemeProperty("jqx-icon-arrow-last-selected"))}),o.addHandler(h,"mousedown",function(){m.addClass(o.toThemeProperty("jqx-icon-arrow-first-selected"))}),o.addHandler(c,"mouseup",function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-selected"))}),o.addHandler(h,"mouseup",function(){m.removeClass(o.toThemeProperty("jqx-icon-arrow-first-selected"))})),o.addHandler(e(document),"mouseup.pagerbuttons"+s+this.element.id,function(){x.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected")),y.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected")),v&&(v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-selected")),m.removeClass(o.toThemeProperty("jqx-icon-arrow-first-selected")))}),o.addHandler(n,"click",function(){n.jqxButton("disabled")||(o.rtl?o.goToPrevPage():o.goToNextPage())}),o.addHandler(d,"click",function(){d.jqxButton("disabled")||(o.rtl?o.goToNextPage():o.goToPrevPage())}),"default"===this.pagerMode&&(o.addHandler(h,"click",function(){if(!h.jqxButton("disabled"))if(o.rtl){var e=o.dataview.totalrecords,t=Math.ceil(e/o.pageSize);o.goToPage(t-1)}else o.goToPage(0)}),o.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(o.rtl)o.goToPage(0);else{var e=o.dataview.totalrecords,t=Math.ceil(e/o.pageSize);o.goToPage(t-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),o.call(this,this.pagerdiv,"bottom"),o.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1;if(void 0!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if(null!=t&&void 0!=t||(t=0),-1==t&&(t=0),t<0)return!1;var r=this.dataview.totalrecords,s=this.dataview.pagenum,o=Math.ceil(r/this.pageSize);return t>=o&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=o-1)),this.dataview.pagenum!=t&&(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:s,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0)},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var t=this;if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),r=0,s=function(o,a){for(var l=0;l<a.length;l++)0==t.dataview.filters.length&&(a[l]._visible=!0),!1!==a[l]._visible&&r++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||a[l].records&&(a[l][i.expanded]||a[l][i.leaf])&&!1!==a[l]._visible&&(s(o+1,a[l].records),this.treeGrid&&e(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=o&&r--)};s(0,this.dataview.rows),this.dataview.totalrecords=r}else this.dataview.totalrecords=this.dataview.rows.length;var o=this.dataview.pagenum*this.pageSize,a=(this.dataview.pagenum+1)*this.pageSize;a>=this.dataview.totalrecords&&(a=this.dataview.totalrecords);var l=this.dataview.totalrecords;o++;var n=Math.ceil(l/this.dataview.pagesize);if(n>=1&&n--,n++,"root"==this.pageSizeMode&&((n=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))>=1&&n--,n++,l=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var d=this.pagergotoinputbottom.find("input");d.val(this.dataview.pagenum+1),d.attr("title","1 - "+n),(d=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),d.attr("title","1 - "+n)}}else{var h="",c=this.pagerButtonsCount;0!=c&&c||(c=5);var u=0;for(this.rtl&&(u=c-1);this.rtl&&u>=0||!this.rtl&&u<c;){var g=1+u,p=this.dataview.pagenum/c;g+=Math.floor(p)*c;f=this.toTP("jqx-grid-pager-number");if(f+=" "+this.toTP("jqx-rc-all"),g>n&&!this.rtl)break;if(this.rtl&&g>n)u--;else{if(this.rtl||0==u&&g>c&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+g)+"'>...</a>"),this.dataview.pagenum===g-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===c-1){f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),n>=1+g&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+g)+"'>...</a>")}this.dataview.pagenum===g-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+g+"'>"+g+"</a>"}else if(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+g+"'>"+g+"</a>",u===c-1){f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),n>=1+g&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+g)+"'>...</a>")}if(this.rtl){var f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),0==u&&g>c&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+g)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return;v=this.pagerbuttonsbottom.find("a");this.removeHandler(v,"click"),this.removeHandler(v,"mouseenter"),this.removeHandler(v,"mouseleave");v=this.pagerbuttonstop.find("a");this.removeHandler(v,"click"),this.removeHandler(v,"mouseenter"),this.removeHandler(v,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=h,this.pagerbuttonstop[0].innerHTML=h,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var m=function(){v.click(function(i){if(!t.disabled){var r=e(i.target).attr("data-page");t.goToPage(parseInt(r)-1)}}),v.mouseenter(function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))}),v.mouseleave(function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){v=this.pagerbuttonsbottom.find("a");m()}if("both"===this.pagerPosition||"top"===this.pagerPosition){var v=this.pagerbuttonstop.find("a");m()}}if(0==a&&a<o&&(o=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=l+this.gridlocalization.pagerrangestring+a+"-"+o,this.pagerdetailstop[0].innerHTML=l+this.gridlocalization.pagerrangestring+a+"-"+o):(this.pagerdetailsbottom[0].innerHTML=o+"-"+a+this.gridlocalization.pagerrangestring+l,this.pagerdetailstop[0].innerHTML=o+"-"+a+this.gridlocalization.pagerrangestring+l)),"default"==this.pagerMode){var w=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",w),this.toppagerdiv.css("min-width",w)}o>a&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var r=function(e){for(var i=0;i<t.columnGroups.length;i++){var r=t.columnGroups[i];if(r.name===e)return r}return null},i=0;i<this.columnGroups.length;i++)(d=this.columnGroups[i]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(s=r(d.parentgroup))&&(d.parent=s,s.groups||(s.groups=new Array),-1===s.groups.indexOf(d)&&s.groups.push(d));for(i=0;i<this.columns.records.length;i++)if((d=this.columns.records[i]).columngroup){var s=r(d.columngroup);s&&(s.groups||(s.groups=new Array),d.parent=s,-1===s.groups.indexOf(d)&&s.groups.push(d))}for(var o=0,i=0;i<this.columns.records.length;i++){a=d=this.columns.records[i];for(d.level=0;a.parent;)a=a.parent,d.level++;var a=d,l=d.level;for(o=Math.max(o,d.level);a.parent;)(a=a.parent)&&(a.level=--l)}for(var n=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=n(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t},i=0;i<this.columnGroups.length;i++){var d=this.columnGroups[i],h=n(d);d.columns=h;for(var c=new Array,u=0,g=0;g<h.length;g++)c.push(this.columns.records.indexOf(h[g])),h[g].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(var p=1;p<c.length;p++)if(c[p]!=c[p-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+o,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!r&&(r=!1,e.returnValue=r,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=(i=this.vScrollInstance.value))return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var t="mousedown";this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.filterable||!e(i.target).ischildof(t.filterrow))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||void 0!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){t._updatecolumnwidths(),t.refresh()}),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var r=t.host.coord(),s=t.host.width(),o=t.host.height(),a=!1,l=!1;if((i.pageY<r.top||i.pageY>r.top+o)&&(a=!0,l=!0),(i.pageX<r.left||i.pageX>r.left+s)&&(a=!0,!0),a){var n=t._editors;if(n)for(var d=0;d<n.length;d++){var h=n[d].editor,c=function(t){var r=e(t.children()[0]).data();if(r&&!r.jqxWidget&&(r=t.data()),r||(r=t.data()),r.jqxWidget&&r.jqxWidget.container&&"block"==r.jqxWidget.container[0].style.display){var s=r.jqxWidget,o=s.container.coord().top,n=s.container.coord().top+s.container.height();return!(!l||!(i.pageY<o||i.pageY>n)||(a=!0,s.close(),0))}}(h),u=h.attr("aria-owns");if(u){if(u==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+u)))return!0}else if(u=h.children().attr("aria-owns")){if(u==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+u)))return!0}if(!1===c)return}}a&&t.endroweditbykey(t.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault});var i=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&t._renderhorizontalscroll():t._timer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},5)};var r="mousedown";this.isTouchDevice()&&(r=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(r="mousedown"));var s=function(e,i){for(var r=null,s=t._table.coord(),o=s.top,a=s.left,l=t._table[0].rows,n=0;n<l.length;n++)for(var d=l[n].cells,h=0;h<d.length;h++){var c=d[h],u=c.offsetLeft+a,g=c.offsetTop+o,p=c.offsetWidth,f=c.offsetHeight;if(0!==p&&0!==f){if(!(g<=i&&i<g+f))break;if(u<=e&&e<u+p){r=c;break}}}return r},o=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var r=e[i],s=r.className;s=(s=s.replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),""),r.className=s}};i(e),t._pinnedTable&&e.length>0&&i(t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells)}t.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){o(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))});var a=function(e){if(!t.enableHover)return!0;if(t.hoveredRow=e,!e)return!0;var i=e[0].cells,r=t.rowDetails&&!t.treeGrid&&!t.treeGrid?1:0,s=0;r>0&&t.rtl&&(r=0,s=1);for(a=r;a<i.length-s;a++)(l=i[a]).className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover");if(t._pinnedTable&&t._pinnedTable[0].rows.length)for(var o=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells,a=r;a<o.length-s;a++){var l=o[a];l.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}};t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",function(i){var r=i.pageX,l=i.pageY;if(t.disabled)return!0;if(!t.enableHover)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;var n=s(r,l);if(!n)return!0;var d=e(n).parent();return o(),!(!t.rowDetails||!t.treeGrid||"row-details"!=d.attr("data-role"))||(!(!t.renderedRecords||0!==t.renderedRecords.length)||(null!=t.editKey&&t.editKey===d.attr("data-key")||(a(d),!0)))}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)}),this.addHandler(this.table,r,function(i){i.target;var r=null;if(t.disabled)return!0;if(!(t.touchmode&&i.originalEvent&&i.originalEvent._pageX)){t.table.coord();var o=i.pageX,l=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(o=arguments[1].pageX,l=arguments[1].pageY),t.isTouchDevice()){var n=e.jqx.position(i);o=n.left,l=n.top,(isNaN(o)||isNaN(l))&&(o=(n=e.jqx.position(i.originalEvent)).left,l=n.top)}r=s(o,l);var d=e(r).parent(),h=d.attr("data-key");if(t.rowDetails&&t.treeGrid&&"row-details"==d.attr("data-role"))return!0;var c=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()};if(void 0!==h){var u=e(r).index(),g=t.columns.records[u];if(h==t.editKey){if(!t.editSettings.editSingleCell)return!0;if(t.clickedTD==r)return!0;if(null!=t.editKey&&t.editSettings.saveOnSelectionChange&&!t.endroweditbykey(t.editKey))return!0}else if(null!=t.editKey&&t.editSettings.saveOnSelectionChange&&!t.endroweditbykey(t.editKey))return!0;if(t.clickedTD=r,(w=t.rowinfo[h])&&w.group)return!0;var p=!1;if(w){var f=t.getrowdisplayindex(w.row),m=t.getrowindex(w.row);t._raiseEvent("rowClick",{index:f,boundIndex:m,key:h,row:w.row,originalEvent:i,dataField:g.datafield});var v=(new Date).getTime();t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==h&&v-t.clickTime.getTime()<300&&(t._raiseEvent("rowDoubleClick",{index:f,boundIndex:m,key:h,row:w.row,originalEvent:i,dataField:g.datafield}),p=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,r.className.indexOf("jqx-grid-group")>=0)w.expanded?t.hidedetailsbykey(h):t.showdetailsbykey(h);else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)w.expanded?t.treeGrid.collapseRow(h):t.treeGrid.expandRow(h),a(t._getuirow(h)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){var u=e(r).index(),g=t.columns.records[u];if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==h&&t.editSettings.editOnDoubleClick&&p){t.beginroweditbykey(h,g);return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1;if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(h,"mouse",!1),t._lastSelectedKey=h,t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0;if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var w=t.rowinfo[t._lastSelectedKey];t._doSelection(t._lastSelectedKey,!0,!1);var y=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]").index(),x=d.index();return t._selectRange(x,y),t.selectrowbykey(h,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0}return t._lastSelectedKey=h,t.clickTime=new Date,"custom"===t.selectionMode||(w&&(w.selected?t.unselectrowbykey(h,"mouse",!1):t.selectrowbykey(h,"mouse",!1),c()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!0)}w.checked?t.treeGrid.uncheckRow(h):t.treeGrid.checkRow(h),a(t._getuirow(h)),i.stopPropagation&&i.stopPropagation()}}}})},_updateSelection:function(){var t=this,i=e(t._table.children()[1]).children(),r=t._pinnedTable?e(t._pinnedTable.children()[1]).children():null,s=t.rowDetails&&!t.treeGrid?1:0,o=0;s>0&&t.rtl&&(s=0,o=1);for(var a=0;a<i.length;a++){var l=i[a].cells;if(r)var n=r[a].cells;var d=null;if(i[a].getAttribute&&(d=i[a].getAttribute("data-key")),t.rowinfo[d]&&"none"!==t.selectionMode)if(t.rowinfo[d].selected)for(h=s;h<l.length-o;h++){c=l[h];e(c).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed")),n&&e(n[h]).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed"))}else for(var h=s;h<l.length-o;h++){var c=l[h];if(n)var u=n[h];var g=c.className;g=(g=(g=(g=g.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+t.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+t.theme,""),c.className=g,u&&(u.className=g)}}},_selectRange:function(t,i){var r=e(e(this._table.children()[1]).children()[i]),s=this;if(t>i)for(var o=i,a=r;o<t;){l=(a=a.next()).attr("data-key");s._doSelection(l,!0,!1),o++}else if(t<i)for(var o=i,a=r;o>t;){var l=(a=a.prev()).attr("data-key");this._doSelection(l,!0,!1),o--}},_getuikey:function(t,i){var r=null,s=e(this._table.children()[1]).children();if(r=e(s[t]).attr("data-key"),e(s[t]).attr("data-role")){var o=e(s[t]);if("next"==i){for(;o;)if((o=o.next())&&!(a=o.attr("data-role")))return r=o.attr("data-key")}else if("prev"==i)for(;o;)if(o=o.prev()){var a=o.attr("data-role");if(!a)return r=o.attr("data-key")}return null}return r},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),r=new Array,s=function(r,o){if(o)for(var a=0;a<o.length;a++)if(o[a]&&!1!==o[a]._visible){var l=e.extend({},o[a]);r.push(l),o[a][i.expanded]?(l.records=new Array,s(l.records,o[a].records)):t.dataview.filters.length>0&&(l.records=new Array,s(l.records,o[a].records))}};return s(r,this.dataViewRecords),r},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i=null,r=function(){var i=e(this._table.children()[1]).children(),r=null,s=0;if(this.pageable&&(s-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var o=0,a=0;a<i.length;a++){var l=e(i[a]);if(!(l.children()[0].getAttribute("colspan")>0)){if(o===s+t)return r=l.attr("data-key");o++}}return r}if(this.rowDetails)for(var o=0,a=0;a<i.length;a++){if(o===t+s)return r=e(i[a]).attr("data-key");a%2==1&&o++}else r=e(i[s+t]).attr("data-key");return r};if(null==(i=r.call(this))&&this.pageable){var s=Math.floor(t/this.dataview.pagesize);if(this.dataview.pagenum!=s){var o=this.getRows()[t];if(o&&null!=o.uid)return o.uid;if(isNaN(s))return null;this.goToPage(s),i=r.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var r=e(this._table.children()[1]).children(),s=0;s<r.length;s++){var o=r[s],a=o.getAttribute("data-key");if(t==a)return e(o)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var r=e(this._pinnedTable.children()[1]).children(),s=0;s<r.length;s++){var o=r[s],a=o.getAttribute("data-key");if(t==a)return e(o)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;var r=this.renderedRecords;void 0!=i&&(r=r.slice(i));var s=0;if(this.rowDetails&&!this.treeGrid&&s++,s<this.columns.records.length)var o=this.columns.records[s].datafield;else new Array;var a=new Array;return e.each(r,function(i){var r=this[o];r||(r=""),e.jqx.string.startsWithIgnoreCase(r.toString(),t)&&a.push(this.uid)}),a},_handleKey:function(t){if(this._loading)return!0;if(e(t.target).ischildof(this.filter))return!0;if(e(t.target).ischildof(this.toolbar))return!0;if(e(t.target).ischildof(this.statusbar))return!0;var i=this._names(),r=this,s=t.charCode?t.charCode:t.keyCode?t.keyCode:0,o=this._lastSelectedKey,a=(this.rowinfo[o],this._getuirow(o)),l=t.shiftKey&&"singlerow"!=this.selectionMode,n=t.ctrlKey||t.metaKey;if(a){if(this.handleKeyboardNavigation&&this.handleKeyboardNavigation(s))return!0;if(this.editable&&void 0==this.editKey&&113===s&&this.editSettings.editOnF2&&this.beginroweditbykey(a.attr("data-key")),void 0==this.editKey&&!n&&!l&&this.incrementalSearch&&!(s>=33&&s<=40)){this._searchString||(this._searchString=""),(8==s||46==s)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var d=String.fromCharCode(s),h=!isNaN(parseInt(d));if(s>=65&&s<=97||h||8==s||32==s||46==s){if(t.shiftKey||(d=d.toLocaleLowerCase()),8!=s&&32!=s&&46!=s&&(this._searchString.length>0&&this._searchString.substr(0,1)==d||(this._searchString+=d)),32==s&&(this._searchString+=" "),this._searchTime=new Date,(o=this.getSelection()).length>=1){for(var c=o[0].uid,u=-1,g=0;g<this.renderedRecords.length;g++)if(this.renderedRecords[g].uid==c){u=g;break}if(0==(p=this._getMatches(this._searchString,u)).length||p.length>0&&p[0]==c)p=this._getMatches(this._searchString)}else var p=this._getMatches(this._searchString);if(p.length>0){if((o=this.getSelection()).length>=1){var f=p.indexOf(o[0].uid);if(-1==f)this.clearSelection(!1),this.selectrowbykey(p[0]);else{var m=f+1;m>=p.length&&(m=0),this.clearSelection(!1),this.selectrowbykey(p[m])}}else this.clearSelection(!1),this.selectrowbykey(p[0]);this._lastSearchString=this._searchString}}void 0!=this._searchTimer&&clearTimeout(this._searchTimer),27!=s&&13!=s||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){r._searchString="",r._lastSearchString=""},500)}if(void 0!=this.editKey){if(27===s&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===s&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var v=this.columns.records.indexOf(this.editColumn);if(9==s&&v<this.columns.records.length-1&&!t.shiftKey){for(var w=this.editKey,y=null,g=v+1;g<this.columns.records.length;g++)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){y=this.columns.records[g];break}y&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(w,y))}else if(9==s&&t.shiftKey&&v>0){for(var w=this.editKey,x=null,g=v-1;g>=0;g--)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){x=this.columns.records[g];break}x&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(w,x))}if(9==s){var b=this.rowinfo[this.editKey],u=this.getrowindex(b),a=this._getuirow(this.editKey);if(t.shiftKey||y){if(!x&&t.shiftKey){for(var _=null,g=this.columns.records.length-1;g>=0;g--)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){_=this.columns.records[g];break}if(_){for(;a;)if((a=a.prev())&&!(L=a.attr("data-role"))){q=a.attr("data-key");break}if(q){this.clearSelection(!1),this._lastSelectedKey=q;var b=this.rowsByKey[q],u=this.getrowindex(b),j=this.getrowdisplayindex(b);this._raiseEvent("rowSelect",{key:q,index:j,boundIndex:u,row:this.rowsByKey[q]}),this.endroweditbykey(this.editKey,!1),this._doSelection(q,!0,!0),this.beginroweditbykey(q,_)}}}}else{for(var _=null,g=0;g<this.columns.records.length;g++)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){_=this.columns.records[g];break}if(_){for(;a;)if((a=a.next())&&!(L=a.attr("data-role"))){var q=a.attr("data-key");break}if(q){this.clearSelection(!1),this._lastSelectedKey=q;var b=this.rowsByKey[q],u=this.getrowindex(b),j=this.getrowdisplayindex(b);this._raiseEvent("rowSelect",{key:q,index:j,boundIndex:u,row:this.rowsByKey[q]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(q,!0,!0),this.beginroweditbykey(q,_)):this.beginroweditbykey(this.editKey,_)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var S=String.fromCharCode(s).toLowerCase();if(("c"==S||"x"==S)&&(o=this.getSelection()).length>=1){for(var T="",C=0;C<this.renderedRecords.length;C++)for(var z=this.renderedRecords[C],g=0;g<o.length;g++)if((b=o[g]).uid===z.uid){for(var P=0;P<this.columns.records.length;P++)T+=this.getCellTextByKey(b.uid,this.columns.records[P].displayfield),P<this.columns.records.length-1&&(T+="\t");T+="\r\n";break}if(""!=T&&(T=T.substring(0,T.length-1)),window.clipboardData)window.clipboardData.setData("Text",T);else{var k=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');k.val(T),e("body").append(k),k.select(),setTimeout(function(){document.designMode="off",k.select(),k.remove()},100)}}}if(32===s&&this.treeGrid&&this.treeGrid.checkboxes){if((o=this.getSelection()).length>1){for(g=0;g<o.length;g++){var B=o[g].uid;this.rowinfo[B].checked?this.treeGrid.uncheckRow(B,!1):this.treeGrid.checkRow(B,!1)}return this._renderrows(),!1}if(c=a.attr("data-key"))return this.rowinfo[c].checked?this.treeGrid.uncheckRow(c):this.treeGrid.checkRow(c),!1}var H=a.index(),D=function(t){var i=null,s=e(r._table.children()[1]).children().length-1,o=e(e(r._table.children()[1]).children()[s]),a=o.attr("data-role");if(a){for(;o;)if((o=o.prev())&&!(a=o.attr("data-role"))){i=o.attr("data-key");break}}else i=o.attr("data-key");return"all"==t?{row:o,key:i}:i},I=function(t){var i=null,s=e(e(r._table.children()[1]).children()[0]),o=s.attr("data-role");if(o){for(;s;)if((s=s.next())&&!(o=s.attr("data-role"))){i=s.attr("data-key");break}}else i=s.attr("data-key");return"all"==t?{row:s,key:i}:i},c=null,F=function(){if(n||l||r.clearSelection(!1),33==s||37==s){t=H;(c=r._getuikey(t,"prev"))||(c=I())}else if(34==s||39==s){t=H;(c=r._getuikey(t,"next"))||(c=D())}else 38==s?c=D():40==s&&(c=I());r._lastSelectedKey=c;var e=r.rowsByKey[c],t=r.getrowindex(e),i=r.getrowdisplayindex(e);r._raiseEvent("rowSelect",{key:c,index:i,boundIndex:t,row:r.rowsByKey[c]}),r._doSelection(c,!0,!0),r.host.focus()};if(this.treeGrid&&this.rtl&&(37==s?s=39:39==s&&(s=37)),36==s||n&&38==s)return function(){r.clearSelection(!1);var e=I();l||n?r._selectRange(a.index(),0):r._lastSelectedKey=e,r.selectrowbykey(e,"keyboard")}(),!1;if(35==s||n&&40==s)return function(){r.clearSelection(!1);var e=D("all"),t=e.key;l||n?r._selectRange(a.index(),e.row.index()):r._lastSelectedKey=t,r.selectrowbykey(t,"keyboard")}(),!1;if(33==s||37==s){c=a.attr("data-key");if(this.rowDetails&&37==s&&!this.treeGrid)return this.hidedetailsbykey(c),!1;if(this.treeGrid&&37==s){if(this.rowinfo[c].row&&!this.rowinfo[c].row[i.parent]&&!this.rowinfo[c][i.leaf]&&!this.rowinfo[c].expanded)return!1;if(this.rowinfo[c].expanded&&!this.rowinfo[c][i.leaf])return this.treeGrid.collapseRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row[i.parent]&&(c=this.rowinfo[c].row[i.parent].uid),this.rowinfo[c][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(F):this.goToPrevPage(F),!1;if(this.treeGrid&&this.pageable&&33==s)return this.goToPrevPage(F),!1}else if(34==s||39==s){c=a.attr("data-key");if(this.rowDetails&&39==s&&!this.treeGrid)return this.showdetailsbykey(c),!1;if(this.treeGrid&&39==s){if(this.rowinfo[c][i.leaf])return!1;if(!this.rowinfo[c].expanded)return this.treeGrid.expandRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row.records&&this.rowinfo[c].row.records.length>0)if(this.dataview.filters.length>0){for(var M=this.rowinfo[c].row.records,g=0;g<M.length;g++)if(M[g]._visible){c=M[g].uid;break}}else c=this.rowinfo[c].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(F):this.goToNextPage(F),!1;if(this.treeGrid&&this.pageable&&34==s)return this.goToNextPage(F),!1}else if(38==s){for(;a;)if((a=a.prev())&&!(L=a.attr("data-role"))){c=a.attr("data-key");break}if(this.pageable&&null==c)return this.goToPrevPage(F),!1}else if(40==s){for(;a;)if((a=a.next())&&!(L=a.attr("data-role"))){c=a.attr("data-key");break}if(this.pageable&&null==c)return this.goToNextPage(F),!1}if(null!=c){if(n||l||this.clearSelection(!1),this.rowinfo[c]&&this.rowinfo[c].selected&&(n||l)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=c;var b=this.rowsByKey[c],u=this.getrowindex(b);r._updateSelection();j=this.getrowdisplayindex(b);return this._raiseEvent("rowUnselect",{key:c,index:j,boundIndex:u,row:b}),!1}this._lastSelectedKey=c;var b=this.rowsByKey[c],u=this.getrowindex(b);this._doSelection(c,!0,!1),r._updateSelection();j=this.getrowdisplayindex(b);if(this._raiseEvent("rowSelect",{key:c,index:j,boundIndex:u,row:b}),this.treeGrid)if(37==s){R=null;if((a=this._getuirow(c))&&((L=a.attr("data-role"))||(R=a.attr("data-key"))),this.pageable&&null==R&&this.dataview.pagenum>0)for(;null==this._getuirow(c)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==s){var R=null;if(a=this._getuirow(c)){var L=a.attr("data-role");L||(R=a.attr("data-key"))}this.pageable&&null==R&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var r=document.selection.createRange();if(null==r)return{start:0,end:t.value.length,length:0};var s=e[0].createTextRange(),o=s.duplicate();s.moveToBookmark(r.getBookmark()),o.setEndPoint("EndToStart",s);i=r.text.length;return{start:o.text.length,end:o.text.length+r.text.length,length:i,text:r.text}},_doSelection:function(e,t,i){if(null!=e){"singlerow"===this.selectionMode&&this.clearSelection(!1);var r=this.rowinfo[e];r?(r.selected=t,this.ensurerowvisiblebykey(e)):(this.ensurerowvisiblebykey(e),(r=this.rowinfo[e])?r.selected=t:this.rowinfo[e]={selected:t}),"none"!=this.selectionMode&&!1!==i&&this._renderrows()}else this.clearSelection()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var r=this.rowinfo[i];if(r.selected){r.selected=!1;var s=t.indexOf(r.row),o=this.getrowdisplayindex(r.row);this._raiseEvent("rowUnselect",{key:i,index:o,boundIndex:s,row:r.row})}}}!1!==e&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var r=this.exportSettings.columnsHeader;void 0==r&&(r=!0);var s=this.exportSettings.hiddenColumns;void 0==s&&(s=!1);var o=this.exportSettings.serverURL,a=this.exportSettings.characterSet,l=this.exportSettings.collapsedRecords;void 0==l&&(l=!1);var n=this.exportSettings.fileName;void 0===n&&(n=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var d=this,h=this.getRows();if(1==this.exportSettings.recordsInView&&(h=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)h=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var c=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",h),u=function(t,i){for(var r=0;r<t.length;r++){var s=e.extend({},t[r]);if(i.push(s),s.records&&s.records.length>0)for(var o=u(s.records,new Array),a=0;a<o.length;a++)o[a].leaf,i.push(o[a])}return i},g=u.call(this,c,new Array);h=g}if(0==h.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var p=new Array,f=0;f<this.columns.records.length;f++)!s&&this.columns.records[f].hidden||p.push(e.extend({},this.columns.records[f]));if(this.groups&&this.groups.length>0&&p.length>0)for(var m=this._names(),f=0;f<h.length;f++)h[f][m.leaf]||(d.rtl?h[f][p[p.length-1].displayfield]=h[f].label:h[f][p[0].displayfield]=h[f].label);var v=0;if(this.treeGrid){var w=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(w=this.getView());var m=this._names(),y=function(e){for(var t=0;t<e.length;t++){var i=e[t],r=i[m.expanded]||!i[m.expanded]&&l;v=Math.max(v,1+i[m.level]),i.records&&i.records.length>0&&r&&y(e[t].records)}};if(y(w),"xml"!=i&&"json"!=i){for(var x=p.length,f=0;f<v;f++)(N=new t(this,this)).width=this.indentWidth,N.datafield="Level"+f,N.displayfield="Level"+f,N.align="center",N.cellsalign="center",N.text="",this.rtl?p.splice(x,0,N):p.splice(f,0,N);var b=new Array,_=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),j=function(t){for(var r=0;r<t.length;r++){for(var s=e.extend({},t[r]),o=0;o<s[m.level];o++)s["Level"+o]="";var a=s[m.expanded]||!s[m.expanded]&&l;("xls"==i||"html"==i||"pdf"==i)&&s.records&&s.records.length>0?s["Level"+s[m.level]]=a?"-":"+":s["Level"+s[m.level]]="",s[m.leaf]&&(s["Level"+s[m.level]]="");for(o=s[m.level]+1;o<v;o++)s["Level"+o]="";if(_&&!s[m.leaf]&&(d.rtl?s[p[p.length-v-1].displayfield]=s.label:s[p[v].displayfield]=s.label),s.aggregate)for(var n="xls"==i?"_AG":"",o=v;o<p.length;o++){var h=o;d.rtl&&(h=p.length-o-1),void 0!=s[p[h].displayfield]&&(s[p[h].displayfield]=n+s[p[h].displayfield])}b.push(s),a&&!s[m.leaf]&&j(s.records)}};j(w),h=b}else h=w}var q=void 0!=s&&s,S={},T={},C=this.host.find(".jqx-grid-cell:first"),z=this.host.find(".jqx-grid-cell-alt:first"),P=this.toThemeProperty;C.removeClass(P("jqx-grid-cell-selected")),C.removeClass(P("jqx-fill-state-pressed")),z.removeClass(P("jqx-grid-cell-selected")),z.removeClass(P("jqx-fill-state-pressed")),C.removeClass(P("jqx-grid-cell-hover")),C.removeClass(P("jqx-fill-state-hover")),z.removeClass(P("jqx-grid-cell-hover")),z.removeClass(P("jqx-fill-state-hover"));for(var k="cell",B=1,H="column",D=1,I=[],F=0;F<p.length;F++)if(""!=(N=p[F]).cellclassname)if(N.customCellStyles=new Array,"string"==typeof N.cellclassname)N.customCellStyles.push(N.cellclassname);else for(f=0;f<h.length;f++){var M=f,R=N.cellclassname(M,N.displayfield,h[f][N.displayfield],h[f]);R&&(N.customCellStyles[f]=R)}if(e.each(p,function(t){var s=t;d.treeGrid&&(t>=v?s=p.length-v-1:v>0&&t<v&&(s=0));a=e(d._table[0].rows[0].cells[s]);if(d._table[0].rows.length>1&&0==(o=e(d._table[0].rows[1].cells[s])).length)var o=e(d._table[0].rows[1].cells[0]);if(0==a.length)var a=e(d._table[0].rows[0].cells[0]);var l=this,n=function(e){var t=d.toThemeProperty;if(e.removeClass(t("jqx-cell")),e.removeClass(t("jqx-grid-cell-selected")),e.removeClass(t("jqx-fill-state-pressed")),e.removeClass(t("jqx-grid-cell-hover")),e.removeClass(t("jqx-fill-state-hover")),l.customCellStyles)for(var i in l.customCellStyles)e.removeClass(l.customCellStyles[i])};if(n(a),o&&n(o),null==this.displayfield)return!0;d.showAggregates&&d.getcolumnaggregateddata&&I.push(d.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,h));var c=d._getexportcolumntype(this);!this.exportable||this.hidden&&!q||(S[this.displayfield]={},S[this.displayfield].text=this.text,S[this.displayfield].width=parseInt(this.width),isNaN(S[this.displayfield].width)&&(S[this.displayfield].width=60),S[this.displayfield].width>500&&(S[this.displayfield].width=500),S[this.displayfield].formatString=this.cellsFormat,S[this.displayfield].localization=d.gridlocalization,S[this.displayfield].type=c,S[this.displayfield].cellsAlign=this.cellsalign,S[this.displayfield].hidden=!r,S[this.displayfield].index=s,S[this.displayfield].maxIndex=p.length),k="cell"+B;var u=this.element;if("json"!=i&&"xml"!=i){var g=function(e,t,r,s,o,a,l,n,d){T[e]={index:1+l,maxIndex:p.length},a.rtl&&(T[e].index=p.length-l),"html"!=i&&"xls"!=i&&"pdf"!=i||(t&&(T[e]["font-size"]=t.css("font-size"),T[e]["font-weight"]=t.css("font-weight"),T[e]["font-style"]=t.css("font-style"),T[e]["background-color"]=a._getexportcolor(t.css("background-color")),T[e].color=a._getexportcolor(t.css("color")),T[e]["border-color"]=a._getexportcolor(t.css("border-top-color"))),r?T[e]["text-align"]=o.align:(T[e]["text-align"]=o.cellsalign,T[e].formatString=o.cellsFormat,T[e].dataType=c),"html"!=i&&"pdf"!=i||(T[e]["border-top-width"]="0px",a.rtl?(T[e]["border-left-width"]="1px",T[e]["border-right-width"]="0px",l==p.length-v-1&&r&&(T[e]["border-right-width"]="1px")):(T[e]["border-left-width"]="0px",T[e]["border-right-width"]="1px"),T[e]["border-bottom-width"]="1px",t&&(T[e]["border-top-style"]=t.css("border-top-style"),T[e]["border-left-style"]=t.css("border-left-style"),T[e]["border-right-style"]=t.css("border-right-style"),T[e]["border-bottom-style"]=t.css("border-bottom-style")),r?(0!=l||a.rtl?l==p.length-1&&a.rtl&&(T[e]["border-right-width"]="1px"):T[e]["border-left-width"]="1px",t&&(T[e]["border-top-width"]="1px",T[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=l||a.rtl?l==p.length-1&&a.rtl&&(T[e]["border-right-width"]="1px"):T[e]["border-left-width"]="1px",t&&(T[e].height=t.css("height")),a.treeGrid&&!r&&(T[e].index-1<v?a.rtl?T[e]["border-left-width"]="0px":T[e]["border-right-width"]="0px":T[e].index-1==v&&(a.rtl?T[e]["border-right-width"]="0px":T[e]["border-left-width"]="0px")))),!o.exportable||o.hidden&&!q||(1==n?(S[o.displayfield].customCellStyles||(S[o.displayfield].customCellStyles=new Array),S[o.displayfield].customCellStyles[d]=e):r?S[o.displayfield].style=e:s?S[o.displayfield].cellAltStyle=e:S[o.displayfield].cellStyle=e)};if(g(H="column"+D,u,!0,!1,this,d,t),D++,g(k,a,!1,!1,this,d,t),d.altRows&&g(k="cellalt"+B,o,!1,!0,this,d,t),this.customCellStyles){for(var f in l.customCellStyles)a.removeClass(l.customCellStyles[f]);for(var f in l.customCellStyles)a.addClass(l.customCellStyles[f]),g(k+l.customCellStyles[f],a,!1,!1,this,d,t,!0,f),a.removeClass(l.customCellStyles[f])}B++}}),"json"!=i&&"xml"!=i&&v>0&&this.treeGrid){K=v+1;if(this.rtl&&(K=p.length-v),T["column"+K]){var L=T["column"+K];L.merge=v,L["border-left-width"]="1px";T["cell"+K];for(f=0;f<p.length;f++){K=f+1;if(this.rtl&&(K=p.length-f),T["column"+K].level=f,T["column"+K].maxLevel=v,T["cell"+K].maxLevel=v,(N=p[f]).customCellStyles)for(var A in N.customCellStyles)T["cell"+K+N.customCellStyles[A]]&&(T["cell"+K+N.customCellStyles[A]].maxLevel=v);T["cellalt"+K]&&(T["cellalt"+K].maxLevel=v)}for(f=0;f<v;f++){var K=f+1,O=f;this.rtl&&(K=p.length-f),(E=T["column"+K]).disabled=!0,T["cell"+K].level=O,T["cell"+K].maxLevel=v,T["column"+K].level=O,T["cellalt"+K]&&(T["cellalt"+K].level=O,T["cellalt"+K].maxLevel=v);var N=p[f];if(N.customCellStyles)for(var A in N.customCellStyles)T["cell"+K+N.customCellStyles[A]]&&(T["cell"+K+N.customCellStyles[A]].maxLevel=v,T["cell"+K+N.customCellStyles[A]].level=O);if(("html"==i||"pdf"==i||"xls"==i)&&(E["font-size"]=L["font-size"],E["font-weight"]=L["font-weight"],E["font-style"]=L["font-style"],E["background-color"]=L["background-color"],E.color=L.color,E["border-color"]=L["border-color"],"html"==i||"pdf"==i)){E["border-top-width"]=L["border-top-width"],E["border-left-width"]=L["border-left-width"],this.rtl&&(E["border-right-width"]=L["border-right-width"],0==f&&(E["border-right-width"]="1px")),0!=f||this.rtl?0==f&&this.rtl&&(E["border-left-width"]="0px"):E["border-left-width"]="0px",this.rtl?this.rtl&&(E["border-left-width"]="0px"):E["border-right-width"]="0px",E["border-bottom-width"]="0px";var E=T["cell"+K];this.rtl?this.rtl&&(E["border-left-width"]="0px"):E["border-right-width"]="0px"}}}}if(this.showAggregates){var G=[],W="xls"==i?"_AG":"",V=0;this.rowDetails&&!this.treeGrid&&V++,I.length>0&&(e.each(p,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(G[t]||(G[t]={}),G[t]){var i=d._getaggregatename(this.aggregates[t]),r=d._getaggregatetype(this.aggregates[t]),s=I[e-V];s&&(G[t][this.displayfield]=W+i+": "+s[r])}}),e.each(p,function(e){for(var t=0;t<G.length;t++)void 0==G[t][this.displayfield]&&(G[t][this.displayfield]=W)})),e.each(G,function(){h.push(this)})}var U=this,Y=e.jqx.dataAdapter.ArrayExporter(h,S,T,o,this.treeGrid&&("xml"==i||"json"==i));if(void 0==n){this._renderrows();var X=this.treeGrid&&("xml"==i||"json"==i),Z=Y.exportTo(i,this.treeGrid&&("xml"==i||"json"==i));return this.showAggregates&&e.each(G,function(){h.pop(this)}),setTimeout(function(){U.exporting=!1},50),Z}X=this.treeGrid&&("xml"==i||"json"==i);Y.exportToFile(i,n,o,a,X),this.showAggregates&&e.each(G,function(){h.pop(this)}),this._renderrows(),setTimeout(function(){U.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var r=parseInt(i[0].substring(5)),s=parseInt(i[1]),o=parseInt(i[2]),a=parseInt(i[3].substring(1,4)),l={r:r,g:s,b:o},n=this._rgbToHex(l);return 0==r&&0==s&&0==o&&0==a?"#ffffff":"#"+n}l={r:r=parseInt(i[0].substring(4)),g:s=parseInt(i[1]),b:o=parseInt(i[2].substring(1,4))};return"#"+(n=this._rgbToHex(l))}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i=this,r="string",s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var o="";if(e.each(s,function(){if(this.name==t.displayfield)return this.type&&(o=this.type),!1}),o)return o}if(null!=t){if(void 0==this.dataview.cachedrecords)return r;var a=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return a=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(null!=(a=this.dataview.cachedrecords[0][t.displayfield])&&""==a.toString())return"string"}if(null!=a){if(-1!=t.cellsFormat.indexOf("c"))return"number";if(-1!=t.cellsFormat.indexOf("n"))return"number";if(-1!=t.cellsFormat.indexOf("p"))return"number";if(-1!=t.cellsFormat.indexOf("d"))return"date";if(-1!=t.cellsFormat.indexOf("y"))return"date";if(-1!=t.cellsFormat.indexOf("M"))return"date";if(-1!=t.cellsFormat.indexOf("m"))return"date";if(-1!=t.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof a)r="boolean";else if(e.jqx.dataFormat.isNumber(a))r="number";else{var l=new Date(a);if("NaN"==l.toString()||"Invalid Date"==l.toString())if(e.jqx.dataFormat){if(null!=(l=e.jqx.dataFormat.tryparsedate(a))){if(l&&l.getFullYear()&&1970==l.getFullYear()&&0==l.getMonth()&&1==l.getDate()){var n=new Number(a);return isNaN(n)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}}return r},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,r){var s=this,o=this.rowsByKey[t],a=this.getrowindex(o),l=o;if(null!=l&&l[i]==r)return!1;if(null==l||null!==l[i]||""!==r){var n="";if(null!=l&&l[i]!==r){var d=this.getColumn(i),h="string";if(v=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var c="";e.each(v,function(){if(this.name==d.displayfield)return this.type&&(c=this.type),!1}),c&&(h=c)}if(n=l[i],!d.nullable||null!=r&&""!==r&&d.nullable&&void 0===r.label){if(e.jqx.dataFormat.isNumber(n)||"number"==h||"float"==h||"int"==h||"decimal"==h&&"date"!=h)r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0);else if((e.jqx.dataFormat.isDate(n)||"date"==h)&&""!=r){var u=r;"Invalid Date"!=(u=new Date(u))&&null!=u?r=u:"Invalid Date"==u&&(r=u=new Date)}if(l[i]===r)return}if(s.dataview._filteredData=null,s.dataview._sortData=null,s.dataview._sortHierarchyData=null,l[i]=r,this.treeGrid&&(g=this.treeGrid.getRow(t))&&(g[i]=r),null!=r&&null!=r.label&&(l[(d=this.getColumn(i)).displayfield]=r.label,l[i]=r.value,this.treeGrid)){var g=this.treeGrid.getRow(t);g&&(g[d.displayfield]=r.label,g[i]=r.value)}}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var p=a,f=this.source._source._localdata()[p];this.source.suspendKO=!0;var m=f;if(m[i]&&m[i].subscribe)null!=r&&null!=r.label?(m[d.displayfield](r.label),m[i](r.value)):m[i](r);else{var v=this.source._source.datafields,w=null;if(v&&e.each(v,function(){if(this.name==i)return w=this.map,!1}),null==w)null!=r&&null!=r.label?(m[i]=r.value,m[d.displayfield]=r.label):m[i]=r;else{var y=w.split(this.source.mapChar);if(y.length>0){for(var x=m,b=0;b<y.length-1;b++)x=x[y[b]];x[y[y.length-1]]=r}}this.source._source._localdata.replace(f,e.extend({},m))}this.source.suspendKO=!1}if(this.source.updaterow&&(void 0==sync||1==sync)){try{var _=t;void 0==this.source.updaterow(_,l,function(e){0==e&&this.setCellValue(o,i,n,!0,!1)})&&!0}catch(e){return!1,void this.setCellValue(o,i,n)}}var j=this.getrowdisplayindex(o),d=this.getColumn(i);this._raiseEvent("cellValueChanged",{value:r,oldValue:n,dataField:i,displayField:d.displayfield,key:t,boundIndex:a,index:j,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var r=parseInt(e),s=this._getkey(r);this.setCellValueByKey(s,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),r=this._getkey(i);return this.getCellTextByKey(r,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null;var r=this.getCellValueByKey(t,i),s=this.getColumn(i);return s&&""!=s.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(r)||!isNaN(parseFloat(r))&&isFinite(r))&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsFormat,this.gridlocalization))),r},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),r=this._getkey(i);return this.getCellValueByKey(r,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));this.getrowindex(i);var r=i;return null!=r?r[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),r=this.getColumn(t);this.beginroweditbykey(i,r)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&this.groups.length>0)for(var i=this.getRows(),r=0;r<i.length;r++)if(e.originalRecord){if(i[r].uid==e.originalRecord.uid){t=r;break}}else if(i[r].uid==e.uid){t=r;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(void 0==e)return i;for(var r=t,s=0;s<r.length;s++)if(r[s].uid==e.uid||e.originalRecord&&r[s].uid==e.originalRecord.uid){i=s;break}return i},beginroweditbykey:function(t,i){if(this.beginEdit&&!1===this.beginEdit(t,i))return!1;var r=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(r>0){a=this.rowsByKey[t];if(this.treeGrid)a=this.treeGrid.getRow(t);if(a.level<r)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&void 0!=this.editKey)return!1;if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(t,!0),!1;var s=this.editSettings.editSingleCell;if(!i&&s&&this.columns.records&&this.columns.records.length>0){for(g=0;g<this.columns.records.length&&(!(i=this.columns.records[g]).editable||i.hidden);g++);if(!i)return!1}if(s&&i&&!i.editable)return this.editKey=null,!1;s&&(this.editColumn=i);var o=this,a=this.rowsByKey[t];if(this.treeGrid)a=this.treeGrid.getRow(t);var l=this.getrowindex(a),n=this._getuirow(t),d=this._getpinneduirow(t);this._editors=new Array;var h=!1;if(n)for(var c=n[0].cells,u=0,g=0;g<c.length;g++){var p=this.columns.records[g],f=c[g];if(!p.rowDetailscolumn&&!(p.checkboxcolumn||(p.pinned&&(f=d[0].cells[g]),s&&i&&p.datafield!=i.datafield||(e(f).removeClass(this.toTP("jqx-grid-cell-selected")),e(f).removeClass(this.toTP("jqx-fill-state-pressed")),e(f).removeClass(this.toTP("jqx-grid-cell-hover")),e(f).removeClass(this.toTP("jqx-fill-state-hover")),"none"==p.columntype)))){var m=e(f).outerWidth(),v=e(f).width();0===u&&(u=e(f).outerHeight()-1),e(f).css("padding","0px"),cellContent="<div style='height:"+u+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";j=this.getCellTextByKey(t,p.displayfield);f.innerHTML=cellContent;var w=e(f.firstChild);switch(p.columntype){case"textbox":case"default":var y=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(w);if(this.rtl&&y.css("direction","rtl"),y.addClass(this.toThemeProperty("jqx-input")),y.addClass(this.toThemeProperty("jqx-widget-content")),y.addClass(this.toThemeProperty("jqx-cell-editor")),y[0].onfocus=function(t){setTimeout(function(){if(t)(i=e(t.target).parent().parent().index())>=0&&o.ensureColumnVisible(o.columns.records[i].datafield);else{var i=e(document.activeElement).parent().parent().index();i>=0&&o.ensureColumnVisible(o.columns.records[i].datafield)}o.content&&(o.content[0].scrollTop=0,o.content[0].scrollLeft=0),o.gridcontent&&(o.gridcontent[0].scrollLeft=0,o.gridcontent[0].scrollTop=0)},10)},p.editable){if(!h){h=!0;var x=e.jqx.browser.msie&&e.jqx.browser.version>10;x||y.focus();var b=y;setTimeout(function(){var e=b.val().length;x||b.focus();try{if("selectionStart"in b[0])b[0].setSelectionRange(0,e);else{var t=b[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(e){}},10)}}else y.attr("disabled",!0),y.attr("readOnly",!0),y.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(y.width(v),y.height(u),e.jqx.browser.msie&&e.jqx.browser.version<9&&y.css("line-height",parseInt(u)+"px"),y.css("text-align",p.cellsalign),null===j&&(j=""),void 0==j&&(j=""),y.val(j),p.createeditor){var _=j,j=this.getCellValueByKey(t,p.displayfield);p.createeditor(this.treeGrid?t:l,j,y,_,v,u)}if(this._editors.push({column:p,editor:y}),""!=p.cellsFormat&&(-1==p.cellsFormat.indexOf("p")&&-1==p.cellsFormat.indexOf("c")&&-1==p.cellsFormat.indexOf("n")&&-1==p.cellsFormat.indexOf("f")||y.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),r=parseInt(i);if(isNaN(r))return!0;if(o._selection(y).length>0)return!0;var s="",a=y.val();if(p.cellsFormat.length>1){l=parseInt(p.cellsFormat.substring(1));isNaN(l)&&(l=0)}else var l=0;if(l>0&&-1!=a.indexOf(o.gridlocalization.decimalseparator)&&o._selection(y).start>a.indexOf(o.gridlocalization.decimalseparator))return!0;for(var n=0;n<a.length-l;n++){var d=a.substring(n,n+1);null!=d.match(/^[0-9]+$/)&&(s+=d)}return!(s.length>=11)&&void 0})),p.initeditor){var _=j,j=this.getCellValueByKey(t,p.displayfield);p.initeditor(this.treeGrid?t:l,j,y,_,v,u)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var q=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(w),S=e.trim(p.datafield).split(" ").join("");-1!=S.indexOf(".")&&(S=S.replace(".",""));T=this.editorsCache["templateeditor_"+S];if("custom"==p.columntype)var T=this.editorsCache["customeditor_"+S+"_"+t];var _=j,j=this.getCellValueByKey(t,p.displayfield);T?((y=T).width(m),y.height(u),y.appendTo(q)):((y=e("<div style='border: none;'></div>")).width(m),y.height(u),T=y,null===j&&(j=""),"custom"!=p.columntype?this.editorsCache["templateeditor_"+S]=y:this.editorsCache["customeditor_"+S+"_"+t]=y,y.appendTo(q),p.createeditor&&p.createeditor(this.treeGrid?t:l,j,y,_,m,u)),p.initeditor&&p.initeditor(this.treeGrid?t:l,j,y,_,m,u),this._editors.push({column:p,editor:y})}}}this.editKey=t,this.beginUpdate();var C=this.getrowdisplayindex(a);if(this._raiseEvent("rowBeginEdit",{key:t,index:C,boundIndex:l,row:this.rowsByKey[t]}),s){var z=null,P=null;(a=this.rowsByKey[t])&&(z=a[i.datafield],P=a[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:z,displayValue:P,key:t,index:C,dataField:i.datafield,displayField:i.displayfield,boundIndex:l,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||void 0==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));(e=(e=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)s=(r=r.replace(t,i)).indexOf(t);return r}(e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var r=e.substring(i,i+1);"-"===r&&(t+="-"),"."===r&&(t+="."),null!=r.match(/^[0-9]+$/)&&(t+=r)}return e=t,e=e.replace(/ /g,"")},_geteditorvalue:function(t,i,r,s){var o=new String;if(i){if(!t.geteditorvalue)switch(t.columntype){case"textbox":default:if(o=i.val(),""!=t.cellsFormat){var a="string",l=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(l){var n="";e.each(l,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n&&(a=n)}var d="number"===a||"float"===a||"int"===a||"integer"===a,h="date"===a||"time"===a;if(d||"string"===a&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===o&&t.nullable)return"";o=this._toNumber(o),o=new Number(o),isNaN(o)&&(o="")}if(h||"string"===a&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===o&&t.nullable)return"";var c=o;("Invalid Date"==(o=new Date(o))||null==o||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(o=e.jqx.dataFormat.parsedate(c,t.cellsFormat,this.gridlocalization)),"Invalid Date"!=o&&null!=o||(o=""))}}t.displayfield!=t.datafield&&(o={label:o,value:o})}if(t.geteditorvalue){var u=this.getCellValueByKey(s,t.displayfield);o=t.geteditorvalue(this.treeGrid?s:r,u,i)}}return o},_validateEditors:function(e){for(var t=this,i=!0,r=t.rowsByKey[e],s=t.getrowindex(r),o=t._editors,e=t.editKey,a=t._getuirow(e),l=0;l<o.length;l++){var n=o[l].editor,d=o[l].column,h=t._geteditorvalue(d,n,s,e);if(d.validation){n.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=d.datafield;try{var u=d.validation({value:h,row:e,datafield:d.datafield,displayfield:d.displayfield,column:d},h),g=t.gridlocalization.validationstring;void 0!=u.message&&(g=u.message),("boolean"==typeof u?u:u.result)||(void 0!=u.showmessage&&1!=u.showmessage||t._showvalidationpopup(a,c,g,n),i=!1)}catch(e){t._showvalidationpopup(a,c,t.gridlocalization.validationstring,n),i=!1}}}return i},endroweditbykey:function(t,i){var r=this;if(null!==r.editKey&&(!this.endEdit||!1!==this.endEdit(t))){var s=r.rowsByKey[t],o=r.getrowindex(s),a=r._editors,l=r.editKey;r._getuirow(l);if(!0!==i){var n=!0;if(a&&(n=r._validateEditors(l))){for(var d=e.extend({},s),h=e.extend({},s),c=0;c<a.length;c++){var u=a[c].editor,g=a[c].column,p=r._geteditorvalue(g,u,o,l);p&&void 0!=p.label?(d[g.displayfield]=p.label,d[g.datafield]=p.value):d[g.displayfield]=p}r.updaterowbykey(r.editKey,d,!1,function(){r.dataview._sortHierarchyData=null,r.dataview._sortData=null;for(var i=0;i<a.length;i++){var n=a[i].editor,d=a[i].column,c=r._geteditorvalue(d,n,o,l),u=h[d.displayfield];if(c&&void 0!=c.label?(s[d.displayfield]=c.label,s[d.datafield]=c.value):s[d.displayfield]=c,r.treeGrid){var g=r.treeGrid.getRow(l);g&&(g[d.displayfield]=c)}if(r.editorsCache){var p=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;(t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)&&e.jqxWidget.isOpened&&e.jqxWidget.isOpened()&&e.jqxWidget.close()}},f="customeditor_"+d.displayfield+"_"+t,m="templateeditor_"+d.displayfield;if(r.editorsCache[f]){var v=e(r.editorsCache[f]).data(),w=r.editorsCache[f];!v.jqxWidget&&e(w).children()[0]&&e(e(w).children()[0]).data().jqxWidget&&(v=e(e(w).children()[0]).data()),p(v),r.editorsCache[f].detach()}if(r.editorsCache[m]){r.editorsCache[m].detach();var v=e(r.editorsCache[m]).data(),w=r.editorsCache[m];!v.jqxWidget&&e(w).children()[0]&&e(e(w).children()[0]).data().jqxWidget&&(v=e(e(w).children()[0]).data()),p(v)}}c!=u&&(r.beginUpdate(),r._raiseEvent("cellValueChanged",{value:c,oldValue:u,dataField:d.datafield,displayField:d.displayfield,key:t,index:o,row:s}),r.endUpdate(!1))}})}if(!n)return!1}return r._detachEditors(l),!0}},_detachEditors:function(t){var i=this,r=i.rowsByKey[t],s=i.getrowindex(r);if(i.editorsCache)for(var o in i.editorsCache){var a=e(i.editorsCache[o]).data();if(a&&a.jqxWidget){var l=a.jqxWidget.element.className;(l.indexOf("dropdownlist")>=0||l.indexOf("datetimeinput")>=0||l.indexOf("combobox")>=0||l.indexOf("menu")>=0)&&a.jqxWidget.isOpened&&a.jqxWidget.isOpened()&&a.jqxWidget.close()}e(i.editorsCache[o]).detach()}i.beginUpdate();var n=i.getrowdisplayindex(r);if(i.editSettings.editSingleCell){var d=null,h=null;(r=i.rowsByKey[t])&&(d=r[i.editColumn.datafield],h=r[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:d,displayValue:h,key:t,index:n,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:s,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:n,boundIndex:s,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),setTimeout(function(){i.host.focus()},10)},_showvalidationpopup:function(t,i,r,s){if(void 0==r)var r=this.gridlocalization.validationstring;s.addClass(this.toThemeProperty("jqx-grid-validation-label"));var o=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");o.html(r),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.hide(),a.hide(),o.prependTo(this.table),a.prependTo(this.table);var l=this.hScrollInstance.value,n=parseInt(l),d=this.getColumn(i).uielement;if(t){var h=t;o.css("top",parseInt(h.position().top)+30+"px");var c=parseInt(o.css("top"));a.css("top",c-11),a.removeClass(),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var u=!1;c>=this._table.height()&&(a.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(c=parseInt(h.position().top)-h.outerHeight()-5)<0&&(c=0,a.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=!0),o.css("top",c+"px"),a.css("top",c+o.outerHeight()-9));var g=-n+parseInt(e(d).position().left),p=parseInt(this._table.css("left"));isNaN(p)&&(p=0),0!=p&&(n=0),a.css("left",n+g+30);var f=o.width();f+g>this.host.width()-20&&(g-=f+g-this.host.width()+40),u?o.css("left",n+parseInt(e(d).position().left)-o.outerWidth()):o.css("left",n+g),s.mouseenter(function(){s.hasClass("jqx-grid-validation-label")&&(o.show(),a.show())}),s.mouseleave(function(){o.hide(),a.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:o,validationrow:a}}},addRow:function(t,i,r,s){if(void 0!=i){this._datachanged=!0,void 0==r&&(r="last");var o=!1,a=this.that;if(null==t){var l=this.dataview.filters&&this.dataview.filters.length>0,n=l?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;n=l?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var d=new Array;e.each(i,function(e,t){var r=a.dataview.getid(a.dataview.source.id,i[e],n+e);d.push(r),a.getColumn(a.dataview.source.id)&&(i[e][a.dataview.source.id]=r)}),t=d}else t=this.dataview.getid(this.dataview.source.id,i,n),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,function(e,r){var s=t[e];a.getColumn(a.dataview.source.id)&&(i[e][a.dataview.source.id]=s)}):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t);var h=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,c=function(t,i,r,o){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);var a=t.vScrollInstance.value,l=!1;if(e.isArray(r)?e.each(r,function(e,r){var a=null;null!=i&&null!=i[e]&&(a=i[e]),this.uid=a,t.rowsByKey[a]=this,i==s&&(s=null),l=t.source.addRecord(this,o,s,h)}):(r.uid=i,t.rowsByKey[i]=r,i==s&&(s=null),l=t.source.addRecord(r,o,s,h)),t.groups&&t.groups.length>0){var n=Object.prototype.toString,d=t.groups[0];if(Object.prototype.toString="function"==typeof d?d:function(){return this[d]},!t.source.records.sort){var c=new Array,u=0;e.each(data,function(){c[startindex+u++]=this}),data=c}t.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var r=0,s=0;if(t&&t.uid&&(r=t.uid),i&&i.uid&&(s=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof r){if(r<s)return-1;if(r>s)return 1}return 0}),Object.prototype.toString=n}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,void 0!=t._updating&&0!=t._updating||t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1),t.vScrollInstance.setPosition(a),l};if(this.source.addrow){var u=function(e,s){1!=e&&void 0!=e||(void 0!=s&&(t=s),c(a,t,i,r))};try{void 0==(o=a.treeGrid?this.source.addrow(t,i,r,s,u):this.source.addrow(t,i,r,u))&&(o=!0)}catch(e){o=!1}if(0==o)return!1}else c(this,t,i,r);return o}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(void 0!=t){this._datachanged=!0;var i=!1,r=this.that,s=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var r=!1,s=t.vScrollInstance.value;if(e.isArray(i))e.each(i,function(){var e=this;if(t.rowsByKey[e]){if(r=!0,t.rowinfo[e].selected&&t.unselectrowbykey(e,!1),t.treeGrid)var i=t._names(),s=t.rowsByKey[e][i.parent];if(delete t.rowsByKey[e],t.treeGrid&&t.rowinfo[e]){var o=t.rowinfo[e].row.records,a=function(e){for(var i=0;i<e.length;i++){var r=e[i].uid;delete t.rowsByKey[r],delete t.rowinfo[r],e[i].records&&a(e[i].records)}};o&&(a(o),delete t.rowinfo[e])}t.source.deleteRecord(e),s&&i&&s.records&&0==s.records.length&&(s[i.leaf]=!0,t.rowinfo[s.uid][i.leaf]=!0)}});else{r=!1;if(t.rowsByKey[i]){if(r=!0,t.rowinfo[i]&&t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var o=t._names(),a=t.rowsByKey[i][o.parent];if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var l=t.rowinfo[i].row.records,n=function(e){for(var i=0;i<e.length;i++){var r=e[i].uid;delete t.rowsByKey[r],delete t.rowinfo[r],e[i].records&&n(e[i].records)}};l&&n(l)}delete t.rowinfo[i],t.source.deleteRecord(i),a&&o&&a.records&&0==a.records.length&&(a[o.leaf]=!0,t.rowinfo[a.uid][o.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.vScrollInstance.setPosition(s),r};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&void 0!=e||s(r,t)}),void 0==i&&(i=!0)}catch(e){i=!1}}else i=s(r,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,r,s){if(void 0!=t&&void 0!=i){var o=this.that,a=!1,l=function(t,i,s){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var o=!1;if(e.isArray(i))e.each(i,function(e,i){var r=t.rowsByKey[this],a=function(t,i){r?r[this]=s[e]:o=!1,o=!0};a(),t.treeGrid&&(r=t.treeGrid.getRow(this),a())});else{var a=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=s[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=s[t.columns.records[i].datafield]);o=!0}else o=!1};a(n=t.rowsByKey[i]),t.treeGrid&&a(n=t.treeGrid.getRow(i))}var l=t.vScrollInstance.value;if(void 0!=r&&1!=r||void 0!=t._updating&&0!=t._updating||t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var n=t.rowsByKey[i],d=t.getrowindex(n),h=t.source._source._localdata()[d];t.source.suspendKO=!0,t.source._source._localdata.replace(h,e.extend({},n)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(l),o};if(this.source.updaterow){try{void 0==(a=this.source.updaterow(t,i,function(e){1!=e&&void 0!=e||(l(o,t,i),s&&s(),o._renderrows(!1),o.autoRowHeight&&(o._updateScrollbars(),o._arrange()))}))&&(a=!0)}catch(e){a=!1}}else(a=l(o,t,i))&&s&&s(),o._renderrows(!1),o.autoRowHeight&&(o._updateScrollbars(),o._arrange());return a}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var r=!1!==i;this._doSelection(e,!0,r);var s=this.rowsByKey[e],o=this.getrowindex(s),a=this.getrowdisplayindex(s);this._raiseEvent("rowSelect",{key:e,index:a,boundIndex:o,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t;this._doSelection(e,!1,i);var r=this.rowsByKey[e],s=this.getrowindex(r),o=this.getrowdisplayindex(r);this._raiseEvent("rowUnselect",{key:e,index:o,boundIndex:s,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!0;var r=e(this._table.children()[1]).children("[data-key="+t+"]"),s=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(r){var o=s.children(),a=e(o[0]);if(this.rtl)a=e(o[o.length-1]);this.rtl?(a.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),a.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),a.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(a.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),a.addClass(this.toThemeProperty("jqx-grid-group-expand")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),a.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),r.next().show();var l=s.next();if(l.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(r.next().children().show(),s.next().children().show()),!i.initialized){var n=i.detailsHeight,d=this.initRowDetails(t,i.row,e(e(l).children().children().children()[0]),i);i.details=e(l).children().children().children()[0],i.initialized=!0,!1!==d&&i.detailsHeight==n||(!1===d&&(i.expanded=!1,i.nodetails=!0,l.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var h=this.getrowindex(i.row),c=this.getrowdisplayindex(i.row);this._raiseEvent("rowExpand",{row:i.row,index:c,boundIndex:h,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!1;var r=e(this._table.children()[1]).children("[data-key="+t+"]"),s=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(r){var o=s.children(),a=e(o[0]);if(this.rtl)a=e(o[o.length-1]);this.rtl?(a.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),a.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),a.addClass(this.toThemeProperty("jqx-icon-arrow-left")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(a.addClass(this.toThemeProperty("jqx-grid-group-collapse")),a.removeClass(this.toThemeProperty("jqx-grid-group-expand")),a.addClass(this.toThemeProperty("jqx-icon-arrow-right")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),r.next().hide(),s.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(r.next().children().hide(),s.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var l=this.getrowindex(i.row),n=this.getrowdisplayindex(i.row);this._raiseEvent("rowCollapse",{row:i.row,index:n,boundIndex:l,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,r,s){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var o=0,a=-1,l=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var n=0;n<i+r;n++){if(this.columns.records[n].hidden||(o+=this.columns.records[n].width),o>=e&&-1==a&&(a=n),o>t+e){l=n;break}}return++l>i+r&&(l=i+r),-1==a&&(a=0),{start:a,end:l}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var r=this.columnsrow,s=this.columns.records.length-0,o=this.columns.records,a=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),a&&!this._haspinned)this.table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px";else{if(this._haspinned||void 0==this._haspinned){for(var l=0;l<0+s;l++)if(o[l].pinned){var n=null;if(this.showAggregates&&this.statusbar[0].cells&&(n=this.statusbar[0].cells[l]),this.filterrow&&this.filterrow[0].cells&&(filtercell=this.filterrow[0].cells[l]),this.rtl){var d=r[0].cells[l];d.style.marginLeft=-parseInt(t)+"px",n&&(n.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=-parseInt(t)+"px")}else(d=r[0].cells[l]).style.marginLeft=i+"px",n&&(n.style.marginLeft=i+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=i+"px")}if(this.columnsVirtualization){for(var h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<h;u++){var g=u,p=this.columns.records[g].element[0];this.columns.records[g].pinned||(p.parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0]&&(m=this.filterrow[0].cells[g]).parentNode&&m.parentNode.removeChild(m))}for(u=c;u<this.columns.records.length;u++){var g=u,p=this.columns.records[g].element[0];this.columns.records[g].pinned||(p.parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0]&&(m=this.filterrow[0].cells[g]).parentNode&&m.parentNode.removeChild(m))}for(u=h;u<c;u++){g=u;p=this.columns.records[g].element[0],this.columns.records[g].pinned||(p.parentNode||this.columnsrow[0].appendChild(p),this.filterrow&&this.filterrow[0]&&((m=this.filterrow[0].cells[g]).parentNode||this.filterrow[0].appendChild(m)))}}this._table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){for(var f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1),h=f.start,c=f.end,u=0;u<h;u++){g=u;(p=this.columns.records[g].element[0]).parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0]&&(m=this.filterrow[0].cells[g]).parentNode&&m.parentNode.removeChild(m)}for(u=c;u<this.columns.records.length;u++){g=u;(p=this.columns.records[g].element[0]).parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0]&&(m=this.filterrow[0].cells[g]).parentNode&&m.parentNode.removeChild(m)}for(u=h;u<c;u++){g=u;if((p=this.columns.records[g].element[0]).parentNode||this.columnsrow[0].appendChild(p),this.filterrow&&this.filterrow[0]){var m=this.filterrow[0].cells[g];m.parentNode||this.filterrow[0].appendChild(m)}}}this.table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var v=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(v="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+v+"px"}}},_initializeColumns:function(){var i=this.source.datafields;null==i&&this.source._source&&(i=this.source._source.datafields);var r=!!i&&i.length>0;if(this.columns&&this.columns.records)for(var s=0;s<this.columns.records.length;s++)this._removecolumnhandlers(this.columns.records[s]);var o=this,a=new e.jqx.dataCollection(this.element),l=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode&&((n=new t(o,this)).visibleindex=l++,n.width=o.indentWidth,n.checkboxcolumn=!0,n.editable=!1,n.columntype="checkbox",n.groupable=!1,n.draggable=!1,n.filterable=!1,n.resizable=!1,n.datafield="_checkboxcolumn",a.add(n)),this.rowDetails&&!this.treeGrid){var n=new t(o,this);n.visibleindex=l++,n.width=o.indentWidth,n.editable=!1,n.rowDetailscolumn=!0,n.groupable=!1,n.draggable=!1,n.pinned=!0,n.filterable=!1,n.resizable=!1,n.text="",a.add(n)}var d=new Array;e.each(this.columns,function(e){if(void 0!=o.columns[e]){var i=new t(o,this);if(i.visibleindex=l++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(o._haspinned=!0),null==this.datafield)o.source&&o.source._source&&"array"==o.source._source.datatype&&(r||(o.source._source.datafields?o.source._source.datafields.push({name:e.toString()}):(o.source._source.datafields=new Array,o.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(d[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");d[this.datafield]=!0}a.add(i)}}),this.rtl&&a.records.reverse(),this.columns=a},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],r=e(i).find("input:first"),s=e(i).find(".filterconditions"),o=this.columns.records[t];if(o.filterable){r.val("");var a=this.getcolumntypebydatafield(o),l=new e.jqx.filter;switch(a){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=l.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=l.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=l.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=l.getoperatorsbyfiltertype("stringfilter")}s.length>0&&("stringfilter"===filtertype?s.jqxDropDownList({selectedIndex:2}):s.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(null==e&&(t=null,e=this.sortcolumn),e){var i=this;ascending="a"==t||"asc"==t||"ascending"==t||1==t,i.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},i.sortcolumn=null!=t?e:null,i.source.sort&&(i.dataview.sortfield=e,i.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",i.source.sort&&!this._loading&&i.source.sort(e,t)),i.dataview.sortBy(e,t),i._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){var t=this;if(!this.disabled&&e.sortable&&t.sortable){var i={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},r=null;r=null==i.sortcolumn||i.sortcolumn!=e.displayfield||1!=(r=i.sortdirection.ascending)&&null,t.sortBy(e.displayfield,r)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");i.height(22);var r=i.find("input"),s=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),r.addClass(this.toThemeProperty("jqx-input")),r.addClass(this.toThemeProperty("jqx-rc-l")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-rc-r")),s.addClass(this.toThemeProperty("jqx-input-group-addon")),s.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(r.addClass(this.toThemeProperty("jqx-rtl")),r.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=s;for(var o=new Array,a=0;a<t.columns.records.length;a++)t.columns.records[a].datafield&&t.columns.records[a].filterable&&o.push({label:t.columns.records[a].text,value:t.columns.records[a].displayfield});var l=o.length<10,n=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(n);var d=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(d),d.jqxDropDownList&&d.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:l,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:o,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=d;var h=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var r=t.dataview.filters[i];r.datafield===e&&t.filterinput.val(r.filter.getfilterat(0).filtervalue)}};30!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=h,this.addHandler(d,"select",function(e){var t=e.args.item.value;h(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),n.show(),n.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),n.hide());var c=function(){if(!s.hasClass("jqx-fill-state-disabled")){var i=r.val();if(d.jqxDropDownList)var o=d.jqxDropDownList("getSelectedItem");var a=function(i,r,s){var o=new e.jqx.filter,a=t.getcolumntypebydatafield(i),l=t._getfiltertype(a);if("datefilter"==l)n=o.createfilter(l,r,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==l||"booleanfilter"==l){"numericfilter"==l&&(","==t.gridlocalization.decimalseparator&&r.indexOf(t.gridlocalization.decimalseparator)>=0&&(r=r.replace(t.gridlocalization.decimalseparator,".")),r.indexOf(t.gridlocalization.currencysymbol)>=0&&(r=r.replace(t.gridlocalization.currencysymbol,"")),r.indexOf(t.gridlocalization.percentagesymbol)>=0&&(r=r.replace(t.gridlocalization.percentagesymbol,"")));n=o.createfilter(l,r,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else var n=o.createfilter(l,r,"CONTAINS");return o.operator=s,o.addfilter(0,n),o};if("simple"!==t.filterMode){if(o){var l=o.value,n=a(c=t.getColumn(l),i,"and");i.length>0?(t.removeFilter(l),t.addFilter(l,n),t.applyFilters()):(t.removeFilter(l),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var h=0;h<t.columns.records.length;h++){var c=t.columns.records[h],n=a(c,i,"or");t.addFilter(c.datafield,n)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};if(r.keydown(function(e){if(13===e.keyCode)return c(),e.preventDefault&&e.preventDefault(),!1}),s.click(function(){c()}),this.filterinput=r,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");i.append(u),this.addHandler(u,"click",function(i){var r=function(i){if(t.filterrow)for(var r=0;r<t.filterrow[0].cells.length;r++){var s=t.filterrow[0].cells[r],o=e(s).find("input:first"),a=t.columns.records[r];if(a.filterable){!0===i&&o.val("");for(var l=0;l<t.dataview.filters.length;l++){var n=t.dataview.filters[l];if(n.datafield===a.displayfield){o.val(n.filter.getfilterat(0).filtervalue);break}}}}},s=function(i){if(t.filterrow)for(var r=0;r<t.filterrow[0].cells.length;r++){var s=t.filterrow[0].cells[r],o=e(s).find("input:first"),a=t.columns.records[r];a.hidden?s.style.visibility="hidden":s.style.visibility="inherit",a.filterable&&(s.style.left=parseInt(0)+parseInt(a.uielement[0].style.left)+"px",s.style.width=6+a.width+"px",o[0]&&(o[0].style.width=a.width-6-22+"px"))}};t._updateFilterRow=r,t._arrangeFilterRow=s;var o=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))};return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),o(),r(),t._arrange(),s()):("none"===t.filter.find(".filterrow").css("display")?(o(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),r(),t.filter.find(".filterrow").show(),s()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),h(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1})}var g=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");g.attr("title",t.gridlocalization.filterclearstring),g.addClass(t.toThemeProperty("jqx-icon-close")),i.append(g),g.hide(),t.filtericon=g,g.click(function(){t.clearFilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&("advanced"!=t.filterMode?h(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1);for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,r=(t.filterinput.val(),0);r<t.filterrow[0].cells.length;r++){var s=t.filterrow[0].cells[r],o=e(s).find("input:first"),a=e(s).find(".filterconditions"),l=t.columns.records[r],n="";if(l.filterable){l.displayfield===i&&t.filterinput.val(o.val());var d=t.getcolumntypebydatafield(l),h=new e.jqx.filter;switch(d){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=h.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=h.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=h.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=h.getoperatorsbyfiltertype("stringfilter")}if(0==a.length)n="stringfilter"===filtertype?conditions[2]:conditions[0];else{var c=a.jqxDropDownList("getSelectedItem");n=c?conditions[c.index]:"stringfilter"===filtertype?conditions[2]:conditions[0]}var u=o.val();if(u.length>0||0==u.length&&"NOT_NULL"==n||0==u.length&&"NOT_EMPTY"==n||0==u.length&&"EMPTY"==n||0==u.length&&"NULL"==n){var g=l.displayfield,p=new e.jqx.filter;"numericfilter"==filtertype&&(","==t.gridlocalization.decimalseparator&&u.indexOf(t.gridlocalization.decimalseparator)>=0&&(u=u.replace(t.gridlocalization.decimalseparator,".")),u.indexOf(t.gridlocalization.currencysymbol)>=0&&(u=u.replace(t.gridlocalization.currencysymbol,"")),u.indexOf(t.gridlocalization.percentagesymbol)>=0&&(u=u.replace(t.gridlocalization.percentagesymbol,"")));h=p.createfilter(filtertype,u,n,null,l.cellsFormat,t.gridlocalization);p.addfilter(0,h),t.addFilter(g,p)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)};!function(){var r=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter);t.filterrow=r,r[0].cells=new Array,r.height(24),r.width(t.table.width());var s=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,o=t.filterinput.val();e.each(t.columns.records,function(){var a=this,l=e("<div></div>").appendTo(r);if(l.css("position","absolute"),l.css("left",0+parseInt(a.uielement[0].style.left)),a.pinned&&(l.css("z-index",t.tableZIndex+t.columns.records.length),l.addClass(t.toThemeProperty("jqx-widget-header"))),r[0].cells.push(l[0]),!this.filterable)return!0;var n=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(l);n.keydown(function(e){13===e.keyCode&&i()}),a.displayfield===s&&n.val(o),n.addClass(t.toThemeProperty("jqx-input")),n.addClass(t.toThemeProperty("jqx-rc-all")),n.addClass(t.toThemeProperty("jqx-widget")),n.addClass(t.toThemeProperty("jqx-widget-content"));var d=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(l);d.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),n.focus(function(){t.ensureColumnVisible(a.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(a.displayfield),setTimeout(function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(a.displayfield)},10)}),d.click(function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");i.insertAfter(d),d.remove();var r=t.getcolumntypebydatafield(a),s=t._getfiltersbytype(r);index="string"===r?2:0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:s,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",function(e){n.focus(),setTimeout(function(){n.focus()},10)}),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")}),n[0].style.width=a.width-6-22+"px"}),e("<div style='clear: both;'></div>").appendTo(r)}();var r=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),s=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(r),o=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(r);s.css("left",0),o.css("left",0),s.jqxButton({theme:t.theme}),o.jqxButton({theme:t.theme}),o.click(function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()}),s.click(function(){i()}),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this,r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var s="";if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(s=this.type),!1}),s)return s}return"string"},_getfiltersbytype:function(e){var t=this,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&!1!==t)this.endroweditbykey(this.editKey);if(this.treeGrid)this.treeGrid._renderrows();else if(!this._loading&&!this._updating){this.rendering&&this.rendering();var i=this,r=0;this.table[0].rows=new Array;B=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(B+=" "+this.toTP("jqx-cell-rtl"));var s=this.columns.records.length,o=e.jqx.browser.msie&&e.jqx.browser.version<8;o&&this.host.attr("hideFocus","true");var a=i.groups.length,l=new Array,n=this.source.records;if(n=this.dataview.evaluate(n),this.dataViewRecords=n,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){d=n;if(this.pageable&&this.serverProcessing&&n.length>this.dataview.pagesize)d=n.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else var d=n.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(i.groups&&i.groups.length>0){var h=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;if("root"===this.pageSizeMode){c=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",n,0);i.rootRecordsLength=c.length,c=function(e){for(var t=0,r=new Array,s=0;s<e.length;s++){var o=e[s];if(0==o.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&r.push(o),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return r}(c)}else var c=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,h);var u=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(t.push(r),r.records&&r.records.length>0)for(var s=u(r.records,new Array),o=0;o<s.length;o++)s[o].leaf,t.push(s[o])}return t};d=l=u.call(i,c,new Array),this.rowsByKey=new Array;for(I=0;I<d.length;I++){var g=d[I];this.rowsByKey[g.uid]=g}}l=d;this.renderedRecords=l;var p=l.length,f=this.tableZIndex,m=0,v=0;if(o)for(j=0;j<s;j++){(A=(q=this.columns.records[j]).width)<q.minwidth&&(A=q.minwidth),A>q.maxwidth&&(A=q.maxwidth);k=e('<table><tr><td role="gridcell" style="max-width: '+A+"px; width:"+A+'px;" class="'+B+'"></td></tr></table>');e(document.body).append(k);var w=k.find("td");m=1+parseInt(w.css("padding-left"))+parseInt(w.css("padding-right")),k.remove();break}for(var y=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",x="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+y+"' id='table"+this.element.id+"'><colgroup>",b="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+y+"' id='pinnedtable"+this.element.id+"'><colgroup>",_=0,j=0;j<s;j++){var q=this.columns.records[j];if(q.hidden)_++,0;else{if((A=q.width)<q.minwidth&&(A=q.minwidth),A>q.maxwidth&&(A=q.maxwidth),(A-=m)<0&&(A=0),o){O=A;j==_&&O++,q.rowDetailscolumn?(b+="<col style='max-width: "+(O=O+4)+"px; width: "+O+"px;'>",x+="<col style='max-width: "+O+"px; width: "+O+"px;'>"):(b+="<col style='max-width: "+O+"px; width: "+O+"px;'>",x+="<col style='max-width: "+O+"px; width: "+O+"px;'>")}else b+="<col style='max-width: "+A+"px; width: "+A+"px;'>",x+="<col style='max-width: "+A+"px; width: "+A+"px;'>";v+=A}}x+="</colgroup>",b+="</colgroup>",this._hiddencolumns=!1;var S=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===p){var T='<tr role="row">',C=this.host.height();if(this.pageable&&(C-=this.pagerHeight,"both"===this.pagerPosition&&(C-=this.pagerHeight)),C-=this.columnsHeight,this.filterable){var z=this.filter.find(".filterrow"),P=1;this.filter.find(".filterrow-hidden").length>0&&(P=0),C-=this.filterHeight+this.filterHeight*z.length*P}this.showstatusbar&&(C-=this.statusBarHeight),this.showAggregates&&(C-=this.aggregatesHeight),C<25&&(C=25),"hidden"!=this.hScrollBar[0].style.visibility&&(C-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(C=300);var k='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+C+"px; height: "+C+"px; max-width:"+v+"px; width:"+v+"px;",B=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");k+='" class="'+(B+=" "+this.toTP("jqx-center-align"))+'">',k+=this.gridlocalization.emptydatastring,x+=T+=k+="</td>",b+=T,this.table[0].style.width=v+2+"px",r=v}for(var H=this.getRows(),D=new Array,I=0;I<l.length;I++){te=(g=l[I]).uid;void 0===g.uid&&(g.uid=this.dataview.generatekey());var T='<tr data-key="'+te+'" role="row" id="row'+I+this.element.id+'">',F='<tr data-key="'+te+'" role="row" id="row'+I+this.element.id+'">';if(a>0&&g.level<a)var T='<tr data-role="row-group" data-key="'+te+'" role="row" id="row'+I+this.element.id+'">',F='<tr data-role="row-group" data-key="'+te+'" role="row" id="row'+I+this.element.id+'">';for(var M=0,R=0,j=0;j<s;j++){var L=this.columns.records[j];(L.pinned||this.rtl&&this.columns.records[s-1].pinned)&&(S=!0);var A=L.width;A<L.minwidth&&(A=L.minwidth),A>L.maxwidth&&(A=L.maxwidth),(A-=m)<0&&(A=0);B=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");L.pinned&&(B+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===L.displayfield&&(B+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&I%2!=0&&(B+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(B+=" "+this.toTP("jqx-cell-rtl"));var K="";if(a>0&&g.level<a)if(o)B+=" "+this.toTP("jqx-grid-cell-pinned");else{B+=" "+this.toTP("jqx-grid-cell-pinned"),K+=' colspan="'+s+'"';for(var O=0,N=0;N<s;N++){var E=i.columns.records[N],G=E.width;G<E.minwidth&&(A=E.minwidth),G>E.maxwidth&&(A=E.maxwidth),(G-=m)<0&&(G=0),E.hidden||(O+=G)}A=O}var k='<td role="gridcell" '+K+' style="max-width:'+A+"px; width:"+A+"px;",W='<td role="gridcell" '+K+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+A+"px; width:"+A+"px;";j==s-1&&1==s&&(k+="border-right-color: transparent;",W+="border-right-color: transparent;");var V=!1;a>0&&g.level<a&&(V=!0),V?this.rtl&&(B+=" "+this.toTP("jqx-right-align")):"left"!=L.cellsalign&&("right"===L.cellsalign?B+=" "+this.toTP("jqx-right-align"):B+=" "+this.toTP("jqx-center-align")),this.rowinfo[g.uid]&&(this.rowinfo[g.uid].selected&&!L.rowDetailscolumn&&this.editKey!==g.uid&&"none"!==this.selectionMode&&(B+=" "+this.toTP("jqx-grid-cell-selected"),B+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[g.uid].locked&&(B+=" "+this.toTP("jqx-grid-cell-locked"))),L.hidden?V||(k+="display: none;",W+="display: none;",this._hiddencolumns=!0):(M+=m+A,0==R&&(k+="border-left-width: 0px;",W+="border-left-width: 0px;"),R++),a>0&&o&&V&&j>=a&&(k+="font-size: 1px; border-color: transparent;  color: transparent;",W+="font-size: 1px; border-color: transparent; color: transparent;"),L.pinned&&(k+="pointer-events: auto;",W+="pointer-events: auto;"),!V&&L.rowDetailscolumn&&(this.rowinfo[g.uid]?this.rowinfo[g.uid].nodetails||(this.rowinfo[g.uid].expanded?(this.rtl?B+=" "+this.toTP("jqx-grid-group-expand-rtl"):B+=" "+this.toTP("jqx-grid-group-expand"),B+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(B+=" "+this.toTP("jqx-grid-group-collapse-rtl"),B+=" "+this.toTP("jqx-icon-arrow-left")):(B+=" "+this.toTP("jqx-grid-group-collapse"),B+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(B+=" "+this.toTP("jqx-grid-group-collapse-rtl"),B+=" "+this.toTP("jqx-icon-arrow-left")):(B+=" "+this.toTP("jqx-grid-group-collapse"),B+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!L.autoCellHeight)&&(B+=" "+this.toTP("jqx-grid-cell-nowrap "));var U=i._getcellvalue(L,g),Y=L.cellsFormat;if(a>0&&g.level<a&&(U=g.label,Y=i.getColumn(i.groups[g.level]).cellsFormat),""!=Y&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(U)?U=e.jqx.dataFormat.formatdate(U,Y,i.gridlocalization):(e.jqx.dataFormat.isNumber(U)||!isNaN(parseFloat(U))&&isFinite(U))&&(U=e.jqx.dataFormat.formatnumber(U,Y,i.gridlocalization))),V)this.groupsRenderer&&(U=this.groupsRenderer(U,g,g.level));else{if(""!=L.cellclassname&&L.cellclassname)if("string"==typeof L.cellclassname)B+=" "+L.cellclassname;else{var X=L.cellclassname(I,L.datafield,U,g);X&&(B+=" "+X)}if(""!=L.cellsRenderer&&L.cellsRenderer){if(-1===(Z=H.indexOf(g))&&g.originalRecord)var Z=H.indexOf(g.originalRecord);(U=L.cellsRenderer(Z,L.datafield,U,g))&&(U.indexOf("<jqx-")>=0||U.indexOf(" ng-")>=0)&&D.push({rowKey:g.uid,row:Z,column:L.datafield,value:U,columnIndex:j})}}if(k+='" class="'+B+'">',k+=U,k+="</td>",W+='" class="'+B+'">',W+=U,W+="</td>",L.pinned?(F+=k,T+=k):(T+=k,S&&(F+=W)),a>0&&!o&&g.level<a)break}if(0==r&&(this.table[0].style.width=M+2+"px",r=M),T+="</tr>",F+="</tr>",x+=T,b+=F,this.rowinfo[g.uid]?("group"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].group=V),"row"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].row=g),"details"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].details=null),"detailsHeight"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].detailsHeight=200),"initialized"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].initialized=!1),"expanded"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].expanded=!1)):this.rowinfo[g.uid]={group:V,row:g,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[g.uid].row=g),this.rowDetails){var $=this.rowinfo[g.uid].detailsHeight;if(this.rowinfo[g.uid])if(this.rowinfo[g.uid].expanded)J='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+$+"px; max-height: "+$+"px; height: "+$+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else J='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+$+"px; max-height: "+$+"px; height: "+$+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var J='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+$+"px; max-height: "+$+"px; height: "+$+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';B=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");B+=" "+this.toTP("jqx-details"),B+=" "+this.toTP("jqx-reset"),x+=J+='" class="'+B+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+$+"px; max-height: "+$+"px; height: "+$+'px;"><div data-role="details"></div></div></td></tr>',b+=J}}if(x+="</table>",b+="</table>",S){i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(b+x)}):i.table[0].innerHTML=b+x;var Q=this.table.find("#table"+this.element.id),ee=this.table.find("#pinnedtable"+this.element.id);if(ee.css("float","left"),ee.css("pointer-events","none"),Q.css("float","left"),ee[0].style.position="absolute",Q[0].style.position="relative",Q[0].style.zIndex=f-10,ee[0].style.zIndex=f+10,this._table=Q,this._table[0].style.left="0px",this._pinnedTable=ee,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=r+"px",this._table[0].style.width=r+"px",this.rtl&&r>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-r+parseInt(this.element.style.width)+"px"),this.rowDetails)for(I=0;I<p;I++){var te=(g=l[I]).uid;if(this.rowinfo[te].details){var ie=e(this._table.children()[1]).children("[data-key="+te+"]"),re=e(this._pinnedTable.children()[1]).children("[data-key="+te+"]");if(ie){var se=re.next(),oe=e(e(se).children().children());oe.children().detach(),oe.append(this.rowinfo[g.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(x)}):i.table[0].innerHTML=x;N=this.table.find("#table"+this.element.id);this._table=N,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=r+"px"),0===p&&(this._table[0].style.width=2+r+"px")}if(0===p&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),D&&D.length>0){this._table[0].rows;e.each(D,function(){this.row;var t=this.rowKey,r=(this.column,this.columnIndex),s=i._getuirow(t);if(s){var o=s[0].cells[r];e.jqx.angularCompile&&e.jqx.angularCompile(o,"<div>"+o.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,r){if(!((h=this.getColumn(t)).pinned||h.hidden||h.checkboxcolumn||h.grouped)){var s=this.columns.records.indexOf(h);this.columns.records.splice(s,1),this.columns.records.splice(i,0,h);var o=0,a=this.headerZIndex;this.columnsrow.children().detach();this.toThemeProperty("jqx-grid-cell");" "+this.toThemeProperty("jqx-grid-cell-pinned")," "+this.toThemeProperty("jqx-item");var l=this;if(void 0!=l.filterrow)e(l.filterrow.children()[0]);this.columnsrow[0].cells=[];var n=!1;if(e.each(this.columns.records,function(e,t){var i=this.uielement;l.columnsrow.append(i),l.rtl?i.css("z-index",a++):i.css("z-index",a--);var r=l.rtl?250+a+1:250+a-1;this.pinned&&i.css("z-index",r);var s=this.width;i.css("left",o),l.columnsrow[0].cells[l.columnsrow[0].cells.length]=i[0],this.hidden&&(n=!0),this.hidden&&this.hideable||(o+=s)}),this.groupable){var d=this.groups.length;d>0&&s-d>=0&&(s-=d,i-=d)}this.rowDetails&&s-1>=0&&(s--,i--),"checkbox"==this.selectionMode&&s-1>=0&&(s--,i--);var h=this._columns[s];this._columns.splice(s,1),this._columns.splice(i,0,h),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:h.datafield,oldIndex:s,newIndex:i})}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,r=!1;if(t.columnsReorder){var s="mousemove.reorder"+this.element.id,o="mousedown.reorder"+this.element.id,a="mouseup.reorder"+this.element.id,l=!1;this.isTouchDevice()&&!0!==this.touchmode&&(l=!0,s=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(t.resizing)return!0;if(null!=t.reordercolumn){var o=parseInt(s.pageX),a=parseInt(s.pageY);if(l){var n=t.getTouches(s)[0];void 0!=n&&(o=parseInt(n.pageX),a=parseInt(n.pageY))}var d=t.host.coord(),h=parseInt(d.left),c=parseInt(d.top);void 0!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(o)-parseInt(t.dragmousedownoffset.left),g=parseInt(a)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:u+"px",top:g+"px"}),r=!1,o>=h&&o<=h+t.host.width()&&a>=c&&a<=c+t.host.height()&&(r=!0),i=-1,r){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var p=t.columnsheader.coord(),f=p.top+t.columnsheader.height();if(null!=t.columnsdropline)if(a>=p.top&&a<=f){if(i=t._handlereordercolumnsdroplines(o),t.columnGroups&&-1!=i){var m=0;m+=t._pinnedColumnsLength();var v=i.index;if(v>=m){var w=t.columns.records[v];if(void 0!=w){y=t.columns.records.indexOf(t.getColumn(w.datafield));if(null==w.datafield)var y=t.columns.records.indexOf(t.getcolumnbytext(w.text));var x=e.data(t.reordercolumn[0],"reorderrecord"),b=w;if(t.columns.records.indexOf(t.getColumn(x))<y&&"before"==i.position&&(b=t.columns.records[y-1]),b.columngroup!=t.getColumn(x).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(s.preventDefault&&(s.preventDefault(),s.stopPropagation()),l)return s.preventDefault(),s.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var r=t.host.coord().left,s=t.host.coord().top;t.showtoolbar&&(s+=t.toolbarHeight),t.filter&&(s+=t.filter.height());var o=0;e.each(t.columns.records,function(i){var a=this;if(a.hidden)return t.columnsbounds[t.columnsbounds.length]={top:s,column:a,left:r,width:0,height:2},!0;0==o&&(r=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),o++;var l=2+t.columnsHeight;t.columnshierarchy&&(s=e(a.uielement).coord().top,l=e(a.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:s,column:a,left:r,width:a.width,height:l},r+=a.width})}),this.removeHandler(e(document),a),this.addHandler(e(document),a,function(s){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(s.pageX),parseInt(s.pageY);if(l){var o=t.getTouches(s)[0];parseInt(o.pageX),parseInt(o.pageY)}var a=t.host.coord();parseInt(a.left),parseInt(a.top);if(t.showtoolbar&&t.toolbarHeight,t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var n=e.data(t.reordercolumn[0],"reorderrecord"),d=t.columns.records.indexOf(t.getColumn(n));t.reordercolumn.remove(),t.reordercolumn=null;var h=0;if(h+=t._pinnedColumnsLength(),null!=n){if(r&&-1!=i){var c=i.index;if(c>=h){var u=t.columns.records[c];if(void 0!=u){g=t.columns.records.indexOf(t.getColumn(u.datafield));if(null==u.datafield)var g=t.columns.records.indexOf(t.getcolumnbytext(u.text));if(t.columnGroups){var p=u;if(d<g&&"before"==i.position&&(p=t.columns.records[g-1]),p.columngroup!=t.getColumn(n).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}d<g?"before"==i.position?t.setcolumnindex(n,g-1):t.setcolumnindex(n,g):d>g&&t.setcolumnindex(n,g)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.text==t)return i=this,!1}),i},_handlereordercolumnsdroplines:function(t){var i=this,r=-1,s=i._pinnedColumnsLength(),o=parseInt(i.host.coord().left)+i.host.width(),a="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(a=0),e.each(i.columnsbounds,function(e){if(e>=s){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>o?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",a+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),r={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>o)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",a+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),r={index:e,position:"after"}}}}),r},_createreordercolumn:function(t,i,r){var s=this,o=i;s.reordercolumn&&s.reordercolumn.remove(),s.columnsdropline&&s.columnsdropline.remove(),s.reordercolumn=e("<div></div>");var a=t.clone();s.reordercolumn.css("z-index",999999),a.css("border-width","1px"),a.css("opacity","0.4");var l=e(a.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));l.length>0&&l.css("display","none");var n=e(a.find(".jqx-icon-close"));n.length>0&&n.css("display","none"),s.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.reordercolumn.css("float","left"),s.reordercolumn.css("position","absolute");s.host.coord();a.width(t.width()+16),s.reordercolumn.append(a),s.reordercolumn.height(t.height()),s.reordercolumn.width(a.width()),s.reordercolumn.append(s.reordercolumnicon),e(document.body).append(s.reordercolumn),a.css("margin-left",0),a.css("left",0),a.css("top",0),s.reordercolumn.css("left",o.left+s.dragmousedown.left),s.reordercolumn.css("top",o.top+s.dragmousedown.top),void 0!=r&&r&&(s.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),s.columnsdropline.width(2),s.columnsdropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(s.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var r=this,s=!1;this.isTouchDevice()&&!0!==this.touchmode&&(s=!0);var o="mousedown.drag",a="mousemove.drag";s?(o=e.jqx.mobile.getTouchEventName("touchstart")+".drag",a=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,o,function(i){if(0==t.draggable)return!0;if(r.resizing)return!0;r.__drag=!0;var o=i.pageX,a=i.pageY;if(s){var l=r.getTouches(i)[0];o=l.pageX,a=l.pageY}r.dragmousedown={left:o,top:a};var n=e(i.target).coord();return r.dragmousedownoffset={left:parseInt(o)-parseInt(n.left),top:parseInt(a-n.top)},i.preventDefault&&i.preventDefault(),!0}),this.addHandler(i,a,function(o){if(!t.draggable)return!0;if(void 0==t.datafield)return!0;if(t.pinned)return!0;if(r.resizing)return!0;if(r.dragmousedown){var l=o.pageX,n=o.pageY;if(s){var d=r.getTouches(o)[0];void 0!=d&&(l=d.pageX,n=d.pageY)}if(a={left:l,top:n},!r.columndragstarted&&null==r.reordercolumn){var h=Math.abs(a.left-r.dragmousedown.left),c=Math.abs(a.top-r.dragmousedown.top);(h>3||c>3)&&(r._createreordercolumn(i,a,!0),e(document.body).addClass("jqx-disableselect"),e.data(r.reordercolumn[0],"reorderrecord",t.datafield))}}})},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this;if(this.columnsResize){var i=!1;t.isTouchDevice()&&(i=!0);var r="mousemove.resize"+this.element.id,s="mousedown.resize"+this.element.id,o="mouseup.resize"+this.element.id;if(i)var r=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement;var s=t.host.coord(),o=parseInt(t.resizestartline.coord().left),a=o-t._startcolumnwidth,l=t.resizablecolumn.column.minwidth;l="auto"==l?0:parseInt(l);var n=t.resizablecolumn.column.maxwidth;n="auto"==n?0:parseInt(n);var d=r.pageX;i&&(d=e.jqx.mobile.getTouches(r)[0].pageX),a+=l;var h=n>0?o+n:0,c=0==n||t._startcolumnwidth+d-o<n;if(t.rtl)c=!0;if(c)if(t.rtl){if(d>=s.left&&d<=s.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=s.left&&d>=a&&(0!=h&&r.pageX<h?t.resizeline.css("left",d):0==h&&t.resizeline.css("left",d),i))return!1}if(!i&&null!=t.resizablecolumn)return!1}),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(i){if(null!=t.resizablecolumn&&!t.disabled){var r=t.resizablecolumn.columnelement;if(r.coord().top+r.height()+5<i.pageY)return void(t.resizablecolumn=null);if(r.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var s=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",999999999);var o=function(e){t.rtl?e.css("left",parseInt(s.left)):e.css("left",parseInt(s.left)+t._startcolumnwidth);var i=0;i+=t.showtoolbar?t.toolbarHeight:0,i+=t.showstatusbar?t.statusBarHeight:0,i+=t.showAggregates?t.aggregatesHeight:0,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height());var r=0;t.pageable&&"top"!=t.pagerPosition&&(r=t.pagerHeight);var o="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0;e.css("top",parseInt(s.top)),e.css("z-index",9999999999),t.columnGroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-r-i-o-t.columnGroupslevel*t.columnsHeight):e.height(t.host.height()-r-i-o),e.show("fast")};o(t.resizeline),o(t.resizestartline),t.dragmousedown=null}});var a=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var r=parseInt(t.resizeline.css("left")),s=parseInt(t.resizestartline.css("left")),o=t._startcolumnwidth+r-s;if(t.rtl)o=t._startcolumnwidth-r+s;var a=t._resizecolumn.width;t._resizecolumn.width=o,void 0!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=o/i*100);for(var l=0;l<t._columns.length;l++)if(t._columns[l].datafield===t._resizecolumn.datafield){t._columns[l].width=t._resizecolumn.width;break}t.hScrollBar[0].style.visibility;var n=t._resizecolumn.displayfield;t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:n,oldWidth:a,newWidth:o})}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var l=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(l=document.referrer),l&&-1!=l.indexOf(document.location.host)){var n=function(e){a()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(e){}this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;a()})}},_updatecolumnwidths:function(){var t=this.host.width(),i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,i=t);var r="";if(void 0!=this.columns&&void 0!=this.columns.records){var s=this,o=!1;e.each(this.columns.records,function(e,o){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var o=0;"hidden"==s.vScrollBar[0].style.visibility||s.scrollBarSize;0==s.scrollBarSize&&0,o=parseFloat(this.width)*i/100,void 0!=this._percentagewidth&&(o=parseFloat(this._percentagewidth)*i/100),o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),t-=Math.round(o)}else"auto"==this.width||this._width?r+=this.text:t-=this.width});var a=this.columnsheader.find("#columntable"+this.element.id);if(0!=a.length){var l=0,n=a.find(".jqx-grid-column-header"),d=0;e.each(this.columns.records,function(a,h){var c=e(n[a]),u=!1,g=this.width,p=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(g=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,g=Math.round(g),u=!0),"auto"==this.width||this._width||u)if(u)g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth,this.width=g),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth,this.width=g),parseInt(c[0].style.width)!=g&&(c.width(g),this.width=g);else{var f=Math.floor(t*(this.text.length/r.length));isNaN(f)&&(f=this.minwidth);var m=t*(this.text.length/r.length)-f;(l+=m)>=1&&(l-=1,f++),l>=.5&&a==s.columns.records.length-1&&f++,f<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),f=10+$element.width(),$element.remove()),f<this.minwidth&&(f=this.minwidth),f>this.maxwidth&&(f=this.maxwidth),this._width="auto",this.width=f,c.width(this.width)}else parseInt(c[0].style.width)!=this.width&&c.width(this.width);parseInt(c[0].style.left)!=d&&c.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,p!==this.width&&(o=!0)}),this.columnsheader.width(2+d),a.width(this.columnsheader.width()),this._resizecolumnGroups(),o&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var r=0,s="",o=this.host.width(),a=o,l=new Array,n=new Array;if(e.each(this.columns.records,function(e,i){if(!this.hidden)if("auto"==this.width||this._width)s+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)o-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)o-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0;(i=parseFloat(this.width)*a/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),o-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),o-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):n[n.length]=this}),this.rtl){var d=0;l.reverse();for(h=this.columns.records.length-1;h>=this.columns.records.length-l.length;h--)this.columns.replace(h,l[d++]);for(c=0;c<n.length;c++)this.columns.replace(c,n[c])}else{for(var h=0;h<l.length;h++)this.columns.replace(h,l[h]);for(var c=0;c<n.length;c++)this.columns.replace(l.length+c,n[c])}var u=this.headerZIndex,g=t.columnsHeight,p=function(e,i){var r=t.columnGroupslevel*t.columnsHeight;return r-=i.level*t.columnsHeight},f=0;e.each(this.columns.records,function(l,n){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=p(this.datafield,this),g=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var h=self.rtl?250+u+1:250+u-1,c=t.rtl?u++:u--,m=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+d+'"><div style="height: 100%; width: 100%;"></div></div>');t.rtl&&0===l&&(m[0].style.borderLeftColor="transparent"),t.columnGroups&&(m[0].style.height=g+"px",m[0].style.bottom="0px",this.pinned&&(m[0].style.zIndex=h)),this.uielement=m,this.element=m,""!=this.classname&&this.classname&&m.addClass(this.classname);var v=this.width,w=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(v=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,v=Math.round(v),w=!0),"auto"==this.width||this._width||w)if(w)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),m.width(v),this.width=v;else{var y=Math.floor(o*(this.text.length/s.length)),x=o*(this.text.length/s.length)-y;(f+=x)>=1&&(f-=1,y++),f>=.5&&l==t.columns.records.length-1&&y++,isNaN(y)&&(y=this.minwidth),y<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),y=10+$element.width(),$element.remove()),y<this.minwidth&&(y=this.minwidth),y>this.maxwidth&&(y=this.maxwidth),this._width="auto",this.width=parseInt(y),v=this.width,m.width(this.width)}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),m[0].style.width=parseInt(v)+"px";this.hidden&&m.css("display","none");var b=e(m.children()[0]);i[0].cells[l]=m[0];var _=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);if(null==_&&(_=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(_=e(_)),!0,t.WinJS?MSApp.execUnsafeLocalFunction(function(){b.append(e(_))}):this.renderer?b.append(e(_)):_&&(b[0].innerHTML=_),null!=_){var j=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');b.append(j);var q=j.children();this.sortasc=q[1],this.sortdesc=q[2],this.filtericon=q[0],this.iconscontainer=j,t.rtl&&(j.css("margin-left","0px"),j.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(m),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,m);var S=this;if(t.addHandler(m,"click",function(e){if(S.checkboxcolumn)return!0;t._togglesort&&(t._loading||t._togglesort(S)),e.preventDefault()}),t.columnsResize){var T=!1,C="mousemove";t.isTouchDevice()&&(T=!0,C=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(m,C,function(i){if(!S.resizable)return t.resizablecolumn=null,!0;var r=parseInt(i.pageX),s=5,o=parseInt(m.coord().left);if(t.hasTransform&&(o=e.jqx.utilities.getOffset(m).left),t._handlecolumnsResize){if(T)return r=e.jqx.mobile.getTouches(i)[0].pageX,s=40,r>=o+S.width-s?(t.resizablecolumn={columnelement:m,column:S},m.css("cursor","col-resize")):(m.css("cursor",""),t.resizablecolumn=null),!0;var a=S.width;if(t.rtl&&(a=0),r>=o+a-s){if(r<=o+a+s)return t.resizablecolumn={columnelement:m,column:S},m.css("cursor","col-resize"),!1;m.css("cursor",""),t.resizablecolumn=null}else m.css("cursor",""),r<o+a-s&&(S._animating||S._menuvisible||m.mouseenter()),t.resizablecolumn=null}})}m.css("left",r),this.hidden||(r+=v),S.rendered&&S.rendered(e(b[0].firstChild),S.align,g)&&null!=j&&j.hide()}),r>0?this.columnsheader.width(2+r):this.columnsheader.width(r),this.columnsrow=i,t.columnsheader.append(i),i.width(r),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var r=this.headerZIndex-t+this.columns.records.length,s=this,o=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(o+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var a=this.columnsheader.find("#columntable"+this.element.id);a.find("jqx-grid-columngroup-header").remove();for(var l=0;l<this.columnGroupslevel-1;l++)for(i=0;i<this.columnGroups.length;i++){var n=this.columnGroups[i],d=n.level;if(d===l){var h=d*this.columnsHeight,c=99999;if(n.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=u(r):r.hidden||(t+=r.width,c=Math.min(parseInt(r.element[0].style.left),c))}return t};n.width=u(n),n.left=c;var g=this.columnsHeight,p=r--,f=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+o+'"></div>'),m=e(this._rendercolumnheader(n.text,n.align,this.columnsHeight,this));f.append(m),f[0].style.left=c+"px",0===c&&(f[0].style.borderLeftColor="transparent"),f[0].style.top=h+"px",f[0].style.height=g+"px",f[0].style.width=-1+n.width+"px",a.append(f),n.element=f}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,r=99999;if(t.groups){var s=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=s(o):o.hidden||(t+=o.width,r=Math.min(parseInt(o.element[0].style.left),r))}return t};t.width=s(t),t.left=r;var o=this.columnsHeight,a=t.element;a[0].style.left=r+"px",a[0].style.top=i+"px",a[0].style.height=o+"px",a[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var s=e(t.filtericon);i.removeHandler(s,"mousedown"),i.removeHandler(s,"click"),i.removeHandler(r,"click")}},_calculateaggregate:function(e,t,i,r){if(!e.datafield)return null;var s=e.aggregates;if(s||(s=t),s){for(var o=new Array,a=0;a<s.length;a++)"count"!=s[a]&&(o[o.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){void 0==r&&(r=this.getRows(),this.dataViewRecords&&(r=this.dataViewRecords));var l=r,n=-1;if(this.treeGrid){var d=new Array,h=function(e){for(var t=0;t<e.length;t++)void 0!=e[t]&&(-1==n&&(n=e[t].level),e[t].aggregate||d.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&h(e[t].records))};h(r),r=d}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){for(var c=new Array,a=0;a<r.length;a++)r[a]&&!1!==r[a]._visible&&c.push(r[a]);r=c;for(var u=new Array,a=0;a<l.length;a++)l[a]&&!1!==l[a]._visible&&u.push(l[a]);l=u}if(void 0==i||1==i){g=this.source.getAggregatedData([{name:e.datafield,aggregates:s,formatStrings:o}],this.gridlocalization,r,n);if(this.treeGrid&&(0==(p=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||n>=p)&&g&&(void 0!=g[e.datafield].sum||void 0!=g[e.datafield].avg)){f=this.source.getAggregatedData([{name:e.datafield,aggregates:s,formatStrings:o}],this.gridlocalization,l,n);void 0!=g[e.datafield].sum&&(g[e.datafield].sum=f[e.datafield].sum),void 0!=g[e.datafield].avg&&(g[e.datafield].avg=f[e.datafield].avg)}return g}var g=this.source.getAggregatedData([{name:e.datafield,aggregates:s}],this.gridlocalization,r,n);if(this.treeGrid&&g&&(void 0!=g[e.datafield].sum||void 0!=g[e.datafield].avg)){var p=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(0==p||n>=p){var f=this.source.getAggregatedData([{name:e.datafield,aggregates:s}],this.gridlocalization,l,n);void 0!=g[e.datafield].sum&&(g[e.datafield].sum=f[e.datafield].sum),void 0!=g[e.datafield].avg&&(g[e.datafield].avg=f[e.datafield].avg)}}return g}}return null},getcolumnaggregateddata:function(e,t,i,r){var s=this.getColumn(e);if(!s)return"";var o=void 0!=i&&0!=i&&i;if(null==t)return"";var a=s.aggregates;s.aggregates=null;var l=this._calculateaggregate(s,t,o,r),n={};return l&&(n=l[e],s.aggregates=a),n},_updatecolumnaggregates:function(t,i,r){var s=this;if(i)if(r.children().remove(),r.html(""),t.aggregatesRenderer){if(i){a=t.aggregatesRenderer(i[t.datafield],t,r,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates");r.html(a)}}else e.each(i,function(){var t=this;for(o in t){var i=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),a=o;a=s._getaggregatename(a),i.html(a+":"+t[o]),s.rtl&&i.addClass(s.toThemeProperty("jqx-rtl")),r.append(i)}});else if(r.children().remove(),r.html(""),t.aggregatesRenderer){var o={};t.aggregates&&(o=this.getcolumnaggregateddata(t.datafield,t.aggregates));var a=t.aggregatesRenderer({},t,r,null);r.html(a)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getRows();this.dataViewRecords&&(t=this.dataViewRecords);var i=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var r=0;r<i;r++){var s=e(this.aggregates[0].cells[r]),o=this.columns.records[r],a=this._calculateaggregate(o,null,!0,t);this._updatecolumnaggregates(o,a,s)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var i=0,r=0;r<t;r++){var s=e(this.aggregates[0].cells[r]),o=this.columns.records[r];s&&(s.width(o.width),s[0].style.left=i+"px",o.hidden&&o.hideable?s.css("display","none"):i+=o.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var o=r+10,a=new Array;this.aggregates[0].cells=a;for(var l=0;l<r;l++){var n=this.columns.records[l],d=this._calculateaggregate(n),h=n.width;h<n.minwidth&&(h=n.minwidth),h>n.maxwidth&&(h=n.maxwidth);var c=s;n.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+n.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');t.append(u),u.css("left",i),this.rtl?(u.css("z-index",o++),0==l&&u.css("border-left-width","0px")):u.css("z-index",o--),u.width(h),u[0].style.left=i+"px",n.hidden&&n.hideable?u.css("display","none"):i+=h,a[a.length]=u[0],this._updatecolumnaggregates(n,d,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",o--),t.width(parseInt(i)+2),t.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(s),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var t=this;if(t.columns&&t.columns.records)for(o=0;o<t.columns.records.length;o++)t._removecolumnhandlers(t.columns.records[o]);t.removeHandler(e(document),"mouseup.pagerbuttonstop"),t.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"mousedown"),t.removeHandler(e(document),"mousedown.gridedit"+t.element.id);var i="mousemove.resize"+t.element.id,r="mousedown.resize"+t.element.id,s="mouseup.resize"+t.element.id;t.removeHandler(e(document),i),t.removeHandler(e(document),r),t.removeHandler(e(document),s);var i="mousemove.reorder"+t.element.id,r="mousedown.reorder"+t.element.id,s="mouseup.reorder"+t.element.id;if(t.removeHandler(e(document),i),t.removeHandler(e(document),r),t.removeHandler(e(document),s),t.filterable){if(t.filterrow)for(var o=0;o<t.filterrow[0].cells.length;o++){var a=t.filterrow[0].cells[o],l=e(a).find(".filterconditions");t.columns.records[o];l.length>0&&l.jqxDropDownList("destroy")}t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList("destroy")}if(t.pageable){t.pagershowrowscombotop&&t.pagershowrowscombotop.jqxDropDownList&&t.pagershowrowscombotop.jqxDropDownList("destroy"),t.pagershowrowscombobottom&&t.pagershowrowscombobottom.jqxDropDownList&&t.pagershowrowscombobottom.jqxDropDownList("destroy");n=t.pagerbuttonsbottom.find("a");t.removeHandler(n,"click"),t.removeHandler(n,"mouseenter"),t.removeHandler(n,"mouseleave"),n.remove();var n=t.pagerbuttonstop.find("a");t.removeHandler(n,"click"),t.removeHandler(n,"mouseenter"),t.removeHandler(n,"mouseleave"),n.remove(),t.pagernexttop&&(t.pagernexttop.jqxButton("destroy"),t.pagerprevioustop.jqxButton("destroy"),t.pagernextbottom.jqxButton("destroy"),t.pagerpreviousbottom.jqxButton("destroy"),t.pagerfirsttop.jqxButton("destroy"),t.pagerfirstbottom.jqxButton("destroy"),t.pagerlasttop.jqxButton("destroy"),t.pagerlastbottom.jqxButton("destroy"))}t._removeHandlers(),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&s!==r)if("filterable"==i)t._render();else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:s}),t.hScrollBar.jqxScrollBar({rtl:s}),t._render();else if("pagerMode"===i)t.pagerMode=s,t._initpager();else if("pageSizeOptions"==i){t._initpager();for(var o=!1,a=0;a<s.length;a++)if(parseInt(s[a])==t.pageSize){o=!0;break}o||e.jqx.set(t,[{pageSize:s[0]}])}else if("pageSize"==i){var l=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pageSize;var n=Math.floor(l/t.dataview.pagesize);n===t.dataview.pagenum&&parseInt(s)===parseInt(r)||(t._raiseEvent("pageSizeChanged",{pagenum:s,oldpageSize:r,pageSize:t.dataview.pagesize}),t.goToPage(n)||(t.serverProcessing?t.updateBoundData("pager"):t.refresh()))}else if("pagerPosition"===i)t.refresh();else if("selectionMode"===i)t.selectionMode=s.toLowerCase();else if("touchmode"==i)t.touchDevice=null,t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._renderrows(),t._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)s?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:s}),t.pagerprevioustop.jqxButton({disabled:s}),t.pagernextbottom.jqxButton({disabled:s}),t.pagerpreviousbottom.jqxButton({disabled:s}),t.pagerfirsttop.jqxButton({disabled:s}),t.pagerfirstbottom.jqxButton({disabled:s}),t.pagerlasttop.jqxButton({disabled:s}),t.pagerlastbottom.jqxButton({disabled:s}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",s?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer");else if("columnsHeight"==i)t._render();else if("theme"==i){if(e.jqx.utilities.setTheme(r,s,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var d=e(".filterconditions");d.length>0&&d.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,r){var s="4px";return r.columnGroups?((s=i/2-this._columnheight/2)<0&&(s=4),s+="px"):25!=this.columnsHeight&&((s=this.columnsHeight/2-this._columnheight/2)<0&&(s=4),s+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&void 0!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var r=!!t._source,s=null;this._sortData=null,this._sortHierarchyData=null,r?(s=t,t=t._source):s=new e.jqx.dataAdapter(t,{autoBind:!1});var o=function(e){e.originaldata=s.originaldata,e.records=s.records,e.hierarchy=s.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,s.hierarchy=new Array),s._source.totalrecords?e.totalrecords=s._source.totalrecords:s._source.totalRecords?e.totalrecords=s._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=s.cachedrecords};!function(e){s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.totalrecords=e.totalrecords,s._options.originaldata=e.originaldata,s._options.recordids=e.recordids,s._options.cachedrecords=new Array,s._options.pagenum=e.pagenum,s._options.pageable=e.pageable,void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async),void 0!=t.updaterow&&(s._options.updaterow=t.updaterow),void 0!=t.addrow&&(s._options.addrow=t.addrow),void 0!=t.deleterow&&(s._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),s._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(uniqueId=i);var a=this;switch(t.datatype){case"local":case"array":default:null==t.localdata&&(t.localdata=[]),null!=t.localdata&&(s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&s.dataBind(),(j=function(){o(a),a.update()})(),s.bindBindingUpdate(a.grid.element.id,j));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&s.dataBind(),(j=function(e){o(a),a.update()})(),void s.bindBindingUpdate(a.grid.element.id,j);for(var l=[],n=0,d={},h=0;h<this.filters.length;h++){var c=this.filters[h].datafield,u=this.filters[h].filter;if(u.getfilters){var g=u.getfilters();d[c+"operator"]=u.operator;for(var p=0;p<g.length;p++){g[p].datafield=c;var f=g[p].value;if("datefilter"==g[p].type)if(g[p].value&&g[p].value.toLocaleString){var m=this.grid.getColumn(g[p].datafield);if(m&&m.cellsformat){var v=this.grid.source.formatDate(g[p].value,m.cellsformat,this.grid.gridlocalization);d["filtervalue"+n]=v||g[p].value.toLocaleString()}else d["filtervalue"+n]=f.toString()}else d["filtervalue"+n]=f.toString();else d["filtervalue"+n]=f.toString(),g[p].data&&(d["filterid"+n]=g[p].data.toString()),g[p].id&&(d["filterid"+n]=g[p].id.toString());d["filtercondition"+n]=g[p].condition,d["filteroperator"+n]=g[p].operator,d["filterdatafield"+n]=c;var w={label:f.toString()};g[p].data&&(w.value=g[p].data.toString()),g[p].id?w.value=g[p].id.toString():w.value=f.toString(),w.condition=g[p].condition,w.operator=0==g[p].operator?"and":"or",w.field=c,w.type=g[p].type;var y=!1;if(l.length>0)for(var x=0;x<l.length;x++){var b=l[x];if(b.field==c){b.filters.push(w),y=!0;break}}y||(l.push({field:c,filters:[]}),l[l.length-1].filters.push(w)),n++}}}d.filterGroups=l,d.filterslength=n,e.extend(d,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pageSize});var _=s._options.data;s._options.data?e.extend(s._options.data,d):(t.data&&e.extend(d,t.data),s._options.data=d);var j=function(){var t=function(){o(a),a.update()};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()};s.unbindDownloadComplete(a.grid.element.id),s.bindDownloadComplete(a.grid.element.id,j),s._source.loaderror=function(e,t,i){j()},(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&s.dataBind(),s._options.data=_}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");void 0==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,r=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var s="";this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(s=this.type),!1});for(var o=new Array,a=0;a<t.length;a++)o.push(e.extend({originalRecord:t[a]},t[a]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)l=o.sort(function(e,t){return i._compare(e,t,s)}).reverse();else var l=o.sort(function(e,t){return i._compare(e,t,s)});return this._sortData=l,Object.prototype.toString=r,l},this._compare=function(t,i,r){var i=i;if(void 0===(t=t)&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;c=this;e.each(t,function(e){this.uid=i,c.grid.rowsByKey[this.uid]=this,i++})}return t}var r=new Array;if(this.filters.length){var s=new Array,o=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];r._visible=!0;for(var o=void 0,a=0;a<this.filters.length;a++){var l=this.filters[a].filter,n=r[this.filters[a].datafield],d=l.evaluate(n);o=void 0==o?d:"or"==l.operator?o||d:o&&d}r._visible=!1,(o||r.aggregate)&&(r._visible=!0,t.push(r),s[r.uid]=r)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var a=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];a.push(r),r.records&&r.records.length>0&&l(r,r.records)}};l(null,t),o.call(this,a,r);for(var n=0;n<r.length;n++)for(var d=r[n];d.parent;){var h=d.parent;s[h.uid]||(h._visible=!0,s[h.uid]=h),d=h}r=t}else o.call(this,t,r);this._filteredData=r,this.rows=r}}else this.rows=t;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var c=this,u=new Array;this._sortData=null;var g=function(t,i){c._sortData=null;var r=null;if(c.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<c.source.hierarchy.groupingDataFields.length){r=new Array;for(s=0;s<i.length;s++)r.push(e.extend({originalRecord:i[s]},i[s]))}else r=c._sort(i);else r=c._sort(i);t.records?t.records=r:t=t.concat(r);for(var s=0;s<r.length;s++)r[s].records&&r[s].records.length&&g(r[s],r[s].records);return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:g(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&void 0!=t&&this.rows.length>0){null==(o=this.rows[this.rows.length-1][t])&&(o=null);for(l=1;l<=100;l++)if(!(a=this.grid.rowsByKey[l+o])){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(a=this.grid.rowsByKey["jqx"+o+l])continue;return"jqx"+o+l}return o+l}}if(void 0!=t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+s:s}if(this.rows&&this.rows.length>0&&(a=this.grid.rowsByKey[r])){var o=this.rows[this.rows.length-1][t];null==o&&(o="");for(l=1;l<=1e3;l++)if(!(a=this.grid.rowsByKey[l+o])){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(a=this.grid.rowsByKey["jqx"+o+l])continue;return"jqx"+o+l}return o+l}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var a=this.grid.rowsByKey["jqx"+r];if(!a)return"jqx"+r;for(var l=r+1;l<=100;l++)if(!(a=this.grid.rowsByKey["jqx"+l])){if(a=this.grid.rowsByKey["jqx"+l])continue;return"jqx"+l}}return r},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxDateTimeInput","",{}),t.extend(t.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var e={value:t.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:t.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:t.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:21,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",dropDownContainer:"default",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===t.jqx._jqxDateTimeInput.prototype?e:(t.extend(!0,this,e),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate,e)},createInstance:function(e){var i="",a=this;if(!a.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if("dd/MM/yyyy"!=a.formatString){var n=a.formatString.split(" ");if(n&&n.length>1){for(var s="",r=0;r<n.length;r++)"1"==n[r].length?s+=a._getFormatValue(n[r]):s+=n[r],r<n.length-1&&(s+=" ");a.formatString=s}}if("input"==a.element.nodeName.toLowerCase()){var o=a.element.getAttribute("type");if(o&&"dd/MM/yyyy"==a.formatString){if("date"==o&&(a.formatString="d"),"datetime"==o){var l=a._getFormatValue("d")+" "+a._getFormatValue("t");a.formatString=l,a.showTimeButton=!0}"time"==o&&(a.formatString="t",a.showTimeButton=!0,a.showCalendarButton=!1)}if(a.field=a.element,a.field.getAttribute("min")){var d=new Date(a.field.getAttribute("min"));"Invalid Date"!=d&&(a.min=d)}if(a.field.getAttribute("max")){var h=new Date(a.field.getAttribute("max"));"Invalid Date"!=h&&(a.max=h)}a.field.className&&(a._className=a.field.className);var u={title:a.field.title};a.field.value&&(u.value=a.field.value),a.field.id.length?u.id=a.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":u.id=t.jqx.utilities.createId()+"_jqxDateTimeInput";var c=t("<div></div>",u);c[0].style.cssText=a.field.style.cssText,a.width||(a.width=t(a.field).width()),a.height||(a.height=t(a.field).outerHeight()),t(a.field).hide().after(c);var m=a.host.data();if(a.host=c,a.host.data(m),a.element=c[0],a.element.id=a.field.id,a.field.id=u.id,a._className&&(a.host.addClass(a._className),t(a.field).removeClass(a._className)),a.field.tabIndex){var p=a.field.tabIndex;a.field.tabIndex=-1,a.element.tabIndex=p}}if(a.host.attr("value")){i=!0;var f=a.host.attr("value");"range"!=a.selectionMode&&(void 0==(g=new Date(f))||isNaN(g)||(a.value=t.jqx._jqxDateTimeInput.getDateTime(g)))}if(null!=a.value&&a.value instanceof Date)a.value=t.jqx._jqxDateTimeInput.getDateTime(a.value);else if(null!=a.value&&"string"==typeof a.value){var g=new Date(a.value);void 0==g||isNaN(g)?a.value.indexOf(",")>=0&&(a.value=a.value.replace(/\,/g,"/"),void 0==(g=new Date(a.value))||isNaN(g)||(a.value=t.jqx._jqxDateTimeInput.getDateTime(g))):a.value=t.jqx._jqxDateTimeInput.getDateTime(g)}if(this._initTimeRange(),this._validateTimeRange(),a.host.attr("data-role","input"),a.render(),t.jqx.aria(this),null!=a.getDate()?t.jqx.aria(this,"aria-label","Current focused date is "+a.getDate().toLocaleString()):t.jqx.aria(this,"aria-label","Current focused date is Null"),a.minDate!==a.defaultMinDate&&(a.min=a.minDate),a.maxDate!==a.defaultMaxDate&&(a.max=a.maxDate),a.setMaxDate(a.max,!1),a.setMinDate(a.min,!1),"range"==a.selectionMode)if(i){var v=(f=a.host.attr("value")).substring(0,f.indexOf("-")),x=f.substring(f.indexOf("-")+1),y=new Date(v),T=new Date(x);void 0==y||isNaN(y)||void 0==T||isNaN(T)||a.setRange(y,T)}else null!=a.getDate()&&a.setRange(a.getDate(),a.getDate())},_validateTimeRange:function(){if(this.timeRange){var t=this.value.dateTime.getHours(),e=this.value.dateTime.getMinutes();t<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),e<this.timeRange.minMinute?(this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()):this._updateEditorsValue()),t>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),e>this.timeRange.maxMinute?(this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()):this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){a=null;(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0)&&(a=this.timeRange.min.indexOf("AM")>=0?"AM":"PM");var t=this.timeRange.min.split(":"),e=parseInt(t[0]),i=parseInt(t[1]);a&&(this.timeRange.minDefaultHour=e,this.timeRange.minMeridian=a),a&&"PM"==a&&(e+=12),this.timeRange.minHour=e,this.timeRange.minMinute=i}if(this.timeRange.max){var a=null;(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0)&&(a=this.timeRange.max.indexOf("AM")>=0?"AM":"PM");var n=this.timeRange.max.split(":"),e=parseInt(n[0]),i=parseInt(n[1]);a&&(this.timeRange.maxDefaultHour=e,this.timeRange.maxMeridian=a),a&&"PM"==a&&(e+=12),this.timeRange.maxHour=e,this.timeRange.maxMinute=i}}},_format:function(e,i,a){var n=!1;try{void 0!=Globalize&&(n=!0)}catch(t){}if(t.global)return t.global.format(e,i,this.culture);if(!n){if(t.jqx.dataFormat)return e instanceof Date?t.jqx.dataFormat.formatdate(e,i,this.localization.calendar):"number"==typeof e?t.jqx.dataFormat.formatnumber(e,i,this.localization.calendar):t.jqx.dataFormat.formatdate(e,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{return i=Globalize.format(e,i,this.culture)}catch(t){return Globalize.format(e,i)}},render:function(){var e=this;e._removeHandlers(),e.element.innerHTML="",e.host.attr({role:"textbox"}),e.id=t.jqx.utilities.createId();t.jqx.utilities.createId(),t.jqx.utilities.createId();e._setSize(),null==e.width&&(e.width=e.host.width(),e.host.width(e.width)),e.touch=t.jqx.mobile.isTouchDevice();var i=t("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(e.host);e.dateTimeInput=t("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+e.element.id+"' autocomplete='off' type='textarea'/>").appendTo(i),e.dateTimeInput.addClass(e.toThemeProperty("jqx-reset")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-clear")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-input-content")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-widget-content")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-rc-all")),e.dateTimeInput.attr("placeHolder",e.placeHolder),"full"!=e.renderMode&&e.dateTimeInput.remove();var a=e.host.attr("name");a&&e.dateTimeInput.attr("name",a),e.host.attr("tabindex")&&(e.dateTimeInput.attr("tabindex",e.host.attr("tabindex")),e.host.removeAttr("tabindex")),e.rtl&&(e.dateTimeInput.css("direction","rtl"),e.dateTimeInput.addClass("jqx-rtl")),e.calendarButton=t("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),e.rtl?e.calendarButton.addClass(e.toThemeProperty("jqx-action-button-rtl")):e.calendarButton.addClass(e.toThemeProperty("jqx-action-button")),e.calendarButtonIcon=t(e.calendarButton.children()[0]),e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon-calendar")),e.calendarButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl?e.calendarButton.addClass(e.toThemeProperty("jqx-rc-l")):e.showTimeButton||e.calendarButton.addClass(e.toThemeProperty("jqx-rc-r")),e.timeButton=t("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),e.rtl?e.timeButton.addClass(e.toThemeProperty("jqx-action-button-rtl")):e.timeButton.addClass(e.toThemeProperty("jqx-action-button")),e.template&&(e.timeButton.addClass(e.toThemeProperty("jqx-"+e.template)),e.calendarButton.addClass(e.toThemeProperty("jqx-"+e.template))),e.timeButtonIcon=t(e.timeButton.children()[0]),e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon-time")),e.timeButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl?e.timeButton.addClass(e.toThemeProperty("jqx-rc-l")):e.timeButton.addClass(e.toThemeProperty("jqx-rc-r"));o=this;if(e._arrange(),null!=t.jqx._jqxCalendar&&void 0!=t.jqx._jqxCalendar)try{var n="calendar"+e.id,s=t(t.find("#"+n));s.length>0&&s.remove(),t.jqx.aria(this,"aria-owns",n),t.jqx.aria(this,"aria-haspopup",!0),t.jqx.aria(this,"aria-readonly","range"==e.selectionMode);var r=t("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+e.id+"'><div id='innerCalendar"+e.id+"'></div><div id='innerTime"+e.id+"'></div></div>");"opera"==t.jqx.utilities.getBrowser().browser&&r.hide(),"element"==e.dropDownContainer?r.appendTo(e.host):r.appendTo(document.body),e.container=r,e.calendarContainer=t(t.find("#innerCalendar"+e.id)).jqxCalendar({restrictedDates:this.restrictedDates,changing:e.changing,change:e.change,enableViews:e.enableViews,selectableDays:e.selectableDays,views:e.views,rowHeaderWidth:e.rowHeaderWidth,titleHeight:e.titleHeight,columnHeaderHeight:e.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:e.localization,todayString:e.todayString,clearString:e.clearString,dayNameFormat:e.dayNameFormat,rtl:e.rtl,culture:e.culture,showFooter:e.showFooter,selectionMode:e.selectionMode,firstDayOfWeek:e.firstDayOfWeek,showWeekNumbers:e.showWeekNumbers,width:e.dropDownWidth,height:e.dropDownHeight,theme:e.theme}),"element"==e.dropDownContainer?e.calendarContainer.css({position:"absolute",top:0,left:0}):e.calendarContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.calendarContainer.addClass(e.toThemeProperty("jqx-popup")),t.jqx.browser.msie&&e.calendarContainer.addClass(e.toThemeProperty("jqx-noshadow")),e.timeContainer=t(t.find("#innerTime"+e.id)),e.timeContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.timeContainer.addClass(e.toThemeProperty("jqx-popup")),t.jqx.browser.msie&&e.timeContainer.addClass(e.toThemeProperty("jqx-noshadow")),e._calendar=t.data(e.calendarContainer[0],"jqxCalendar").instance;var o=this;e._calendar.today=function(){o.today()},e._calendar.clear=function(){o.clear()},"opera"==t.jqx.utilities.getBrowser().browser&&r.show(),r.height(parseInt(e.calendarContainer.height())+25),r.width(parseInt(e.calendarContainer.width())+25),"range"==e.selectionMode&&(e.readonly=!0),"none"==e.animationType?e.container.css("display","none"):e.container.hide()}catch(t){}if(t.global&&t.global.preferCulture(e.culture),e.selectedText="",e._addHandlers(),e.self=this,e.oldValue=e.getDate(),e.items=new Array,e.editors=new Array,e._loadItems(),e.editorText="",1==e.readonly&&e.dateTimeInput.css("readonly",e.readonly),e.dateTimeInput.css("text-align",e.textAlign),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-datetimeinput")),e.host.addClass(e.toThemeProperty("jqx-input")),e.host.addClass(e.toThemeProperty("jqx-overflow-hidden")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-reset")),e.host.addClass(e.toThemeProperty("jqx-clear")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.propertyChangeMap.disabled=function(e,i,a,n){n?(e.host.addClass(o.toThemeProperty("jqx-input-disabled")),e.host.addClass(o.toThemeProperty("jqx-fill-state-disabled"))):(e.host.removeClass(o.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(o.toThemeProperty("jqx-input-disabled"))),t.jqx.aria(this,"aria-disabled",n)},e.disabled&&(e.host.addClass(e.toThemeProperty("jqx-input-disabled")),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.dateTimeInput.attr("disabled",!0)),e.host.parents("form").length>0&&e.addHandler(e.host.parents("form"),"reset",function(){setTimeout(function(){o.setDate(new Date)},10)}),e.cookies){var l=t.jqx.cookie.cookie("jqxDateTimeInput"+e.element.id);null!=l&&e.setDate(new Date(l))}if(t.jqx.browser.msie&&t.jqx.browser.version<8&&e.host.parents(".jqx-window").length>0){var d=e.host.parents(".jqx-window").css("z-index");e.container.css("z-index",d+10),e.calendarContainer.css("z-index",d+10)}"default"!=e.culture&&e._applyCulture(),e.value&&(e.calendarContainer.jqxCalendar("_isDisabled",e.value.dateTime)?e.dateTimeInput.addClass(e.toThemeProperty("jqx-input-invalid")):e.dateTimeInput.removeClass(e.toThemeProperty("jqx-input-invalid")))},val:function(t){var e=this;if(0!=arguments.length){if(null==t&&e.setDate(null),"range"==e.selectionMode)return e.setRange(arguments[0],arguments[1]),e.getText();if(t instanceof Date&&e.setDate(t),"string"==typeof t){if("date"==t)return e.getDate();e.setDate(t)}e._calendar.getDate()!=e.getDate()&&e._calendar.setDate(e.getDate())}return e.getText()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px");var e=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.host.height(this.height));var i=this,a=function(){i.calendarContainer&&i._arrange()};if(e&&this.calendarContainer){this._arrange();var n=this.host.width();"auto"!=this.dropDownWidth&&(n=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:n}),this.container.width(parseInt(n)+25)}t.jqx.utilities.resize(this.host,function(){a()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var e=parseInt(this.host.width()),i=parseInt(this.host.height()),a=this.buttonSize,n=2;this.showCalendarButton||this.showTimeButton||(a=0,buttonHeight=0,this.calendarButton.hide(),n=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();s=e-a-1*n;if(this.showTimeButton&&this.showCalendarButton)s=e-2*a-1*n;else if(this.showTimeButton||this.showCalendarButton)var s=e-a-1*n;s>0&&(this.dateTimeInput[0].style.width=s+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+s+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=a+1+"px",this.calendarButton[0].style.left=1+s+"px",this.timeButton[0].style.width=a+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+s+"px":this.timeButton[0].style.left=1+s+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var r=this.dateTimeInput.height();if(0==r&&"full"!=this.renderMode?(r=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):r=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all")),(l=parseInt(i)/2-parseInt(r)/2)>0){var o=this.dateTimeInput.css("font-size");""==o&&(o=13);var l=i-2-parseInt(o)-2;isNaN(l)&&(l=0),l<0&&(l=0);var d=l/2;t.jqx.browser.msie&&t.jqx.browser.version<8&&(d=l/4),this.dateTimeInput[0].style.paddingTop=Math.round(d)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(d)+"px"}this.rtl&&(this.calendarButton[0].style.width=a+"px",this.timeButton[0].style.width=a+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",a+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),t.jqx.browser.msie&&t.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(t(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(t(window),"resize."+this.id)},isOpened:function(){var e=this,i=t.data(document.body,"openedJQXCalendar"+this.id);return null!=i&&i==e.calendarContainer},wheel:function(t,e){if(e.isEditing){e.changeType="mouse";var i=0;if(t||(t=window.event),t.originalEvent&&t.originalEvent.wheelDelta&&(t.wheelDelta=t.originalEvent.wheelDelta),t.wheelDelta?i=t.wheelDelta/120:t.detail&&(i=-t.detail/3),i){var a=e._handleDelta(i);return!a&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1,a)}t.preventDefault&&t.preventDefault(),t.returnValue=!1}},_handleDelta:function(t){return t<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var t=this;t._firstFocusDate=t.getDate(),this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){t._setSelectionStart(0),t._selectGroup(-1),t.dateTimeInput.focus()},25)}catch(t){}},_addHandlers:function(){this.element.id,this.element;var e=this;this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(t){e.isOpened()&&e.close()}),this.addHandler(this.host,"mouseenter",function(){!e.disabled&&e.enableHover&&(hovered=!0,e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon-calendar-hover")),e.calendarButton.addClass(e.toThemeProperty("jqx-fill-state-hover")),e.showTimeButton&&(e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon-time-hover")),e.timeButton.addClass(e.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mouseleave",function(){!e.disabled&&e.enableHover&&(e.calendarButtonIcon.removeClass(e.toThemeProperty("jqx-icon-calendar-hover")),e.calendarButton.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e.showTimeButton&&(e.timeButtonIcon.removeClass(e.toThemeProperty("jqx-icon-time-hover")),e.timeButton.removeClass(e.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(t){e.wheel(t,e)}),this.addHandler(t(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),t.jqx.mobile.isTouchDevice()&&this.addHandler(t(document),t.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(i){var a=t.data(document.body,"openedJQXCalendar"+e.id);if(null!=a&&a==e.calendarContainer)return e.handleCalendarKey(i,e)}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(t){if(13==t.keyCode)return!(e.isOpened()&&!e._calendar._viewAnimating&&"month"==e._calendar.view)||(e.hideCalendar("selected","keyboard"),e.dateTimeInput.focus(),!1);if(9==t.keyCode){if(e.isOpened())return e.hideCalendar("selected","keyboard"),!0}else if(27==t.keyCode)return!e.isOpened()||(e.hideCalendar(null,"keyboard"),e.dateTimeInput.focus(),!1);if(e.timePopup=!1,84==t.keyCode&&(e.timePopup=!0),115==t.keyCode){if(e.isOpened())return e.hideCalendar("keyboard","keyboard"),e.dateTimeInput.focus(),!1;if(!e.isOpened())return e.showCalendar("keyboard","keyboard"),e.dateTimeInput.focus(),!1}if(t.altKey)if(38==t.keyCode){if(e.isOpened())return e.hideCalendar("keyboard","keyboard"),e.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!e.isOpened())return e.showCalendar("keyboard","keyboard"),e.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(i){if(e.closeCalendarAfterSelection){t.data(document.body,"openedJQXCalendarValue");"mouse"==i.args.selectionType&&("range"!=e.selectionMode?e.hideCalendar("selected","mouse"):0==e._calendar._clicks&&e.hideCalendar("selected","mouse"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(i){e.closeCalendarAfterSelection&&e._calendar.value&&t.data(document.body,"openedJQXCalendarValue",new t.jqx._jqxDateTimeInput.getDateTime(e._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(t){if(null!=e.value){e.isEditing=!1;e.value.dateTime.getDay(),e._oldDT;e._validateValue(!0),t.stopPropagation&&t.stopPropagation(),e._updateText(),e._raiseEvent(9,t)}e.isOpened()||e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(t){e.focus()}),this.addHandler(this.dateTimeInput,"focus",function(t){if(e._firstFocusDate=e.getDate(),null!=e.value?("range"!=e.selectionMode?e._oldDT=new Date(e.value.dateTime):e._oldDT=e.getRange(),setTimeout(function(){var t=e._selection();e.isEditing=!0,e._validateValue(),e._updateText(),e._setSelectionStart(0),e._selectGroup(-1,t),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))})):(e._setSelectionStart(0),e._selectGroup(-1),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))),t.stopPropagation&&t.stopPropagation(),t.preventDefault)return t.preventDefault(),!1});var i="mousedown";this.touch&&(i=t.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,i,function(t){var i="block"==e.container.css("display");if(e.timePopup=!1,e.calendarPopup=!0,!e.disabled&&!e.isanimating){if(i)return e.hideCalendar(),!1;e.showCalendar("mouse"),t.preventDefault()}}),this.addHandler(this.timeButton,i,function(t){var i="block"==e.container.css("display");if(e.timePopup=!0,e.calendarPopup=!1,!e.disabled&&!e.isanimating){if(i)return e.hideCalendar("mouse","mouse"),!1;e.showCalendar("mouse"),t.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(t){return e._raiseEvent(2,t)}),this.addHandler(this.dateTimeInput,"mouseup",function(t){return e._raiseEvent(3,t)}),this.addHandler(this.dateTimeInput,"keydown",function(t){return e._raiseEvent(4,t)}),this.addHandler(this.dateTimeInput,"keyup",function(t){return e._raiseEvent(5,t)}),this.addHandler(this.dateTimeInput,"keypress",function(t){return e._raiseEvent(6,t)})},createID:function(){var t=Math.random()+"";return t=t.replace(".",""),t="99"+t,"dateTimeInput"+(t/=1)},setMaxDate:function(e,i){null!=e&&(null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.maxDate=t.jqx._jqxDateTimeInput.getDateTime(e),null!=this._calendar&&this._calendar.setMaxDate(e),0!=i&&(null!=this.getDate()&&this.getDate()>e&&this.setDate(e),t.jqx.aria(this,"aria-valuemax",e),this._refreshValue(),this._updateText())))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,i){null!=e&&(null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.minDate=t.jqx._jqxDateTimeInput.getDateTime(e),null!=this._calendar&&this._calendar.setMinDate(e),0!=i&&(null!=this.getDate()&&this.getDate()<e&&this.setDate(e),t.jqx.aria(this,"aria-valuemin",e),this._refreshValue(),this._updateText())))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var e=!1;try{void 0!=Globalize&&(e=!0)}catch(t){}try{if(t.global)t.global.preferCulture(this.culture),this.localization.calendar=t.global.culture.calendar;else if(e){var i=Globalize.culture(this.culture);this.localization.calendar=i.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(t){}},propertyMap:function(t){return"value"==t?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(t,e,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(t.refresh(),t.close())},propertyChangedHandler:function(e,i,a,n){if(void 0!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==i&&(e.timeButton.removeClass(e.toThemeProperty("jqx-"+a)),e.calendarButton.removeClass(e.toThemeProperty("jqx-"+a)),e.timeButton.addClass(e.toThemeProperty("jqx-"+e.template)),e.calendarButton.addClass(e.toThemeProperty("jqx-"+e.template))),"restrictedDates"==i&&e.calendarContainer.css({restrictedDates:n}),"popupZIndex"==i&&e.calendarContainer.css({zIndex:n}),"showCalendarButton"==i&&e._arrange(),"showTimeButton"==i&&(e._arrange(),e.timePopupElement&&(e.timePopupElement.remove(),e.timePopupElement=null)),"selectionMode"==i&&(e._calendar.selectionMode=n,e.refreshValue()),"min"==i&&("string"==typeof n?e.setMinDate(new Date(n)):e.setMinDate(n)),"max"==i&&("string"==typeof n?e.setMaxDate(new Date(n)):e.setMaxDate(n)),"value"==i)if(null!=n&&n instanceof Date){if(isNaN(n.getFullYear())||isNaN(n.getMonth())||isNaN(n.getDate()))return void(this.value=a);n=t.jqx._jqxDateTimeInput.getDateTime(n)}else if(null!=n&&"string"==typeof n){var s=new Date(n);void 0==s||isNaN(s)||(this.value=t.jqx._jqxDateTimeInput.getDateTime(s))}if("views"==i&&e.calendarContainer.jqxCalendar({views:n}),"enableViews"==i&&e.calendarContainer.jqxCalendar({enableViews:n}),"selectableDays"==i&&e.calendarContainer.jqxCalendar({selectableDays:n}),"showFooter"==i&&e.calendarContainer.jqxCalendar({showFooter:n}),"rtl"==i&&(e.calendarContainer.jqxCalendar({rtl:n}),n?(e.dateTimeInput.css("direction","rtl"),e.dateTimeInput.addClass("jqx-rtl")):(e.dateTimeInput.css("direction","ltr"),e.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=i&&"clearString"!=i||e.calendarContainer.jqxCalendar({clearString:e.clearString,todayString:e.todayString}),"dayNameFormat"==i&&e.calendarContainer.jqxCalendar({dayNameFormat:n}),"firstDayOfWeek"==i&&e.calendarContainer.jqxCalendar({firstDayOfWeek:n}),"showWeekNumbers"==i&&e.calendarContainer.jqxCalendar({showWeekNumbers:n}),"culture"==i||"localization"==i?e._applyCulture():"formatString"==i&&(e.items=new Array,e._loadItems()),"theme"==i&&(t.jqx.utilities.setTheme(a,n,e.host),e.calendarContainer.jqxCalendar({theme:n})),"width"==i||"height"==i)return e.close(),void e.refresh();e._setOption(i,n,a),"dropDownWidth"!=i&&"dropDownHeight"!=i||(e.calendarContainer.jqxCalendar({width:e.dropDownWidth,height:e.dropDownHeight}),e._calendar.render(),e.container.height(e.calendarContainer.height()),e.container.width(e.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var t=new Date;if(t.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(t);else{this._calendar._clicks=0;var e=new Date;e.setHours(23,59,59,0),this.setRange(t,e),this._calendar._clicks=0}this.hideCalendar()},setDate:function(e){var i=this.getDate();if(null!=e&&"string"==typeof e){var a=e;if(e.toString().indexOf(",")>=0&&(e=e.replace(/\,/g,"/"),"Invalid Date"==(e=new Date(e))&&(e=a)),e.toString().indexOf("-")>=0&&(e=e.replace(/\-/g,"/"),"Invalid Date"==(e=new Date(e))&&(e=a)),""!=e){var n=e;if("Invalid Date"==(e=void 0!=Globalize?Globalize.parseDate(n,this.formatString,this.culture):t.jqx.dataFormat?t.jqx.dataFormat.parsedate(n,this.formatString,this.localization.calendar):new Date(e)))return;null===e&&null!==n&&"Invalid Date"!=n&&(e=n)}}if(null!=e&&"null"!=e&&"undefined"!=e||this.allowNullDate||(e=this.min),"Invalid Date"==e&&(e=null),null!=e&&"null"!=e&&"undefined"!=e&&""!==e){if(!(e<this.getMinDate()||e>this.getMaxDate()))return null==this.value&&(this.value=new t.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),e.getFullYear&&(this.value._setYear(e.getFullYear()),this.value._setDay(1),this.value._setMonth(e.getMonth()+1),this.value._setHours(e.getHours()),this.value._setMinutes(e.getMinutes()),this.value._setSeconds(e.getSeconds()),this.value._setMilliseconds(e.getMilliseconds()),this.value._setDay(e.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&t.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),0!=this.getDate()-i?(this._raiseEvent("0",e,i),this._raiseEvent("9",e,i),!0):void 0}else null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&t.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",e,i),this._raiseEvent("9",e,i))},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(e,i){if("Invalid Date"==e&&(e=null),"Invalid Date"==i&&(i=null),!(null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||null!=i&&"string"==typeof i&&"Invalid Date"==(i=new Date(i))||e&&isNaN(e)&&"NaN"==e.toString()&&"string"!=typeof e||i&&isNaN(i)&&"NaN"==i.toString()&&"string"!=typeof i)){this._calendar.setRange(e,i),i&&e&&i.valueOf()!=e.valueOf()?this._range={from:e,to:i}:this._range=this._calendar.getRange();var a=e;null!=a&&a.getFullYear&&(null==this.value&&(this.value=new t.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(a.getFullYear()),this.value._setMonth(a.getMonth()+1),this.value._setHours(a.getHours()),this.value._setMinutes(a.getMinutes()),this.value._setSeconds(a.getSeconds()),this.value._setMilliseconds(a.getMilliseconds()),this.value._setDay(a.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){var t=this._calendar.getRange();if(this._range){var e=this._range.from,i=this._range.to;i&&e&&i.valueOf()!=e.valueOf()&&(t.from&&t.from.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.to&&t.to.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}return t},_validateValue:function(t){for(var e=0;e<this.items.length;e++){var i=this.editors[e].value;switch(this.items[e].type){case"FORMAT_AMPM":i<0?i=0:i>1&&(i=1);break;case"Character":break;case"Day":i<1?i=1:i>31&&(i=31);break;case"FORMAT_hh":i<1?i=1:i>12&&(i=12);break;case"FORMAT_HH":i<0?i=0:i>23&&(i=23);break;case"Millisecond":i<0?i=0:i>999&&(i=999);break;case"Minute":i<0?i=0:i>59&&(i=59);break;case"Month":i<1?i=1:i>12&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:i>59&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}this.editors[e].value!=i&&(this.editors[e].value=i,!0)}this.updateValue(t),null!=this.value&&!0===t&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){if(null!=this.value){if(null!=this.activeEditor){var t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var e=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=e}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);i>=0&&this._selectGroup(i)}},spinDown:function(){if(null!=this.value){if(null!=this.activeEditor){var t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var e=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=e}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);i>=0&&this._selectGroup(i)}},_passKeyToCalendar:function(t){if(13==t.keyCode||9==t.keyCode)return this.hideCalendar("selected","keyboard"),!0;if(27==t.keyCode){this.calendarContainer;var e=this._calendar,i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,e.setDate(this.value.dateTime),this.closeCalendarAfterSelection=i,this.hideCalendar()}i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var a=this._calendar._handleKey(t);return this.closeCalendarAfterSelection=i,a},handleCalendarKey:function(e,i){t(e.target);var a=t.data(document.body,"openedJQXCalendar"+this.id);return!(null!=a&&a.length>0)||i._passKeyToCalendar(e)},_findPos:function(e){if(null!=e){for(;e&&("hidden"==e.type||1!=e.nodeType||t.expr.filters.hidden(e));)e=e.nextSibling;var i=t(e).coord(!0);return[i.left,i.top]}},testOffset:function(e,i,a){var n=e.outerWidth(),s=e.outerHeight(),r=t(window).width()+t(window).scrollLeft(),o=t(window).height()+t(window).scrollTop();if(i.left+n>r&&n>this.host.width()){var l=this.host.coord().left,d=n-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+s>o&&o>s?Math.abs(s+a+23):0),i},open:function(t){this.timePopup="time"==t,this.showCalendar()},close:function(t){this.hideCalendar()},_getBodyOffset:function(){var e=0,i=0;return"0px"!=t("body").css("border-top-width")&&(e=parseInt(t("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=t("body").css("border-left-width")&&(i=parseInt(t("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:e}},initTimePopup:function(){this.timePopupElement=t("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var e="";e+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var i=this._getFormatValue(this.formatString);"range"!=this.selectionMode?this.timePopupElement[0].innerHTML=e:this.timePopupElement[0].innerHTML="<table><tr><td>"+e+"</td><td>-</td><td>"+e+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var a=this.timePopupElement.find("input");a.addClass(this.toThemeProperty("jqx-input")),a.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(a,"mousedown",function(t){t.stopPropagation()});var n=function(e){e.target.className.indexOf("hour")>=0&&o._decrementHour(t(e.target)),e.target.className.indexOf("minute")>=0&&o._decrementMinuteSecond(t(e.target)),e.target.className.indexOf("second")>=0&&o._decrementMinuteSecond(t(e.target)),e.target.className.indexOf("millisecond")>=0&&o._decrementMillisecond(t(e.target)),e.target.className.indexOf("meridian")>=0&&o._decrementMeridian(t(e.target))},s=function(e){e.target.className.indexOf("hour")>=0&&o._incrementHour(t(e.target)),e.target.className.indexOf("minute")>=0&&o._incrementMinuteSecond(t(e.target)),e.target.className.indexOf("second")>=0&&o._incrementMinuteSecond(t(e.target)),e.target.className.indexOf("millisecond")>=0&&o._incrementMillisecond(t(e.target)),e.target.className.indexOf("meridian")>=0&&o._incrementMeridian(t(e.target))},r=function(t,e){if(e.isEditing){var i=0;t||(t=window.event),t.originalEvent&&t.originalEvent.wheelDelta&&(t.wheelDelta=t.originalEvent.wheelDelta),t.originalEvent&&void 0!=t.originalEvent.deltaY&&(i=-t.originalEvent.deltaY),t.wheelDelta?i=t.wheelDelta/120:t.detail&&(i=-t.detail/3),i&&(document.activeElement==t.target&&"input"==t.target.nodeName.toLowerCase()&&(i<0?n(t):s(t)),t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventDefault&&t.preventDefault(),t.returnValue=!1}};this.addHandler(a,"wheel",function(t){r(t,o)}),this.addHandler(a,"keydown",function(e){t(e.target);if(e.ctrlKey)if(38==e.keyCode){if(o.isOpened())return o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!o.isOpened())return o.showCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1;40==e.keyCode?(n(e),e.preventDefault()):38==e.keyCode?(s(e),e.preventDefault()):13==e.keyCode?(e.preventDefault(),o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus()):27==e.keyCode&&(e.preventDefault(),o.hideCalendar("cancel"),o.dateTimeInput.focus())}),this.hourInput=t(a[0]),this.minuteInput=t(a[1]),this.secondInput=t(a[2]),this.mssecondInput=t(a[3]),this.meridianInput=t(a[4]),this.hourInput2=t(a[5]),this.minuteInput2=t(a[6]),this.secondInput2=t(a[7]),this.mssecondInput2=t(a[8]),this.meridianInput2=t(a[9]);var o=this,l=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=t(l[0]),this.hourIncrement2=t(l[1]),this.addHandler(a,"change",function(e){var a=t(e.target);if(a.val().length<=1&&a.val("0"+t(e.target).val()),e.target.className.indexOf("hour")>=0){n=parseInt(t(e.target).val());if(i.indexOf("HH")>=0)for(;n>24;)n-=24;else for(;n>12;)n-=12;n<10&&(n="0"+n),a.val()!=n&&a.val(n)}if(e.target.className.indexOf("minute")>=0||e.target.className.indexOf("second")>=0){for(var n=parseInt(t(e.target).val());n>59;)n--;n<10&&(n="0"+n),a.val()!=n&&a.val(n)}}),this._incrementHour=function(t){var e=parseInt(t.val());e++,i.indexOf("HH")>=0?e>23&&(e=0):e>12&&(e=1),e<10&&(e="0"+e),t.val(e)},this._incrementMinuteSecond=function(t){var e=parseInt(t.val());++e>59&&(e=0),e<10&&(e="0"+e),t.val(e)},this._incrementMillisecond=function(t){var e=parseInt(t.val());++e>999&&(e=0),e<10&&(e="0"+e),t.val(e)},this._incrementMeridian=function(t){var e=t.val();e=e.toLowerCase().indexOf("a")>=0?"PM":"AM",t.val(e)},this._decrementHour=function(t){var e=parseInt(t.val());e--,i.indexOf("HH")>=0?e<0&&(e=23):e<1&&(e=12),e<10&&(e="0"+e),t.val(e)},this._decrementMinuteSecond=function(t){var e=parseInt(t.val());--e<0&&(e=59),e<10&&(e="0"+e),t.val(e)},this._decrementMillisecond=function(t){var e=parseInt(t.val());--e<0&&(e=999),e<10&&(e="0"+e),t.val(e)},this._decrementMeridian=function(t){var e=t.val();e=e.toLowerCase().indexOf("a")>=0?"PM":"AM",t.val(e)},this.addHandler(this.hourIncrement,"mousedown",function(t){t.stopPropagation(),o._incrementHour(o.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(t){t.stopPropagation(),o._incrementHour(o.hourInput2)});var d=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=t(d[0]),this.minuteIncrement2=t(d[1]),this.addHandler(this.minuteIncrement,"mousedown",function(t){t.stopPropagation(),o._incrementMinuteSecond(o.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(t){t.stopPropagation(),o._incrementMinuteSecond(o.minuteInput2)});var h=this.timePopupElement.find(".increment-second-column");this.secondIncrement=t(h[0]),this.secondIncrement2=t(h[1]),this.addHandler(this.secondIncrement,"mousedown",function(t){t.stopPropagation(),o._incrementMinuteSecond(o.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(t){t.stopPropagation(),o._incrementMinuteSecond(o.secondInput2)});var u=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=t(u[0]),this.millisecondsIncrement2=t(u[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(t){t.stopPropagation(),o._incrementMillisecond(o.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(t){t.stopPropagation(),o._incrementMillisecond(o.mssecondInput2)});var c=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=t(c[0]),this.meridianIncrement2=t(c[1]),this.addHandler(this.meridianIncrement,"mousedown",function(t){t.stopPropagation(),o._incrementMeridian(o.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(t){t.stopPropagation(),o._incrementMeridian(o.meridianInput2)});var m=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=t(m[0]),this.hourDecrement2=t(m[1]),this.addHandler(this.hourDecrement,"mousedown",function(t){t.stopPropagation(),o._decrementHour(o.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(t){t.stopPropagation(),o._decrementHour(o.hourInput2)});var p=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=t(p[0]),this.minuteDecrement2=t(p[1]),this.addHandler(this.minuteDecrement,"mousedown",function(t){t.stopPropagation(),o._decrementMinuteSecond(o.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(t){t.stopPropagation(),o._decrementMinuteSecond(o.minuteInput2)});var f=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=t(f[0]),this.secondDecrement2=t(f[1]),this.addHandler(this.secondDecrement,"mousedown",function(t){t.stopPropagation(),o._decrementMinuteSecond(o.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(t){t.stopPropagation(),o._decrementMinuteSecond(o.secondInput2)});var g=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=t(g[0]),this.millisecondsDecrement2=t(g[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(t){t.stopPropagation(),o._decrementMillisecond(o.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(t){t.stopPropagation(),o._decrementMillisecond(o.mssecondInput2)});var v=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=t(v[0]),this.meridianDecrement2=t(v[1]),this.addHandler(this.meridianDecrement,"mousedown",function(t){t.stopPropagation(),o._decrementMeridian(o.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(t){t.stopPropagation(),o._decrementMeridian(o.meridianInput2)});var x=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(t){t.stopPropagation()});var y=function(e){var a=e.find("tr");-1==i.indexOf("ss")&&(o.secondInput.hide(),o.secondInput2.hide(),t(t(a[0]).children()[3]).hide(),t(t(a[0]).children()[4]).hide(),t(t(a[1]).children()[3]).hide(),t(t(a[1]).children()[4]).hide(),t(t(a[2]).children()[3]).hide(),t(t(a[2]).children()[4]).hide()),-1==i.indexOf("tt")&&-1==i.indexOf("hh")&&(o.meridianInput.hide(),o.meridianInput2.hide(),t(t(a[0]).children()[7]).hide(),t(t(a[0]).children()[8]).hide(),t(t(a[1]).children()[7]).hide(),t(t(a[1]).children()[8]).hide(),t(t(a[2]).children()[7]).hide(),t(t(a[2]).children()[8]).hide()),-1==i.indexOf("zz")&&(o.mssecondInput.hide(),o.mssecondInput2.hide(),t(t(a[0]).children()[5]).hide(),t(t(a[0]).children()[6]).hide(),t(t(a[1]).children()[5]).hide(),t(t(a[1]).children()[6]).hide(),t(t(a[2]).children()[5]).hide(),t(t(a[2]).children()[6]).hide())};1==x.length?y(x):(y(t(t(x)[1])),y(t(t(x)[2])))},updateTimePopup:function(){var t=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){r=this.getDate();if(this.hourInput){if(r)var e=r.getHours(),i=r.getMinutes(),a=r.getHours(),n=r.getSeconds(),s=r.getMilliseconds();else var e=0,i=0,a=0,n=0,s=0;e>=12?(a="PM",-1==t.indexOf("HH")&&0==(e-=12)&&(e=12)):a="AM","none"!=this.meridianInput.css("display")&&0==e&&(e=12),e<10&&(e="0"+e),i<10&&(i="0"+i),n<10&&(n="0"+n),s<10&&(s="0"+s),this.hourInput.val(e),this.minuteInput.val(i),this.secondInput.val(n),this.mssecondInput.val(s),this.meridianInput.val(a)}}else{r=this.getRange().from;if(this.hourInput){if(r)var e=r.getHours(),i=r.getMinutes(),a=r.getHours(),n=r.getSeconds(),s=r.getMilliseconds();else var e=0,i=0,a=0,n=0,s=0;e>=12?(a="PM",-1==t.indexOf("HH")&&0==(e-=12)&&(e=12)):a="AM","none"!=this.meridianInput.css("display")&&0==e&&(e=12),e<10&&(e="0"+e),i<10&&(i="0"+i),n<10&&(n="0"+n),s<10&&(s="0"+s),this.hourInput.val(e),this.minuteInput.val(i),this.secondInput.val(n),this.mssecondInput.val(s),this.meridianInput.val(a)}var r=this.getRange().to;if(this.hourInput2){if(r)var e=r.getHours(),i=r.getMinutes(),a=r.getHours(),n=r.getSeconds(),s=r.getMilliseconds();else var e=0,i=0,a=0,n=0,s=0;e>=12?(a="PM",-1==t.indexOf("HH")&&0==(e-=12)&&(e=12)):a="AM","none"!=this.meridianInput.css("display")&&0==e&&(e=12),e<10&&(e="0"+e),i<10&&(i="0"+i),n<10&&(n="0"+n),s<10&&(s="0"+s),this.hourInput2.val(e),this.minuteInput2.val(i),this.secondInput2.val(n),this.mssecondInput2.val(s),this.meridianInput2.val(a)}}},showCalendar:function(){var e=this.calendarContainer,i=this._calendar;if(t.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var a=this.timeContainer.find("input"),n=0,s=0;s<a.length;s++)"none"!=a[s].style.display&&(n+=50);this.container.width(parseInt(n)),this.touch||setTimeout(function(){a[0].focus(),t(a[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,i.canRender||(i.canRender=!0,i.render());this.container;var r,o=this,l=(t(window).scrollTop(),t(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),d=parseInt(Math.round(this.host.coord(!0).left));"element"===this.dropDownContainer&&(l=parseInt(this.host.outerHeight())-1+"px",r=0),r=d+"px";var h=t.jqx.mobile.isSafariMobileBrowser()||t.jqx.mobile.isWindowsPhone();null!=h&&h&&(r=t.jqx.mobile.getLeftPos(this.element),l=t.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=t("body").css("border-top-width")&&(l=parseInt(l)-this._getBodyOffset().top+"px"),"0px"!=t("body").css("border-left-width")&&(r=parseInt(r)-this._getBodyOffset().left+"px")),this.container.css("left",r),this.container.css("top",l);var u=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==o.selectionMode){this._validateValue(),this._updateText();var c=null!=this.value?this.value.dateTime:new Date;i.setDate(c)}this.closeCalendarAfterSelection=u;var m=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var p=this.container.outerWidth(),f=Math.abs(p-this.host.outerWidth()+2);if(this.rtl||(f-=2),p>this.host.width()){this.container.css("left",23+parseInt(Math.round(d))-f+"px")}else this.container.css("left",25+parseInt(Math.round(d))+f+"px")}if("top"==this.dropDownVerticalAlignment){var g=e.height();this.timePopup&&this.timeContainer.css("top",this.container.height()-75),m=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"));var v=parseInt(this.host.outerHeight()),x=parseInt(l)-Math.abs(g+v+23);this.container.css("top",x)}if(this.enableBrowserBoundsDetection){var y=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(l)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=y.top?(m=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"))):e.css("top",0),this.container.css("top",y.top),parseInt(this.container.css("left"))!=y.left&&this.container.css("left",y.left)}if(this._raiseEvent(7,e),"none"!=this.animationType){this.container.css("display","block");var T=parseInt(e.outerHeight());e.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(e.css("margin-top",0),e.css("opacity",0),e.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,t.data(document.body,"openedJQXCalendar"+o.id,e),o.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,t.data(document.body,"openedJQXCalendar"+o.id,e),o.timeContainer.focus()}))):(e.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),m?e.css("margin-top",T):e.css("margin-top",-T),this.timePopup&&(m?this.timeContainer.css("margin-top",T):this.timeContainer.css("margin-top",-T),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,t.data(document.body,"openedJQXCalendar"+o.id,e),o.timeContainer.focus()})),e.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,t.data(document.body,"openedJQXCalendar"+o.id,e),o.calendarContainer.focus()}))}else e.stop(),o.isanimating=!1,o.opening=!1,e.css("opacity",1),e.css("margin-top",0),this.container.css("display","block"),t.data(document.body,"openedJQXCalendar"+o.id,e),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(e,i){i&&(this.changeType=i);var a=this.calendarContainer,n=this.container,s=this;if(t.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=e)if("range"!=this.selectionMode&&this.hourInput){var r=this.getDate(),o=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),d=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),u=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(u.toLowerCase().indexOf("p")>=0&&o<12&&(o+=12),u.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12)),r||(r=new Date),r.setHours(o,l,d,h),this.setDate(r)}else if(this.hourInput&&"selected"!=e){var c=this.getRange(),o=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),d=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),u=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(u.toLowerCase().indexOf("p")>=0&&o<12&&(o+=12),u.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12));var m=c.from;m||(m=new Date),m.setHours(o,l,d,h);var o=parseInt(this.hourInput2.val()),l=parseInt(this.minuteInput2.val()),d=parseInt(this.secondInput2.val()),h=parseInt(this.mssecondInput2.val()),u=this.meridianInput2.val();""==l&&(l=0),""==d&&(d=0),""==h&&(h=0),"none"!=this.meridianInput2.css("display")&&(u.toLowerCase().indexOf("p")>=0&&o<12&&(o+=12),u.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12));var p=c.to;if(p||(p=new Date),p.setHours(o,l,d,h),p.valueOf()<m.valueOf())return!1;this.setRange(m,p)}else if("selected"==e)return;if(t.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var f=a.outerHeight();a.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var g=-f;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=f),"fade"==this.animationType?a.animate({opacity:0},this.closeDelay,function(){n.css("display","none"),s.isanimating=!1}):a.animate({"margin-top":g},this.closeDelay,function(){n.css("display","none"),s.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){n.css("display","none"),s.isanimating=!1}):this.timeContainer.animate({"margin-top":g},this.closeDelay,function(){n.css("display","none"),s.isanimating=!1}))}else n.css("display","none");void 0!=e&&this._updateSelectedDate(e),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,a)},_updateSelectedDate:function(){var e=this.value;null==e&&((e=new t.jqx._jqxDateTimeInput.getDateTime(new Date))._setHours(0),e._setMinutes(0),e._setSeconds(0),e._setMilliseconds(0));var i=e.hour,a=e.minute,n=e.second,s=e.millisecond;if("range"!=this.selectionMode||null!=this._calendar.getRange().from){var r=new t.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);r._setHours(i),r._setMinutes(a),r._setSeconds(n),r._setMilliseconds(s);var o=this.setDate(r.dateTime);if("range"==this.selectionMode&&!o&&this._oldDT){var l=this.getRange(),d=(this._oldDT,!1),h=!1,u=this._oldDT.from;if(null!=(r=l.from)&&u&&r.getFullYear()==u.getFullYear()&&r.getMonth()==u.getMonth()&&r.getDate()==u.getDate()&&r.getHours()==u.getHours()&&r.getMinutes()==u.getMinutes()&&r.getSeconds()==u.getSeconds()&&(d=!0),null!=(r=l.to)&&(u=this._oldDT.to)&&r.getFullYear()==u.getFullYear()&&r.getMonth()==u.getMonth()&&r.getDate()==u.getDate()&&r.getHours()==u.getHours()&&r.getMinutes()==u.getMinutes()&&r.getSeconds()==u.getSeconds()&&(h=!0),d&&h)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}}else this.setDate(null)},_closeOpenedCalendar:function(e){var i=t(e.target),a=t.data(document.body,"openedJQXCalendar"+e.data.me.id),n=!1;if(t.each(i.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-date-time-input-popup"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return!1}}),t(e.target).ischildof(e.data.me.host))return!0;if(null!=e.target&&("B"==e.target.tagName||"b"==e.target.tagName)){var s=e.data.me.host.coord(),r=e.data.me.host.width(),o=e.data.me.host.height(),l=parseInt(s.top),d=parseInt(s.left);if(l<=e.pageY&&e.pageY<=l+o&&d<=e.pageX&&e.pageX<=d+r)return!0}if(null!=a&&!n&&a.length>0){var h=a[0].id.toString().toString().substring(13);t(document).find("#"+h);!1!==e.data.me.hideCalendar()&&t.data(document.body,"openedJQXCalendar"+e.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var t=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(t),this.editors=new Array;for(var e=0;e<this.items.length;e++){var i=this.items[e].getDateTimeEditorByItemType(this.value,this);this.editors[e]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var e=this,i="";if(0==e.items.length&&null!=e.value&&e._loadItems(),null!=e.value&&(e.items.length>=1&&(i=e.format(e.value,0,e.items.length)),e.dateTimeInput.val()!=i&&e._raiseEvent(1,e.value)),"range"==e.selectionMode){var a=e.getRange();if(fromText=e.format(e.value,0,e.items.length),a.to){var n=t.jqx._jqxDateTimeInput.getDateTime(a.from);fromText=e.format(n,0,e.items.length);var s=t.jqx._jqxDateTimeInput.getDateTime(a.to);toText=e.format(s,0,e.items.length)," - "==(i=fromText+" - "+toText)&&(i="")}else i=""}e.dateTimeInput.val(i)},format:function(t,e,i){for(var a="",n=e;n<i;++n){var s=this.items[n].dateParser(t,this);if(this.isEditing&&"ReadOnly"!=this.items[n].type&&"range"!=this.selectionMode){var r="Day"==this.items[n].type&&this.items[n].format.length>2;if("FORMAT_AMPM"==this.items[n].type&&(r=!0,s=0==this.editors[n].value?this.editors[n].amString:this.editors[n].pmString),!r)for(s=this.items[n].dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);s.length<this.editors[n].maxEditPositions;)s="0"+s}a+=s}return a},_getFormatValueGroupLength:function(t){for(i=1;i<t.toString().length;++i)if(t.substring(i,i+1)!=t.substring(0,1))return i;return t.length},_parseFormatValue:function(e){for(var i=new Array,a=e.toString(),n=0;a.length>0;){var s=this._getFormatValueGroupLength(a),r=null;switch(a.substring(0,1)){case":":case"/":s=1,r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var o=a.indexOf(a[0],1);r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(1,1+Math.max(1,o-1)),"ReadOnly",this.culture),s=Math.max(1,o+1);break;case"\\":a.length>=2&&(r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(1,1),"ReadOnly",this.culture),s=2);break;case"d":case"D":r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"Day",this.culture);break;case"f":case"F":s>7&&(s=7),r=s>3?t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"ReadOnly",this.culture):t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"Millisecond",this.culture);break;case"g":r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"ReadOnly",this.culture);break;case"h":r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"FORMAT_hh",this.culture);break;case"H":r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"FORMAT_HH",this.culture);break;case"m":r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"Minute",this.culture);break;case"M":s>4&&(s=4),r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"Month",this.culture);break;case"s":case"S":r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"Second",this.culture);break;case"t":case"T":r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"FORMAT_AMPM",this.culture);break;case"y":case"Y":s>1?r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"Year",this.culture):(s=1,r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,s),"ReadOnly",this.culture);break;default:s=1,r=t.jqx._jqxDateTimeInput.DateTimeFormatItem._create(a.substring(0,1),"ReadOnly",this.culture)}i[n]=t.extend(!0,{},r),a=a.substring(s),n++}return i},_getFormatValue:function(t){if(null!=t&&0!=t.length||(t="d"),1==t.length)switch(t.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==t.length&&"%"==t.substring(0,1)&&(t=t.substring(1)),t},_updateEditorsValue:function(){var t=this.value;if(null!=t){var e=t.year,i=t.day,a=t.hour,n=t.millisecond,s=t.second,r=t.minute,o=t.month;if(null!=this.items)for(var l=0;l<this.items.length;l++)switch(this.items[l].type){case"FORMAT_AMPM":0==(d=a%12)&&(d=12),this.editors[l].value=a>=0&&a<12?0:1;break;case"Day":this.editors[l].value=i;break;case"FORMAT_hh":var d=a%12;0==d&&(d=12),this.editors[l].value=d;break;case"FORMAT_HH":this.editors[l].value=a;break;case"Millisecond":this.editors[l].value=n;break;case"Minute":this.editors[l].value=r;break;case"Month":this.editors[l].value=o;break;case"Second":this.editors[l].value=s;break;case"Year":this.editors[l].value=e}}},updateValue:function(e){if(!(this.isEditing||this.items&&0==this.items.length)){for(var i=1,a=1,n=0,s=0,r=0,o=0,l=1,d=!1,h=!1,u=!1,c=!1,m=!1,p=!1,f=!1,g=new Array,v=null,x=0,y=0;y<this.items.length;y++)switch(this.items[y].type){case"FORMAT_AMPM":this.editors[y].value,v=this.editors[y];break;case"Character":break;case"Day":this.items[y].format.length<3&&(a=this.editors[y].value,g[x++]=this.editors[y],0==a&&(a=1),u=!0);break;case"FORMAT_hh":case"FORMAT_HH":n=this.editors[y].value,c=!0;break;case"Millisecond":s=this.editors[y].value,f=!0;break;case"Minute":o=this.editors[y].value,m=!0;break;case"Month":h=!0,0==(l=this.editors[y].value)&&(l=1);break;case"ReadOnly":break;case"Second":r=this.editors[y].value,p=!0;break;case"Year":if(d=!0,i=this.editors[y].value,this.editors[y].getDateTimeItem().format.length<3){if(4=="1900".Length){var T=""+"1900"[0]+"1900"[1];i+=100*parseInt(T)}}0==i&&(i=1)}var _=null!=this.value?new Date(this.value.dateTime):null;if(i>0&&l>0&&a>0&&o>=0&&n>=0&&r>=0&&s>=0){var D=this.value;null!=D&&(d||(i=D.year),h||(l=D.month),u||(a=D.day));try{if(l>12&&(l=12),l<1&&(l=1),e&&D._daysInMonth(i,l)<=a&&(a=D._daysInMonth(i,l),null!=g&&g.length>0))for(y=0;y<g.length;y++)g[y].value=a;null!=v&&(0==v.value?n>=12&&(n-=12):n+12<24&&(n+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(i)),this.value._setDay(a),this.value._setMonth(l),c&&this.value._setHours(n),m&&this.value._setMinutes(o),p&&this.value._setSeconds(r),f&&this.value._setMilliseconds(s),this._validateTimeRange()}catch(t){this.value=D}if(null!=_&&!(this.value.dateTime.getFullYear()==_.getFullYear()&&this.value.dateTime.getDate()==_.getDate()&&this.value.dateTime.getMonth()==_.getMonth()&&this.value.dateTime.getHours()==_.getHours()&&this.value.dateTime.getMinutes()==_.getMinutes()&&this.value.dateTime.getSeconds()==_.getSeconds())){if(this.changing){var I=this.changing(_,this.value.dateTime);I&&(this.value=t.jqx._jqxDateTimeInput.getDateTime(I))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&t.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}var b=this.editors.indexOf(this.activeEditor);this.items[b];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(t){this.value._setYear(parseInt(t.year)),this.value._setDay(t.day),this.value._setMonth(t.month),this.value._setHours(t.hour),this.value._setMinutes(t.minute),this.value._setSeconds(t.second),this.value._setMilliseconds(t.milisecond)},_raiseEvent:function(e,i,a){var n=this.events[e],s={};s.owner=this,null==i&&(i={}),null==a&&(a=i);var r=i.charCode?i.charCode:i.keyCode?i.keyCode:0,o=!0,l=this.readonly,d=new t.Event(n);if(d.owner=this,d.args=s,d.args.date=this.getDate(),9==e&&(d.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==e&&"range"!=this.selectionMode){h=d.args.date;if(this._oldDT){if(null!=h&&h.getFullYear()==this._oldDT.getFullYear()&&h.getMonth()==this._oldDT.getMonth()&&h.getDate()==this._oldDT.getDate()&&h.getHours()==this._oldDT.getHours()&&h.getMinutes()==this._oldDT.getMinutes()&&h.getSeconds()==this._oldDT.getSeconds())return!0;t.jqx.aria(this,"aria-valuenow",this.getDate()),t.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?t.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):t.jqx.aria(this,"aria-label","Current focused date is Null")}d.args.oldValue=a,d.args.newValue=d.args.date,this._oldDT&&(d.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(d.args.date=this.getRange(),this._oldDT){var h=d.args.date.from;if(9==e){var u=!1,c=!1,m=this._oldDT.from;if(null!=h&&m&&h.getFullYear()==m.getFullYear()&&h.getMonth()==m.getMonth()&&h.getDate()==m.getDate()&&h.getHours()==m.getHours()&&h.getMinutes()==m.getMinutes()&&h.getSeconds()==m.getSeconds()&&(u=!0),null!=(h=d.args.date.to)&&(m=this._oldDT.to)&&h.getFullYear()==m.getFullYear()&&h.getMonth()==m.getMonth()&&h.getDate()==m.getDate()&&h.getHours()==m.getHours()&&h.getMinutes()==m.getMinutes()&&h.getSeconds()==m.getSeconds()&&(c=!0),u&&c)return!0;u=null==(u=d.args.date.from)?"":u.toString(),c=null==(c=d.args.date.to)?"":c.toString(),t.jqx.aria(this,"aria-valuenow",u+"-"+c),t.jqx.aria(this,"aria-valuetext",this.getText()),u&&c&&t.jqx.aria(this,"aria-label","Current focused range is "+u.toLocaleString()+"-"+c.toLocaleString())}}d.args.oldValue=a,d.args.newValue=d.args.date,this._oldDT&&(d.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&(o=this.host.trigger(d),d.stopPropagation&&d.stopPropagation());var p=this;if(l||2!=e||this.disabled||setTimeout(function(){p.isEditing=!0,this.selectionMode,p._selectGroup(-1)},25),4==e){if(l||this.disabled){if(8!=r&&46!=r||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==r)return!0;if(!i.altKey)return!1}o=this._handleKeyDown(i,r)}else if(5==e){if(9==r)return!0;if(l||this.disabled)return!1}else if(6==e){if(9==r)return!0;if(l||this.disabled)return!1;o=this._handleKeyPress(i,r)}return o},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var t=this.activeEditor,e=!1,i=this.editors.indexOf(this.activeEditor),a=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(i);for(;i>0;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){e=!0;break}return e||a>=0&&(this.activeEditor=this.editors[a]),null!=this.activeEditor&&t!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=t&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var t=this.activeEditor,e=!1,i=this.editors.indexOf(this.activeEditor),a=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&this.items[i].format.length>2)break;e=!0;break}return e||a>=0&&(this.activeEditor=this.editors[a]),null!=this.activeEditor&&this.activeEditor!=t&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=t&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_saveSelectedText:function(){var t=this._selection(),e="",a=this.dateTimeInput.val();if(t.start>0||t.length>0)for(i=t.start;i<t.end;i++)e+=a[i];return window.clipboardData&&window.clipboardData.setData("Text",e),e},_selectWithAdvancePattern:function(){var t=this.editors.indexOf(this.activeEditor),e=!1;if("ReadOnly"!=this.items[t].type&&(e=!0),e){var i=this.activeEditor;if(null!=i&&i.positions==i.maxEditPositions){this.editorText="";var a=i.value,n=!1;switch(this.items[t].type){case"FORMAT_AMPM":a<0?a=0:a>1&&(a=1);break;case"Character":break;case"Day":a<1?a=1:a>31&&(a=31);break;case"FORMAT_hh":a<1?a=1:a>12&&(a=12);break;case"FORMAT_HH":a<0?a=0:a>23&&(a=23);break;case"Millisecond":a<0?a=0:a>99&&(a=99);break;case"Minute":a<0?a=0:a>59&&(a=59);break;case"Month":a<1?a=1:a>12&&(a=12);break;case"ReadOnly":break;case"Second":a<0?a=0:a>59&&(a=59);break;case"Year":a<this.minDate.year?a=this.minDate.year:a>this.maxDate.year&&(a=this.maxDate.year)}return i.value!=a&&(n=!0),!n&&(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}},_handleKeyPress:function(t,e){var i=this._selection(),a=this,n=t.ctrlKey||t.metaKey;if(n&&97==e||n&&65==e)return!0;if(8==e)return i.start>0&&a._setSelectionStart(i.start),!1;if(46==e)return i.start<this.items.length&&a._setSelectionStart(i.start),!1;if(27===e)return this._firstFocusDate&&(this.setDate(this._firstFocusDate),this._setSelectionStart(0),this._selectGroup(-1)),!1;if(i.start>=0){this.changeType="keyboard";var s=String.fromCharCode(e),r=parseInt(s);if("p"!=s&&"a"!=s&&"A"!=s&&"P"!=s||"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=s&&"P"!=s?1!=this.activeEditor.value||"a"!=s&&"A"!=s||this.spinDown():this.spinUp()),!isNaN(r)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var o=this.editors.indexOf(this.activeEditor),l=null;if(this.isEditing=!0,"ReadOnly"!=o.type&&(l=this.activeEditor),null!=l&&0==l.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(s),null!=l&&this.editorText.length>=l.maxEditPositions&&(this.editorText=""),this.editorText+=s;var d=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var h=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==h&&d&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}return this._isSpecialKey(e)},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(e,i){var a=this;if(this.timePopup=!1,84==i&&(this.timePopup=!0),115==e.keyCode){if(a.isOpened())return a.hideCalendar("keyboard","keyboard"),!1;if(!a.isOpened())return a.showCalendar("keyboard","keyboard"),!1}if(e.altKey){if(38==e.keyCode){if(a.isOpened())return a.showTimeButton&&!a.showCalendarButton&&(a.timePopup=!0),a.hideCalendar("keyboard","keyboard"),!1}else if(40==e.keyCode&&!a.isOpened())return a.showTimeButton&&!a.showCalendarButton&&(a.timePopup=!0),a.showCalendar("keyboard","keyboard"),!1}else if(e.ctrlKey)if(this.timePopup=!0,38==e.keyCode){if(a.isOpened())return a.hideCalendar("keyboard","keyboard"),!1}else if(40==e.keyCode&&!a.isOpened())return a.showCalendar("keyboard","keyboard"),!1;if(!a.isOpened()){a._selection();var n=e.ctrlKey||e.metaKey;if(n&&99==i||n&&67==i)return a._saveSelectedText(e),!0;if(n&&122==i||n&&90==i)return!1;if(n&&118==i||n&&86==i||e.shiftKey&&45==i){a.val();var s=this,r=t('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return t("body").append(r),r.select(),setTimeout(function(){var t=r.val();s.setDate(t),r.remove()},100),!0}if(8==i||46==i){if(e.altKey||n||46!=i){if(null!=a.activeEditor){var o=a.editors.indexOf(a.activeEditor);if(a.activeEditor.positions>=0){var l=a._format(Number(a.activeEditor.value),"d"+a.activeEditor.maxEditPositions,a.culture);if(tmp=l,tmp=tmp.substring(0,a.activeEditor.positions)+"0"+tmp.substring(a.activeEditor.positions+1),parseInt(tmp)<a.activeEditor.minValue&&(tmp=a._format(Number(a.activeEditor.minValue),"d"+a.activeEditor.maxEditPositions,a.culture)),a.enableAbsoluteSelection?a.activeEditor.value=tmp:a.activeEditor.value=a.activeEditor.minValue,a._validateValue(),a._updateText(),a.changeType="keyboard",8==i){var d=this;a.enableAbsoluteSelection&&a.activeEditor.positions>0?setTimeout(function(){d.activeEditor.positions=d.activeEditor.positions-1,d._selectGroup(o)},10):setTimeout(function(){d._doLeftKey()},10)}else a._selectGroup(o)}else a._doLeftKey()}}else a.isEditing=!1,a.allowKeyboardDelete&&(a.changeType="keyboard",a.allowNullDate?a.setDate(null):"range"!=a.selectionMode?a.setDate(a.getMinDate()):a.setRange(a.getMinDate(),a.getMinDate()));return!1}if(38==i)return this.spinUp(),a.changeType="keyboard",!1;if(40==i)return this.spinDown(),a.changeType="keyboard",!1;if(9==i){if(null==a.value)return!0;if(e.shiftKey)h=this._doLeftKey();else h=this._doRightKey();return!h}if(37==i){if(this._editor)return(h=this._doLeftKey())||(this.isEditing=!1,this._validateValue()),!h;h=this._doLeftKey();return!1}if(39==i||191==i){if(this._editor)return(h=this._doRightKey())||(this.isEditing=!1,this._validateValue()),!h;var h=this._doRightKey();return!1}var u=this._isSpecialKey(i);return null==this.value&&(i>=48&&i<=57||i>=96&&i<=105)&&(a.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),!t.jqx.browser.mozilla||(!!(t.jqx.browser.mozilla&&t.jqx.browser.version>24)||u)}if(9==e.keyCode)return a.hideCalendar("selected","keyboard"),!0},_isSpecialKey:function(t){return 8==t||9==t||13==t||35==t||36==t||37==t||39==t||27==t||46==t},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var t=this.dateTimeInput[0],e=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:t.value.length,length:0};var a=this.dateTimeInput[0].createTextRange(),n=a.duplicate();a.moveToBookmark(i.getBookmark()),n.setEndPoint("EndToStart",a);e=i.text.length;return{start:n.text.length,end:n.text.length+i.text.length,length:e,text:i.text}},_selectGroup:function(t,e){if("none"!=this.host.css("display")&&!this.readonly){if(!e)var e=this._selection();for(var i="",a="",n=null,s=0;s<this.items.length;s++){if(a=this.items[s].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[s].type&&!("Day"==this.items[s].type&&this.items[s].format.length>2)&&"FORMAT_AMPM"!=this.items[s].type)for(a=this.items[s].dateParserInEditMode(new Number(this.editors[s].value),"d"+this.editors[s].maxEditPositions,this);a.length<this.editors[s].maxEditPositions;)a="0"+a;if(i+=a,"ReadOnly"!=this.items[s].type&&!("Day"==this.items[s].type&&this.items[s].format.length>2))if(void 0!=t&&-1!=t){if(s>=t){var r=i.length-a.length,o=a.length;this.enableAbsoluteSelection&&!isNaN(parseInt(a))&&this.isEditing&&-1!=t&&(o=1,r+=this.editors[s].positions),r==this.dateTimeInput.val().length&&r--,this._setSelection(r,r+o),n=this.editors[s],this.activeEditor=n;break}}else if(i.length>=e.start){n=this.editors[s],this.activeEditor=n;var r=i.length-a.length,o=1;this.enableAbsoluteSelection?!isNaN(parseInt(a))&&this.isEditing&&-1!=t&&(o=1,r+=this.editors[s].positions):o=a.length,this._setSelection(r,r+o);break}}s<this.items.length&&-1==t&&"ReadOnly"!=this.items[s].type&&(this.activeEditor.positions=0);var l=this._selection();if(0==l.length&&l.start>0)this._getLastEditableEditorIndex()}},_getLastEditableEditorIndex:function(){var t=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||(t=i));return t},_setSelection:function(t,e){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(t,e);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select()}}catch(t){}},_setSelectionStart:function(t){this._setSelection(t,t)},destroy:function(){t.jqx.utilities.resize(this.host,null,!0),this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(t){1!=t&&(this._setSize(),this._arrange())},resize:function(t,e){this.width=t,this.height=e,this.refresh()},_setOption:function(t,e,i){"value"===t&&(this.selectionMode,this._oldDT=null,this.value=e,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==t&&(this._calendar.maxDate=e,this._raiseEvent(9,{type:null})),"minDate"==t&&(this._calendar.minDate=e,this._raiseEvent(9,{type:null})),"showCalendarButton"==t&&(e?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==t&&this.dateTimeInput.attr("disabled",e),"readonly"==t&&(this.readonly=e,this.dateTimeInput.css("readonly",e)),"textAlign"==t&&(this.dateTimeInput.css("text-align",e),this.textAlign=e),"width"==t?(this.width=e,this.width=parseInt(this.width),this._arrange()):"height"==t&&(this.height=e,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jqxBaseFramework),function(t){t.jqx._jqxDateTimeInput.DateTimeFormatItem={},t.extend(t.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(t,e,i){return this.format=t,this.type=e,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(t,e){return null==t?"":e._format(t.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture)},dateParserInEditMode:function(t,e,i){return null==t?"":i._format(t.toString(),1==e.length?"%"+e:e,this.culture)},getDateTimeEditorByItemType:function(e,i){switch(this.type){case"FORMAT_AMPM":var a=t.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,e.hour/12,i.localization.calendar.AM[0],i.localization.calendar.PM[0],this,i);return v=t.extend({},a);case"Character":return null;case"Day":var n,s=e.year,r=e.month;n=3==this.format.length?i.localization.calendar.days.namesAbbr:this.format.length>3?i.localization.calendar.days.names:null;e.day;null!=n&&e.dayOfWeek+1;var o=t.jqx._jqxDateTimeInput.DateEditor._createDayEditor(e,e.day,1,e._daysInMonth(s,r),1==this.format.length?1:2,2,n,this,i);return v=t.extend({},o);case"FORMAT_hh":var l=e.hour%12;0==l&&(l=12);var d=t.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(l,1,12,1==this.format.length?1:2,2,this,i);return v=t.extend({},d);case"FORMAT_HH":var h=t.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.hour,0,23,1==this.format.length?1:2,2,this,i);return v=t.extend({},h);case"Millisecond":var u=t.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,i);return v=t.extend({},u);case"Minute":var c=t.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.minute,0,59,1==this.format.length?1:2,2,this,i);return v=t.extend({},c);case"Month":var m;m=3==this.format.length?i.localization.calendar.months.namesAbbr:this.format.length>3?i.localization.calendar.months.names:null;var p=t.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(e.month,2==this.format.length?2:1,m,this,i);return v=t.extend({},p);case"ReadOnly":return t.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,e.day,this,i);case"Second":var f=t.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(e.second,0,59,1==this.format.length?1:2,2,this,i);return v=t.extend({},f);case"Year":var g=t.jqx._jqxDateTimeInput.DateEditor._createYearEditor(e.year,4,this,i),v=t.extend({},g);return v}return null}})}(jqxBaseFramework),function(t){t.jqx._jqxDateTimeInput.DateEditor=t.extend(t.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(t,e,i,a,n){this.minValue=t,this.maxValue=e,this.minEditPositions=i,this.maxEditPositions=a,this.updateActiveEditor(t),this.item=n},_createYearEditor:function(e,i,a,n){return t.jqx._jqxDateTimeInput.DateEditor=t.extend(!0,{},this),this.initializeFields(0,i<4?99:9999,2==i?2:1,i>3?4:2,a),this.initializeYearEditor(e,i,a.culture),this.handleYears=!0,this.that=n,this},initializeYearEditor:function(t,e,i){this.formatValueLength=e,this.dateTimeFormatInfo=i;var a=t;a=Math.min(a,9999),a=Math.max(a,1),a=this.formatValueLength<4?a%100:a,this.updateActiveEditor(a),this.value=a},updateActiveEditor:function(t){this.value=t,this.positions=0},_createDayEditor:function(e,i,a,n,s,r,o,l,d){return t.jqx._jqxDateTimeInput.DateEditor=t.extend(!0,{},this),this.initializeFields(a,n,1,r,l),this.currentValue=e,this.value=i,this.days=o,this.handleDays=!0,this.that=d,this},getDayOfWeek:function(e){return typeof this.currentValue==t.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),e},defaultTextValue:function(){this.value;var t=this.minEditPositions;return this.that._format(this.value,"d"+t,"")},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var t=this.value%7+1;return t=this.getDayOfWeek(t),this.days[t]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(t){if(null==t)return this.deleteValue();if(0==t.length)return this.deleteValue();var e=t.substring(0,1);if(!isNaN(e)){var i;return i=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+e+i.substring(this.positions+1),i=this.setValueByString(i,1),!0}},setValueByString:function(t,e){t=this.fixValueString(t);var i=new Number(t);return this.value=i,this.positions+=e,t},fixValueString:function(t){return t.length>this.maxEditPositions&&(t=t.substring(t.length-this.maxEditPositions)),t},initializeValueString:function(t){var e;return e="",this.hasDigits()&&(e=t),e},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(t){if(this.handleDays){if(null!=this.days){e=!1;if(e=this.insertLongString(t,e))return e;if(e=this.insertShortString(t,e))return e}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=t,this.defaultInsertString(t)}if(this.handleMonths&&null!=this.dateTimeMonths){var e=!1;if(e=this.insertLongString2(t,e))return e;if(e=this.insertShortString2(t,e))return e}return this.defaultInsertString(t)},insertShortString:function(t,e){if(1==t.length)for(i=0;i<6;++i){var a=(this.value+i)%7+1;if(this.days[a-1].substring(0,1)==t)return this.updateActiveEditor(a),e=!0}return e},insertLongString:function(t,e){if(t.length>0)for(i=0;i<6;++i){var a=(this.value+i)%7+1;if(this.days[a-1]==t)return this.updateActiveEditor(a),e=!0}return e},_createMonthEditor:function(e,i,a,n,s){return t.jqx._jqxDateTimeInput.DateEditor=t.extend(!0,{},this),this.initializeFields(1,12,i,2,n),this.dateTimeMonths=a,this.value=e,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=s,this},insertLongString2:function(t,e){if(t.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==t)return this.updateActiveEditor(month),e=!0;return e},insertShortString2:function(t,e){if(1==t.length)for(i=0;i<11;++i){var a=(this.value+i)%12+1;if(this.dateTimeMonths[a-1].substring(0,1)==t)return this.updateActiveEditor(a),e=!0}return e},correctMaximumValue:function(t){return t>this.maxValue&&(t=this.minValue),t},correctMinimumValue:function(t){return t<this.minValue&&(t=this.maxValue),t},increaseValue:function(t){var e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=e.toString()[this.positions];if((i=parseInt(i)+1)>9&&(i=0),!t){var a=this.value+1;return a=this.correctMaximumValue(a),this.updateActiveEditor(a),!0}var n=e.substring(0,this.positions)+i+e.substring(this.positions+1);return!(n==this.value&&!this.hasDigits())&&(this.updateActiveEditor(n),!0)},decreaseValue:function(t){var e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=e.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!t){var a=this.value-1;return a=this.correctMinimumValue(a),this.updateActiveEditor(a),!0}var n=e.substring(0,this.positions)+i+e.substring(this.positions+1);return!(n==this.value&&!this.hasDigits())&&(this.updateActiveEditor(n),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(t){t.jqx._jqxDateTimeInput.NumberEditor={},t.extend(t.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(e,i,a,n,s,r,o){return t.jqx._jqxDateTimeInput.NumberEditor=t.extend(!0,{},this),this.initializeFields(i,a,n,s,r),this.that=o,this},initializeFields:function(t,e,i,a,n){this.minValue=t,this.maxValue=e,this.minEditPositions=i,this.maxEditPositions=a,this.updateActiveEditor(t),this.item=n},updateActiveEditor:function(t){this.value=t,this.positions=0},getDayOfWeek:function(e){return typeof this.currentValue==t.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),e},textValue:function(){this.value;var t=this.minEditPositions;return this.that._format(this.value,"d"+t,"")},insert:function(t){if(null==t)return this.deleteValue();if(0==t.length)return this.deleteValue();var e=t.substring(0,1);if(!isNaN(e)){var i;return i=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+e+i.substring(this.positions+1),i=this.setValueByString(i,1),!0}},setValueByString:function(t,e){t=this.fixValueString(t);var i=new Number(t);return this.value=i,this.positions+=e,t},fixValueString:function(t){return t.length>this.maxEditPositions&&(t=t.substring(t.length-this.maxEditPositions)),t},initializeValueString:function(t){var e;return e="",this.hasDigits()&&(e=t),e},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(t){return t>this.maxValue&&(t=this.minValue),t},correctMinimumValue:function(t){return t<this.minValue&&(t=this.maxValue),t},increaseValue:function(t){var e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=e.toString()[this.positions];if((i=parseInt(i)+1)>9&&(i=0),!t){var a=this.value+1;return a=this.correctMaximumValue(a),this.updateActiveEditor(a),!0}var n=e.substring(0,this.positions)+i+e.substring(this.positions+1);return!(n==this.value&&!this.hasDigits())&&(this.updateActiveEditor(n),!0)},decreaseValue:function(t){var e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=e.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!t){var a=this.value-1;return a=this.correctMinimumValue(a),this.updateActiveEditor(a),!0}var n=e.substring(0,this.positions)+i+e.substring(this.positions+1);return!(n==this.value&&!this.hasDigits())&&(this.updateActiveEditor(n),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(t){t.jqx._jqxDateTimeInput.DisabledEditor={},t.extend(t.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(t,e,i,a,n,s){return this.format=t,this.value=-1,this.item=n,this.that=s,this},textValue:function(){return""},insert:function(t){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(t){t.jqx._jqxDateTimeInput.AmPmEditor={},t.extend(t.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(t,e,i,a,n,s){return this.format=t,this.value=e,this.minValue=0,this.amString=i,this.pmString=a,this.item=n,this.that=s,i==a&&(this.amString="<"+i,this.pmString=">"+a),this},textValue:function(){var t=this.amString;return 0!=this.value&&(t=this.pmString),1==this.format.length&&t.length>1&&(t=t.substring(0,1)),t},insert:function(t){var e=t.toString();if(0==e.Length)return this.deleteValue();var i=!1;if(this.amString.Length>0&&this.pmString.Length>0){var a=amString[0],n=e[0],s=pmString[0];a.toString()==n.toString()?(this.value=0,i=!0):s.toString()==n.toString()&&(this.value=1,i=!0)}else this.pmString.Length>0?(this.value=1,i=!0):this.amString.Length>0&&(this.value=0,i=!0);return i},deleteValue:function(){if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return!0},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxDateTimeInput.getDateTime=function(t){return{dateTime:new Date(t),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:t.getHours(),minute:t.getMinutes(),day:t.getDate(),second:t.getSeconds(),month:1+t.getMonth(),year:t.getFullYear(),millisecond:t.getMilliseconds(),dayOfWeek:t.getDay(),isWeekend:function(t){return void 0!=t&&null!=t||(t=this.dateTime),t.getDay()%6==0},dayOfYear:function(t){void 0!=t&&null!=t||(t=this.dateTime);var e=new Date(t.getFullYear(),0,1);return Math.ceil((t-e)/864e5)},_setDay:function(t){void 0!=t&&null!=t||(t=0),this.dateTime.setDate(t),this.day=this.dateTime.getDate()},_setMonth:function(t){void 0!=t&&null!=t||(t=0),this.dateTime.setMonth(t-1),this.month=1+this.dateTime.getMonth()},_setYear:function(t){void 0!=t&&null!=t||(t=0),this.dateTime.setFullYear(t),this.year=this.dateTime.getFullYear()},_setHours:function(t){void 0!=t&&null!=t||(t=0),this.dateTime.setHours(t),this.hour=this.dateTime.getHours()},_setMinutes:function(t){void 0!=t&&null!=t||(t=0),this.dateTime.setMinutes(t),this.minute=this.dateTime.getMinutes()},_setSeconds:function(t){void 0!=t&&null!=t||(t=0),this.dateTime.setSeconds(t),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(t){void 0!=t&&null!=t||(t=0),this.dateTime.setMilliseconds(t),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(t){var e=this.dateTime,i=e.getDate();return e.setDate(e.getDate()+t),i===e.getDate()&&e.setHours(e.getHours()+e.getTimezoneOffset()/60),e},_addWeeks:function(t){var e=this.dateTime;return e.setDate(e.getDate()+7*t),e},_addMonths:function(t){var e=this.dateTime;return e.setMonth(e.getMonth()+t),e},_addYears:function(t){var e=this.dateTime;return e.setFullYear(e.getFullYear()+t),e},_addHours:function(t){var e=this.dateTime;return e.setHours(e.getHours()+t),e},_addMinutes:function(t){var e=this.dateTime;return e.setMinutes(e.getMinutes()+t),e},_addSeconds:function(t){var e=this.dateTime;return e.setSeconds(e.getSeconds()+t),e},_addMilliseconds:function(t){var e=this.dateTime;return e.setMilliseconds(e.getMilliseconds()+t),e},_isLeapYear:function(t){if(t<1||t>9999)throw"invalid year";return t%4==0&&(t%100!=0||t%400==0)},_dateToTicks:function(t,e,i){if(t>=1&&t<=9999&&e>=1&&e<=12){var a=this._isLeapYear(t)?this.daysToMonth366:this.daysToMonth365;if(i>=1&&i<=a[e]-a[e-1])return 864e9*(365*(t=t-1)+t/4-t/100+t/400+a[e-1]+i-1)}},_daysInMonth:function(t,e){if(e<1||e>12)throw"Invalid month.";var i=this._isLeapYear(t)?this.daysToMonth366:this.daysToMonth365;return i[e]-i[e-1]},_timeToTicks:function(t,e,i){return 1e7*(3600*t+60*e+i)},_equalDate:function(t){return this.year==t.getFullYear()&&this.day==t.getDate()&&this.month==t.getMonth()+1}}};

!function(e){"use strict";e.jqx.jqxWidget("jqxLayout","",{}),e.extend(e.jqx._jqxLayout.prototype,{defineInstance:function(){var t={width:null,height:null,minGroupWidth:100,minGroupHeight:100,layout:[],resizable:!0,contextMenu:!1,rtl:!1,events:["create","resize","pin","unpin","floatGroupClosed"]};return this===e.jqx._jqxLayout.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;t._originalElement=e(t.element.cloneNode(!0)),t._coordinates=[],t._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,t._ie7=e.jqx.browser.msie&&e.jqx.browser.version<8,t._touchDevice=e.jqx.mobile.isTouchDevice(),"none"!==t.host.css("display")&&!0===document.body.contains(t.element)?(t._initiallyHidden=!1,t._initialization=!0,t.render()):t._initiallyHidden=!0,e.jqx.utilities.resize(this.host,function(){!0!==t._suppressResizeHandler&&(!0===t._initiallyHidden&&(t._initialization=!0),t.render(),!0===t._initiallyHidden&&(t.dockingLayout&&(t.dockingLayout._createOverlay(),t.dockingLayout._createEdgeOverlays()),t._initiallyHidden=!1))})},render:function(){var t,o,i=this,n=[];if(i._tabbedGroupsList=[],i.dockingLayout&&(i._overlayGroups=[],!1===i._initialization)){t=i.dockingLayout._overlay.detach(),o=i.dockingLayout._dropOverlayHelper.detach();for(var a=0;a<i.dockingLayout._edgeOverlays.length;a++)n.push(e(i.dockingLayout._edgeOverlays[a]).detach())}if(!0===i._rendered&&i._detachContent(i.layout[0].items),i.element.innerHTML="",!i.host.jqxRibbon)throw new Error("jqxLayout: Missing reference to jqxribbon.js.");if(i._setSize(),i._addClasses(),i._removeHandlers(),!i._rendered){if("layoutGroup"!==i.layout[0].type)throw new Error('jqxLayout: Invalid layout structure. The first member of the layout array has to be with type: "layoutGroup".');var r=i.layout[0].items[0].width,d=i.layout[0].items[0].height;r&&"string"==typeof r&&"%"===r.charAt(r.length-1)||d&&"string"==typeof d&&"%"===d.charAt(d.length-1)||(i.layout[0].initialPxWidth=i.element.offsetWidth,i.layout[0].initialPxHeight=i.element.offsetHeight,i._pxToPercent(i.layout[0],!0))}if(i._createLayout(i.layout,i.host,{type:"host"},0),!0===i.resizable&&(i._addResizeFeedbacks(),i._getGroupCoordinates(),i._addHandlers()),!0===i.contextMenu&&i._initMenu(),!0===i._initialization)i._initialization=!1,i._raiseEvent("0");else if(i.dockingLayout){if(i._ie7){e("body").append(t,o);for(var l=0;l<n.length;l++)e("body").append(n[l])}else{t.appendTo(i.host),o.appendTo(i.host);for(var s=0;s<n.length;s++)n[s].appendTo(i.host)}i.dockingLayout._trackFloatGroups()}for(var u=0;u<i._tabbedGroupsList.length;u++)i._validateTabbedGroup(i._tabbedGroupsList[u]);i._rendered||(i._rendered=!0)},refresh:function(e){!0!==e&&this.render()},destroy:function(){var e=this;e._mouseupHandler=null,e._docUP=null,e._removeHandlers(),!0===e.contextMenu&&e._menu.jqxMenu("destroy"),e.host.remove()},saveLayout:function(){for(var e=this,t=[],o=0;o<e.layout.length;o++)e._copyItem(e.layout[o],t);return t},loadLayout:function(t){if(void 0!==t&&!1===e.isEmptyObject(t)){var o=this;o.layout=t,o._rendered=!1,o.render()}},propertyChangedHandler:function(t,o,i,n){if("layout"!==o){if(n!==i)switch(o){case"width":case"height":t.element.style[o]=t._toPx(n);break;case"theme":e.jqx.utilities.setTheme(i,n,t.host),t._menuInitialized&&e.jqx.utilities.setTheme(i,n,t._menu),t.dockingLayout&&e("."+t.element.id+"FloatGroup").length>0&&e("."+t.element.id+"FloatGroup").jqxWindow({theme:n});break;case"layout":case"resizable":t.render();break;case"contextMenu":!0!==n||t._menuInitialized||t.render();break;case"rtl":var a=n?"rtl":"ltr",r=n?"ltr":"rtl",d=function(o){for(var i=t._find(o,".jqx-layout-pseudo-window-title-"+r),d=t._find(o,".jqx-layout-pseudo-window-pin-background-"+r),l=t._find(o,".jqx-layout-pseudo-window-close-background-"+r),s=t._find(o,".jqx-layout-ribbon-header"),u=t._find(o,".jqx-ribbon"),c=0;c<i.length;c++){var p=e(i[c]);p.removeClass(t.toThemeProperty("jqx-layout-pseudo-window-title-"+r)),p.addClass(t.toThemeProperty("jqx-layout-pseudo-window-title-"+a))}for(var h=0;h<d.length;h++){var g=e(d[h]);g.removeClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+r)),g.addClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+a))}for(var m=0;m<l.length;m++){var y=e(l[m]);y.removeClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-"+r)),y.addClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-"+a))}for(var f=0;f<s.length;f++){var _=e(s[f]);_.removeClass(t.toThemeProperty("jqx-layout-ribbon-header-"+r)),_.addClass(t.toThemeProperty("jqx-layout-ribbon-header-"+a))}for(var v=0;v<u.length;v++)e(u[v]).jqxRibbon({rtl:n})};if(d(t.host),t.dockingLayout)for(var l=t._find(document.body,"."+t.element.id+"FloatGroup"),s=0;s<l.length;s++){var u=e(l[s]);d(u),u.jqxWindow({rtl:n})}}}else t.render()},_raiseEvent:function(t,o){void 0===o&&(o={owner:null});var i=this.events[t];o.owner=this;var n=new e.Event(i);return n.owner=this,n.args=o,n.preventDefault&&n.preventDefault(),this.host.trigger(n)},_setSize:function(){var e=this;e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height)},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-layout jqx-widget jqx-widget-content jqx-rc-all"))},_getPercentage:function(e,t,o){return e/t.widget[o]()*100},_addHandlers:function(){function t(e,t){for(var o=0;o<l._coordinates.length;o++){var i=l._coordinates[o];if(e>=i.x.from&&e<=i.x.to&&t>=i.y.from&&t<=i.y.to){"horizontal"===i.orientation?l.element.style.cursor="col-resize":l.element.style.cursor="row-resize",l._resize={allowed:!0,widget:i.widget,side:i.side};break}l.element.style.cursor="default",l._resize.allowed=!1}}function o(e){if(!0===l._resize.allowed){var t=l._resize.widget,o=t.current.parent,i=l._percentToPx("width",t.current.minWidth,o),n=l._percentToPx("height",t.current.minHeight,o),a=o.items[t.current.index-1],s=o.items[t.current.index+1];switch(l._resizeStartPosition={x:e.pageX,y:e.pageY},i||(i=l._percentToPx("width",l.minGroupWidth,o)),i=Math.min(i,t.width()),t.current.minWidth=i,n||(n=l._percentToPx("height",l.minGroupHeight,o)),n=Math.min(n,t.height()),t.current.minHeight=n,l._resize.side){case"left":var u=l._percentToPx("width",a.minWidth,o);u||(u=l._percentToPx("width",l.minGroupWidth,o)),r=a.widget.offset().left+u,d=t.offset().left+t.width()-i;break;case"right":var c=l._percentToPx("width",s.minWidth,o);c||(c=l._percentToPx("width",l.minGroupWidth,o)),r=t.offset().left+i,d=s.widget.offset().left+s.widget.width()-c;break;case"top":var p=l._percentToPx("height",a.minHeight,o);p||(p=l._percentToPx("height",l.minGroupHeight,o)),r=a.widget.offset().top+p,d=t.offset().top+t.height()-n;break;case"bottom":var h=l._percentToPx("height",s.minHeight,o);h||(h=l._percentToPx("height",l.minGroupHeight,o)),r=t.offset().top+n,d=s.widget.offset().top+s.widget.height()-h}var g,m=function(e,t){if(t=void 0===t?{top:0,left:0}:t,e!==top){var o=e.frameElement.getBoundingClientRect();t.left+=o.left,t.top+=o.top,t=m(e.parent,t)}return t};l._clickedToResize=!0,l._overlay[0].style.display="block","left"===l._resize.side||"right"===l._resize.side?(l._verticalFeedback[0].style.height=l._resize.widget.height()+"px",g=l._ie7?m(window).top:0,l._verticalFeedback.offset({top:l._resize.widget.offset().top-l.host.offset().top+document.body.scrollTop-g})):(l._horizontalFeedback[0].style.width=l._resize.widget.width()+"px",g=l._ie7?m(window).left:0,l._horizontalFeedback.offset({left:l._resize.widget.offset().left-l.host.offset().left+document.body.scrollLeft+1-g}))}}function i(e,t,o,i,n){var a,r,d=n.charAt(0).toUpperCase()+n.slice(1),s=t.parent;return e?(a=l._percentToPx(n,o["min"+d],s),r=parseFloat(o[n])/100*t.parent.widget[n]()-i):(a=l._percentToPx(n,t["min"+d],s),r=parseFloat(t[n])/100*t.parent.widget[n]()-i),a||(a=l._percentToPx(n,l["minGroup"+d],s)),r<a?a:r}function n(e){if(!0===l._clickedToResize){var t,o,n,a,r,d,s=function(){l._clickedToResize=!1,l._overlay[0].style.display="none",l._verticalFeedback[0].style.display="none",l._horizontalFeedback[0].style.display="none"},u=e.pageX,c=e.pageY,p=l._resize.widget.current,h=l._resize.widget.offset(),g=h.left,m=h.top;if(e.pageX===l._resizeStartPosition.x&&e.pageY===l._resizeStartPosition.y)return void s();if("left"===l._resize.side||"right"===l._resize.side){if(d=p.width,"left"===l._resize.side?(t=p.parent.items[p.index-1],n=u<(o=g)):(t=p.parent.items[p.index+1],n=u>=(o=g+p.widget.width())),0===(a=Math.abs(u-o)))return void s();if(n?(r=l._getPercentage(i(!0,p,t,a,"width"),p.parent,"width"),a=Math.abs(r-parseFloat(t.width)),t.width=r+"%",p.width=parseFloat(p.width)+a+"%"):(r=l._getPercentage(i(!1,p,t,a,"width"),p.parent,"width"),a=Math.abs(r-parseFloat(p.width)),p.width=r+"%",t.width=parseFloat(t.width)+a+"%"),p.width===d)return void s()}else{if(d=p.height,"top"===l._resize.side?(t=p.parent.items[p.index-1],n=c<(o=m)):(t=p.parent.items[p.index+1],n=c>=(o=m+p.widget.height())),0===(a=Math.abs(c-o)))return void s();if(n?(r=l._getPercentage(i(!0,p,t,a,"height"),p.parent,"height"),a=Math.abs(r-parseFloat(t.height)),t.height=r+"%",p.height=parseFloat(p.height)+a+"%"):(r=l._getPercentage(i(!1,p,t,a,"height"),p.parent,"height"),a=Math.abs(r-parseFloat(p.height)),p.height=r+"%",t.height=parseFloat(t.height)+a+"%"),p.height===d)return void s()}s(),l.render(),l._raiseEvent("1",{item:p})}}function a(e){if(!0===l._clickedToResize){var t=e.pageX,o=e.pageY;"left"===l._resize.side||"right"===l._resize.side?(l._verticalFeedback[0].style.display="block",t<r?(t=r,l._verticalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):t>d?(t=d,l._verticalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):l._verticalFeedback.removeClass(l.toThemeProperty("jqx-layout-resize-feedback-warning")),l._verticalFeedback.offset({left:t-2})):(l._horizontalFeedback[0].style.display="block",o<r?(o=r,l._horizontalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):o>d?(o=d,l._horizontalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):l._horizontalFeedback.removeClass(l.toThemeProperty("jqx-layout-resize-feedback-warning")),l._horizontalFeedback.offset({top:o-2}),l._horizontalFeedback.offset({left:l._resize.widget.offset().left+document.body.scrollLeft+1}))}}var r,d,l=this,s=l.element.id;if(l._resize={allowed:!1},l._clickedToResize=!1,l._docUP=n,l._touchDevice?(l.addHandler(e(document),"touchstart.jqxDockingLayout"+s,function(e){var i=e.originalEvent.touches[0];t(i.pageX,i.pageY),o(i)}),l.addHandler(e(document),"touchmove.jqxDockingLayout"+s,function(e){a(e.originalEvent.touches[0])}),l.addHandler(e(document),"touchend.jqxDockingLayout"+s,function(e){n(e.originalEvent.changedTouches[0])})):(l.addHandler(l.host,"mousemove.jqxLayout"+s,function(e){!1===l._clickedToResize&&(!l.dockingLayout||l.dockingLayout&&!0!==l.dockingLayout._windowDragged)&&t(e.pageX,e.pageY)}),l.addHandler(e(document),"mousemove.jqxLayout"+s,function(e){a(e)}),l.addHandler(l.host,"mousedown.jqxLayout"+s,function(e){o(e)}),l.addHandler(e(document),"mouseup.jqxLayout"+s,function(e){n(e)})),l.addHandler(e(document),"selectstart.jqxLayout"+s,function(){if(!0===l._clickedToResize)return!1}),l.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l._mouseupHandler,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l._mouseupHandler))}catch(e){}},_removeHandlers:function(){var t=this,o=t.element.id;if(t._touchDevice?(t.removeHandler(e(document),"touchstart.jqxLayout"+o),t.removeHandler(e(document),"touchmove.jqxLayout"+o),t.removeHandler(e(document),"touchend.jqxLayout"+o)):(t.removeHandler(t.host,"mousemove.jqxLayout"+o),t.removeHandler(e(document),"mousemove.jqxLayout"+o),t.removeHandler(t.host,"mousedown.jqxLayout"+o),t.removeHandler(e(document),"mouseup.jqxLayout"+o)),t.removeHandler(e(document),"selectstart.jqxLayout"+o),t.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.removeEventListener?window.top.document.removeEventListener("mouseup",t._mouseupHandler,!1):window.top.document.detachEvent&&window.top.document.detachEvent("onmouseup",t._mouseupHandler))}catch(e){}if(t._oldIE)e("."+o+"FloatGroup").off("close");else for(var i=document.body.querySelectorAll("."+o+"FloatGroup"),n=0;n<i.length;n++)t.removeHandler(i[n],"close")},_createLayout:function(t,o,i){function n(e){var t=o.children(),i=t[0],n=t[1];if(i.innerHTML=e.title,e.content)p=e.content;else{var r=a._find(a._originalElement,'[data-container="'+e.contentContainer+'"]')[0];p=void 0!==r?r.innerHTML:""}void 0===p&&(p=""),n.innerHTML=p}for(var a=this,r=i.type,d=0;d<t.length;d++){var l,s,u,c,p,h,g,m,y=t[d];switch(y.type){case"layoutGroup":if(l=document.createElement("div"),u="jqx-layout-group-default","horizontal"===y.orientation&&(u+=" jqx-layout-group-default-horizontal"),"host"===r)u+=" jqx-layout-group-root";else{var f="horizontal"===i.orientation?y.width:"100%",_="horizontal"===i.orientation?"100%":y.height;l.style.width=a._toPx(f),l.style.height=a._toPx(_)}l.className=a.toThemeProperty(u),o[0].appendChild(l),s=e(l);break;case"tabbedGroup":"floatGroup"!==r?((s=document.createElement("div")).className=a.toThemeProperty("jqx-layout-group-tabbed"),s.innerHTML='<div class="jqx-layout-window-header"><div></div></div><div><div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(a.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div></div>',o[0].appendChild(s),s=e(s),a._addRightClickHandler(a._find(s,".jqx-layout-window-header")[0],s)):((s=document.createElement("div")).className="jqx-layout-ribbon",s.innerHTML='<ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(a.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div>',o.children()[1].appendChild(s),s=e(s));break;case"documentGroup":case"autoHideGroup":l=document.createElement("div");var v="";"documentGroup"===y.type&&(v="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(a.rtl?"rtl":"ltr")),l.innerHTML='<ul class="'+v+'"></ul><div></div>',a._ie7&&"autoHideGroup"===y.type&&(l.style.zIndex=9999-500*d),o[0].appendChild(l),s=e(l);break;case"floatGroup":if(a._rendered&&!0!==y.programmaticallyAdded)continue;if(!a.dockingLayout)throw new Error("Float groups are only available in the jqxDockingLayout widget. Initialize a jqxDockingLayout (requires jqxdockinglayout.js) instead of a jqxLayout.");(s=document.createElement("div")).className=a.toThemeProperty("jqx-docking-layout-group-floating"),s.innerHTML="<div></div><div></div>",o[0].appendChild(s),s=e(s),!0===y.programmaticallyAdded&&delete y.programmaticallyAdded;break;case"layoutPanel":if(s={},"tabbedGroup"===r){var w=a._find(o,".jqx-layout-window-header")[0];if(w&&""===e(w).text()&&(w.firstChild.innerHTML=y.title),g=document.createElement("li"),g.innerHTML=y.title,a._find(o,".jqx-layout-ribbon-header")[0].appendChild(g),a._rendered||y.docked?p=y.detachedContent:(c=a._find(a._originalElement,'[data-container="'+y.contentContainer+'"]')[0],p=void 0!==c?c.innerHTML:""),h=document.createElement("div"),"string"==typeof p)h.innerHTML=p;else for(var x=0;x<p.length;x++)e(p[x]).appendTo(h);a._find(o,".jqx-layout-ribbon-content")[0].appendChild(h),a._addRightClickHandler(g,s)}else if("autoHideGroup"===r){if(m=o.children(),g=document.createElement("li"),g.innerHTML=y.title,m[0].appendChild(g),a._rendered?p=y.detachedContent:(c=a._find(a._originalElement,'[data-container="'+y.contentContainer+'"]')[0],p=void 0!==c?c.innerHTML:""),h=document.createElement("div"),"string"==typeof p)h.innerHTML=p;else for(var b=0;b<p.length;b++)p[b].appendTo(h);var j;"left"===i.alignment||"right"===i.alignment?(void 0!==i.popupContentSize&&(h.style.width=parseInt(i.popupContentSize,10)+"px"),j="jqx-layout-group-auto-hide-content-vertical"):(void 0!==i.popupContentSize&&(h.style.height=parseInt(i.popupContentSize,10)+"px"),j="jqx-layout-group-auto-hide-content-horizontal"),h.className=a.toThemeProperty(j);var q=document.createElement("div"),k=document.createElement("div");k.className="jqx-layout-window",k.innerHTML="<div><div>"+y.title+"</div></div>",k.appendChild(h),q.appendChild(k),m[1].appendChild(q),a._addRightClickHandler(k,s)}else"floatGroup"===r&&n(y);break;case"documentPanel":if(s={},"floatGroup"===r)n(y);else{if(m=o.children(),g=document.createElement("li"),g.innerHTML=y.title,m[0].appendChild(g),a._rendered||y.docked?p=y.detachedContent:(c=a._find(a._originalElement,'[data-container="'+y.contentContainer+'"]')[0],p=void 0!==c?c.innerHTML:""),h=document.createElement("div"),"string"==typeof p)h.innerHTML=p;else for(var C=0;C<p.length;C++)p[C].appendTo(h);m[1].appendChild(h),a._addRightClickHandler(g,s)}}if(y.items&&y.items.length>0){var T=s;a._createLayout(y.items,T,y)}if(a._createWidget(i,o,y,s,d),a.dockingLayout&&("documentGroup"===y.type||"tabbedGroup"===y.type||"layoutGroup"===y.type&&0===y.items.length)){var H={element:s,width:s.width(),height:s.height(),offset:s.offset(),settings:y};a._overlayGroups.push(H),"floatGroup"===y.parent.type&&(y.parent._overlayGroup=H)}}},_createWidget:function(t,o,i,n,a){function r(){for(var e=0,t=0;t<i.items.length;t++)if(!0===i.items[t].selected){e=t;break}return i.items[e].selected=!0,e}var d=this,l="horizontal"===t.orientation?i.width:"100%",s="horizontal"===t.orientation?"100%":i.height,u=!1;switch(i.parent=t,i.widget=n,i.index=a,i.widget&&(i.widget.current=i),i.type){case"tabbedGroup":var c,p;"floatGroup"!==t.type?(c=d._initWindowPanel(n,l,s,i.type),p=e(d._find(n,".jqx-layout-ribbon")[0]),d._tabbedGroupsList.push(i)):p=n,d.dockingLayout&&!1!==i.allowDrag&&(u=!0),p.jqxRibbon({theme:d.theme,width:"100%",height:"100%",position:"bottom",selectionMode:"click",animationType:"none",rtl:d.rtl,_roundedCorners:!1,initContent:function(t){var o=i.items[t];!o.initialized&&o.initContent&&(o.initContent(e(this._contentSections[t])),o.initialized=!0)},_removeByDrag:u,reorder:!0,_suppressReorder:!1}),p.on("select",function(o){if(o.stopPropagation(),o.target.id===p[0].id){o.stopPropagation();var n=o.args.selectedIndex;i.items[n].selected=!0;var a=e(e(p.children()[1]).children()[n]).text();"floatGroup"!==t.type?c[0].innerHTML=a:d._find(t.widget,".jqx-window-header")[0].firstChild.innerHTML=a}}),p.on("unselect",function(e){e.stopPropagation(),e.target.id===p[0].id&&(i.items[e.args.unselectedIndex].selected=!1)}),p.on("reorder",function(e){d._swapPanelsInLayout(i.items,e.args.newIndex,e.args.oldIndex);var t=e.args.newIndex;setTimeout(function(){i.items[t]&&d._addRightClickHandler(d._find(p,".jqx-ribbon-item")[t],i.items[t].widget)},200)}),u&&(p.on("_removeByDrag",function(e){d.dockingLayout._removeByDragHandler(e,i,p),"floatGroup"===i.parent.type&&1===i.items.length&&p.jqxRibbon({_removeByDrag:!1})}),"floatGroup"!==i.parent.type&&d.dockingLayout._addTabbedGroupHandlers(i,n)),p.jqxRibbon("selectAt",r());break;case"documentGroup":d.dockingLayout&&!1!==i.allowDrag&&(u=!0),n.jqxRibbon({theme:d.theme,width:l,height:s,_roundedCorners:!1,position:"top",selectedIndex:r(),selectionMode:"click",animationType:"none",rtl:d.rtl,initContent:function(t){var o=i.items[t];!o.initialized&&o.initContent&&(o.initContent(e(this._contentSections[t])),o.initialized=!0)},_removeByDrag:u,reorder:!0,_suppressReorder:!1}),n.on("select",function(e){e.stopPropagation(),e.target.id===n[0].id&&(i.items[e.args.selectedIndex].selected=!0)}),n.on("unselect",function(e){e.stopPropagation(),e.target.id===n[0].id&&(i.items[e.args.unselectedIndex].selected=!1)}),n.on("reorder",function(e){d._swapPanelsInLayout(i.items,e.args.newIndex,e.args.oldIndex);var t=e.args.newIndex;setTimeout(function(){d._addRightClickHandler(d._find(n,".jqx-ribbon-item")[t],i.items[t].widget)},200)}),u&&n.on("_removeByDrag",function(e){d.dockingLayout._removeByDragHandler(e,i,n)}),n.addClass(d.toThemeProperty("jqx-layout-group-document"));break;case"autoHideGroup":n.jqxRibbon({theme:d.theme,width:l,height:s,mode:"popup",popupCloseMode:"click",position:i.alignment,selectionMode:"click",animationType:"none",_roundedCorners:!1,rtl:d.rtl,initContent:function(t){var o=e(this._contentSections[t]),a=e(d._find(o,".jqx-layout-window")[0]);a.current=n.current.items[t],a[0].style.border="none",d._initWindowPanel(a,"100%","100%",i.type),!i.items[t].initialized&&i.items[t].initContent&&(i.items[t].initContent(e(a.children()[1])),i.items[t].initialized=!0)}}),n.addClass(d.toThemeProperty("jqx-layout-group-auto-hide"));break;case"floatGroup":n.addClass(d.element.id+"FloatGroup"),n.jqxWindow({theme:d.theme,width:i.width,maxWidth:null,height:i.height,maxHeight:null,position:{x:i.position.x,y:i.position.y},showCloseButton:!1!==i.allowClose,closeButtonAction:"close",rtl:d.rtl,initContent:function(){var e=this._header,t=d._touchDevice?"touchstart":"mousedown",o=".jqxLayout"+d.element.id;if(d.addHandler(e,t+o,function(){d.dockingLayout._windowDragged=!0,i._overlayGroup&&(i._overlayGroup.self=!0),d.dockingLayout._interval(),d.resizable&&(d._overlay[0].style.display="block");var e,t,o;"documentPanel"===i.items[0].type?(e={type:"documentGroup"},o=(t=i.items[0]).title):"layoutPanel"===i.items[0].type?(e={type:"tabbedGroup"},o=(t=i.items[0]).title):"tabbedGroup"===i.items[0].type&&(e=i.items[0]),d.dockingLayout._draggedWindow={fromGroup:e,fromPanel:t,title:o,element:n},d.dockingLayout._showEdgeOverlays()}),d.addHandler(e,"mouseup"+o,function(){d.dockingLayout._hideOverlays()}),"tabbedGroup"===i.items[0].type){for(var a=0,r=0;r<i.items[0].items.length;r++)if(i.items[0].items[r].selected){a=r;break}var l=i.items[0].items[a].title;n.jqxWindow("setTitle",l)}else i.items[0].initContent&&i.items[0].initContent(this._content)}}),n.on("moved",function(e){i.position.x=e.args.x,i.position.y=e.args.y,i._overlayGroup&&d.dockingLayout._updateOverlayGroup(i._overlayGroup),d.dockingLayout._windowCreate=!1,d.dockingLayout._hideOverlays(),d.dockingLayout._clearTextSelection()}),n.on("resized",function(t){i.width=t.args.width,i.height=t.args.height;var o=e(this).offset();i.position.x=o.left,i.position.y=o.top,i._overlayGroup&&d.dockingLayout._updateOverlayGroup(i._overlayGroup)}),n.on("close",function(e){e.stopPropagation(),e.target.id===n[0].id&&(d._raiseEvent("4",{element:n,floatGroup:n.current}),n.current._overlayGroup&&(n.current._overlayGroup.removed=!0,d.dockingLayout._updateOverlayGroups()),d.dockingLayout._removeFloatGroupObject(n.current))})}},_initWindowPanel:function(t,o,i,n){var a=this;if(t.addClass(a.toThemeProperty("jqx-widget jqx-widget-content jqx-window jqx-layout-pseudo-window jqx-rc-all")),a._ie7){var r=t.parent();if("tabbedGroup"===n){var d,l,s=parseInt(t.css("border-left-width"),10),u=parseInt(t.css("border-right-width"),10),c=parseInt(t.css("border-top-width"),10),p=parseInt(t.css("border-bottom-width"),10);d="100%"===o?r.width():parseFloat(o)/100*r.width(),d-=s+u,l="100%"===i?r.height():parseFloat(i)/100*r.height(),l-=c+p,t.css({width:d,height:l})}else"autoHideGroup"===n&&t.css({width:o,height:i})}else t[0].style.width=o,t[0].style.height=i;var h=a.rtl?"rtl":"ltr",g=e(t[0].firstChild),m=e(g[0].firstChild);m.addClass(a.toThemeProperty("jqx-layout-pseudo-window-title jqx-layout-pseudo-window-title-"+h)),g.addClass(a.toThemeProperty("jqx-widget-header jqx-window-header jqx-disableselect jqx-layout-pseudo-window-header")),a._ie7&&(g.css("width",g.width()-parseInt(g.css("padding-left"),10)-parseInt(g.css("padding-right"),10)),g.css("height",g.height()-parseInt(g.css("padding-top"),10)-parseInt(g.css("padding-bottom"),10)));var y,f,_=0;if((a.dockingLayout?"layoutPanel"===t.current.type?void 0===t.current.parent.allowClose||!0===t.current.parent.allowClose:void 0===t.current.allowClose||!0===t.current.allowClose:"layoutPanel"===t.current.type?!0===t.current.parent.allowClose:!0===t.current.allowClose)&&((y=document.createElement("div")).className=a.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-close-background jqx-layout-pseudo-window-close-background-"+h),y.setAttribute("title","Close"),y.innerHTML='<div class="'+a.toThemeProperty("jqx-window-close-button jqx-icon-close jqx-layout-pseudo-window-close-icon")+'"></div>',g[0].appendChild(y),_+=16),"tabbedGroup"===n&&!1!==t.current.allowPin||"autoHideGroup"===n&&!1!==t.current.parent.allowUnpin){var v;switch(n){case"tabbedGroup":v="jqx-layout-pseudo-window-pin-icon",t.pinned=!1;break;case"autoHideGroup":v="jqx-layout-pseudo-window-pinned-icon",t.pinned=!0}(f=document.createElement("div")).className=a.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-pin-background"),f.setAttribute("title","Auto Hide"),f.innerHTML='<div class="'+a.toThemeProperty(v)+'"></div>',y?f.className+=" "+a.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+h):!1===a.rtl&&(f.style.right="0px"),g[0].appendChild(f),_+=16,a.dockingLayout&&"autoHideGroup"===n&&a.dockingLayout._addAutoHideGroupHandlers(t.current,g,t.current.title,t.children()[1])}m[0].style.maxWidth=a._toPx(g.width()-_);var w=t.children()[1];return w.style.height=a._toPx(1+t.height()-g.outerHeight()),w.style.marginLeft="-1px",w.style.marginRight="-1px",a._addWindowPanelHandlers(y,f,t),m},_addWindowPanelHandlers:function(e,t,o){var i=this,n=i.element.id,a=o.current,r=a.type;e&&i.addHandler(e,"click.jqxLayout"+n,function(){if("tabbedGroup"===r&&a.items.length>1){var e=i._find(o,".jqx-ribbon-item-selected")[0]._index;i._close(a.items[e])}else o.initAnimate&&o.initAnimate(),o.fadeOut({complete:function(){i._close(a),o.remove()}})}),t&&i.addHandler(t,"click.jqxLayout"+n,function(){"tabbedGroup"===r&&!0===a.pinValid?i._pin(a):"layoutPanel"===r&&i._unPin(a.parent)})},_getGroupCoordinates:function(){function e(e){return"layoutGroup"===e||"tabbedGroup"===e||"documentGroup"===e}function t(i){for(var n=0;n<i.length;n++){var a=i[n];if(e(a.type)){var r,d,l,s,u,c=i[n-1],p=i[n+1],h=a.widget.offset();c&&e(c.type)&&("horizontal"===a.parent.orientation?(d=(r=h.left-5)+10,s=(l=h.top-5)+a.widget.height()+10,u="left"):(d=(r=h.left-5)+a.widget.width()+10,s=(l=h.top-5)+10,u="top"),o._coordinates.push({x:{from:r,to:d},y:{from:l,to:s},widget:a.widget,side:u,orientation:a.parent.orientation})),p&&e(p.type)&&("horizontal"===a.parent.orientation?(d=(r=h.left+a.widget.width()-5)+10,s=(l=h.top-5)+a.widget.height()+10,u="right"):(d=(r=h.left-5)+a.widget.width()+10,s=(l=h.top+a.widget.height()-5)+10,u="bottom"),o._coordinates.push({x:{from:r,to:d},y:{from:l,to:s},widget:a.widget,side:u,orientation:a.parent.orientation})),a.items&&t(a.items)}}}var o=this;o._coordinates=[],t(o.layout[0].items)},_close:function(t){var o,i=this;if(t.removed=!0,"tabbedGroup"===t.type||"autoHideGroup"===t.type||"documentGroup"===t.type){if((o="tabbedGroup"===t.type?e(i._find(t.widget,".jqx-ribbon")[0]):t.widget).jqxRibbon("destroy"),t.parent.items){var n=t.parent.items[t.index-1],a=t.parent.items[t.index+1],r="vertical"===t.parent.orientation?"height":"width",d=function(e){var o=parseFloat(e[r])+parseFloat(t[r])+"%";"documentGroup"===e.type?"height"===r?e.widget.jqxRibbon({height:o}):e.widget.jqxRibbon({width:o}):"layoutGroup"!==e.type&&"tabbedGroup"!==e.type||(e.widget[0].style[r]=o),e[r]=o,i._raiseEvent("1",{item:e})};n&&"autoHideGroup"!==n.type&&"floatGroup"!==n.type?d(n):a&&"autoHideGroup"!==a.type&&"floatGroup"!==a.type&&d(a)}}else if("layoutPanel"===t.type){if("tabbedGroup"===t.parent.type)return(o=e(i._find(t.parent.widget,".jqx-ribbon")[0])).jqxRibbon("removeAt",t.index),i._updateLayout(i.layout),void(0===t.index?o.jqxRibbon("selectAt",0):o.jqxRibbon("selectAt",t.index-1));if("autoHideGroup"===t.parent.type){(o=t.parent.widget).jqxRibbon("removeAt",t.index);for(var l=o.children(),s=0,u=0;u<l.length;u++)if("ul"===l[u].nodeName.toLowerCase()){s=e(l[u]).children().length;break}0===s&&i._close(o.current)}}i._updateLayout(i.layout),i.render()},_updateLayout:function(e){for(var t=0;t<e.length;t++)if(!0===e[t].removed){e.splice(t,1);for(var o=0;o<e.length;o++)e[o].index=o}else e[t].items&&this._updateLayout(e[t].items)},_pin:function(t){var o,i,n,a=this,r=t.parent;if(t.alignment)o=t.alignment;else{var d=Math.abs(t.parent.items.length-1-t.index);o=Math.abs(0-t.index)<d?"horizontal"===t.parent.orientation?"left":"top":"horizontal"===t.parent.orientation?"right":"bottom"}var l="top"===o||"left"===o?t.index+1:t.index-1;"left"===o||"right"===o?(i="width",n=t.pinnedWidth):(i="height",n=t.pinnedHeight),"number"==typeof n&&(n=a._getPercentage(n,r,i)+"%"),n||("width"===i?n=8e3/t.parent.widget.width()+"%":"height"===i&&(n=3e3/t.parent.widget.height()+"%")),a._detachContent(t.items,!0);var s={type:"autoHideGroup",alignment:o,items:t.items};s[i]=n,s["min"+i.charAt(0).toUpperCase()+i.slice(1)]=t["min"+i.charAt(0).toUpperCase()+i.slice(1)],s["unpinned"+i.charAt(0).toUpperCase()+i.slice(1)]=t[i],s.allowDrag=t.allowDrag,s.allowDrop=t.allowDrop,s.allowClose=t.allowClose;for(var u=0;u<s.items.length;u++)s.items[u].allowClose=t.allowClose;t.popupContentSize&&(s.popupContentSize=t.popupContentSize);var c=r.items[l];c[i]=parseFloat(c[i])+parseFloat(t[i])-parseFloat(n)+"%",r.items.splice(t.index,0,s),t.removed=!0,e(a._find(t.widget,".jqx-ribbon")[0]).jqxRibbon("destroy"),t.widget.remove(),a._updateLayout(a.layout),a.render(),a._raiseEvent("1",{item:c}),a._raiseEvent("2",{item:s})},_unPin:function(e){var t,o,i,n=this,a=e.parent,r=e.alignment,d="top"===r||"left"===r?e.index+1:e.index-1,l=a.items[d];"left"===r||"right"===r?(t="width",o=e.unpinnedWidth):(t="height",o=e.unpinnedHeight),o||(o="10%"),n._detachContent(e.items,!0);var s={type:"tabbedGroup",alignment:r,items:e.items};if(s["pinned"+t.charAt(0).toUpperCase()+t.slice(1)]=e[t],s.allowDrag=e.allowDrag,s.allowDrop=e.allowDrop,s.allowClose=e.allowClose,e.popupContentSize&&(s.popupContentSize=e.popupContentSize),l){var u=parseFloat(l[t])+parseFloat(e[t])-parseFloat(o)+"%",c=l["min"+t.charAt(0).toUpperCase()+t.slice(1)];c||(c=n["minGroup"+t.charAt(0).toUpperCase()+t.slice(1)]),parseFloat(u)<n._getPercentage(c,a,t)?(o=e[t],u=n._getPercentage(c,a,t)+"%",s["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e.widget.width()):s["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],s[t]=o,l[t]=u,i=l}else s["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],s[t]="100%",i=s;a.items.splice(e.index,0,s),e.removed=!0,e.widget.jqxRibbon("destroy"),n._updateLayout(n.layout),n.render(),n._raiseEvent("1",{item:i}),n._raiseEvent("3",{item:s})},_copyItem:function(e,t){var o={};for(var i in e)if(e.hasOwnProperty(i)&&"parent"!==i&&"widget"!==i&&"initialized"!==i)if("position"===i)o.position={x:e.position.x,y:e.position.y};else if("items"===i){for(var n=[],a=0;a<e.items.length;a++)this._copyItem(e.items[a],n);o.items=n}else o[i]=e[i];t.push(o)},_addResizeFeedbacks:function(){var t=this;t._horizontalFeedback=document.createElement("div"),t._horizontalFeedback.className=t.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-horizontal"),t._verticalFeedback=document.createElement("div"),t._verticalFeedback.className=t.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-vertical"),t._overlay=document.createElement("div"),t._overlay.className=t.toThemeProperty("jqx-layout-overlay"),t.dockingLayout&&t.dockingLayout._windowDragged&&(t._overlay.style.display="block"),t.element.appendChild(t._horizontalFeedback),t.element.appendChild(t._verticalFeedback),t.element.appendChild(t._overlay),t._horizontalFeedback=e(t._horizontalFeedback),t._verticalFeedback=e(t._verticalFeedback),t._overlay=e(t._overlay)},_detachContent:function(t,o){function i(t){if(!0===t.prevent)t.prevent=!1;else{var i=n._find(t.parent.widget,".jqx-ribbon-content-section")[t.index];r=n._detachChildNodes(i),e(i).remove(),t.detachedContent=r,!0===o&&(t.prevent=!0)}}for(var n=this,a=t.length-1;a>=0;a--){var r,d=t[a],l=d.type;if("layoutGroup"===l||"tabbedGroup"===l||"documentGroup"===l||"autoHideGroup"===l||"floatGroup"===l)d.items&&d.items.length>0&&this._detachContent(d.items);else if("layoutPanel"===l){if("tabbedGroup"===d.parent.type)i(d);else if("autoHideGroup"===d.parent.type)if(!0===d.prevent)d.prevent=!1;else{if("left"===d.parent.alignment||"right"===d.parent.alignment){var s=n._find(d.parent.widget,".jqx-layout-group-auto-hide-content-vertical")[a];r=n._detachChildNodes(s),e(s).remove()}else{var u=n._find(d.parent.widget,".jqx-layout-group-auto-hide-content-horizontal")[a];r=n._detachChildNodes(u),e(u).remove()}d.detachedContent=r,!0===o&&(d.prevent=!0)}}else"documentPanel"===l&&i(d)}},_pxToPercent:function(e,t){function o(o,n){var a;return o=parseInt(o,10),a=t?i.element["offset"+n]:e["initialPx"+n],(100*o/a).toString()+"%"}for(var i=this,n=0;n<e.items.length;n++){var a=e.items[n];void 0!==a.width?(a.initialPxWidth=a.width,a.width=o(a.width,"Width")):a.initialPxWidth=e.initialPxWidth,void 0!==a.height?(a.initialPxHeight=a.height,a.height=o(a.height,"Height")):a.initialPxHeight=e.initialPxHeight,void 0!==a.unpinnedWidth&&(a.unpinnedWidth=o(a.unpinnedWidth,"Width")),void 0!==a.pinnedWidth&&(a.pinnedWidth=o(a.pinnedWidth,"Width")),void 0!==a.unpinnedHeight&&(a.unpinnedHeight=o(a.unpinnedHeight,"Height")),void 0!==a.pinnedHeight&&(a.pinnedHeight=o(a.pinnedHeight,"Height")),"layoutGroup"===a.type&&a.items&&a.items.length>0&&i._pxToPercent(a,!1)}},_percentToPx:function(e,t,o){return void 0===t?void 0:"string"!=typeof t||"string"==typeof t&&"%"!==t.charAt(t.length-1)?parseFloat(t):parseFloat(t.slice(0,t.length-1))/100*o.widget[e]()},_swapPanelsInLayout:function(e,t,o){var i=e[t];e[t]=e[o],e[t].index=t,e[o]=i,e[o].index=o},_initMenu:function(){var t=this;if(!t._menuInitialized){var o=t.element.id,i="",n=function(e,i,n){t._menu.jqxMenu("disable","dockOption"+o,e),t._menu.jqxMenu("disable","autoHideOption"+o,i),t._menu.jqxMenu("disable","closeOption"+o,n)};if(!t.host.jqxMenu)throw new Error("jqxLayout: Missing reference to jqxmenu.js.");t.dockingLayout&&(i='<li id="floatOption'+o+'">Float</li>');var a=document.createElement("div");a.className=t.toThemeProperty("jqx-layout-context-menu jqx-layout-context-menu-"+o),a.innerHTML="<ul>"+i+'<li id="dockOption'+o+'">Dock</li><li id="autoHideOption'+o+'" style="white-space: nowrap;">Auto Hide</li><li id="closeOption'+o+'">Close</li></ul>',t._menu=e(a),document.body.appendChild(a),t._menu.jqxMenu({theme:t.theme,width:100,height:"auto",autoOpenPopup:!1,mode:"popup",popupZIndex:99999,rtl:t.rtl}),t._menuInitialized=!0,t.addHandler(t._menu,"itemclick.jqxLayout"+o,function(o){t._handleMenuItemClick(e(o.target).text())});var r=function(e){return t.dockingLayout?!1===e.allowClose:!0!==e.allowClose};t.addHandler(t._menu,"shown.jqxLayout"+o,function(){switch(t._contextMenuTarget.type){case"tabbedGroup":n(!0,!1===t._contextMenuTarget.allowPin||!1===t._contextMenuTarget.pinValid,r(t._contextMenuTarget));break;case"layoutPanel":var e=t._contextMenuTarget.parent;"tabbedGroup"===e.type?n(!0,!1===e.allowPin||t._isMiddleTabbedGroup(e),r(e)):"autoHideGroup"===e.type&&n(!1===e.allowUnpin,!0,r(t._contextMenuTarget));break;case"documentPanel":n(!0,!0,r(t._contextMenuTarget))}})}},_addRightClickHandler:function(t,o){var i=this;!0===i.contextMenu&&(i.addHandler(t,"mousedown.jqxLayout"+i.element.id,function(t){if(!0===i.contextMenu&&(t.which&&3===t.which||t.button&&2===t.button)){var n=document.body.scrollTop,a=e(window).scrollLeft();i._contextMenuTarget=o.current,i._menu.jqxMenu("open",parseInt(t.clientX,10)+5+a,parseInt(t.clientY,10)+5+n)}}),i.addHandler(t,"contextmenu.jqxLayout"+i.element.id,function(){if(!0===i.contextMenu)return!1}))},_handleMenuItemClick:function(t){var o=this,i=o._contextMenuTarget.type,n=o._contextMenuTarget.parent;switch(t){case"Float":switch(i){case"tabbedGroup":o.dockingLayout._floatTabbedGroup(o._contextMenuTarget,o._contextMenuTarget.widget);break;case"layoutPanel":if("tabbedGroup"===n.type)o.dockingLayout._removeByDragHandler(void 0,n,n.widget,o._contextMenuTarget.index,!1);else if("autoHideGroup"===n.type){var a=o._find(e(e(o._find(o._contextMenuTarget.parent.widget,".jqx-ribbon-content")[0]).children()[o._contextMenuTarget.index]),".jqx-layout-window")[0].firstChild;o.dockingLayout._floatAutoHideGroup(o._contextMenuTarget,o._contextMenuTarget.title,a)}break;case"documentPanel":o.dockingLayout._removeByDragHandler(void 0,n,n.widget,o._contextMenuTarget.index,!1)}break;case"Dock":o._unPin(o._contextMenuTarget.parent);break;case"Auto Hide":switch(i){case"tabbedGroup":o._pin(o._contextMenuTarget);break;case"layoutPanel":o._pin(o._contextMenuTarget.parent)}break;case"Close":switch(i){case"tabbedGroup":o._close(o._contextMenuTarget);break;case"layoutPanel":o._contextMenuTarget.parent.items.length>1?o._close(o._contextMenuTarget):o._close(o._contextMenuTarget.parent);break;case"documentPanel":o._closeDocumentPanel(o._contextMenuTarget.index,o._contextMenuTarget.parent.items,o._contextMenuTarget.parent,o._contextMenuTarget.parent.widget,!1)}}},_closeDocumentPanel:function(e,t,o,i,n){var a=this;if(!1===n&&i.jqxRibbon("removeAt",e),t.length>1){var r=!1;t[e].removed=!0,a._updateLayout(t);for(var d=0;d<t.length;d++)if(!0===t[d].selected){r=!0;break}setTimeout(function(){!1===r?t[e]?i.jqxRibbon("selectAt",e):i.jqxRibbon("selectAt",e-1):i.jqxRibbon("render")},0)}else a._close(o)},_isMiddleTabbedGroup:function(e){return!(0===e.index||e.index===e.parent.items.length-1)},_validateTabbedGroup:function(t){var o=this,i=!0;if((i=i&&t.parent.items.length>1)&&2===t.parent.items.length){var n=0===t.index?1:0;"autoHideGroup"===t.parent.items[n].type&&(i=!1)}i&&(i=i&&!o._isMiddleTabbedGroup(t)),t.pinValid=i,!1===i&&e(o._find(t.widget,".jqx-layout-pseudo-window-pin-background")[0]).addClass("jqx-fill-state-disabled")},_mouseupHandler:function(e){var t=this;try{t.dockingLayout&&(t._docUP(e),t.dockingLayout._windowCreate=!1,t.dockingLayout._hideOverlays())}catch(e){}},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){return this._oldIE?e.find(t):e[0]?e[0].querySelectorAll(t):e.querySelectorAll(t)},_detachChildNodes:function(t){for(var o=[],i=t.childNodes;i.length>0;)o.push(e(i[0]).detach());return o}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxDockingLayout","jqxLayout",{}),e.extend(e.jqx._jqxDockingLayout.prototype,{defineInstance:function(){var t={events:["float","dock"]};return this.base&&(this.base.dockingLayout=this),this===e.jqx._jqxDockingLayout.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;if(!t.base.host.jqxWindow)throw new Error("jqxDockingLayout: Missing reference to jqxwindow.js.");t._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,t._addClasses(),!0!==t.base._initiallyHidden&&(t._createOverlay(),t._createEdgeOverlays())},loadLayout:function(t){if(void 0!==t&&!1===e.isEmptyObject(t)){for(var o=this.base,a=o.element.id,r=o._find(document.body,"."+a+"FloatGroup"),n=0;n<r.length;n++){var i=e(r[n]);i.off(),i.jqxWindow("destroy")}o.loadLayout(t)}},destroy:function(){for(var t=this,o=t.base,a=o.element.id,r=o._find(document.body,"."+a+"FloatGroup"),n=0;n<r.length;n++){var i=e(r[n]);i.off(),i.jqxWindow("destroy")}t._removeHandlers(),o.destroy()},addFloatGroup:function(e,t,o,a,r,n,i){var d=this.base,l={type:"floatGroup",width:e,height:t,position:o,items:[],programmaticallyAdded:!0},s={type:a,title:r,content:n,initContent:i};l.items.push(s),d.layout.push(l),d.render()},_raiseEvent:function(t,o){void 0===o&&(o={owner:null});var a=this.events[t];o.owner=this;var r=new e.Event(a);return r.owner=this,r.args=o,r.preventDefault&&r.preventDefault(),this.base.host.trigger(r)},_addClasses:function(){var e=this.base;e.host.addClass(e.toThemeProperty("jqx-docking-layout"))},_removeHandlers:function(){var t=this,o=t.base,a=o.element.id;t.removeHandler(e(document),"mousemove.jqxDockingLayout"+a),t.removeHandler(o.host,"mouseleave.jqxDockingLayout"+a),o._touchDevice&&(t.removeHandler(e(document),"touchmove.jqxDockingLayout"+a),t.removeHandler(e(document),"touchend.jqxDockingLayout"+a))},_removeByDragHandler:function(t,o,a,r,n){void 0===r&&(r=t.args.draggedIndex),void 0===n&&(n=!0);var i=this,d=i.base,l=o.items,s=l[r],u=d._find(o.widget,".jqx-ribbon-content-section")[r],c=d._detachChildNodes(u);a.hasClass("jqx-ribbon")||(a=e(d._find(a,".jqx-ribbon")[0])),i.base._suppressResizeHandler=!0,i._createFloatGroup(t,s.title,c,"documentGroup",o,s),i.base._closeDocumentPanel(r,l,o,a,n),i.base._suppressResizeHandler=!1},_floatTabbedGroup:function(t,o,a){for(var r,n,i=this,d=i.base,l=[],s=e(d._find(o,".jqx-ribbon")[0]),u=d._find(s,".jqx-ribbon-content-section"),c=0;c<t.items.length;c++){var y=t.items[c],p=d._detachChildNodes(u[c]);y.selected&&(r=y.title,n=c),l.push(p)}i._createFloatGroup(a,r,l,"tabbedGroup",t,null,n),i.base._close(t),a&&(a.target.style.cursor="")},_addTabbedGroupHandlers:function(t,o){function a(e){!0===s&&!0!==i._clickedToResize&&(n._floatTabbedGroup(t,o,e),s=!1)}var r,n=this,i=n.base,d=i.element.id,l=i._find(o,".jqx-layout-window-header")[0],s=!1,u=i._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];n.addHandler(l,u[0]+".jqxDockingLayout"+d,function(e){if(!1!==t.allowDrag&&(s=!0,e.target.style.cursor="move",i._touchDevice)){var o=e.originalEvent.touches[0];r=document.elementFromPoint(o.pageX,o.pageY)}}),n.addHandler(l,u[1]+".jqxDockingLayout"+d,function(e){s=!1,e.target.style.cursor=""}),i._touchDevice?n.addHandler(e(document),"touchmove.jqxDockingLayout"+d,function(e){!0===i._clickedToResize&&e.preventDefault();var t=e.originalEvent.touches[0];r!==document.elementFromPoint(t.pageX,t.pageY)&&a({pageX:t.pageX,pageY:t.pageY,target:r})}):n.addHandler(l,"mouseleave.jqxDockingLayout"+d,function(e){a({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_floatAutoHideGroup:function(e,t,o,a){var r=this,n=r.base._detachChildNodes(o);r._createFloatGroup(a,t,n,"autoHideGroup",e,e),r.base._close(e)},_addAutoHideGroupHandlers:function(t,o,a,r){function n(e){!0===u&&(d._floatAutoHideGroup(t,a,r,e),u=!1,e.target.style.cursor="")}var i,d=this,l=d.base,s=l.element.id,u=!1,c=l._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];d.addHandler(o,c[0]+".jqxDockingLayout"+s,function(e){if(!1!==t.parent.allowDrag&&(u=!0,e.target.style.cursor="move",l._touchDevice)){var o=e.originalEvent.touches[0];i=document.elementFromPoint(o.pageX,o.pageY)}}),d.addHandler(o,c[1]+".jqxDockingLayout"+s,function(e){u=!1,e.target.style.cursor=""}),l._touchDevice?d.addHandler(e(document),"touchmove.jqxDockingLayout"+s,function(e){!0===l._clickedToResize&&e.preventDefault();var t=e.originalEvent.touches[0];i!==document.elementFromPoint(t.pageX,t.pageY)&&n({pageX:t.pageX,pageY:t.pageY,target:i})}):d.addHandler(o,"mouseleave.jqxDockingLayout"+s,function(e){n({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_createFloatGroup:function(t,o,a,r,n,i,d){var l,s,u,c,y,p,g=this,v=g.base,h=document.createElement("div");if(h.className=v.toThemeProperty("jqx-docking-layout-group-floating")+" "+v.element.id+"FloatGroup",h.innerHTML="<div></div><div></div>",document.body.appendChild(h),h=e(h),"documentGroup"===r)t&&(l=t.args.x,s=t.args.y),u=n.widget.width(),c=n.widget.height(),y=a;else if("tabbedGroup"===r){t&&(l=t.pageX,s=t.pageY),u=n.widget.width(),c=n.widget.height(),y="",p=document.createElement("div");var m=document.createElement("div"),_=document.createElement("ul");_.className="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(g.rtl?"rtl":"ltr");for(var f=0;f<n.items.length;f++){var q=n.items[f],x=document.createElement("div"),j=document.createElement("li");j.innerHTML=q.title,_.appendChild(j);for(var w=0;w<a[f].length;w++)a[f][w].appendTo(x);m.appendChild(x)}p.appendChild(_),p.appendChild(m),y=p=e(p)}else"autoHideGroup"===r&&(t&&(l=t.pageX,s=t.pageY),u=e(v._find(n.parent.widget,".jqx-ribbon-content")[0]).width(),c=n.parent.widget.height(),y=a);if(!l&&!s){var b=v.host.offset();l=(v.host.width()-u)/2+b.left+100,s=(v.host.height()-c)/2+b.top+10}h.on("moved close",function(e){g._hideOverlays();var t=h.current;"moved"===e.type?(t.position.x=e.args.x,t.position.y=e.args.y,t._overlayGroup&&g._updateOverlayGroup(t._overlayGroup),g._clearTextSelection(),g._windowCreate=!1,g._hideOverlays()):(v._raiseEvent("4",{element:h,floatGroup:h.current}),t._overlayGroup&&(t._overlayGroup.removed=!0,g._updateOverlayGroups()),t.removed=!0,v._updateLayout(v.layout))}),h.on("resized",function(t){var o=h.current,a=e(this).offset();o.width=t.args.width,o.height=t.args.height,o.position.x=a.left,o.position.y=a.top,o._overlayGroup&&g._updateOverlayGroup(o._overlayGroup)}),h.jqxWindow({theme:v.theme,title:o,content:y,width:u,maxWidth:null,height:c,maxHeight:null,position:{x:l-100,y:s-10},closeButtonAction:"close",rtl:v.rtl,initContent:function(){var e,a=this._header,u=v._touchDevice?"touchstart":"mousedown";e="autoHideGroup"===r?n.parent:n,t&&(g._draggedWindow={fromGroup:e,fromPanel:i,title:o,element:h},a.trigger("mousedown",[l,s]),g._windowDragged=!0,g._windowCreate=!0,g._interval(),v.resizable&&(v._overlay[0].style.display="block"),g._showEdgeOverlays()),a.on(u,function(){g._windowDragged=!0,h.current._overlayGroup&&(h.current._overlayGroup.self=!0),g._interval(),v.resizable&&(v._overlay[0].style.display="block"),g._draggedWindow={fromGroup:e,fromPanel:i,title:o,element:h},g._showEdgeOverlays()}),a.on("mouseup",function(){g._hideOverlays(),g._windowCreate=!1}),"tabbedGroup"===r&&(p.jqxRibbon({theme:v.theme,width:"100%",height:"100%",position:"bottom",selectedIndex:d,selectionMode:"click",animationType:"none",rtl:v.rtl,reorder:!0,_suppressReorder:!1,_removeByDrag:!0}),p.on("select",function(e){if(!e.owner.widgetName||"jqxRibbon"===e.owner.widgetName){var t=h.current.items[0].items[e.args.selectedIndex];h.jqxWindow("setTitle",t.title),t.selected=!0}}),p.on("unselect",function(e){e.owner.widgetName&&"jqxRibbon"!==e.owner.widgetName||(h.current.items[0].items[e.args.unselectedIndex].selected=!1)}),p.on("reorder",function(e){v._swapPanelsInLayout(h.current.items[0].items,e.args.newIndex,e.args.oldIndex)}),p.on("_removeByDrag",function(e){g._removeByDragHandler(e,h.current.items[0],p),1===h.current.items[0].items.length&&p.jqxRibbon({_removeByDrag:!1})}))}});var k,G,T={type:"floatGroup",parent:{type:"host"},widget:h,position:{x:l-100,y:s-10},index:v.layout.length,width:u,height:c};if(h.current=T,i)T.items=[],v._copyItem(i,T.items),k=T.items,G=T;else{T.items=[{type:"tabbedGroup",items:[],parent:T,widget:p}],k=T.items[0].items;for(var O=0;O<n.items.length;O++)v._copyItem(n.items[O],k);G=T.items[0]}for(var D=0;D<k.length;D++)k[D].parent=G;v.layout.push(T),g._raiseEvent("0",{item:T}),g._trackFloatGroups()},_interval:function(){var e=this;if(!0===e._oldIE){var t=e._overlayWidth,o=e._overlayHeight;e._oldIEInterval=setInterval(function(){e._checkPosition(t,o),e._windowCreate&&e._draggedWindow.element.jqxWindow("move",e._x-50,e._y-10)},1e3)}},_createOverlay:function(){function t(t,o,a,n){r._dropOverlay.style.display="block",r._dropOverlay.style.width=t+"px",r._dropOverlay.style.height=o+"px",e(r._dropOverlay).offset({left:a,top:n})}function o(o){if(o=r._closest(o,"jqx-docking-layout-overlay-square"),l=o,!e(n._find(o,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled")){var a=r._dropToGroup.element.width(),i=r._dropToGroup.element.height(),d=r._dropToGroup.element.offset();o.hasClass("jqx-docking-layout-overlay-square-top")?t(a,i/2,d.left,d.top):o.hasClass("jqx-docking-layout-overlay-square-left")?t(a/2,i,d.left,d.top):o.hasClass("jqx-docking-layout-overlay-square-center")&&!r._overlayCenter.hasClass("jqx-docking-layout-square-disabled")?t(a,i,d.left,d.top):o.hasClass("jqx-docking-layout-overlay-square-right")?t(a/2,i,d.left+a/2,d.top):o.hasClass("jqx-docking-layout-overlay-square-bottom")?t(a,i/2,d.left,d.top+i/2):n._touchDevice&&(r._dropOverlay.style.display="none",l=!1)}}function a(t){var o=r._dropToGroup.settings;if(e(n._find(t,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled"))r._hideOverlays();else{if(t.hasClass("jqx-docking-layout-overlay-square-top"))r._dropHandler(0,"vertical","height","top");else if(t.hasClass("jqx-docking-layout-overlay-square-left"))r._dropHandler(0,"horizontal","width","left");else if(t.hasClass("jqx-docking-layout-overlay-square-center")){var a,i,d=r._getDraggedWindowInformation(),l=d.title,s=d.content;if("documentGroup"===o.type?(a=o.widget,i="documentPanel"):"tabbedGroup"===o.type&&(a="floatGroup"===o.parent.type?o.widget:e(n._find(o.widget,".jqx-ribbon")[0]),i="layoutPanel"),"layoutGroup"===o.type)r._dropToEmptyLayoutGroup(d);else for(var u=0;u<l.length;u++){a.jqxRibbon({_suppressReorder:!0}),a.jqxRibbon("addAt",n._find(a,".jqx-ribbon-content-section").length,{title:l[u],content:s[u]},!0);var c=o.items.length,y={type:i,title:l[u],parent:o,index:c,detachedContent:d.content[u],docked:!0};o.items.push(y),n._addRightClickHandler(e(n._find(a,".jqx-ribbon-item")[c]),{current:y}),a.jqxRibbon({_suppressReorder:!1})}"floatGroup"===o.parent.type&&o.widget.jqxRibbon({_removeByDrag:!0}),r._clearTextSelection(),r._raiseEvent("1",{position:"center",item:o})}else t.hasClass("jqx-docking-layout-overlay-square-right")?r._dropHandler(1,"horizontal","width","right"):t.hasClass("jqx-docking-layout-overlay-square-bottom")&&r._dropHandler(1,"vertical","height","bottom");r._removeFloatGroupObject(r._draggedWindow.element.current),r._draggedWindow.element.remove(),r._hideOverlays()}}var r=this,n=r.base,i=n.element.id;r._overlay=document.createElement("div"),r._overlay.className=n.toThemeProperty("jqx-docking-layout-overlay"),r._overlay.innerHTML='<div class="jqx-docking-layout-overlay-section"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-top")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-top")+'"></div></div></div></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-left")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-left")+'"></div></div></div></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-center")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-highlight")+'"></div></div></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-right")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-right")+'"></div></div></div></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-bottom")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-bottom")+'"></div></div></div></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div>',r._overlay=e(r._overlay);var d=n._find(r._overlay,".jqx-docking-layout-overlay-square-center")[0];r._overlayCenter=e(d.firstChild),r._dropOverlay=document.createElement("div"),r._dropOverlay.className=r.toThemeProperty("jqx-docking-layout-drop-overlay"),r._dropOverlayHelper=e(r._dropOverlay),n._ie7?e("body").append(r._overlay,r._dropOverlay):(n.element.appendChild(r._overlay[0]),n.element.appendChild(r._dropOverlay)),r._overlayWidth=r._overlay[0].offsetWidth,r._overlayHeight=r._overlay[0].offsetHeight,r._overlay[0].style.display="none",r._addOverlayHandlers(),r._squares=[n._find(r._overlay,".jqx-docking-layout-overlay-square-top")[0],n._find(r._overlay,".jqx-docking-layout-overlay-square-left")[0],d,n._find(r._overlay,".jqx-docking-layout-overlay-square-right")[0],n._find(r._overlay,".jqx-docking-layout-overlay-square-bottom")[0]],r._sansCenter=[e(n._find(e(r._squares[0]),".jqx-docking-layout-overlay-inner-square")[0]),e(n._find(e(r._squares[1]),".jqx-docking-layout-overlay-inner-square")[0]),e(n._find(e(r._squares[3]),".jqx-docking-layout-overlay-inner-square")[0]),e(n._find(e(r._squares[4]),".jqx-docking-layout-overlay-inner-square")[0])];var l=!1;n._touchDevice?(r.addHandler(e(document),"touchmove.jqxDockingLayout"+i,function(t){if(r._windowDragged){t.preventDefault();var a=t.originalEvent.touches[0];o(e(document.elementFromPoint(a.pageX,a.pageY)))}}),r.addHandler(e(document),"touchend.jqxDockingLayout"+i,function(){!1!==l&&(a(l),l=!1)})):e.each(r._squares,function(){r.addHandler(this,"mouseenter.jqxDockingLayout"+i,function(){o(e(this))}),r.addHandler(this,"mouseleave.jqxDockingLayout"+i,function(){r._dropOverlay.style.display="none"}),r.addHandler(this,"mouseup.jqxDockingLayout"+i,function(){a(e(this))})})},_addOverlayHandlers:function(){var t=this,o=t._overlayWidth,a=t._overlayHeight;t.base._touchDevice?t.addHandler(e(document),"touchmove.jqxDockingLayout"+t.base.element.id,function(e){var r=e.originalEvent.touches[0];t._x=r.pageX,t._y=r.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(o,a),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",r.pageX-50,r.pageY-10))}):t.addHandler(e(document),"mousemove.jqxDockingLayout"+t.base.element.id,function(e){t._x=e.pageX,t._y=e.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(o,a),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",e.pageX-50,e.pageY-10))})},_checkPosition:function(e,t){for(var o=this,a=o.base,r=o._x,n=o._y,i=0;i<a._overlayGroups.length;i++){var d=a._overlayGroups[i];if(!d.self){var l=d.width,s=d.height,u=d.offset,c=u.left,y=u.top;if(r>=c&&r<=c+l&&n>=y&&n<=y+s){if(("documentGroup"===d.settings.type&&"documentGroup"===o._draggedWindow.fromGroup.type||"tabbedGroup"===d.settings.type&&("tabbedGroup"===o._draggedWindow.fromGroup.type||"autoHideGroup"===o._draggedWindow.fromGroup.type)||"layoutGroup"===d.settings.type)&&!1!==d.settings.allowDrop)o._overlayCenter.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));else if(o._overlayCenter.addClass(a.toThemeProperty("jqx-fill-state-disabled")),"floatGroup"===d.settings.parent.type)return;for(var p=0;p<o._sansCenter.length;p++)"floatGroup"===d.settings.parent.type?o._sansCenter[p].addClass(a.toThemeProperty("jqx-fill-state-disabled")):o._sansCenter[p].removeClass(a.toThemeProperty("jqx-fill-state-disabled"));return o._overlay[0].style.display="block",o._overlay.offset({left:parseInt(c+l/2-e/2,10),top:parseInt(y+s/2-t/2,10)}),void(o._dropToGroup=d)}}}o._overlay[0].style.display="none"},_dropHandler:function(t,o,a,r){var n,i,d=this,l=d.base,s=d._dropToGroup.settings,u=s.parent,c=d._getDraggedWindowInformation(),y=c.title,p=c.content,g=c.groupType,v=c.itemType,h=[];if(u.orientation===o){n=s.index+t,(i={type:g,parent:u})[a]=d._draggedWindow.element[a]();for(var m=0;m<y.length;m++)h.push({type:v,title:y[m],parent:i,prevent:!0,selected:d._getFloatGroupItemSelection(m),detachedContent:p[m],docked:!0});i.items=h,d._setOptimalDimension(a,i,s),u.items.splice(n,0,i)}else{var _,f;"width"===a?(_="height",f="minHeight"):(_="width",f="minWidth");var q={type:"layoutGroup",orientation:o,parent:s.parent,index:s.index};q[_]=s[_],s[f]&&(q[f]=s[f]),s.parent.items.splice(s.index,1),s.parent.items.splice(s.index,0,q),s.parent=q,i={type:g,parent:q};for(var x=0;x<y.length;x++)h.push({type:v,title:y[x],parent:i,prevent:!0,selected:d._getFloatGroupItemSelection(x),detachedContent:p[x],docked:!0});i.items=h,delete s[_],s[a]="50%",i[a]="50%",q.items=[s],q.items.splice(0+t,0,i)}l.render();for(var j=l._find(i.widget,".jqx-ribbon-content-section"),w=0;w<j.length;w++)for(var b=e(j[w]),k=p[w],G=0;G<k.length;G++)p[w][G].appendTo(b);d._clearTextSelection(),l._raiseEvent("1",{item:s}),d._raiseEvent("1",{position:r,item:i})},_setOptimalDimension:function(e,t,o){var a,r=this,n="width"===e?"minWidth":"minHeight",i=o[n]||r.base["minGroup"+e.charAt(0).toUpperCase()+e.slice(1)],d=o.parent.widget[e]();a=parseFloat(o[e])-i/d*100;var l=t[e]/d*100;if(a<l){t[e]=parseFloat(o[e])/2+"%",t[n]=parseInt(parseFloat(t[e])/100*d,10),o[e]=parseFloat(o[e])-parseFloat(t[e])+"%";var s=parseInt(parseFloat(o[e])/100*d,10);s<i&&(o[n]=s)}else t[e]=l+"%",o[e]=parseFloat(o[e])-l+"%"},_dropToEmptyLayoutGroup:function(e){var t=this,o=t._dropToGroup.settings,a={type:e.groupType,items:[],parent:o},r=e.content;"horizontal"===o.orientation?a.width="100%":"vertical"===o.orientation&&(a.height="100%");for(var n=0;n<e.title.length;n++){var i={type:e.itemType,title:e.title[n],parent:a,prevent:!0,selected:t._getFloatGroupItemSelection(n),detachedContent:r[n],docked:!0};a.items.push(i)}o.items.push(a),t.base.render();for(var d=t.base._find(a.widget,".jqx-ribbon-content-section"),l=0;l<d.length;l++)for(var s=0;s<r[l].length;s++)r[l][s].appendTo(d[l])},_getFloatGroupItemSelection:function(e){var t=this;return!!t._draggedWindow.fromPanel||t._draggedWindow.element.current.items[0].items[e].selected},_createEdgeOverlays:function(){function t(t){var r,n,i="left"===t||"right"===t?"horizontal":"vertical",d='<div class="'+a.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-mini-window-edge-"+i)+'"><div class="'+a.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header jqx-docking-layout-overlay-inner-square-header-"+i)+'"></div><div class="'+a.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-inner-square-content-"+i)+'"></div></div>',l='<div class="'+a.toThemeProperty("jqx-docking-layout-overlay-square-edge-arrow-container jqx-docking-layout-overlay-square-edge-arrow-container-"+i)+'"><div class="'+a.toThemeProperty("jqx-fill-state-pressed jqx-docking-layout-overlay-square-edge-arrow jqx-docking-layout-overlay-square-edge-arrow-"+t)+'"></div></div>';return n="left"===t||"top"===t?d+l:l+d,r=document.createElement("div"),r.className=a.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-edge"),r.innerHTML='<div class="'+a.toThemeProperty("jqx-docking-layout-overlay-inner-square-edge")+'">'+n+"</div>",a._ie7?document.body.appendChild(r):a.element.appendChild(r),o._edgeOverlays.push(r),e(r)}var o=this,a=o.base;o._edgeOverlays=[],o._leftOverlay=t("left"),o._rightOverlay=t("right"),o._topOverlay=t("top"),o._bottomOverlay=t("bottom"),o._addEdgeOverlaysHandlers()},_addEdgeOverlaysHandlers:function(){function t(t,o,a,r){n._dropOverlay.style.display="block",n._dropOverlay.style.width=t,n._dropOverlay.style.height=o,e(n._dropOverlay).offset({left:a,top:r})}function o(o){switch(r=i.host.offset(),o=n._closest(e(o),"jqx-docking-layout-overlay-square-edge")[0],l=o,o){case n._leftOverlay[0]:t("100px",i.host.height()+"px",r.left,r.top);break;case n._rightOverlay[0]:t("100px",i.host.height()+"px",r.left+i.host.width()-100,r.top);break;case n._topOverlay[0]:t(i.host.width()+"px","100px",r.left,r.top);break;case n._bottomOverlay[0]:t(i.host.width()+"px","100px",r.left,r.top+i.host.height()-100);break;default:i._touchDevice&&(l=!1)}}function a(e){switch(e){case n._leftOverlay[0]:n._dropToEdge("left",0,"horizontal","width");break;case n._rightOverlay[0]:n._dropToEdge("right",i.layout[0].items.length-1,"horizontal","width");break;case n._topOverlay[0]:n._dropToEdge("top",0,"vertical","height");break;case n._bottomOverlay[0]:n._dropToEdge("bottom",i.layout[0].items.length-1,"vertical","height")}}var r,n=this,i=n.base,d=i.element.id,l=!1;i._touchDevice?(n.addHandler(e(document),"touchmove.jqxDockingLayout"+d,function(t){if(n._windowDragged){t.preventDefault();var a=t.originalEvent.touches[0];o(e(document.elementFromPoint(a.pageX,a.pageY)))}}),n.addHandler(e(document),"touchend.jqxDockingLayout"+d,function(){!1!==l&&(a(l),l=!1)})):e.each(n._edgeOverlays,function(){n.addHandler(this,"mouseenter.jqxDockingLayout"+d,function(){o(this)}),n.addHandler(this,"mouseleave.jqxDockingLayout"+d,function(){n._dropOverlay.style.display="none"}),n.addHandler(this,"mouseup.jqxDockingLayout"+d,function(){a(this)})})},_dropToEdge:function(e,t,o,a){var r,n,i=this,d=i.base,l=d.layout[0],s=i._getDraggedWindowInformation(),u=s.title,c=s.content,y=s.groupType,p=s.itemType,g=[];if(i._removeFloatGroupObject(i._draggedWindow.element.current),l.orientation===o){(r={type:y,parent:l})[a]=i._draggedWindow.element[a]();for(var v=0;v<u.length;v++)g.push({type:p,title:u[v],parent:r,prevent:!0,selected:i._getFloatGroupItemSelection(v),detachedContent:c[v],docked:!0});r.items=g,n=l.items[t],i._setOptimalDimension(a,r,n),"left"===e||"top"===e?l.items.splice(t,0,r):l.items.push(r)}else{var h;"width"===a?(h="height","minHeight"):(h="width","minWidth");var m={type:"layoutGroup",orientation:o,parent:l.parent,index:l.index};r={type:y,parent:m};for(var _=0;_<u.length;_++)g.push({type:p,title:u[_],parent:r,prevent:!0,selected:i._getFloatGroupItemSelection(_),detachedContent:c[_],docked:!0});r.items=g,delete l[h],delete r[h],r[a]="50%",l[a]="50%",l.parent=m,m.items="left"===e||"top"===e?[r,l]:[l,r],d.layout[0]=m,n=l}d.render();for(var f=d._find(r.widget,".jqx-ribbon-content-section"),q=0;q<f.length;q++)for(var x=0;x<c[q].length;x++)c[q][x].appendTo(f[q]);i._clearTextSelection(),d._raiseEvent("1",{item:n}),i._raiseEvent("1",{position:e+"-edge",item:r}),i._draggedWindow.element.remove(),i._hideOverlays()},_showEdgeOverlays:function(){function e(t){if(t.items&&0!==t.items.length){var o=t.orientation,a=t.items[0],r=t.items[t.items.length-1];"horizontal"===o?("autoHideGroup"===a.type?i=i&&!1:"layoutGroup"===a.type&&e(a),"autoHideGroup"===r.type?d=d&&!1:"layoutGroup"===r.type&&e(r)):"vertical"===o&&("autoHideGroup"===a.type?l=l&&!1:"layoutGroup"===a.type&&e(a),"autoHideGroup"===r.type?s=s&&!1:"layoutGroup"===r.type&&e(r))}}var t=this,o=t.base,a=o.host.width(),r=o.host.height(),n=o.host.offset(),i=!0,d=!0,l=!0,s=!0;e(o.layout[0]),i&&(t._leftOverlay[0].style.display="block"),d&&(t._rightOverlay[0].style.display="block"),l&&(t._topOverlay[0].style.display="block"),s&&(t._bottomOverlay[0].style.display="block"),t._leftOverlay.offset({left:n.left+5,top:n.top+r/2-20}),t._rightOverlay.offset({left:n.left+a-40,top:n.top+r/2-20}),t._topOverlay.offset({left:n.left+a/2-20,top:n.top+5}),t._bottomOverlay.offset({left:n.left+a/2-20,top:n.top+r-40})},_hideOverlays:function(){var e=this,t=e.base;e._windowDragged=!1,!0===e._oldIE&&clearInterval(e._oldIEInterval),t.resizable&&setTimeout(function(){e.base._overlay[0].style.display="none"},0),e._overlay[0].style.display="none";for(var o=0;o<e._edgeOverlays.length;o++)e._edgeOverlays[o].style.display="none";e._dropOverlay.style.display="none"},_getDraggedWindowInformation:function(){var e,t,o=this,a=o.base,r=[],n=[];if(o._draggedWindow.fromPanel)r.push(o._draggedWindow.title),n.push(a._detachChildNodes(a._find(o._draggedWindow.element,".jqx-window-content")[0]));else for(var i=a._find(o._draggedWindow.element,".jqx-ribbon-content-section"),d=0;d<o._draggedWindow.element.current.items[0].items.length;d++){var l=o._draggedWindow.element.current.items[0].items[d];r.push(l.title),n.push(a._detachChildNodes(i[d]))}return"documentGroup"===o._draggedWindow.fromGroup.type?(e="documentGroup",t="documentPanel"):(e="tabbedGroup",t="layoutPanel"),{title:r,content:n,groupType:e,itemType:t}},_removeFloatGroupObject:function(e){var t=this.base;e.removed=!0,t._updateLayout(t.layout)},_trackFloatGroups:function(){for(var e=this.base,t=1;t<e.layout.length;t++){var o=e.layout[t];if("tabbedGroup"===o.items[0].type){var a=o.items[0].widget,r={element:a,width:a.width(),height:a.height(),offset:a.offset(),settings:o.items[0]};o._overlayGroup=r,e._overlayGroups.push(r)}}},_updateOverlayGroup:function(e){if(e){var t=e.element;e.width=t.width(),e.height=t.height(),e.offset=t.offset(),e.self=!1}},_updateOverlayGroups:function(){for(var e=this.base._overlayGroups,t=e.length-1;t>=0;t--)!0===e[t].removed&&e.splice(t,1)},_clearTextSelection:function(){try{document.selection?document.selection.empty():window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}catch(e){}},_closest:function(t,o){if(t.hasClass(o))return t;for(var a=e(t[0].parentNode);null!==a[0]&&"#document"!==a[0].nodeName;){if(a.hasClass(o))return a;a=e(a[0].parentNode)}}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxDockPanel","",{}),t.extend(t.jqx._jqxDockPanel.prototype,{defineInstance:function(){var i={width:null,height:null,lastchildfill:!0,disabled:!1,events:["layout"]};return this===t.jqx._jqxDockPanel.prototype?i:(t.extend(!0,this,i),i)},createInstance:function(i){var h=this;this.host.addClass(this.toThemeProperty("jqx-dockpanel")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.childrenCount=t(this.host).children().length,this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>'),this.$wrapper=this.host.find(".innerContainer"),this.$wrapper.css("position","relative"),this.sizeCache=new Array,this.performLayout(),t.jqx.utilities.resize(this.host,function(){h.refresh()})},render:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.sizeCache=new Array,this.performLayout()},resize:function(t,i){this.width=t,this.height=i,this.render()},performLayout:function(){if(!this.disabled){var i=this.childrenCount,h=0,e=0,s=0,r=0,n=this,o={width:this.host.width(),height:this.host.height()};this.sizeCache.length<this.$wrapper.children().length&&t.each(this.$wrapper.children(),function(i){var h=t(this);h.css("position","absolute");var e={width:h.css("width"),height:h.css("height")};n.sizeCache[i]=e}),t.each(this.$wrapper.children(),function(a){var d=this.getAttribute("dock");void 0==d&&(d="left"),a==i-1&&n.lastchildfill&&(d="fill");var l=t(this);l.css("position","absolute"),l.css("width",n.sizeCache[a].width),l.css("height",n.sizeCache[a].height);var c={width:l.outerWidth(),height:l.outerHeight()},w={x:s,y:r,width:Math.max(0,o.width-(s+h)),height:Math.max(0,o.height-(r+e))};if(a<i)switch(d){case"left":s+=c.width,w.width=c.width;break;case"top":r+=c.height,w.height=c.height;break;case"right":h+=c.width,w.x=Math.max(0,o.width-h),w.width=c.width;break;case"bottom":e+=c.height,w.y=Math.max(0,o.height-e),w.height=c.height}l.css("left",w.x),l.css("top",w.y),l.css("width",w.width),l.css("height",w.height)}),this._raiseevent(0)}},destroy:function(){t.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseevent:function(i,h,e){if(void 0!=this.isInitialized&&1==this.isInitialized){var s=this.events[i],r=new t.Event(s);return r.previousValue=h,r.currentValue=e,r.owner=this,this.host.trigger(r)}},propertyChangedHandler:function(t,i,h,e){this.isInitialized&&t.render()},refresh:function(){this.render()}})}(jqxBaseFramework);

!function(i){i.jqx.jqxWidget("jqxDocking","",{}),i.extend(i.jqx._jqxDocking.prototype,{defineInstance:function(){var t={orientation:"horizontal",mode:"default",floatingWindowOpacity:.3,panelsRoundedCorners:!0,disabled:!1,width:"auto",height:"auto",windowsMode:null,cookies:!1,cookieOptions:{},windowsOffset:5,rtl:!1,keyboardNavigation:!1,_windowOptions:{},_draggedFired:!1,_dragging:!1,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};return this===i.jqx._jqxDocking.prototype?t:(i.extend(!0,this,t),t)},createInstance:function(){if(!this.host.jqxWindow)throw new Error("jqxDocking: Missing reference to jqxwindow.js.");this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(i){1!=i&&this._performLayout()},_refresh:function(t){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners();var e=i.Event("resize");this.host.trigger(e)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(i=0;i<this._panels.length;i+=1)this._panels[i].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[i].addClass(this.toThemeProperty("jqx-rc-all"));for(var i=0;i<this._windows.length;i+=1)this._windows[i].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(i=0;i<this._panels.length;i+=1)this._panels[i].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[i].removeClass(this.toThemeProperty("jqx-rc-all"));for(var i=0;i<this._windows.length;i+=1)this._windows[i].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var t=this.host.children("div"),e=0;e<t.length;e+=1)this._panels.push(i(t[e])),this._renderWindows(i(t[e]))},focus:function(t){this.focusedWindow&&i(this.focusedWindow).removeClass(this.toThemeProperty("jqx-fill-state-focus")),!i.isEmptyObject(t)&&"string"===i.type(t)&&i("#"+t).length>0?this.focusedWindow=i("#"+t)[0]:this.focusedWindow=this._windows[0][0],i(this.focusedWindow).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.focus()},_renderWindows:function(t){for(var e=t.children("div"),o=0;o<e.length;o+=1)this._windows.push(i(e[o])),i(e[o]).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:i(e[o]).css("width"),maxWidth:Number.MAX_VALUE}),i(e[o]).detach(),t.append(i(e[o]));t.append('<div class="spacer" style="clear: both;"></div>');var s=this;if(this.keyboardNavigation){var n=function(t){if(13===t.keyCode?s.focusedWindow&&i(s.focusedWindow).jqxWindow("showCollapseButton")&&i(s.focusedWindow).jqxWindow("_collapseButton").trigger("click"):(s.focusedWindow&&27===t.keyCode&&"esc"===i(s.focusedWindow).jqxWindow("keyboardCloseKey")||s.focusedWindow&&i(s.focusedWindow).jqxWindow("keyboardCloseKey")==t.keyCode)&&i(s.focusedWindow).jqxWindow("closeWindow",t),9===t.keyCode){if(null==s.focusedWindow)s.focusedWindow=s._windows[0],i(s.focusedWindow).focus(),t.stopPropagation();else{var e=-1;if(i.each(s._windows,function(i,t){this[0]==s.focusedWindow&&(e=i)}),t.shiftKey?e--:e++,e>=s._windows.length||e<0)return i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=null,t.stopPropagation(),!0;var o=s._windows[e];o||(o=s._windows[0]),i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=o[0],i(s.focusedWindow).focus()}i(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus")),t.preventDefault&&(t.preventDefault(),t.stopPropagation())}};i.each(s._windows,function(t,e){var o=i(this);s.removeHandler(o,"focus"),s.removeHandler(o,"blur"),s.removeHandler(o,"mousedown"),s.addHandler(o,"mousedown",function(t){s.focusedWindow&&i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=o[0],i(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(s.focusedWindow).focus()}),s.addHandler(o,"focus",function(t){s.focusedWindow&&i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=o[0],i(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus"))}),s.addHandler(o,"blur",function(t){if(i(document.activeElement).ischildof(i(o)))return!0;i(o).removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),s.removeHandler(o,"keydown"),s.addHandler(o,"keydown",function(i){n(i)})}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(i){n(i)}),this.removeHandler(this.host,"blur"),this.addHandler(this.host,"blur",function(t){s.focusedWindow&&(i(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=null)})}},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){this.host.css("overflow","hidden");for(var i,t=this.host.width(),e=0,o=0;o<this._panels.length;o+=1)(i=this._panels[o]).css("height","auto"),i.css("min-width","auto"),i[0].style.width="auto","vertical"===this.orientation?(i.css("width","auto"),i.css("float","none")):(e+=this._handleHorizontalSize(i,e,t),o>0&&i.css("margin-left",-this.windowsOffset));"horizontal"===this.orientation&&e<t&&this._fillContainer(t,e)},_handleHorizontalSize:function(i,t,e){var o,s=e/this._panels.length,n=i.outerWidth()-i.width();if(i.css("float","left"),"auto"===i[0].style.width||0===parseInt(i.css("width"),10)){var d=99.99/this._panels.length;return i[0].style.width=d+"%",i.outerWidth()}return t+i.outerWidth()>=e&&(t+s<e?(o=s-n,i.css("min-width",o),i.width(o)):(o=i.width()-(t+i.outerWidth()-e),i.css("min-width",o),i.width(o))),i.outerWidth()},_fillContainer:function(t,e){var o=this._panels.length,s=this._panels[o-1];s.width();i.jqx.browser.msie&&i.jqx.browser.version<9&&this._panels.length},_performWindowsLayout:function(){for(var i,t=0;t<this._windows.length;t+=1)i=this._getWindowOptions(this._windows[t]),this._windows[t].ischildof(this.host)&&(i?"floating"!==i.mode&&(this._windows[t].css("margin",this.windowsOffset),this._windows[t].css("position","static")):"floating"!==this.mode&&(this._windows[t].css("position","static"),this._windows[t].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[t],i)},_setWindowSize:function(i,t){if("floating"!==t.mode&&i.ischildof(this.host)){var e=i.parent().width()-(i.outerWidth()-i.width())-2*this.windowsOffset;this.orientation,i.jqxWindow("width",e)}this._setWindowOption(i,"size",{width:i.width(),height:i.height()})},_setWindowsOptions:function(i){for(var t=0;t<this._windows.length;t+=1){var e,o=this._windows[t].attr("id"),s=this._getWindowOptions(o);if(!i);e=null,this.windowsMode&&this.windowsMode.hasOwnProperty(o)?(e=this.windowsMode[o],this._setWindowOption(this._windows[t],"mode",e)):void 0!==s&&void 0===s.mode&&(e=this.mode,this._setWindowOption(this._windows[t],"mode",e)),i&&(this._setWindowOption(this._windows[t],"resizable",!0),"floating"==e?this._windows[t].jqxWindow({enableResize:!0}):this._windows[t].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[t],"size",{height:this._windows[t].height(),width:this._windows[t].width()}))}},_removeEventListeners:function(){for(var i=0;i<this._windows.length;i+=1)this.removeHandler(this._windows[i],"moving",this._itemDragging),this.removeHandler(this._windows[i],"moved",this._itemDrop),this.removeHandler(this._windows[i],"resized",this._itemResized),this.removeHandler(this._windows[i],"collapse",this._collapsed),this.removeHandler(this._windows[i],"expand",this._expanded)},_addEventListeners:function(){for(var t=0;t<this._windows.length;t+=1)this._addEventListenersTo(this._windows[t]);var e=this;i.jqx.utilities.resize(this.host,function(){e._performLayout()})},_addEventListenersTo:function(i){this.addHandler(i,"moving",this._itemDragging,{self:this}),this.addHandler(i,"moved",this._itemDrop,{self:this}),this.addHandler(i,"resized",this._itemResized,{self:this}),this.addHandler(i,"collapse",this._collapsed,{self:this}),this.addHandler(i,"expand",this._expanded,{self:this})},_itemDragging:function(t){var e=t.data.self,o=i(t.target),s=e._getWindowOptions(o);if(o.removeClass(e.toThemeProperty("jqx-docking-window")),o.css("margin","0px"),e._dragging||e._prepareForDragging(o),"floating"!==s.mode){var n={x:t.args.pageX,y:t.args.pageY},d=e._getMouseOverPanel(n);return d?e._mouseOverPanel(d,n):e._mouseLeavePanel(),e._draggedFired||(e._raiseEvent(1,{window:i(o).attr("id")}),e._draggedFired=!0),!0}},_prepareForDragging:function(t){this._dragging=!0;var e={parent:t.parent(),next:t.next(),prev:t.prev()};this._setWindowOption(t,"lastPosition",e),t.detach(),i(document.body).append(t),this._setDraggingStyles(t),this._draggingItem=t},_setDraggingStyles:function(i){i.css({position:"absolute",left:i.offset().left,top:i.offset().top}),i.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(i){for(var t=0;t<this._panels.length;t+=1)if(this._isMouseOverItem(this._panels[t],i,!1))return this._panels[t];return null},_mouseOverPanel:function(i,t){if(this._dragging){var e=i.children("div"),o=this._getHoverWindow(t,e);if("indicator"===o)return;var s=this._centerOffset(o,t);this._handleIndicator(i,o,s)}},_getHoverWindow:function(t,e){if(this._isMouseOverItem(this._indicator,t,!0))return"indicator";for(var o=0;o<e.length;o+=1)if(this._isMouseOverItem(i(e[o]),t,!0))return i(e[o]);return null},_centerOffset:function(i,t){if(i){var e,o={x:i.offset().left,y:i.offset().top},s=i.height();i.width();return e=o.y+s/2,t.y>e?"next":"prev"}return"all"},_handleIndicator:function(i,t,e){var o=this._getIndicator(t);"all"===e?"vertical"===this.orientation?o.insertBefore(i.children(".spacer")):i.append(o):"prev"===e?o.insertBefore(t):o.insertAfter(t),this._resizeIndicator(o,i)},_getIndicator:function(){var t=this._indicator;return t||(t=i('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')),this._indicator=t,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),t},_resizeIndicator:function(i,t){"horizontal"===this.orientation?(i.width(t.width()-(i.outerWidth(!0)-i.width())),i.height(this._draggingItem.height())):(i.width(this._draggingItem.width()),i.height(this._draggingItem.height()))},_mouseLeavePanel:function(i){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(t){var e=t.data.self,o=i(t.currentTarget);e._dragging=!1,e._indicator?(o.detach(),o.insertAfter(e._indicator),e._indicator.remove(),e._dropFixer(o)):e._dropHandler(o),o.fadeTo(0,1),o.focus(),e._indicator=null,e._cookieExporter(),e._draggedFired=!1,e._raiseEvent(0,{window:o.attr("id")})},_dropFixer:function(i){i.css("position","static"),i.addClass(this.toThemeProperty("jqx-docking-window")),i.css("margin",this.windowsOffset),i.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(i)},_dropHandler:function(i){this._getWindowOptions(i);"docked"===this.mode?this._dropDocked(i):this._dropFloating(i)},_dropDocked:function(i){var t=this._getWindowOptions(i).lastPosition;i.detach(),t.next[0]?i.insertBefore(t.next):t.prev[0]?i.insertAfter(t.prev):t.parent.append(i),this._dropFixer(i)},_fixWindowSize:function(t){i(t).jqxWindow({width:t.parent().width()-(t.outerWidth()-t.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(t){var e=t.data.self,o=i(t.currentTarget);e._setWindowOption(o,"size",{width:t.args.width,height:t.args.height}),e._cookieExporter()},_dropFloating:function(t){var e;i(t).jqxWindow("collapsed")||(e=this._getWindowOptions(t),i(t).jqxWindow("enableResize",e.resizable)),i(document.body).append(t),this._restoreWindowSize(t)},_restoreWindowSize:function(t){var e=this._getWindowOptions(t);i(t).jqxWindow({width:e.size.width})},_isMouseOverItem:function(i,t,e){if(!i)return!1;var o=i.outerWidth(!0),s=i.outerHeight(!0),n=i.width(),d=i.height(),r=i.offset().top,h=i.offset().left;return e&&(r-=(s-d)/2,h-=(o-n)/2,n=o,d=s),h<=t.x&&h+n>=t.x&&r<=t.y&&r+d+2*this._draggingItem.height()/3>=t.y},_cookieHandler:function(){if(this.cookies){var t=i.jqx.cookie.cookie("jqxDocking"+this.element.id);null!==t&&(this.importLayout(t),layoutImported=!0)}},_cookieExporter:function(){this.cookies&&i.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(i,t){for(var e=0;e<t.length;e+=1)if(i[0]===t[e][0])return e;return-1},_exportFixed:function(){for(var t,e,o=[],s="",n=0;n<this._panels.length;n+=1){s+='"panel'+n+'": {',t=this._panels[n].children();for(var d=0;d<t.length;d+=1)(e=i(t[d])).attr("id")&&(o.push(e),s+='"'+e.attr("id")+'":{"collapsed":'+e.jqxWindow("collapsed")+"},");t.length>1&&(s=s.substring(0,s.length-1)),s+="},"}return s=s.substring(0,s.length-1),{JSON:s,children:o}},_exportFloating:function(t){var e,o="";o+='"floating":{';for(var s=0;s<this._windows.length;s+=1)e=i(this._windows[s]),-1===this._indexOf(e,t)&&(o+='"'+e.attr("id")+'":{"x":"'+e.css("left")+'","y":"'+e.css("top")+'","width":"'+e.jqxWindow("width")+'","height":"'+e.jqxWindow("height")+'","collapsed":'+e.jqxWindow("collapsed")+"},");return","===o.substring(o.length-1,o.length)&&(o=o.substring(0,o.length-1)),o+="}"},_importFixed:function(t){for(var e in t)if("orientation"!==e&&"floating"!==e&&t.hasOwnProperty(e)){order=e.substring(e.length-1,e.length),order=parseInt(order,10),children=t[e];for(var e in children)i("#"+e).css("position","static"),children[e].collapsed&&function(t){setTimeout(function(){i("#"+t).jqxWindow("collapsed",!0)},0)}(e),this._panels[order].append(i("#"+e)),"horizontal"===this.orientation&&this._fixWindowSize(i("#"+e))}},_importFloating:function(t){var e,o=t.floating;for(var s in o)o.hasOwnProperty(s)&&(i("#"+s).css("position","absolute"),i(document.body).append(i("#"+s)),e=this._dragging,i("#"+s).jqxWindow("move",o[s].x,o[s].y),this._dragging=e,i("#"+s).jqxWindow("width",o[s].width),i("#"+s).jqxWindow("height",o[s].height),i("#"+s).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(t){setTimeout(function(){i("#"+t).jqxWindow("collapsed",o[t].collapsed)},0)}(s),i("#"+s).fadeTo(0,1))},_getWindowOptions:function(i){return"object"==typeof i&&null!==i&&(i=i.length>0?i.attr("id"):i.id),this._windowOptions[i]},_setWindowOption:function(i,t,e){"object"==typeof i&&null!==i&&(i=i.length>0?i.attr("id"):i.id),void 0===this._windowOptions[i]&&(this._windowOptions[i]={}),this._windowOptions[i][t]=e,"mode"===t&&this.setWindowMode(i,e)},_expanded:function(i){i.data.self._cookieExporter()},_collapsed:function(i){i.data.self._cookieExporter()},_raiseEvent:function(t){var e=i.Event(this._events[t]);return e.args=arguments[1],this.host.trigger(e)},_moveWindow:function(t,e,o){var s=e.children(),n=null,d=0;i.each(s,function(e){"static"==i(this).css("position")&&(d==o&&this!=t[0]&&(n=this),d++)}),d<=o?t.appendTo(e):null!=n&&t.insertBefore(n),t.css("position","static")},propertyChangedHandler:function(t,e,o,s){switch(e){case"rtl":i.each(t._windows,function(){this.jqxWindow({rtl:s})});break;case"theme":i.each(t._windows,function(){this.jqxWindow({theme:s})});break;case"orientation":case"height":case"width":t._performLayout(),t._cookieExporter();break;case"panelsRoundedCorners":t._removeClasses(),t._addClasses();break;case"disabled":s?(t.disabled=!1,t.disable()):(t.disabled=!0,t.enable());break;case"windowsMode":case"mode":t._setWindowsOptions(!1);break;case"cookies":t._cookieExporter();break;case"windowsOffset":t._performLayout()}},destroy:function(){this._removeEventListeners(),this.host.remove(),this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var t=0;t<this._windows.length;t+=1)this._windows[t][0].style.opacity="",i(this._windows[t]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var t=0;t<this._windows.length;t+=1)i(this._windows[t]).jqxWindow("enable")}},move:function(t,e,o){if(e=this._panels[e]){var s=i(e.children(".spacer"));s.detach(),t=i("#"+t),"floating"!==this._getWindowOptions(t).mode&&(this._moveWindow(t,e,o),e.append(s),this._cookieExporter(),this._dropFixer(t))}},exportLayout:function(){var i="{",t=this._exportFixed();return i+=t.JSON+","+this._exportFloating(t.children)+',"orientation": "'+this.orientation+'"',i+="}"},importLayout:function(t){try{var e=i.parseJSON(t);this.orientation=e.orientation,this._performLayout(),this._importFixed(e),this._importFloating(e)}catch(i){alert("Invalid JSON string.")}},setWindowMode:function(t,e){var t=i("#"+t),o=this._getWindowOptions(t);"floating"===e?(t.css("position","absolute"),this._windowOptions[t.attr("id")].mode=e):"floating"===o.mode&&"absolute"===t.css("position")&&(o.lastPosition?this._dropDocked(t):(this._panels[0].append(t),this._dropFixer(t))),this._windowOptions[t.attr("id")].mode=e},hideCloseButton:function(t){i("#"+t).jqxWindow("showCloseButton",!1)},showCloseButton:function(t){i("#"+t).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(t){i("#"+t).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(t){i("#"+t).jqxWindow("showCollapseButton",!0)},expandWindow:function(t,e){i("#"+t).jqxWindow("expand",e)},collapseWindow:function(t,e){i("#"+t).jqxWindow("collapse",e)},setWindowProperty:function(t,e,o){i("#"+t).jqxWindow(e,o)},getWindowProperty:function(t,e){return i("#"+t).jqxWindow(e)},setWindowPosition:function(t,e,o){var t=i("#"+t);"floating"===this._getWindowOptions(t).mode&&(t.css("position","absolute"),i(t).jqxWindow("move",e,o,null,!1))},hideAllCloseButtons:function(){for(var i=0;i<this._windows.length;i+=1)this._windows[i].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var i=0;i<this._windows.length;i+=1)this._windows[i].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var i=0;i<this._windows.length;i+=1)this._windows[i].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var i=0;i<this._windows.length;i+=1)this._windows[i].jqxWindow("showCollapseButton",!0)},pinWindow:function(t){i("#"+t).jqxWindow("draggable",!1)},unpinWindow:function(t){i("#"+t).jqxWindow("draggable",!0)},setDraggingMode:function(t){var e=i("#"+t);this._prepareForDragging(e),e.fadeTo(0,1)},enableWindowResize:function(t){"absolute"===(t=i("#"+t)).css("position")&&(this._setWindowOption(t,"resizable",!0),t.jqxWindow("enableResize",!0))},disableWindowResize:function(t){t=i("#"+t),this._setWindowOption(t,"resizable",!1),t.jqxWindow("enableResize",!1)},addWindow:function(t,e,o,s){var n="#"+t;i(n).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:i(n).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(i(n)),this._windows.push(i(n)),e?this._setWindowOption(i(n),"mode",e):this._setWindowOption(i(n),"mode",this.mode),this._setWindowOption(i(n),"resizable",!0),this._setWindowOption(i(n),"size",{width:i(n).width(),height:i(n).height()}),"floating"==e?i(n).jqxWindow({enableResize:!0}):i(n).jqxWindow({enableResize:!1}),null!=this._panels[o]&&this._setWindowOption(i(n),"size",{width:this._panels[o].width(),height:this._panels[o].height()}),this._addEventListenersTo(i(n)),void 0!==o&&void 0!==s&&this.move(t,o,s),this._dropFixer(i(n))},closeWindow:function(t){i("#"+t).jqxWindow("closeWindow")}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxDragDrop","",{}),e.extend(e.jqx._jqxDragDrop.prototype,{defineInstance:function(){var t={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};return this===e.jqx._jqxDragDrop.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var t=e.data(document.body,"jqx-draggables")||1;if(this.appendTo=this._getParent(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),/(static|relative)/.test(this.host.css("position"))&&(!this.feedback||"original"===this.feedback)){var i=this._getRelativeOffset(this.host),r=this.appendTo.offset();"static"!=this.appendTo.css("position")&&(r={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=r.left+i.left+"px",this.element.style.top=r.top+i.top+"px"}this._validateProperties(),this._idHandler(t),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=e(this.dropTarget)),this._refresh(),t+=1,e.data(document.body,"jqx-draggables",t),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var t=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":t=this.host.parent();break;case"document":t=e(document);break;case"body":t=e(document.body);break;default:t=e(this.appendTo)}return t},_idHandler:function(e){if(!this.element.id){var t="jqx-draggable-"+e;this.element.id=t}},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_validateProperties:function(){"clone"===this.feedback?this._feedbackType="clone":this._feedbackType="original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var t=this;this.addHandler(this.host,"dragstart",function(i){return!!t.disabled||(e.jqx.mobile.isTouchDevice()?void 0:(i.preventDefault(),!1))}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,function(e){t._mouseUp(e)},{self:this});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i="";window.parent&&document.referrer&&(i=document.referrer),-1!=i.indexOf(document.location.host)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",function(){t._mouseUp(t)},!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",function(){t._mouseUp(t)}))}}catch(e){}},_mouseDown:function(e){e.stopPropagation(),e.stopImmediatePropagation();var t=e.data.self,i=t._getMouseCoordinates(e),r=t._mouseCapture(e);if(t._originalPageX=i.left,t._originalPageY=i.top,t.disabled)return!0;return t._mouseStarted||(t._clear(e),!0),r&&(t._mouseDownEvent=e),!!t._isTouchDevice||(1!==e.which||!r||void e.preventDefault())},_mouseMove:function(e){var t=e.data.self;return!!t.disabled||(t._mouseStarted?(t._mouseDrag(e),e.preventDefault&&e.preventDefault(),!1):(t._mouseDownEvent&&t._isMovedDistance(e)&&(t._mouseStart(t._mouseDownEvent,e)?t._mouseStarted=!0:t._mouseStarted=!1,t._mouseStarted?t._mouseDrag(e):t._mouseUp(e)),!t._mouseStarted))},_mouseUp:function(e){this._clear(e)},_clear:function(e){var t;return!!(t=e.data&&e.data.self?e.data.self:this).disabled||(t._mouseDownEvent=!1,t._movedDistance=!1,t._mouseStarted&&(t._mouseStarted=!1,t._mouseStop(e)),t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&!t.revert&&t.feedback.remove(),!!t._isTouchDevice&&void 0)},cancelDrag:function(){var e=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=e},_isMovedDistance:function(e){var t=this._getMouseCoordinates(e);return!!this._movedDistance||(t.left>=this._originalPageX+this.distance||t.left<=this._originalPageX-this.distance||t.top>=this._originalPageY+this.distance||t.top<=this._originalPageY-this.distance)&&(this._movedDistance=!0,!0)},_getMouseCoordinates:function(t){if(this._isTouchDevice){var i=e.jqx.position(t);return{left:i.left,top:i.top}}return{left:t.pageX,top:t.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(t){t.each(function(){e(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(t){t.each(function(){e(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(e){return!this.disabled&&(!!this._getHandle(e)&&(this._disableSelection(this.host),!0))},_getScrollParent:function(t){var i;return i=e.jqx.browser.msie&&/(static|relative)/.test(t.css("position"))||/absolute/.test(t.css("position"))?t.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position",1))&&/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0):t.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0),/fixed/.test(t.css("position"))||!i.length?e(document):i},_mouseStart:function(t){var i=this._getMouseCoordinates(t);this._getParentOffset(this.host);this.feedback=this._createFeedback(t),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},e.extend(this._offset,{click:{left:i.left-this._offset.left,top:i.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(t),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,t);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(t,!0),!0},_fixPosition:function(){var e=this._getRelativeOffset(this.host);this.position;return{left:this.position.left+e.left,top:this.position.top+e.top}},_mouseDrag:function(e,t){return this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,e),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(t,i,r){if(this.dropTarget){var s=!1,o=this;e.each(this.dropTarget,function(e,a){if((s=o._overItem(a,t,i,r)).over)return!1})}return s},_overItem:function(t,i,r,s){var o=(t=e(t)).offset(),a=t.outerHeight(),n=t.outerWidth();if(t&&t[0]!==this.element){var l=!1;switch(this.tolerance){case"intersect":i.left+r>o.left&&i.left<o.left+n&&i.top+s>o.top&&i.top<o.top+a&&(l=!0);break;case"fit":r+i.left<=o.left+n&&i.left>=o.left&&s+i.top<=o.top+a&&i.top>=o.top&&(l=!0)}return{over:l,target:t}}},_handleTarget:function(){if(this.dropTarget){var e=this.feedback.offset(),t=this.feedback.outerWidth(),i=this.feedback.outerHeight(),r=this._over(e,t,i);r.over?(this._targetEnterFired&&r.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&r.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||r.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&r.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:r.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(r.target)),this._oldtarget=r.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||r.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||r.target))}},_mouseStop:function(e){var t=this._fixPosition(),i={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(this.dropped,this.dropped=!1),!!(this.element&&this.element.parentNode||"original"!==this.feedback)&&(this._dropElement(t),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,e),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(t,i.width,i.height).over&&this.onTargetDrop(this._over(t,i.width,i.height).target),this._revertHandler(),!1)},_dropElement:function(e){if("default"===this.dropAction&&this.feedback&&this.feedback[0]!==this.element&&"original"!==this.feedback&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var t=this._getRelativeOffset(this.host);(e=this.position).left-=t.left,e.top-=t.top,this.element.style.left=e.left+"px",this.element.style.top=e.top+"px"}},_revertHandler:function(){if(this.revert||e.isFunction(this.revert)&&this.revert()){var t=this;"original"!=this._feedbackType?null!=this.feedback&&("none"!=this.dropAction?e(this.feedback).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()}):t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,e(this.host).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.element.style.zIndex=t._zIndexBackup}))}},_getHandle:function(t){var i;return this.handle?e(this.handle,this.host).find("*").andSelf().each(function(){this==t.target&&(i=!0)}):i=!0,i},_createFeedback:function(e){var t;if(t="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(t.css("position"))||t.css("position","absolute"),this.appendTo[0]!==this.host.parent()[0]||t[0]!==this.element){t.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(t).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(t).top}),t.appendTo(this.appendTo)}return"function"==typeof this.initFeedback&&this.initFeedback(t),t},_getParentOffset:function(t){var t=t||this.feedback;this._offsetParent=t.offsetParent();var i=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&e.contains(this._scrollParent[0],this._offsetParent[0])&&(i.left+=this._scrollParent.scrollLeft(),i.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&e.jqx.browser.msie)&&(i={top:0,left:0}),{top:i.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:i.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(e){this._scrollParent||e.parent();if("relative"===(e=e||this.feedback).css("position")){var t=this.host.position();return{top:t.top-(parseInt(e.css("top"),10)||0),left:t.left-(parseInt(e.css("left"),10)||0)}}return{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),"document"!=this.restricter&&"window"!=this.restricter||this._handleNativeRestricter(),void 0!==this.restricter.left&&void 0!==this.restricter.top&&void 0!==this.restricter.height&&void 0!==this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:e(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:e(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:e(window).scrollLeft())+e("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:e(window).scrollTop())+(e("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var t=e(this.restricter),i=t[0];if(i){var r="hidden"!==e(i).css("overflow");this._restricter=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(r?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(r?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=t}},_convertPositionTo:function(t,i){i||(i=this.position);var r,s,o;return r="absolute"===t?1:-1,s="absolute"!==this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,o=/(html|body)/i.test(s[0].tagName),this._getPosition(i,r,o,s)},_getPosition:function(t,i,r,s){return{top:t.top+this._offset.relative.top*i+this._offset.parent.top*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():r?0:s.scrollTop())*i),left:t.left+this._offset.relative.left*i+this._offset.parent.left*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():r?0:s.scrollLeft())*i)}},_generatePosition:function(t){var i="absolute"!=this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,r=/(html|body)/i.test(i[0].tagName),s=this._getMouseCoordinates(t),o=s.left,a=s.top;if(this.originalPosition){var n;if(this.restricter){if(this._restrictiveContainer){var l=this._restrictiveContainer.offset();n=[this._restricter[0]+l.left,this._restricter[1]+l.top,this._restricter[2]+l.left,this._restricter[3]+l.top]}else n=this._restricter;s.left-this._offset.click.left<n[0]&&(o=n[0]+this._offset.click.left),s.top-this._offset.click.top<n[1]&&(a=n[1]+this._offset.click.top),s.left-this._offset.click.left>n[2]&&(o=n[2]+this._offset.click.left),s.top-this._offset.click.top>n[3]&&(a=n[3]+this._offset.click.top)}}return{top:a-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():r?0:i.scrollTop()),left:o-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():r?0:i.scrollLeft())}},_raiseEvent:function(t,i){if(void 0==this.triggerEvents||0!=this.triggerEvents){var r=this._events[t],s=e.Event(r);return(i=i||{}).position=this.position,i.element=this.element,e.extend(i,this.data),i.feedback=this.feedback,s.args=i,this.host.trigger(s)}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(t,i,r,s){"dropTarget"===i?"string"==typeof s&&(t.dropTarget=e(s)):"disabled"==i?s&&t._enableSelection(t.host):"cursor"==i&&t.host.css("cursor",t.cursor)}})}(jqxBaseFramework),function(e){jqxListBoxDragDrop=function(){e.extend(e.jqx._jqxListBox.prototype,{_hitTestBounds:function(e,t,i){var r=e.host.offset(),s=i-parseInt(r.top),o=t-parseInt(r.left),a=e._hitTest(o,s);if(s<0)return null;if(null!=a){var n=parseInt(r.left),l=n+e.host.width();return n<=t+a.width/2&&t<=l?a:null}if(e.items&&e.items.length>0){var d=e.items[e.items.length-1];if(e.groups.length<2&&d.top+d.height+15>=s)return d}return null},_handleDragStart:function(t,i){e.jqx.mobile.isTouchDevice()&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){if(i.allowDrag&&!i.disabled){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i.isDragging=!0,i._dragCancel=!1;var r=i._getMouseCoordinates(t),s=i._hitTestBounds(i,r.left,r.top),o=e.find(".jqx-listbox");i._listBoxes=o,e.each(i._listBoxes,function(){if(!e.jqx.isHidden(e(this))){var t=e.data(this,"jqxListBox").instance;t._enableHover=t.enableHover,t.enableHover=!1,e.jqx.mobile.setTouchScroll(!1,i.element.id)}});var a=function(){i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),e.each(i._listBoxes,function(){if(!e.jqx.isHidden(e(this))){var t=e.data(this,"jqxListBox").instance;void 0!=t._enableHover&&(t.enableHover=t._enableHover,e.jqx.mobile.setTouchScroll(!0,i.element.id))}})};if(null==s||s.isGroup)null==s&&a();else{if(i._dragItem=s,i.dragStart&&0==i.dragStart(s))return a(),!1;s.disabled&&a(),i._raiseEvent(4,{label:s.label,value:s.value,dragSourceElement:i.element,originalEvent:t.args})}}return!1})},_handleDragging:function(t,i){var r=this;t.off("dragging"),t.on("dragging",function(t){var s=t.args;if(!i._dragCancel){var o=i._getMouseCoordinates(t);i._lastDraggingPosition=o,i._dragOverItem=null,i.feedbackElement.hide();var a=r._getBestMatchItem(i,o);e.each(i._listBoxes,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),r=t.top+20,n=e(this).height()+r-40,l=t.left,d=l+e(this).width(),h=e.data(this,"jqxListBox").instance,c=h._hitTestBounds(h,o.left,o.top),f=h.vScrollInstance;if(c&&h.allowDrop&&!h.disabled&&c.element&&a&&a.item&&e(this)[0]==a.item[0]){i._dragOverItem=c,i.feedbackElement.show();var g=e(c.element).offset().top+1;o.top>g+c.height/2&&(g+=c.height),i.feedbackElement.css("top",g),i.feedbackElement.css("left",l),"visible"!=h.vScrollBar.css("visibility")?i.feedbackElement.width(e(this).width()):i.feedbackElement.width(e(this).width()-20),o.left>=l&&o.left<d?s.position.top<r&&s.position.top>=r-30?(clearInterval(h._autoScrollTimer),0!=f.value&&i.feedbackElement.hide(),h._autoScrollTimer=setInterval(function(){h.scrollUp()||clearInterval(h._autoScrollTimer)},100)):s.position.top>n&&s.position.top<n+30?(clearInterval(h._autoScrollTimer),"hidden"!=h.vScrollBar.css("visibility")&&f.value!=f.max&&i.feedbackElement.hide(),h._autoScrollTimer=setInterval(function(){h.scrollDown()||clearInterval(h._autoScrollTimer)},100)):clearInterval(h._autoScrollTimer):(null==i._dragOverItem&&i.feedbackElement.hide(),clearInterval(h._autoScrollTimer))}})}})},_getBestMatchItem:function(t,i){for(var r={},s=e.find(".jqx-listbox"),o=0;o<s.length;o++){var a=e(s[o]);if(!e.jqx.isHidden(a)){var n=parseInt(a.offset().left),l=n+a.width(),d=a.jqxListBox("getInstance");if(clearInterval(d._autoScrollTimer),void 0!=d._enableHover&&(d.enableHover=d._enableHover,e.jqx.mobile.setTouchScroll(!0,t.element.id)),null!=t._dragItem){var h=i.left>=n&&i.left<=l,c=i.left-t._dragItem.width/2>=n&&i.left-t._dragItem.width/2<=l,f=i.left-t._dragItem.width/2>=n&&i.left-t._dragItem.width/2<=l;if(h||c||f){var g=parseInt(a.offset().top),p=g+a.height();if(i.top>=g&&i.top<=p){var u=i.left+t._dragItem.width/2-(n+l)/2;(isNaN(r.distance)||r.distance>u)&&(r={distance:u,item:a})}}}}}return r},_handleDragEnd:function(t,i){var r=this;e.find(".jqx-listbox");t.off("dragEnd"),t.on("dragEnd",function(t){clearInterval(i._autoScrollTimer);var s=e.jqx.mobile.isTouchDevice()?i._lastDraggingPosition:i._getMouseCoordinates(t);e.find(".jqx-listbox");if(i.feedbackElement.remove(),!i._dragCancel){var o=r._getBestMatchItem(i,s).item,a=i._dragItem,n=null;if(null!=o&&o.length>0){var l=e.data(o[0],"jqxListBox").instance,d=l.allowDrop;if(n=l.element,d&&!l.disabled){var h=(l=e.data(o[0],"jqxListBox").instance)._hitTestBounds(l,s.left,s.top);if(null==(h=i._dragOverItem)||h.isGroup){if("none"!=l.dropAction){if(l.content.find(".draggable").length>0&&l.content.find(".draggable").jqxDragDrop("destroy"),i.dragEnd){if(0==(c=i.dragEnd(i._dragItem,null,t.args)))return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;void 0==c&&(c=!0)}l.addItem(i._dragItem),"default"==l.dropAction&&(a.visibleIndex>0&&i.selectIndex(a.visibleIndex-1),i.removeItem(a,!0)),l.clearSelection(),l.selectIndex(l.items.length-1)}}else{var c=!0;if(i.dragEnd){if(0==(c=i.dragEnd(a,h,t.args)))return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;void 0==c&&(c=!0)}if(c){h.visibleIndex;if("none"!=l.dropAction){if(h.element)f=e(h.element).offset().top+1;else var f=e(l.element).offset().top+1;l.content.find(".draggable").length>0&&l.content.find(".draggable").jqxDragDrop("destroy"),s.top>f+h.height/2?l.insertAt(i._dragItem,h.index+1):l.insertAt(i._dragItem,h.index),"default"==i.dropAction&&(a.visibleIndex>0&&(i.clearSelection(),i.selectIndex(a.visibleIndex-1)),i.removeItem(a,!0));var g=function(){for(var e=h.visibleIndex,t=e-2;t<=e+2;t++)if(l.items&&l.items.length>t){var i=l.items[t];if(null!=i&&i.value==a.value)return i.visibleIndex}return e}();l.clearSelection(),l.selectIndex(g)}}}}}else if(i.dragEnd&&0==i.dragEnd(a,t.args))return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;return null!=a&&i._raiseEvent(5,{label:a.label,value:a.value,index:a.index,dropTargetElement:n,originalEvent:t.args}),!1}t.stopPropagation()})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.content.find(".draggable");if(t.length>0){var i=this;t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var r=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(r);var s=r.width();r.remove(),t.width(s+5),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}}})},jqxTreeDragDrop=function(){e.extend(e.jqx._jqxTree.prototype,{_hitTestBounds:function(t,i,r){var s=null;if(t._visibleItems){var o=parseInt(t.host.offset().left),a=t.host.outerWidth();e.each(t._visibleItems,function(n){if(i>=o&&i<o+a&&this.top+5<r&&r<this.top+this.height){var l=e(this.element).parents("li:first");if(l.length>0&&null!=(s=t.getItem(l[0])))return s.height=this.height,s.top=this.top,!1}})}return s},_handleDragStart:function(t,i){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.jqx.mobile.isTouchDevice()&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,"panel"+i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i._dragCancel=!1;t.args.position;var r=e.find(".jqx-tree");return i._trees=r,e.each(r,function(){var r=e.data(this,"jqxTree").instance,s=r.host.find(".draggable");if(r._syncItems(s),r.allowDrag&&!r.disabled){var o=e(t.target).parents("li:first");if(o.length>0){var a=r.getItem(o[0]);if(a){if(i._dragItem=a,r.dragStart&&0==r.dragStart(a))return i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:r}),!1;r._raiseEvent(8,{label:a.label,value:a.value,originalEvent:t.args})}}}}),!1})},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}},_handleDragging:function(t,i){(t=this.host.find(".draggable")).off("dragging"),t.on("dragging",function(t){t.args.position;var r=i._trees;if(!i._dragCancel){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var s=!0,o=i._getMouseCoordinates(t);i._lastDraggingPosition=o,e.each(r,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),r=t.top+20,a=e(this).height()+r-40,n=(g=t.left)+e(this).width(),l=e.data(this,"jqxTree").instance;if(!l.disabled&&l.allowDrop){var d=l.vScrollInstance,h=l._hitTestBounds(l,o.left,o.top);if(null!=h&&(i._dragOverItem&&i._dragOverItem.titleElement.removeClass(l.toThemeProperty("jqx-fill-state-hover")),i._dragOverItem=h,h.element)){i.feedbackElement.show();var c=h.top,f=o.top;i._dropPosition="before",f>c+h.height/3&&(c=h.top+h.height/2,i._dragOverItem.titleElement.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.hide(),i._dropPosition="inside"),f>h.top+h.height-h.height/3&&(c=h.top+h.height,i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.show(),i._dropPosition="after"),i.feedbackElement.css("top",c);var g=-2+parseInt(h.titleElement.offset().left);i.feedbackElement.css("left",g),i.feedbackElement.width(e(h.titleElement).width()+12)}o.left>=g&&o.left<n?(o.top+20>=r&&o.top<=r+l.host.height()&&(s=!1),o.top<r&&o.top>=r-30?(clearInterval(l._autoScrollTimer),0!=d.value&&i.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var e=l.panelInstance.scrollUp(),t=l.host.find(".draggable");l._syncItems(t),e||clearInterval(l._autoScrollTimer)},100)):o.top>a&&o.top<a+30?(clearInterval(l._autoScrollTimer),d.value!=d.max&&i.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var e=l.panelInstance.scrollDown(),t=l.host.find(".draggable");l._syncItems(t),e||clearInterval(l._autoScrollTimer)},100)):clearInterval(l._autoScrollTimer)):clearInterval(l._autoScrollTimer)}}),s&&i.feedbackElement&&i.feedbackElement.hide()}})},_handleDragEnd:function(t,i){t.off("dragEnd"),t.on("dragEnd",function(t){i.host.find(".draggable");clearInterval(i._autoScrollTimer);t.args.position;var r=i._trees,s=null,o=e.jqx.mobile.isTouchDevice()?i._lastDraggingPosition:i._getMouseCoordinates(t);if(i.feedbackElement.remove(),i._dragCancel)return!1;i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.each(r,function(){if(e.jqx.isHidden(e(this)))return!0;var t=parseInt(e(this).offset().left),r=t+e(this).width(),a=e.data(this,"jqxTree").instance;if(clearInterval(a._autoScrollTimer),null!=i._dragItem&&o.left>=t&&o.left<r){var n=parseInt(e(this).offset().top),l=n+e(this).height();o.top>=n&&o.top<=l&&(s=e(this))}});var a=i._dragItem;if(null!=s&&s.length>0){if(s.jqxTree("allowDrop")){var n=e.data(s[0],"jqxTree").instance,l=i._dragOverItem;if(null!=l&&i._dragOverItem.treeInstance.element.id==n.element.id){c=!0;if(i.dragEnd&&(0==(c=i.dragEnd(a,l,t.args,i._dropPosition,s))&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),void 0==c&&(c=!0)),c){var d=function(){var e=i._dragItem.treeInstance;e._refreshMapping(),e._updateItemsNavigation(),e._render(!0,!1),e.checkboxes&&e._updateCheckStates(),i._dragItem.treeInstance=n,i._syncItems(i._dragItem.treeInstance.host.find(".draggable"))};if("none"!=n.dropAction&&i._dragItem.id!=i._dragOverItem.id)if("inside"==i._dropPosition)n._drop(i._dragItem.element,i._dragOverItem.element,-1,n),d();else{var h=0;"after"==i._dropPosition&&h++,n._drop(i._dragItem.element,i._dragOverItem.parentElement,h+e(i._dragOverItem.element).index(),n),d()}n._render(!0,!1);g=n.host.find(".draggable");i._syncItems(g),i._dragOverItem=null,i._dragItem=null,n._refreshMapping(),n._updateItemsNavigation(),n.selectedItem=null,n.selectItem(a.element),n.checkboxes&&n._updateCheckStates(),n._render(!0,!1)}}else if("none"!=n.dropAction&&n.allowDrop){var c=!0;if(i.dragEnd&&(0==(c=i.dragEnd(a,l,t.args,i._dropPosition,s))&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),void 0==c&&(c=!0)),c){i._dragItem.parentElement=null,n._drop(i._dragItem.element,null,-1,n);var f=i._dragItem.treeInstance;f._refreshMapping(),f._updateItemsNavigation(),f.checkboxes&&f._updateCheckStates();g=f.host.find(".draggable");i._syncItems(g),i._dragItem.treeInstance=n,n.items[n.items.length]=i._dragItem,n._render(!0,!1),n._refreshMapping(),n.selectItem(a.element),n._updateItemsNavigation();var g=n.host.find(".draggable");n._syncItems(g),n.checkboxes&&n._updateCheckStates(),i._dragOverItem=null,i._dragItem=null}}}}else if(i.dragEnd&&0==i.dragEnd(a,t.args))return!1;return null!=a&&i._raiseEvent(7,{label:a.label,value:a.value,originalEvent:t.args}),!1})},_drop:function(t,i,r,s){if(!(e(i).parents("#"+t.id).length>0||null!=i&&i.id==t.id)){if(s.element.innerHTML.indexOf("UL"))var o=s.host.find("ul:first");if(void 0==i&&null==i)void 0==r||-1==r?o.append(t):0==o.children("li").eq(r).length?o.children("li").eq(r-1).after(t):o.children("li").eq(r)[0].id!=t.id&&o.children("li").eq(r).before(t);else if(void 0==r||-1==r)0==(a=(i=e(i)).find("ul:first")).length?(ulElement=e("<ul></ul>"),e(i).append(ulElement),a=i.find("ul:first"),(n=s.itemMapping["id"+i[0].id].item).subtreeElement=a[0],n.hasItems=!0,a.addClass(s.toThemeProperty("jqx-tree-dropdown")),a.append(t),t=a.find("li:first"),n.parentElement=t):a.append(t);else{var a=(i=e(i)).find("ul:first");if(0==a.length){if(ulElement=e("<ul></ul>"),e(i).append(ulElement),a=i.find("ul:first"),i){var n=s.itemMapping["id"+i[0].id].item;n.subtreeElement=a[0],n.hasItems=!0}a.addClass(s.toThemeProperty("jqx-tree-dropdown")),a.append(t),t=a.find("li:first"),n.parentElement=t}else 0==a.children("li").eq(r).length?a.children("li").eq(r-1).after(t):a.children("li").eq(r)[0].id!=t.id&&a.children("li").eq(r).before(t)}}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.host.find(".draggable"),i=this;t.length>0&&(t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var r=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(r);var s=r.width();r.remove(),t.width(s+5),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}}),!0===t.jqxDragDrop("isDestroyed")&&t.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i))}}})}}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxDraw","",{}),t.extend(t.jqx._jqxDraw.prototype,{defineInstance:function(){var e={renderEngine:""};t.extend(!0,this,e);var r=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var i in r)this._addFn(t.jqx._jqxDraw.prototype,r[i]);return t.jqx._jqxDraw.prototype,e},_addFn:function(t,e){t[e]||(t[e]=function(){return this.renderer[e].apply(this.renderer,arguments)})},createInstance:function(t){},_initRenderer:function(e){return t.jqx.createRenderer(this,e)},_internalRefresh:function(){var e=this;if(!t.jqx.isHidden(e.host)){e.renderer||(e.host.empty(),e._initRenderer(e.host));var r=e.renderer;if(r){var i=r.getRect();e._render({x:1,y:1,width:i.width,height:i.height}),r instanceof t.jqx.HTML5Renderer&&r.refresh()}}},_saveAsImage:function(e,r,i,n){return t.jqx._widgetToImage(this,e,r,i,n)},_render:function(t){var e=this;e.renderer;e._plotRect=t},refresh:function(){this._internalRefresh()},getSize:function(){var t=this._plotRect;return{width:t.width,height:t.height}},saveAsPNG:function(t,e,r){return this._saveAsImage("png",t,e,r)},saveAsJPEG:function(t,e,r){return this._saveAsImage("jpeg",t,e,r)}})}(jqxBaseFramework),function(t){t.jqx.toGreyScale=function(e){if(-1==e.indexOf("#"))return e;var r=t.jqx.cssToRgb(e);r[0]=r[1]=r[2]=Math.round(.3*r[0]+.59*r[1]+.11*r[2]);var i=t.jqx.rgbToHex(r[0],r[1],r[2]);return"#"+i[0]+i[1]+i[2]},t.jqx.adjustColor=function(e,r){if("string"!=typeof e)return"#000000";if(-1==e.indexOf("#"))return e;var i=t.jqx.cssToRgb(e),n=t.jqx.rgbToHsl(i);n[2]=Math.min(1,n[2]*r),n[1]=Math.min(1,n[1]*r*1.1),i=t.jqx.hslToRgb(n);for(var e="#",a=0;a<3;a++){var s=Math.round(i[a]);1==(s=t.jqx.decToHex(s)).toString().length&&(e+="0"),e+=s}return e.toUpperCase()},t.jqx.decToHex=function(t){return t.toString(16)},t.jqx.hexToDec=function(t){return parseInt(t,16)},t.jqx.rgbToHex=function(e,r,i){return[t.jqx.decToHex(e),t.jqx.decToHex(r),t.jqx.decToHex(i)]},t.jqx.hexToRgb=function(e,r,i){return[t.jqx.hexToDec(e),t.jqx.hexToDec(r),t.jqx.hexToDec(i)]},t.jqx.cssToRgb=function(e){return e.indexOf("rgb")<=-1?t.jqx.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")},t.jqx.hslToRgb=function(e){var i=parseFloat(e[0]),n=parseFloat(e[1]),a=parseFloat(e[2]);if(0==n)r=g=b=a;else{var s=a<.5?a*(1+n):a+n-a*n,o=2*a-s;r=t.jqx.hueToRgb(o,s,i+1/3),g=t.jqx.hueToRgb(o,s,i),b=t.jqx.hueToRgb(o,s,i-1/3)}return[255*r,255*g,255*b]},t.jqx.hueToRgb=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},t.jqx.rgbToHsl=function(t){var e,r,i=parseFloat(t[0])/255,n=parseFloat(t[1])/255,a=parseFloat(t[2])/255,s=Math.max(i,n,a),o=Math.min(i,n,a),h=(s+o)/2;if(s==o)e=r=0;else{var l=s-o;switch(r=h>.5?l/(2-s-o):l/(s+o),s){case i:e=(n-a)/l+(n<a?6:0);break;case n:e=(a-i)/l+2;break;case a:e=(i-n)/l+4}e/=6}return[e,r,h]},t.jqx.swap=function(t,e){var r=t;t=e,e=r},t.jqx.getNum=function(e){if(t.isArray(e)){for(var r=0;r<e.length;r++)if(!isNaN(e[r]))return e[r]}else if(isNaN(e))return 0;return 0},t.jqx._ptdist=function(t,e,r,i){return Math.sqrt((r-t)*(r-t)+(i-e)*(i-e))},t.jqx._ptrnd=function(e){if(!document.createElementNS)return Math.round(e)==e?e:t.jqx._rnd(e,1,!1,!0);var r=t.jqx._rnd(e,.5,!1,!0);return.5!=Math.abs(r-Math.round(r))?r>e?r-.5:r+.5:r},t.jqx._ptRotate=function(t,e,r,i,n){var a=Math.sqrt(Math.pow(Math.abs(t-r),2)+Math.pow(Math.abs(e-i),2)),s=Math.asin((t-r)/a)+n;return t=r+Math.cos(s)*a,e=i+Math.sin(s)*a,{x:t,y:e}},t.jqx._rup=function(t){var e=Math.round(t);return t>e&&e++,e},t.jqx.log=function(t,e){return Math.log(t)/(e?Math.log(e):1)},t.jqx._mod=function(t,e){var r=Math.abs(t>e?e:t),i=1;if(0!=r)for(;r*i<100;)i*=10;return t*=i,e*=i,t%e/i},t.jqx._rnd=function(e,r,i,n){if(isNaN(e))return e;void 0===n&&(n=!0);var a=e-(1==n?e%r:t.jqx._mod(e,r));return e==a?a:(i?e>a&&(a+=r):a>e&&(a-=r),1==r?Math.round(a):a)},t.jqx.commonRenderer={pieSlicePath:function(t,e,r,i,n,a,s){i||(i=1);var o=Math.abs(n-a),h=o>180?1:0;o>=360&&(a=n+359.99);var l=n*Math.PI*2/360,d=a*Math.PI*2/360,c=t,u=t,p=e,f=e,x=!isNaN(r)&&r>0;if(x&&(s=0),s+r>0){if(s>0){var v=(o/2+n)*Math.PI*2/360;t+=s*Math.cos(v),e-=s*Math.sin(v)}if(x){var g=r;c=t+g*Math.cos(l),p=e-g*Math.sin(l),u=t+g*Math.cos(d),f=e-g*Math.sin(d)}}var m=t+i*Math.cos(l),_=t+i*Math.cos(d),y=e-i*Math.sin(l),j=e-i*Math.sin(d),q="",w=Math.abs(Math.abs(a-n)-360)>.02;return x?(q="M "+u+","+f,q+=" a"+r+","+r,q+=" 0 "+h+",1 "+(c-u)+","+(p-f),q+=w?" L"+m+","+y:" M"+m+","+y,q+=" a"+i+","+i,q+=" 0 "+h+",0 "+(_-m)+","+(j-y),w&&(q+=" Z")):(q="M "+_+","+j,q+=" a"+i+","+i,q+=" 0 "+h+",1 "+(m-_)+","+(y-j),w&&(q+=" L"+t+","+e,q+=" Z")),q},measureText:function(e,r,i,n,a){var s=a._getTextParts(e,r,i),o=s.width,h=s.height;0==n&&(h/=.6);var l={};if(isNaN(r)&&(r=0),0==r)l={width:t.jqx._rup(o),height:t.jqx._rup(h)};else{var d=r*Math.PI*2/360,c=Math.abs(Math.sin(d)),u=Math.abs(Math.cos(d)),p=Math.abs(o*c+h*u),f=Math.abs(o*u+h*c);l={width:t.jqx._rup(f),height:t.jqx._rup(p)}}return n&&(l.textPartsInfo=s),l},alignTextInRect:function(e,r,i,n,a,s,o,h,l,d){var c=l*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),f=a*u,x=a*p;"center"==o||""==o||"undefined"==o?e+=i/2:"right"==o&&(e+=i),"center"==h||"middle"==h||""==h||"undefined"==h?r+=n/2:"bottom"==h?r+=n-s/2:"top"==h&&(r+=s/2);var v="middle";-1!=(d=d||"").indexOf("top")?v="top":-1!=d.indexOf("bottom")&&(v="bottom");var g="center";return-1!=d.indexOf("left")?g="left":-1!=d.indexOf("right")&&(g="right"),"center"==g?(e-=x/2,r-=f/2):"right"==g&&(e-=x,r-=f),"top"==v?(e-=s*u,r+=s*p):"middle"==v&&(e-=s*u/2,r+=s*p/2),e=t.jqx._rup(e),r=t.jqx._rup(r),{x:e,y:r}}},t.jqx.svgRenderer=function(){},t.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(t){t.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=t;var e=t.find(".chartContainer");e[0].style.width=t.width()+"px",e[0].style.height=t.height()+"px";try{var r=document.createElementNS(this._svgns,"svg");r.setAttribute("id","svgChart"),r.setAttribute("version","1.1"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("overflow","hidden"),e[0].appendChild(r),this.canvas=r}catch(t){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var e=this.canvas.getBoundingClientRect(),r=parseFloat(e.left)==parseInt(e.left),i=parseFloat(e.top)==parseInt(e.top);if(t.jqx.browser.msie){for(var r=!0,i=!0,n=this.host,a=0,s=0;n&&n.position&&n[0].parentNode;){var o=n.position();a+=parseFloat(o.left)-parseInt(o.left),s+=parseFloat(o.top)-parseInt(o.top),n=n.parent()}r=parseFloat(a)==parseInt(a),i=parseFloat(s)==parseInt(s)}r||(this.host.find(".tdLeft")[0].style.width="0.5px"),i||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var e=this.host.find(".chartContainer");this._width=Math.max(t.jqx._rup(this.host.width())-1,0),this._height=Math.max(t.jqx._rup(this.host.height())-1,0),e[0].style.width=this._width,e[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(t){if(void 0!=t){this.removeHandler(t);try{for(;t.firstChild;)this.removeElement(t.firstChild);t.parentNode?t.parentNode.removeChild(t):this.canvas.removeChild(t)}catch(t){}}},_openGroups:[],beginGroup:function(){var t=this._activeParent(),e=document.createElementNS(this._svgns,"g");return t.appendChild(e),this._openGroups.push(e),e},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(t){var e=document.createElementNS(this._svgns,"clipPath"),r=document.createElementNS(this._svgns,"rect");return this.attr(r,{x:t.x,y:t.y,width:t.width,height:t.height,fill:"none"}),this._clipId=this._clipId||0,e.id="cl"+this._id+"_"+(++this._clipId).toString(),e.appendChild(r),this._defs.appendChild(e),e},getWindowHref:function(){var e=t.jqx.browser;if(e&&"msie"==e.browser&&e.version<10)return"";var r=window.location.href;return r?(r=r.replace(/([\('\)])/g,"\\$1"),r=r.replace(/#.*$/,"")):r},setClip:function(t,e){var r="url("+this.getWindowHref()+"#"+e.id+")";return this.attr(t,{"clip-path":r})},_clipId:0,addHandler:function(e,r,i){t(e).on?t(e).on(r,i):t(e).bind(r,i)},removeHandler:function(e,r,i){t(e).off?t(e).off(r,i):t(e).unbind(r,i)},on:function(t,e,r){this.addHandler(t,e,r)},off:function(t,e,r){this.removeHandler(t,e,r)},shape:function(t,e){var r=document.createElementNS(this._svgns,t);if(r){for(var i in e)r.setAttribute(i,e[i]);return this._activeParent().appendChild(r),r}},_getTextParts:function(e,r,i){var n={width:0,height:0,parts:[]};if(void 0===e)return n;var a=e.toString().split("<br>"),s=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,i);for(var h=0;h<a.length;h++){var l=a[h],d=o.ownerDocument.createTextNode(l);o.appendChild(d),s.appendChild(o);var c;try{c=o.getBBox()}catch(t){}var u=t.jqx._rup(c.width),p=t.jqx._rup(.6*c.height);o.removeChild(d),n.width=Math.max(n.width,u),n.height+=p+(h>0?4:0),n.parts.push({width:u,height:p,text:l})}return s.removeChild(o),n},_measureText:function(e,r,i,n){return t.jqx.commonRenderer.measureText(e,r,i,n,this)},measureText:function(t,e,r){return this._measureText(t,e,r,!1)},text:function(e,r,i,n,a,s,o,h,l,d,c){var u,p=this._measureText(e,s,o,!0).textPartsInfo,f=p.parts;if(l||(l="center"),d||(d="center"),(f.length>1||h)&&(u=this.beginGroup()),h){var x=this.createClipRect({x:t.jqx._rup(r)-1,y:t.jqx._rup(i)-1,width:t.jqx._rup(n)+2,height:t.jqx._rup(a)+2});this.setClip(u,x)}var v=this._activeParent(),g=0,m=0;g=p.width,m=p.height,(isNaN(n)||n<=0)&&(n=g),(isNaN(a)||a<=0)&&(a=m);var _=n||0,y=a||0;if(!s||0==s){i+=m,"center"==d||"middle"==d?i+=(y-m)/2:"bottom"==d&&(i+=y-m),n||(n=g),a||(a=m);for(var v=this._activeParent(),j=0,q=f.length-1;q>=0;q--){var w=document.createElementNS(this._svgns,"text");this.attr(w,o),this.attr(w,{cursor:"default"});S=w.ownerDocument.createTextNode(f[q].text);w.appendChild(S);var M=r,b=f[q].width,C=f[q].height;"center"==l?M+=(_-b)/2:"right"==l&&(M+=_-b),this.attr(w,{x:t.jqx._rup(M),y:t.jqx._rup(i+j),width:t.jqx._rup(b),height:t.jqx._rup(C)}),v.appendChild(w),j-=f[q].height+4}return u?(this.endGroup(),u):w}var N=t.jqx.commonRenderer.alignTextInRect(r,i,n,a,g,m,l,d,s,c);r=N.x,i=N.y;var T=this.shape("g",{transform:"translate("+r+","+i+")"}),P=this.shape("g",{transform:"rotate("+s+")"});T.appendChild(P);for(var j=0,q=f.length-1;q>=0;q--){var E=document.createElementNS(this._svgns,"text");this.attr(E,o),this.attr(E,{cursor:"default"});var S=E.ownerDocument.createTextNode(f[q].text);E.appendChild(S);var M=0,b=f[q].width,C=f[q].height;"center"==l?M+=(p.width-b)/2:"right"==l&&(M+=p.width-b),this.attr(E,{x:t.jqx._rup(M),y:t.jqx._rup(j),width:t.jqx._rup(b),height:t.jqx._rup(C)}),P.appendChild(E),j-=C+4}return v.appendChild(T),u&&this.endGroup(),T},line:function(t,e,r,i,n){var a=this.shape("line",{x1:t,y1:e,x2:r,y2:i});return this.attr(a,n),a},path:function(t,e){var r=this.shape("path");return r.setAttribute("d",t),e&&this.attr(r,e),r},rect:function(e,r,i,n,a){e=t.jqx._ptrnd(e),r=t.jqx._ptrnd(r),i=Math.max(1,t.jqx._rnd(i,1,!1)),n=Math.max(1,t.jqx._rnd(n,1,!1));var s=this.shape("rect",{x:e,y:r,width:i,height:n});return a&&this.attr(s,a),s},circle:function(t,e,r,i){var n=this.shape("circle",{cx:t,cy:e,r:r});return i&&this.attr(n,i),n},pieSlicePath:function(e,r,i,n,a,s,o){return t.jqx.commonRenderer.pieSlicePath(e,r,i,n,a,s,o)},pieslice:function(t,e,r,i,n,a,s,o){var h=this.pieSlicePath(t,e,r,i,n,a,s),l=this.shape("path");return l.setAttribute("d",h),o&&this.attr(l,o),l},attr:function(t,e){if(t&&e)for(var r in e)"textContent"==r?t.textContent=e[r]:t.setAttribute(r,e[r])},removeAttr:function(t,e){if(t&&e)for(var r in e)"textContent"==r?t.textContent="":t.removeAttribute(e[r])},getAttr:function(t,e){return t.getAttribute(e)},_gradients:{},_toLinearGradient:function(e,r,i){var n="grd"+this._id+e.replace("#","")+(r?"v":"h"),a="url("+this.getWindowHref()+"#"+n+")";if(this._gradients[a])return a;var s=document.createElementNS(this._svgns,"linearGradient");this.attr(s,{x1:"0%",y1:"0%",x2:r?"0%":"100%",y2:r?"100%":"0%",id:n});for(var o=0;o<i.length;o++){var h=i[o],l=document.createElementNS(this._svgns,"stop"),d="stop-color:"+t.jqx.adjustColor(e,h[1]);this.attr(l,{offset:h[0]+"%",style:d}),s.appendChild(l)}return this._defs.appendChild(s),this._gradients[a]=!0,a},_toRadialGradient:function(e,r,i){var n="grd"+this._id+e.replace("#","")+"r"+(void 0!=i?i.key:""),a="url("+this.getWindowHref()+"#"+n+")";if(this._gradients[a])return a;var s=document.createElementNS(this._svgns,"radialGradient");void 0==i?this.attr(s,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:n}):this.attr(s,{cx:i.x,cy:i.y,r:i.outerRadius,id:n,gradientUnits:"userSpaceOnUse"});for(var o=0;o<r.length;o++){var h=r[o],l=document.createElementNS(this._svgns,"stop"),d="stop-color:"+t.jqx.adjustColor(e,h[1]);this.attr(l,{offset:h[0]+"%",style:d}),s.appendChild(l)}return this._defs.appendChild(s),this._gradients[a]=!0,a}},t.jqx.vmlRenderer=function(){},t.jqx.vmlRenderer.prototype={init:function(e){e.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=e;var r=e.find(".chartContainer");r[0].style.width=e.width()+"px",r[0].style.height=e.height()+"px";var i=!0;try{for(var n=0;n<document.namespaces.length;n++)if("v"==document.namespaces[n].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[n].urn){i=!1;break}}catch(t){return!1}return t.jqx.browser.msie&&parseInt(t.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(i&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):i&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=r[0],this._width=Math.max(t.jqx._rup(r.width()),0),this._height=Math.max(t.jqx._rup(r.height()),0),r[0].style.width=this._width+2,r[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(t){null!=t&&(this.removeHandler(t),t.parentNode.removeChild(t))},_openGroups:[],beginGroup:function(){var t=this._activeParent(),e=document.createElement("v:group");return e.style.position="absolute",e.coordorigin="0,0",e.coordsize=this._width+","+this._height,e.style.left=0,e.style.top=0,e.style.width=this._width,e.style.height=this._height,t.appendChild(e),this._openGroups.push(e),e},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(t){var e=document.createElement("div");return e.style.height=t.height+1+"px",e.style.width=t.width+1+"px",e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.overflow="hidden",this._clipId=this._clipId||0,e.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(e),e},setClip:function(t,e){},_clipId:0,addHandler:function(e,r,i){t(e).on?t(e).on(r,i):t(e).bind(r,i)},removeHandler:function(e,r,i){t(e).off?t(e).off(r,i):t(e).unbind(r,i)},on:function(t,e,r){this.addHandler(t,e,r)},off:function(t,e,r){this.removeHandler(t,e,r)},_getTextParts:function(e,r,i){var n={width:0,height:0,parts:[]},a=e.toString().split("<br>"),s=this._activeParent(),o=document.createElement("v:textbox");this.attr(o,i),s.appendChild(o);for(var h=0;h<a.length;h++){var l=a[h],d=document.createElement("span");d.appendChild(document.createTextNode(l)),o.appendChild(d),i&&i.class&&(d.className=i.class);var c=t(o),u=t.jqx._rup(c.width()),p=t.jqx._rup(.6*c.height());if(0==p&&t.jqx.browser.msie&&parseInt(t.jqx.browser.version)<9){var f=c.css("font-size");f&&(p=parseInt(f),isNaN(p)&&(p=0))}o.removeChild(d),n.width=Math.max(n.width,u),n.height+=p+(h>0?2:0),n.parts.push({width:u,height:p,text:l})}return s.removeChild(o),n},_measureText:function(e,r,i,n){return r=Math.abs(r)>45?90:0,t.jqx.commonRenderer.measureText(e,r,i,n,this)},measureText:function(t,e,r){return this._measureText(t,e,r,!1)},text:function(e,r,i,n,a,s,o,h,l,d){var c;o&&o.stroke&&(c=o.stroke),void 0==c&&(c="black");var u=this._measureText(e,s,o,!0),p=u.textPartsInfo.parts,f=u.width,x=u.height;(isNaN(n)||0==n)&&(n=f),(isNaN(a)||0==a)&&(a=x);var v;if(l||(l="center"),d||(d="center"),(p.length>0||h)&&(v=this.beginGroup()),h){var g=this.createClipRect({x:t.jqx._rup(r),y:t.jqx._rup(i),width:t.jqx._rup(n),height:t.jqx._rup(a)});this.setClip(v,g)}var m=this._activeParent(),_=n||0,y=a||0;s=Math.abs(s)>45?90:0;var j=0,q=0;"center"==l?j+=(_-f)/2:"right"==l&&(j+=_-f),"center"==d?q=(y-x)/2:"bottom"==d&&(q=y-x),0==s?(i+=x+q,r+=j):(r+=f+j,i+=q);for(var w,M=0,b=p.length-1;b>=0;b--){var C=p[b],N=(f-C.width)/2;0==s&&"left"==l?N=0:0==s&&"right"==l?N=f-C.width:90==s&&(N=(x-C.width)/2);var T=M-C.height;q=90==s?N:T,j=90==s?T:N,(w=document.createElement("v:textbox")).style.position="absolute",w.style.left=t.jqx._rup(r+j),w.style.top=t.jqx._rup(i+q),w.style.width=t.jqx._rup(C.width),w.style.height=t.jqx._rup(C.height),90==s&&(w.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",w.style.height=t.jqx._rup(C.height)+5);var P=document.createElement("span");P.appendChild(document.createTextNode(C.text)),o&&o.class&&(P.className=o.class),w.appendChild(P),m.appendChild(w),M-=C.height+(b>0?2:0)}return v?(this.endGroup(),m):w},shape:function(t,e){var r=document.createElement(this._createElementMarkup(t));if(r){for(var i in e)r.setAttribute(i,e[i]);return this._activeParent().appendChild(r),r}},line:function(t,e,r,i,n){var a="M "+t+","+e+" L "+r+","+i+" X E",s=this.path(a);return this.attr(s,n),s},_createElementMarkup:function(t){var e="<v:"+t+' style=""></v:'+t+">";return this._ie8mode&&(e=e.replace('style=""','style="behavior: url(#default#VML);"')),e},path:function(t,e){var r=document.createElement(this._createElementMarkup("shape"));return r.style.position="absolute",r.coordsize=this._width+" "+this._height,r.coordorigin="0 0",r.style.width=parseInt(this._width),r.style.height=parseInt(this._height),r.style.left="0px",r.style.top="0px",r.setAttribute("path",t),this._activeParent().appendChild(r),e&&this.attr(r,e),r},rect:function(e,r,i,n,a){e=t.jqx._ptrnd(e),r=t.jqx._ptrnd(r),i=t.jqx._rup(i),n=t.jqx._rup(n);var s=this.shape("rect",a);return s.style.position="absolute",s.style.left=e,s.style.top=r,s.style.width=i,s.style.height=n,s.strokeweight=0,a&&this.attr(s,a),s},circle:function(e,r,i,n){var a=this.shape("oval");return e=t.jqx._ptrnd(e-i),r=t.jqx._ptrnd(r-i),i=t.jqx._rup(i),a.style.position="absolute",a.style.left=e,a.style.top=r,a.style.width=2*i,a.style.height=2*i,n&&this.attr(a,n),a},updateCircle:function(e,r,i,n){void 0==r&&(r=parseFloat(e.style.left)+parseFloat(e.style.width)/2),void 0==i&&(i=parseFloat(e.style.top)+parseFloat(e.style.height)/2),void 0==n&&(n=parseFloat(e.width)/2),r=t.jqx._ptrnd(r-n),i=t.jqx._ptrnd(i-n),n=t.jqx._rup(n),e.style.left=r,e.style.top=i,e.style.width=2*n,e.style.height=2*n},pieSlicePath:function(e,r,i,n,a,s,o){n||(n=1);var h=Math.abs(a-s);h>360&&(a=0,s=360);var l=a*Math.PI*2/360,d=s*Math.PI*2/360,c=e,u=r,p=!isNaN(i)&&i>0;if(p&&(o=0),o>0){var f=(h/2+a)*Math.PI*2/360;e+=o*Math.cos(f),r-=o*Math.sin(f)}if(p){var x=i;c=t.jqx._ptrnd(e+x*Math.cos(l)),u=t.jqx._ptrnd(r-x*Math.sin(l)),t.jqx._ptrnd(e+x*Math.cos(d)),t.jqx._ptrnd(r-x*Math.sin(d))}t.jqx._ptrnd(e+n*Math.cos(l));var v=t.jqx._ptrnd(e+n*Math.cos(d)),g=(t.jqx._ptrnd(r-n*Math.sin(l)),t.jqx._ptrnd(r-n*Math.sin(d)));n=t.jqx._ptrnd(n),i=t.jqx._ptrnd(i),e=t.jqx._ptrnd(e),r=t.jqx._ptrnd(r);var m=Math.round(65535*a),_=Math.round(65536*(s-a));i<0&&(i=1);var y="";return p?(y="M"+c+" "+u,y+=" AE "+e+" "+r+" "+i+" "+i+" "+m+" "+_,y+=" L "+v+" "+g,m=Math.round(65535*(a-s)),y+=" AE "+e+" "+r+" "+n+" "+n+" "+(_=Math.round(65536*s))+" "+m,y+=" L "+c+" "+u):(y="M"+e+" "+r,y+=" AE "+e+" "+r+" "+n+" "+n+" "+m+" "+_),y+=" X E"},pieslice:function(t,e,r,i,n,a,s,o){var h=this.pieSlicePath(t,e,r,i,n,a,s),l=this.path(h,o);return o&&this.attr(l,o),l},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(t){for(var e in this._keymap)if(this._keymap[e].svg==t)return this._keymap[e].vml;return t},attr:function(t,e){if(t&&e)for(var r in e){var i=this._translateParam(r);void 0!=e[r]&&("fillcolor"==i&&-1!=e[r].indexOf("grd")?t.type=e[r]:"fillcolor"==i&&"transparent"==e[r]?(t.style.filter="alpha(opacity=0)",t["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==i||"fillopacity"==i?t.fill&&(t.fill.opacity=e[r]):"textContent"==i?t.children[0].innerText=e[r]:"dashstyle"==i?t.dashstyle=e[r].replace(","," "):-1==i.indexOf("style.")?t[i]=e[r]:t.style[i.replace("style.","")]=e[r])}},removeAttr:function(t,e){if(t&&e)for(var r in e)t.removeAttribute(e[r])},getAttr:function(t,e){var r=this._translateParam(e);return"opacity"==r||"fillopacity"==r?t.fill?t.fill.opacity:1:-1==r.indexOf("style.")?t[r]:t.style[r.replace("style.","")]},_gradients:{},_toRadialGradient:function(t,e,r){return t},_toLinearGradient:function(e,r,i){if(this._ie8mode)return e;var n="grd"+e.replace("#","")+(r?"v":"h"),a="#"+n;if(this._gradients[a])return a;var s=document.createElement(this._createElementMarkup("fill"));s.type="gradient",s.method="linear",s.angle=r?0:90;for(var o="",h=0;h<i.length;h++){var l=i[h];l>0&&(o+=", "),o+=l[0]+"% "+t.jqx.adjustColor(e,l[1])}s.colors=o;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(s),d.id=n,this.canvas.appendChild(d),a}},t.jqx.HTML5Renderer=function(){},t.jqx.ptrnd=function(t){if(.5==Math.abs(Math.round(t)-t))return t;var e=Math.round(t);return e<t&&(e-=1),e+.5},t.jqx.HTML5Renderer.prototype={init:function(t){try{this.host=t,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=t.find("#__jqxCanvasWrap"),this.canvas[0].width=t.width(),this.canvas[0].height=t.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(t){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(t){},addHandler:function(t,e,r){},removeHandler:function(t,e,r){},on:function(t,e,r){this.addHandler(t,e,r)},off:function(t,e,r){this.removeHandler(t,e,r)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(t){void 0!=t&&this._elements[t.id]&&delete this._elements[t.id]},shape:function(t,e){var r={type:t,id:this._maxId++};for(var i in e)r[i]=e[i];return this._elements[r.id]=r,r},attr:function(t,e){for(var r in e)t[r]=e[r]},removeAttr:function(t,e){for(var r in e)delete t[e[r]]},rect:function(t,e,r,i,n){if(isNaN(t))throw'Invalid value for "x"';if(isNaN(e))throw'Invalid value for "y"';if(isNaN(r))throw'Invalid value for "width"';if(isNaN(i))throw'Invalid value for "height"';var a=this.shape("rect",{x:t,y:e,width:r,height:i});return n&&this.attr(a,n),a},path:function(t,e){var r=this.shape("path",e);return this.attr(r,{d:t}),r},line:function(t,e,r,i,n){return this.path("M "+t+","+e+" L "+r+","+i,n)},circle:function(t,e,r,i){var n=this.shape("circle",{x:t,y:e,r:r});return i&&this.attr(n,i),n},pieSlicePath:function(e,r,i,n,a,s,o){return t.jqx.commonRenderer.pieSlicePath(e,r,i,n,a,s,o)},pieslice:function(t,e,r,i,n,a,s,o){var h=this.path(this.pieSlicePath(t,e,r,i,n,a,s),o);return this.attr(h,{x:t,y:e,innerRadius:r,outerRadius:i,angleFrom:n,angleTo:a}),h},_getCSSStyle:function(t){var e=document.styleSheets;try{for(var r=0;r<e.length;r++)for(var i=0;e[r].cssRules&&i<e[r].cssRules.length;i++)if(-1!=e[r].cssRules[i].selectorText.indexOf(t))return e[r].cssRules[i].style}catch(t){}return{}},_getTextParts:function(e,r,i){var n="Arial",a="10pt",s="";if(i&&i.class){var o=this._getCSSStyle(i.class);o.fontSize&&(a=o.fontSize),o.fontFamily&&(n=o.fontFamily),o.fontWeight&&(s=o.fontWeight)}this.ctx.font=s+" "+a+" "+n;for(var h={width:0,height:0,parts:[]},l=e.toString().split("<br>"),d=0;d<l.length;d++){var c=l[d],u=this.ctx.measureText(c).width,p=document.createElement("span.jqxchart");p.font=this.ctx.font,p.textContent=c,document.body.appendChild(p);var f=.6*p.offsetHeight;document.body.removeChild(p),h.width=Math.max(h.width,t.jqx._rup(u)),h.height+=f+(d>0?4:0),h.parts.push({width:u,height:f,text:c})}return h},_measureText:function(e,r,i,n){return t.jqx.commonRenderer.measureText(e,r,i,n,this)},measureText:function(t,e,r){return this._measureText(t,e,r,!1)},text:function(t,e,r,i,n,a,s,o,h,l,d){var c=this.shape("text",{text:t,x:e,y:r,width:i,height:n,angle:a,clip:o,halign:h,valign:l,rotateAround:d});if(s&&this.attr(c,s),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",s&&s.class){var u=this._getCSSStyle(s.class);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(t,0,s,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(i<=0||isNaN(i))&&this.attr(c,{width:p.width}),(n<=0||isNaN(n))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(e,r,i){if(this._renderers._gradients[e])return e;for(var n=[],a=0;a<i.length;a++)n.push({percent:i[a][0]/100,color:t.jqx.adjustColor(e,i[a][1])});var s="gr"+this._gradientId++;return this.createGradient(s,r?"vertical":"horizontal",n),s},_toRadialGradient:function(e,r){if(this._renderers._gradients[e])return e;for(var i=[],n=0;n<r.length;n++)i.push({percent:r[n][0]/100,color:t.jqx.adjustColor(e,r[n][1])});var a="gr"+this._gradientId++;return this.createGradient(a,"radial",i),a},createGradient:function(t,e,r){this._renderers.createGradient(this,t,e,r)},_renderers:{createGradient:function(t,e,r,i){t._gradients[e]={orientation:r,colorStops:i}},setStroke:function(t,e){var r=t.ctx;r.strokeStyle=e.stroke||"transparent",r.lineWidth=e["stroke-width"]||1,void 0!=e["fill-opacity"]?r.globalAlpha=e["fill-opacity"]:void 0!=e.opacity?r.globalAlpha=e.opacity:r.globalAlpha=1,r.setLineDash&&(e["stroke-dasharray"]?r.setLineDash(e["stroke-dasharray"].split(",")):r.setLineDash([]))},setFillStyle:function(e,r){var i=e.ctx;if(i.fillStyle="transparent",void 0!=r["fill-opacity"]?i.globalAlpha=r["fill-opacity"]:void 0!=r.opacity?i.globalAlpha=r.opacity:i.globalAlpha=1,r.fill&&-1==r.fill.indexOf("#")&&e._gradients[r.fill]){var n,a="horizontal"!=e._gradients[r.fill].orientation,s="radial"==e._gradients[r.fill].orientation,o=t.jqx.ptrnd(r.x),h=t.jqx.ptrnd(r.y),l=t.jqx.ptrnd(r.x+(a?0:r.width)),d=t.jqx.ptrnd(r.y+(a?r.height:0));"circle"!=r.type&&"path"!=r.type&&"rect"!=r.type||!s||(x=t.jqx.ptrnd(r.x),y=t.jqx.ptrnd(r.y),r1=r.innerRadius||0,r2=r.outerRadius||r.r||0,"rect"==r.type&&(x+=r.width/2,y+=r.height/2),n=i.createRadialGradient(x,y,r1,x,y,r2)),s||((isNaN(o)||isNaN(l)||isNaN(h)||isNaN(d))&&(o=0,h=0,l=a?0:i.canvas.width,d=a?i.canvas.height:0),n=i.createLinearGradient(o,h,l,d));for(var c=e._gradients[r.fill].colorStops,u=0;u<c.length;u++)n.addColorStop(c[u].percent,c[u].color);i.fillStyle=n}else r.fill&&(i.fillStyle=r.fill)},rect:function(e,r){0!=r.width&&0!=r.height&&(e.fillRect(t.jqx.ptrnd(r.x),t.jqx.ptrnd(r.y),r.width,r.height),e.strokeRect(t.jqx.ptrnd(r.x),t.jqx.ptrnd(r.y),r.width,r.height))},circle:function(e,r){0!=r.r&&(e.beginPath(),e.arc(t.jqx.ptrnd(r.x),t.jqx.ptrnd(r.y),r.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())},_parsePoint:function(t){return{x:this._parseNumber(t),y:this._parseNumber(t)}},_parseNumber:function(t){for(var e=!1,r=this._pos;r<t.length;r++)if(t[r]>="0"&&t[r]<="9"||"."==t[r]||"e"==t[r]||"-"==t[r]&&!e||"-"==t[r]&&r>=1&&"e"==t[r-1])e=!0;else{if(e||" "!=t[r]&&","!=t[r])break;this._pos++}var i=parseFloat(t.substring(this._pos,r));if(!isNaN(i))return this._pos=r,i},_cmds:"mlcazq",_isRelativeCmd:function(e){return t.jqx.string.contains(this._cmds,e)},_parseCmd:function(e){for(var r=this._pos;r<e.length;r++){if(t.jqx.string.containsIgnoreCase(this._cmds,e[r]))return this._pos=r+1,this._lastCmd=e[r],this._lastCmd;if(" "!=e[r]){if(e[r]>="0"&&e[r]<="9"){if(this._pos=r,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(t){return{x:this._currentPoint.x+t.x,y:this._currentPoint.y+t.y}},path:function(t,e){var r=e.d;this._pos=0,this._lastCmd="";var i=void 0;this._currentPoint={x:0,y:0},t.beginPath();for(;this._pos<r.length;){var n=this._parseCmd(r);if(void 0==n)break;if("M"!=n&&"m"!=n)if("L"!=n&&"l"!=n)if("A"!=n&&"a"!=n)if("Z"!=n&&"z"!=n||void 0==i)if("C"!=n&&"c"!=n)if("Q"!=n&&"q"!=n);else{var a=this._parsePoint(r),s=this._parsePoint(r);t.quadraticCurveTo(a.x,a.y,s.x,s.y),this._currentPoint=s}else{var a=this._parsePoint(r),s=this._parsePoint(r),o=this._parsePoint(r);t.bezierCurveTo(a.x,a.y,s.x,s.y,o.x,o.y),this._currentPoint=o}else t.lineTo(i.x,i.y),this._currentPoint=i;else{var h=this._parseNumber(r),l=this._parseNumber(r),d=this._parseNumber(r)*(Math.PI/180),c=this._parseNumber(r),u=this._parseNumber(r),p=this._parsePoint(r);if(this._isRelativeCmd(n)&&(p=this._toAbsolutePoint(p)),0==h||0==l)continue;var f=this._currentPoint,x={x:Math.cos(d)*(f.x-p.x)/2+Math.sin(d)*(f.y-p.y)/2,y:-Math.sin(d)*(f.x-p.x)/2+Math.cos(d)*(f.y-p.y)/2},v=Math.pow(x.x,2)/Math.pow(h,2)+Math.pow(x.y,2)/Math.pow(l,2);v>1&&(h*=Math.sqrt(v),l*=Math.sqrt(v));var g=(c==u?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(l,2)-Math.pow(h,2)*Math.pow(x.y,2)-Math.pow(l,2)*Math.pow(x.x,2))/(Math.pow(h,2)*Math.pow(x.y,2)+Math.pow(l,2)*Math.pow(x.x,2)));isNaN(g)&&(g=0);var m={x:g*h*x.y/l,y:g*-l*x.x/h},_={x:(f.x+p.x)/2+Math.cos(d)*m.x-Math.sin(d)*m.y,y:(f.y+p.y)/2+Math.sin(d)*m.x+Math.cos(d)*m.y},y=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},j=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},q=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(j(t,e))},w=q([1,0],[(x.x-m.x)/h,(x.y-m.y)/l]),M=[(x.x-m.x)/h,(x.y-m.y)/l],b=[(-x.x-m.x)/h,(-x.y-m.y)/l],C=q(M,b);j(M,b)<=-1&&(C=Math.PI),j(M,b)>=1&&(C=0),0==u&&C>0&&(C-=2*Math.PI),1==u&&C<0&&(C+=2*Math.PI);var j=h>l?h:l,N=h>l?1:h/l,T=h>l?l/h:1;t.translate(_.x,_.y),t.rotate(d),t.scale(N,T),t.arc(0,0,j,w,w+C,1-u),t.scale(1/N,1/T),t.rotate(-d),t.translate(-_.x,-_.y)}else{var P=this._parsePoint(r);if(void 0==P)break;t.lineTo(P.x,P.y),this._currentPoint=P}else{if(void 0==(P=this._parsePoint(r)))break;t.moveTo(P.x,P.y),this._currentPoint=P,void 0==i&&(i=P)}}t.fill(),t.stroke(),t.closePath()},text:function(e,r){var i=t.jqx.ptrnd(r.x),n=t.jqx.ptrnd(r.y),a=t.jqx.ptrnd(r.width),s=t.jqx.ptrnd(r.height),o=r.halign,h=r.valign,l=r.angle,d=r.rotateAround,c=r.textPartsInfo,u=c.parts,p=r.clip;void 0==p&&(p=!0),e.save(),o||(o="center"),h||(h="center"),p&&(e.rect(i,n,a,s),e.clip());var f=r.textWidth,x=r.textHeight,v=a||0,g=s||0;if(e.fillStyle=r.color,e.font=r.fontWeight+" "+r.fontSize+" "+r.fontFamily,l&&0!=l){var m=t.jqx.commonRenderer.alignTextInRect(i,n,a,s,f,x,o,h,l,d);i=m.x,n=m.y;var _=l*Math.PI*2/360;e.translate(i,n),e.rotate(_);for(var y=0,j=c.width,q=u.length-1;q>=0;q--){M=0;"center"==o?M+=(j-u[q].width)/2:"right"==o&&(M+=j-u[q].width),e.fillText(u[q].text,M,y),y-=u[q].height+4}e.restore()}else{n+=x,"center"==h||"middle"==h?n+=(g-x)/2:"bottom"==h&&(n+=g-x),a||(a=f),s||(s=x);for(var y=0,q=u.length-1;q>=0;q--){var w=u[q],M=i,b=u[q].width;u[q].height;"center"==o?M+=(v-b)/2:"right"==o&&(M+=v-b),e.fillText(w.text,M,n+y),y-=w.height+(q>0?4:0)}e.restore()}}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var t in this._elements){var e=this._elements[t];this._renderers.setFillStyle(this,e),this._renderers.setStroke(this,e),this._renderers[this._elements[t].type](this.ctx,e)}}},t.jqx.createRenderer=function(e,r){var i=e,n=i.renderer=null;if(document.createElementNS&&"HTML5"!=i.renderEngine&&"VML"!=i.renderEngine&&!(n=new t.jqx.svgRenderer).init(r)){if("SVG"==i.renderEngine)throw"Your browser does not support SVG";return null}if(null==n&&"HTML5"!=i.renderEngine){if(!(n=new t.jqx.vmlRenderer).init(r)){if("VML"==i.renderEngine)throw"Your browser does not support VML";return null}i._isVML=!0}if(null==n&&("HTML5"==i.renderEngine||void 0==i.renderEngine)&&!(n=new t.jqx.HTML5Renderer).init(r))throw"Your browser does not support HTML5 Canvas";return i.renderer=n,n},t.jqx._widgetToImage=function(e,r,i,n,a,s){var o=e;if(!o)return!1;void 0!=i&&""!=i||(i="image."+r);var h=o.renderEngine,l=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=h)try{o.refresh()}catch(t){return o.renderEngine=h,o.refresh(),o.enableAnimations=l,!1}var d=o.renderer.getContainer().find("canvas")[0],c=!0;t.isFunction(s)&&(c=s(e,d));var u=!0;return c&&(u=t.jqx.exportImage(d,r,i,n,a)),o.renderEngine!=h&&(o.renderEngine=h,o.refresh(),o.enableAnimations=l),u},t.jqx.getByPriority=function(t){for(var e=void 0,r=0;r<t.length&&void 0==e;r++)void 0==e&&void 0!=t[r]&&(e=t[r]);return e},t.jqx.exportImage=function(e,r,i,n,a){if(!e)return!1;var s="pdf"===r.toLowerCase();if(s&&(r="jpeg"),void 0!=i&&""!=i||(i="image."+r),void 0==n||""==n)throw"Please specifiy export server";var o=!0;try{if(e){var h=e.toDataURL("image/"+r);if(s){t.jqx.pdfExport||(t.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});l=595;switch(t.jqx.pdfExport.paperSize){case"legal":l=612;"portrait"!==t.jqx.pdfExport.orientation&&(l=1008);break;case"letter":l=612;"portrait"!==t.jqx.pdfExport.orientation&&(l=792);break;case"a3":l=841;"portrait"!==t.jqx.pdfExport.orientation&&(l=1190);break;case"a4":l=595;"portrait"!==t.jqx.pdfExport.orientation&&(l=842);break;case"a5":var l=420;"portrait"!==t.jqx.pdfExport.orientation&&(l=595)}var d=72*t(e).width()/96;d>=l-20&&(d=l-20);var c=new pdfDataExport(t.jqx.pdfExport.orientation,"pt",t.jqx.pdfExport.paperSize);return c.addImage(h,"JPEG",10,10,d,0),void c.save(i)}if(h=h.replace("data:image/"+r+";base64,",""),a)t.ajax({dataType:"string",url:n,type:"POST",data:{content:h,fname:i},async:!1,success:function(t,e,r){o=!0},error:function(t,e,r){o=!1}});else{var u=document.createElement("form");u.method="POST",u.action=n,u.style.display="none",document.body.appendChild(u);var p=document.createElement("input");p.name="fname",p.value=i,p.style.display="none";var f=document.createElement("input");f.name="content",f.value=h,f.style.display="none",u.appendChild(p),u.appendChild(f),u.submit(),document.body.removeChild(u),o=!0}}}catch(t){o=!1}return o}}(jqxBaseFramework),function(t){jqxPlot=function(){},jqxPlot.prototype={get:function(t,e,r){return void 0!==r?t[e][r]:t[e]},min:function(t,e){for(var r=NaN,i=0;i<t.length;i++){var n=this.get(t,i,e);(isNaN(r)||n<r)&&(r=n)}return r},max:function(t,e){for(var r=NaN,i=0;i<t.length;i++){var n=this.get(t,i,e);(isNaN(r)||n>r)&&(r=n)}return r},sum:function(t,e){for(var r=0,i=0;i<t.length;i++){var n=this.get(t,i,e);isNaN(n)||(r+=n)}return r},count:function(t,e){for(var r=0,i=0;i<t.length;i++){var n=this.get(t,i,e);isNaN(n)||r++}return r},avg:function(t,e){return this.sum(t,e)/Math.max(1,count(t,e))},filter:function(t,e){if(!e)return t;for(var r=[],i=0;i<t.length;i++)e(t[i])&&r.push(t[i]);return r},scale:function(e,r,i,n){if(isNaN(e))return NaN;if((e<Math.min(r.min,r.max)||e>Math.max(r.min,r.max))&&(!n||!0!==n.ignore_range))return NaN;var a=NaN,s=1;if(void 0===r.type||"logarithmic"!=r.type){var o=Math.abs(r.max-r.min);o||(o=1),s=Math.abs(e-Math.min(r.min,r.max))/o}else if("logarithmic"===r.type){d=r.base;isNaN(d)&&(d=10);var h=Math.min(r.min,r.max);h<=0&&(h=1);var l=Math.max(r.min,r.max);l<=0&&(l=1);c=t.jqx.log(l,d);l=Math.pow(d,c);u=t.jqx.log(h,d);h=Math.pow(d,u);p=t.jqx.log(e,d);s=Math.abs(p-u)/(c-u)}if("logarithmic"===i.type){var d=i.base;isNaN(d)&&(d=10);var c=t.jqx.log(i.max,d),u=t.jqx.log(i.min,d);i.flip&&(s=1-s);var p=Math.min(u,c)+s*Math.abs(c-u);a=Math.pow(d,p)}else a=Math.min(i.min,i.max)+s*Math.abs(i.max-i.min),i.flip&&(a=Math.max(i.min,i.max)-a+i.min);return a},axis:function(e,r,i){if(i<=1)return[r,e];(isNaN(i)||i<2)&&(i=2);for(var n=0;Math.round(e)!=e&&Math.round(r)!=r&&n<10;)e*=10,r*=10,n++;for(var a=(r-e)/i;n<10&&Math.round(a)!=a;)e*=10,r*=10,a*=10,n++;for(var s=[1,2,5],o=0;;){var h=o%s.length,l=Math.floor(o/s.length),d=Math.pow(10,l)*s[h];h=(o+1)%s.length,l=Math.floor((o+1)/s.length);var c=Math.pow(10,l)*s[h];if(a>=d&&a<c)break;o++}for(var u=c,p=[],f=t.jqx._rnd(e,u,!1),x=n<=0?1:Math.pow(10,n);f<r+u;)p.push(f/x),f+=u;return p}}}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:2e4,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===e.jqx._jqxDropDownButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var o=this;o.width||(o.width=200),o.height||(o.height=25),o.isanimating=!1,o.setupInstance();var n=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");o.host.attr("tabindex")?(n.attr("tabindex",o.host.attr("tabindex")),o.host.removeAttr("tabindex")):n.attr("tabindex",0),o.focusable||n.removeAttr("tabIndex"),e.jqx.aria(this),o.popupContent=o.host.children(),o.host.attr("role","button"),0==o.popupContent.length?(o.popupContent=e("<div>"+o.host.text()+"</div>"),o.popupContent.css("display","block"),o.element.innerHTML=""):o.popupContent.detach();var r=this;o.addHandler(o.host,"loadContent",function(e){r._arrange()});try{var s="dropDownButtonPopup"+o.element.id,i=e(e.find("#"+s));i.length>0&&i.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",s);var a=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+o.element.id+"'></div>");a.addClass(o.toThemeProperty("jqx-widget-content")),a.addClass(o.toThemeProperty("jqx-dropdownbutton-popup")),a.addClass(o.toThemeProperty("jqx-popup")),a.addClass(o.toThemeProperty("jqx-rc-all")),"element"!=o.dropDownContainer&&a.css("z-index",o.popupZIndex),e.jqx.browser.msie&&a.addClass(o.toThemeProperty("jqx-noshadow")),o.popupContent.appendTo(a),"element"==o.dropDownContainer?a.appendTo(o.host):a.appendTo(document.body),o.container=a,o.container.css("visibility","hidden")}catch(e){}o.touch=e.jqx.mobile.isTouchDevice(),o.dropDownButtonStructure=n,o.host.append(n),o.dropDownButtonWrapper=o.host.find("#dropDownButtonWrapper"),o.firstDiv=o.dropDownButtonWrapper.parent(),o.dropDownButtonArrow=o.host.find("#dropDownButtonArrow"),o.arrow=e(o.dropDownButtonArrow.children()[0]),o.dropDownButtonContent=o.host.find("#dropDownButtonContent"),o.dropDownButtonContent.addClass(o.toThemeProperty("jqx-dropdownlist-content")),o.dropDownButtonWrapper.addClass(o.toThemeProperty("jqx-disableselect")),o.rtl&&o.dropDownButtonContent.addClass(o.toThemeProperty("jqx-rtl"));d=this;o.host.parents()&&o.addHandler(o.host.parents(),"scroll.dropdownbutton"+o.element.id,function(e){d.isOpened()&&d.close()}),o.addHandler(o.dropDownButtonWrapper,"selectstart",function(){return!1}),o.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+o.element.id,o.dropDownButtonArrow[0].id="dropDownButtonArrow"+o.element.id,o.dropDownButtonContent[0].id="dropDownButtonContent"+o.element.id;var d=this;o.propertyChangeMap.disabled=function(t,o,n,r){r?(t.host.addClass(d.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(d.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(d.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(d.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(d.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(d.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},o.disabled&&(o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-disabled")),o.host.addClass(o.toThemeProperty("jqx-fill-state-disabled")),o.dropDownButtonContent.addClass(o.toThemeProperty("jqx-dropdownlist-content-disabled")));var p=o.toThemeProperty("jqx-rc-all")+" "+o.toThemeProperty("jqx-fill-state-normal")+" "+o.toThemeProperty("jqx-widget")+" "+o.toThemeProperty("jqx-widget-content")+" "+o.toThemeProperty("jqx-dropdownlist-state-normal");if(o.host.addClass(p),o.arrow.addClass(o.toThemeProperty("jqx-icon-arrow-down")),o.arrow.addClass(o.toThemeProperty("jqx-icon")),o.template&&o.host.addClass(o.toThemeProperty("jqx-"+o.template)),o._setSize(),o.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(o.container.css("display","none"),o.host.parents(".jqx-window").length>0)){var l=o.host.parents(".jqx-window").css("z-index");a.css("z-index",l+10),o.container.css("z-index",l+10)}},setupInstance:function(){var t=this,o={setContent:function(e){t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){if(0==arguments.length||"object"==typeof e)return t.dropDownButtonContent.text();t.dropDownButtonContent.html(e)},getContent:function(){return t.dropDownButtonContent.children().length>0?t.dropDownButtonContent.children():t.dropDownButtonContent.text()},_setSize:function(){null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host[0].style.width=t.width:void 0==t.width||isNaN(t.width)||(t.host[0].style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host[0].style.height=t.height:void 0==t.height||isNaN(t.height)||(t.host[0].style.height=parseInt(t.height)+"px");var o=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(o=!0,t.host.width(t.width)),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(o=!0,t.host.height(t.height));var n=this;o&&t.refresh(!1),e.jqx.utilities.resize(t.host,function(){n._arrange()})},isOpened:function(){var t=this,o=e.data(document.body,"openedJQXButton"+t.element.id);return null!=o&&o==t.popupContent},focus:function(){try{t.host.focus()}catch(e){}},render:function(){t.removeHandlers();var o=this,n=!1;t.touch||(t.addHandler(t.host,"mouseenter",function(){!o.disabled&&o.enableHover&&(n=!0,o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-hover")),o.arrow.addClass(o.toThemeProperty("jqx-icon-arrow-down-hover")),o.host.addClass(o.toThemeProperty("jqx-fill-state-hover")))}),t.addHandler(t.host,"mouseleave",function(){!o.disabled&&o.enableHover&&(o.host.removeClass(o.toThemeProperty("jqx-dropdownlist-state-hover")),o.host.removeClass(o.toThemeProperty("jqx-fill-state-hover")),o.arrow.removeClass(o.toThemeProperty("jqx-icon-arrow-down-hover")),n=!1)})),o.autoOpen&&(t.addHandler(t.host,"mouseenter",function(){!o.isOpened()&&o.autoOpen&&(o.open(),o.host.focus())}),t.addHandler(e(document),"mousemove."+o.element.id,function(e){if(o.isOpened()&&o.autoOpen){var t=o.host.coord(),n=t.top,r=t.left,s=o.container.coord(),i=s.left,a=s.top;canClose=!0,e.pageY>=n&&e.pageY<=n+o.host.height()&&e.pageX>=r&&e.pageX<r+o.host.width()&&(canClose=!1),e.pageY>=a&&e.pageY<=a+o.container.height()&&e.pageX>=i&&e.pageX<i+o.container.width()&&(canClose=!1),canClose&&o.close()}})),t.addHandler(t.dropDownButtonWrapper,"mousedown",function(e){if(!o.disabled){var t="visible"==o.container.css("visibility");if(!o.isanimating){if(t)return o.close(),!1;o.open(),o.focusable||e.preventDefault&&e.preventDefault()}}}),t.touch&&t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+t.element.id,o.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(e(document),"mousedown."+t.element.id,o.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(t.host,"keydown",function(e){var t="visible"==o.container.css("visibility");return"none"==o.host.css("display")||("13"==e.keyCode&&(o.isanimating||t&&o.close()),115==e.keyCode?(o.isanimating||(o.isOpened()?o.isOpened()&&o.close():o.open()),!1):(e.altKey&&"block"==o.host.css("display")&&(38==e.keyCode?o.isOpened()&&o.close():40==e.keyCode&&(o.isOpened()||o.open())),void("27"==e.keyCode&&(o.ishiding||(o.close(),void 0!=o.tempSelectedIndex&&o.selectIndex(o.tempSelectedIndex))))))}),t.addHandler(t.firstDiv,"focus",function(){o.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.addClass(o.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.firstDiv,"blur",function(){o.host.removeClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),o.host.removeClass(o.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var o=this;t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+o.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var o=e(t).coord(!0);return[o.left,o.top]},testOffset:function(o,n,r){var s=o.outerWidth(),i=o.outerHeight(),a=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();if(n.left+s>a&&s>t.host.width()){var p=t.host.coord().left,l=s-t.host.width();n.left=p-l+2}return n.left<0&&(n.left=parseInt(t.host.coord().left)+"px"),n.top-=Math.min(n.top,n.top+i>d&&d>i?Math.abs(i+r+22):0),n},_getBodyOffset:function(){var t=0,o=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(o=parseInt(e("body").css("border-left-width")),isNaN(o)&&(o=0)),{left:o,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0);var t=this,o=this;if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var n=t.host.width();t.container.width(parseInt(n))}o._raiseEvent("2");var r,s=t.popupContent,i=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),a=parseInt(Math.round(t.host.coord(!0).left));r=a+"px";var d=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,null!=d&&d&&(r=e.jqx.mobile.getLeftPos(t.element),i=e.jqx.mobile.getTopPos(t.element)+parseInt(t.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(i=parseInt(i)-t._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(r=parseInt(r)-t._getBodyOffset().left+"px")),s.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"));var p=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(p=!0),p&&t.container.css("display","block"),t.container.css("left",r),t.container.css("top",i);var l=!1,h=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),o=Math.abs(e-t.host.width());e>t.host.width()?t.container.css("left",parseInt(Math.round(a))-o+"px"):t.container.css("left",parseInt(Math.round(a))+o+"px")}};if(h.call(this),"top"==t.dropDownVerticalAlignment){var c=s.height();l=!0,t.container.height(s.outerHeight()),s.addClass(this.toThemeProperty("jqx-popup-up"));var u=parseInt(t.host.outerHeight()),m=parseInt(i)-Math.abs(c+u);t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(s.outerHeight()!=t.container.height()){t.container.height(s.outerHeight());var e=parseInt(i)-Math.abs(s.height()+u);t.container.css("top",e)}},50),s.css("top",23),t.container.css("top",m)}if(t.enableBrowserBoundsDetection){var w=t.testOffset(s,{left:parseInt(t.container.css("left")),top:parseInt(i)},parseInt(t.host.outerHeight()));parseInt(t.container.css("top"))!=w.top?(l=!0,t.container.height(s.outerHeight()),s.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(s.outerHeight()!=o.container.height()){var e=o.testOffset(s,{left:parseInt(t.container.css("left")),top:parseInt(i)},parseInt(t.host.outerHeight()));t.container.css("top",e.top),t.container.height(s.outerHeight())}},50)):s.css("top",0),t.container.css("top",w.top),parseInt(t.container.css("left"))!=w.left&&t.container.css("left",w.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",o),e.data(document.body,"openedJQXButton"+t.element.id,s),s.css("margin-top",0),s.css("opacity",1),t._raiseEvent("0"),h.call(o);else{t.container.css("visibility","visible");var f=s.outerHeight();o.isanimating=!0,"fade"==t.animationType?(s.css("margin-top",0),s.css("opacity",0),s.animate({opacity:1},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",o),e.data(document.body,"openedJQXButton"+o.element.id,s),o.ishiding=!1,o.isanimating=!1,o._raiseEvent("0")}),h.call(o)):(s.css("opacity",1),l?s.css("margin-top",f):s.css("margin-top",-f),h.call(o),s.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",o),e.data(document.body,"openedJQXButton"+o.element.id,s),o.ishiding=!1,o.isanimating=!1,o._raiseEvent("0")}))}l?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout(function(){o.firstDiv.focus()},10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(o.toThemeProperty("jqx-fill-state-focus"))},close:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this,o=t.popupContent,n=t.container,r=this;r._raiseEvent("3");var s=!1;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(s=!0),t.isOpened()){if(e.data(document.body,"openedJQXButton"+t.element.id,null),"none"==t.animationType)t.container.css("visibility","hidden"),s&&t.container.css("display","none");else if(!r.ishiding){r.isanimating=!0,o.stop();var i=o.outerHeight();o.css("margin-top",0);var a=-i;parseInt(t.container.coord().top)<parseInt(t.host.coord().top)&&(a=i),"fade"==t.animationType?(o.css({opacity:1}),o.animate({opacity:0},t.closeDelay,function(){n.css("visibility","hidden"),r.isanimating=!1,r.ishiding=!1,s&&n.css("display","none")})):o.animate({"margin-top":a},t.closeDelay,function(){n.css("visibility","hidden"),r.isanimating=!1,r.ishiding=!1,s&&n.css("display","none")})}t.ishiding=!0,t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),t.host.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.host.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._raiseEvent("1")}},closeOpenedDropDown:function(t){var o=t.data.me,n=e(t.target);if(e(t.target).ischildof(t.data.me.host))return!0;if(e(t.target).ischildof(t.data.me.popupContent))return!0;var r=!1;return e.each(n.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return r=!0,!1;if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return r=!0,!1}}),r||o.close(),!0},refresh:function(){t._arrange()},_arrange:function(){var e=this,t=parseInt(e.host.width()),o=parseInt(e.host.height()),n=(e.arrowSize,e.arrowSize),r=t-n-6;if(r>0&&(e.dropDownButtonContent[0].style.width=r+"px"),e.dropDownButtonContent[0].style.height=parseInt(o)+"px",e.dropDownButtonContent[0].style.left="0px",e.dropDownButtonContent[0].style.top="0px",e.dropDownButtonArrow[0].style.width=parseInt(n)+"px",e.dropDownButtonArrow[0].style.height=parseInt(o)+"px",e.rtl&&(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right"),e.dropDownButtonContent.css("left",-3)),null!=e.dropDownWidth)if(e.dropDownWidth.toString().indexOf("%")>=0){t=parseInt(e.dropDownWidth)*e.host.width()/100;e.container.width(t)}else e.container.width(e.dropDownWidth);null!=e.dropDownHeight&&e.container.height(e.dropDownHeight)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this;t.interval&&clearInterval(t.interval),t.removeHandler(t.dropDownButtonWrapper,"selectstart"),t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.host.removeClass(),t.removeHandler(e(document),"mousedown."+t.element.id,self.closeOpenedDropDown),t.host.remove(),t.container.remove()},_raiseEvent:function(o,n){void 0==n&&(n={owner:null}),2!=o||t.contentInitialized||t.initContent&&(t.initContent(),t.contentInitialized=!0);var r=t.events[o];args=n,args.owner=this;var s=new e.Event(r);return s.owner=this,2!=o&&3!=o&&4!=o||(s.args=n),t.host.trigger(s)},resize:function(e,o){t.width=e,t.height=o,t._setSize(),t._arrange()},propertiesChangedHandler:function(e,t,o){o.width&&o.height&&2==Object.keys(o).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(o,n,r,s){void 0!=t.isInitialized&&0!=t.isInitialized&&(o.batchUpdate&&o.batchUpdate.width&&o.batchUpdate.height&&2==Object.keys(o.batchUpdate).length||("template"==n&&(o.host.removeClass(o.toThemeProperty("jqx-"+r)),o.host.addClass(o.toThemeProperty("jqx-"+o.template))),"rtl"==n&&(s?(o.dropDownButtonArrow.css("float","left"),o.dropDownButtonContent.css("float","right")):(o.dropDownButtonArrow.css("float","right"),o.dropDownButtonContent.css("float","left"))),"autoOpen"==n&&o.render(),"theme"==n&&null!=s&&e.jqx.utilities.setTheme(r,s,o.host),"width"!=n&&"height"!=n||(o._setSize(),o._arrange())))}};e.extend(!0,this,o)}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxDropDownList.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){var t=this;t.width||(t.width=200),t.height||(t.height=25);var i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var o={title:t.field.title};t.field.id.length?o.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":o.id=e.jqx.utilities.createId()+"_jqxDropDownList";var s=e("<div></div>",o);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),s[0].style.cssText=t.field.style.cssText,e(t.field).hide().after(s);var n=t.host.data();if(t.host=s,t.host.data(n),t.element=s[0],t.element.id=t.field.id,t.field.id=o.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var r=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=r}l=e.jqx.parseSourceTag(t.field);t.source=l.items,-1==t.selectedIndex&&(t.selectedIndex=l.index)}else if(t.host.find("li").length>0||t.host.find("option").length>0){var l=e.jqx.parseSourceTag(t.element);t.source=l.items}t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||e.jqx.utilities.createId(),t.host.attr("role","combobox"),e.jqx.aria(t,"aria-autocomplete","both"),e.jqx.aria(t,"aria-readonly",!1);var d="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")||t.host.attr("tabindex",0);t.touch=e.jqx.mobile.isTouchDevice(),t.comboStructure=d,t.element.innerHTML=d,t.dropdownlistWrapper=e(t.element.firstChild.firstChild),t.dropdownlistArrow=e(t.dropdownlistWrapper[0].firstChild.nextSibling),t.arrow=e(t.dropdownlistArrow[0].firstChild),t.dropdownlistContent=e(t.dropdownlistWrapper[0].firstChild),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),t.rtl&&t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1}),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t._addInput(),"Please Choose:"!=t.promptText&&(t.placeHolder=t.promptText);var a=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+a,t._firstDiv=e(t.element.firstChild);try{var h="listBox"+t.id,c=e(e.find("#"+h));c.length>0&&c.remove(),e.jqx.aria(t,"aria-owns",h),e.jqx.aria(t,"aria-haspopup",!0);var p=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");p.hide(),"element"==t.dropDownContainer?p.appendTo(t.host):p.appendTo(document.body),t.container=p,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var x=t.width;"auto"!=t.dropDownWidth&&(x=t.dropDownWidth),null==x&&0==(x=t.host.width())&&(x=t.dropDownWidth),null==t.dropDownHeight&&(t.dropDownHeight=200);t.container.width(parseInt(x)+25),t.container.height(parseInt(t.dropDownHeight)+25),t._ready=!1,t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse"),t._ready||(t.ready&&t.ready(),t._ready=!0),t._raiseEvent("6")}),t.addHandler(t.listBoxContainer,"itemAdd",function(e){t._raiseEvent("7",e.args)}),t.addHandler(t.listBoxContainer,"itemRemove",function(e){t._raiseEvent("8",e.args)}),t.addHandler(t.listBoxContainer,"itemUpdate",function(e){t._raiseEvent("9",e.args)}),t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,autoItemsHeight:t.autoItemsHeight,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,_renderOnDemand:!0,emptyString:t.emptyString,itemHeight:t.itemHeight,width:x,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer,filterChange:function(e){t.autoDropDownHeight&&t.container.height(t.listBoxContainer.height()+25)}}),"element"===t.dropDownContainer?t.listBoxContainer.css({position:"absolute",top:0,left:0}):t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.template&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox.selectIndex(t.selectedIndex),t.listBox._arrange(),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.addHandler(t.listBoxContainer,"unselect",function(e){t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(e){console&&console.log(e)}if((t=t).propertyChangeMap.disabled=function(i,o,s,n){n?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(i,"aria-disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),"simple"===t.renderMode&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all"))),t.template&&t.host.addClass(t.toThemeProperty("jqx-"+t.template)),t._updateHandlers(),t._setSize(),t._arrange(),t.listBox&&t.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var u=t.host.parents(".jqx-window").css("z-index");p.css("z-index",u+10),t.listBoxContainer.css("z-index",u+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";if(this.input&&(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length))return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())};t(),setTimeout(function(){t()},10)}catch(e){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.element.style.width=this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.element.style.height=this.height);var i=this,o=function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}};if(t){var s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25)}e.jqx.utilities.resize(this.host,function(){o()},!1,this._checkForHiddenParent)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==t.listBoxContainer},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){t.isOpened()&&t.close()});var o="mousedown";this.touch&&(o=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,o,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),o=i.top,s=i.left,n=t.container.coord(),r=n.left,l=n.top;canClose=!0,e.pageY>=o&&e.pageY<=o+t.host.height()&&e.pageX>=s&&e.pageX<s+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()&&e.pageX>=r&&e.pageX<r+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),void 0!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(!1===t._kbnavigated&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),void 0==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t=this,i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){void 0!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){void 0!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var o=this.listBox.selectedValues[i],s=this.listBox.getItemByValue(o);s&&(t=s)}if(this.checkboxes){var n=this.getCheckedItems();t=null!=n&&n.length>0?n[0]:null}if(null==t){(a=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(e(document.body)),a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-listitem-state-normal")),a.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(a,this.placeHolder);var r=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");a.css("padding-top",r),a.css("padding-bottom",l);var d=a.outerHeight();a.remove(),a.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,a);f=this.host.height();return null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(f=parseInt(this.height)),(w=parseInt((parseInt(f)-parseInt(d))/2))>0&&(this.dropdownlistContent.css("margin-top",w+"px"),this.dropdownlistContent.css("margin-bottom",w+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(a,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var a=e(document.createElement("span"));a[0].setAttribute("unselectable","on");try{a[0].style.color="inherit"}catch(e){}a[0].style.borderWidth="0px",a[0].style.backgroundColor="transparent",a.appendTo(e(document.body)),a.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var h=!1;try{void 0!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(a,t.html):void 0!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(a,t.label):null===t.label||""===t.label?(h=!0,e.jqx.utilities.html(a,"")):void 0!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(a,t.value):void 0!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(a,t.title):""!=t.label&&null!=t.label||(h=!0,e.jqx.utilities.html(a,""))}catch(e){}var r=this.dropdownlistContent[0].style.paddingTop,l=this.dropdownlistContent[0].style.paddingBottom;""===r&&(r="0px"),""===l&&(l="0px"),a[0].style.paddingTop=r,a[0].style.paddingBottom=l,0===(d=a.outerHeight())&&(d=16),""!=t.label&&null!=t.label||!h||e.jqx.utilities.html(a,"");var c=this.width&&this.width.toString().indexOf("%")<=0;if(a.remove(),a.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(a,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var p=this.getCheckedItems(),x="",u=0;u<p.length;u++)u==p.length-1?x+=p[u].label:x+=p[u].label+",";a.text(x),c&&a.css("max-width",this.host.width()-30),a.css("overflow","hidden"),a.css("display","block"),this.rtl||c&&a.css("width",this.host.width()-30),a.css("text-overflow","ellipsis"),a.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(a),this.focusable&&this.isOpened()&&this.focus()}else{var m=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(c&&(this.rtl||a.css("max-width",m+"px")),a[0].style.overflow="hidden",a[0].style.display="block",a[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||c&&(m<0&&(m=0),a[0].style.width=m+"px"),a[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=a[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var f=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(f=parseInt(this.height));var w=parseInt((parseInt(f)-parseInt(d))/2);w>=0&&(this.dropdownlistContent[0].style.marginTop=w+"px",this.dropdownlistContent[0].style.marginBottom=w+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var o=this.getCheckedItems(),s="";if(null!=o)for(var n=0;n<o.length;n++){var r=o[n].value;void 0!=r&&(n==o.length-1?s+=r:s+=r+",",t.push(r))}this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,o){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,o){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,o){this.listBox.selectIndex(e,t,i,o,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,o){var s=t.outerWidth(),n=t.outerHeight(),r=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(i.left+s>r&&s>this.host.width()){var d=this.host.coord().left,a=s-this.host.width();i.left=d-a+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>l&&l>n?Math.abs(n+o+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width();this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,o=this,s=this.listBoxContainer,n=this.listBox,r=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),l=parseInt(Math.round(this.host.coord(!0).left));i=l+"px","element"===this.dropDownContainer&&(r=parseInt(this.host.outerHeight())-1+"px",i=0);var d=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=d&&d&&(i=e.jqx.mobile.getLeftPos(this.element),r=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(r=parseInt(r)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),s.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",r),n._arrange();var a=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var h=this.container.outerWidth(),c=Math.abs(h-this.host.width());h>this.host.width()?this.container.css("left",25+parseInt(Math.round(l))-c+"px"):this.container.css("left",25+parseInt(Math.round(l))+c+"px")}if("top"==this.dropDownVerticalAlignment){var p=s.height();a=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"));var x=parseInt(this.host.outerHeight()),u=parseInt(r)-Math.abs(p+x+23);this.container.css("top",u)}if(this.enableBrowserBoundsDetection){var m=this.testOffset(s,{left:parseInt(this.container.css("left")),top:parseInt(r)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(a=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"))):s.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",o),e.data(document.body,"openedJQXListBox"+this.id,s),s.css("margin-top",0),s.css("opacity",1),n._renderItems(),o._raiseEvent("0",n);else if(this.container.css("display","block"),o.isanimating=!0,"fade"==this.animationType)s.css("margin-top",0),s.css("opacity",0),s.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",o),e.data(document.body,"openedJQXListBox"+o.id,s),o.ishiding=!1,o.isanimating=!1,n._renderItems(),o._raiseEvent("0",n)});else{s.css("opacity",1);var f=s.outerHeight();a?s.css("margin-top",f):s.css("margin-top",-f),s.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",o),e.data(document.body,"openedJQXListBox"+o.id,s),o.ishiding=!1,o.isanimating=!1,n._renderItems(),o._raiseEvent("0",n)})}a?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),s.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),s.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(s.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,o=this.container,s=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!s.ishiding){t.stop();var n=t.outerHeight();t.css("margin-top",0),s.isanimating=!0;var r=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(r=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){o.css("display","none"),s.isanimating=!1,s.ishiding=!1})):t.animate({"margin-top":r},this.closeDelay,function(){o.css("display","none"),s.isanimating=!1,s.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,o=e(t.target),s=t.data.listbox;if(null==s)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var n=!1;return e.each(o.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=s&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),o=(e.arrowSize,e.arrowSize),s=t-o-6;if(s>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=s+"px":s<=0&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),t=e.dropdownlistContent.width()+o+6,e.host.width(t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=o+"px",e.width&&e.width.toString().indexOf("%")>=0){var n=100*o/t,r=100*s/t;e.dropdownlistArrow[0].style.width=n+"%",e.dropdownlistContent[0].style.width=r+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var o=this.events[t];args=i,args.owner=this;var s=new e.Event(o);return s.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(s.args=i),this.host.trigger(s)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var o=e.host.width();e.listBoxContainer.jqxListBox({width:o}),e.container.width(parseInt(o)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,o,s){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+o+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+o)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:s}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:s}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:s}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:s}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:s}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:s}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:s}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:s}),"rtl"==i&&(s?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==s&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=s&&(t.listBoxContainer.jqxListBox({theme:s}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(o,s,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){n=t.width;"auto"!=t.dropDownWidth&&(n=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:n,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&s!=o){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){var n=t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(s)),t.renderSelection())}}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxEditor","",{}),e.extend(e.jqx._jqxEditor.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,pasteMode:"html",editable:!0,lineBreak:"default",changeType:null,toolbarPosition:"top",fontFamily:"sans-serif",commands:{bold:{tooltip:"Bold",command:"bold",type:"toggleButton"},italic:{tooltip:"Italic",command:"italic",type:"toggleButton"},underline:{tooltip:"Underline",command:"underline",type:"toggleButton"},format:{placeHolder:"Format Block",tooltip:"Format Block",command:"formatblock",value:[{value:"p",label:"Paragraph"},{value:"h1",label:"Header 1"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}],type:"list",width:120,dropDownWidth:190,height:25},font:{placeHolder:"Font",tooltip:"Font Name",command:"fontname",value:[{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Comic Sans MS",value:'"Comic Sans MS", cursive, sans-serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Georgia",value:"Georgia,serif"},{label:"Impact",value:"Impact,Charcoal,sans-serif"},{label:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{label:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{label:"Times New Roman",value:"'Times New Roman',Times,serif"},{label:"Trebuchet MS",value:'"Trebuchet MS",Helvetica,sans-serif'},{label:"Verdana",value:"Verdana,Geneva,sans-serif"}],type:"list",width:160,height:25,dropDownWidth:160},size:{placeHolder:"Size",tooltip:"Font Size",command:"fontsize",value:[{label:"1 (8pt)",value:"xx-small"},{label:"2 (10pt)",value:"x-small"},{label:"3 (12pt)",value:"small"},{label:"4 (14pt)",value:"medium"},{label:"5 (18pt)",value:"large"},{label:"6 (24pt)",value:"x-large"},{label:"7 (36pt)",value:"xx-large"}],type:"list",width:45,height:25,dropDownWidth:160},color:{tooltip:"Text Color",command:"forecolor",value:"#000",type:"colorPicker"},background:{tooltip:"Fill Color",command:"backcolor",value:"#fff",type:"colorPicker"},left:{tooltip:"Align Left",command:"justifyleft",type:"toggleButton"},center:{tooltip:"Align Center",command:"justifycenter",type:"toggleButton"},right:{tooltip:"Align Right",command:"justifyright",type:"toggleButton"},outdent:{tooltip:"Indent Less",command:"outdent",type:"button"},indent:{tooltip:"Indent More",command:"indent",type:"button"},ul:{tooltip:"Insert unordered list",command:"insertunorderedlist",type:"toggleButton"},ol:{tooltip:"Insert ordered list",command:"insertorderedlist",type:"toggleButton"},image:{tooltip:"Insert image",command:"insertimage",type:"button"},link:{tooltip:"Insert link",command:"createlink",type:"toggleButton"},html:{tooltip:"View source",command:"viewsource",type:"toggleButton"},clean:{tooltip:"Remove Formatting",command:"removeformat",type:"button"}},createCommand:null,defaultLocalization:{bold:"Bold",italic:"Italic",underline:"Underline",format:"Format Block",font:"Font Name",size:"Font Size",color:"Text Color",background:"Fill Color",left:"Align Left",center:"Align Center",right:"Align Right",outdent:"Indent Less",indent:"Indent More",ul:"Insert unordered list",ol:"Insert ordered list",image:"Insert image",link:"Insert link",html:"View source",clean:"Remove Formatting",Remove:"Remove",Ok:"Ok",Cancel:"Cancel",Change:"Change","Go to link":"Go to link","Open in a new window/tab":"Open in a new window/tab",Align:"Align",VSpace:"VSpace",HSpace:"HSpace",Width:"Width",Height:"Height",Title:"Title",URL:"URL","Insert Image":"Insert Image","Insert Link":"Insert Link","Alt Text":"Alt Text","not set":"&ltnot set&gt",Left:"Left",Right:"Right",Paragraph:"Paragraph",Header:"Header",Arial:"Arial","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Georgia:"Georgia",Impact:"Impact","Lucida Console":"Lucida Console",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},localization:null,tools:"bold italic underline | format font size | color background | left center right | outdent indent | ul ol | image | link | clean | html",readOnly:!1,stylesheets:new Array,rtl:!1,colorPickerTemplate:'<div class="jqx-editor-color-picker"><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',touchMode:!1,keyPressed:null,events:["change"]};return this===e.jqx._jqxEditor.prototype?t:(e.extend(!0,this,t),this.localization=this.defaultLocalization,t)},createInstance:function(o){var i=this;i.textArea=i.host;var n=i.host.attr("contenteditable");if(i.host.addClass(i.toThemeProperty("jqx-widget")),1==n||"true"==n){i.inline=!0,i.widget=i.host,i.editorDocument=document,i.selection=new t(i.editorDocument);var r=e("<div class='jqx-editor-toolbar-container' unselectable='on' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div>");r.insertBefore(i.host),i.toolbarContainer=r,i.toolbar=r.find(".jqx-editor-toolbar"),i.editor=i.host,i.contentEditableElement=i.element}else{var a=e("<div class='jqx-editor'><div class='jqx-editor-container'><div class='jqx-editor-toolbar-container' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div></div><div class='jqx-editor-content'><iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe></div></div></div>");i.widget=a,i.widget[0].className=i.widget[0].className+" "+i.element.className;try{i.widget[0].style=i.element.style}catch(e){}var l=e.trim(i.host.html())+"&#8203;";"default"==i.lineBreak||"div"==i.lineBreak?l="<div>"+l+"</div>":"p"==i.lineBreak&&(l="<p>"+l+"</p>"),l=l.replace(/&lt;/gi,"<"),l=l.replace(/&gt;/gi,">"),i.host.css("display","none"),i.host.after(a),a.find("iframe").after(i.host),i.container=a.find(".jqx-editor-container"),i.toolbarContainer=a.find(".jqx-editor-toolbar-container"),i.toolbar=a.find(".jqx-editor-toolbar"),i.iframe=a.find("iframe"),i.content=a.find(".jqx-editor-content");var d=function(){i.editorDocument=i.iframe[0].contentWindow.document,i.selection=new t(i.editorDocument);var o=0;i.addHandler(i.iframe,"load",function(){if(++o>1){i.iframe.off("load"),i.content.find("iframe").remove();e("<iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe>").appendTo(i.content);i.iframe=a.find("iframe"),d()}}),e.jqx.browser.mozilla||(i.editorDocument.designMode="On"),i.editorDocument.open();var n=i.rtl?"direction:rtl;":"",r=e.jqx.browser.msie?"::selection{color: #fff; background: #328EFD;};::-moz-selection{color: #fff; background: #328eD;};::selection:window-inactive {background: #c7c7c7; color: #000;}::-moz-selection:window-inactive {background: #c7c7c7; color: #000;}html{font-size:13px; height:100%;}body{padding-top:1px;margin-top:-1px; padding-right: 1px; overflow-x: hidden;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;":"";if(i.editorDocument.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0; margin:0; font-size: 13px; font-family: "+i.fontFamily+"; background:#fff; min-height:100%; "+n+"}"+r+"}h1{font-size:2em;margin:.67em 0}h2{font-size: 1.5em; margin: .75em 0}h3{font-size: 1.17em; margin: .83em 0}h4{font-size:1em; margin: 1.12em 0 }h5{font-size: .83em; margin: 1.5em 0}h6{font-size: .75em; margin: 1.67em 0}p{margin: 0px;padding:0 .2em}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.jqx-editor-paste-element {position: absolute; left: -1000px; height: 1px; overflow: hidden; top: -1000px;}.jqx-editor-focus {border: 1px solid #aaa !important;}</style>"+e.map(i.stylesheets,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),i.contentEditableElement=i.editorDocument.body,i.host.is("textarea"))i._textArea=i.element,(s=i.host.data()).jqxEditor.host=a,s.jqxEditor.element=a[0],i.element=a[0],a[0].id=i._textArea.id,i._textArea.id=i._textArea.id+"TextArea",e(i.element).addClass(i.toThemeProperty("jqx-widget")),i.host=e(i.element),i.host.data(s);else{var s=i.host.data();s.jqxEditor.host=a,s.jqxEditor.element=a[0],i.element=a[0],i.host=e(i.element),i.host.data(s)}try{i.editorDocument.execCommand("useCSS",!1,!1),i.editorDocument.execCommand("enableInlineTableEditing",null,!1)}catch(e){}try{i.editorDocument.execCommand("styleWithCSS",0,!0)}catch(e){}i.editorDocument.close(),i.editor=e(i.editorDocument.body),i.editor.html(l).attr("spellcheck",!1).attr("autocorrect","off")};d(),e.jqx.utilities.resize(i.host,function(){i.widget.css("width",i.width),i.widget.css("height",i.height),i._arrange()})}},focus:function(){var t=this;e.jqx.browser.mozilla&&(t.focused||(t.iframe&&t.iframe.focus(),t.selection.selectNode(t.editor[0].firstChild,!0),t.selection.getRange().collapse(!0))),t.editor.focus();var o=null!=t.range?t.range:t.getRange();t.selectRange(o)},print:function(){var e=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");e.document.open(),e.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+this.val()+"</body></html>"),e.document.close()},refresh:function(t){var o=this;e.each(this.defaultLocalization,function(e,t){o.localization[e]||(o.localization[e]=t)}),o._removeHandlers(),o.toolbar.addClass(o.toThemeProperty("jqx-widget-header")),o.content?(o.widget.css("width",o.width),o.widget.css("height",o.height),o.widget.addClass(o.toThemeProperty("jqx-editor")),o.widget.addClass(o.toThemeProperty("jqx-widget")),o.widget.addClass(o.toThemeProperty("jqx-rc-all")),o.widget.addClass(o.toThemeProperty("jqx-widget-header")),o.content.addClass(o.toThemeProperty("jqx-widget-content")),o.container.addClass(o.toThemeProperty("jqx-editor-container"))):(o.toolbarContainer.addClass(o.toThemeProperty("jqx-widget-header")),o.toolbarContainer.addClass(o.toThemeProperty("jqx-editor-toolbar-inline")),o.toolbarContainer.addClass(o.toThemeProperty("jqx-widget")),o.toolbarContainer.addClass(o.toThemeProperty("jqx-rc-all")),o.toolbarContainer.hide(),o.toolbarContainer.css("position","absolute"),o.editor.addClass(o.toThemeProperty("jqx-editor-inline")),o.toolbarContainer.css("width",o.host.outerWidth()+"px"));var i=o.toolbarContainer.index();if("top"==o.toolbarPosition&&0!=i||"bottom"==o.toolbarPosition&&1!=i)switch(o.toolbarPosition){case"bottom":o.toolbarContainer.insertAfter(o.content);break;case"top":default:o.toolbarContainer.insertBefore(o.content)}var n=o.tools;if(!1!==n){var r=n.split(" "),a=n.split(" | "),l=function(t,i){e.each(i,function(n,r){var a=o.commands[this];if(a){if(o.createCommand){var l=o.createCommand(this.toString());a=e.extend(a,l)}}else{if(!o.createCommand)return!0;if(!(a=o.createCommand(this.toString())))return!0;o.commands[this]||(o.commands[this]=a)}switch(o.localization[this]&&(a.tooltip=o.localization[this]),a.type){case"list":a.widget&&a.widget.jqxDropDownList("destroy");var d="formatblock"==a.command||"fontname"==a.command||"fontsize"==a.command,s=a.value||[],c=new Array,u=a.placeHolder||"Please Choose:";"fontname"==a.command?e.each(s,function(){var e=o.localization[this.label];c.push({label:e,value:this.value})}):"formatblock"==a.command?(u=o.localization.format,e.each(s,function(){if(this.label.indexOf("Header")>=0)e=this.label.replace("Header",o.localization.Header);else var e=o.localization[this.label];c.push({label:e,value:this.value})})):c=s;var g={enableBrowserBoundsDetection:!0,touchMode:o.touchMode,width:a.width||100,height:a.height||25,dropDownWidth:a.dropDownWidth||"auto",autoDropDownHeight:(a.value&&a.value.length)<12,placeHolder:u,source:c,theme:o.theme,keyboardSelection:!1,focusable:!1,disabled:o.disabled,rtl:o.rtl,selectionRenderer:"fontsize"==a.command?function(){return"<div unselectable='on' style='margin-top: 0px; padding:0px;' class='"+o.toThemeProperty("jqx-editor-toolbar-icon")+" "+o.toThemeProperty("jqx-editor-toolbar-icon-"+a.command)+"'></div>"}:null,renderer:d?function(e,t,o){return"formatblock"==a.command?"<"+o+' unselectable="on" style="padding: 0px; margin: 0px;">'+t+"</"+o+">":"fontname"==a.command?'<span unselectable="on" style="font-family: '+o+';">'+t+"<span>":"fontsize"==a.command?'<span unselectable="on" style="font-size: '+o+';">'+t+"<span>":void 0}:null},p="jqx-disableselect "+o.toThemeProperty("jqx-editor-dropdownlist")+" "+o.toThemeProperty("jqx-editor-toolbar-item");(T=e("<div unselectable='on' class='"+p+"'></div>")).appendTo(t),T.jqxDropDownList(g),a.init&&a.init(T);var r=null,h=null,m="";o.addHandler(T,"mousedown",function(t){if(e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0){var o=e(".jqx-editor-dropdownlist");e.each(o,function(t,o){o!=T[0]&&e(o).jqxDropDownList("close")})}}),o.addHandler(T,"open",function(e){o.focused||o.focus(),o.updating=!0,o.activeElement=T,r=T.val(),m=""}),o.addHandler(T,"change",function(t){o.updating=!1,o.activeElement=null,h=T.val(),m=t.args.type,e.jqx.browser.msie&&e.jqx.browser.version<9&&o.focus()}),o.addHandler(T,"close",function(e){o.updating=!1,o.activeElement=null,r!=h&&("mouse"!=m&&"keyboard"!=m||o._refreshTools())}),o._addCommandHandler(T,"change",a.command,null,a);break;case"colorPicker":a.widget&&(e(a.colorPicker).remove(),a.widget.jqxDropDownButton("destroy"));var f=e('<div unselectable="on" style="padding-top: 4px;"></div>').attr("id","picker-"+a.command),p="jqx-disableselect "+o.toThemeProperty("jqx-editor-dropdownpicker")+" "+o.toThemeProperty("jqx-editor-toolbar-item");(T=e("<div unselectable='on' class='"+p+"'></div>")).appendTo(t),T.append(f),T.jqxDropDownButton({touchMode:o.touchMode,disabled:o.disabled,enableBrowserBoundsDetection:!0,width:a.width||45,height:a.height||25,rtl:o.rtl,focusable:!1,theme:o.theme});var b=e('<div unselectable="on" style="z-index: 55;">'),v=o.toThemeProperty("jqx-editor-toolbar-icon")+" "+o.toThemeProperty("jqx-editor-toolbar-icon-"+a.command),x=e("<div unselectable='on' class='"+v+"'></div>");b.append(x);var y=e('<div unselectable="on" class="jqx-editor-color-bar">').attr("id","bar-"+a.command).css("background-color",a.value);b.append(y),T.jqxDropDownButton("setContent",b),f.append(e(o.colorPickerTemplate)),a.colorPicker=f,a.init&&a.init(T),f.find("tr").attr("role","row").attr("unselectable","on"),f.find("td").attr("role","gridcell").attr("unselectable","on").css("-webkit-user-select","none"),f.find("div").attr("unselectable","on"),o.addHandler(T,"mousedown",function(t){if(e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),e(".jqx-editor-dropdownpicker").length>0){var o=e(".jqx-editor-dropdownpicker");e.each(o,function(t,o){o!=T[0]&&e(o).jqxDropDownButton("close")})}}),o.addHandler(T,"open",function(){o.focused||o.focus(),o.updating=!0,o.activeElement=f}),o.addHandler(T,"close",function(e){o.updating=!1,o.activeElement=null,r!=h&&("mouse"!=m&&"keyboard"!=m||o._refreshTools())}),o.addHandler(f,"keydown",function(t){var o=t.keyCode,i=e(f).find(".jqx-editor-color-picker-selected-cell"),n=f.find("tr"),r=n.length,l=i.parent().children().length,d=i.index(),s=-999,c=i.parent();switch(e.each(n,function(e,t){if(this==c[0])return s=e,!1}),o){case 27:T.jqxDropDownButton("close");break;case 13:e(i).trigger("mousedown");break;case 38:s--;break;case 40:s++;break;case 39:d++;break;case 37:d--}if(s>=0&&s<=r&&d>=0&&d<=l){var c=f.find("tr")[s],u=e(c).children()[d],g=e(u).children().css("background-color");a.val(g)}});var w=e(f).find("td");a.val=function(t){var i=o._rgbToHex(t);e.each(w,function(){var t=e(this).children().css("background-color");if(o._rgbToHex(t)==i)return w.removeClass("jqx-editor-color-picker-selected-cell"),e(this).addClass("jqx-editor-color-picker-selected-cell"),e("#bar-"+a.command).css("background",t),!1})},a.val(a.value),o._addCommandHandler(w,"mousedown",a.command,null,a);break;case"button":case"toggleButton":default:a.widget&&("button"==a.type?a.widget.jqxButton("destroy"):a.widget.jqxToggleButton("destroy"));var k=a.command,_=a.action,v=o.toThemeProperty("jqx-editor-toolbar-icon")+" "+o.toThemeProperty("jqx-editor-toolbar-icon-"+k),x=e("<div unselectable='on' class='"+v+"'></div>"),T=e("<div unselectable='on'></div>").addClass("jqx-disableselect").addClass(o.toThemeProperty("jqx-editor-toolbar-button"));a.init?k&&T.append(x):T.append(x),T.appendTo(t),"button"==a.type?T.jqxButton({disabled:o.disabled,rtl:o.rtl,theme:o.theme}):"toggleButton"==a.type&&T.jqxToggleButton({disabled:o.disabled,rtl:o.rtl,uiToggle:!1,theme:o.theme}),a.init&&a.init(T),a.toggled=!1,a.toggle=function(){a.toggled=!a.toggled},o.addHandler(T,"mousedown",function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),e.jqx.mobile.isTouchDevice()?o._addCommandHandler(T,"mousedown",k,_,a):o._addCommandHandler(T,"click",k,_,a)}if(a.widget=T,T){try{""!=a.tooltip&&(a.widget.attr("title",a.tooltip),a.widget.attr("data-tooltip",a.tooltip)),a.command&&a.widget.attr("data-command",a.command),a.widget.attr("aria-label",a.tooltip)}catch(e){}"button"!=a.type&&"toggleButton"!=a.type||(i.length>2&&(0==n?(T.css("border-right-radius","0px"),T.addClass(o.toThemeProperty("jqx-rc-l"))):n==i.length-1&&(T.css("border-left-radius","0px"),T.addClass(o.toThemeProperty("jqx-rc-r"))),T.removeClass(o.toThemeProperty("jqx-rc-all"))),0!=n&&n!=i.length-1&&i.length>2?(T.css("border-left-radius","0px"),T.css("border-right-radius","0px"),T.removeClass(o.toThemeProperty("jqx-rc-all"))):2==i.length?(0==n?(T.css("border-right-radius","0px"),T.addClass(o.toThemeProperty("jqx-rc-l"))):(T.css("border-left-radius","0px"),T.addClass(o.toThemeProperty("jqx-rc-r"))),T.removeClass(o.toThemeProperty("jqx-rc-all"))):1==i.length&&T.css("margin-right","0px"))}})};if(o.toolbar.css("direction",this.rtl?"rtl":"ltr"),0==a.length)l(o.toolbar,r);else{for(g=0;g<a.length;g++){var r=a[g].split(" "),d=o.toThemeProperty("jqx-editor-toolbar-group")+" "+o.toThemeProperty("jqx-fill-state-normal"),s=e("<div class='"+d+"'></div>");s.addClass(o.toThemeProperty("jqx-rc-all")),o.toolbar.append(s),l(s,r)}for(var c=o.toolbar.find(".jqx-editor-toolbar-group"),u=c.length,g=0;g<u;g++)0==e(c[g]).children().length&&e(c[g]).remove()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(".jqx-editor-toolbar-group").css("float","left"),e(".jqx-editor-toolbar-group").children().css("float","left"),e(".jqx-editor-toolbar-group").css("zoom","1"),e(".jqx-editor-toolbar-group").children().css("zoom","1"))}o._arrange(),o._addHandlers()},_arrange:function(){var t=this;t.content&&(""==t.tools||0==t.tools?(t.content.height(t.container.outerHeight()-parseInt(t.container.css("padding-top"))-parseInt(t.container.css("padding-bottom"))-6),t.content.css("margin-top","4px"),t.toolbar.hide()):(t.toolbar.show(),t.content.css("margin-top","0px"),t.content.height(t.container.outerHeight()-t.toolbar.outerHeight()-parseInt(t.container.css("padding-top"))-parseInt(t.container.css("padding-bottom"))-2),"top"!=t.toolbarPosition&&(t.content.css("margin-top","4px"),t.content.css("margin-bottom","0px"))),e.jqx.browser.msie&&e.jqx.browser.version<8&&(t.content.css("margin-top","4px"),t.content.height(t.container.height()-t.toolbar.outerHeight()-2*parseInt(t.container.css("padding-bottom"))-10),t.content.width(t.container.width()-2*parseInt(t.container.css("padding-left"))-2)),t.editor.height()<t.content.height()&&t.editor.height(t.content.height()))},propertyChangedHandler:function(t,o,i,n){var r=t;void 0!=r.isInitialized&&0!=r.isInitialized&&"pasteMode"!=o&&"lineBreak"!=o&&"editable"!=o&&("disabled"==o&&t._refreshTools(),"width"!=o&&"height"!=o&&"toolbarPosition"!=o?("theme"==o&&e.jqx.utilities.setTheme(i,n,t.host),t.refresh()):t._arrange())},selectRange:function(e){var t=this;e||(e=t.getRange()),t.selection.selectRange(e)},getRange:function(){return this.selection.getRange()},getSelectedElement:function(){var e,t,o,i,n=this;try{if(n.editorDocument.getSelection){var r=n.editorDocument.getSelection();return e=r.getRangeAt(r.rangeCount-1),o=e.startContainer,i=e.endContainer,t=e.commonAncestorContainer,"#text"==o.nodeName&&(t=t.parentNode),"#text"==o.nodeName&&(o=o.parentNode),"body"==o.nodeName.toLowerCase()&&(o=o.firstChild),"#text"==i.nodeName&&(i=i.parentNode),"body"==i.nodeName.toLowerCase()&&(i=i.lastChild),o==i&&(t=o),i}if(n.editorDocument.selection){if(!(e=n.editorDocument.selection.createRange()).duplicate)return null;t=e.parentElement();var a=e.duplicate(),l=e.duplicate();return a.collapse(!0),l.moveToElementText(a.parentElement()),l.setEndPoint("EndToStart",a),o=a.parentElement(),a=e.duplicate(),(l=e.duplicate()).collapse(!1),a.moveToElementText(l.parentElement()),a.setEndPoint("StartToEnd",l),i=l.parentElement(),"body"==o.nodeName.toLowerCase()&&(o=o.firstChild),"body"==i.nodeName.toLowerCase()&&(i=i.lastChild),o==i&&(t=o),i}}catch(e){return null}return null},_addHandlers:function(){var t=this;t.addHandler(t.toolbar,"mousedown.editor"+t.element.id,function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1});var o=function(){if(t._textArea&&(t.updating||(t._textArea.value=t.val())),t.changed&&(t._raiseEvent("change"),t.changed=!1),t.focused=!1,t.inline){if(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-editor-inline-focus")),""==t.tools||null==t.tools)return;t.toolbarContainer.fadeOut("fast")}},i=function(){if(t.focused=!0,t.inline){if(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(t.toThemeProperty("jqx-editor-inline-focus")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),""==t.tools||null==t.tools)return;t.toolbarContainer.fadeIn("fast");var e=t.host.coord();"bottom"!=t.toolbarPosition?t.toolbarContainer.offset({left:e.left,top:e.top-t.toolbarContainer.outerHeight()-5}):t.toolbarContainer.offset({left:e.left,top:e.top+5+t.host.height()})}};e.jqx.browser.mozilla&&this.addHandler(e(document),"mousedown.editor"+t.element.id,function(e){o()}),t.addHandler(t.editor,"blur.editor"+t.element.id,function(e){o()}),t.addHandler(t.editor,"focus.editor"+t.element.id,function(e){i()}),t.addHandler(t.editor,"beforedeactivate.editor"+t.element.id,function(e){t.range=t.getRange()}),t.addHandler(t.editor,"mousedown.editor"+t.element.id,function(o){o.target.href||t.linkPopup&&t.linkPopup.remove(),t.range=t.getRange(),e.jqx.browser.mozilla&&(i(),o.stopPropagation()),e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),t.inline&&t.editor.focus()}),e.jqx.mobile.isTouchDevice()&&(t.addHandler(e(t.editorDocument),"selectionchange.editor"+t.element.id,function(){t.editorDocument.activeElement!=t.editor[0]&&setTimeout(function(){t.iframe&&t.iframe[0].contentWindow.focus()},500)}),t.addHandler(e(t.editorDocument),"touchstart.editor"+t.element.id,function(){setTimeout(function(){t.iframe&&t.iframe[0].contentWindow.focus()},500)})),t.addHandler(t.editor,"mouseup.editor"+t.element.id,function(e){if("source"==t._documentMode)return!0;t.range=t.getRange(),t._refreshTools(null,!0)}),t.addHandler(t.editor,"keydown.editor"+t.element.id,function(o){if(t.keyPressed&&t.keyPressed(o),"source"==t._documentMode)return!0;if(e.jqx.browser.mozilla&&(t.focused||i()),t.changeType="keyboard",t.disabled)return o.preventDefault&&o.preventDefault(),!1;if(t.updating){if(t.activeElement){var n=e.Event("keydown");e.extend(n,o),t.activeElement.trigger(n)}return o.preventDefault&&o.preventDefault(),!1}var r=o||window.event,a=r.keyCode,l=String.fromCharCode(a).toLowerCase();if(!t.editable){d=[9,33,34,35,36,37,38,39,40,40,45];-1!=e.inArray(r.keyCode,d)||r.ctrlKey&&"c"==l||r.ctrlKey&&"a"==l||o.preventDefault()}if(t.selection.getText().length>0||t.linkPopup){var d=[8,9,13,33,34,35,36,37,38,39,40,40,45,46];(-1!=!e.inArray(r.keyCode,d)||65==r.keyCode&&r.ctrlKey&&!r.altKey&&!r.shiftKey)&&(t._refreshToolsTimer&&clearTimeout(t._refreshToolsTimer),t._refreshToolsTimer=setTimeout(function(){t._refreshTools(null,!0,r.keyCode)},10))}if(13==a&&"default"!=t.lineBreak){var s=t.getSelectedElement();if(s){switch(s.nodeName.toLowerCase()){case"pre":case"li":case"ul":case"ol":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return!0}for(var c=s;null!=c;){if("#document"==c.nodeName){c=t.editorDocument.body;break}if(c.parentNode==t.editorDocument.body||c==t.editorDocument.body)break;c=c.parentNode}}if(c){var u=t.getRange();"<div></div>"==t.editorDocument.body.innerHTML&&"br"!=t.lineBreak&&t.selection.insertContent("&#8203;"),"div"==t.lineBreak?c==t.editorDocument.body?e(c).append("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>"):e("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(c):"p"==t.lineBreak?c==t.editorDocument.body?e(c).append("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>"):e("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(c):t.execute("insertHTML","<br/>&#8203;<span id='INSERTION_MARKER'>&nbsp;</span>"),t.selectRange(u);var g=e(t.editorDocument).find("#INSERTION_MARKER");return"br"!=t.lineBreak?t.selection.selectNode(e(g).prev()[0],!0):(t.selection.selectNode(g[0],!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(g[0])),g.remove(),t.selection.collapse(!1),c&&c.nodeName&&"br"==t.lineBreak&&"#text"!=c.nodeName.toLowerCase()&&(t.selection.selectNode(c,!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(c),t.selection.collapse(!1)),"br"!=t.lineBreak&&(u=t.getRange()).select&&u.select(),o.preventDefault&&o.preventDefault(),!1}}if(r.ctrlKey&&("k"==l||"u"==l||"b"==l||"i"==l)){o.preventDefault&&o.preventDefault();var p=null;switch(l){case"k":p="link";break;case"u":p="underline";break;case"b":p="bold";break;case"i":p="italic"}return t.commands[p].widget&&t.commands[p].widget.trigger("click"),!1}}),t.addHandler(t.editor,"paste.editor"+t.element.id,function(o){if("source"==t._documentMode)return!0;if(t.readOnly)return!0;t.updating=!0,t.readOnly=!0;try{var i=function(e,o){return o?e=t.paragraphise?(e=(e="<p>"+e+"</p>").replace(/\n/g,"</p><p>")).replace(/<p>\s<\/p>/gi,""):e.replace(/\n/g,"<br />"):((e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<html[^>]*?>(.*)/gim,"$1")).replace(/<\/html>/gi,"")).replace(/<body[^>]*?>(.*)/gi,"$1")).replace(/<\/body>/gi,"")).replace(/<style[^>]*?>[\s\S]*?<\/style[^>]*>/gi,"")).replace(/<(?:meta|link)[^>]*>\s*/gi,"")).replace(/<\\?\?xml[^>]*>/gi,"")).replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,"")).replace(/<o:p>\s*<\/o:p>/g,"")).replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;")).replace(/<\/?\w+:[^>]*>/gi,"")).replace(/<\!--[\s\S]*?-->/g,"")).replace(/<\!\[[\s\S]*?\]>/g,"")).replace(/\s*mso-[^:]+:[^;"']+;?/gi,"")).replace(/<(\w[^>]*) style='([^\']*)'([^>]*)/gim,"<$1$3")).replace(/<(\w[^>]*) style="([^\"]*)"([^>]*)/gim,"<$1$3")).replace(/\s*margin: 0cm 0cm 0pt\s*;/gi,"")).replace(/\s*margin: 0cm 0cm 0pt\s*"/gi,'"')).replace(/\s*text-indent: 0cm\s*;/gi,"")).replace(/\s*text-indent: 0cm\s*"/gi,'"')).replace(/\s*text-align: [^\s;]+;?"/gi,'"')).replace(/\s*page-break-before: [^\s;]+;?"/gi,'"')).replace(/\s*font-variant: [^\s;]+;?"/gi,'"')).replace(/\s*tab-stops:[^;"']*;?/gi,"")).replace(/\s*tab-stops:[^"']*/gi,"")).replace(/\s*face="[^"']*"/gi,"")).replace(/\s*face=[^ >]*/gi,"")).replace(/\s*font-family:[^;"']*;?/gi,"")).replace(/\s*font-size:[^;"']*;?/gi,"")).replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w+)[^>]*\sstyle="[^"']*display\s?:\s?none[\s \S]*?<\/\1>/gi,"")).replace(/\s*style='\s*'/gi,"")).replace(/\s*style="\s*"/gi,"")).replace(/<span\s*[^>]*>\s*&nbsp;\s*<\/span>/gi,"&nbsp;")).replace(/<span\s*[^>]*><\/span>/gi,"")).replace(/<(\w[^>]*) align=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<span([^>]*)>([\s\S]*?)<\/span>/gi,"$2")).replace(/<font\s*>([\s\S]*?)<\/font>/gi,"$1")).replace(/<(u|i|strike)>&nbsp;<\/\1>/gi,"&nbsp;")).replace(/<h\d>\s*<\/h\d>/gi,"")).replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) onmouseover="([^\"']*)"([^>]*)/gi,"<$1$3")).replace(/<(\w[^>]*) onmouseout="([^\"']*)"([^>]*)/gi,"<$1$3")).replace(/<h(\d)([^>]*)>/gi,"<h$1>")).replace(/<(h\d)><font[^>]*>([\s\S]*?)<\/font><\/\1>/gi,"<$1>$2</$1>")).replace(/<(h\d)><em>([\s\S]*?)<\/em><\/\1>/gi,"<$1>$2</$1>")).replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>")).replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,"<em>$1</em>")).replace(/<\s+[^>]*>/gi,"")).replace(/<span>([\s\S]*?)<\/span>/gi,"$1")).replace(/<span>([\s\S]*?)<\/span>/gi,"$1")).replace(/<div>([\s\S]*?)<\/div>/gi,"$1")).replace(/<div>([\s\S]*?)<\/div>/gi,"$1")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).trim&&(e=e.trim()),t.paragraphise?"<p"!==e.substr(0,2)&&(e=(e=(e="<p>"+e+"</p>").replace(/\n/g,"</p><p>")).replace(/<br[^>]*>/gi,"</p><p>")):(e.replace(/<p>/gi,"<br />"),e.replace(/<\/p>/gi,"")),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<br>/gi,"<br />")).replace(/<br[^>]*><\/p>/gim,"</p>")).replace(/<p>&nbsp;<\/p>/gi,"")).replace(/<p>\s<\/p>/gi,"")).replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"")).replace(/MsoNormal/gi,"")).replace(/<\/?meta[^>]*>/gi,"")).replace(/<\/?xml[^>]*>/gi,"")).replace(/<\?xml[^>]*\/>/gi,"")).replace(/<!--(.*)-->/gi,"")).replace(/<!--(.*)>/gi,"")).replace(/<!(.*)-->/gi,"")).replace(/<w:[^>]*>(.*)<\/w:[^>]*>/gi,"")).replace(/<w:[^>]*\/>/gi,"")).replace(/<\/?w:[^>]*>/gi,"")).replace(/<m:[^>]*\/>/gi,"")).replace(/<m:[^>]>(.*)<\/m:[^>]*>/gi,"")).replace(/<o:[^>]*>(.*)<\/o:[^>]*>/gi,"")).replace(/<o:[^>]*\/>/gi,"")).replace(/<\/?m:[^>]*>/gi,"")).replace(/style=\"([^>]*)\"/gi,"")).replace(/style=\'([^>]*)\'/gi,"")).replace(/class=\"(.*)\"/gi,"")).replace(/class=\'(.*)\'/gi,"")).replace(/<b>/gi,"<strong>")).replace(/<\/b>/gi,"</strong>")).replace(/<p[^>]*>/gi,"<p>")).replace(/<\/p[^>]*>/gi,"</p>")).replace(/<span[^>]*>/gi,"")).replace(/<\/span[^>]*>/gi,"")).replace(/<st1:[^>]*>/gi,"")).replace(/<\/st1:[^>]*>/gi,"")).replace(/<font[^>]*>/gi,"")).replace(/<\/font[^>]*>/gi,"")).replace("  ","")).replace(/<strong><\/strong>/gi,"")).replace(/<p><\/p>/gi,"")).replace(/\/\*(.*)\*\//gi,"")).replace(/<!--/gi,"")).replace(/-->/gi,"")).replace(/<style[^>]*>[^<]*<\/style[^>]*>/gi,"")).trim()),e},n=t.getRange();"text"!=t.pasteMode||e.jqx.browser.mozilla?t.selection.insertContent('<div class="jqx-editor-paste-element">&nbsp;</div>'):t.selection.insertContent('<textarea cols="50" contenteditable="false" class="jqx-editor-paste-element"></textarea>');var r=e(window).scrollTop(),a=e(t.editorDocument).find(".jqx-editor-paste-element");if(a.css("top",r+"px"),t.editor[0].createTextRange){o.preventDefault();var l=t.editor[0].createTextRange();l.moveToElementText(a[0]),l.execCommand("Paste")}else{var d=t.editorDocument.createRange();d.selectNodeContents(a[0]),t.selectRange(d)}"text"!=t.pasteMode||e.jqx.browser.mozilla||a.select(),t.marker=a,setTimeout(function(){t.selectRange(n);var o=function(e){var o=t.editorDocument.createElement("div"),i=t.editorDocument.createDocumentFragment();for(o.innerHTML=e;o.firstChild;)i.appendChild(o.firstChild);return i};if("text"!=t.pasteMode){var r=o(t.marker.html());if(r.firstChild&&"jqx-editor-paste-element"===r.firstChild.className){for(var a=[],l=0,d=r.childNodes.length;l<d;l++)a.push(r.childNodes[l].innerHTML);r=o(a.join("<br />"))}var s=document.createElement("div");s.appendChild(r.cloneNode(!0));c=s.innerHTML}else{c=t.marker.val();if(""!=t.marker.html()&&-1==t.marker.val().indexOf("\n")){c=(c=(c=(c=(c=(c=t.marker.html()).replace(/&nbsp;/gm,"")).replace(/\n\n/gm,"\n")).replace(/<br[^>]*>/gi,"\n")).replace(/<li[^>]*>/gi,"\n")).replace(/<p[^>]*>/gi,"\n"),t.marker.html(c);var c=t.marker.text()}}var u=i(c,"text"==t.pasteMode);t.getRange();t.selection.insertContent(u+"<span id='INSERTION_MARKER'>&nbsp;</span>"),t.marker.remove();var g=e(t.editorDocument).find("#INSERTION_MARKER");t.selection.selectNode(g[0],!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(g[0]),g.remove(),t.selection.collapse(!1),g.removeAttr("id"),t._refreshTools(),t.changed=!0},100),t.updating=!1,t.readOnly=!1}catch(e){console&&console.log(e)}}),t.addHandler(t.editor,"keyup.editor"+t.element.id,function(o){if("source"==t._documentMode)return!0;if(t.updating||t.disabled||!t.editable)return o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation(),!1;t.range=t.getRange(),t.changed=!0;var i=o||window.event,n=(i.keyCode,[8,9,13,33,34,35,36,37,38,39,40,40,45,46]);(-1!=e.inArray(i.keyCode,n)||65==i.keyCode&&i.ctrlKey&&!i.altKey&&!i.shiftKey)&&t._refreshTools(null,!0,i.keyCode)}),t.addHandler(t.editor,"click.editor"+t.element.id,function(o){if("source"==t._documentMode)return!0;if(t.editImage&&(e(t.editImage).removeClass("jqx-editor-focus"),t.editImage=null),"img"==o.target.tagName.toLowerCase()){var i=o.target;t.editImage=i,e(t.editImage).addClass("jqx-editor-focus")}}),t.addHandler(t.editor,"dblclick.editor"+t.element.id,function(o){if("source"==t._documentMode)return!0;if("img"==o.target.tagName.toLowerCase()){var i=o.target;e("#imageWindow"+this.element.id).length>0&&(t.editImage=i,t._updateImageWindow())}})},_updateLinkWindow:function(){var t=this,o=e("#linkWindow"+this.element.id);o.jqxWindow({position:{center:t.widget}}),o.jqxWindow("open");var i=o.find("input"),n=o.find(".jqx-editor-link-checkbox"),r=o.find("button:first"),a=e(o.find("button")[1]);if(t.editLink&&t.editLink.href)i[0].value=t.editLink.href||"",i[1].value=e(t.editLink).text()||t.editLink.href,n.val("_blank"==e(t.editLink).attr("target")),a.show();else{if(i[0].value="",i[1].value="",!t.selection.isCollapsed()){var l=t.selection.getText();l.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?i[0].value=l:i[1].value=l}n.val(!1),a.hide()}i[0].value.length>0?r.jqxButton({disabled:!1}):r.jqxButton({disabled:!0})},_updateImageWindow:function(){var t=this,o=t.editImage;o||(o=e("<img>")[0]);var i=e("#imageWindow"+this.element.id);i.jqxWindow({position:{center:t.widget}}),i.jqxWindow("open");var n=i.find("input"),r=e(i.find("button")[1]);t.editImage?r.show():r.hide(),n[0].value=o.src,""==n[0].value&&(n[0].value=""),n[1].value=o.alt,"auto"!=o.style.width?n[2].value=o.style.width:n[2].value="","auto"!=o.style.height?n[3].value=o.style.height:n[3].value="",o.style.marginLeft&&"0px"!=o.style.marginLeft?n[4].value=o.style.marginLeft:n[4].value="",o.style.marginTop&&"0px"!=o.style.marginTop?n[5].value=o.style.marginTop:n[5].value="";var a=i.find(".jqx-editor-align"),l=e(o).css("float");"left"==l?a.jqxDropDownList({selectedIndex:1}):"right"==l?a.jqxDropDownList({selectedIndex:2}):a.jqxDropDownList({selectedIndex:0})},_removeHandlers:function(){var e=this;e.editor&&(e.removeHandler(e.editor,"blur.editor"+e.element.id),e.removeHandler(e.editor,"focus.editor"+e.element.id),e.removeHandler(e.editor,"click.editor"+e.element.id),e.removeHandler(e.editor,"mousedown.editor"+e.element.id),e.removeHandler(e.editor,"mouseup.editor"+e.element.id),e.removeHandler(e.editor,"keyup.editor"+e.element.id),e.removeHandler(e.editor,"keydown.editor"+e.element.id),e.removeHandler(e.editor,"beforedeactivate.editor"+e.element.id),e.removeHandler(e.editor,"dblclick.editor"+e.element.id)),e.toolbar&&e.removeHandler(e.toolbar,"mousedown.editor"+e.element.id)},getParentByTag:function(e,t){var t=t.toLowerCase(),o=e;do{if(""==t||o.nodeName.toLowerCase()==t)return o}while(o=o.parentNode);return e},isStyleProperty:function(e,t,o,i){var t=t.toLowerCase(),n=e;do{if(n.nodeName.toLowerCase()==t&&n.style[o]==i)return!0}while(n=n.parentNode);return!1},setStyleProperty:function(e,t){this.style[t]=!1;var o=this.getParentByTag(e,t);o&&o.tagName.toLowerCase()==t&&(this.style[t]=!0),"del"==t&&this.getParentByTag(e,"strike")&&"strike"==this.getParentByTag(e,"strike").tagName.toLowerCase()&&(this.style.del=!0)},updateStyle:function(e){var t=this;if((e=t.getSelectedElement()?t.getSelectedElement():e)&&t.setStyleProperty)try{if(window.getComputedStyle){"#text"==e.nodeName.toLowerCase()&&(e=t.editor[0]);var o=401==(i=window.getComputedStyle(e,null)).getPropertyValue("font-weight")?700:i.getPropertyValue("font-weight");t.style={fontStyle:i.getPropertyValue("font-style"),fontSize:i.getPropertyValue("font-size"),textDecoration:i.getPropertyValue("text-decoration"),fontWeight:o,fontFamily:i.getPropertyValue("font-family"),textAlign:i.getPropertyValue("text-align"),color:t._rgbToHex(i.color),backColor:t._rgbToHex(i.backgroundColor)},t.style.fontStyle=i.getPropertyValue("font-style"),t.style.vAlign=i.getPropertyValue("vertical-align"),t.style.del=t.isStyleProperty(e,"span","textDecoration","line-through"),t.style.u=t.isStyleProperty(e,"span","textDecoration","underline");t.style.backColor||(t.style.backColor=t._rgbToHex(function(e){for(;e&&("transparent"==window.getComputedStyle(e).backgroundColor||"rgba(0, 0, 0, 0)"==window.getComputedStyle(e).backgroundColor);)e=e.parentNode;return e?window.getComputedStyle(e).backgroundColor:"transparent"}(e)))}else{var i=e.currentStyle;t.style={fontStyle:i.fontStyle,fontSize:i.fontSize,textDecoration:i.textDecoration,fontWeight:i.fontWeight,fontFamily:i.fontFamily,textAlign:i.textAlign,color:t._rgbToHex(i.color),backColor:t._rgbToHex(i.backgroundColor)}}t.setStyleProperty(e,"h1"),t.setStyleProperty(e,"h2"),t.setStyleProperty(e,"h3"),t.setStyleProperty(e,"h4"),t.setStyleProperty(e,"h5"),t.setStyleProperty(e,"h6"),t.setStyleProperty(e,"del"),t.setStyleProperty(e,"sub"),t.setStyleProperty(e,"sup"),t.setStyleProperty(e,"u"),"a"==e.nodeName.toLowerCase()&&"underline"==t.style.textDecoration&&(t.style.u=!0),(t.style.h1||t.style.h2||t.style.h3||t.style.h4||t.style.h5||t.style.h6)&&(t.style.heading=!0)}catch(e){return null}},_refreshTools:function(t,o,i){var n=this;if(!n.updating&&(t=n.getSelectedElement()?n.getSelectedElement():t)&&n.setStyleProperty){n.updateStyle(t);var r=n.readOnly;if(n.readOnly=!0,!1!==n.tools){var a=n.tools.split(" "),l=n.tools.split(" | "),d=function(t){e.each(t,function(e,t){var o=n.commands[this];if(!o)return!0;switch(o.type){case"list":o.widget.jqxDropDownList("clearSelection"),o.widget.jqxDropDownList({disabled:n.disabled});break;case"colorPicker":o.val(o.value),o.widget.jqxDropDownButton({disabled:n.disabled});break;case"toggleButton":o.widget.jqxToggleButton("unCheck"),o.widget.jqxToggleButton({disabled:n.disabled});break;case"button":default:o.widget.jqxButton({disabled:n.disabled})}})};if(0==l.length)d(a);else for(c=0;c<l.length;c++)d(a=(u=l[c]).split(" "));if(n.style){var s=function(i){e.each(i,function(i,r){var a=n.commands[this];if(!a)return!0;if(a.refresh)return a.refresh(a.widget,n.style),!0;switch(a.type){case"list":if("fontname"==a.command){for(var l=-1,d=999,s=0;s<a.value.length;s++){var r=a.value[s].label.toLowerCase(),c=n.style.fontFamily.toLowerCase().indexOf(r);c>=0&&(c<d&&(l=s),d=Math.min(d,c))}a.widget.jqxDropDownList("selectIndex",l)}else if("formatblock"==a.command){r=null;n.style.h1?r="h1":n.style.h2?r="h2":n.style.h3?r="h3":n.style.h4?r="h4":n.style.h5?r="h5":n.style.h6&&(r="h6"),a.widget.jqxDropDownList("selectItem",r)}else if("fontsize"==a.command){var u="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),g=-1;try{-1==(g=t.getAttribute("size")-1)&&(g=n.editorDocument.queryCommandValue(a.command)-1)}catch(e){}var p=u[g];a.widget.val(p)}break;case"colorPicker":var h=function(e){return"number"!=typeof e?e:"rgb("+(255&e)+", "+((65280&e)>>8)+", "+((16711680&e)>>16)+")"}(n.editorDocument.queryCommandValue(a.command));"backcolor"==a.command&&null==n.style.backColor&&(h="#FFFFFF");var m=n._rgbToHex(h);m?a.val(m):"forecolor"==a.command?a.val(n.style.color):"backcolor"==a.command&&a.val(n.style.backColor);break;case"toggleButton":if("viewsource"==a.command)return;if(!a.command)return;var f=!1,b=n.editorDocument.queryCommandState(a.command)&&n.editorDocument.queryCommandEnabled(a.command);if("createlink"==a.command&&"a"==t.nodeName.toLowerCase()){var v=!0;if(-1==e(t).text().indexOf(n.selection.getText())&&""!=n.selection.getText()&&(v=!1),v){n.linkPopup&&n.linkPopup.remove(),b=!0,n.linkPopup=e("<div class='jqx-editor-link-popup' contentEditable='false' style='overflow: hidden; white-space: nowrap; padding: 5px; height: 17px; font-size: 12px; color: #222222; background: #F5F5F5; position: absolute; z-index: 9999;'>"+n.localization["Go to link"]+": <a target='_blank' style='color:#222222;' href='"+t.href+"'>"+t.href+"</a> - <a style='color:#222222;' href='#change'>"+n.localization.Change+"</a> - <a style='color:#222222;' href='#remove'>"+n.localization.Remove+"</a></div>").appendTo(n.editor);var x=e(t).coord(),y=x.left;x.left+n.linkPopup.width()>n.editor.width()&&(y=n.editor.width()-n.linkPopup.width()-15),n.linkPopup.offset({top:e(t).height()+x.top+5,left:y}),n.addHandler(n.linkPopup,"mousedown",function(o){if(o.target&&o.target.href)switch(e(o.target).index()){case 1:n.editor.focus(),n.selection.selectNode(t,!0),n.commands.link.widget.trigger("click");break;case 2:try{n.editor.focus(),n.selection.selectNode(t),n.execute("unlink"),n.commands.underline.toggled=!1,n.selection.collapse(!1),n._refreshTools()}catch(e){}break;default:window.open(o.target.href,"_blank")}return o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation(),!1})}}"bold"==a.command?(n.style.fontWeight&&(n.style.fontWeight>=600||"bold"==n.style.fontWeight)&&(f=!0),n.selection.isCollapsed()?a.toggled=b:a.toggled=b||f,b=a.toggled):"italic"==a.command?(n.style.fontStyle&&"italic"==n.style.fontStyle&&(f=!0),o?a.toggled=b:b=a.toggled):"underline"==a.command?(n.style.u&&(f=!0),o?a.toggled=b:b=a.toggled):"justifyleft"==a.command?"left"==n.style.textAlign&&(f=!0):"justifyright"==a.command?"right"==n.style.textAlign&&(f=!0):"justifycenter"==a.command?"center"==n.style.textAlign&&(f=!0):"justifyfull"==a.command?"justify"==n.style.textAlign&&(f=!0):e.each(n.style,function(e,t){a.command==e.toLowerCase()&&(f=!0)});var w=b;f&&-1!=a.command.indexOf("justify")?a.widget.jqxToggleButton("check"):w?a.widget.jqxToggleButton("check"):f&&!1===n.range.collapsed?a.widget.jqxToggleButton("check"):e.jqx.browser.msie&&e.jqx.browser.version<9&&f&&!n.selection.isCollapsed()&&a.widget.jqxToggleButton("check");break;case"button":default:a.refresh&&a.refresh(a.widget,n.style)}})};if(0==l.length)s(a);else for(var c=0;c<l.length;c++){var u=l[c];s(a=u.split(" "))}}}n.readOnly=r}},_rgbToHex:function(e){if(e){if("#"===e.substr(0,1))return 4==e.length?"#"+(o=e.substr(1,1))+o+(i=e.substr(2,1))+i+(n=e.substr(3,1))+n:e;var t=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(e);if(!t)return null;var o=parseInt(t[2],10).toString(16),i=parseInt(t[3],10).toString(16),n=parseInt(t[4],10).toString(16);return"#"+((1==o.length?"0"+o:o)+(1==i.length?"0"+i:i)+(1==n.length?"0"+n:n))}return null},_preventDefault:function(t,o){!1!==o&&(e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close")),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1},_addCommandHandler:function(t,o,i,n,r){var a=this;switch(!i&&r.init&&(i="custom"),i){case"custom":switch(r.type){case"list":action=function(t){"source"!=a._documentMode&&"none"!=t.args.type&&(r.value=e(this).val(),a.execute("custom",r),a.readOnly||a._refreshTools()),a._preventDefault(t,!1)};break;case"colorPicker":action=function(t){if("source"!=a._documentMode){e(r.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==t.target.nodeName.toLowerCase()){o=e(t.target).css("background-color");e(t.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var o=e(t.target).find("div").css("background-color");e(t.target).addClass("jqx-editor-color-picker-selected-cell")}e("#bar-"+i).css("background",o),r.widget.val=function(){var e=function(e){return"number"!=typeof e?e:"rgb("+(255&e)+", "+((65280&e)>>8)+", "+((16711680&e)>>16)+")"}(o);return a._rgbToHex(e)},r.widget.jqxDropDownButton("close"),a.execute("custom",r)}return a._preventDefault(t),!1};break;case"button":case"toggleButton":default:action=function(t){e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),a._preventDefault(t);e(this).attr("data-command");return"source"!=a._documentMode&&(r.toggle&&r.toggle(),a.execute("custom",r),a._refreshTools()),!1}}break;case"formatblock":action=function(t){"source"!=a._documentMode&&"none"!=t.args.type&&(a.execute(e(this).attr("data-command"),"<"+e(this).val()+">",r),a.readOnly||(a.commands.bold.toggled=!1,a._refreshTools())),a._preventDefault(t,!1)};break;case"fontsize":action=function(t){if("source"!=a._documentMode&&"none"!=t.args.type){var o=e(this).val(),i="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),n=e(this).jqxDropDownList("getSelectedIndex")+1,n=1+i.indexOf(o);a.execute(e(this).attr("data-command"),n,r)}a._preventDefault(t,!1)};break;case"fontname":action=function(t){if("source"!=a._documentMode&&"none"!=t.args.type){var o=e(this).val();a.execute(e(this).attr("data-command"),o,r)}a._preventDefault(t,!1)};break;case"forecolor":case"backcolor":action=function(t){if("source"!=a._documentMode){e(r.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==t.target.nodeName.toLowerCase()){o=e(t.target).css("background-color");e(t.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var o=e(t.target).find("div").css("background-color");e(t.target).addClass("jqx-editor-color-picker-selected-cell")}e("#bar-"+i).css("background",o),r.widget.jqxDropDownButton("close"),a.execute(i,o,r)}return a._preventDefault(t),!1};break;case"viewsource":action=function(t){return a.linkPopup&&a.linkPopup.remove(),r.toggle(),a.setMode(r.toggled),e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),a._preventDefault(t),!1};break;case"insertimage":action=function(e){a._insertImageAction(e,a,r)};break;case"createlink":action=function(e){a._createLinkAction(e,a,r)};break;default:action=function(t){e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),a._preventDefault(t);var o=e(this).attr("data-command");if("source"!=a._documentMode){if("underline"==o&&a.getSelectedElement()){var i=a.getSelectedElement();if(i&&"a"==i.nodeName.toLowerCase())return r.toggled?e(i).css("text-decoration","none"):e(i).css("text-decoration","underline"),r.toggle(),a._refreshTools(),!1}r.toggle&&r.toggle(),a.execute(o,e(this).val(),r),a._refreshTools()}return!1}}return a.addHandler(t,o,action),!1},_createLinkAction:function(t,o,i){if("source"!=(o=this)._documentMode){o.focused||o.editor.focus(),o.range=o.getRange();var n=o.getSelectedElement();if("a"==n.nodeName.toLowerCase()?o.editLink=n:o.editLink=null,e("#linkWindow"+this.element.id).length>0)return o.editLink&&o.selection.selectNode(n,!0),o._updateLinkWindow(),o._preventDefault(t),!1;var r=e("<div class='jqx-editor-window jqx-editor-link-window'><div>"+o.localization["Insert Link"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+o.localization.URL+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+o.localization.Title+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'></td><td><div class='jqx-editor-link-checkbox'>"+o.localization["Open in a new window/tab"]+"</div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");r[0].id="linkWindow"+this.element.id;var a=r.find("input");a.addClass(o.toThemeProperty("jqx-widget")),a.addClass(o.toThemeProperty("jqx-widget-content")),a.addClass(o.toThemeProperty("jqx-input"));var l=r.find(".jqx-editor-link-checkbox").jqxCheckBox({theme:o.theme,height:23,width:180}),d=r.find("button:first").jqxButton({theme:o.theme,disabled:!0}),s=e(r.find("button")[1]).jqxButton({theme:o.theme}),c=r.find("button:last").jqxButton({theme:o.theme});d.val(o.localization.Ok),c.val(o.localization.Cancel),s.val(o.localization.Remove),o.addHandler(c,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){o.editor.focus(),o.selectRange(o.range),o._refreshTools(),o._preventDefault(e)}),(!o.editLink||o.editLink&&!o.editLink.href)&&s.hide();var u=!1;if(o.addHandler(e(a[0]),"focus",function(){u=""==a[1].value||a[1].value==a[0].value}),o.addHandler(e(a[1]),"keyup",function(e){e.keyCode&&(13==e.keyCode&&d.trigger("click"),27==e.keyCode&&c.trigger("click"))}),o.addHandler(e(a[0]),"keyup change",function(e){a[0].value.length>0?d.jqxButton({disabled:!1}):d.jqxButton({disabled:!0}),u&&(a[1].value=a[0].value),e.keyCode&&(13==e.keyCode&&d.trigger("click"),27==e.keyCode&&c.trigger("click"))}),o.addHandler(s,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){r.jqxWindow("close");try{o.editor.focus(),o.selection.selectNode(o.editLink),o.execute("unlink"),o.selection.collapse(!1),o.commands.underline.toggled=!1,o._refreshTools()}catch(e){}o._preventDefault(e)}),o.addHandler(d,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){var n=r.find("input"),a=e("<a>"+(n[1].value||n[0].value)+"</a>");l.val()&&a.attr("target","_blank"),a[0].href=e.trim(n[0].value),-1==n[0].value.indexOf("http")&&-1==n[0].value.indexOf("mailto")&&(a[0].href="http://"+e.trim(n[0].value)),o.focused||o.editor.focus(),o.range&&o.selectRange(o.range),o.editLink&&e(o.editLink).remove(),o.execute("insertHTML",a[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",i),o.editor.focus();var d=e(o.editorDocument).find("#INSERTION_MARKER");o.selection.selectNode(d[0],!0),o.getRange().setStartAfter&&o.getRange().setStartAfter(d[0]),d.remove(),o.selection.collapse(!1),o._refreshTools(),o._preventDefault(t)}),o.updating=!0,r.appendTo(document.body),o.addHandler(r,"open",function(){o.updating=!0,setTimeout(function(){o.range=o.getRange(),e(a[0]).focus()},25)}),r.jqxWindow({resizable:!1,width:280,okButton:d,cancelButton:c,theme:o.theme,isModal:!0,position:{center:o.widget}}),o.addHandler(r,"close",function(){o.updating=!1}),o.focused||(o.editor.focus(),o.selectRange(o.range)),o.editLink)a[0].value=o.editLink.href||"",a[1].value=e(o.editLink).text(),l.val("_blank"==e(o.editLink).attr("target"));else if(!o.selection.isCollapsed()){var g=o.selection.getText();g.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?a[0].value=g:a[1].value=g}return a[0].value.length>0?d.jqxButton({disabled:!1}):d.jqxButton({disabled:!0}),o._preventDefault(t),!1}o._preventDefault(t)},_insertImageAction:function(t,o,i){if("source"!=o._documentMode){if(o.focused||o.editor.focus(),o.range=o.getRange(),e("#imageWindow"+this.element.id).length>0)return o._updateImageWindow(),o._preventDefault(t),!1;var n=e("<div class='jqx-editor-window jqx-editor-image-window'><div>"+o.localization["Insert Image"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+o.localization.URL+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+o.localization["Alt Text"]+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+o.localization.Width+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+o.localization.Height+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+o.localization.HSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-hspace'/></td><tr/><tr><td align='right'>"+o.localization.VSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-vspace'/></td><tr/><tr><td align='right'>"+o.localization.Align+":</td><td><div class='jqx-editor-align'></div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");n[0].id="imageWindow"+this.element.id;var r=n.find("input");r.addClass(o.toThemeProperty("jqx-widget")),r.addClass(o.toThemeProperty("jqx-widget-content")),r.addClass(o.toThemeProperty("jqx-input")),n.find(".jqx-editor-align").jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0,theme:o.theme,height:23,width:180,source:[o.localization["not set"],o.localization.Left,o.localization.Right]});var a=n.find("button:first").jqxButton({theme:o.theme}),l=n.find("button:last").jqxButton({theme:o.theme}),d=e(n.find("button")[1]).jqxButton({theme:o.theme});return a.val(o.localization.Ok),l.val(o.localization.Cancel),d.val(o.localization.Remove),d.hide(),o.addHandler(d,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(o.editImage).removeClass("jqx-editor-focus"),e(o.editImage).remove(),o.editImage=null,o._preventDefault(t),n.jqxWindow("close"),o._raiseEvent("change")}),o.addHandler(l,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(o.editImage).removeClass("jqx-editor-focus"),o.editImage=null,o._preventDefault(t)}),o.addHandler(a,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(o.editImage).removeClass("jqx-editor-focus");var r=n.find("input"),a=e(o.editImage?o.editImage:'<img style="border: 1px solid transparent;">').attr("src",r[0].value).attr("unselectable","on");r[1].value&&a.attr("alt",r[1].value).attr("title",r[1].value),r[2].value&&!isNaN(parseInt(r[2].value))?a.width(r[2].value):a.css("width","auto"),r[3].value&&!isNaN(parseInt(r[3].value))?a.height(r[3].value):a.css("height","auto"),r[4].value?"auto"==r[4].value.toString()?(a.css("margin-left","auto"),a.css("margin-right","auto")):-1!=r[4].value.toString().indexOf("%")?(a.css("margin-left",parseInt(r[4].value)+"%"),a.css("margin-right",parseInt(r[4].value)+"%")):(a.css("margin-left",parseInt(r[4].value)+"px"),a.css("margin-right",parseInt(r[4].value)+"px")):(a.css("margin-left","0px"),a.css("margin-right","0px")),r[5].value?"auto"==r[5].value.toString()?(a.css("margin-top","auto"),a.css("margin-bottom","auto")):-1!=r[5].value.toString().indexOf("%")?(a.css("margin-top",parseInt(r[5].value)+"%"),a.css("margin-bottom",parseInt(r[5].value)+"%")):(a.css("margin-top",parseInt(r[5].value)+"px"),a.css("margin-bottom",parseInt(r[5].value)+"px")):(a.css("margin-top","0px"),a.css("margin-bottom","0px"));var l=n.find(".jqx-editor-align").jqxDropDownList("selectedIndex");if(1==l?a.css("float","left"):2==l?a.css("float","right"):0==l&&a.css("float","none"),a.css("resize",!1),a[0].oncontrolselect=function(){return!1},a[0].selectstart=function(){return!1},!o.editImage){o.focused||o.editor.focus(),o.range&&o.selectRange(o.range),o.execute("insertHTML",a[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",i),o.editor.focus();var d=e(o.editorDocument).find("#INSERTION_MARKER");o.selection.selectNode(d[0],!0),o.getRange().setStartAfter&&o.getRange().setStartAfter(d[0]),d.remove(),o.selection.collapse(!1),o._refreshTools(),o._preventDefault(t)}o.editImage=null,o._preventDefault(t)}),n.appendTo(document.body),o.updating=!0,o.addHandler(n,"open",function(){o.updating=!0,setTimeout(function(){o.range=o.getRange(),e(r[0]).focus()},25)}),n.jqxWindow({resizable:!1,width:280,okButton:a,cancelButton:l,theme:o.theme,isModal:!0,position:{center:o.widget}}),o.addHandler(n,"close",function(){o.updating=!1}),o.focused||(o.editor.focus(),o.selectRange(o.range)),o._preventDefault(t),!1}o._preventDefault(t)},editmode:function(t){var o=this;if(t||o.readOnly){if(t&&o.readOnly){i=o.editor.find("#sourceText").text();o.editor.html(i),o.buttons.hasOwnProperty("html")&&o.buttons.html.removeClass("active"),o.editor.attr("contentEditable",!0),o._addHandlers()}}else{o._removeHandlers(),o.editor.attr("contentEditable",!1);var i=document.createTextNode(o.editor.html()),n=e("<pre>");n.html(i).attr({id:"sourceText",contentEditable:!0}).css("height","100%"),o.editor.html(n),o.buttons.hasOwnProperty("html")&&o.buttons.html.addClass("active"),n.focus()}o.readOnly=!t},setMode:function(t){var i=this;i.range||(i.editor.focus(),i.range=i.getRange());var n,r=i.editor[0];if(t){i._documentMode="source";var a=new o,l=a.HTMLtoXML(r.innerHTML);l=a.FormatHTML(l),n=document.createTextNode(l),r.innerHTML="";var d=document.createElement("pre");r.contentEditable=!1,d.style.height="100%",d.style.margin="0px",d.style.outline="none",d.style.display="block",d.id="sourceText",d.contentEditable=!0,d.appendChild(n),r.appendChild(d),this.readOnly=!0}else this._documentMode="html",document.all?r.innerHTML=r.innerText:r.textContent?r.innerHTML=r.textContent:((n=document.createRange()).selectNodeContents(r.firstChild),r.innerHTML=n.toString()),r.contentEditable=!0,i.readOnly=!1,i._refreshTools(),i.editor.focus(),i.selection.selectNode(i.editor[0]),i.editor.scrollTop(0),i.selection.collapse(!0);if(e.each(this.commands,function(){if(this.widget&&"viewsource"!=this.command)switch(this.type){case"list":this.widget.jqxDropDownList({disabled:t});break;case"colorPicker":this.widget.jqxDropDownButton({disabled:t});break;case"button":this.widget.jqxButton({disabled:t});break;case"toggleButton":this.widget.jqxToggleButton({toggled:!1,disabled:t})}}),i.editor.focus(),e.jqx.browser.mozilla){var s=e("<a href='#'>anchor</a>");i.editor.prepend(s),s.focus(),s.remove(),i.selection.collapse(!0)}i.commands.html.widget&&(i.commands.html.widget.jqxToggleButton({toggled:"source"==t||1==t}),i.commands.html.toggled="source"==t||1==t)},execute:function(t,o,i){var n=this;if(!n.readOnly){var r=n.editorDocument;if("source"==n._documentMode)return;n.changeType="mouse",n.linkPopup&&n.linkPopup.remove(),n.editor.focus(),e.jqx.browser.mozilla,e.jqx.mobile.isTouchDevice()&&setTimeout(function(){},25);var a=function(t){try{if(t.command&&"inserthtml"==t.command.toLowerCase()){var o=n.getRange(),i=t.value;-1==i.toString().indexOf("<")&&(i="<span>"+t.value+"</span>"),n.selection.insertContent(i+"<span id='INSERTION_MARKER'>&nbsp;</span>"),n.selectRange(o),setTimeout(function(){var t=e(n.editorDocument).find("#INSERTION_MARKER");n.selection.selectNode(e(t).prev()[0],!0),t.remove(),n.selection.collapse(!1)},10)}else if(t.command){if(!r.queryCommandEnabled(t.command))return!1;r.execCommand(t.command,!1,t.value)}else{if(!r.queryCommandEnabled(t))return!1;r.execCommand(t,!1,t)}}catch(e){}};if("custom"==t)(l=o.action(o.widget,n.editor))&&a(l);else try{if(i&&i.action){var l=i.action(i.widget,n.editor);a(l)}else if(r.queryCommandEnabled(t))r.execCommand(t,!1,o);else{if("insertHTML"!=t)return!1;n.selection.insertContent(o)}}catch(e){if("insertHTML"!=t)return!1;n.selection.insertContent(o)}e.jqx.mobile.isTouchDevice()&&setTimeout(function(){n.iframe&&n.iframe[0].contentWindow.focus()},500),n._raiseEvent("change",{command:t,args:o}),n.changed=!0,n.range=n.getRange()}},destroy:function(){var t=this;t._removeHandlers();var o=t.tools.split(" "),i=t.tools.split(" | ");e.jqx.utilities.resize(this.host,null,!0);var n=function(o){e.each(o,function(o,i){var n=t.commands[this];if(!n)return!0;switch(n.type){case"list":n.widget.jqxDropDownList("destroy");break;case"colorPicker":n.colorPicker.remove(),n.widget.jqxDropDownButton("destroy");break;case"toggleButton":n.widget.jqxToggleButton("destroy");break;case"custom":t.destroyTool&&t.destroyTool(this);break;case"button":default:n.widget.jqxToggleButton("destroy"),"insertimage"===n.command?e("#imageWindow"+t.element.id).length>0&&(e("#imageWindow"+t.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),e("#imageWindow"+t.element.id).find("button").jqxButton("destroy")):"createlink"===n.command&&e("#linkWindow"+t.element.id).length>0&&(e("#linkWindow"+t.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),e("#linkWindow"+t.element.id).find("button").jqxButton("destroy"),e("#linkWindow"+t.element.id).find(".jqx-editor-link-checkbox").jqxCheckBox("destroy"))}})};if(0==i.length)n(o);else for(var r=0;r<i.length;r++)n(o=i[r].split(" "));var a=e("#linkWindow"+this.element.id),l=e("#imageWindow"+this.element.id);a&&a.length>0&&a.jqxWindow("destroy"),l&&l.length>0&&l.jqxWindow("destroy"),t.inline?t.toolbar.remove():(t.widget.remove(),t.host.remove()),t.iframe.remove(),t.iframe=null,t.selection=null,t.editorDocument=null,t.contentEditableElement=null},val:function(e){if(void 0!==e&&"source"===e){var t=this.editor[0];"source"===this._documentMode&&(t=this.editor.find("pre:first")[0]);var i=new o,n=i.HTMLtoXML(t.innerHTML);return n=i.FormatHTML(n)}return void 0!=e&&"object"!=typeof e&&this.editor.html(e),"source"===this._documentMode?this.editor.find("pre:first").html():this.editor.html()},_raiseEvent:function(t,o){if(void 0==o&&(o={owner:null}),"source"==this._documentMode)return!0;var i=t;o.type=this.changeType,this.changeType=null,args=o,args.owner=this;var n=new e.Event(i);if(n.owner=this,n.args=args,this._textArea)r=e(this._textArea).trigger(n);else var r=this.host.trigger(n);return o=n.args,r}});var t=function(t){var o={initialize:function(e){this.document=e},getSelection:function(){return this.document.getSelection?this.document.getSelection():this.document.selection},getRange:function(){var e=this.getSelection();if(!e)return null;try{return e.rangeCount>0?e.getRangeAt(0):this.document.createRange?this.document.createRange():this.document.selection.createRange()}catch(e){return this.document.body.createTextRange()}},selectRange:function(e){if(e.select)e.select();else{var t=this.getSelection();t.addRange&&(t.removeAllRanges(),t.addRange(e))}},selectNode:function(e,t){var o=this.getRange(),i=this.getSelection();if(o.moveToElementText)o.moveToElementText(e),o.select();else if(i.addRange)try{t?o.selectNodeContents(e):o.selectNode(e),i.removeAllRanges(),i.addRange(o)}catch(e){}else i.setBaseAndExtent(e,0,e,1);return e},isCollapsed:function(){var e=this.getRange();return!e.item&&(0==e.boundingWidth||this.getSelection().isCollapsed)},collapse:function(e){var t=this.getRange(),o=this.getSelection();t.select?(t.collapse(e),t.select()):e?o.collapseToStart():o.collapseToEnd()},getContent:function(){var t=this.getRange(),o=e("<div>")[0];return this.isCollapsed()?"":(t.cloneContents?o.appendChild(t.cloneContents()):void 0!=t.item||void 0!=t.htmlText?e(o).html(t.item?t.item(0).outerHTML:t.htmlText):e(o).html(t.toString()),e(o).html())},getText:function(){var e=this.getRange(),t=this.getSelection();return this.isCollapsed()?"":e.text||(t.toString?t.toString():"")},getNode:function(){var o=this.getRange();if(!e.jqx.browser.msie||e.jqx.browser.version>=9){var i=null;if(o)for(i=o.commonAncestorContainer,o.collapsed||o.startContainer==o.endContainer&&o.startOffset-o.endOffset<2&&o.startContainer.hasChildNodes()&&(i=o.startContainer.childNodes[o.startOffset]);"element"!=typeof i;)i=i.parentNode;return t.id(i)}return t.id(o.item?o.item(0):o.parentElement())},insertContent:function(e){var t=this.getRange();if(t.pasteHTML)t.pasteHTML(e),t.collapse(!1),t.select();else if(t.insertNode)if(t.deleteContents(),t.createContextualFragment)t.insertNode(t.createContextualFragment(e));else{var o=this.document,i=o.createDocumentFragment(),n=o.createElement("div");i.appendChild(n),n.outerHTML=e,t.insertNode(i)}}};return o.initialize(t),o},o=function(){function e(e){for(var t={},o=e.split(","),i=0;i<o.length;i++)t[o[i]]=!0;return t}var t=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,o=/^<\/([-A-Za-z0-9_]+)[^>]*>/,i=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,n=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),r=e("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),a=e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),l=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),d=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),s=e("script,style"),c=this.HTMLParser=function(e,c){function u(e,t){if(t)for(o=m.length-1;o>=0&&m[o].toLowerCase()!=t.toLowerCase();o--);else var o=0;if(o>=0){for(var i=m.length-1;i>=o;i--)c.end&&c.end(m[i]);m.length=o}}var g,p,h,m=[];for(m.last=function(){return this[this.length-1]};e;){if(p=!0,m.last()&&s[m.last()])e=e.replace(new RegExp("(.*)</"+m.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),c.chars&&c.chars(t),""}),u(0,m.last());else if(0==e.indexOf("\x3c!--")?(g=e.indexOf("--\x3e"))>=0&&(c.comment&&c.comment(e.substring(4,g)),e=e.substring(g+3),p=!1):0==e.indexOf("</")?(h=e.match(o))&&(e=e.substring(h[0].length),h[0].replace(o,u),p=!1):0==e.indexOf("<")&&(h=e.match(t))&&(e=e.substring(h[0].length),h[0].replace(t,function(e,t,o,s){if(t=t.toLowerCase(),r[t])for(;m.last()&&a[m.last()];)u(0,m.last());if(l[t]&&m.last()==t&&u(0,t),(s=n[t]||!!s)||m.push(t),c.start){var g=[];o.replace(i,function(e,t){var o=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:d[t]?t:"";g.push({name:t,value:o,escaped:o.replace(/(^|[^\\])"/g,'$1\\"')})}),c.start&&c.start(t,g,s)}}),p=!1),p){var f=(g=e.indexOf("<"))<0?e:e.substring(0,g);e=g<0?"":e.substring(g),c.chars&&c.chars(f)}e}u()};this.HTMLtoXML=function(e){var t="";return e=e.replace(/\r/gi,""),e=e.replace(/\n/gi,""),c(e,{start:function(e,o,i){t+="<"+e;for(var n=0;n<o.length;n++)t+=" "+o[n].name+'="'+o[n].escaped+'"';t+=(i?"/":"")+">"},end:function(e){t+="</"+e+">\r\n"},chars:function(e){t+=e},comment:function(e){t+="\x3c!--"+e+"--\x3e"}}),t},this.FormatHTML=function(e,t){var o,i,n,r,a;for(i=(t=t||{}).indent_size||4,n=t.indent_char||" ",r=t.brace_style||"collapse",1/0,a=t.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],(o=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var o=0;o<t.length;o++)if(e===t[o])return!0;return!1}},this.get_content=function(){for(var e="",t=[],o=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace))t.length&&(o=!0),this.line_char_count--;else{if(o){if(this.line_char_count>=this.max_char){t.push("\n");for(var i=0;i<this.indent_level;i++)t.push(this.indent_string);this.line_char_count=0}else t.push(" "),this.line_char_count++;o=!1}t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",o=new RegExp("</"+e+"\\s*>","igm");o.lastIndex=this.pos;var i=o.exec(this.input),n=i?i.index:this.input.length;return this.pos<n&&(t=this.input.substring(this.pos,n),this.pos=n),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.get_tag=function(){var e,t,o="",i=[],n=!1;do{if(this.pos>=this.input.length)return i.length?i.join(""):["","TK_EOF"];o=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(o,this.Utils.whitespace)?(n=!0,this.line_char_count--):("'"!==o&&'"'!==o||i[1]&&"!"===i[1]||(o+=this.get_unformatted(o),n=!0),"="===o&&(n=!1),i.length&&"="!==i[i.length-1]&&">"!==o&&n&&(this.line_char_count>=this.max_char?(this.print_newline(!1,i),this.line_char_count=0):(i.push(" "),this.line_char_count++),n=!1),"<"===o&&(e=this.pos-1),i.push(o))}while(">"!==o);var r,l=i.join("");r=-1!=l.indexOf(" ")?l.indexOf(" "):l.indexOf(">");var d=l.substring(1,r).toLowerCase();if("/"===l.charAt(l.length-2)||this.Utils.in_array(d,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===d)this.record_tag(d),this.tag_type="SCRIPT";else if("style"===d)this.record_tag(d),this.tag_type="STYLE";else if(this.Utils.in_array(d,a))s=this.get_unformatted("</"+d+">",l),i.push(s),e>0&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&i.splice(0,0,this.input.charAt(e-1)),t=this.pos-1,this.Utils.in_array(this.input.charAt(t+1),this.Utils.whitespace)&&i.push(this.input.charAt(t+1)),this.tag_type="SINGLE";else if("!"===d.charAt(0))if(-1!=d.indexOf("[if"))-1!=l.indexOf("!IE")&&(s=this.get_unformatted("--\x3e",l),i.push(s)),this.tag_type="START";else if(-1!=d.indexOf("[endif"))this.tag_type="END",this.unindent();else if(-1!=d.indexOf("[cdata["))s=this.get_unformatted("]]>",l),i.push(s),this.tag_type="SINGLE";else{var s=this.get_unformatted("--\x3e",l);i.push(s),this.tag_type="SINGLE"}else"/"===d.charAt(0)?(this.retrieve_tag(d.substring(1)),this.tag_type="END"):(this.record_tag(d),this.tag_type="START"),this.Utils.in_array(d,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return i.join("")},this.get_unformatted=function(e,t){if(t&&-1!=t.indexOf(e))return"";var o="",i="",n=!0;do{if(this.pos>=this.input.length)return i;if(o=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(o,this.Utils.whitespace)){if(!n){this.line_char_count--;continue}if("\n"===o||"\r"===o){i+="\n",this.line_char_count=0;continue}}i+=o,this.line_char_count++,n=!0}while(-1==i.indexOf(e));return i},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.printer=function(e,t,o,i,n){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=o,this.brace_style=n,this.indent_level=0,this.max_char=i,this.line_char_count=0;for(var r=0;r<this.indent_size;r++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){if(this.line_char_count=0,t&&t.length){if(!e)for(;this.Utils.in_array(t[t.length-1],this.Utils.whitespace);)t.pop();t.push("\n");for(var o=0;o<this.indent_level;o++)t.push(this.indent_string)}},this.print_token=function(e){this.output.push(e)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(e,n,i,1/0,r);;){var l=o.get_token();if(o.token_text=l[0],o.token_type=l[1],"TK_EOF"===o.token_type)break;switch(o.token_type){case"TK_TAG_START":o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent(),o.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===o.last_token&&""===o.last_text){var d=o.token_text.match(/\w+/)[0],s=o.output[o.output.length-1].match(/<\s*(\w+)/);null!==s&&s[1]===d||o.print_newline(!0,o.output)}o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var c=o.token_text.match(/^\s*<([a-z]+)/i);c&&o.Utils.in_array(c[1],a)||o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_CONTENT":""!==o.token_text&&o.print_token(o.token_text),o.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==o.token_text){o.output.push("\n");var u=o.token_text;if("keep"==t.indent_scripts)g=0;else if("separate"==t.indent_scripts)g=-o.indent_level;else var g=1;var p=o.get_full_indent(g),h=u.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(o.indent_string).length-1,m=o.get_full_indent(g-h);(u=u.replace(/^\s*/,p).replace(/\r\n|\r|\n/g,"\n"+m).replace(/\s*$/,""))&&(o.print_token(u),o.print_newline(!0,o.output))}o.current_mode="TAG"}o.last_token=o.token_type,o.last_text=o.token_text}return o.output.join("")}}}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===e.jqx._jqxExpander.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(!1===this.disabled&&!1===this.expanded&&1==this._expandChecker){var t=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._contentElement.style.display="block"),!0===this._cntntEmpty?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&!1===this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(!1===this.disabled&&!0===this.expanded&&0===this._expandChecker){var t=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t._contentElement.style.display="none",t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"none":t._contentElement.style.display="none",this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){!0!==e&&(this._removeHandlers(),!0===this.showArrow?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),!1===this.disabled&&this._toggle(),this._keyBoard())},render:function(){var t=this;if(t._rendered)t.refresh();else{this.widgetID=this.element.id;var i=this.host.children();this._headerText=i[0],this._headerElement=document.createElement("div"),this._header=e(this._headerElement),this._contentElement=i[1],this._content=e(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?t.element.insertBefore(t._headerElement,t._headerText):t.element.appendChild(t._headerElement),t._headerElement.appendChild(t._headerText);var r=this._headerText.className;this._headerElement.className=r,this._headerText.className="",this.rtl?this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content"),t._arrowElement=document.createElement("div"),t._headerElement.appendChild(t._arrowElement),this._arrow=e(t._arrowElement),!0===this.showArrow?t._arrowElement.style.display="":t._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===t.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();try{if(0===this._header.length||0===this._content.length||i.length<2||i.length>2)throw"Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content."}catch(e){throw new Error(e)}this._setSize(),!0===this.expanded?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):!1===this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),!1===this.disabled&&this._toggle(),this._keyBoard(),e.jqx.utilities.resize(this.host,function(){t.invalidate()})}},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{!1===this.disabled&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,r){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"expanded"==t?!0===r&&!1===i?(this.expanded=!1,this.expand()):!1===r&&!0===i&&(this.expanded=!0,this.collapse()):this.refresh():e._setSize())},_raiseEvent:function(t,i){var r=this.events[t],a=new e.Event(r);a.owner=this,a.args=i;var n;try{n=this.host.trigger(a)}catch(e){}return n},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(this._headerText.style.float="left",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style.float="left",this._headerText.style.marginLeft="17px",this._arrowElement.style.float="left",this._arrowElement.style.position="absolute"):(this._headerText.style.float="right",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var t=Math.max(0,this._content.height());if("auto"==this.height)this._contentHeight=t;else{var i=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1;i<0&&(i=0),this._contentHeight||(this._contentHeight=t),i!=this._contentHeight?(this._contentElement.style.height=this._toPx(i),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){!0===this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",r="jqx-widget-content jqx-expander-content";!0===this.rtl&&(t+=" jqx-rtl"),!1===this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),!0===this.expanded?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?r+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(r+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(r)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),!0===this._cntntEmpty?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((!0===e.focusedH||!0===e.focusedC)&&!1===e.disabled){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(!0===e.focusedH&&e._animate(),i=!0);break;case 38:!0===t.ctrlKey&&!0===e.focusedC&&e._headerElement.focus(),i=!0;break;case 40:!0===t.ctrlKey&&!0===e.focusedH&&e._contentElement.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxFileUpload","",{}),e.extend(e.jqx._jqxFileUpload.prototype,{defineInstance:function(){var t={width:null,height:"auto",uploadUrl:"",fileInputName:"",autoUpload:!1,multipleFilesUpload:!0,accept:null,browseTemplate:"",uploadTemplate:"",cancelTemplate:"",localization:null,renderFiles:null,disabled:!1,rtl:!1,events:["select","remove","uploadStart","uploadEnd"]};return this===e.jqx._jqxFileUpload.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;if(void 0===t.host.jqxButton)throw new Error("jqxFileUpload: Missing reference to jqxbuttons.js");t._createFromInput("jqxFileUpload"),e.jqx.browser.msie?e.jqx.browser.version<11&&(t._ieOldWebkit=!0,e.jqx.browser.version<8&&(t._ie7=!0)):e.jqx.browser.webkit&&(t._ieOldWebkit=!0),t._fluidWidth="string"==typeof t.width&&"%"===t.width.charAt(t.width.length-1),t._fluidHeight="string"==typeof t.height&&"%"===t.height.charAt(t.height.length-1),t._render(!0)},_createFromInput:function(t){var o=this;if("input"==o.element.nodeName.toLowerCase()){o.field=o.element,o.field.className&&(o._className=o.field.className);var l={title:o.field.title};o.field.id.length?l.id=o.field.id.replace(/[^\w]/g,"_")+"_"+t:l.id=e.jqx.utilities.createId()+"_"+t;var i=e("<div></div>",l);i[0].style.cssText=o.field.style.cssText,o.width||(o.width=e(o.field).width()),o.height||(o.height=e(o.field).outerHeight()),e(o.field).hide().after(i);var a=o.host.data();if(o.host=i,o.host.data(a),o.element=i[0],o.element.id=o.field.id,o.field.id=l.id,o._className&&(o.host.addClass(o._className),e(o.field).removeClass(o._className)),o.field.tabIndex){var d=o.field.tabIndex;o.field.tabIndex=-1,o.element.tabIndex=d}}},_render:function(t){var o=this;o._setSize(),o._addClasses(),!0===t?o._appendElements():o._removeHandlers(),o._addHandlers(),o._ie7&&(o._borderAndPadding("width",o.host),"auto"!==o.height&&o._borderAndPadding("height",o.host)),e.jqx.utilities.resize(o.host,null,!0),e.jqx.utilities.resize(o.host,function(){if(o._fluidWidth){o._ie7&&(o.host.css("width",o.width),o._borderAndPadding("width",o.host));for(var e=0;e<o._fileRows.length;e++){var t=o._fileRows[e],l=t.fileRow;o._ie7&&(l.css("width","100%"),o._borderAndPadding("width",l)),o.renderFiles||o._setMaxWidth(t)}if(o.rtl&&o._ieOldWebkit)for(var i=0;i<o._forms.length;i++){var a=o._browseButton.position();o._forms[i].form.css({left:a.left,top:a.top})}}o._ie7&&o._fluidHeight&&(o.host.css("height",o.height),o._borderAndPadding("height",o.host))})},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){var e=this;e.cancelAll(),e._removeHandlers(!0),e.host.remove()},browse:function(){if(!(e.jqx.browser.msie&&e.jqx.browser.version<10)){var t=this;(!0===t.multipleFilesUpload||!1===t.multipleFilesUpload&&0===t._fileRows.length)&&t._forms[t._forms.length-1].fileInput.click()}},_uploadFile:function(e){var t=this;0===t._uploadQueue.length&&t._uploadQueue.push(e),t.renderFiles||(e.uploadFile.add(e.cancelFile).hide(),e.loadingElement.show()),e.fileInput.attr("name",t.fileInputName),t._raiseEvent("2",{file:e.fileName}),e.form[0].submit(),t._fileObjectToRemove=e},uploadFile:function(e){var t=this,o=t._fileRows[e];void 0!==o&&t._uploadFile(o)},uploadAll:function(){var e=this;if(e._fileRows.length>0){for(var t=e._fileRows.length-1;t>=0;t--)e._uploadQueue.push(e._fileRows[t]);e._uploadFile(e._fileRows[0])}},cancelFile:function(e){var t=this;t._removeSingleFileRow(t._fileRows[e])},cancelAll:function(){var e=this;if(e._fileRows.length>0){for(var t=0;t<e._fileRows.length;t++)e._removeFileRow(e._fileRows[t]);setTimeout(function(){e._browseButton.css("margin-bottom",0)},400),e._fileRows.length=0,e._hideButtons(!0)}},propertyChangedHandler:function(t,o,l,i){var a=t.element.id;if("localization"===o)return!i.browseButton||l&&i.browseButton===l.browseButton||(t._browseButton.text(i.browseButton),t._browseButton.jqxButton({width:"auto"})),!i.uploadButton||l&&i.uploadButton===l.uploadButton||(t._uploadButton.text(i.uploadButton),t._uploadButton.jqxButton({width:"auto"})),!i.cancelButton||l&&i.cancelButton===l.cancelButton||(t._cancelButton.text(i.cancelButton),t._cancelButton.jqxButton({width:"auto"})),void(t.renderFiles||(!i.uploadFileTooltip||l&&i.uploadFileTooltip===l.uploadFileTooltip||e("#"+a+" .jqx-file-upload-file-upload").attr("title",i.uploadFileTooltip),!i.uploadFileTooltip||l&&i.cancelFileTooltip===l.cancelFileTooltip||e("#"+a+" .jqx-file-upload-file-cancel").attr("title",i.cancelFileTooltip)));if(i!==l)switch(o){case"width":if(t.host.css("width",i),t._ie7){t._borderAndPadding("width",t.host);for(var d=0;d<t._fileRows.length;d++){var n=t._fileRows[d].fileRow;n.css("width","100%"),t._borderAndPadding("width",n)}}return void(t._fluidWidth="string"==typeof i&&"%"===i.charAt(i.length-1));case"height":return t.host.css("height",i),t._ie7&&t._borderAndPadding("height",t.host),void(t._fluidHeight="string"==typeof i&&"%"===i.charAt(i-1));case"uploadUrl":for(var r=0;r<t._forms.length;r++)t._forms[r].form.attr("action",i);return;case"accept":for(var s=0;s<t._forms.length;s++)t._forms[s].fileInput.attr("accept",i);return;case"theme":return e.jqx.utilities.setTheme(l,i,t.host),t._browseButton.jqxButton({theme:i}),t._uploadButton.jqxButton({theme:i}),void t._cancelButton.jqxButton({theme:i});case"browseTemplate":return void t._browseButton.jqxButton({template:i});case"uploadTemplate":return void t._uploadButton.jqxButton({template:i});case"cancelTemplate":return void t._cancelButton.jqxButton({template:i});case"disabled":return t._browseButton.jqxButton({disabled:i}),t._uploadButton.jqxButton({disabled:i}),t._cancelButton.jqxButton({disabled:i}),void(!0===i?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")));case"rtl":return void function(o){var l=o?"addClass":"removeClass";t._browseButton[l](t.toThemeProperty("jqx-file-upload-button-browse-rtl")),t._cancelButton[l](t.toThemeProperty("jqx-file-upload-button-cancel-rtl")),t._uploadButton[l](t.toThemeProperty("jqx-file-upload-button-upload-rtl")),e.jqx.browser.msie&&e.jqx.browser.version>8&&t._uploadButton[l](t.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"));for(var i=0;i<t._fileRows.length;i++){var a=t._fileRows[i];a.fileNameContainer[l](t.toThemeProperty("jqx-file-upload-file-name-rtl")),a.cancelFile[l](t.toThemeProperty("jqx-file-upload-file-cancel-rtl")),a.uploadFile[l](t.toThemeProperty("jqx-file-upload-file-upload-rtl")),a.loadingElement[l](t.toThemeProperty("jqx-file-upload-loading-element-rtl"))}}(i)}},_raiseEvent:function(t,o){void 0===o&&(o={owner:null});var l=this.events[t];o.owner=this;var i=new e.Event(l);return i.owner=this,i.args=o,i.preventDefault&&i.preventDefault(),this.host.trigger(i)},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height)},_borderAndPadding:function(e,t){var o;o="width"===e?parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10)+parseInt(t.css("padding-left"),10)+parseInt(t.css("padding-right"),10):parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10)+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom"),10),t.css(e,t[e]()-o)},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all jqx-file-upload")),!0===e.disabled&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"))},_appendElements:function(){var t=this,o="Browse",l=90,i="Upload All",a=90,d="Cancel All",n=90,r=t.element.id;t.localization&&(t.localization.browseButton&&(o=t.localization.browseButton,l="auto"),t.localization.uploadButton&&(i=t.localization.uploadButton,a="auto"),t.localization.cancelButton&&(d=t.localization.cancelButton,n="auto")),t._browseButton=e('<button id="'+r+'BrowseButton" class="'+t.toThemeProperty("jqx-file-upload-button-browse")+'">'+o+"</button>"),t.host.append(t._browseButton),t._browseButton.jqxButton({theme:t.theme,width:l,template:t.browseTemplate,disabled:t.disabled}),t._browseButton.after('<div style="clear: both;"></div>'),t._bottomButtonsContainer=e('<div class="'+t.toThemeProperty("jqx-file-upload-buttons-container")+'"></div>'),t.host.append(t._bottomButtonsContainer),t._uploadButton=e('<button id="'+r+'UploadButton" class="'+t.toThemeProperty("jqx-file-upload-button-upload")+'">'+i+"</button>"),t._bottomButtonsContainer.append(t._uploadButton),t._uploadButton.jqxButton({theme:t.theme,width:a,template:t.uploadTemplate,disabled:t.disabled}),t._cancelButton=e('<button id="'+r+'CancelButton" class="'+t.toThemeProperty("jqx-file-upload-button-cancel")+'">'+d+"</button>"),t._bottomButtonsContainer.append(t._cancelButton),t._cancelButton.jqxButton({theme:t.theme,width:n,template:t.cancelTemplate,disabled:t.disabled}),t._bottomButtonsContainer.after('<div style="clear: both;"></div>'),t.rtl&&(t._browseButton.addClass(t.toThemeProperty("jqx-file-upload-button-browse-rtl")),t._cancelButton.addClass(t.toThemeProperty("jqx-file-upload-button-cancel-rtl")),t._uploadButton.addClass(t.toThemeProperty("jqx-file-upload-button-upload-rtl")),e.jqx.browser.msie&&e.jqx.browser.version>8&&t._uploadButton.addClass(t.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"))),t._uploadIframe=e('<iframe name="'+r+'Iframe" class="'+t.toThemeProperty("jqx-file-upload-iframe")+'" src=""></iframe>'),t.host.append(t._uploadIframe),t._iframeInitialized=!1,t._uploadQueue=[],t._forms=[],t._addFormAndFileInput(),t._fileRows=[]},_addFormAndFileInput:function(){var t=this,o=t.element.id,l=e('<form class="'+t.toThemeProperty("jqx-file-upload-form")+'" action="'+t.uploadUrl+'" target="'+o+'Iframe" method="post" enctype="multipart/form-data"></form>');t.host.append(l);var i=e('<input type="file" class="'+t.toThemeProperty("jqx-file-upload-file-input")+'" />');if(t.accept&&i.attr("accept",t.accept),l.append(i),t._ieOldWebkit){var a=t._browseButton.position(),d=t._browseButton.outerWidth(),n=t._browseButton.outerHeight(),r=t.rtl&&t._ie7?12:0;l.css({left:a.left-r,top:a.top,width:d,height:n}),l.addClass(t.toThemeProperty("jqx-file-upload-form-ie9")),i.addClass(t.toThemeProperty("jqx-file-upload-file-input-ie9")),t.addHandler(l,"mouseenter.jqxFileUpload"+o,function(){t._browseButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(l,"mouseleave.jqxFileUpload"+o,function(){t._browseButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(l,"mousedown.jqxFileUpload"+o,function(){t._browseButton.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(e(document),"mouseup.jqxFileUpload"+o,function(){t._browseButton.hasClass("jqx-fill-state-pressed")&&t._browseButton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))})}t.addHandler(i,"change.jqxFileUpload"+o,function(){var a,d=this.value;e.jqx.browser.mozilla||(d=-1!==d.indexOf("fakepath")?d.slice(12):d.slice(d.lastIndexOf("\\")+1)),a=e.jqx.browser.msie&&e.jqx.browser.version<10?"IE9 and earlier do not support getting the file size.":this.files[0].size;var n=t._addFileRow(d,l,i,a);1===t._fileRows.length&&(t._browseButton.css("margin-bottom","10px"),t._hideButtons(!1)),t._ieOldWebkit&&(t.removeHandler(l,"mouseenter.jqxFileUpload"+o),t.removeHandler(l,"mouseleave.jqxFileUpload"+o),t.removeHandler(l,"mousedown.jqxFileUpload"+o)),t._addFormAndFileInput(),t.removeHandler(i,"change.jqxFileUpload"+o),!0===t.autoUpload&&t._uploadFile(n)}),!0===t._ieOldWebkit&&t.addHandler(i,"click.jqxFileUpload"+o,function(e){!1===t.multipleFilesUpload&&t._fileRows.length>0&&e.preventDefault()}),t._forms.push({form:l,fileInput:i})},_addFileRow:function(t,o,l,i){var a,d,n,r,s,u=this,p="Cancel",c="Upload File";a=e('<div class="'+u.toThemeProperty("jqx-widget-content jqx-rc-all jqx-file-upload-file-row")+'"></div>'),0===u._fileRows.length?u._browseButton.after(a):u._fileRows[u._fileRows.length-1].fileRow.after(a),u.renderFiles?a.html(u.renderFiles(t)):(d=e('<div class="'+u.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-name")+'">'+t+"</div>"),a.append(d),u.localization&&(u.localization.cancelFileTooltip&&(p=u.localization.cancelFileTooltip),u.localization.uploadFileTooltip&&(c=u.localization.uploadFileTooltip)),r=e('<div class="'+u.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-cancel")+'" title="'+p+'"><div class="'+u.toThemeProperty("jqx-icon-close jqx-file-upload-icon")+'"></div></div>'),a.append(r),s=e('<div class="'+u.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-upload")+'" title="'+c+'"><div class="'+u.toThemeProperty("jqx-icon-arrow-up jqx-file-upload-icon jqx-file-upload-icon-upload")+'"></div></div>'),a.append(s),n=e('<div class="'+u.toThemeProperty("jqx-file-upload-loading-element")+'"></div>'),a.append(n),u.rtl&&(d.addClass(u.toThemeProperty("jqx-file-upload-file-name-rtl")),r.addClass(u.toThemeProperty("jqx-file-upload-file-cancel-rtl")),s.addClass(u.toThemeProperty("jqx-file-upload-file-upload-rtl")),n.addClass(u.toThemeProperty("jqx-file-upload-loading-element-rtl"))),u._setMaxWidth({fileNameContainer:d,uploadFile:s,cancelFile:r})),u._ie7&&(u._borderAndPadding("width",a),u._borderAndPadding("height",a),u.renderFiles||(u._borderAndPadding("height",d),u._borderAndPadding("height",s),u._borderAndPadding("height",r)));var f={fileRow:a,fileNameContainer:d,fileName:t,uploadFile:s,cancelFile:r,loadingElement:n,form:o,fileInput:l,index:u._fileRows.length};return u._addFileHandlers(f),u._fileRows.push(f),u._raiseEvent("0",{file:t,size:i}),f},_setMaxWidth:function(e){var t=this,o=e.cancelFile.outerWidth(!0)+e.uploadFile.outerWidth(!0),l=t._ie7?6:0,i=t.host.width()-parseInt(t.host.css("padding-left"),10)-parseInt(t.host.css("padding-right"),10)-o-l-7;e.fileNameContainer.css("max-width",i)},_addFileHandlers:function(e){var t=this;if(!t.renderFiles){var o=t.element.id;t.addHandler(e.uploadFile,"mouseenter.jqxFileUpload"+o,function(){!1===t.disabled&&e.uploadFile.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.uploadFile,"mouseleave.jqxFileUpload"+o,function(){!1===t.disabled&&e.uploadFile.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.uploadFile,"click.jqxFileUpload"+o,function(){!1===t.disabled&&t._uploadFile(e)}),t.addHandler(e.cancelFile,"mouseenter.jqxFileUpload"+o,function(){!1===t.disabled&&e.cancelFile.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.cancelFile,"mouseleave.jqxFileUpload"+o,function(){!1===t.disabled&&e.cancelFile.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.cancelFile,"click.jqxFileUpload"+o,function(){!1===t.disabled&&t._removeSingleFileRow(e)})}},_removeSingleFileRow:function(e){var t=this;if(t._removeFileRow(e),t._fileRows.splice(e.index,1),0===t._fileRows.length)setTimeout(function(){t._browseButton.css("margin-bottom",0)},400),t._hideButtons(!0);else for(var o=0;o<t._fileRows.length;o++)t._fileRows[o].index=o},_removeFileRow:function(e){var t=this,o=t.element.id;t.renderFiles||(t.removeHandler(e.uploadFile,"mouseenter.jqxFileUpload"+o),t.removeHandler(e.uploadFile,"mouseleave.jqxFileUpload"+o),t.removeHandler(e.uploadFile,"click.jqxFileUpload"+o),t.removeHandler(e.cancelFile,"mouseenter.jqxFileUpload"+o),t.removeHandler(e.cancelFile,"mouseleave.jqxFileUpload"+o),t.removeHandler(e.cancelFile,"click.jqxFileUpload"+o)),e.fileRow.fadeOut(function(){e.fileRow.remove(),e.form.remove()}),t._raiseEvent("1",{file:e.fileName})},_hideButtons:function(e){var t=this;!0===e?t._bottomButtonsContainer.fadeOut():t._bottomButtonsContainer.fadeIn()},_addHandlers:function(){var t=this,o=t.element.id;t._ieOldWebkit||t.addHandler(t._browseButton,"click.jqxFileUpload"+o,function(){t.browse()}),t.addHandler(t._uploadButton,"click.jqxFileUpload"+o,function(){t.uploadAll()}),t.addHandler(t._cancelButton,"click.jqxFileUpload"+o,function(){t.cancelAll()}),t.addHandler(t._uploadIframe,"load.jqxFileUpload"+o,function(){if((e.jqx.browser.chrome||e.jqx.browser.webkit)&&(t._iframeInitialized=!0),!1===t._iframeInitialized)t._iframeInitialized=!0;else{var o=t._uploadIframe.contents().find("body").html();t._uploadQueue.length>0&&t._raiseEvent("3",{file:t._uploadQueue[t._uploadQueue.length-1].fileName,response:o}),t._fileObjectToRemove&&(t._removeSingleFileRow(t._fileObjectToRemove),t._fileObjectToRemove=null),t._uploadQueue.pop(),t._uploadQueue.length>0&&t._uploadFile(t._uploadQueue[t._uploadQueue.length-1])}})},_removeHandlers:function(t){var o=this,l=o.element.id;if(o.removeHandler(o._browseButton,"click.jqxFileUpload"+l),o.removeHandler(o._uploadButton,"click.jqxFileUpload"+l),o.removeHandler(o._cancelButton,"click.jqxFileUpload"+l),o.removeHandler(o._uploadIframe,"load.jqxFileUpload"+l),!0===t){var i=o._forms[o._forms.length-1];o.removeHandler(i.fileInput,"change.jqxFileUpload"+l),o._ieOldWebkit&&(o.removeHandler(i.form,"mouseenter.jqxFileUpload"+l),o.removeHandler(i.form,"mouseleave.jqxFileUpload"+l),o.removeHandler(i.form,"mousedown.jqxFileUpload"+l),o.removeHandler(e("body"),"mouseup.jqxFileUpload"+l))}}})}(jqxBaseFramework);

!function(t){"use strict";t.jqx.jqxWidget("jqxFormattedInput","",{}),t.extend(t.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var e={width:null,height:null,radix:10,decimalNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",_opened:!1,$popup:t("<ul></ul>"),item:'<li><a href="#"></a></li>',events:["open","close","change","radixChange"]};return this===t.jqx._jqxFormattedInput.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){var t=this;t._Long(),t._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-])/),16:new RegExp(/([0-9]|[a-f])/i)},t.render()},render:function(){var e=this;if(e._radixNumber=e._getRadix(e.radix),""!==e.value&&(e._number=new e.longObj.math.Long.fromString(e.value.toString(),e._radixNumber)),e.baseHost&&(e.host=e.baseHost,e.element=e.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var o=this.host.find("input"),r=!1;if(t.each(o,function(){var e=this.type;if(null===e||"text"===e||"textarea"===e)return o=t(this),r=!0,!1}),!r)throw new Error("jqxFormattedInput: Missing Text Input in the Input Group");if(o.length>0){this.baseHost=t(this.element);var s=this.host.data();this.host=o,this.element=o[0],this.host.data(s),this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var n=this.baseHost.children();t.each(n,function(o){if(t(this).addClass(e.toThemeProperty("jqx-input-group-addon")),t(this).removeClass(e.toThemeProperty("jqx-rc-all")),0===o&&t(this).addClass(e.toThemeProperty("jqx-rc-l")),o===n.length-1&&t(this).addClass(e.toThemeProperty("jqx-rc-r")),this!==e.element&&t(this).addClass(e.toThemeProperty("jqx-fill-state-normal")),"div"===this.nodeName.toLowerCase()){e.appendSpinButtons=function(o){e._spinButtonsContainer=t(o),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-formatted-input-spin-buttons-container"));var r='<div class="'+e.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+e.toThemeProperty("jqx-input-icon")+'"></div></div>';e._upbutton=t(r),e._spinButtonsContainer.append(e._upbutton),e._downbutton=t(r),e._spinButtonsContainer.append(e._downbutton),e._upArrow=e._upbutton.find("div"),e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up")),e._downArrow=e._downbutton.find("div"),e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down")),e.template&&(e._upbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e._downbutton.addClass(e.toThemeProperty("jqx-"+e.template))),e._spinButtonsStepLong=new e.longObj.math.Long.fromNumber(e.spinButtonsStep)};var r=function(o){e._addon=t(o),e._addon.addClass(e.toThemeProperty("jqx-formatted-input-addon")),e._arrow||(e._arrow=t('<div class="'+e.toThemeProperty("jqx-icon")+" "+e.toThemeProperty("jqx-icon-arrow-down")+'"></div>'),e._arrow.appendTo(e._addon)),e.template&&e._addon.addClass(e.toThemeProperty("jqx-"+e.template))};!1===e.rtl?e._spinButtonsContainer||!0!==e.spinButtons?e._addon||!0!==e.dropDown||2!==o&&(1!==o||!1!==e.spinButtons)||r(this):e.appendSpinButtons(this):e._addon||!0!==e.dropDown?e._spinButtonsContainer||!0!==e.spinButtons||1!==o&&(0!==o||!1!==e.dropDown)||(e.appendSpinButtons(this),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl")),!0===e.dropDown&&e._addon.addClass(e.toThemeProperty("jqx-formatted-input-addon-rtl"))):(r(this),!0===e.spinButtons&&e._addon.addClass(e.toThemeProperty("jqx-formatted-input-addon-rtl")))}})}}e._inputAndAddon=e.host,e.baseHost&&(e._spinButtonsContainer&&(e._inputAndAddon=e._inputAndAddon.add(e._spinButtonsContainer)),e._addon&&(e._inputAndAddon=e._inputAndAddon.add(e._addon))),e.removeHandlers(),this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),t.jqx.aria(this,"aria-autocomplete","both"),t.jqx.aria(this,"aria-disabled",this.disabled),t.jqx.aria(this,"aria-readonly",!1),t.jqx.aria(this,"aria-multiline",!1),t.jqx.aria(this,"aria-haspopup",!0),""!==e.value&&null!==e.value?(!0===e.upperCase?e.host.addClass(e.toThemeProperty("jqx-formatted-input-upper-case")):e.host.addClass(e.toThemeProperty("jqx-formatted-input-lower-case")),10===e._radixNumber&&"exponential"===e.decimalNotation?e.element.value=e._getDecimalNotation("exponential"):e.element.value=e.value):e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled")),10!==e._radixNumber&&"-9223372036854775808"===e.min.toString()?e._minLong=new e.longObj.math.Long.fromNumber(e.min):e._setMinMax("min"),10!==e._radixNumber&&"9223372036854775807"===e.max.toString()?e._maxLong=new e.longObj.math.Long.fromNumber(e.max):e._setMinMax("max")},_refreshClasses:function(e){var o=e?"addClass":"removeClass";this.host[o](this.toThemeProperty("jqx-widget-content")),this.host[o](this.toThemeProperty("jqx-input")),this.host[o](this.toThemeProperty("jqx-formatted-input")),this.host[o](this.toThemeProperty("jqx-widget")),this.$popup[o](this.toThemeProperty("jqx-popup")),t.jqx.browser.msie&&this.$popup[o](this.toThemeProperty("jqx-noshadow")),this.$popup[o](this.toThemeProperty("jqx-input-popup")),this.$popup[o](this.toThemeProperty("jqx-menu")),this.$popup[o](this.toThemeProperty("jqx-menu-vertical")),this.$popup[o](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[o](this.toThemeProperty("jqx-widget")),this.$popup[o](this.toThemeProperty("jqx-widget-content")),this.roundedCorners?(this.host[o](this.toThemeProperty("jqx-rc-all")),this.$popup[o](this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost[o](this.toThemeProperty("jqx-rc-all")),!1===this.rtl?(this.host[o](this.toThemeProperty("jqx-rc-l")),this._addon&&this._addon[o](this.toThemeProperty("jqx-rc-r"))):(this.host[o](this.toThemeProperty("jqx-rc-r")),this._addon&&this._addon[o](this.toThemeProperty("jqx-rc-l"))))):(this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.$popup.removeClass(this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost.removeClass(this.toThemeProperty("jqx-rc-all")),!1===this.rtl?(this.host.removeClass(this.toThemeProperty("jqx-rc-l")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-r")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-r"))):(this.host.removeClass(this.toThemeProperty("jqx-rc-r")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-l")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-l"))))),this.disabled?(this.host[o](this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&(this._spinButtonsContainer&&this._spinButtonsContainer[o](this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon[o](this.toThemeProperty("jqx-fill-state-disabled")))):(this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&""!==this.value&&null!==this.value&&(this._spinButtonsContainer&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},selectAll:function(){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(0,t[0].value.length);else{var e=t[0].createTextRange();e.collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select()}},10)},selectLast:function(){var t=this.host;this.selectStart(t[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(t){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(t,t);else{var o=e[0].createTextRange();o.collapse(!0),o.moveEnd("character",t),o.moveStart("character",t),o.select()}},10)},focus:function(){try{this.host.focus();var t=this;setTimeout(function(){t.host.focus()},25)}catch(t){}},refresh:function(){var e=this;if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){if(this.width&&this.baseHost.width(this.width),this.height){this.baseHost.height(this.height);var o=0,r=this.baseHost.height()-2;t.jqx.browser.msie&&t.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),t.each(this.baseHost.children(),function(){t(this).css("height","100%"),t.jqx.browser.msie&&t.jqx.browser.version<8&&t(this).css("height",r+"px"),this!==e.element&&(o+=t(this).outerWidth())});var s="string"==typeof e.width&&"%"===e.width.charAt(e.width.length-1)?1:0;if(this.host.css("width",this.baseHost.width()-o-s+"px"),t.jqx.browser.msie&&t.jqx.browser.version<9){e._spinButtonsContainer&&(!1===e.rtl||!0===e.rtl&&e._addon)&&e._spinButtonsContainer.css("border-left-width","0"),e._addon&&(!1===e.rtl?e._addon.css("border-left-width","0"):e._spinButtonsContainer||e._addon.css("border-right-width","0"));var n=0;if(t.jqx.browser.version<8){var i=0,a=parseInt(e.host.css("border-left-width"),10)+parseInt(e.host.css("border-right-width"),10),h=parseInt(e.host.css("padding-left"),10)+parseInt(e.host.css("padding-right"),10);e._spinButtonsContainer&&(a+=parseInt(e._spinButtonsContainer.css("border-left-width"),10)+parseInt(e._spinButtonsContainer.css("border-right-width"),10),h+=parseInt(e._spinButtonsContainer.css("padding-left"),10)+parseInt(e._spinButtonsContainer.css("padding-right"),10),e._addon||(i=2)),e._addon&&(a+=parseInt(e._addon.css("border-left-width"),10)+parseInt(e._addon.css("border-right-width"),10),h+=parseInt(e._addon.css("padding-left"),10)+parseInt(e._addon.css("padding-right"),10),e._spinButtonsContainer||(i=2)),e.host.width(e.host.width()-(h+a)-i),n=6}e.host.height(e.baseHost.height()-(parseInt(e.host.css("border-top-width"),10)+parseInt(e.host.css("border-bottom-width"),10)+parseInt(e.host.css("padding-top"),10)+parseInt(e.host.css("padding-bottom"),10)+n));var d=e.host.height()+"px";e.host.css("min-height",d),e.host.css("line-height",d)}}}else this.width&&this.host.width(this.width),this.height&&this.host.height(this.height);this.host.attr("disabled",this.disabled),this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{var t=this;""===this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){t.element.value===t.placeHolder&&(t.element.value="")}),this.host.blur(function(){""!==t.element.value&&t.element.value!==t.placeHolder||(t.element.value=t.placeHolder)}))}},destroy:function(){this.removeHandlers(),this.baseHost?(t.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):(t.jqx.utilities.resize(this.host,null,!0),this.host.remove()),this.$popup&&this.$popup.remove()},propertyChangedHandler:function(e,o,r,s){function n(t,o){var r=e.host.width(),s=t.outerWidth();!1===o?(e.host.width(r+s),t.hide(),!0===e.rtl&&(!0===e.spinButtons&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),!0===e.dropDown&&e._addon.removeClass(e.toThemeProperty("jqx-formatted-input-addon-rtl")))):(e.host.width(r-s),t.show(),!0===e.rtl&&!0===e.spinButtons&&!0===e.dropDown&&(e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),e._addon.addClass(e.toThemeProperty("jqx-formatted-input-addon-rtl"))))}function i(o,r){if(!0===r){var s=t("<div></div>");if(e.baseHost){var n=e.baseHost.children("div");!1===e.rtl&&"spinButtons"===o||!0===e.rtl&&"dropDown"===o?n.before(s):n.after(s),e.render(),e.host.width(e.host.width()-s.outerWidth())}else{var i=e.element.id;e.host.removeAttr("id"),e.host.wrap('<div id="'+i+'" style="display: inline-block;"></div>');var a=t("#"+i);!1===e.rtl?a.append(s):a.prepend(s);var h=e.host.data();h.jqxFormattedInput.host=a,h.jqxFormattedInput.element=a[0],e.baseHost=a,e.baseHost.data(h),e.render(),e.refresh()}}}if("placeHolder"!==o)if("template"==o&&e.template&&(e._upbutton.removeClass(e.toThemeProperty("jqx-"+r)),e._downbutton.removeClass(e.toThemeProperty("jqx-"+r)),e._addon.removeClass(e.toThemeProperty("jqx-"+r)),e._upbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e._downbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e._addon.addClass(e.toThemeProperty("jqx-"+e.template))),"theme"!==o)if("disabled"===o&&t.jqx.aria(e,"aria-disabled",e.disabled),"value"!==o||r.toString().toUpperCase()===s.toString().toUpperCase())if(r===s||"radix"!==o){if(r!==s&&"decimalNotation"===o&&10===e._radixNumber&&(e.element.value="exponential"===s?e._getDecimalNotation("exponential"):e._number.toString(10)),r!==s&&("min"===o||"max"===o))return e._setMinMax(o),e._validateValue(e.value,!0),void(e.value=e.element.value);if(r===s||"upperCase"!==o||""===e.element.value){if("spinButtons"===o)return r!==s?void(e._spinButtonsContainer?n(e._spinButtonsContainer,s):i("spinButtons",s)):void 0;if(r!==s&&"spinButtonsStep"===o&&(e._spinButtonsStepLong=new e.longObj.math.Long.fromNumber(s)),"dropDown"===o)return r!==s?void(e._addon?n(e._addon,s):i("dropDown",s)):void 0;e.refresh()}else!0===s?(e.host.removeClass(e.toThemeProperty("jqx-formatted-input-lower-case")),e.host.addClass(e.toThemeProperty("jqx-formatted-input-upper-case"))):(e.host.removeClass(e.toThemeProperty("jqx-formatted-input-upper-case")),e.host.addClass(e.toThemeProperty("jqx-formatted-input-lower-case")))}else e._changeRadix(s);else e.val(s);else t.jqx.utilities.setTheme(r,s,e.host);else e._refreshPlaceHolder()},select:function(t,e,o){var r=this;o||(o=r.$popup.find(".jqx-fill-state-pressed").attr("data-value")),r._changeRadix(parseInt(o,10)),r._setMaxLength(!0),r.close()},val:function(e){var o=this;if(!e&&""!==e||"object"==typeof e&&!0===t.isEmptyObject(e)||"binary"===e||"octal"===e||"decimal"===e||"exponential"===e||"scientific"===e||"engineering"===e||"hexadecimal"===e){if(!e||"object"==typeof e&&!0===t.isEmptyObject(e))return o.element.value;if("exponential"===e||"scientific"===e||"engineering"===e)return o._getDecimalNotation(e);var r=o._getRadix(e);return o._number.toString(r)}if((e=e.toString()).toUpperCase()!==o.element.value.toString().toUpperCase()){var s=o.element.value;!0===o.upperCase&&(e=e.toUpperCase());for(var n=e.split(""),i=0;i<n.length;i++)if(!o._regex[""+o._radixNumber].test(n[i]))return;var a=o._validateValue(e,!0);return o._raiseEvent("2",{value:a,oldValue:s,radix:o._radixNumber}),o.value=a,a}return e},_changeRadix:function(t){var e=this,o=e._getRadix(t),r=""!==e.value?e._number.toString(o):"",s=e.radix,n=e.value;e.radix=t,e._radixNumber=o,e.element.value=r,e.value=r,this._raiseEvent("3",{radix:t,oldRadix:s,value:r,oldValue:n})},_raiseEvent:function(e,o){void 0===o&&(o={owner:null});var r=this.events[e];o.owner=this;var s=new t.Event(r);s.owner=this,2==e&&(o.type=this.changeType,this.changeType=null),s.args=o,s.preventDefault&&s.preventDefault();return this.baseHost?this.baseHost.trigger(s):this.host.trigger(s)},open:function(){var e=this;if(e._setPopupOptions(),e._render(e._popupOptions),!t.jqx.isHidden(this.host)){var o;if(o=e.baseHost?t.extend({},e.baseHost.coord(!0),{height:e.baseHost[0].offsetHeight}):t.extend({},e.host.coord(!0),{height:e.host[0].offsetHeight}),0===this.$popup.parent().length){var r=this.element.id+"_popup";this.$popup[0].id=r,t.jqx.aria(this,"aria-owns",r)}this.$popup.appendTo(t(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:o.top+o.height,left:o.left}).show();var s=0,n=this.$popup.children();return t.each(n,function(){s+=t(this).outerHeight(!0)-1}),this.$popup.height(s),this._opened=!0,e.baseHost&&(e._addon.addClass(e.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("0",{popup:this.$popup}),t.jqx.aria(this,"aria-expanded",!0),this}},close:function(){var e=this;return this.$popup.hide(),this._opened=!1,e.baseHost&&(e._addon.removeClass(e.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),t.jqx.aria(this,"aria-expanded",!1),this},_render:function(e){var o=this;e=t(e).map(function(e,r){var s,n=r;switch(e){case 0:s=2;break;case 1:s=8;break;case 2:s=10;break;case 3:s=16}(e=t(o.item).attr("data-value",s)).find("a").html(n).attr("data-value",s);var i="";return o.rtl&&(i=" "+o.toThemeProperty("jqx-rtl")+" "+o.toThemeProperty("jqx-formatted-input-item-rtl")),e[0].className=o.toThemeProperty("jqx-item")+" "+o.toThemeProperty("jqx-menu-item")+" "+o.toThemeProperty("jqx-formatted-input-item")+" "+o.toThemeProperty("jqx-rc-all")+i,e[0]});var r;switch(o._radixNumber){case 2:r=0;break;case 8:r=1;break;case 10:r=2;break;case 16:r=3}if(e.eq(r).addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(e),this.dropDownWidth)this.$popup.width(this.dropDownWidth);else if(o.baseHost){var s="string"==typeof o.width&&"%"===o.width.charAt(o.width.length-1)?1:0;this.$popup.width(this.baseHost.outerWidth()-6-s)}else this.$popup.width(this.host.outerWidth()-6);return this},next:function(){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).next();e.length||(e=t(this.$popup.find("li")[0])),e.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(){var t=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).prev();t.length||(t=this.$popup.find("li").last()),t.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var e=this;if(this.addHandler(this.host,"focus",t.proxy(this.onFocus,this)),this.addHandler(this.host,"blur",t.proxy(this.onBlur,this)),this.addHandler(this.host,"keypress",t.proxy(this.keypress,this)),this.addHandler(this.host,"keyup",t.proxy(this.keyup,this)),this.addHandler(this.host,"keydown",t.proxy(this.keydown,this)),this.addHandler(this.$popup,"mousedown",t.proxy(this.click,this)),this.host.on?this.$popup.on("mouseenter","li",t.proxy(this.mouseenter,this)):this.$popup.bind("mouseenter","li",t.proxy(this.mouseenter,this)),this.addHandler(this.host,"change",function(t){t.stopPropagation(),t.preventDefault()}),e.baseHost){var o=e.baseHost.attr("id");if(e._spinButtonsContainer){var r=e._upbutton.add(e._downbutton);e.addHandler(e._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+o,function(){e.disabled||""===e.value||null===e.value||(e._upbutton.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e.changeType="mouse",e._incrementOrDecrement("add"))}),e.addHandler(e._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+o,function(){e.disabled||""===e.value||null===e.value||e._upbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed"))}),e.addHandler(e._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+o,function(){e.disabled||""===e.value||null===e.value||(e.changeType="mouse",e._downbutton.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e._incrementOrDecrement("subtract"))}),e.addHandler(e._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+o,function(){e.disabled||""===e.value||null===e.value||e._downbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed"))}),e.addHandler(r,"mouseenter.jqxFormattedInputSpinButtons"+o,function(o){if(!e.disabled&&""!==e.value&&null!==e.value){var r=t(o.target);r.hasClass("jqx-icon-arrow-up")||r.children().hasClass("jqx-icon-arrow-up")?(e._upbutton.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))):(e._downbutton.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")))}}),e.addHandler(r,"mouseleave.jqxFormattedInputSpinButtons"+o,function(o){if(!e.disabled&&""!==e.value&&null!==e.value){var r=t(o.target);r.hasClass("jqx-icon-arrow-up")||r.children().hasClass("jqx-icon-arrow-up")?(e._upbutton.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))):(e._downbutton.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover")))}}),e.addHandler(t("body"),"mouseup.jqxFormattedInputSpinButtons"+o,function(){e._upbutton.add(e._downbutton).removeClass(e.toThemeProperty("jqx-fill-state-pressed"))})}e._addon&&(e.addHandler(e._addon,"click.jqxFormattedInputAddon"+o,function(){e.disabled||(e._opened?e.close():e.open())}),e.addHandler(e._addon,"mouseenter.jqxFormattedInputAddon"+o,function(){e.disabled||""===e.value||null===e.value||(e._addon.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")))}),e.addHandler(e._addon,"mouseleave.jqxFormattedInputAddon"+o,function(){e.disabled||""===e.value||null===e.value||(e._addon.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover")))}),e.addHandler(e._addon.add(e._arrow),"blur.jqxFormattedInputAddon"+o,function(){e._opened&&!e.disabled&&e.close()})),t.jqx.utilities.resize(e.baseHost,function(){!0===e._opened&&e.close();var t=0;e._spinButtonsContainer&&(t+=e._spinButtonsContainer.outerWidth()),e._addon&&(t+=e._addon.outerWidth()),e.host.css("width",e.baseHost.width()-t-1)})}},removeHandlers:function(){var e=this;if(this.removeHandler(this.host,"focus",t.proxy(this.onFocus,this)),this.removeHandler(this.host,"blur",t.proxy(this.onBlur,this)),this.removeHandler(this.host,"keypress",t.proxy(this.keypress,this)),this.removeHandler(this.host,"keyup",t.proxy(this.keyup,this)),this.removeHandler(this.host,"keydown",t.proxy(this.keydown,this)),this.removeHandler(this.$popup,"mousedown",t.proxy(this.click,this)),this.host.off?this.$popup.off("mouseenter","li",t.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",t.proxy(this.mouseenter,this)),e.baseHost){var o=e.baseHost.attr("id");if(e._spinButtonsContainer){var r=e._upbutton.add(e._downbutton);e.removeHandler(e._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+o),e.removeHandler(e._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+o),e.removeHandler(e._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+o),e.removeHandler(e._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+o),e.removeHandler(r,"mouseenter.jqxFormattedInputSpinButtons"+o),e.removeHandler(r,"mouseleave.jqxFormattedInputSpinButtons"+o),e.removeHandler(t("body"),"mouseup.jqxFormattedInputSpinButtons"+o)}e._addon&&(e.removeHandler(e._addon,"click.jqxFormattedInputAddon"+o),e.removeHandler(e._addon,"mouseenter.jqxFormattedInputAddon"+o),e.removeHandler(e._addon,"mouseleave.jqxFormattedInputAddon"+o),e.removeHandler(e._addon.add(e._arrow),"blur.jqxFormattedInputAddon"+o))}},move:function(t){if(this._opened){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){var o=this;o.changeType="keyboard",this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e);var r=e.charCode?e.charCode:e.which,s=String.fromCharCode(r);if(r>=96&&r<=105&&(s=r-96,r-=48),!0===e.altKey){if(40===r)return void(o._addon&&this.open());if(38===r)return void(o._addon&&this.close())}if(!0===e.ctrlKey){if(67===r)return;if(65===r)return void o.selectAll()}var n=[8,9,13,37,38,39,40,46,88],i=o._regex[""+o._radixNumber];if(!(-1!==n.indexOf(r)||i.test(s)||i.test(e.key)||i.test(e.char)))return e.preventDefault(),!1;var a=o.host[0].selectionStart,h=o.host[0].selectionEnd-a,d=this._getCaretPosition(this.host[0]),p=this.element.value,u=p.split("");if(8===r)h>0?u.splice(a,h):u.splice(d-1,1);else if(46===r)h>0?u.splice(a,h):u.splice(d,1);else if(88===r)!0===e.ctrlKey?h>0&&u.splice(a,h):e.preventDefault();else if(189===r)"-"===u[0]?(u.splice(0,1),o._minus=!1):(u.splice(0,0,"-"),o._minus=!0),e.preventDefault();else{var l=-1===n.indexOf(r)?s:"";h>0?(u.splice(a,h),u.splice(a,0,l)):u.splice(d,0,l)}(u=u.join(""))!==p&&(!1===o._validateValue(u,!1)?o._inputAndAddon.addClass(o.toThemeProperty("jqx-input-invalid")):o._inputAndAddon.removeClass(o.toThemeProperty("jqx-input-invalid")))},keypress:function(t){var e=this;e.suppressKeyPressRepeat||e.move(t)},keyup:function(t){var e=this;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened?this.select(t,this):e._change();break;case 27:if(!this._opened)return;this.close();break;case 189:10===e._radixNumber&&(!0===e._minus?e.element.value="-"+e.element.value:e.element.value=e.element.value.slice(1))}t.stopPropagation(),t.preventDefault(),""!==e.element.value?(e.upperCase?e.host.addClass(e.toThemeProperty("jqx-formatted-input-upper-case")):e.host.addClass(e.toThemeProperty("jqx-formatted-input-lower-case")),e._spinButtonsContainer&&e._spinButtonsContainer.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))):(e.host.removeClass(e.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled")))},_getCaretPosition:function(t){var e=0;if(document.selection){t.focus();var o=document.selection.createRange();o.moveStart("character",-t.value.length),e=o.text.length}else(t.selectionStart||"0"===t.selectionStart)&&(e=t.selectionStart);return e},onBlur:function(){var t=this;t._opened&&t.close(),t._setMaxLength(),t._inputAndAddon.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._change(),10===t._radixNumber&&"exponential"===t.decimalNotation&&(t.element.value=t._getDecimalNotation("exponential")),t._refreshPlaceHolder()},onFocus:function(){var t=this;t._setMaxLength(!0),t._inputAndAddon.addClass(t.toThemeProperty("jqx-fill-state-focus")),10===t._radixNumber&&"exponential"===t.decimalNotation&&(t.element.value=t._number.toString(10))},click:function(e){e.stopPropagation(),e.preventDefault();var o=t(e.target).attr("data-value");this.select(e,this,o)},mouseenter:function(e){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t(e.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_change:function(){var t=this,e=t.value,o=t._validateValue(t.element.value,!0);t._inputAndAddon.removeClass(t.toThemeProperty("jqx-input-invalid")),o.toUpperCase()!==e.toString().toUpperCase()&&(t._raiseEvent("2",{value:o,oldValue:e,radix:t._radixNumber}),t.value=o)},_getRadix:function(t){switch(t){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){var t=this;t._popupOptions=new Array,""!==t.value?(t._popupOptions.push(t._number.toString(2)+" <em>(BIN)</em>"),t._popupOptions.push(t._number.toString(8)+" <em>(OCT)</em>"),t._popupOptions.push(t._number.toString(10)+" <em>(DEC)</em>"),t._popupOptions.push(t._number.toString(16)+" <em>(HEX)</em>")):(t._popupOptions.push("BIN"),t._popupOptions.push("OCT"),t._popupOptions.push("DEC"),t._popupOptions.push("HEX"))},_validateValue:function(t,e){var o=this;if(""!==t){var r=new o.longObj.math.Long.fromString(t.toString(),o._radixNumber);if(r.lessThan(o._minLong)){if(e){o._number=o._minLong;var s=o._minLong.toString(o._radixNumber);return 16===o._radixNumber&&!0===o.upperCase&&(s=s.toUpperCase()),o.element.value=s,s}return!1}if(r.greaterThan(o._maxLong)){if(e){o._number=o._maxLong;var n=o._maxLong.toString(o._radixNumber);return 16===o._radixNumber&&!0===o.upperCase&&(n=n.toUpperCase()),o.element.value=n,n}return!1}return!e||(o._number=r,o.element.value=t,t)}return!e||(o.element.value="",t)},_getNegativeDecimal:function(t,e){var o=t;if(8===e){for(var r=new Array,s=0;s<11;s++){for(var n=parseInt(t.charAt(s),8).toString(2);3!==n.length;)n="0"+n;r.push(n)}"0"===(o=r.join("")).charAt(0)&&(o=o.slice(1))}else if(16===e){for(var i=new Array,a=0;a<8;a++){for(var h=parseInt(t.charAt(a),16).toString(2);4!==h.length;)h="0"+h;i.push(h)}o=i.join("")}for(var d="",p=0;p<o.length;p++)d+="1"===o.charAt(p)?"0":"1";return d=-1*(parseInt(d,2)+1)},_setMaxLength:function(t){var e,o=this;if(!0===t)switch(o._radixNumber){case 2:e=64;break;case 8:e=22;break;case 10:e=20;break;case 16:e=16}else e=524288;o.host.attr("maxlength",e)},_setMinMax:function(t){var e=this;e["_"+t+"Long"]=new e.longObj.math.Long.fromString(e[t].toString(),e._radixNumber)},_getDecimalNotation:function(t){var e=this,o=function(t){if("0"===t)return parseInt(t,10).toExponential();var e;"-"===t.charAt(0)?(e="-",t=t.slice(1,t.length)):e="";for(var o=t.length-1;"0"===t.charAt(t.length-1);)t=t.slice(0,t.length-1);var r=t.slice(1,t.length);return""!==r&&(r="."+r),e+""+t.charAt(0)+r+"e+"+o}(e._number.toString(10));return"scientific"===t?function(t){var o=t.indexOf("e"),r=t.slice(o+1),s=t.slice(0,o+1);return s=s.replace("e","Ã10"),s+=e._toSuperScript(r),s=s.replace("+","")}(o):"engineering"===t?function(t){var o=t.indexOf("e"),r=t.slice(o+1),s=t.slice(0,o),n=parseInt(r,10)%3;s*=Math.pow(10,n);var i=t.slice(0,o).length-n-2;return i>=0&&(s=s.toFixed(i)),s+"Ã10"+e._toSuperScript((parseInt(r,10)-n).toString())}(o):o},_toSuperScript:function(t,e){for(var o="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",r="",s=0;s<t.length;s++)if(!0===e){var n=o.indexOf(t.charAt(s));r+=-1!==n?"-0123456789"[n]:t[s]}else{var i="-0123456789".indexOf(t.charAt(s));r+=-1!==i?o[i]:t[s]}return r},_incrementOrDecrement:function(t){var e=this;e._number.toString(e._radixNumber)!==e.element.value&&(e._number=new e.longObj.math.Long.fromString(e.element.value,e._radixNumber)),e._number=e._number[t](e._spinButtonsStepLong),e.element.value=e._number.toString(e._radixNumber),e._change()},_negativeBinary:function(t,e){var o="";for(t=t.slice(1,t.length);t.length<64;)t="0"+t;for(var r=0;r<t.length;r++)o+="1"===t.charAt(r)?"0":"1";for(var s=!0,n="",i=o.length-1;i>=0;i--){var a;"0"===o.charAt(i)?!0===s?(a="1",s=!1):a="0":a=!0===s?"0":"1",n=a+""+n}switch(e){case 2:return n;case 8:n="00"+n;for(var h="",d=22;d>=1;d--){var p=n[3*d-3]+""+n[3*d-2]+n[3*d-1];h=parseInt(p,2).toString(8)+""+h}return h;case 16:for(var u="",l=16;l>=1;l--){var m=n[4*l-4]+""+n[4*l-3]+n[4*l-2]+n[4*l-1];u=parseInt(m,2).toString(16)+""+u}return u}},_Long:function(){var t=this;t.longObj=new Object;var e=t.longObj;e.math=new Object,e.math.Long=new Object,e.math.Long=function(t,e){this.lowBits=0|t,this.highBits=0|e},e.math.Long.IntCache={},e.math.Long.fromInt=function(t){if(-128<=t&&t<128){var o=e.math.Long.IntCache[t];if(o)return o}var r=new e.math.Long(0|t,t<0?-1:0);return-128<=t&&t<128&&(e.math.Long.IntCache[t]=r),r},e.math.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.math.Long.ZERO:t<=-e.math.Long.TWO_PWR_63_DBL_?e.math.Long.MIN_VALUE:t+1>=e.math.Long.TWO_PWR_63_DBL_?e.math.Long.MAX_VALUE:t<0?e.math.Long.fromNumber(-t).negate():new e.math.Long(t%e.math.Long.TWO_PWR_32_DBL_|0,t/e.math.Long.TWO_PWR_32_DBL_|0)},e.math.Long.fromBits=function(t,o){return new e.math.Long(t,o)},e.math.Long.fromString=function(t,o){if(0===t.length)throw new Error("number format error: empty string");var r=o||10;if(r<2||36<r)throw new Error("radix out of range: "+r);if("-"===t.charAt(0))return e.math.Long.fromString(t.substring(1),r).negate();if(t.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+t);for(var s=e.math.Long.fromNumber(Math.pow(r,8)),n=e.math.Long.ZERO,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),h=parseInt(t.substring(i,i+a),r);if(a<8){var d=e.math.Long.fromNumber(Math.pow(r,a));n=n.multiply(d).add(e.math.Long.fromNumber(h))}else n=(n=n.multiply(s)).add(e.math.Long.fromNumber(h))}return n},e.math.Long.TWO_PWR_16_DBL_=65536,e.math.Long.TWO_PWR_24_DBL_=1<<24,e.math.Long.TWO_PWR_32_DBL_=e.math.Long.TWO_PWR_16_DBL_*e.math.Long.TWO_PWR_16_DBL_,e.math.Long.TWO_PWR_31_DBL_=e.math.Long.TWO_PWR_32_DBL_/2,e.math.Long.TWO_PWR_48_DBL_=e.math.Long.TWO_PWR_32_DBL_*e.math.Long.TWO_PWR_16_DBL_,e.math.Long.TWO_PWR_64_DBL_=e.math.Long.TWO_PWR_32_DBL_*e.math.Long.TWO_PWR_32_DBL_,e.math.Long.TWO_PWR_63_DBL_=e.math.Long.TWO_PWR_64_DBL_/2,e.math.Long.ZERO=e.math.Long.fromInt(0),e.math.Long.ONE=e.math.Long.fromInt(1),e.math.Long.NEG_ONE=e.math.Long.fromInt(-1),e.math.Long.MAX_VALUE=e.math.Long.fromBits(-1,2147483647),e.math.Long.MIN_VALUE=e.math.Long.fromBits(0,-2147483648),e.math.Long.TWO_PWR_24_=e.math.Long.fromInt(1<<24),e.math.Long.prototype.toInt=function(){return this.lowBits},e.math.Long.prototype.toNumber=function(){return this.highBits*e.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},e.math.Long.prototype.toString=function(o){var r=o||10;if(r<2||36<r)throw new Error("radix out of range: "+r);if(this.isZero())return"0";var s,n;if(this.isNegative()){if(this.equals(e.math.Long.MIN_VALUE)){var i=e.math.Long.fromNumber(r),a=this.div(i);return s=a.multiply(i).subtract(this),a.toString(r)+s.toInt().toString(r)}switch(r){case 2:case 8:case 16:return n="-"+this.negate().toString(2),t._negativeBinary(n,r);default:return n="-"+this.negate().toString(r)}}var h=e.math.Long.fromNumber(Math.pow(r,6));for(s=this,n="";;){var d=s.div(h),p=s.subtract(d.multiply(h)).toInt().toString(r);if((s=d).isZero())return p+n;for(;p.length<6;)p="0"+p;n=""+p+n}},e.math.Long.prototype.getHighBits=function(){return this.highBits},e.math.Long.prototype.getLowBits=function(){return this.lowBits},e.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:e.math.Long.TWO_PWR_32_DBL_+this.lowBits},e.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!==this.highBits?this.highBits:this.lowBits,o=31;o>0&&0==(t&1<<o);o--);return 0!==this.highBits?o+33:o+1},e.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},e.math.Long.prototype.isNegative=function(){return this.highBits<0},e.math.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},e.math.Long.prototype.equals=function(t){return this.highBits===t.highBits&&this.lowBits===t.lowBits},e.math.Long.prototype.notEquals=function(t){return this.highBits!==t.highBits||this.lowBits!==t.lowBits},e.math.Long.prototype.lessThan=function(t){return this.compare(t)<0},e.math.Long.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},e.math.Long.prototype.greaterThan=function(t){return this.compare(t)>0},e.math.Long.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},e.math.Long.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),o=t.isNegative();return e&&!o?-1:!e&&o?1:this.subtract(t).isNegative()?-1:1},e.math.Long.prototype.negate=function(){return this.equals(e.math.Long.MIN_VALUE)?e.math.Long.MIN_VALUE:this.not().add(e.math.Long.ONE)},e.math.Long.prototype.add=function(t){var o=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,n=65535&this.lowBits,i=t.highBits>>>16,a=65535&t.highBits,h=t.lowBits>>>16,d=0,p=0,u=0,l=0;return l+=n+(65535&t.lowBits),u+=l>>>16,l&=65535,u+=s+h,p+=u>>>16,u&=65535,p+=r+a,d+=p>>>16,p&=65535,d+=o+i,d&=65535,e.math.Long.fromBits(u<<16|l,d<<16|p)},e.math.Long.prototype.subtract=function(t){return this.add(t.negate())},e.math.Long.prototype.multiply=function(t){if(this.isZero())return e.math.Long.ZERO;if(t.isZero())return e.math.Long.ZERO;if(this.equals(e.math.Long.MIN_VALUE))return t.isOdd()?e.math.Long.MIN_VALUE:e.math.Long.ZERO;if(t.equals(e.math.Long.MIN_VALUE))return this.isOdd()?e.math.Long.MIN_VALUE:e.math.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(e.math.Long.TWO_PWR_24_)&&t.lessThan(e.math.Long.TWO_PWR_24_))return e.math.Long.fromNumber(this.toNumber()*t.toNumber());var o=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,n=65535&this.lowBits,i=t.highBits>>>16,a=65535&t.highBits,h=t.lowBits>>>16,d=65535&t.lowBits,p=0,u=0,l=0,m=0;return m+=n*d,l+=m>>>16,m&=65535,l+=s*d,u+=l>>>16,l&=65535,l+=n*h,u+=l>>>16,l&=65535,u+=r*d,p+=u>>>16,u&=65535,u+=s*h,p+=u>>>16,u&=65535,u+=n*a,p+=u>>>16,u&=65535,p+=o*d+r*h+s*a+n*i,p&=65535,e.math.Long.fromBits(l<<16|m,p<<16|u)},e.math.Long.prototype.div=function(t){if(t.isZero())throw new Error("division by zero");if(this.isZero())return e.math.Long.ZERO;var o,r;if(this.equals(e.math.Long.MIN_VALUE))return t.equals(e.math.Long.ONE)||t.equals(e.math.Long.NEG_ONE)?e.math.Long.MIN_VALUE:t.equals(e.math.Long.MIN_VALUE)?e.math.Long.ONE:(o=this.shiftRight(1).div(t).shiftLeft(1)).equals(e.math.Long.ZERO)?t.isNegative()?e.math.Long.ONE:e.math.Long.NEG_ONE:(r=this.subtract(t.multiply(o)),o.add(r.div(t)));if(t.equals(e.math.Long.MIN_VALUE))return e.math.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var s=e.math.Long.ZERO;for(r=this;r.greaterThanOrEqual(t);){o=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var n=Math.ceil(Math.log(o)/Math.LN2),i=n<=48?1:Math.pow(2,n-48),a=e.math.Long.fromNumber(o),h=a.multiply(t);h.isNegative()||h.greaterThan(r);)o-=i,h=(a=e.math.Long.fromNumber(o)).multiply(t);a.isZero()&&(a=e.math.Long.ONE),s=s.add(a),r=r.subtract(h)}return s},e.math.Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},e.math.Long.prototype.not=function(){return e.math.Long.fromBits(~this.lowBits,~this.highBits)},e.math.Long.prototype.and=function(t){return e.math.Long.fromBits(this.lowBits&t.lowBits,this.highBits&t.highBits)},e.math.Long.prototype.or=function(t){return e.math.Long.fromBits(this.lowBits|t.lowBits,this.highBits|t.highBits)},e.math.Long.prototype.xor=function(t){return e.math.Long.fromBits(this.lowBits^t.lowBits,this.highBits^t.highBits)},e.math.Long.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var o=this.lowBits;if(t<32){var r=this.highBits;return e.math.Long.fromBits(o<<t,r<<t|o>>>32-t)}return e.math.Long.fromBits(0,o<<t-32)},e.math.Long.prototype.shiftRight=function(t){if(0==(t&=63))return this;var o=this.highBits;if(t<32){var r=this.lowBits;return e.math.Long.fromBits(r>>>t|o<<32-t,o>>t)}return e.math.Long.fromBits(o>>t-32,o>=0?0:-1)},e.math.Long.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var o=this.highBits;if(t<32){var r=this.lowBits;return e.math.Long.fromBits(r>>>t|o<<32-t,o>>>t)}return 32===t?e.math.Long.fromBits(o,0):e.math.Long.fromBits(o>>>t-32,0)}}})}(jqxBaseFramework);

!function(t){var e={defineInstance:function(){var e={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:!1,editableLabels:!1,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:!1,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===t.jqx._jqxGauge.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(e){var i=this;if(i.that=this,t.jqx.aria(i),i._radius=i.radius,i.endAngle=i.endAngle*Math.PI/180+Math.PI/2,i.startAngle=i.startAngle*Math.PI/180+Math.PI/2,"s"===i.int64){if(!t.jqx.longInt)throw new Error("jqxGauge: Missing reference to jqxmath.js");t.jqx.longInt(i),i._value64=(new t.jqx.math).fromString(i.value.toString(),10),i._min64=(new t.jqx.math).fromString(i.min.toString(),10),i._max64=(new t.jqx.math).fromString(i.max.toString(),10)}else if("u"===i.int64){try{BigNumber}catch(t){throw new Error("jqxGauge: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max)}else i.value=new Number(i.value);i._refresh(),i.renderer.getContainer().css("overflow","hidden"),!1!==i.int64?i.setValue(i._value64,0):i.setValue(i.value,0),t.jqx.utilities.resize(i.host,function(){i._refresh(!0)}),i.host.addClass(i.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!t.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var t=0;t<this.ranges.length;t+=1)this.ranges[t]=new this._rangeConstructor(this.ranges[t],this)},_hostInit:function(t){var e=this._getScale(this.width,"width",this.host.parent()),i=this._getScale(this.height,"height",this.host.parent()),s=this._outerBorderOffset(),r=this.host;r.width(e),r.height(i),this.radius=0;var a=(this._getScale(this._radius,"width",this.host)||e/2)-s,n=(this._getScale(this._radius,"height",this.host)||i/2)-s;if(this.radius=Math.min(a,n),this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),t||(r[0].innerHTML="<div />"),this._gaugeParent=r.children(),this._gaugeParent.width(e),this._gaugeParent.height(i),t){var h=this.renderer.getContainer();h[0].style.width=e+"px",h[0].style.height=i+"px"}else this.renderer.init(this._gaugeParent)},_initRenderer:function(e){if(!t.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return t.jqx.createRenderer(this,e)},_refresh:function(e){var i=this;if(e)return i._ticksIterator=0,i._labelsIterator=0,i._ranges&&t(i._ranges).remove(),i._pointer&&t(i._pointer).remove(),i._pointer=null,i._ranges=[],i.niceInterval&&(i._labels&&t(i._labels).remove(),i._labels=[],i._ticks&&(t(i._ticks).remove(),i._ticks=[])),i._hostInit(e),void i._render(e);i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host)),i.renderer&&(i._ranges&&t(i._ranges).remove(),i._pointer&&t(i._pointer).remove(),i._labels&&t(i._labels).remove(),i._cap&&t(i._cap).remove(),i._ticks&&t(i._ticks).remove(),i._border&&t(i._border).remove(),i._caption&&t(i._caption).remove(),i._caption=null,i._labels=[],i._cap=null,i._ticks=[],i._ranges=[],i._border=null,i._pointer=null,i._validateProperties(),i._removeElements(),i._hostInit(),i._render(),i.setValue(this.value,0),i._editableLabels())},val:function(t){if(0==arguments.length||"object"==typeof t)return this.value;this.setValue(t,0)},refresh:function(t){!0!==t&&this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){return(parseInt(this.border.style["stroke-width"],10)||1)/2},_removeCollection:function(e){for(var i=0;i<e.length;i+=1)t(e[i]).remove();e=[]},_render:function(t){this._addBorder(t),this._addGauge(t),this._addRanges(t),this.niceInterval?this._addTicks():(this._addTicks(t),this._addLabels(t)),this._styleLabels(),this._addCaption(t),this._addPointer(t),this._addCap(t)},_addBorder:function(t){if(this.border.visible){if(t){i=this._outerBorderOffset();return this._border.setAttribute("cx",this._originalRadius+i),this._border.setAttribute("cy",this._originalRadius+i),void this._border.setAttribute("r",this._originalRadius)}var e=this.border.style.fill,i=this._outerBorderOffset();e||(e="#BABABA"),this.border.showGradient&&(e.indexOf("url")<0&&e.indexOf("#grd")<0?this._originalColor=e:e=this._originalColor,e=this.renderer._toLinearGradient(e,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+i,this._originalRadius+i,this._originalRadius),this.border.style.fill=e,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(t){var e=this._originalRadius,i=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],!0),this._outerBorderOffset());t?(this._gauge.setAttribute("cx",e+i),this._gauge.setAttribute("cy",e+i),this._gauge.setAttribute("r",this._innerRadius)):(this._gauge=this.renderer.circle(e+i,e+i,this._innerRadius),this.renderer.attr(this._gauge,this.style))},_addCap:function(e){var i="visible",s=this._outerBorderOffset();this.cap.visible||(i="hidden");var r,a=this._originalRadius,n=this._getSize(this.cap.size);e?(this._cap.setAttribute("cx",a+s),this._cap.setAttribute("cy",a+s),this._cap.setAttribute("r",n),this._capCenter=[a,a]):(r=this.renderer.circle(a+s,a+s,n),this._capCenter=[a,a],this.renderer.attr(r,this.cap.style),t(r).css("visibility",i),this._cap=r)},_addTicks:function(e){function i(t){l.visible&&h._drawTick({angle:h._getAngleByValue(t),distance:h._getDistance(h.ticksDistance),style:l.style,size:h._getSize(l.size),type:"major"},e)}function s(t){o.visible&&h._drawTick({angle:h._getAngleByValue(t),distance:h._getDistance(h.ticksDistance),style:o.style,size:h._getSize(o.size),type:"minor"},e)}function r(t){h.labels.visible&&h._addLabel({angle:h._getAngleByValue(t),value:n>=1?t:new Number(t).toFixed(2),distance:h._getDistance(h._getLabelsDistance()),style:h.labels.className},e)}var a,n,h=this,o=this.ticksMinor,l=this.ticksMajor,u={};if(!1!==l.visible||!1!==o.visible||!1!==this.labels.visible){var d=0;if("s"===h.int64)if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),a=this._getNiceInterval("radial",!0)):(n=(new t.jqx.math).fromString(l.interval.toString(),10),a=(new t.jqx.math).fromString(o.interval.toString(),10)):(startToEnd=this._max64.subtract(this._min64),a=startToEnd.div((new t.jqx.math).fromString(o.number.toString(),10)),n=startToEnd.div((new t.jqx.math).fromString(l.number.toString(),10))),this.niceInterval){i(this._min64),r(this._min64);for(f=m=this._min64.subtract(this._min64.modulo(n)).add(n);f.greaterThanOrEqual(this._min64);f=f.subtract(a))g=f;for(var c=g,_=m;(c.lessThan(this._max64)||_.lessThan(this._max64))&&!((d+=1)>250)&&(_.lessThanOrEqual(this._max64)&&(i(_),u[_.toString()]=!0,c.equals(m)?Math.abs(this._getAngleByValue(_)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&r(_):_.add(n).lessThan(this._max64)?r(_):Math.abs(this._getAngleByValue(_)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&r(_)),!u[c.toString()]&&c.lessThanOrEqual(h._max64)&&s(c),!h._checkForOverflow(c,a)&&!h._checkForOverflow(_,n));c=c.add(a),_=_.add(n));i(this._max64),r(this._max64)}else for(var c=(new t.jqx.math).fromString(h.min.toString(),10),_=(new t.jqx.math).fromString(h.min.toString(),10);(c.lessThanOrEqual(h._max64)||_.lessThanOrEqual(h._max64))&&!((d+=1)>250);c=c.add(a),_=_.add(n))_.lessThanOrEqual(h._max64)&&l.visible&&(i(_),u[_.toString()]=!0),!u[c.toString()]&&o.visible&&c.lessThanOrEqual(h._max64)&&s(c);else if("u"===h.int64)if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),a=this._getNiceInterval("radial",!0)):(n=new BigNumber(l.interval),a=new BigNumber(o.interval)):(startToEnd=this._max64.subtract(this._min64),a=startToEnd.divide(new BigNumber(o.number)),n=startToEnd.divide(new BigNumber(l.number))),this.niceInterval){i(this._min64),r(this._min64);for(f=m=this._min64.subtract(this._min64.mod(n)).add(n);-1!==f.compare(this._min64);f=f.subtract(a))g=f;for(var c=g,_=m;(-1===c.compare(this._max64)||-1===_.compare(this._max64))&&!((d+=1)>250);c=c.add(a),_=_.add(n))1!==_.compare(this._max64)&&(i(_),u[_.toString()]=!0,0===c.compare(m)?Math.abs(this._getAngleByValue(_)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&r(_):-1===_.add(n).compare(this._max64)?r(_):Math.abs(this._getAngleByValue(_)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&r(_)),u[c.toString()]||1===c.compare(h._max64)||s(c);i(this._max64),r(this._max64)}else for(var c=new BigNumber(h.min),_=new BigNumber(h.min);(1!==c.compare(h._max64)||1!==_.compare(h._max64))&&!((d+=1)>250);c=c.add(a),_=_.add(n))1!==_.compare(h._max64)&&l.visible&&(i(_),u[_.toString()]=!0),!u[c.toString()]&&o.visible&&1!==c.compare(h._max64)&&s(c);else if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),a=this._getNiceInterval("radial",!0)):(n=l.interval,a=o.interval):(startToEnd=this.max-this.min,a=startToEnd/o.number,n=startToEnd/l.number),this.niceInterval){i(this.min),r(this.min);for(var g,m=this.min-this.min%n+n,f=m;f>=this.min;f-=a)g=f;for(var c=g,_=m;(c<this.max||_<this.max)&&!((d+=1)>250);c+=a,_+=n)_<=this.max&&(i(_),u[_.toFixed(5)]=!0,c===m?Math.abs(this._getAngleByValue(_)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&r(_):_+n<this.max?r(_):Math.abs(this._getAngleByValue(_)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&r(_)),!u[c.toFixed(5)]&&c<=this.max&&s(c);i(this.max),r(this.max)}else for(var c=this.min,_=this.min;(c<=this.max||_<=this.max)&&!((d+=1)>250);c+=a,_+=n)_<=this.max&&l.visible&&(i(_),u[_.toFixed(5)]=!0),!u[c.toFixed(5)]&&o.visible&&c<=this.max&&s(c);this._handleTicksVisibility()}},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(t){return t.toString().indexOf("%")>=0&&(t=parseInt(t,10)/100*this._innerRadius),t=parseInt(t,10)},_getDistance:function(t){return this._getSize(t)+(this._originalRadius-this._innerRadius)},_drawTick:function(t,e){var i,s=this.that,r=t.angle,a=t.distance,n=t.size,h=s._outerBorderOffset(),o=s._originalRadius,l=o-a,u=l-n,d=o+h+l*Math.sin(r),c=o+h+l*Math.cos(r),_=o+h+u*Math.sin(r),g=o+h+u*Math.cos(r);t.style.class=s.toThemeProperty("jqx-gauge-tick-"+t.type),s._isVML&&(d=Math.round(d),_=Math.round(_),c=Math.round(c),g=Math.round(g)),e&&!s.niceInterval?((i=s._ticks[s._ticksIterator]).setAttribute("x1",d),i.setAttribute("x2",_),i.setAttribute("y1",c),i.setAttribute("y2",g),s._ticksIterator++):(i=s.renderer.line(d,c,_,g,t.style),s._ticks.push(i))},_addRanges:function(t){var e="visible";if(this.showRanges)for(var i=this.ranges,s=0;s<i.length;s+=1)this._addRange(i[s],e,t);else e="hidden"},_getMaxRangeSize:function(){for(var t,e,i=-1,s=0;s<this.ranges.length;s+=1)t=this.ranges[s].startWidth,e=this.ranges[s].endWidth,t>i&&(i=t),e>i&&(i=e);return i},_getRangeDistance:function(t,e){var i=this._getLabelsDistance(),s=this._getDistance(t),r=this._getMaxRangeSize();if("outside"===this.labels.position){if(i<s+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+r/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&i+this._getMaxTickSize()<s)return this._getSize(this.border.size)+this._originalRadius/20;return s},_addRange:function(t,e,i){var s=this.that;if(!("s"===s.int64&&(t._startValue64.lessThan(s._min64)||t._endValue64.greaterThan(s._max64))||"u"===s.int64&&(-1===t._startValue64.compare(s._min64)||1===t._endValue64.compare(s._max64))||!1===s.int64&&(t.startValue<s.min||t.endValue>s.max))){var r,t,a=s.int64?s._getAngleByValue(t._startValue64):s._getAngleByValue(t.startValue),n=s.int64?s._getAngleByValue(t._endValue64):s._getAngleByValue(t.endValue),h=s._originalRadius,o=h-s._getRangeDistance(t.startDistance,t.startWidth),l=h-s._getRangeDistance(t.endDistance,t.endWidth),u=t.startWidth,d=t.endWidth,c=s._outerBorderOffset(),_={x:h+c+o*Math.sin(a),y:h+c+o*Math.cos(a)},g={x:h+c+l*Math.sin(n),y:h+c+l*Math.cos(n)},m=s._getProjectionPoint(a,h+c,o,u),f=s._getProjectionPoint(n,h+c,l,d),v="default";Math.abs(n-a)>Math.PI&&(v="opposite"),r=s._isVML?s._rangeVMLRender(_,g,h,m,f,d,u,o,l,v):s._rangeSVGRender(_,g,h,m,f,d,u,o,l,v),t.style.visibility=e,t.style.class=s.toThemeProperty("jqx-gauge-range"),t=s.renderer.path(r,t.style),s._ranges.push(t)}},_rangeSVGRender:function(t,e,i,s,r,a,n,h,o,l){var u="",h=i-h,d=["0,1","0,0"];return"opposite"===l&&(d=["1,1","1,0"]),u="M"+t.x+","+t.y+" ",u+="A"+(i-h)+","+(i-h)+" 100 "+d[0]+" "+e.x+","+e.y+" ",u+="L "+r.x+","+r.y+" ",u+="A"+(i-a-h)+","+(i-a-h)+" 100 "+d[1]+" "+s.x+","+s.y+" ",u+="L "+t.x+","+t.y+" ",u+="z"},_rangeVMLRender:function(t,e,i,s,r,a,n,h,o,l){i-=i-h+10;var u="",d=Math.floor(i+(n+a)/2),h=Math.floor(i-h),o=Math.floor(o),c={x:(s.x+r.x)/2,y:(s.y+r.y)/2},_=Math.sqrt((r.x-s.x)*(r.x-s.x)+(r.y-s.y)*(r.y-s.y)),g=Math.floor(c.x+Math.sqrt(i*i-_/2*(_/2))*(s.y-r.y)/_),m=Math.floor(c.y+Math.sqrt(i*i-_/2*(_/2))*(r.x-s.x)/_),f={x:(t.x+e.x)/2,y:(t.y+e.y)/2},v=Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),b=Math.floor(f.x+Math.sqrt(Math.abs(d*d-v/2*(v/2)))*(t.y-e.y)/v),p=Math.floor(f.y+Math.sqrt(Math.abs(d*d-v/2*(v/2)))*(e.x-t.x)/v);return"opposite"===l&&(g=Math.floor(c.x-Math.sqrt(i*i-_/2*(_/2))*(s.y-r.y)/_),m=Math.floor(c.y-Math.sqrt(i*i-_/2*(_/2))*(r.x-s.x)/_),b=Math.floor(f.x-Math.sqrt(Math.abs(d*d-v/2*(v/2)))*(t.y-e.y)/v),p=Math.floor(f.y-Math.sqrt(Math.abs(d*d-v/2*(v/2)))*(e.x-t.x)/v)),i=Math.floor(i),e={x:Math.floor(e.x),y:Math.floor(e.y)},t={x:Math.floor(t.x),y:Math.floor(t.y)},s={x:Math.floor(s.x),y:Math.floor(s.y)},r={x:Math.floor(r.x),y:Math.floor(r.y)},u="m "+e.x+","+e.y,u+="at "+(b-d)+" "+(p-d)+" "+(d+b)+" "+(d+p)+" "+e.x+","+e.y+" "+t.x+","+t.y,u+="l "+s.x+","+s.y,u+="m "+e.x+","+e.y,u+="l "+r.x+","+r.y,u+="at "+(g-i)+" "+(m-i)+" "+(i+g)+" "+(i+m)+" "+r.x+","+r.y+" "+s.x+","+s.y,u+="qx "+s.x+" "+s.y},_getProjectionPoint:function(t,e,i,s){return{x:e+(i-s)*Math.sin(t),y:e+(i-s)*Math.cos(t)}},_addLabels:function(e){var i=this,s=i._getLabelInterval();if(i.labels.visible&&"0"!==i.labels.interval.toString()){var r=this._getDistance(this._getLabelsDistance()),a=0;if("s"===i.int64)for(n=(new t.jqx.math).fromNumber(i.min.toString(),10);n.lessThanOrEqual(i._max64)&&!((a+=1)>250)&&(!n.lessThan(i._min64)&&!n.greaterThan(i._max64));n=n.add(s))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:r,style:this.labels.className});else if("u"===i.int64)for(n=new BigNumber(i.min);1!==n.compare(i._max64)&&!((a+=1)>250)&&(-1!==n.compare(i._min64)&&1!==n.compare(i._max64));n=n.add(s))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:r,style:this.labels.className});else for(var n=this.min;n<=this.max&&!((a+=1)>250);n+=s)this._addLabel({angle:this._getAngleByValue(n),value:s>=1?n:new Number(n).toFixed(2),distance:r,style:this.labels.className},e)}},_getLabelsDistance:function(){var t=this._getMaxLabelSize(),e=this._getDistance(this.labels.distance),i=this._getDistance(this.ticksDistance);return t=t.width,"inside"===this.labels.position?i+t-5:"outside"===this.labels.position?e<i-1.5*t?e:Math.max(i-1.5*t,.6*t):this.labels.distance},_addLabel:function(t,e){var i=this.that,s=t.angle,r=i._originalRadius,a=r-t.distance,n=i.labels.offset,h=i._outerBorderOffset(),o=r+h+a*Math.sin(s)+n[0],l=r+h+a*Math.cos(s)+n[1],u=t.value,d=t.style||"",c=i.labels.fontSize;u=i._formatLabel(u.toString());var _={class:d};if(c&&(_["font-size"]=c),i.labels.fontFamily&&(_["font-family"]=i.labels.fontFamily),i.labels.fontWeight&&(_["font-weight"]=i.labels.fontWeight),i.labels.fontStyle&&(_["font-style"]=i.labels.fontStyle),e&&!i.niceInterval){var g=i._labels[i._labelsIterator],m=i.renderer._measureText(u,0,_,!0),f=m.textPartsInfo,v=(f.parts,f.width,f.height);g.setAttribute("x",Math.round(o)-m.width/2+(m.width-f.width)/2),g.setAttribute("y",Math.round(l)+v+(m.height-v)/2),i._labelsIterator++}else{var b=i.renderer.measureText(u,0,_),p=0;void 0!==c&&Math.PI>s&&(p=-b.width/2*(parseInt(c)/25),parseInt(c)<=10&&(p*=-1)),_.class=this.toThemeProperty("jqx-gauge-label"),g=i.renderer.text(u,Math.round(o)-b.width/2+p,Math.round(l),b.width,b.height,0,_),i._labels.push(g)}},_addCaption:function(t){if(!1!==this.caption.visible){var e=this.that,i=e.caption.value,s=e.toThemeProperty("jqx-gauge-caption"),r=e.caption.offset,a=e.renderer.measureText(i,0,{class:s}),n=e._getPosition(this.caption.position,a,r),h=(e.caption.style,e._outerBorderOffset());if(t)this._caption.setAttribute("x",n.left+h),this._caption.setAttribute("y",n.top+h);else{var o=e.renderer.text(i,n.left+h,n.top+h,a.width,a.height,0,{class:s});this._caption=o}}},_getPosition:function(t,e,i){var s=0,r=0,a=this._originalRadius;switch(t){case"left":s=(a-e.width)/2,r=a-e.height/2;break;case"right":s=a+(a-e.width)/2,r=a-e.height/2;break;case"bottom":s=(2*a-e.width)/2,r=(a+2*a-e.height)/2;break;default:s=(2*a-e.width)/2,r=(a+e.height)/2}return{left:s+i[0],top:r+i[1]}},_addPointer:function(e){var i="visible";this.pointer.visible||(i="hidden");this._originalRadius;var s,r=this._getSize(this.pointer.length),a=this._getAngleByValue(this.value),n=this.pointer.pointerType;s=this._computePointerPoints(this._getSize(this.pointer.width),a,r,"default"!==n),this._pointer=this.renderer.path(s,this.pointer.style),t(this._pointer).css("visibility",i)},_computePointerPoints:function(t,e,i,s){return s?this._computeRectPoints(t,e,i):this._computeArrowPoints(t,e,i)},_computeArrowPoints:function(t,e,i){var s=this._originalRadius-.5,r=Math.sin(e),a=Math.cos(e),n=this._outerBorderOffset(),h=s+n+i*r,o=s+n+i*a,l=s+n+t*a,u=s+n-t*r,d=s+n-t*a,c=s+n+t*r;return this._isVML&&(l=Math.round(l),d=Math.round(d),u=Math.round(u),c=Math.round(c),h=Math.round(h),o=Math.round(o)),"M "+l+","+u+" L "+d+","+c+" L "+h+","+o},_computeRectPoints:function(t,e,i){var s=this._originalRadius,r=Math.sin(e),a=Math.cos(e),n=this._outerBorderOffset(),h=s+n-t*a+i*r,o=s+n+t*r+i*a,l=s+n+t*a+i*r,u=s+n-t*r+i*a,d=s+n+t*a,c=s+n-t*r,_=s+n-t*a,g=s+n+t*r;return this._isVML&&(d=Math.round(d),_=Math.round(_),c=Math.round(c),g=Math.round(g),h=Math.round(h),o=Math.round(o),l=Math.round(l),u=Math.round(u)),"M "+d+","+c+" L "+_+","+g+" L "+h+","+o+" "+l+","+u},_getAngleByValue:function(e){var i,s,r,a,n=this,h=n.startAngle,o=h-n.endAngle;if(!1!==n.int64){e="s"===n.int64?(new t.jqx.math).fromString(e.toString(),10):new BigNumber(e),i=n._min64,s=n._max64.subtract(i),r=e.subtract(i),"u"===n.int64&&(r=r.intPart());var l,u,d=s.toString(),c=r.toString();if(d.length>15){var _=d.length-15;if(d=d.slice(0,15)+"."+d.slice(15),l=parseFloat(d),c.length>_){var g=c.length-_;c=c.slice(0,g)+"."+c.slice(g)}else if(c.length===_)c="0."+c;else{for(var m="0.",f=0;f<_-c.length;f++)m+="0";c=m+""+c}u=parseFloat(c)}else l=parseFloat(s.toString()),u=parseFloat(r.toString());a=o*u/l+h+Math.PI}else a=o*(r=e-(i=n.min))/(s=n.max-i)+h+Math.PI;return a},_setValue:function(e){var i=this;if("s"===i.int64&&e.lessThanOrEqual(i._max64)&&e.greaterThanOrEqual(i._min64)||"u"===i.int64&&1!==e.compare(i._max64)&&-1!==e.compare(i._min64)||!1===i.int64&&e<=i.max&&e>=i.min){var s=i._getAngleByValue(e),r=i.pointer.pointerType,a=i._computePointerPoints(i._getSize(i.pointer.width),s,i._getSize(i.pointer.length),"default"!==r);i._isVML?(i._pointer&&t(i._pointer).remove(),i._pointer=i.renderer.path(a,i.pointer.style)):i.renderer.attr(i._pointer,{d:a}),!1!==i.int64?(i.value=e.toString(),"s"===i.int64?i._value64=(new t.jqx.math).fromString(i.value,10):i._value64=new BigNumber(i.value)):i.value=e,t.jqx.aria(i,"aria-valuenow",e.toString())}},resize:function(t,e){this.width=t,this.height=e,this.refresh()},propertiesChangedHandler:function(t,e,i){i.width&&i.height&&2==Object.keys(i).length&&t._refresh(!0)},propertyChangedHandler:function(e,i,s,r){r!=s&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("min"==i&&(!0===e.int64?e._min64=(new t.jqx.math).fromString(r.toString(),10):this.min=parseInt(r),t.jqx.aria(e,"aria-valuemin",r)),"max"==i&&(!0===e.int64?e._max64=(new t.jqx.math).fromString(r.toString(),10):this.max=parseInt(r),t.jqx.aria(e,"aria-valuemax",r)),"disabled"===i?(r?this.disable():this.enable(),t.jqx.aria(this,"aria-disabled",r)):"value"===i?(this.value=s,this.setValue(r)):("startAngle"===i?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===i?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===i?(this.pointer.style=null,this.cap.style=null):"radius"===i&&(this._radius=r),"animationDuration"!==i&&"easing"!==i&&this._refresh()),this.renderer instanceof t.jqx.HTML5Renderer&&this.renderer.refresh()))},_tickConstructor:function(t,e){function i(i,s){!1===e.int64?i[s]=parseFloat(t[s]):i[s]=t[s],i[s]||(i[s]=5)}if(this.host)return new this._tickConstructor(t,e);t=t||{},this.size=e._validatePercentage(t.size,"10%"),i(this,"interval"),i(this,"number"),this.style=t.style||{stroke:"#898989","stroke-width":1},void 0===t.visible?this.visible=!0:this.visible=t.visible},_capConstructor:function(t,e){var i=e._getColorScheme(e.colorScheme)[0];if(this.host)return new this._capConstructor(t,e);void 0===(t=t||{}).visible?this.visible=!0:this.visible=t.visible,this.size=e._validatePercentage(t.size,"4%"),this.style=t.style||{fill:i,"stroke-width":"1px",stroke:i,"z-index":30}},_pointerConstructor:function(t,e){var i=e._getColorScheme(e.colorScheme)[0];if(this.host)return new this._pointerConstructor(t,e);void 0===(t=t||{}).visible?this.visible=!0:this.visible=t.visible,this.pointerType=t.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=t.style||{"z-index":0,stroke:i,fill:i,"stroke-width":1},this.length=e._validatePercentage(t.length,"70%"),this.width=e._validatePercentage(t.width,"2%")},_labelsConstructor:function(e,i){if(this.host)return new this._labelsConstructor(e,i);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.offset=e.offset,this.offset instanceof Array||(this.offset=[0,-10]),e.interval||(e.interval=20),!1!==i.int64?(this.interval=e.interval,"s"===i.int64?this._interval64=(new t.jqx.math).fromString(e.interval.toString(),10):this._interval64=new BigNumber(e.interval)):this.interval=parseFloat(e.interval),e.number||(e.number=5),this.number=e.number,this.distance=i._validatePercentage(e.distance,"38%"),this.position=e.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=e.formatValue,this.formatSettings=e.formatSettings,this.fontSize=e.fontSize,this.fontFamily=e.fontFamily,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle},_captionConstructor:function(t,e){if(this.host)return new this._captionConstructor(t,e);void 0===(t=t||{}).visible?this.visible=!0:this.visible=t.visible,this.value=t.value||"",this.position=t.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=t.offset,this.offset instanceof Array||(this.offset=[0,0])},_rangeConstructor:function(e,i){if(this.host)return new this._rangeConstructor(e,i);e=e||{},this.startDistance=i._validatePercentage(e.startDistance,"5%"),this.endDistance=i._validatePercentage(e.endDistance,"5%"),this.style=e.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(e.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(e.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),void 0===e.startValue&&(e.startValue=0),void 0===e.endValue&&(e.endValue=100),!1!==i.int64?(this.startValue=e.startValue,this.endValue=e.endValue,"s"===i.int64?(this._startValue64=(new t.jqx.math).fromString(e.startValue.toString(),10),this._endValue64=(new t.jqx.math).fromString(e.endValue.toString(),10)):(this._startValue64=new BigNumber(e.startValue),this._endValue64=new BigNumber(e.endValue))):(this.startValue=parseFloat(e.startValue,10),this.endValue=parseFloat(e.endValue,10))},_borderConstructor:function(t,e){if(this.host)return new this._borderConstructor(t,e);t=t||{},this.size=e._validatePercentage(t.size,"10%"),this.style=t.style||{stroke:"#cccccc"},void 0===t.showGradient?this.showGradient=!0:this.showGradient=t.showGradient,void 0===t.visible?this.visible=!0:this.visible=t.visible}},i={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(t,e,i){return t&&t.toString().indexOf("%")>=0?(t=parseInt(t,10)/100,i[e]()*t):parseInt(t,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getLabelInterval:function(){var e,i=this,s=i.labels;if("default"===i.tickMode)i.niceInterval?e=i._getNiceInterval("jqxGauge"===i.widgetName?"radial":"linear"):!1===i.int64?e=s.interval:(s._interval64||(s._interval64="s"===i.int64?(new t.jqx.math).fromNumber(s.interval):new BigNumber(s.interval)),e=s._interval64);else if(!1===i.int64)e=(r=i.max-i.min)/s.number;else{var r=i._max64.subtract(i._min64);e="s"===i.int64?r.div((new t.jqx.math).fromNumber(s.number)):r.divide(new BigNumber(s.number))}return e},_getMaxLabelSize:function(){var e=this,i=this.max,s=this.min;s=e._formatLabel(s),i=e._formatLabel(i);var r=t('<div style="position: absolute; visibility: hidden;" class="'+e.toThemeProperty("jqx-gauge-label")+'"></div>');r.css({"font-size":e.labels.fontSize,"font-family":e.labels.fontFamily,"font-weight":e.labels.fontWeight,"font-style":e.labels.fontStyle}),t("body").append(r),r.html(s);var a={width:r.width(),height:r.height()};r.html(i);var n={width:r.width(),height:r.height()};return r.remove(),a.width>n.width?a:n},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var e=this;e._timeout&&clearTimeout(this._timeout),e._timeout=null,t.jqx.utilities.resize(e.host,null,!0),e._removeElements(),e.renderer.clear(),e.renderer=null;var i=t.data(e.element,"jqxGauge");i&&delete i.instance,e.host.children().remove(),e._caption=null,e._caption=null,e._pointer=null,e._labels=[],e._cap=null,e._ticks=[],e._ranges=[],e._border=null,e._gauge=null,e._caption=null,e.renderer=null,e._animations=[],e.host.removeData(),e.host.removeClass(),e.host.remove(),e.that=null,e.element=null,e._gaugeParent=null,delete e._gaugeParent,delete e.element,delete e.host},_validatePercentage:function(t,e){return 0===parseFloat(t)||t&&parseInt(t,10)||(t=e),t},_getColorScheme:function(t){for(var e,i=0;i<this._schemes.length;i+=1)if((e=this._schemes[i]).name===t)return e.colors;return null},setValue:function(e,i){var s=this;s.disabled||(i=i||s.animationDuration||0,"s"===s.int64?("number"==typeof e?e=(new t.jqx.math).fromNumber(e,10):"string"==typeof e&&(e=(new t.jqx.math).fromString(e,10)),e.greaterThan(s._max64)&&(e=(new t.jqx.math).fromString(s._max64.toString(),10)),e.lessThan(s._min64)&&(e=(new t.jqx.math).fromString(s._min64.toString(),10)),s._animate(s._value64,e,i)):"u"===s.int64?(1===(e=new BigNumber(e)).compare(s._max64)&&(e=new BigNumber(s._max64)),-1===e.compare(s._min64)&&(e=new BigNumber(s._min64)),s._animate(s._value64,e,i)):(e>s.max&&(e=s.max),e<s.min&&(e=s.min),s._animate(s.value,e,i)),t.jqx.aria(s,"aria-valuenow",e.toString()))},_animate:function(t,e,i){var s=this;s._timeout&&s._endAnimation(s.int64?s._value64:s.value,!1),i?s._animateHandler(t,e,0,i):s._endAnimation(e,!0)},_animateHandler:function(e,i,s,r){var a=this;s<=r?this._timeout=setTimeout(function(){if(!1!==a.int64){var n=i.subtract(e);if("s"===a.int64){h=(new t.jqx.math).fromNumber(100*t.easing[a.easing](s/r,s,0,1,r),10);a._value64=e.add(n.multiply(h).div((new t.jqx.math).fromNumber(100,10)))}else{var h=new BigNumber(100*t.easing[a.easing](s/r,s,0,1,r));a._value64=e.add(n.multiply(h).divide(100))}a.value=a._value64.toString(),a._setValue(a._value64)}else a.value=e+(i-e)*t.easing[a.easing](s/r,s,0,1,r),a._setValue(a.value);a._raiseEvent(0,{value:a.value.toString()}),a._animateHandler(e,i,s+a._animationTimeout,r)},this._animationTimeout):this._endAnimation(i,!0)},_endAnimation:function(t,e){clearTimeout(this._timeout),this._timeout=null,this._setValue(t),e&&this._raiseEvent(1,{value:t.toString()})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(e,i){var s=t.Event(this._events[e]);return s.args=i||{},this.host.trigger(s)},_getNiceInterval:function(e,i){function s(t){return Math.log(parseFloat(t))/Math.LN10}var r=this,a="width";"linear"===e&&"vertical"===r.orientation&&(a="height");var n=t.jqx.browser.msie?0:1,h=t('<span class="'+r.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),o=r._formatLabel(r.min),l=r._formatLabel(r.max);h.css({"font-size":r.labels.fontSize,"font-family":r.labels.fontFamily,"font-weight":r.labels.fontWeight,"font-style":r.labels.fontStyle}),t("body").append(h),h.text(o);var u=h[a]()+n;h.text(l);var d=h[a]()+n;h.remove();var c=Math.max(d,u),_=1;if("radial"===e){var g;g=r._innerRadius<50?.3:r._innerRadius<150?.6:r._innerRadius<250?.7:1,_=8/Math.max(1,s(r._innerRadius))*g}else{var m=0;c>105&&(m=(c-105)/100),_=1.5+m}c*=_;var f;f="radial"===e?function(){var t=Math.abs(r.startAngle-r.endAngle)*r._innerRadius;return Math.round(t)}():r._getScaleLength();var v,b,p,x,y,w,S=Math.ceil(f/c);return!0===i&&(S*="radial"===e?4:3),!1===r.int64?(v=r.max-r.min,b=Math.floor(s(v)-s(S)),w=(y=v<2*(x=S*(p=Math.pow(10,b)))?1:v<3*x?2:v<7*x?5:10)*p):(v=new BigNumber(r.max).subtract(new BigNumber(r.min)),b=Math.floor(s(v.toString())-s(S)),p=new BigNumber(10).pow(new BigNumber(b)),x=new BigNumber(S).multiply(p),y=-1===v.compare(new BigNumber(2*x))?1:-1===v.compare(new BigNumber(3*x))?2:-1===v.compare(new BigNumber(7*x))?5:10,-1===(w=new BigNumber(y).multiply(p)).compare(1)&&(w=new BigNumber(1)),"s"===r.int64&&(w=(new t.jqx.math).fromString(w.toString()))),w},_styleLabels:function(){return},_checkForOverflow:function(t,e){var i=new BigNumber("9223372036854775807"),s=new BigNumber(t.toString()),r=new BigNumber(e.toString());return 1===s.add(r).compare(i)},_formatLabel:function(e,i){var s,r=this,a=r.labels.formatValue,n=r.labels.formatSettings;return a?s=a(e,i):n?void 0!==n.radix?s=(new t.jqx.math).getRadixValue(e,r.int64,n.radix):void 0!==n.outputNotation&&"default"!==n.outputNotation&&"decimal"!==n.outputNotation?s=(new t.jqx.math).getDecimalNotation(e,n.outputNotation,n.decimalDigits,n.digits):void 0!==n.decimalDigits?s=Number(e).toFixed(n.decimalDigits):void 0!==n.digits&&(s=Number(e).toPrecision(n.digits)):s=e,s},_editableLabels:function(e){function i(e,i){var s=r.renderer.measureText(r._formatLabel(i),0,{class:r.toThemeProperty("jqx-gauge-label")});h.offset(t(e).offset()),n.style.width=s.width+10+"px",n.style.height=s.height+"px",n.style.visibility="visible",n.value=i,h.select()}function s(e,i,s,a){if(e===r[i].toString())return!1;if("s"===r.int64){var n=(new t.jqx.math).fromString(e,10);if("min"===i&&-1!==n.compare(r["_"+a+"64"])||"max"===i&&1!==n.compare(r["_"+a+"64"]))return!1;r[s]=n,r[i]=e}else if("u"===r.int64){var h=new BigNumber(e);if(-1===h.compare(0)||"min"===i&&-1!==h.compare(r["_"+a+"64"])||"max"===i&&1!==h.compare(r["_"+a+"64"]))return!1;r[s]=h,r[i]=e}else{if("min"===i&&e>=r[a]||"max"===i&&e<=r[a])return!1;r[i]=parseFloat(e)}}var r=this;if(r.editableLabels){var a=r._labels;if(0===a.length)return;var n,h,o=a[0],l=a[a.length-1];!0!==e?(n=document.createElement("input"),h=t(n),n.className="jqx-gauge-label-input",r.element.appendChild(n)):(h=r.host.children("input"),n=h[0]),o.style.cursor="text",l.style.cursor="text",r.addHandler(t(o),"dblclick.jqxGauge"+r.element.id,function(t){i(this,r.min),r._editedProperty="min"}),r.addHandler(t(l),"dblclick.jqxGauge"+r.element.id,function(t){i(this,r.max),r._editedProperty="max"});var u=/^-?\d+\.?\d*$/;!0!==e&&r.addHandler(h,"blur.jqxGauge"+r.element.id,function(e){var i=this.value;if(n.style.visibility="hidden",u.test(i)){if("min"===r._editedProperty){if(!1===s(i,"min","_min64","max"))return;t.jqx.aria(r,"aria-valuemin",i)}else{if(!1===s(i,"max","_max64","min"))return;t.jqx.aria(r,"aria-valuemax",i)}r.refresh(),r.renderer instanceof t.jqx.HTML5Renderer&&r.renderer.refresh()}})}}},s={defineInstance:function(){var e={int64:!1,editableLabels:!1,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:!1,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},displayTank:!1,tankStyle:null,_originalColor:"",_width:null,_height:null,renderer:null};return this===t.jqx._jqxLinearGauge.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){t.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.append('<input class="jqx-gauge-label-input"/>');var e=this;if("s"===e.int64){if(!t.jqx.longInt)throw new Error("jqxLinearGauge: Missing reference to jqxmath.js");t.jqx.longInt(e),e._value64=(new t.jqx.math).fromString(e.value.toString(),10),e._min64=(new t.jqx.math).fromString(e.min.toString(),10),e._max64=(new t.jqx.math).fromString(e.max.toString(),10)}else if("u"===e.int64){try{BigNumber}catch(t){throw new Error("jqxLinearGauge: Missing reference to jqxmath.js")}e._value64=new BigNumber(e.value),e._min64=new BigNumber(e.min),e._max64=new BigNumber(e.max)}t.jqx.utilities.resize(this.host,function(){e.refresh(!1,!1)})},val:function(t){if(0==arguments.length||"object"==typeof t)return this.value;this.setValue(t,0)},_initRenderer:function(e){if(!t.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return t.jqx.createRenderer(this,e)},refresh:function(t,e){var i=this;if(i._nearLabels=[],i._farLabels=[],i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host)),i.renderer&&(i._validateProperties(),i._reset(),i._init(),i._performLayout(),i._render(),!1!==e&&i.setValue(i.value,1),!t)){var s=i.labels.position;"both"!==s&&"near"!==s||(i._labels=i._nearLabels,i._editableLabels()),"both"!==s&&"far"!==s||(i._labels=i._farLabels,i._editableLabels("both"===s||void 0))}},_getBorderSize:function(){var t,e=1;return this._isVML&&(e=0),this.background?(t=(parseInt(this.background.style["stroke-width"],10)||e)/2,this._isVML?Math.round(t):t):e},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var t=0;t<this.ranges.length;t+=1)this.ranges[t]=this._rangeConstructor(this.ranges[t],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?t.extend(this,linearVerticalGauge):t.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var t=parseInt(this.background.style["stroke-width"],10)||1;this._width-=t,this._height-=t,this.host.css("padding",t/2)},_init:function(){var t;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),(t=this.renderer.getContainer()).width(this._width),t.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this.niceInterval||this._renderLabels(),this._styleLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){if(this.background.visible){var e,i=this.background.style,s=t.jqx._rup(this._getBorderSize()),r="rect";i=this._handleShapeOptions(i),"roundedRectangle"===this.background.backgroundType&&this._isVML&&(r="roundrect"),this._Vml||(i.x=s,i.y=s),e=this.renderer.shape(r,i),this._isVML&&this._fixVmlRoundrect(e,i)}},_handleShapeOptions:function(t){var e=this.background.style.fill;this._getBorderSize();return e||(e="#cccccc"),this.background.showGradient&&(e.indexOf("url")<0&&e.indexOf("#grd")<0?this._originalColor=e:e=this._originalColor,e=this.renderer._toLinearGradient(e,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=e,"roundedRectangle"===this.background.backgroundType&&(this._isVML?t.arcsize=this.background.borderRadius+"%":(t.rx=this.background.borderRadius,t.ry=this.background.borderRadius)),t.width=this._width-1,t.height=this._height-1,t},_fixVmlRoundrect:function(t,e){var i=this._getBorderSize();t.style.position="absolute",t.style.left=i,t.style.top=i,t.style.width=this._width-1,t.style.height=this._height-1,t.strokeweight=0,delete e.width,delete e.height,delete e.arcsize,this.renderer.attr(t,e)},_renderTicks:function(){var e,i,s,r,a,n=this.ticksMinor,h=this.ticksMajor;"s"===this.int64?((e=this._max64.subtract(this._min64)).isNegative()&&(e=e.negate()),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=h._interval64,s=n._interval64):(i=e.div((new t.jqx.math).fromNumber(h.number)),s=e.div((new t.jqx.math).fromNumber(n.number)))):"u"===this.int64?(e=this._max64.subtract(this._min64).abs(),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=h._interval64,s=n._interval64):(i=e.divide(new BigNumber(h.number)),s=e.divide(new BigNumber(n.number)))):(e=Math.abs(this.max-this.min),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=h.interval,s=n.interval):(i=e/h.number,s=e/n.number)),r={size:this._getSize(h.size),style:h.style,visible:h.visible,interval:i,type:"major"},a={size:this._getSize(n.size),style:n.style,visible:n.visible,interval:s,checkOverlap:!0,type:"minor"},"near"!==this.ticksPosition&&"both"!==this.ticksPosition||(this._ticksRenderHandler(r),this._ticksRenderHandler(a)),"far"!==this.ticksPosition&&"both"!==this.ticksPosition||(r.isFar=!0,a.isFar=!0,this._ticksRenderHandler(r),this._ticksRenderHandler(a)),this._renderConnectionLine()},_ticksRenderHandler:function(t){if(t.visible||"minor"!==t.type){this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height");var e=this._getBorderSize(),i=this._calculateTickOffset()+this._getMaxTickSize();t.isFar&&(i+=t.size),this._drawTicks(t,e,i+e)}},_drawTicks:function(e,i,s){function r(t){if(a=n._valueToCoordinates(t),(!e.checkOverlap||!n._overlapTick(t,c,_))&&(e.visible&&n._renderTick(e.size,a,e.style,s),n.niceInterval&&n.labels.visible)){"vertical"===n.orientation?n._getSize(n.ticksOffset[1],"height"):n._getSize(n.ticksOffset[0],"width"),i;var r,h=e.isFar?"far":"near";if(r="near"===h?n._calculateTickOffset()-u+i+n._getSize(n.labels.offset):n._calculateTickOffset()+2*n._getMaxTickSize()+u+i+n._getSize(n.labels.offset),!1===n.int64){if(t!==n.min&&Math.abs(n._valueToCoordinates(n.min)-a)<d)return;if(t!==n.max&&Math.abs(n._valueToCoordinates(n.max)-a)<d)return}else if("s"===n.int64){if(!1===t.equals(n._min64)&&Math.abs(n._valueToCoordinates(n._min64)-a)<d)return!1;if(!1===t.equals(n._max64)&&Math.abs(n._valueToCoordinates(n._max64)-a)<d)return}else if("u"===n.int64){if(0!==t.compare(n._min64)&&Math.abs(n._valueToCoordinates(n._min64)-a)<d)return!1;if(0!==t.compare(n._max64)&&Math.abs(n._valueToCoordinates(n._max64)-a)<d)return}var o=n.labels.position;"major"===e.type&&("both"===o||"near"===o&&!0!==e.isFar||"far"===o&&e.isFar)&&n._renderLabel(a,h,r,u,t)}}var a,n=this,h=e.interval,o="vertical"===n.orientation?"width":"height",l="vertical"===n.orientation?"height":"width",u=n._getMaxLabelSize()[o],d=n._getMaxLabelSize()[l],c=n._getInterval("ticksMajor"),_=n._getInterval("ticksMinor");if(n.niceInterval){var g;if("s"===n.int64){if(r(n._min64),g=n._min64.subtract(n._min64.modulo(h)).add(h),"minor"===e.type)for(m=g;m.greaterThanOrEqual(n._min64);m=m.subtract(h))g=m;for(f=g;f.lessThan(n._max64)&&!n._checkForOverflow(f,h);f=f.add(h))r(f);r(n._max64)}else if("u"===n.int64){if(r(n._min64),g=n._min64.subtract(n._min64.mod(h)).add(h),"minor"===e.type)for(m=g;-1!==m.compare(n._min64);m=m.subtract(h))g=m;for(f=g;-1===f.compare(n._max64);f=f.add(h))r(f);r(n._max64)}else{if(r(n.min),g=n.min-n.min%h+h,"minor"===e.type)for(var m=g;m>=n.min;m-=h)g=m;for(f=g;f<=n.max;f+=h)r(f);r(n.max)}}else if("s"===n.int64)for(f=(new t.jqx.math).fromString(n._min64.toString(),10);f.lessThanOrEqual(n._max64);f=f.add(h))r(f);else if("u"===n.int64)for(f=new BigNumber(n._min64);1!==f.compare(n._max64);f=f.add(h))r(f);else for(var f=n.min;f<=n.max;f+=h)r(f)},_calculateTickOffset:function(){var t=this._getSize(this.ticksOffset[0],"width"),e=this._getSize(this.ticksOffset[1],"height");return"vertical"===this.orientation&&(e=t),e},_getInterval:function(e){var i,s=this;if("default"===s.tickMode)i=!0===s.niceInterval?s._getNiceInterval("linear","ticksMinor"===e):!1!==s.int64?s[e]._interval64:s[e].interval;else{var r,a=s[e].number;!1!==s.int64?(r=s._max64.subtract(s._min64),i="s"===s.int64?r.div((new t.jqx.math).fromNumber(a)):r.divide(new BigNumber(a))):i=(r=s.max-s.min)/s[e].number}return i},_overlapTick:function(t,e,i){return"s"===this.int64?!!(t=t.add(this._min64)).modulo(i).equals(t.modulo(e)):"u"===this.int64?0===(t=t.add(this._min64)).mod(i).compare(t.mod(e)):(t+=this.min)%i==t%e},_renderConnectionLine:function(){if(this.ticksMajor.visible||this.ticksMinor.visible){this._getScaleLength();var t,e,i=this._getBorderSize(),s=this._getMaxTickSize()+i;if(!1!==this.int64?(t=this._valueToCoordinates(this._max64),e=this._valueToCoordinates(this._min64)):(t=this._valueToCoordinates(this.max),e=this._valueToCoordinates(this.min)),"vertical"===this.orientation)s+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(s,t,s,e,this.scaleStyle);else{s+=this._getSize(this.ticksOffset[1],"height");var r=this._getSize(this.ticksOffset[0],"width");this.renderer.line(r+t-e,s,r,s,this.scaleStyle)}}},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(t,e,i,s){var r=this._handleTickCoordinates(t,e,s);this.renderer.line(Math.round(r.x1),Math.round(r.y1),Math.round(r.x2),Math.round(r.y2),i)},_handleTickCoordinates:function(t,e,i){return"vertical"===this.orientation?{x1:i-t,x2:i,y1:e,y2:e}:{x1:e,x2:e,y1:i-t,y2:i}},_getTickCoordinates:function(t,e){var i=this._handleTickCoordinates(t,0,this._calculateTickOffset());return i="vertical"===this.orientation?i.x1:i.y1,i+=t},_renderLabels:function(){if(this.labels.visible){var t,e=this._getSize(this.ticksOffset[0],"width"),i=this._getMaxTickSize(),s=this.labels.position,r="height",a=this._getBorderSize(),n=this._calculateTickOffset()+i;"vertical"===this.orientation&&(e=this._getSize(this.ticksOffset[1],"height"),r="width"),t=this._getMaxLabelSize()[r],"near"!==s&&"both"!==s||this._labelListRender(n-i-t+a,e+a,t,"near"),"far"!==s&&"both"!==s||this._labelListRender(n+i+t+a,e+a,t,"far")}},_labelListRender:function(e,i,s,r){var a,n,h,o,l,u=this._getScaleLength();e+=this._getSize(this.labels.offset),!1!==this.int64?(l=this._max64.subtract(this._min64),"default"===this.tickMode?(a=this.labels._interval64,n="s"===this.int64?l.div(a).toNumber():parseFloat(l.divide(a).toString())):(n=this.labels.number,a="s"===this.int64?l.div((new t.jqx.math).fromNumber(n)):l.divide(n)),o="vertical"===this.orientation?this._max64:this._min64):(l=Math.abs(this.max-this.min),"default"===this.tickMode?n=l/(a=this.labels.interval):a=l/(n=this.labels.number),o="vertical"===this.orientation?this.max:this.min),h=u/n;for(var d=0;d<=n;d+=1)this._renderLabel(i,r,e,s,o),!1!==this.int64?o="vertical"===this.orientation?o.subtract(a):o.add(a):o+="vertical"===this.orientation?-a:a,i+=h},_renderLabel:function(t,e,i,s,r){var a,n,h,o,l=this.labels,u={class:this.toThemeProperty("jqx-gauge-label")},d=(this.labels.interval,"");l.fontSize&&(d+="font-size: "+l.fontSize+";"),l.fontFamily&&(d+="font-family: "+l.fontFamily),l.fontWeight&&(d+="font-weight: "+l.fontWeight),l.fontStyle&&(d+="font-style: "+l.fontStyle),""!==d&&(u.style=d),h=this._formatLabel(r.toString(),e),n=this.renderer.measureText(h,0,u),"vertical"===this.orientation?(a="near"===e?s-n.width:0,o=this.renderer.text(h,Math.round(i)+a-s/2,Math.round(t-n.height/2),n.width,n.height,0,u)):(a="near"===e?s-n.height:0,o=this.renderer.text(h,Math.round(t-n.width/2),Math.round(i)+a-s/2,n.width,n.height,0,u)),"near"===e?this.niceInterval||"horizontal"===this.orientation?this._nearLabels.push(o):this._nearLabels.unshift(o):this.niceInterval||"horizontal"===this.orientation?this._farLabels.push(o):this._farLabels.unshift(o)},_renderRanges:function(){if(this.showRanges)for(var t,e="vertical"===this.orientation?"width":"height",i=this._getSize(this.rangesOffset,e),s=this._getSize(this.rangeSize,e),r=0;r<this.ranges.length;r+=1)(t=this.ranges[r]).size=s,this._renderRange(t,i)},_renderRange:function(e,i){this._getScaleLength();var s,r,a=this._getBorderSize(),n=this._getSize(this.ticksOffset[0],"width"),h=this._getSize(this.ticksOffset[1],"height"),o=this._getMaxTickSize(),l=this._getSize(e.size);!1!==this.int64?(s=this._valueToCoordinates(e._endValue64),r=e._startValue64,"s"===this.int64&&r.lessThan(this._min64)?r=(new t.jqx.math).fromString(this._min64.toString(),10):"u"===this.int64&&-1===r.compare(this._min64)&&(r=new BigNumber(this._min64))):(s=this._valueToCoordinates(e.endValue),(r=e.startValue)<this.min&&(r=this.min));var u,d,c=Math.abs(this._valueToCoordinates(r)-s);"vertical"===this.orientation?u=this.renderer.rect(n+o+i-l+a,s,e.size,c,e.style):(d=c,u=this.renderer.rect(this._valueToCoordinates(r),h+o+a,d,e.size,e.style)),this.renderer.attr(u,e.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){if(this.displayTank){var t={fill:"#FFFFFF"};t["fill-opacity"]=0,this.tankStyle?(t.stroke=this.tankStyle.stroke,t["stroke-width"]=this.tankStyle.strokeWidth):(t.stroke="#A1A1A1",t["stroke-width"]="1px"),this._tank=this.renderer.rect(0,0,0,0,t),this._performTankLayout()}this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),!1!==this.int64?this._setValue(this._value64):this._setValue(this.value)},_performTankLayout:function(){var t,e,i=this._valueToCoordinates(),s=this._getBorderSize(),r=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height"),n=this._getMaxTickSize(),h=this._getSize(this.pointer.size),o=this._getSize(this.pointer.offset),l={};!1!==this.int64?(i=this._valueToCoordinates(this._max64),t=this._valueToCoordinates(this._min64)):(i=this._valueToCoordinates(this.max),t=this._valueToCoordinates(this.min)),e=Math.abs(t-i),l="vertical"===this.orientation?{left:r+n+o+1+s,top:i,height:e,width:h}:{left:t,top:a+n+o-h-1+s,height:h,width:e},this._isVML?(this._tank.style.top=l.top,this._tank.style.left=l.left,this._tank.style.width=l.width,this._tank.style.height=l.height):(this.renderer.attr(this._tank,{x:l.left}),this.renderer.attr(this._tank,{y:l.top}),this.renderer.attr(this._tank,{width:l.width}),this.renderer.attr(this._tank,{height:l.height}))},_renderArrowPointer:function(){var t=this._getArrowPathByValue(0);this._pointer=this.renderer.path(t,this.pointer.style)},_renderArrowPointerByValue:function(t){var e=this._getArrowPathByValue(t);this._pointer=this.renderer.path(e,this.pointer.style)},_getArrowPathByValue:function(t){var e,i,s,r=this._getBorderSize(),a=Math.ceil(this._valueToCoordinates(t))+r,n=r,h=Math.ceil(this._getSize(this.ticksOffset[0],"width")),o=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),l=Math.ceil(this._getMaxTickSize()),u=Math.ceil(this._getSize(this.pointer.size)),d=Math.ceil(Math.sqrt(u*u/3));return"vertical"===this.orientation?e="M "+(n+=h+l+o)+" "+a+" L "+(i=o>=0?n+u:n-u)+" "+(a-d)+" L "+i+" "+(a+d):(n+=h+l+o+this._getMaxLabelSize().height,this._isVML&&(n-=2),s=a,a=n,e="M "+(n=s)+" "+a+" L "+(n-d)+" "+(i=a-u)+" L "+(n+d)+" "+i),e},_setValue:function(t){"default"===this.pointer.pointerType?this._performColumnPointerLayout(t):this._performArrowPointerLayout(t),this.value=t},_performColumnPointerLayout:function(t){var e,i,s=this._valueToCoordinates(t),r=this._getBorderSize(),a=this._getSize(this.ticksOffset[0],"width"),n=this._getSize(this.ticksOffset[1],"height"),h=this._getMaxTickSize(),o=this._getSize(this.pointer.size),l=this._getSize(this.pointer.offset),u={};e=!1!==this.int64?this._valueToCoordinates(this._min64):this._valueToCoordinates(this.min),i=Math.abs(e-s),u="vertical"===this.orientation?{left:a+h+l+1+r,top:s,height:i,width:o}:{left:e,top:n+h+l-o-1+r,height:o,width:i},this._setRectAttrs(u)},_performArrowPointerLayout:function(e){var i=this._getArrowPathByValue(e);this._isVML?(this._pointer&&t(this._pointer).remove(),this._renderArrowPointerByValue(e)):this.renderer.attr(this._pointer,{d:i})},_setRectAttrs:function(t){this._isVML?(this._pointer.style.top=t.top,this._pointer.style.left=t.left,this._pointer.style.width=t.width,this._pointer.style.height=t.height):(this.renderer.attr(this._pointer,{x:t.left}),this.renderer.attr(this._pointer,{y:t.top}),this.renderer.attr(this._pointer,{width:t.width}),this.renderer.attr(this._pointer,{height:t.height}))},_valueToCoordinates:function(t){var e,i,s,r=this._getBorderSize(),a=this._getScaleLength(),n=this._getSize(this.ticksOffset[0],"width"),h=this._getSize(this.ticksOffset[1],"height");if(!1!==this.int64){e=t.subtract(this._min64),i=this._max64.subtract(this._min64),"s"===this.int64?(e.isNegative()&&e.negate(),i.isNegative()&&i.negate()):(e=e.intPart().abs(),i=i.abs());var o,l,u=e.toString(),d=i.toString();if(d.length>15){var c=d.length-15;if(d=d.slice(0,15)+"."+d.slice(15),l=parseFloat(d),u.length>c){var _=u.length-c;u=u.slice(0,_)+"."+u.slice(_)}else if(u.length===c)u="0."+u;else{for(var g="0.",m=0;m<c-u.length;m++)g+="0";u=g+""+u}o=parseFloat(u)}else"s"===this.int64?(o=e.toNumber(),l=i.toNumber()):(o=parseFloat(e.toString()),l=parseFloat(i.toString()));s=o/l*a}else s=(e=Math.abs(this.min-t))/(i=Math.abs(this.max-this.min))*a;return"vertical"===this.orientation?this._height-s-(this._height-h-a)+r:s+n},_getSize:function(t,e){return e=e||("vertical"===this.orientation?"width":"height"),t.toString().indexOf("%")>=0&&(t=parseInt(t,10)/100*this["_"+e]),t=parseInt(t,10)},propertiesChangedHandler:function(t,e,i){i.width&&i.height&&2==Object.keys(i).length&&t.refresh()},propertyChangedHandler:function(e,i,s,r){if(r!=s&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||"tankStyle"===i&&"arrow"===e.pointer.pointerType)){if("min"==i&&("s"===e.int64?e._min64=(new t.jqx.math).fromString(r.toString(),10):"u"===e.int64?e._min64=new BigNumber(r):this.min=parseFloat(r),t.jqx.aria(this,"aria-valuemin",r)),"max"==i&&("s"===e.int64?e._max64=(new t.jqx.math).fromString(r.toString(),10):"u"===e.int64?e._max64=new BigNumber(r):this.max=parseFloat(r),t.jqx.aria(this,"aria-valuemax",r)),"disabled"===i)r?this.disable():this.enable(),t.jqx.aria(this,"aria-disabled",r);else if("value"===i)void 0!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=s,this.setValue(r);else{if("colorScheme"===i)this.pointer.style=null;else if("orientation"===i&&s!==r){var a=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=a}"animationDuration"!==i&&"easing"!==i&&this.refresh()}this.renderer instanceof t.jqx.HTML5Renderer&&this.renderer.refresh()}},_backgroundConstructor:function(t,e){if(this.host)return new this._backgroundConstructor(t,e);var i={rectangle:!0,roundedRectangle:!0};t=t||{},this.style=t.style||{stroke:"#cccccc",fill:null},t.visible||void 0===t.visible?this.visible=!0:this.visible=!1,i[t.backgroundType]?this.backgroundType=t.backgroundType:this.backgroundType="roundedRectangle","roundedRectangle"===this.backgroundType&&("number"==typeof t.borderRadius?this.borderRadius=t.borderRadius:this.borderRadius=15),void 0===t.showGradient?this.showGradient=!0:this.showGradient=t.showGradient},resize:function(t,e){this.width=t,this.height=e,this.refresh()},_tickConstructor:function(e,i){if(this.host)return new this._tickConstructor(e,i);this.size=i._validatePercentage(e.size,"10%"),e.interval?this.interval=e.interval:this.interval=5,"s"===i.int64?this._interval64=(new t.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),e.number?this.number=e.number:this.number=5,this.style=e.style||{stroke:"#A1A1A1","stroke-width":"1px"},void 0===e.visible?this.visible=!0:this.visible=e.visible},_labelsConstructor:function(e,i){if(this.host)return new this._labelsConstructor(e,i);this.position=e.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),this.formatValue=e.formatValue,this.formatSettings=e.formatSettings,this.visible=e.visible,!1!==this.visible&&!0!==this.visible&&(this.visible=!0),e.interval?this.interval=e.interval:this.interval=10,"s"===i.int64?this._interval64=(new t.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),e.number?this.number=e.number:this.number=10,this.fontSize=e.fontSize,this.fontFamily=e.fontFamily,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.offset=i._validatePercentage(e.offset,0)},_rangeConstructor:function(e,i){if(this.host)return new this._rangeConstructor(e,i);e.startValue?this.startValue=e.startValue:this.startValue=i.min,e.endValue?this.endValue=e.endValue:this.endValue=i.max,"s"===i.int64?(this._startValue64=(new t.jqx.math).fromString(this.startValue.toString(),10),this._endValue64=(new t.jqx.math).fromString(this.endValue.toString(),10),this._endValue64.lessThanOrEqual(this._startValue64)&&(this._endValue64=this._startValue64.add((new t.jqx.math).fromNumber(1,10)),this.endValue=this._endValue64.toString())):"u"===i.int64?(this._startValue64=new BigNumber(this.startValue),this._endValue64=new BigNumber(this.endValue),1!==this._endValue64.compare(this._startValue64)&&(this._endValue64=this._startValue64.add(1),this.endValue=this._endValue64.toString())):(this.startValue=parseFloat(this.startValue),this.endValue=parseFloat(this.endValue),this.endValue<=this.startValue&&(this.endValue=this.startValue+1)),this.style=e.style||{fill:"#dddddd",stroke:"#dddddd"}},_pointerConstructor:function(t,e){if(this.host)return new this._pointerConstructor(t,e);var i=e._getColorScheme(e.colorScheme)[0];this.pointerType=t.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=t.style||{fill:i,stroke:i,"stroke-width":1},this.size=e._validatePercentage(t.size,"7%"),this.visible=t.visible,!0!==this.visible&&!1!==this.visible&&(this.visible=!0),this.offset=e._validatePercentage(t.offset,0)}};t.extend(e,i),t.extend(s,i),t.jqx.jqxWidget("jqxLinearGauge","",{}),t.jqx.jqxWidget("jqxGauge","",{}),t.extend(t.jqx._jqxGauge.prototype,e),t.extend(t.jqx._jqxLinearGauge.prototype,s)}(jqxBaseFramework);

!function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.clipboard=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!r.hasOwnProperty(s)&&!r.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+s+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:34,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:28,columnsheight:30,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return this===e.jqx._jqxGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.that=this;var i=this;i.pagesize=parseInt(i.pagesize),i.toolbarheight=parseInt(i.toolbarheight),i.columnsheight=parseInt(i.columnsheight),i.filterrowheight=parseInt(i.filterrowheight),i.statusbarheight=parseInt(i.statusbarheight),i.groupsheaderheight=parseInt(i.groupsheaderheight),i.detailsVisibility=new Array,i.savedArgs=t&&t.length>0?t[0]:null;var r="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+i.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(i.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(i.scrollbarsize=e.jqx.utilities.scrollBarSize),i.source){if(!i.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");i.source=new e.jqx.dataAdapter(i.source)}(a=i.source._source.datafields)&&a.length>0&&(i.editmode=i.editmode.toLowerCase(),i.selectionmode=i.selectionmode.toLowerCase())}i.host.attr("role","grid"),i.host.attr("align","left"),i.element.innerHTML=r,i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i.wrapper=i.host.find("#wrapper"+i.element.id),i.content=i.host.find("#content"+i.element.id),i.content.addClass(i.toTP("jqx-reset"));var s=i.host.find("#verticalScrollBar"+i.element.id),o=i.host.find("#horizontalScrollBar"+i.element.id);if(i.bottomRight=i.host.find("#bottomRight").addClass(i.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!s.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(i.editors=new Array,i.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:i.rtl,touchMode:i.touchmode,step:i.verticalscrollbarstep,largestep:i.verticalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.hScrollBar=o.jqxScrollBar({vertical:!1,rtl:i.rtl,touchMode:i.touchmode,step:i.horizontalscrollbarstep,largestep:i.horizontalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.addnewrow=i.host.find("#addrow"),i.addnewrow[0].id="addrow"+i.element.id,i.addnewrow.addClass(i.toTP("jqx-widget-header")),i.pager=i.host.find("#pager"),i.pager[0].id="pager"+i.element.id,i.toolbar=i.host.find("#toolbar"),i.toolbar[0].id="toolbar"+i.element.id,i.toolbar.addClass(i.toTP("jqx-grid-toolbar")),i.toolbar.addClass(i.toTP("jqx-widget-header")),i.statusbar=i.host.find("#statusbar"),i.statusbar[0].id="statusbar"+i.element.id,i.statusbar.addClass(i.toTP("jqx-grid-statusbar")),i.statusbar.addClass(i.toTP("jqx-widget-header")),i.pager.addClass(i.toTP("jqx-grid-pager")),i.pager.addClass(i.toTP("jqx-widget-header")),i.groupsheader=i.host.find("#groupsheader"),i.groupsheader.addClass(i.toTP("jqx-grid-groups-header")),i.groupsheader.addClass(i.toTP("jqx-widget-header")),i.groupsheader[0].id="groupsheader"+i.element.id,i.vScrollBar.css("visibility","hidden"),i.hScrollBar.css("visibility","hidden"),i.vScrollInstance=e.data(i.vScrollBar[0],"jqxScrollBar").instance,i.hScrollInstance=e.data(i.hScrollBar[0],"jqxScrollBar").instance,i.gridtable=null,i.isNestedGrid=!!i.host.parent()&&9999==i.host.parent().css("z-index"),i.touchdevice=i.isTouchDevice(),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1)),i.rowdetailstemplate&&(void 0==i.rowdetailstemplate.rowdetails&&(i.rowdetailstemplate.rowdetails="<div></div>"),void 0==i.rowdetailstemplate.rowdetailsheight&&(i.rowdetailstemplate.rowdetailsheight=200),void 0==i.rowdetailstemplate.rowdetailshidden&&(i.rowdetailstemplate.rowdetailshidden=!0)),i.showfilterrow&&!i.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(i.autorowheight&&!i.autoheight&&!i.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(i.virtualmode&&null==i.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(i.virtualmode&&!i.pageable&&i.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!i._testmodules()){if(i._builddataloadelement(),i._cachedcolumns=i.columns,i.columns&&i.columns.length>299&&(i.headerZIndex=i.columns.length+100),28!=i.rowsheight&&i._measureElement("cell"),(30!=i.columnsheight||i.columngroups)&&i._measureElement("column"),i.source){var a=i.source.datafields;if(null==a&&i.source._source&&(a=i.source._source.datafields),a)for(var l=0;l<i.columns.length;l++){var n=i.columns[l];if(n&&n.cellsformat&&n.cellsformat.length>2)for(var d=0;d<a.length;d++)if(a[d].name==n.datafield&&!a[d].format){a[d].format=n.cellsformat;break}}}i.databind(i.source),i.showtoolbar&&i.toolbar.css("visibility","inherit"),i.showstatusbar&&i.statusbar.css("visibility","inherit"),i._arrange(),i.pageable&&i._initpager&&i._initpager(),i.tableheight=null;var h=i.that,c=function(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)};i.addHandler(i.content,"mousedown",function(){c()}),i.addHandler(i.content,"scroll",function(e){return c(),!1}),i.showfilterrow||(i.showstatusbar||i.showtoolbar||i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect")),i.enablebrowserselection&&(i.content.removeClass("jqx-disableselect"),i.host.removeClass("jqx-disableselect")),i._resizeWindow(),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.hasTransform=e.jqx.utilities.hasTransform(i.host),"logical"==i.scrollmode&&(i.vScrollInstance.thumbStep=i.rowsheight,i.vScrollInstance.step=i.rowsheight),e.jqx.isHidden(i.host)||(i.filterable||i.groupable||i.sortable)&&i._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var r=e(window).width(),s=e(window).height(),o=t.host.width(),a=t.host.height();if(t.autoheight&&(t._lastHostWidth=s),t._lastHostWidth!=o||t._lastHostHeight!=a){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=o,t._lastHostHeight!=a)}t._lastWidth=r,t._lastHeight=s,t._lastHostWidth=o,t._lastHostHeight=a});var i=t.host.width(),r=t.host.height();t._lastHostWidth=i,t._lastHostHeight=r}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t);var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,r=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(r(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(r(),t+=" jqxscrollbar.js"),this.host.jqxButton||(r(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(r(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(r(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(r(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(r(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(r(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(r(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(r(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(r(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(r(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(r(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var s=[],o=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,r(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||s.numberinput||(s.numberinput=!0,r(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||s.datetimeinput?i.host.jqxCalendar||s.calendar||(r(),t+=" jqxcalendar.js"):(r(),s.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||s.combobox?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||s.dropdownlist?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&o("dropdownlist");for(var a=0;a<this.columns.length;a++)if(void 0!=this.columns[a]){var l=this.columns[a].columntype;o(l),this.filterable&&this.showfilterrow&&("checkedlist"!=(l=this.columns[a].filtertype)&&"bool"!=l||o("checkbox"),"date"==l&&o("datetimeinput"))}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var r=this.that;r._newmax=null;var s=r.host.width(),o=r.host.height();r._oldWidth||(r._oldWidth=s),r._oldHeight||(r._oldHeight=o),r._resizeTimer&&clearTimeout(r._resizeTimer);r._resizeTimer=setTimeout(function(){if(r.resizingGrid=!0,!e.jqx.isHidden(r.host)){if(r.editcell&&(r.endcelledit(r.editcell.row,r.editcell.column,!0,!0),r._oldselectedcell=null),d!=r._oldHeight||1==i){var o=r.groupable&&r.groups.length>0,a=r.vScrollBar.css("visibility");if(!r.autoheight){if(r.virtualmode&&(r._pageviews=new Array),o||r.rowdetails||r.pageable){r._arrange(),r.prerenderrequired=!0;d=Math.round(r.host.height())+2*r.rowsheight;realheight=r._gettableheight();var l=Math.round(d/r.rowsheight),n=Math.max(r.dataview.totalrows,r.dataview.totalrecords);r.pageable&&(n=r.pagesize,r.pagesize>Math.max(r.dataview.totalrows,r.dataview.totalrecords)&&r.autoheight?n=Math.max(r.dataview.totalrows,r.dataview.totalrecords):r.autoheight||r.dataview.totalrows<r.pagesize&&(n=Math.max(r.dataview.totalrows,r.dataview.totalrecords)));r.rowsheight,r._getpagesize();!r.pageable&&r.autoheight&&(l=n),r.virtualsizeinfo&&(r.virtualsizeinfo.visiblerecords=l),r.rendergridcontent(!0,!1),r._renderrows(r.virtualsizeinfo)}else{r._arrange(),r.virtualsizeinfo=r._calculatevirtualheight();var d=Math.round(r.host.height())+2*r.rowsheight;parseInt(d)>=parseInt(r._oldHeight)&&(r.prerenderrequired=!0),r._renderrows(r.virtualsizeinfo),r.rtl&&(r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}a!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.setPosition(0),r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}}if(s!=r._oldWidth||1==t){var h=!1;if(r.editcell&&r.editcell.editor)switch(r.editcell.columntype){case"dropdownlist":if(h=r.editcell.editor.jqxDropDownList("isOpened")||r.editcell.editor.jqxDropDownList("isanimating")&&!r.editcell.editor.jqxDropDownList("ishiding"))return r.editcell.editor.jqxDropDownList({openDelay:0}),r.editcell.editor.jqxDropDownList("open"),void r.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(h=r.editcell.editor.jqxComboBox("isOpened")||r.editcell.editor.jqxComboBox("isanimating")&&!r.editcell.editor.jqxComboBox("ishiding"))return r.editcell.editor.jqxComboBox({openDelay:0}),r.editcell.editor.jqxComboBox("open"),void r.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(h)return h=r.editcell.editor.jqxDateTimeInput("isOpened")||r.editcell.editor.jqxDateTimeInput("isanimating")&&!r.editcell.editor.jqxDateTimeInput("ishiding"),r.editcell.editor.jqxDateTimeInput({openDelay:0}),r.editcell.editor.jqxDateTimeInput("open"),void r.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=r.hScrollBar.css("visibility");r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths(),0==t&&r._oldWidth>s||i&&0!=r.dataview.rows.length||r._renderrows(r.virtualsizeinfo),c!=r.hScrollBar.css("visibility")&&r.hScrollInstance.setPosition(0)}r._oldWidth=s,r._oldHeight=d,r.resizingGrid=!1}},5)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),s=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,s+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,r,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){var t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),r=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(i);s.id=e.jqx.utilities.createId(),s.innerHTML=t,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(r+t)},this.content[0].appendChild(s),this._gridRenderElement=s}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),void 0!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),void 0!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),!1!==i){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var r in this._filterrowcache)e(this._filterrowcache[r]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}},_getmenudefaultheight:function(){var t=this,i=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i+=2);var r=i*t._measureMenuElement()+9;return t.filterable&&!t.showfilterrow&&t.showfiltermenuitems&&(r+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(r+=20)),r},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var i="";this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var r=e("<ul></ul>"),s=e('<li class="'+i+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),o=e('<li class="'+i+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),a=e('<li class="'+i+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),l='<div class="jqx-grid-groupby-icon"></div>',n=e('<li class="'+i+'">'+l+this.gridlocalization.groupbystring+"</li>"),d=e('<li class="'+i+'">'+l+this.gridlocalization.groupremovestring+"</li>"),h=e('<li type="separator"></li>'),c=e('<li class="filter '+i+'" style="height: 190px;" ignoretheme="true"><div class="filter"></div></li>'),u=this.gridlocalization.sortascendingstring.length,g=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>u&&(u=this.gridlocalization.sortdescendingstring.length,g=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>u&&(u=this.gridlocalization.sortremovestring.length,g=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>u&&(u=this.gridlocalization.groupbystring.length,g=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>u&&(u=this.gridlocalization.groupremovestring.length,g=this.gridlocalization.groupremovestring));var p=200;g=e.trim(g).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var w=e("<span>"+g+"</span>");w.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(w),p=w.outerWidth()+60,w.remove();var m=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(r.append(s),this.menuitemsarray[0]=s[0],r.append(o),this.menuitemsarray[1]=o[0],r.append(a),this.menuitemsarray[2]=a[0],m=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(r.append(n),this.menuitemsarray[3]=n[0],r.append(d),this.menuitemsarray[4]=d[0],m+=2);var v=m*this._measureMenuElement()+9,f=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=c[0],this.menuitemsarray[6]=c[0],r.append(h),r.append(c),v+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(v+=20),this.isTouchDevice()&&(v+=30);var b=e(c).find("div:first");this.excelfilterpanel=e("<div></div>"),this.filterpanel=b,this.filtermenu=e(c),p+=20,this._initfilterpanel(this,b,"",p),this._initfilterpanel(this,this.excelfilterpanel,"",p,!0),f=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(r),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})),void 0==this.menuitemsarray[0]&&(v=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode&&t.filterable&&t._buildfilter){var r="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),s="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),o="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display");if(e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus")){a=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,a),t.gridmenu.jqxMenu("close")}else if(!r&&!s&&!o){var a=e.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close"),t._buildfilter(t,c,a)}}}),"auto"!=this.popupwidth&&(p=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:p,height:v,autoCloseOnClick:f,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",c[0].id,"closeOnClick",!1),this.rtl){var x=this.that;e.each(r.find("li"),function(){e(this).addClass(x.toTP("jqx-rtl"))});var y=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};y(a),y(o),y(s),y(n),y(d)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var r=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var s=e("<span>"+i+"</span>");s.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(s),r=s.outerWidth()+60,s.remove();var o=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(o=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(o+=2);var a=o*this._measureMenuElement()+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(a+=190,r+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(a+=20),this.isTouchDevice()&&(a+=30)),void 0==this.menuitemsarray[0]&&(a=65),"auto"!=this.popupwidth&&(r=this.popupwidth),"auto"!=this.popupheight&&(a=this.popupheight),this.gridmenu.jqxMenu({width:r,height:a})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,r=!1;if(void 0==t.target||void 0!=t.target&&void 0==t.target.className.indexOf)i.gridmenu.jqxMenu("close");else if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter"))if(-1==t.target.className.indexOf("jqx-grid-cell")){if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){i.host.coord();var s=i.gridmenu.coord(),o=t.pageX,a=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!r){try{if("default"===i.filtermode){l=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if((n=new Date)-l<100)return;if(n-(d=e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup)<100)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var l=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,n=new Date;if(n-l<100)return;var d=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(n-d<100)return}}catch(e){}if(!(o>=s.left&&o<=s.left+i.gridmenu.width()&&a>=s.top&&a<=s.top+i.gridmenu.height())){if(i.columnmenuclosing){var h=e.data(document.body,"contextmenu"+i.element.id);if(h||(h={column:{displayfield:null}}),!1===i.columnmenuclosing(i.gridmenu,h.column.displayfield,e(i.gridmenu).height()))return}i.gridmenu.jqxMenu("close")}}}}else i.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var r=i.args,s=0;s<t.menuitemsarray.length;s++)if(r==t.menuitemsarray[s]){if(void 0!=e(r).attr("ignoretheme"))return;var o=e.data(document.body,"contextmenu"+t.element.id),a=o.column;t.filterable&&t.gridmenu.jqxMenu("close");var l=a.displayfield;if(null==l&&(l=a.datafield),null!=o)switch(s){case 0:t.sortby(l,"ascending",null);break;case 1:t.sortby(l,"descending",null);break;case 2:t.sortby(l,null,null);break;case 3:t.addgroup(l);break;case 4:t.removegroup(l);break;case 5:var n=e(t.menuitemsarray[6]);e(n).css("display","block")}break}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array;var i=this.hiddenboundrows;e.each(i,function(e){if(void 0!=this.index){this.index;var i=t.getrowvisibleindex(e);t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array;var i=this.heightboundrows;e.each(i,function(e){if(void 0!=this.index){this.index;var i=t.getrowvisibleindex(e);t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array;var i=this.detailboundrows;e.each(i,function(e){if(void 0!=this.index){this.index;var i=t.getrowvisibleindex(e);t.details[i]=this.details}})},_getmenuitembyindex:function(e){return void 0==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var r=i.columnsmenu;e(i.element).trigger("mouseenter"),this.menuOwner=i;for(var s=this,o=0;o<s.columns.records.length;o++)s.columns.records[o].datafield!=t&&e(s.columns.records[o].element).trigger("mouseleave");setTimeout(function(){"block"==e(r)[0].style.display&&e(r).trigger("click"),s._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing&&((t=e.data(document.body,"contextmenu"+this.element.id))||(t={column:{displayfield:null}}),!1===this.columnmenuclosing(this.gridmenu,t.column.displayfield,e(this.gridmenu).height())))return;null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var t=e.data(document.body,"contextmenu"+this.element.id);if(null!=t&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(t.columnsmenu).animate({"margin-left":0},"fast",function(){e(t.columnsmenu).css("display","none")});i=this.rtl?0:-32;t.column.iconscontainer.animate({"margin-left":i},"fast")}else{e(t.columnsmenu).css("display","none");var i=this.rtl?0:-32;t.column.iconscontainer.css("margin-left",i)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var r=this._getmenuitembyindex(5);if(r){var s=e(r).find("#filter1"+this.element.id),o=e(r).find("#filter2"+this.element.id),a=e(r).find("#filter3"+this.element.id);s.length>0&&"default"===this.filtermode&&(s.jqxDropDownList("hideListBox"),o.length>0&&o.jqxDropDownList("hideListBox"),a.length>0&&a.jqxDropDownList("hideListBox"))}}},scrolloffset:function(e,t){null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,!0===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)this.updatebounddata("data");else{if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(e){}}},50))},databind:function(t,i){if(!0!==this.loadingstate&&!0!==this._stopbindings){var r=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var s=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),void 0!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);var o=null;if(null!=t&&(o=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!s.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var a=t._source.sortdirection;if("a"==a||"asc"==a||"ascending"==a||1==a)l=!0;else var l=!1;this.sortdirection=null!=a?{ascending:l,descending:!l}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&s.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!s.pageable&&s.virtualmode&&(s.loadondemand=!0),s._loading=!1,s.dataview.isupdating()&&s.dataview.resumeupdate(!1),s.pageable&&s.pagerrenderer){if(!s._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");s._initpager()}if(s.source&&s.source.sortcolumn&&s.sortby&&!s.virtualmode)s.render(),s.source._source.sort||s.sortby(s.source.sortcolumn,s.source.sortdirection,s.source.sortcomparer),s.source.sortcolumn=null,s._postrender("data");else{var o=s.vScrollInstance.value,a=s.hScrollInstance.value,l=s.source?s.source.datatype:"array";if("local"!=l||"array"!=l){var n=null==s.virtualsizeinfo||null!=s.virtualsizeinfo&&0==s.virtualsizeinfo.virtualheight;if("cells"==i){var d=!1;if(s.filterable&&s._initfilterpanel&&s.dataview.filters.length&&(d=!0),0==t)return s.vScrollInstance.isScrolling()||s.hScrollInstance.isScrolling()||(s._cellscache=new Array,s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s.showfilterrow&&s.filterable&&s.filterrow&&s._updatelistfilters(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates()),s.sortcolumn&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.virtualmode&&!s._loading&&(s.loadondemand=!0,s._renderrows(s.virtualsizeinfo)),void s._postrender("data");d?i="filter":void 0!=s.sortcolumn&&(i="sort")}!s.virtualmode||n||s.virtualmode&&s.pageable?1==s.initializedcall&&"pagechanged"==i?(o=0,s.groupable&&s.groups.length>0?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):(s.rendergridcontent(!0),s.pageable&&s.updatepagerdetails&&(s.updatepagerdetails(),s.autoheight?(s._updatepageviews(),s.autorowheight&&s._renderrows(this.virtualsizeinfo)):s.autorowheight&&(s._updatepageviews(),s._renderrows(this.virtualsizeinfo)))),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):"filter"==i?(s.virtualmode,s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._updatefocusedfilter(),s._postrender("data")):"sort"==i?(s.virtualmode?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):(s._render(!0,!0,!1,!1,!1),s.sortcolumn&&!s.source.sort&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s._postrender("data")),s.source.sort&&s._updatefocusedfilter()):"data"==i?(s._render(!0,!0,!1,!1,!1),s._postrender("data")):"state"==i?(s._render(!0,!0,!1,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):(s._render(!0,!0,!0,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):s.virtualmode&&1==t&&!s.pageable?(s._render(!0,!0,!1,!1,!1),s._updatefocusedfilter(),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):s.virtualmode&&!s.pageable&&0==t&&void 0!=i?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):s.virtualmode&&0==s.dataview.totalrecords&&s.dataview.filters.length>0?(s._render(!0,!0,!0,s.menuitemsarray&&!s.virtualmode),s._postrender("data")):(s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s._postrender("data")),s.vScrollInstance.value!=o&&o<=s.vScrollInstance.max&&s.vScrollInstance.setPosition(o),s.hScrollInstance.value!=a&&a<=s.hScrollInstance.max&&s.hScrollInstance.setPosition(a)}}if(s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.pageable&&(s.pagerrightbutton&&(s.pagerrightbutton.jqxButton({disabled:!1}),s.pagerleftbutton.jqxButton({disabled:!1}),s.pagershowrowscombo.jqxDropDownList({disabled:!1})),s.pagerfirstbutton&&(s.pagerfirstbutton.jqxButton({disabled:!1}),s.pagerlastbutton.jqxButton({disabled:!1}))),s._raiseEvent(11),s.initializedcall)s._updateTouchScrolling();else{var h=function(){if(s._raiseEvent(0),s.initializedcall=!0,s.isInitialized=!0,s.ready&&s.ready(),s.renderstatusbar&&s.renderstatusbar(s.statusbar),s.rendertoolbar&&s.rendertoolbar(s.toolbar),s._rendercelltexts&&s._rendercelltexts(),s._gridRenderElement){e(s._gridRenderElement).show("slow");var t=6e3+Math.floor(4e3*Math.random()+1),i=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(i)](function(){e(s._gridRenderElement).hide("slow",function(){e(s._gridRenderElement).remove()})},t)}s.autoloadstate&&s.loadstate&&s.loadstate(null,!0)};if(e.jqx.isHidden(s.host)?(s.readyInterval&&clearInterval(s.readyInterval),s.readyInterval=setInterval(function(){e.jqx.isHidden(s.host)||s.__isRendered&&(clearInterval(s.readyInterval),s.readyInterval=null,h(),s._initmenu())},200)):h(),null!=s.width&&-1!=s.width.toString().indexOf("%")||null!=s.height&&s.height.toString().indexOf("%"),"hidden"==s.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==s.vScrollBar.css("visibility")&&s.vScrollBar.css("visibility","inherit"),s.autowidth||"visible"==s.hScrollBar.css("visibility")&&s.hScrollBar.css("visibility","inherit"),s._intervalTimer=setInterval(function(){"visible"==s.host.css("visibility")&&(s._updatesize(!0),clearInterval(s._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(void 0!=o?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){void 0!=e&&this.hScrollInstance.setPosition(e),void 0!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){if(this.autoheight&&!this.pageable)return!0;var t=this._getpagesize(),i=Math.floor(e/t);if(this._pageviews[i]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var r=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){i=Math.floor(e/t);if(this.dataview.pagenum!=i){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(i),r=!0}}var s=this.vScrollInstance.value,o=this._gettableheight()-this.rowsheight,a=t*(e/t-i);if(a=Math.round(a),this._pageviews[i]){l=this._pageviews[i].top+a*this.rowsheight;if(this.rowdetails)for(n=t*i;n<e;n++)this.details[n]&&0==this.details[n].rowdetailshidden&&(l+=this.details[n].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=l+this.rowsheight&&(l=this.vScrollInstance.max),l<s?(this.scrolltop(l),r=!0):l>s+o+2&&(this.scrolltop(l-o),r=!0)}else if(this.pageable){var l=a*this.rowsheight;if(this.rowdetails)for(var n=t*i;n<t*i+a;n++)this.details[n]&&0==this.details[n].rowdetailshidden&&(l+=this.details[n].rowdetailsheight);(l<s||l>s+o)&&(this.scrollto(0,l),r=!0)}return r},ensurecellvisible:function(t,i){var r=this.that,s=this.hScrollBar.jqxScrollBar("value"),o=r.hScrollInstance.max;r.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(o=0);var a=this.ensurerowvisible(t),l=0;if(this.columns.records){var n=s;if("hidden"==this.hScrollBar.css("visibility"))return;var d=this.host.width(),h=0,c="visible"==this.vScrollBar.css("visibility")?20:0,u=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=r.rtl?o-s:n;return l+this.width>t+d-c?(e=l+this.width-d+c,r.rtl&&(e=o-e),r.scrollleft(e),u=!0):l<=t&&(e=l-this.width,r.rtl&&(e=o-e),r.scrollleft(e),u=!0),0==h?(r.rtl?r.scrollleft(o):r.scrollleft(0),u=!0):h==r.columns.records.length-1&&"visible"==r.hScrollBar.css("visibility")&&(r.rtl?r.scrollleft(r.hScrollBar.jqxScrollBar("min")):r.scrollleft(r.hScrollBar.jqxScrollBar("max")),u=!0),!1}h++,l+=this.width}),u||r.scrollleft(n)}return a},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null!=e&&null!=t&&(this.heightboundrows[e]={index:e,height:t},!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height=t:(row=new i(this,null),row.height=t,this.rows.replace(e,row)),this.heights[e]=t,this.rendergridcontent(!0),!0))},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,r,s){if(!(void 0==t||null==t||t<0)){var o=t+"_";if(this._rowdetailscache[o]){var a=this._rowdetailscache[o].element;e(a).remove(),this._rowdetailscache[o]=null}var l=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:r,rowdetailshidden:s,key:l}},!((t=this.getrowvisibleindex(t))<0)&&this._setrowdetails(t,i,r,s,l)}},getcolumn:function(t){var i=null;return this.columns.records?e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}):this.columns&&e.each(this.columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){if(i++,this.datafield==t)return!1}),i},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var r=this.getcolumn(e);if(null!=r){var s=r[t];r[t]=i;var o=this._getcolumn(e);switch(null!=o&&(o[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=s){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==r.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,r,s){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=s)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:s};else{for(var o=null!=this.details[e]?this.details[e].detailskey:null,a={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:o},l=(this.that,0);l<this.detailboundrows.length;l++)if(void 0!=this.detailboundrows[l]){var n=this.detailboundrows[l];if(n.details.detailskey==o){n.details.rowdetailsheight=a.rowdetailsheight,n.details.rowdetailshidden=a.rowdetailshidden,n.details.rowdetails=a.rowdetails;break}}this.details[e]=a}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null!=e&&(!(e<0)&&(this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0))},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var r=this.vScrollInstance.value,s=!i.rowdetailshidden,o=this.getboundindex(e);void 0!=o&&(this.detailsVisibility[o]=s);var a=this._setrowdetailsvisibility(t,i,s);return 0!==r&&"hidden"!==this.vScrollBar.css("visibility")&&(r<=this.vScrollInstance.max?this.vScrollInstance.setPosition(r):this.vScrollInstance.setPosition(this.vScrollInstance.max)),a}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var r=this.dataview.generatekey();this.details[e].detailskey=r,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var s=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}),this._setrowdetails(e,s.rowdetails,s.rowdetailsheight,s.rowdetailshidden)},getrowvisibleindex:function(e){if(void 0==e||null==e||e<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return void 0==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(void 0==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0)))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(void 0==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1)))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(void 0!=i&&!i)&&(this.rendergridcontent(!0),!0))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,r=new Array,s=new Array,o=t.groupable&&t.groups.length>0,a=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var l=this.dataview.pagesize;this.pageable&&o&&(l=this.dataview.rows.length);for(var n=0;n<l&&!(n>=this.dataview.rows.length);n++){var d=this.dataview.rows[n],h=null;t.rows.records[d.visibleindex]?(h=t.rows.records[d.visibleindex]).setdata(d):h=new i(t,d),h.hidden=this.hiddens[h.visibleindex],this.rowdetailstemplate&&(h.rowdetails=this.rowdetailstemplate.rowdetails,h.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,h.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var c=this.details[h.visibleindex];if(c?(h.rowdetails=c.rowdetails,h.rowdetailsheight=c.rowdetailsheight,h.rowdetailshidden=c.rowdetailshidden):this.rowdetailstemplate||(h.rowdetails=null),o&&this.pageable&&null!=h.parentbounddata){var u=r[h.parentbounddata.uniqueid];if(null!=u){var g=this._findgroupstate(u.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,h.parentbounddata,!g,!1),h.hidden=this.hiddens[h.visibleindex]}null!=u&&void 0!=u&&(h.parentrow=u,u.subrows[u.subrows.length++]=h)}if(!h.hidden){var p=d.visibleindex;this.heights[p]||(this.heights[p]=this.rowsheight),h.height=this.heights[p],this.rowdetails&&h.rowdetails&&!h.rowdetailshidden&&(h.height+=h.rowdetailsheight),r[h.uniqueid]=h,s[a++]=h,h.top=e,e+=h.height;var w=p;t.rows.replace(w,h)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),s.length>0&&(this._pagescache[this.dataview.pagenum]=s)}}},_updateaddnewrowui:function(t){for(var i=this,r="bottom"!=i.everpresentrowposition?i.addnewrowtop:i.addnewrowbottom,s=i.columns.records.length,o=0,a=0;a<s;a++)(l=i.columns.records[a]).addnewrowwidget&&e(l.addnewrowwidget).detach();for(a=0;a<s;a++){var l=i.columns.records[a],n=l.width;n<l.minwidth&&(n=l.minwidth),n>l.maxwidth&&(n=l.maxwidth);var d=e(r[0].cells[a]);d.css("left",o);d.width()==n&&!1,t&&!0,d.width(n),d[0].left=o,l.addnewrowwidget&&(d.html(""),d.append(l.addnewrowwidget)),l.hidden&&l.hideable?d.css("display","none"):o+=n}var h=i.everpresentrowactions.split(" ");i.addnewrowbutton.show(),i.addnewrowupdatebutton.show(),i.addnewrowresetbutton.show(),i.addnewrowdeletebutton.show(),-1==h.indexOf("add")&&-1==h.indexOf("addBottom")&&i.addnewrowbutton.hide(),-1==h.indexOf("update")&&i.addnewrowupdatebutton.hide(),-1==h.indexOf("reset")&&i.addnewrowresetbutton.hide(),-1==h.indexOf("delete")&&i.addnewrowdeletebutton.hide();var c=e(r.children()[0]);c.width(parseInt(o)+2),c.height(i.everpresentrowheight),c.css("max-height",i.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;i<t;i++){var r=e.columns.records[i];r.addnewrowwidget&&(r.destroyeverpresentrowwidget?r.destroyeverpresentrowwidget(r.addnewrowwidget):r.addnewrowwidget.remove(),r.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,r=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),s=0,o=t.columns.records.length,a=t.toThemeProperty("jqx-grid-cell");a+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),a+=" "+t.toThemeProperty("jqx-grid-cell-filter-row");var l=o+10,n=new Array;t.that;i[0].cells=n,r.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),r.css("max-height",t.everpresentrowheight+"px"),i.append(r);var d=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'><div>").appendTo(e(document.body)),h=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),g=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>");d.addClass(t.toThemeProperty("jqx-popup")),d.addClass(t.toThemeProperty("jqx-rc-all")),d.addClass(t.toThemeProperty("jqx-fill-state-normal")),d.addClass(t.toThemeProperty("jqx-shadow")),d.append(h),d.append(c),d.append(u),d.append(g);var p=t.everpresentrowactions.split(" ");-1==p.indexOf("add")&&-1==p.indexOf("addBottom")&&h.hide(),-1==p.indexOf("update")&&c.hide(),-1==p.indexOf("reset")&&g.hide(),-1==p.indexOf("delete")&&u.hide(),t.addnewrowpopup=d,t.addnewrowbutton=h,t.addnewrowupdatebutton=c,t.addnewrowdeletebutton=u,t.addnewrowresetbutton=g,h.jqxButton({template:"success",theme:t.theme}),u.jqxButton({template:"danger",theme:t.theme}),c.jqxButton({template:"primary",theme:t.theme}),g.jqxButton({template:"warning",theme:t.theme}),c.mousedown(function(e){for(var i={},r={},s=0;s<o;s++)if((h=t.columns.records[s]).geteverpresentrowwidgetvalue){c=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget);r[h.datafield]=c,h.datafield!=h.displayfield&&(r[h.datafield]=c.value,r[h.displayfield]=c.label)}for(var a=!1,s=0;s<o;s++)if((h=t.columns.records[s]).geteverpresentrowwidgetvalue){c=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget);if(h.createeverpresentrowwidget&&h.validateeverpresentrowwidgetvalue){var l=h.validateeverpresentrowwidgetvalue(h.displayfield,c,r),n=t.gridlocalization.validationstring;void 0!=l.message&&(n=l.message),("boolean"==typeof l?l:l.result)?(h.addnewrowwidget.attr("title",""),h.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(c="invalid editor state",h.addnewrowwidget.attr("title",n),h.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==c||(e.preventDefault(),e.stopPropagation(),a=!0)}if(a)return d.hide(),void t.focus();for(s=0;s<o;s++){var h=t.columns.records[s];if(h.geteverpresentrowwidgetvalue){var c=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget);i[h.datafield]=c,h.datafield!=h.displayfield&&(i[h.datafield]=c.value,i[h.displayfield]=c.label),h.reseteverpresentrowwidgetvalue&&h.reseteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)}}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)u=t.getselectedcells()[0].rowindex;else var u=t.selectedrowindexes[0];rowData=t.getrowdata(u),rowData&&t.updaterow(rowData.uid,i)}d.hide(),t.focus()}),u.mousedown(function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)i=t.getselectedcells()[0].rowindex;else var i=t.selectedrowindexes[0];rowData=t.getrowdata(i),rowData&&t.deleterow(rowData.uid)}for(var r=0;r<o;r++){var s=t.columns.records[r];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget)}d.hide(),t.focus(),t.updateeverpresentrow()}),h.mousedown(function(e){for(var i={},r={},s=0;s<o;s++)if((h=t.columns.records[s]).geteverpresentrowwidgetvalue){c=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget);r[h.datafield]=c,h.datafield!=h.displayfield&&(r[h.datafield]=c.value,r[h.displayfield]=c.label),h.datafield!=h.displayfield&&(r[h.datafield]=c.label,r[h.displayfield]=c.value)}for(var a=!1,s=0;s<o;s++)if((h=t.columns.records[s]).geteverpresentrowwidgetvalue){c=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget);if(h.createeverpresentrowwidget&&h.validateeverpresentrowwidgetvalue){var l=h.validateeverpresentrowwidgetvalue(h.displayfield,c,r),n=t.gridlocalization.validationstring;void 0!=l.message&&(n=l.message),("boolean"==typeof l?l:l.result)?(h.addnewrowwidget.attr("title",""),h.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(c="invalid editor state",h.addnewrowwidget.attr("title",n),h.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==c||(e.preventDefault(),e.stopPropagation(),a=!0)}if(a)return d.hide(),void t.focus();for(s=0;s<o;s++){var h=t.columns.records[s];if(h.geteverpresentrowwidgetvalue){var c=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget);i[h.datafield]=c,h.datafield!=h.displayfield&&(r[h.datafield]=c.label,r[h.displayfield]=c.value),h.reseteverpresentrowwidgetvalue&&h.reseteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)}}var u=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";t.addrow(null,i,u),d.hide(),t.focus()}),g.mousedown(function(e){for(var i=0;i<o;i++){var r=t.columns.records[i];r.reseteverpresentrowwidgetvalue&&r.reseteverpresentrowwidgetvalue(r.displayfield,r.addnewrowwidget),r.addnewrowwidget&&(r.addnewrowwidget.attr("title",""),r.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}d.hide(),t.focus()});for(var w=0;w<o;w++){var m=t.columns.records[w],v=m.width;v<m.minwidth&&(v=m.minwidth),v>m.maxwidth&&(v=m.maxwidth);var f=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+a+'"></div>');if(r.append(f),f.css("left",s),t.rtl?(f.css("z-index",l++),f.css("border-left-width","1px")):f.css("z-index",l--),"auto"==v&&(v=0),f[0].style.width=parseFloat(v)+"px",f[0].left=s,m.hidden&&m.hideable?f.css("display","none"):s+=v,n[n.length]=f[0],m.checkboxcolumn){var b=t.toThemeProperty("jqx-grid-cell");b+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),b+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),f.removeClass().addClass(b)}else{var x=!0;if(t.rtl){if(t.groupable){y=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+y+w>o-1&&(x=!1)}t.showrowdetailscolumn&&t.rowdetails&&w==o-1&&(x=!1)}else{if(t.groupable){var y=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+y>w&&(x=!1)}t.showrowdetailscolumn&&t.rowdetails&&0==w&&(x=!1)}if(t.updateeverpresentrow=function(){var e=null;if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)i=t.getselectedcells()[0].rowindex;else var i=t.selectedrowindexes[0];e=t.getrowdata(i)}if(e)for(var r=0;r<t.columns.records.length;r++){var s=t.columns.records[r];if(s.seteverpresentrowwidgetvalue){var o=t.getcelltext(i,s.displayfield);s.seteverpresentrowwidgetvalue(s.addnewrowwidget,o)}}},x)if(m.createeverpresentrowwidget){m.addnewrowwidget=m.createeverpresentrowwidget(m.datafield,f,d,function(){h.trigger("mousedown")}),m.initeverpresentrowwidget&&m.initeverpresentrowwidget(m.datafield,f,d)}else{t._measureElement("column");var _=t.everpresentrowheight/2-t._columnheight/2;if(_<0&&(_=6),_+="px","addButtonColumn"===m.datafield){q=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+_+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>");f.append(q),q.mousedown(function(){h.trigger("mousedown")});continue}if("resetButtonColumn"===m.datafield){var q=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+_+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>");f.append(q),q.mousedown(function(){g.trigger("mousedown")});continue}!function(i,r,s){var a=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(a[0].id=e.jqx.utilities.createId(),a.addClass(i.toThemeProperty("jqx-widget")),a.addClass(i.toThemeProperty("jqx-input")),a.addClass(i.toThemeProperty("jqx-widget-content")),a.addClass(i.toThemeProperty("jqx-enableselect")),a.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),a.css("text-align",s.cellsalign),i.rtl&&a.css("direction","rtl"),i.disabled&&a.attr("disabled",!0),a.attr("disabled",!1),a.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+s.text),a.appendTo(r),a.css("width","100%"),a.css("height",i.everpresentrowheight+"px"),a.css("line-height",i.everpresentrowheight+"px"),a.css("max-height",i.everpresentrowheight+"px"),a.css("margin","0px"),a.focus(function(){(t.selectedcells.length>0||t.selectedrowindexes.length>0)&&(t.selectionmode.indexOf("cell")>=0?t.getselectedcells()[0].rowindex:t.selectedrowindexes[0]),a.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(s);if("columns"!==i.everpresentrowactionsmode&&d.css({display:"block",top:a.coord().top+i.everpresentrowheight-1,left:e>0?a.coord().left:a.coord().left-1}),r=d.children().width(),"right"===s.cellsalign){var r=h.width()+g.width();d.children().css("left",r-r+"px")}else d.children().css("left","0px");return i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),s.addnewrowwidget=a,s.reseteverpresentrowwidgetvalue||(s.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),s.seteverpresentrowwidgetvalue||(s.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!s.geteverpresentrowwidgetvalue){var l=s;s.geteverpresentrowwidgetvalue=function(i,r,s){var n=r.val();if(!1!==s&&l.validateeverpresentrowwidgetvalue){for(var d={},h=0;h<o;h++){var c=t.columns.records[h];if(c.geteverpresentrowwidgetvalue){var u=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget,!1);d[c.datafield]=u,c.datafield!=c.displayfield&&(d[c.datafield]=u.value,d[c.displayfield]=u.label)}}var g=l.validateeverpresentrowwidgetvalue(l.displayfield,n,d),p=t.gridlocalization.validationstring;if(void 0!=g.message&&(p=g.message),!("boolean"==typeof g?g:g.result))return a.addClass(t.toThemeProperty("jqx-input-invalid")),a.attr("title",p),"invalid editor state";a.removeClass(t.toThemeProperty("jqx-input-invalid")),a.attr("title","")}var w="string",m=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(m){var v="";e.each(m,function(){if(this.name==l.displayfield)return this.type&&(v=this.type),!1}),v&&(w=v)}if("number"===w){var f=parseFloat(n);if(isNaN(f))return null}return"date"===w?e.jqx.dataFormat.tryparsedate(n,t.gridlocalization):"bool"===w||"boolean"===w?"true"===n||"1"==n||"false"!==n&&"0"!=n&&(!0===n?n:!1===n&&n):n}}a.keydown(function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?h.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?c.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&u.trigger("mousedown"))}),a.blur(function(){a.removeClass(i.toThemeProperty("jqx-fill-state-focus")),d.css("display","none")}),s.initeverpresentrowwidget&&s.initeverpresentrowwidget(s.datafield,r,d)}(this,f,m)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&r.css("z-index",l--),r.width(parseFloat(s)+2),i.addClass(a),i.css("border-bottom-width","0px"),t.showfilterrow?i.css("border-top-width","0px"):i.css("border-top-width","1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;return Math.round(e/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){this.that;var e=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var t=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var i=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var r=i*this.rowsheight,s=0,o=0,a=0,l=this._getpagesize(),n=l*this.rowsheight,d=0;if(!this.pageable&&this.autoheight&&(t=i),i+l>0)for(;d<=i+l;){if(s+=n,d-l<i&&d>=i){var h=d-i;h>0&&(a-=n,this._pageviews[o-1]={top:a,height:n-h*this.rowsheight});break}this._pageviews[o++]={top:a,height:n},a=s,d+=l}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var c=0;if(this.columns&&this.columns.records){for(d=0;d<this.columns.records.length;d++)c+=isNaN(this.columns.records[d].width)?this.columns.records[d].minwidth:this.columns.records[d].width;!isNaN(c)&&parseInt(c)>this.host.width()&&(realheight-=30)}}return r>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:r}):this.vScrollBar.jqxScrollBar({max:r-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=l,this.dataview.updateview(),{visiblerecords:t,virtualheight:r}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),r=Math.max(this.dataview.totalrows,this.dataview.totalrecords),s=r*this.rowsheight,o=0,a=0,l=0,n=0,d=0,h=this._getpagesize();if(this.pageable)this._updatepagedview&&(s=this._updatepagedview(r,s,0)),this.autoheight&&this._arrange();else for(var c=0;c<r;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(void 0==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),void 0==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),void 0==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(s-=e.rowsheight,s+=u.height),u.hidden)s-=u.height;else{a+=u.height;var g=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(a+=g=u.details.rowdetailsheight,s+=g)),o+=u.height+g}(++d>=h||c==r-1)&&(this._pageviews[l++]={top:n,height:a},a=0,n=o,d=0)}var p=this._gettableheight();if(s>p)if(this.pageable&&this.gotopage&&(s=this._pageviews[0].height)<0&&(s=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(s<=p||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),s-p>0)if("deferred"!=this.scrollmode){var w=s-p,m=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:w}),w!=m&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:s});else this.vScrollBar.jqxScrollBar({value:0,max:s});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:s}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var r=function(e){for(var i=0;i<t.columngroups.length;i++){var r=t.columngroups[i];if(r.name===e)return r}return null},i=0;i<this.columngroups.length;i++)(d=this.columngroups[i]).groups||(d.groups=null),d.parentgroup&&(s=r(d.parentgroup))&&(d.parent=s,s.groups||(s.groups=new Array),-1===s.groups.indexOf(d)&&s.groups.push(d));for(i=0;i<this.columns.records.length;i++)if((d=this.columns.records[i]).columngroup){var s=r(d.columngroup);s&&(s.groups||(s.groups=new Array),d.parent=s,-1===s.groups.indexOf(d)&&s.groups.push(d))}for(var o=0,i=0;i<this.columns.records.length;i++){a=d=this.columns.records[i];for(d.level=0;a.parent;)a=a.parent,d.level++;var a=d,l=d.level;for(o=Math.max(o,d.level);a.parent;)(a=a.parent)&&(a.level=--l)}for(var n=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=n(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t},i=0;i<this.columngroups.length;i++){var d=this.columngroups[i],h=n(d);d.columns=h;for(var c=new Array,u=0,g=0;g<h.length;g++)c.push(this.columns.records.indexOf(h[g])),h[g].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(var p=1;p<c.length;p++)if(c[p]!=c[p-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+o,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,r,s,o){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var a=this;return a.___hiddenTimer&&(clearInterval(a.___hiddenTimer),a.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(a.host)||(clearInterval(a.___hiddenTimer),a.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0==i||i,this._newmax=null,r)if(this._requiresupdate||0!=s&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var l=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){l.columns=l._columns,l.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){l.beginupdate();for(var i in e.newValue)l.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);l.endupdate()}else{var r=e.path.split(".");l.setcolumnproperty(l.columns[r[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){l.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==s&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),r?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var n=this.columnsheight;if(n=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(n+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(n+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(n+this.everpresentrowheight):this.columnsheader.height(n),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,r),this.groups.length>0&&this.groupable){var d=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=d&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==o||1==o)&&this._updatelistfilters(!r),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var r=this._overlayElement.css("left");this._overlayElement.css("left",r+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(var t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],r=0;for(var s in this.groupsVisibility)s==i.group&&this.groupsVisibility[s]&&(suspendgroupevents=!0,this._setgroupstate(i,!0,!1),r++);if(r>0){suspendgroupevents=!1;var o=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,t){if(this.updating())return!1;void 0!=e&&null!=e||(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var r=this.that;if(null!=(t=t)&&void 0!=t||(t=!0),this.tableheight=null,r.virtualsizeinfo=r.virtualsizeinfo||r._calculatevirtualheight(),r.pageable&&!r.autoheight&&r.dataview.totalrows<r.pagesize&&(r._requiresupdate=!0),t?r._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),r._renderrows(r.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var s=this.tableheight;this._arrange(),s!=this.tableheight&&this.autoheight&&r._renderrows(r.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,r="";if(void 0!=this.columns&&void 0!=this.columns.records){var s=this.that,o=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(e,a){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var a=0,l="hidden"==s.vScrollBar[0].style.visibility?0:s.scrollbarsize+5;(s.scrollbarautoshow||0==s.scrollbarsize)&&(l=0);var n=i;a=parseFloat(this.width)*n/100,l+=o,void 0!=this._percentagewidth&&(a=parseFloat(this._percentagewidth)*(n-l)/100),a<this.minwidth&&"auto"!=this.minwidth&&(a=this.minwidth),a>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth),t-=a}else"auto"==this.width||this._width?r+=this.text:t-=this.width});var a=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>a)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var l=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var n=0;n<this.dataview.rows.length;n++)this.dataview.rows[n].group&&0===this.dataview.rows[n].level&&(l+=this.rowsheight);l>a?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5);o=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(i-=o,this.columnsheader){var d=this.columnsheader.find("#columntable"+this.element.id);if(0!=d.length){var h=0,c=this,u=0;e.each(this.columns.records,function(s,o){var a=e(this.element);this.hidden||"none"!==this.element.style.display||(this.element.style.display="block");var l=!1,n=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(n=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,l=!0),"auto"==this.width||this._width||l)if(l)n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth,this.width=n),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth,this.width=n),parseInt(a[0].style.width)!=n&&(a.width(n),this.width=n);else{var d=Math.floor(t*(this.text.length/r.length));t-(u+=d)<3&&t!=u&&t-u>.01?d+=2:s==c.columns.records.length-1&&u<t&&(d+=t-u),isNaN(d)&&(d=this.minwidth),d==1/0&&(d=0),d<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),d=10+$element.width(),$element.remove()),d<this.minwidth&&(d=this.minwidth),d>this.maxwidth&&(d=this.maxwidth),this._width="auto",this.width=d,a.width(this.width)}else parseInt(a[0].style.width)!=this.width&&a.width(this.width);parseInt(a[0].style.left)!=h&&a.css("left",h),this.hidden&&this.hideable||(h+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+h),d.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==h?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var r=0,s=0,o="",a=this.host.width(),l=a,n=new Array,d=new Array,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)o+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)a-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)a-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0,r="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;r+=h,(i=parseFloat(this.width)*(l-r)/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),a-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),a-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),n[n.length]=this):d[d.length]=this}),this.rtl){var c=0;n.reverse();for(u=this.columns.records.length-1;u>=this.columns.records.length-n.length;u--)this.columns.replace(u,n[c++]);for(g=0;g<d.length;g++)this.columns.replace(g,d[g])}else{for(var u=0;u<n.length;u++)this.columns.replace(u,n[u]);for(var g=0;g<d.length;g++)this.columns.replace(n.length+g,d[g])}var p=this.headerZIndex,w=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&w++;var m=t.columnsheader.height();this.showfilterrow&&(this.columngroups?m-=this.filterrowheight:m=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(m-=this.everpresentrowheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){b=0;if(this.pageable){if(this.pageable)for(var f=0;f<this.dataview.rows.length;f++)this.dataview.rows[f].group&&0===this.dataview.rows[f].level&&(b+=this.rowsheight)}else var b=this.dataview.loadedrootgroups.length*this.rowsheight;b>v&&(a-=this.scrollbarsize+5,l-=this.scrollbarsize+5)}else a-=this.scrollbarsize+5,l-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(a-=this.scrollbarsize+5,l-=this.scrollbarsize+5);l-=h;var x=function(e,i){var r=t.columngroupslevel*t.columnsheight;return r-=i.level*t.columnsheight},y=document.createDocumentFragment(),_=0;if(e.each(this.columns.records,function(n,d){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=x(this.datafield,this),m=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl"));var c=t.rtl?150+p+1:150+p-1,u=t.rtl?p++:p--,g=e('<div role="columnheader" style="z-index: '+u+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(g[0].style.height=m+"px",g[0].style.bottom="0px",this.pinned&&(g[0].style.zIndex=c)),this.uielement=g,""!=this.classname&&this.classname&&g.addClass(this.classname);var v=this.width,f=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(v=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*l/100:parseFloat(this.width)*l/100,f=!0),"auto"==this.width||this._width||f){if(f)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),g.width(v),this.width=v;else if(!this.hidden){var b=Math.floor(a*(this.text.length/o.length));a-(_+=b)<3&&a!=_&&a-_>.01?a-_==1?b++:b+=2:n==t.columns.records.length-1&&_<a&&(b+=a-_),isNaN(b)&&(b=this.minwidth),b<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),b=10+$element.width(),$element.remove()),b<this.minwidth&&(b=this.minwidth),b>this.maxwidth&&(b=this.maxwidth),this._width="auto",this.width=b,v=this.width,g.width(this.width)}}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth,this.width=v),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth,this.width=v),g[0].style.width=parseInt(v)+"px";this.hidden&&this.hideable&&g.css("display","none");var q=e(g.children()[0]),j=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");j+=" "+t.toTP("jqx-icon-arrow-down");var S=e('<div style="height: '+m+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+j+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||S.css("margin-left",-16),t.rtl&&S.css("left","0px"),this.columnsmenu=S[0],i[0].cells[n]=g[0],S[0].style.width=parseInt(t.columnsmenuwidth)+"px";var z=t.columnsmenu,k=!1,I=!1,B=t.groupable&&w>0&&r<w||t.rowdetails&&r<w;if(t.rtl&&(B=t.groupable&&w>0&&r<w||t.rowdetails&&r<w,B&=n>t.columns.records.length-1-w),B)r++,z&=!1,this.sortable=!1,this.editable=!1,I=!0;else{var T=null!=this.renderer?this.renderer(this.text,this.align,m):t._rendercolumnheader(this.text,this.align,m,t);null==T&&(T=t._rendercolumnheader(this.text,this.align,m,t)),null!=this.renderer&&(T=e(T)),z&=!0,k=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){q.append(e(T))}):this.renderer?q.append(e(T)):T&&(q[0].innerHTML=T),null!=T){var C=e('<div class="iconscontainer" style="height: '+m+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+m+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+m+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+m+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');S.addClass(t.toTP("jqx-widget-header")),q.append(C);var P=C.children();this.sortasc=P[1],this.sortdesc=P[2],this.filtericon=P[0],this.iconscontainer=C,t.rtl&&(C.css("margin-left","0px"),C.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=g[0],z&&(t._handlecolumnsmenu(t,q,g,S,this),this.menu||S.hide()),y.appendChild(g[0]),t.groupable&&k){if(g[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,g)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,g);var H=this;if(t.addHandler(g,"click",function(e){if(H.checkboxcolumn)return!0;if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0;t._togglesort(H)}e.preventDefault(),t._raiseEvent(7,{column:H.getcolumnproperties(),datafield:H.datafield,originalEvent:e})}),H.resizable&&t.columnsresize&&!I){var M=!1,D="mousemove";t.isTouchDevice()&&!0!==t.touchmode&&(M=!0,D=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(g,D,function(i){var r=parseInt(i.pageX),s=5,o=parseInt(g.coord().left);if(t.hasTransform&&(o=e.jqx.utilities.getOffset(g).left),t.resizing)return!0;if(t._handlecolumnsresize){if(M)return r=t.getTouches(i)[0].pageX,s=40,r>=o+H.width-s?(t.resizablecolumn={columnelement:g,column:H},g.css("cursor","col-resize")):(g.css("cursor",""),t.resizablecolumn=null),!0;var a=H.width;if(t.rtl&&(a=0),r>=o+a-s){if(r<=o+a+s)return t.resizablecolumn={columnelement:g,column:H},g.css("cursor","col-resize"),!1;g.css("cursor",""),t.resizablecolumn=null}else g.css("cursor",""),r<o+a-s&&(H._animating||H._menuvisible||g.mouseenter()),t.resizablecolumn=null}})}if(g.css("left",s),this.hidden&&this.hideable||(s+=v),H.rendered&&H.rendered(e(q[0].firstChild),H.align,m)&&null!=C&&C.hide(),H.checkboxcolumn){if(C&&C.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");q.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var A=q.find("div:first");A.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),H.checkboxelement=A;var E=A.data().jqxCheckBox.instance;t._checkboxcolumn=H,E.updated=function(e,i,r){t._checkboxcolumnupdating=!0,t.disabled&&(A.jqxCheckBox({disabled:t.disabled}),i=r),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),s>0?this.columnsheader.width(2+s):this.columnsheader.width(s),i[0].appendChild(y),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.filterrow){var q=e("<div style='position: relative !important; '></div>");q[0].id="filterrow."+this.element.id,q.height(this.filterrowheight),this.filterrow=q}this.filterrow.width(2+s),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.addnewrowtop){var j=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");j[0].id="addnewrowtop."+this.element.id,j.height(this.everpresentrowheight),this.addnewrowtop=j}this.addnewrowtop.width(2+s),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var S=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");S[0].id="addnewrowbottom."+this.element.id,S.height(this.everpresentrowheight),this.addnewrowbottom=S}this.addnewrowbottom.width(2+s),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}i[0].style.visibility=0==s?"hidden":"inherit",i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var r=this.headerZIndex-t+this.columns.records.length,s=this.that,o=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(o+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var a=this.columnsheader.find("#columntable"+this.element.id);a.find("jqx-grid-columngroup-header").remove();for(var l=0;l<this.columngroupslevel-1;l++)for(i=0;i<this.columngroups.length;i++){var n=this.columngroups[i],d=n.level;if(d===l){var h=d*this.columnsheight,c=99999;if(n.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=u(r):r.hidden||(t+=r.width,c=Math.min(parseFloat(r.element.style.left),c))}return t};n.width=u(n),n.left=c;var g=this.columnsheight,p=r--,w=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+o+'"></div>'),m=e(this._rendercolumnheader(n.text,n.align,this.columnsheight,this));if(n.renderer){var m=e("<div style='height: 100%; width: 100%;'></div>"),v=n.renderer(n.text,n.align,g);m.html(v)}w.append(m),w[0].style.left=c+"px",0===c&&(w[0].style.borderLeftColor="transparent"),w[0].style.top=h+"px",w[0].style.height=g+"px",w[0].style.width=-1+n.width+"px",a.append(w),n.element=w,n.rendered&&n.rendered(m,n.align,g)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level*this.columnsheight,r=99999;if(t.groups){var s=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=s(o):o.hidden||(t+=o.width,r=Math.min(parseFloat(o.element.style.left),r))}return t};t.width=s(t),t.left=r;var o=this.columnsheight,a=t.element;a[0].style.left=r+"px",a[0].style.top=i+"px",a[0].style.height=o+"px",a[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,r,s,o){t.dragmousedown=null,s[0].id=t.dataview.generatekey(),i.append(s),r[0].columnsmenu=s[0],o.element=r[0];var a=this.columnsmenuwidth+1,l=function(){if(!o.menu)return!1;if(!t.resizing){if(o._menuvisible&&t._hasOpenedMenu)return!1;if(o._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations){s.css("display","block"),s.stop(),o.iconscontainer.stop(),t.rtl?(s.css("margin-left",-a),s.animate({"margin-left":"0px"},"fast",function(){s.css("display","block"),o._animating=!1,o._menuvisible=!0})):(s.css("margin-left","0px"),s.animate({"margin-left":-a},"fast",function(){s.css("display","block"),o._animating=!1,o._menuvisible=!0}));e=t.rtl?a:-(32+a);o.iconscontainer.animate({"margin-left":e},"fast")}else{s.css("display","block");var e=t.rtl?16:-48;o.iconscontainer.css("margin-left",e+"px"),o._animating=!1,o._menuvisible=!0}}},n="mouseenter";if(t.isTouchDevice()&&(n="touchstart"),t.addHandler(r,n,function(i){var s=parseInt(i.pageX),a=t.columnsresize&&o.resizable?3:0,n=parseInt(r.coord().left);t.hasTransform&&(n=e.jqx.utilities.getOffset(r).left);var d=o.width;if(t.rtl&&(d=0),0!=a&&s>=n+d-a&&s<=n+d+a)return!1;var h=t.vScrollInstance.isScrolling();o.menu&&t.autoshowcolumnsmenubutton&&!h&&!t.disabled&&l()}),!t.autoshowcolumnsmenubutton){s.css("display","block");var d=t.rtl?16:-48;o.iconscontainer.css("margin-left",d+"px"),t.rtl?s.css({"margin-left":"0px"}):s.css({"margin-left":-a})}t.addHandler(r,"mouseleave",function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&o.menu){var r=e.data(document.body,"contextmenu"+t.element.id);if(void 0!=r&&s[0].id==r.columnsmenu.id)return;if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?s.css("margin-left","0px"):s.css("margin-left",-a),s.stop(),o.iconscontainer.stop(),t.rtl?s.animate({"margin-left":-a},"fast",function(){s.css("display","none"),o._menuvisible=!1}):s.animate({"margin-left":0},"fast",function(){s.css("display","none"),o._menuvisible=!1});l=t.rtl?0:-32;o.iconscontainer.animate({"margin-left":l},"fast")}else{s.css("display","none");var l=t.rtl?0:-32;o.iconscontainer.css("margin-left",l+"px"),o._menuvisible=!1}}});var h=!0,c="",u=e(o.filtericon);t.addHandler(s,"mousedown",function(i){t.gridmenu||t._initmenu(),h=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(c=e.data(document.body,"contextmenu"+t.element.id))&&(c=c.column.datafield)}),t.addHandler(u,"mousedown",function(i){t.gridmenu||t._initmenu(),h=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(c=e.data(document.body,"contextmenu"+t.element.id))&&(c=c.column.datafield)});var g=function(){if(!o.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=o.datafield&&(t.columns.records[i]._menuvisible=!1);var r=s.coord(!0),a=s.height();if(!h&&(h=!0,c==o.datafield))return t._closemenu(),!1;var l=t.host.coord(!0);t.hasTransform&&(l=e.jqx.utilities.getOffset(t.host),r=e.jqx.utilities.getOffset(s)),l.left+t.host.width()>parseInt(r.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",r.left,r.top+a):t.gridmenu.jqxMenu("open",s.width()+r.left-t.gridmenu.width(),r.top+a),t.gridmenu.width()<100&&t._arrangemenu(),t._hasOpenedMenu=!0;var n=t._getmenuitembyindex(0),d=t._getmenuitembyindex(1),u=t._getmenuitembyindex(2),g=t._getmenuitembyindex(3),p=t._getmenuitembyindex(4),w=t._getmenuitembyindex(5);if(null!=n&&null!=d&&null!=u){var m=o.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",n.id,!m),t.gridmenu.jqxMenu("disable",d.id,!m),t.gridmenu.jqxMenu("disable",u.id,!m),void 0!=o.displayfield)if(t.sortcolumn==o.displayfield){var v=t.getsortinformation();m&&(v.sortdirection.ascending?t.gridmenu.jqxMenu("disable",n.id,!0):t.gridmenu.jqxMenu("disable",d.id,!0))}else t.gridmenu.jqxMenu("disable",u.id,!0)}if(null!=g&&null!=p&&(t.groupable&&o.groupable?t.groups&&-1!=t.groups.indexOf(o.datafield)?(t.gridmenu.jqxMenu("disable",g.id,!0),t.gridmenu.jqxMenu("disable",p.id,!1)):(t.gridmenu.jqxMenu("disable",g.id,!1),t.gridmenu.jqxMenu("disable",p.id,!0)):(t.gridmenu.jqxMenu("disable",p.id,!0),t.gridmenu.jqxMenu("disable",g.id,!0))),null!=w){t.menuOwner=o,t._updatefilterpanel(t,w,o);var f=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(f+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(f+=2);var b=33*f+6,b=f*t._measureMenuElement()+14;e.jqx.browser.msie&&e.jqx.browser.version<8&&(b+=20,e(w).height(190)),t.isTouchDevice()&&(b+=10),t.filterable&&t.showfiltermenuitems&&(o.filterable?(t.gridmenu.height(b+190),e(w).css("display","block")):(t.gridmenu.height(b),e(w).css("display","none")))}t.columnmenuopening&&!1===t.columnmenuopening(t.gridmenu,o.displayfield,t.gridmenu.height())&&t._closemenu(),e.data(document.body,"contextmenu"+t.element.id,{column:o,columnsmenu:s[0]})};t.addHandler(u,"click",function(e){return!!o.menu&&(t.showfilterrow||("block"!=s[0].style.display&&r.trigger("mouseenter"),setTimeout(function(){"block"!=s[0].style.display&&r.trigger("mouseenter"),g()},200)),!1)}),t.addHandler(s,"click",function(e){return!!o.menu&&(g(),!1)}),t.isTouchDevice()&&t.addHandler(s,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return!!o.menu&&(t._hasOpenedMenu?t._closemenu():g(),!1)})},_removecolumnhandlers:function(t){var i=this.that,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var s=e(t.filtericon);if(i.removeHandler(s,"mousedown"),i.removeHandler(s,"click"),i.removeHandler(r,"click"),i.removeHandler(r,"mousemove"),i.columnsreorder&&(i.removeHandler(r,"mousedown.drag"),i.removeHandler(r,"mousemove.drag")),i.removeHandler(r,"dragstart"),r[0].columnsmenu){var o=e(r[0].columnsmenu);i.removeHandler(o,"click"),i.removeHandler(o,"mousedown"),i.removeHandler(o,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,r){var s="7px";return r.columngroups?((s=i/2-this._columnheight/2)<0&&(s=6),s+="px"):30!=this.columnsheight&&((s=this.columnsheight/2-this._columnheight/2)<0&&(s=6),s+="px"),this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; margin-top: '+s+';"><a href="#">'+e+"</a></div>":'<a style="margin-top: '+s+"; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(t,i,r){var s=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(s.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var o=this.source.totalrecords;isNaN(o)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=o&&(s.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||s.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0))),s._prerenderrows(t),s._requiresupdate&&(s._requiresupdate=!1,s._updatepageviews());var a=function(){s._loading||(s.WinJS?MSApp.execUnsafeLocalFunction(function(){s._rendervisualrows()}):s._rendervisualrows(),s.virtualmode&&s.showaggregates&&s._updateaggregates&&s.refreshaggregates())},l=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){this.loadondemand&&(a(),function(){if(s.rendergridrows){var e=s._startboundindex;void 0==e&&(e=0);var t=e+1+s.dataview.pagesize;if(null!=e&&null!=t){var r=!!s.source._source;if((r?s.source._source.recordstartindex:s.source.recordstartindex)!=e||1==i){if(r){if(t>=s.source._source.totalrecords&&(t=s.source._source.totalrecords,(e=t-s.dataview.pagesize-1)<0&&(e=0),s.source._source.recordendindex==t&&s.source._source.recordstartindex==e))return;s.source._source.recordstartindex=e,s.source._source.recordendindex=t}else s.source.recordstartindex=e,s.source.recordendindex=t;s.updatebounddata("cells")}}}}(),this.loadondemand=!1);var n=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?a():this.autoheight?a():n||l||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){a()},5)):a()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var d=this._getfirstvisualrow();if(null!=d){var h=this.scrollfeedback?this.scrollfeedback(d.bounddata):function(t){if(null==d)return"";var i="<table>",r=s.deferreddatafields;null==r&&s.columns.records.length>0&&(r=new Array).push(s.columns.records[0].displayfield);for(var o=0;o<r.length;o++){var a=r[o],l=s._getcolumnbydatafield(a);if(l){var n=s._getcellvalue(l,d);""!=l.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(n)?n=e.jqx.dataFormat.formatdate(n,l.cellsformat,s.gridlocalization):e.jqx.dataFormat.isNumber(n)&&(n=e.jqx.dataFormat.formatnumber(n,l.cellsformat,s.gridlocalization))),i+="<tr><td>"+n+"</td></tr>"}}return i+="</table>"}(d.bounddata);h!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=h,this._scrollelementcontent=h)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){s.hScrollInstance.isScrolling()||s.vScrollInstance.isScrolling()||(a(),s._scrollelement.css("visibility","hidden"),s._scrollelementoverlay.css("visibility","hidden"),clearInterval(s._scrolltimer),d&&s.ensurerowvisible(d.visibleindex))},100))}if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((n=void 0==this._browser?this._isIE10():this._browser)||l)&&(this._updatedelay=5),n&&this.hScrollInstance.isScrolling())return void a();if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)a();else{var c=this._jqxgridrendertimer;null!=c&&clearTimeout(c),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?c=setTimeout(function(){a()},this._updatedelay):(c=null,a()),this._jqxgridrendertimer=c):(this._jqxgridrendertimer=c,a())}}if(s.autorowheight&&!s.autoheight&&this._pageviews.length>0){var u=this._gettableheight(),g=this._pageviews[0].height;if(g>u)if(this.pageable&&this.gotopage&&(g=this._pageviews[0].height)<0&&(g=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(g<=u||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),g-u>0){if("deferred"!=this.scrollmode){var p=g-u,w=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:p}),Math.round(p)!=Math.round(w)&&this.vScrollBar.jqxScrollBar("value")>p&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:g});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=g)}},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var r=this.table[0].rows.length,s=this.columnsrow,o=this.groupable&&this.groups.length>0?this.groups.length:0,a=this.columns.records.length-o,l=this.columns.records,n=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),n&&!this._haspinned){for(c=0;c<r;c++)for(var d=this.table[0].rows[c],h=0;h<o+a;h++)void 0!=(u=d.cells[h])&&(g=l[h]).pinned&&(u.style.marginLeft=i+"px",0==c&&((v=s[0].cells[h]).style.marginLeft=i+"px"));this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else if(this._haspinned||void 0==this._haspinned){for(var c=0;c<r;c++)for(var d=this.table[0].rows[c],h=0;h<o+a;h++){var u=d.cells[h];if(void 0!=u){var g=l[h];if(g.pinned){if(0==i&&""==u.style.marginLeft)continue;var p=null,w=null,m=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(m=this.addnewrowtop[0].cells[h]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(w=this.filterrow[0].cells[h]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[h]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==c){var v=s[0].cells[h];v.style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),w&&(w.style.marginLeft=-parseInt(t)+"px"),m&&(m.style.marginLeft=-parseInt(t)+"px")}}else u.style.marginLeft=i+"px",0==c&&((v=s[0].cells[h]).style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),w&&(w.style.marginLeft=i+"px"),m&&(m.style.marginLeft=i+"px"))}}}this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var f=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(f=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+f+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,r,s,o){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var a=0,l=-1,n=i+r,d=!1;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var h=0;h<i+r;h++){if(d||this.columns.records[h].pinned&&o&&(d=!0),this.columns.records[h].hidden||(a+=this.columns.records[h].width),a>=e&&-1==l&&(l=h),a>t+e){n=h;break}}return++n>i+r&&(n=i+r),(-1==l||d)&&(l=0),{start:l,end:n}},_getvirtualcolumnsindexes:function(e,t,i,r,s){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+r};var o=0,a=-1,l=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var n=0;n<i+r;n++){if(this.columns.records[n].hidden||(o+=this.columns.records[n].width),o>=e&&-1==a&&(a=n),o>t+e){l=n;break}}return++l>i+r&&(l=i+r),-1==a&&(a=0),{start:a,end:l}},_getfirstvisualrow:function(){var e=this.vScrollInstance.value,t=parseInt(e);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(t=0),!this.pageable){var i=this._findvisiblerow(t,this._pageviews);if(-1==i)return null;i!=this.dataview.pagenum?(this.dataview.pagenum=i,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var r=this._findvisiblerow(t,this._pagescache[this.dataview.pagenum]),s=this._pagescache[this.dataview.pagenum];if(s&&s[0])return s[r]},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,r=t.value,s=i.value,o=parseInt(r),a=parseInt(s),l=this._gettableheight(),n=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(l+=29),"deferred"==this.scrollmode&&0!=this._newmax&&o>this._newmax&&null!=this._newmax&&(o=this._newmax);var d=t.isScrolling()||i.isScrolling()||this._keydown,h=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(o=0),!this.pageable){var c=this._findvisiblerow(o,this._pageviews);if(-1==c)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();c!=this.dataview.pagenum?(this.dataview.pagenum=c,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var g=this.columns.records.length-u,p=this._findvisiblerow(o,this._pagescache[this.dataview.pagenum]),w=this._pagescache[this.dataview.pagenum],m=p;m<0&&(m=0);var v=0,f=0,b=0,x=0,y=this.virtualsizeinfo.visiblerecords,_=this.groupable?this.groups.length:0,q=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(q+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(y=this.dataview.pagesize),h&&(q=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(q+=" "+this.toTP("jqx-touch")),this.autorowheight&&(q+=" jqx-grid-cell-wrap");var j=this.rowsheight,S=this._rendercell,z=this._getvisualcolumnsindexes(a,n,u,g,h,!0),k=z.start,I=z.end,B=this._getvirtualcolumnsindexes(a,n,u,g,h),T=B.start,C=B.end;e.jqx.browser.msie&&e.jqx.browser.version;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(m=0),m>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=w?w[m].bounddata.boundindex:0,this._startvisibleindex=null!=w?w[m].bounddata.visibleindex:0;var P=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var H=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},M=0;M<P.length;M++){for(var D=P[M],A=0;A<T;A++){E=A;if(!this.columns.records[E].pinned&&null!=this.columns.records[E].datafield){H(O=D.cells[E])&&O.parentNode.removeChild(O);N=this.columns.records[E].element;this.columns.records[E]._rendered=!1,H(N)&&this.columnsrow[0].removeChild(N),this.filterrow&&H(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].cells[E].parentNode.removeChild(this.filterrow[0].cells[E])}}for(A=C;A<this.columns.records.length;A++){E=A;if(!this.columns.records[E].pinned&&null!=this.columns.records[E].datafield){H(O=D.cells[E])&&O.parentNode.removeChild(O);N=this.columns.records[E].element;this.columns.records[E]._rendered=!1,H(N)&&this.columnsrow[0].removeChild(N),this.filterrow&&H(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].cells[E].parentNode.removeChild(this.filterrow[0].cells[E])}}for(A=T;A<C;A++){var E=A,O=D.cells[E];H(O)||D.appendChild(O);var N=this.columns.records[E].element;this.columns.records[E]._rendered=!0,H(N)||this.columnsrow[0].appendChild(N),this.filterrow&&!H(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[E])}}for(var L=0;L<y&&f<y;L++){var F=void 0!=w?w[m+L]:null;if(null==F){if(m=-L,this._pagescache[this.dataview.pagenum+1])w=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var W=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){w=void 0;break}this.dataview.pagenum++,w=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),w=this._pagescache[this.dataview.pagenum])}while(void 0==w&&this.dataview.pagenum<W)}void 0!=w&&(F=w[m+L])}if(null!=F){if(F.hidden)continue;if(this._endboundindex=this._startboundindex+L,this._endvisibleindex=this._startvisibleindex+L,0==L){var R=Math.abs(o-F.top);this.table[0].style.top=-R+"px",x=-R}if(!(D=this.table[0].rows[f]))continue;parseInt(D.style.height)!=F.height&&(D.style.height=parseInt(F.height)+"px"),b+=F.height;var V=this.rowdetails&&F.rowdetails,G=!F.rowdetailshidden;V&&G&&(D.style.height=parseInt(F.height-F.rowdetailsheight)+"px",y++);for(var K=this._isrowselected(!0,F),A=k;A<I;A++){E=A;this._rendervisualcell(S,q,K,V,G,h,_,D,F,E,f,d)}if(void 0!=F.group&&this._rendergroup&&this._rendergroup(_,D,F,u,g,f,n),this.autorowheight&&(this.autoheight||this.pageable)){for(var j=this.rowsheight,A=k;A<I;A++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[A].datafield&&this.editcell.row==this.getboundindex(F)&&this.editcell.editor?j=Math.max(j,this.editcell.editor.height()):D.cells[A].firstChild&&(j=Math.max(j,8+parseInt(D.cells[A].firstChild.offsetHeight)));D.style.height=parseInt(j)+"px",this.heights[this._startboundindex+L]=j,V&&G&&(j+=F.rowdetailsheight),F.height=j}if(this.visiblerows[this.visiblerows.length]=F,this.hittestinfo[this.hittestinfo.length]={row:F,visualrow:D,details:!1},V&&G){f++;D=this.table[0].rows[f];this._renderrowdetails(q,D,F,u,g,f),this.visiblerows[this.visiblerows.length]=F,this.hittestinfo[this.hittestinfo.length]={row:F,visualrow:D,details:!0}}if(!this.autorowheight&&b+x>=l)break}else cansetheight=!0,this._clearvisualrow(a,h,f,u,g),b+v+x<=l&&(v+=j);f++}if(this._horizontalvalue=a,v>0&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"));var U=this._pageviews[this._pageviews.length-1],Y=t.max,Z=U.top+U.height-l;"visible"==this.hScrollBar.css("visibility")&&(Z+=this.scrollbarsize+20),Y==Z||this.autorowheight||Z>=0&&("deferred"!=this.scrollmode?(t.max=Z,t.setPosition(t.max)):this._newmax!=Z&&(this._newmax=Z,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var X=0,J=0,M=0;M<this.visiblerows.length;M++){var $=this.visiblerows[M];$.top=X,X+=$.height,J+=$.height;var V=this.rowdetails&&$.rowdetails,G=!$.rowdetailshidden,D=this.table[0].rows[M];V&&G&&M++;for(A=k;A<I;A++){var Q=this.columns.records[A];if(!Q.hidden&&!Q.cellsrenderer){var ee=D.cells[A],te=0;if(ee.firstChild){te=($.height-parseInt(ee.firstChild.offsetHeight)-8)/2;if(V&&G)te=($.height-$.rowdetailsheight-e(ee.firstChild).height()-8)/2}else te=($.height-parseInt(e(ee).height())-8)/2;if(te>=0&&(te=parseInt(te)+4,ee.firstChild&&-1==ee.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=Q.columntype&&"button"!=Q.columntype)){if(this.editable&&this.editcell&&this.editcell.column==Q.datafield&&this.editcell.row==this.getboundindex($))continue;ee.firstChild.style.marginTop=te+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=J),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){var ie=this;e.each(ie.toCompile,function(t,i){if(this.compiled)return!0;var r=this.cell;if(!r)return!0;e.jqx.angularCompile&&e.jqx.angularCompile(r,"<div>"+this.value+"</div>"),this.compiled=!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,r=0;r<t.cells.length;r++){var s=e(t.cells[r]);"none"==s.css("display")||i||s.width()!=this.host.width()&&s.text()!=this.gridlocalization.emptydatastring||(s[0].checkbox=null,s[0].button=null,i=!0,s[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var r=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<r.cells.length;s++){var o=e(r.cells[s]);if("none"!=o.css("display")&&!t){o[0].checkbox=null,o[0].button=null,o[0].className=i,t=!0,o[0].innerHTML="";var a=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");a.text(this.gridlocalization.emptydatastring),o.append(a);var l=0;this.oldhscroll||(l=parseInt(this.table[0].style.marginLeft),this.rtl&&(o.css("z-index",999),o.css("overflow","visible"))),a.css("left",-l-a.width()/2),a.css("top",this._gettableheight()/2-a.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(a.css("margin-left","0px"),a.css("left",this.host.width()/2-a.width()/2));var n=Math.abs(parseInt(this.table[0].style.top));isNaN(n)&&(n=0),e(r).height(this._gettableheight()+n),o.css("margin-left","0px"),o.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}o.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance.value,i=parseInt(t),r=this.groupable&&this.groups.length>0;if(this.columns.records)for(var s=0;s<e;s++)this._clearvisualrow(i,r,s,0,this.columns.records.length)},_iscellselected:function(e,t,i){var r=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var o=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=o){for(var a in this.selectedcells)a==o+"_"+i&&(r=!0);return r}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==t.bounddata.dataindex)for(var a in this.selectedcells)a==s+t.bounddata.boundindex+"_"+i&&(r=!0);else for(var a in this.selectedcells)a==s+t.bounddata.dataindex+"_"+i&&(r=!0);else for(var a in this.selectedcells)if(a==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==t.bounddata.dataindex){for(var a in this.selectedcells)if(a==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else for(var a in this.selectedcells)if(a==s+t.bounddata.dataindex+"_"+i){r=!0;break}}else for(var a in this.selectedcells)if(a==s+t.bounddata.boundindex==this.selectedrowindex){r=!0;break}return r},_isrowselected:function(e,t){var i=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var s=this.getrowboundindexbyid(t.bounddata.uid);return void 0!=s&&-1!=s&&(-1!=this.selectedrowindexes.indexOf(s)&&(i=!0),i||(i=s==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):r+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,r,s,o,a,l,n,d,h,c,u){var g=this.columns.records[h];if(g.hidden)(p=n.cells[h]).innerHTML="";else{cellvalue=this._getcellvalue(g,d);var p=n.cells[h],w=i;if(-1!=this.selectionmode.indexOf("cell")&&(r=this.dataview.filters.length>0?!!this.selectedcells[d.bounddata.dataindex+"_"+g.datafield]:!!this.selectedcells[d.boundindex+"_"+g.datafield],this.editcell&&this.editcell.row===d.boundindex&&this.editcell.column===g.datafield&&"checkbox"!==g.columntype&&(r=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(r=this._iscellselected(!0,d,g.datafield))),""!=g.cellclassname&&g.cellclassname)if("string"==typeof g.cellclassname)w+=" "+g.cellclassname;else{var m=g.cellclassname(this.getboundindex(d),g.datafield,cellvalue,d.bounddata);m&&(w+=" "+m)}var v=this.showsortcolumnbackground&&this.sortcolumn&&g.displayfield==this.sortcolumn;if(v&&(w+=" "+this.toTP("jqx-grid-cell-sort")),g.filter&&this.showfiltercolumnbackground&&(w+=" "+this.toTP("jqx-grid-cell-filter")),d.bounddata.totalsrow&&(w+=" "+this.toTP("jqx-grid-cell-pinned")),(g.pinned&&this.showpinnedcolumnbackground||g.grouped)&&(a?d.bounddata.totalsrow||(w+=" "+this.toTP("jqx-grid-cell-pinned")):w+=" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==d.group){var f=d.visibleindex;f>=this.altstart&&(this.altstart+f)%(1+this.altstep)==0&&(w+=v?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),g.filter&&this.showfiltercolumnbackground&&(w+=" "+this.toTP("jqx-grid-cell-filter-alt")),g.pinned&&this.showpinnedcolumnbackground&&(w+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(h<=l){if(a||this.rowdetails||this.pageable&&this.virtualmode){var b=e(p),x=this.columns.records[h].width;p.style.width!=parseInt(x)+"px"&&b.width(x)}}else if((a||this.rowdetails)&&this._hiddencolumns){var b=e(p),x=this.columns.records[h].width;parseInt(p.style.width)!=x&&b.width(x)}var y=!0;if(this.rowdetails&&s&&(o&&!a?w+=" "+this.toTP("jqx-grid-details-cell"):a&&(w+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==d.group&&h==n.cells.length-l-1){_=this.toThemeProperty("jqx-icon-arrow-down");return o?(w+=" "+this.toTP("jqx-grid-group-expand-rtl"),w+=" "+_):(w+=" "+this.toTP("jqx-grid-group-collapse-rtl"),w+=" "+(_=this.toThemeProperty("jqx-icon-arrow-left"))),y=!1,p.title="",p.innerHTML="",void(p.className!=w&&(p.className=w))}}else if(void 0==d.group&&h==l&&!d.bounddata.totalsrow){var _=this.toThemeProperty("jqx-icon-arrow-down");return o?(w+=" "+this.toTP("jqx-grid-group-expand"),w+=" "+_):(w+=" "+this.toTP("jqx-grid-group-collapse"),w+=" "+(_=this.toThemeProperty("jqx-icon-arrow-right"))),y=!1,p.title="",p.innerHTML="",void(p.className!=w&&(p.className=w))}if(r&&y&&h>=l&&(w+=" "+this.toTP("jqx-grid-cell-selected"),w+=" "+this.toTP("jqx-fill-state-pressed")),p.className!=w&&(p.className=w),void 0!=d.group)return cellvalue="",p.title="",void(p.innerHTML="");t(this,g,d,cellvalue,p,u)}},_rendercell:function(t,i,r,s,o,a){l=s+"_"+i.visibleindex;if("number"==i.columntype||null!=i.cellsrenderer)var l=r.uniqueid+"_"+i.visibleindex;if("number"==i.columntype&&(s=r.visibleindex),t.editcell&&void 0==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(r)&&t._showcelleditor)return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,o,!1,!1):t._showcelleditor(t.editcell.row,i,o,t.editcell.init))}else if(t.editcell.row==t.getboundindex(r)&&t.editcell.column==i.datafield&&(t.editcell.element=o,t.editcell.editing&&t._showcelleditor))return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init));var n=t._defaultcellsrenderer(s,i),d=t._cellscache[l];if(!d){if("checkbox"==i.columntype)return t._rendercheckboxcell(t,o,i,r,s),t._cellscache[l]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=""+s));if("button"==i.columntype)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata)),t._renderbuttoncell(t,o,i,r,s),t._cellscache[l]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=""+s));if("number"==i.columntype&&(s=r.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata)),t._renderwidgetcell(t,o,i,r,s),t._cellscache[l]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=s));f=null;if(null!=i.cellsrenderer){if((f=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata))&&(f.indexOf("<jqx-")>=0||f.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:o,value:f,row:t.getboundindex(r)}))}else f=n;null==f&&(f=n);var h=s;if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?h=e.jqx.dataFormat.formatdate(h,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(h=e.jqx.dataFormat.formatnumber(h,i.cellsformat,t.gridlocalization))),o.title=h),t.WinJS)e(o).html(f);else{var c=o.innerHTML;if(c.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode)o.innerHTML=f;else if(c.length>0){var u=f.indexOf(">"),g=f.indexOf("</"),p=f.substring(u+1,g),w=o.childNodes[0];if(p.indexOf(">")>=0)o.innerHTML=f;else if(w.childNodes[0])p!=w.childNodes[0].nodeValue&&(p.indexOf("&")>=0||c.indexOf("span")>=0?o.innerHTML=f:w.childNodes[0].nodeValue=p);else{b=document.createTextNode(p);w.appendChild(b)}}else c!=f&&(o.innerHTML=f)}return t._cellscache[l]={element:o.innerHTML,title:h},!0}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===s&&(s=null);var m=0==o.innerHTML.toString().length;if(!o.checkbox||t.groupable||m?t._rendercheckboxcell(t,o,i,r,s):(o.checkboxrow=t.getboundindex(r),""==s&&(s=!1),"1"==s&&(s=!0),"0"==s&&(s=!1),1==s&&(s=!0),0==s&&(s=!1),"true"==s&&(s=!0),"false"==s&&(s=!1),null!=s||i.threestatecheckbox||(s=!1),i.checkboxcolumn&&(s=!1,t.dataview.filters.length>0&&!t.virtualmode&&void 0!=r.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(r.bounddata.dataindex)&&(s=!0):-1!=t.selectedrowindexes.indexOf(r.bounddata.boundindex)&&(s=!0)),t.disabled||(o.checkboxinstance?o.checkboxinstance._setState(s):o.checkbox.jqxCheckBox("_setState",s))),null!=i.cellsrenderer){var v=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata);void 0!=v&&(o.innerHTML=v)}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==s&&(s=!1),null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata)),""==o.innerHTML&&(o.buttonrow=t.getboundindex(r),o.button=null,t._renderbuttoncell(t,o,i,r,s)),void(o.button&&!t.groupable?(o.buttonrow=t.getboundindex(r),o.button.val(s)):t._renderbuttoncell(t,o,i,r,s));if(i.createwidget)if(""==o.innerHTML&&(o.widgetrow=t.getboundindex(r),o.widget=null,t._renderwidgetcell(t,o,i,r,s)),o.widget&&!t.groupable){if(o.widgetrow=t.getboundindex(r),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");i.initwidget(t.getboundindex(r),i.datafield,s,o.firstChild)}else t._renderwidgetcell(t,o,i,r,s);else{var f=d.element;if(null!=i.cellsrenderer||o.childNodes&&0==o.childNodes.length||t.groupable||t.rowdetails)o.innerHTML!=f&&(o.innerHTML=f);else if(o.innerHTML.indexOf("editor")>=0)o.innerHTML=f;else if(a){var u=f.indexOf(">"),g=f.indexOf("</"),p=f.substring(u+1,g),w=o.childNodes[0];if(p.indexOf(">")>=0)o.innerHTML=f;else if(w.childNodes[0])p!=w.childNodes[0].nodeValue&&(p.indexOf("&")>=0?o.innerHTML=f:w.childNodes[0].nodeValue=p);else{var b=document.createTextNode(p);w.appendChild(b)}}else o.innerHTML!=f&&(o.innerHTML=f);t.enabletooltips&&i.enabletooltips&&(o.title=d.title)}},_isIE10:function(){if(void 0==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,-1!=(i+="User-agent header: "+navigator.userAgent).indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,r,s,o){e(i);i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,r,s,o){if(t.host.jqxCheckBox){var a=e(i);if(""===o&&(o=!!r.threestatecheckbox&&null),null!==o||r.threestatecheckbox||(o=!1),"1"==o&&(o=!0),"0"==o&&(o=!1),1==o&&(o=!0),0==o&&(o=!1),"true"==o&&(o=!0),"false"==o&&(o=!1),r.checkboxcolumn){o=!1;var l=this.getboundindex(s);-1!=this.selectedrowindexes.indexOf(l)&&(o=!0)}0==a.find(".jqx-checkbox").length?(i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:r.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:o}),this.enabletooltips&&r.enabletooltips&&(i.title=""+o),this.editable&&r.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),r.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(s),e.data(i.firstChild,"jqxCheckBox").instance.updated=function(s,o,a){if(t.disabled){o=a;for(var l=t.table[0].rows.length,n=t._getcolumnindex(r.datafield),d=0;d<l;d++)(c=t.table[0].rows[d].cells[n].firstChild)&&e(c).jqxCheckBox({disabled:t.disabled})}if(r.editable&&!t.disabled){var l=t.table[0].rows.length,n=t._getcolumnindex(r.datafield);if(void 0==t.editrow){if(r.cellbeginedit&&0==r.cellbeginedit(i.checkboxrow,r.datafield,r.columntype,!o))return void t.setcellvalue(i.checkboxrow,r.datafield,!o,!0);if(r.cellvaluechanging){var h=r.cellvaluechanging(i.checkboxrow,r.datafield,r.columntype,a,o);void 0!=h&&(o=h)}if("selectedrow"!==t.editmode)for(d=0;d<l;d++){var c=t.table[0].rows[d].cells[n].firstChild;c&&e(c).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,r.datafield,!o,!0);else if("selectedrow"!==t.editmode||null==t.editcell){var u=t.getrowdata(i.checkboxrow);t._raiseEvent(17,{rowindex:i.checkboxrow,row:u,datafield:r.datafield,value:a,columntype:r.columntype}),t.setcellvalue(i.checkboxrow,r.datafield,o,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,row:u,datafield:r.datafield,oldvalue:a,value:o,columntype:r.columntype})}else t.setcellvalue(i.checkboxrow,r.datafield,o,!1,!1);r.cellendedit&&r.cellendedit(i.checkboxrow,r.datafield,r.columntype,o)}}else r.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(o?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}):(i.checkboxrow=this.getboundindex(s),e(i.firstChild).jqxCheckBox("_setState",o,!(this.editable&&r.editable||r.checkboxcolumn)))}},_renderwidgetcell:function(t,i,r,s,o){if(0==e(i).find(".jqx-grid-widget").length){i.innerHTML='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',r.createwidget(s,r.datafield,o,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(s)}else r.initwidget(t.getboundindex(s),r.datafield,o,i.firstChild),i.widgetrow=t.getboundindex(s),e(i.firstChild).val(o)},_renderbuttoncell:function(t,i,r,s,o){if(t.host.jqxButton){var a=e(i);if(""==o&&(o=!1),0==a.find(".jqx-button").length)if(i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(o),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:r.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(s),this.isTouchDevice()){var l=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),l,function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)});else i.buttonrow=t.getboundindex(s),e(i.firstChild).val(o)}},_clearvisualrow:function(t,i,r,s,o){var a=this.toTP("jqx-grid-cell");i&&(a=" "+this.toTP("jqx-grid-group-cell")),a+=" "+this.toTP("jqx-grid-cleared-cell");for(var l=this.table[0].rows,n=0;n<s+o;n++)if(l[r]){var d=l[r].cells[n];d.className!=a&&(d.className=a);var h=this.columns.records[n];if(this._horizontalvalue!=t&&!h.pinned&&1==this.oldhscroll){d.style.marginLeft=-t+"px"}var c=h.width;c<h.minwidth&&(c=h.minwidth),c>h.maxwidth&&(c=h.maxwidth),parseInt(d.style.width)!=c&&(e(d)[0].style.width="auto"!=c?c+"px":c),""!=d.title&&(d.title=""),""!=d.innerHTML&&(d.innerHTML="")}l[r]&&parseInt(l[r].style.height)!=this.rowsheight&&(l[r].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null!=t&&t.expanded},_findgroup:function(e){return this.expandedgroups[e]?this.expandedgroups[e]:null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this.text,r=this,!1}),this._columnsbydatafield[t]={label:i,column:r},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this.text,r=this,!1}),this.__columnsbydatafield[t]=r,this.__columnsbydatafield[t]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(t,i,r,s,o,a){if(void 0!=i){var l=e(i),n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var d=0;d<=o;d++)(h=e(i.cells[d]))[0].innerHTML="",h[0].className="jqx-grid-details-cell";var h=e(i.cells[0]);if("none"==h[0].style.display){for(var c=i.cells[0],u=2;void 0!=c&&"none"==c.style.display&&u<10;)c=i.cells[0+u-1],u++;h=e(c)}if(this.rtl)for(var g=s;g<o;g++)i.cells[g].innerHTML="",i.cells[g].className="jqx-grid-details-cell";h.css("width","100%"),l.height(r.rowdetailsheight),h[0].className=t;var p=this.getboundindex(r),w=p+"_";if(this._rowdetailscache[w]){var m=this._rowdetailscache[w].html;if(this.initrowdetails){if(this._rowdetailscache[w].element){var v=this._rowdetailscache[w].element,f=h.coord(),b=this.gridcontent.coord(),x=parseInt(f.top)-parseInt(b.top),y=parseInt(f.left)-parseInt(b.left);this.rtl&&(y=0),e(v).css("top",x),e(v).css("left",y),e(v).css("display","block"),e(v).width(this.host.width()-n),this.layoutrowdetails&&this.layoutrowdetails(p,v,this.element,this.getrowdata(p))}}else h[0].innerHTML=m}else{h[0].innerHTML="",this.enablerowdetailsindent||(n=0);_='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+n+'px;">'+r.rowdetails+"</div>";if(this.rtl)var _='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+n+'px;">'+r.rowdetails+"</div>";if(this._rowdetailscache[w]={id:i.id,html:_},this.initrowdetails){v=e(_)[0];e(this.gridcontent).prepend(e(v)),e(v).css("position","absolute"),e(v).width(this.host.width()-n),e(v).height(h.height());f=h.coord();e(v).css("z-index",9999),this.isTouchDevice()&&e(v).css("z-index",99999),e(v).addClass(this.toThemeProperty("jqx-widget-content"));var f=h.coord(),b=this.gridcontent.coord(),x=parseInt(f.top)-parseInt(b.top),y=parseInt(f.left)-parseInt(b.left);e(v).css("top",x),e(v).css("left",y),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var q=e(e(v).children()[0]);""!=q[0].id&&(q[0].id=q[0].id+p),this.initrowdetails(p,v,this.element,this.getrowdata(p)),this._rowdetailscache[w].element=v,this._rowdetailselementscache[p]=v}else h[0].innerHTML=_}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var r="6px";if(28!=this.rowsheight&&((r=this.rowsheight/2-this._cellheight/2)<0&&(r=4),r+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+r+';">'+t+"</div>";if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+r+';">'+t+"</div>";if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+r+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+r+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+r+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var r=this.getcellvalue(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var r=this.getcellvaluebyid(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrenderedrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},_getcellresult:function(e,t,i){var r=this.getcolumn(i);if(null==r||void 0==r)return null;var s=r.getcolumnproperties(),o=s.hidden,a=s.width,l=s.pinned,n=s.cellsalign,d=s.cellsformat,h=this.getrowheight(t);return 0==h?null:{value:e,row:t,column:i,datafield:i,width:a,height:h,hidden:o,pinned:l,align:n,format:d}},setcellvaluebyid:function(e,t,i,r,s){var o=this.getrowboundindexbyid(e);return this.setcellvalue(o,t,i,r,s)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,r,s,o){if(null==t||null==i)return!1;var a=parseInt(t),l=t;isNaN(a)||(l=this.getrowdata(a));var n=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(n=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var d="",h="";if(null==l||l[i]===r)return this._updating||0==s||this._renderrows(this.virtualsizeinfo),!1;if(null!==l[i]||""!==r){var c=this._getcolumnbydatafield(i),u="string";if(y=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var g="";e.each(y,function(){if(this.name==c.displayfield)return this.type&&(g=this.type),!1}),g&&(u=g),h=l[c.displayfield]}if(d=l[i],!c.nullable||null!=r&&""!==r&&c.nullable&&void 0===r.label){if(e.jqx.dataFormat.isNumber(d)||"number"==u||"float"==u||"int"==u||"decimal"==u&&"date"!=u)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&r&&r.indexOf&&r.indexOf(",")>=0&&(r=r.replace(",",".")),r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0);else if((e.jqx.dataFormat.isDate(d)||"date"==u)&&""!=r){var p=r;"Invalid Date"!=(p=new Date(p))&&null!=p?r=p:"Invalid Date"==p&&(r=p=new Date)}if(l[i]===r)return void(this._updating||0==s||this._renderrows(this.virtualsizeinfo))}var w=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(l[i]=r,w){var m=this.source._source.localdata;m._updating||(m._updating=!0,m[t][i]=r,m._updating=!1)}var v=this.getrenderedrowdata(a,!0);if(v){if(v[i]=r,null!=r&&null!=r.label&&(l[(c=this._getcolumnbydatafield(i)).displayfield]=r.label,v[c.displayfield]=r.label,l[i]=r.value,v[i]=r.value,w&&!m._updating&&(m._updating=!0,m[t][i]=r.value,m[t][c.displayfield]=r.label,m._updating=!1)),n&&void 0!=l.dataindex&&(l.dataindex,this.dataview.cachedrecords[l.dataindex][i]=r,null!=r&&void 0!=r.label&&(this.dataview.cachedrecords[l.dataindex][i]=r.value,this.dataview.cachedrecords[l.dataindex][c.displayfield]=r.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var f=a;n&&void 0!=l.dataindex&&(f=l.dataindex);var b=this.source._source._localdata()[f];this.source.suspendKO=!0;var x=b;if(x[i]&&x[i].subscribe)null!=r&&null!=r.label?(x[c.displayfield](r.label),x[i](r.value)):x[i](r);else{var y=this.source._source.datafields,_=null;if(y&&e.each(y,function(){if(this.name==i)return _=this.map,!1}),null==_)null!=r&&null!=r.label?(x[i]=r.value,x[c.displayfield]=r.label):x[i]=r;else{var q=_.split(this.source.mapChar);if(q.length>0){for(var j=x,S=0;S<q.length-1;S++)j=j[q[S]];j[q[q.length-1]]=r}}this.source._source._localdata.replace(b,e.extend({},x))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var z=this.getsortinformation();this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(z.sortcolumn,z.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(void 0==o||1==o)){B=this.that;try{var k=this.getrowid(a);void 0==this.source.updaterow(k,l,function(e){0==e&&(B.setcellvalue(t,i,d,!0,!1),d!=h&&B.setcellvalue(t,B.getcolumn(i).displayfield,h,!0,!1))})&&!0}catch(e){return!1,B.setcellvalue(t,i,d,!0,!1),void(d!=h&&B.setcellvalue(t,B.getcolumn(i).displayfield,h,!0,!1))}}var I=this.vScrollInstance.value;if(this._updating&&1!=s&&(s=!1),1==s||void 0==s){var B=this.that,T=function(){B.pageable&&B.updatepagerdetails&&(B.updatepagerdetails(),(B.autoheight||B.autorowheight)&&B._updatepageviews())},C=this.groupable&&this.groups.length>0;n&&!C?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),T(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!C?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),T(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(I),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var P=this.getcolumn(i).filtertype;"list"!=P&&"checkedlist"!=P||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:r,value:r,oldvalue:d}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e;return isNaN(i)||(r=this.getrowdata(i)),null!=r?r[t]:null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,r=0;r<this.dataview.records.length;r++){var s=this.dataview.records[r];s&&i.push(s)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){var e=this;e&&i.push(e)});var o=0;return this.pageable&&(o=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-o?i.slice(0,this.source._source.totalrecords-o):i}if(this.dataview.sortdata){for(var i=new Array,r=0;r<t;r++){var a={};a=e.extend({},this.dataview.sortdata[r].value),i[r]=a}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return r;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){if(void 0==e&&(e=0),this.virtualmode)return t=this.dataview.records[e];var t=this.getboundrows()[e];return t},getrenderedrowdata:function(e,t){if(void 0==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e);return r=this.dataview.loadedrecords[i]}if((i=this.getrowvisibleindex(e))>=0){if(this.groupable&&this.groups.length>0)r=this.dataview.loadedrecords[i];else{r=this.dataview.loadedrecords[i];if(this.pageable&&(void 0==t||0==t))var r=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return r}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize&&void 0!=(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]);t++)e.push(i);return e}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i=this.dataview.loadedrecords[t];if(void 0==i)break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(void 0==e&&(e=0),this.virtualmode){r=this.getrowvisibleindex(e);if(t=this.dataview.loadedrecords[r])return t.uid}else{var t=null,i=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!i){if(this.groupable&&this.groups.length>0)var r=this.getrowvisibleindex(e),t=this.dataview.loadedrecords[r];else var r=this.getrowvisibleindex(e),t=this.dataview.loadedrecords[r];if(t)return t.uid}if(this.dataview.filters.length>0)return(t=this.getboundrows()[e])&&null!=t.uid?t.uid:null}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,r){if(void 0!=t&&void 0!=i){var s=this.that,o=!1;s._datachanged=!0;var a=function(t,i,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var o=!1;e.isArray(i)?(e.each(i,function(e,i){o=t.dataview.updaterow(this,s[e],!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):o=t.dataview.updaterow(i,s);var a=t.vScrollInstance.value;if(void 0!=r&&1!=r||void 0!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var l=t.dataview.recordsbyid["id"+i],n=t.dataview.records.indexOf(l),d=t.source._source._localdata()[n];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},l)),t.source.suspendKO=!1}if(t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var h=t.getrowboundindexbyid(i);t.source._source.localdata.set(h,s),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(a),o};if(this.source.updaterow){try{void 0==(o=this.source.updaterow(t,i,function(e){1==e||void 0==e?a(s,t,i):o=!1}))&&(o=!0)}catch(e){o=!1}}else o=a(s,t,i);return o}return!1},deleterow:function(t,i){if(void 0!=t){this._datachanged=!0;var r=!1,s=this.that,o=this.getrowboundindexbyid(t),a=new Array;new Array;if(void 0!=o&&(this.selectedrowindexes.indexOf(o)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(o),1),this.selectedrowindex==o&&(this.selectedrowindex=-1),!this.virtualmode))if(s.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,function(){var e=s.getrowid(this);a.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(s.selectionmode.indexOf("cell")>=0)for(var l in s.selectedcells){var n=s.selectedcells[l],d=s.getrowid(n.rowindex);n.rowid=d}var h=function(t,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var s=!1,l=t.vScrollInstance.value;if(e.isArray(r))e.each(r,function(){s=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh();else s=t.dataview.deleterow(r);if(!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(a,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var n=new Array;for(var d in t.selectedcells){var h=t.selectedcells[d],c=h.rowid,u=t.getrowboundindexbyid(c);-1!=u&&(h.rowindex=u,n[u+"_"+h.datafield]=h)}t.selectedcells=n}if(void 0!=t._updating&&0!=t._updating||void 0!=i&&1!=i||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(o,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var g=t.getsortinformation();g.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(g.sortcolumn,g.sortdirection?g.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(l),s};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&void 0!=e||h(s,t)}),void 0==r&&(r=!0)}catch(e){r=!1}}else r=h(s,t);return r}return!1},addrow:function(t,i,r){if(void 0!=i){this._datachanged=!0,void 0==r&&(r="last");var s=!1,o=this.that;if(null==t){var a=this.dataview.filters&&this.dataview.filters.length>0?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var l=new Array;e.each(i,function(e,t){var r=o.dataview.getid(o.dataview.source.id,i[e],a+e);l.push(r)}),t=l}else for(t=this.dataview.getid(this.dataview.source.id,i,a);null!=this.dataview.recordsbyid["id"+t];)t++}var n=function(t,i,r,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var o=t.vScrollInstance.value,a=!1;if(e.isArray(r)?(e.each(r,function(e,r){void 0!=this.dataindex&&delete this.dataindex;var o=null;null!=i&&null!=i[e]&&(o=i[e]),a=t.dataview.addrow(o,this,s,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(void 0!=r&&void 0!=r.dataindex&&delete r.dataindex,a=t.dataview.addrow(i,r,s)),void 0!=t._updating&&0!=t._updating||setTimeout(function(){t._render(!0,!0,!1,!1),t.invalidate()}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var l=t.getrowboundindexbyid(i);t.source._source.localdata.set(l,r),t.source._source.localdata._updating=!1}return"deferred"!=t.scrollmode?t.vScrollInstance.setPosition(o):t.vScrollInstance.setPosition(0),a};if(this.source.addrow){try{void 0==(s=this.source.addrow(t,i,r,function(e,s){1!=e&&void 0!=e||(void 0!=s&&(t=s),n(o,t,i,r))}))&&(s=!0)}catch(e){s=!1}if(0==s)return!1}else n(this,t,i,r);return s}return!1},_findvisiblerow:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;void 0!=t&&null!=t||(t=this.rows.records);for(var r=t.length;i<=r;){mid=parseInt((i+r)/2);var s=t[mid];if(void 0==s)break;if(s.top>e&&s.top+s.height>e)r=mid-1;else{if(!(s.top<e&&s.top+s.height<e))return mid;i=mid+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(void 0!=t.gridcontent){void 0==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,r=0,s=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(s=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),s=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(s=t.dataview.totalrecords),t.rowdetails&&(s+=t.dataview.pagesize),t.columns.records){for(var o=t.columns.records.length,a=t.table[0].rows,l=0;l<s;l++){var n=a[l];if(!n)break;for(var d=n.cells,h=0,c=0;c<o;c++){var u=t.columns.records[c],g=u.width,p=d[c];parseInt(p.style.left)!=h&&(p.style.left=h+"px"),parseInt(p.style.width)!=g&&(p.style.width=g+"px"),u.hidden&&u.hideable?p.style.display="none":h+=parseFloat(g)}0==r&&(t.table.width(parseFloat(h)+2),r=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,r=e.vScrollBar[0].style.visibility;"visible"==r&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var s=e.element.style.width;if(s=s.toString().indexOf("%")>=0?e.host.width():parseInt(s),parseInt(e.table[0].style.width)-2>s-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==r){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var o=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(o)&&o>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",o+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",o))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),void 0==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var r=i.groupable&&i.groups.length>0,s=0;i.table[0].rows=new Array;var o=i.toTP("jqx-grid-cell");r&&(o=" "+i.toTP("jqx-grid-group-cell"));var a=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(a=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),(a=i.dataview.rows.length)<i.dataview.pagesize&&(a=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(a=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(a=i.dataview.rows.length),i.rowdetails&&(i.autoheight||i.autorowheight?a+=i.dataview.pagesize:a+=a),!i.columns.records)return;var l=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var n=e.jqx.browser.msie&&e.jqx.browser.version<8;n&&i.host.attr("hideFocus","true");var d=i.tableZIndex;a*l>d&&(d=a*l);i.dataview.records.length,i.isTouchDevice();var h="";i._hiddencolumns=!1;for(w=0;w<a;w++){f='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+w+i.element.id+'">';if(n){f='<div role="row" style="position: relative; z-index: '+d+"; height:"+i.rowsheight+'px;" id="row'+w+i.element.id+'">';d--}for(var c=0,u=0;u<l;u++){if((x=(b=i.columns.records[u]).width)<b.minwidth&&(x=b.minwidth),x>b.maxwidth&&(x=b.maxwidth),i.rtl){g='<div role="gridcell" style="left: '+c+"px; z-index: "+(d-l+2*u)+"; width:"+x+"px;";d--}else var g='<div role="gridcell" style="left: '+c+"px; z-index: "+d--+"; width:"+x+"px;";b.hidden&&b.hideable?(g+="display: none;",i._hiddencolumns=!0,d++):c+=x,g+='" class="'+o+'">',g+=this._defaultcellsrenderer("",b),f+=g+="</div>"}0==s&&(i.table.width(parseInt(c)+2),s=c),h+=f+="</div>"}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(h)}):i.table[0].innerHTML=h,i.table[0].rows=new Array;for(var p=i.table.children(),w=0;w<a;w++){var m=p[w];i.table[0].rows.push(m),m.cells=new Array;for(var v=e(m).children(),u=0;u<l;u++)m.cells.push(v[u])}if(0==a){c=0;if(i.showemptyrow){var f=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>');i.table.append(f),f.height(i.rowsheight),i.table[0].rows[0]=f[0],i.table[0].rows[0].cells=new Array}for(u=0;u<l;u++){var b=i.columns.records[u],x=b.width;i.showemptyrow&&((g=e('<div style="position: absolute; height: 100%; left: '+c+"px; z-index: "+d--+"; width:"+x+'px;" class="'+o+'"></div>')).height(i.rowsheight),f.append(g),i.table[0].rows[0].cells[u]=g[0]),x<b.minwidth&&(x=b.minwidth),x>b.maxwidth&&(x=b.maxwidth),b.hidden&&b.hideable||(c+=x)}i.table.width(parseInt(c)+2),s=c}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,r=!1,s=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:void 0==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,r=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var o=0,a=0;a<i.columns.records.length;a++){var l=i.columns.records[a].width;o+="auto"==l?l=i._measureElementWidth(i.columns.records[a].text):l}"hidden"!=i.vScrollBar.css("visibility")&&(o+=i.scrollbarsize+4),e=o,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:void 0==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,s=!0);var n=function(){var e=0;return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=20),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage)t=(d=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=n(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight);else{var d=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=n(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),(t+=n())>1e4&&(t=1e4));null!=e?(e=parseInt(e),r?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),r&&((e=i.host.width())<=2&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(s||(t=parseInt(t)),s?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),s&&!i.autoheight&&(0==(t=i.host.height())&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader())i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",h),h+=c=i.groupsheader.height()+1,t>c&&(t-=parseInt(c));else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=h+"px"&&i.groupsheader.css("top",h);var c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0,u=h+c+"px";i.content[0].style.top!=u&&i.content.css("top",h+i.groupsheaderheight)}var g=i.scrollbarsize;isNaN(g)&&(g=parseInt(g),isNaN(g)?g="17px":g+="px"),g=parseInt(g);var p=2,w=0;"visible"==i.vScrollBar[0].style.visibility&&(w=g+4),"visible"==i.hScrollBar[0].style.visibility&&(p=g+4+2),0==g&&(w=0,p=0);var m=0;i.pageable&&(m=i.pagerheight,p+=i.pagerheight),i.showstatusbar&&(p+=i.statusbarheight,m+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(p+=i.everpresentrowheight,m+=i.everpresentrowheight),i.hScrollBar[0].style.height!=g+"px"&&(i.hScrollBar[0].style.height=parseInt(g)+"px"),i.hScrollBar[0].style.top==h+t-4-g-m+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:h+t-4-g-m+"px",left:"0px"});var v=i.hScrollBar[0].style.width,f=!1,b=!1;0==w?v!=e-2+"px"&&(i.hScrollBar.width(e-2),f=!0):v!=e-g-4+"px"&&(i.hScrollBar.width(e-g-4+"px"),f=!0),i.autoheight||(i.vScrollBar[0].style.width!=g+"px"&&(i.vScrollBar.width(g),b=!0),i.vScrollBar[0].style.height!=parseInt(t)-p+"px"&&(i.vScrollBar.height(parseInt(t)-p+"px"),b=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(g)-4+"px"&&i.vScrollBar[0].style.top==h+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(g)-4+"px",top:h})),i.rtl&&(i.vScrollBar.css({left:"0px",top:h}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:g+2}));var x=i.vScrollInstance;x.disabled=i.disabled,i.autoheight||b&&x.refresh();var y=i.hScrollInstance;y.disabled=i.disabled,f&&y.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var _=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(g)+3),e.bottomRight.height(parseInt(g)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0;t>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(g)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(g)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))}else e.bottomRight[0].style.visibility="hidden"};if(_(this),i.content[0].style.width!=e-w+"px"&&i.content.width(e-w),i.content[0].style.height!=t-p+3+"px"&&i.content.height(t-p+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=h+"px"&&i.content.css("top",h),i.rtl&&(i.content.css("left",w),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var q=i.table.width();q<e-w&&i.content.css("left",e-q)}if(i.showstatusbar&&(i.statusbar.css("top",h+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:h+t-4-g-m+i.statusbarheight+"px"}),i.statusbar.css("top",1+h+t-g-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),_(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",h+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",h+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var j=-2;if("visible"==i.vScrollBar[0].style.visibility&&(j=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var S=j+i.table.width()-i.host.width();S>=0&&i.hScrollBar.jqxScrollBar("max",S),"visible"==i.hScrollBar[0].style.visibility&&0==S&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;i<t;i++){for(var r=this.table[0].rows[i],s=r.cells.length,o=0;o<s;o++)e(r.cells[o]).remove(),r.cells[o]=null,delete r.cells[o];r.cells=null,r.cells&&delete r.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(e){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(i=0;i<this.columns.records.length;i++){var a=this.columns.records[i];a.addnewrowwidget&&a.destroyeverpresentrowwidget&&a.destroyeverpresentrowwidget(a.addnewrowwidget),this._removecolumnhandlers(this.columns.records[i]),a.element&&(e(a.element).remove(),e(a.sortasc).remove(),e(a.sortdesc).remove(),e(a.filtericon).remove(),e(a.menu).remove(),a.element=null,a.uielement=null,a.sortasc=null,a.sortdesc=null,a.filtericon=null,a.menu=null,delete a.element,delete a.uielement,delete a.sortasc,delete a.sortdesc,delete a.filtericon,delete a.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(e){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var l=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),l),this.removeHandler(e(document),n),this.removeHandler(e(document),d)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var l=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(e(document),l),this.removeHandler(e(document),n),this.removeHandler(e(document),d)}if(this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){var l="mousemove.grouping"+this.element.id,n="mousedown.grouping"+this.element.id,d="mouseup.grouping"+this.element.id;this.removeHandler(e(document),l),this.removeHandler(e(document),n),this.removeHandler(e(document),d)}if(this.columnsreorder){var l="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,d="mouseup.reorder"+this.element.id;this.removeHandler(e(document),l),this.removeHandler(e(document),n),this.removeHandler(e(document),d),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length)for(var h=this.menuitemsarray.length,i=0;i<h;i++)e(this.menuitemsarray[i]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var r=!!i&&i.length>0;if(this.autogeneratecolumns){var s=new Array;if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};s.push(e)});else if(this.source.records.length>0){var o=this.source.records[0];for(obj in o)if("uid"!=obj){var a={width:100,datafield:obj,text:obj};s.push(a)}}this.columns=s}if(this.columns&&this.columns.records)for(var l=0;l<this.columns.records.length;l++)this._removecolumnhandlers(this.columns.records[l]);var n=this.that,d=new e.jqx.collection(this.element),h=0;this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(e){var i=new t(n,this);i.visibleindex=h++,i.width=n.groupindentwidth,d.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn&&((a=new t(n,this)).visibleindex=h++,a.width=n.groupindentwidth,a.pinned=!0,a.editable=!1,a.filterable=!1,a.draggable=!1,a.groupable=!1,a.resizable=!1,d.add(a),n._haspinned=!0),"checkbox"==this.selectionmode&&((a=new t(n,null)).visibleindex=h++,a.width=n.groupindentwidth,a.checkboxcolumn=!0,a.editable=!1,a.columntype="checkbox",a.groupable=!1,a.draggable=!1,a.filterable=!1,a.resizable=!1,a.datafield="_checkboxcolumn",d.add(a));var c=new Array;e.each(this.columns,function(e){if(void 0!=n.columns[e]){var i=new t(n,this);if(i.visibleindex=h++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(n._haspinned=!0),n.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)n.source&&n.source._source&&"array"==n.source._source.datatype&&(r||(n.source._source.datafields?n.source._source.datafields.push({name:e.toString()}):(n.source._source.datafields=new Array,n.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(c[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");c[this.datafield]=!0}d.add(i)}}),this.rtl&&d.records.reverse(),this.columns=d},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(void 0==i&&(i={owner:null}),!1!==this._trigger){var r=this.events[t];if(this._camelCase||(r=r.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var s=this;setTimeout(function(){s.updateeverpresentrow()},50)}args=i,args.owner=this;var o=new e.Event(r);o.owner=this,o.args=args;var a=this.host.trigger(o);return i=o.args,a}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!r&&(r=!1,e.returnValue=r,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=(i=this.vScrollInstance.value))return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(e){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),r=t.host.width(),s=t.host.height(),o=!1,a=!1;if((e.pageY<i.top||e.pageY>i.top+s)&&(o=!0,a=!0),(e.pageX<i.left||e.pageX>i.left+r)&&(o=!0,!0),o){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var l=t.editcell.editor.jqxDateTimeInput("container").coord().top,n=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!a||!(e.pageY<l||e.pageY>n))return;o=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){var l=t.editcell.editor.jqxComboBox("container").coord().top,n=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height();if(!a||!(e.pageY<l||e.pageY>n))return;o=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){var l=t.editcell.editor.jqxDropDownList("container").coord().top,n=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height();if(!a||!(e.pageY<l||e.pageY>n))return;o=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],h=0;h<d.length;h++)if(0==function(i){var r=t.editcell.editor.data();if(r[i]&&r[i].instance.container&&"block"==r[i].instance.container[0].style.display){var s=r[i].instance,l=s.container.coord().top,n=s.container.coord().top+s.container.height();return!(!a||!(e.pageY<l||e.pageY>n)||(o=!0,s.close(),0))}}(d[h]))return}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(void 0!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue),t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(r){if(t.virtualsizeinfo){t._closemenu();var s=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};if(i)s();else{void 0==t._browser?t._isIE10():t._browser;navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},.01)):s()}i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){if(!t.editcell&&t.enablemousewheel)return t.wheel(e,t),!1},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var r="mousedown.jqxgrid";i&&(r=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,r,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var r=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,r}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t);else if(e.jqx.browser.msie&&e.jqx.browser.version<9)t._handlemousedown(i,t);return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){if(t._handlemousemove)return t._handlemousemove(e,t)},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){if(t._handlemousemoveselection)return t._handlemousemoveselection(e,t)},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(e){}})}}}catch(e){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?t._overlayElement[0].style.visibility="visible":t._overlayElement[0].style.visibility="hidden")}),t.addHandler(t.content,"mouseleave",function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(e){if(!0===t.__drag)return!1}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection)return!0;if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0;if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return!!(i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0)||!!t.editcell&&void(i.stopPropagation&&i.stopPropagation())}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(e){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){if(t._keydown=!t.editcell,20===(s=i.charCode?i.charCode:i.keyCode?i.keyCode:0)&&(t._capsLock?t._capsLock=!1:t._capsLock=!0),t.handlekeyboardnavigation&&(t.focused||i.target===t.element||e(i.target).ischildof(t.host))&&1==t.handlekeyboardnavigation(i))return!1;if(t.editable&&t.editcell&&(13!=s&&27!=s&&9!=s||t._handleeditkeydown&&(r=t._handleeditkeydown(i,t))),27==s&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==s&&0==r)return r;var r=!0,s=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t)),r&&t.keyboardnavigation&&t._handlekeydown)return(r=t._handlekeydown(i,t))||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),r}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var r=!0;return(!t.handlekeyboardnavigation||1!=t.handlekeyboardnavigation(i))&&(t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),i.stopPropagation()):r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),r||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),r)}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==t&&(t=0);var r=this.vScrollInstance,s=this.hScrollInstance,o=r.value;"visible"!=this.vScrollBar.css("visibility")&&(o=0);var a=s.value;"visible"!=this.hScrollBar.css("visibility")&&(a=0),"deferred"==this.scrollmode&&null!=this._newmax&&o>this._newmax&&(o=this._newmax);var l=parseInt(o)+i;parseInt(a);if(null!=this.visiblerows&&0!=this.visiblerows.length){var n=!1,d=this._findvisiblerow(l,this.visiblerows);if(d>=0){var h=this.visiblerows[d],c=this.rowdetails&&h.rowdetails,u=!h.rowdetailshidden;if(c){var g=this.visiblerows[d-1];if(g==h&&(h=g,d--),u){var p=e(this.hittestinfo[d].visualrow).position().top+parseInt(this.table.css("top")),w=e(this.hittestinfo[d].visualrow).height();i>=p&&i<=p+w||(d++,h=this.visiblerows[d],n=!0)}}}return{index:d,row:h,details:n}}}},getcellatposition:function(t,i){var r=this.that,s=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;o+=this.showtoolbar?this.toolbarheight:0;var a=this.host.coord();this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host));var l=t-a.left,n=i-s-a.top-o,d=this._hittestrow(l,n),h=d.row,c=d.index,u=this.table[0].rows[c];if(this.dataview&&0==this.dataview.records.length){for(var g=this.table[0].rows,p=0,w=0;w<g.length;w++){if(n>=p&&n<p+this.rowsheight){u=g[w];break}p+=this.rowsheight}h={boundindex:w}}if(null==u)return!0;for(var m=this.hScrollInstance.value,v=0,w=(this.groupable&&this.groups.length,0);w<u.cells.length;w++){var f=parseInt(e(this.columnsrow[0].cells[w]).css("left")),t=f-m;if(r.columns.records[w].pinned&&(t=f),!r.columns.records[w].hidden&&t+e(this.columnsrow[0].cells[w]).width()>=l&&l>=t){v=w;break}}if(null!=h){var b=this._getcolumnat(v);return{row:this.getboundindex(h),column:b.datafield,value:this.getcellvalue(this.getboundindex(h),b.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0;var r;t.which?r=3==t.which:t.button&&(r=2==t.button);var s;if(t.which?s=2==t.which:t.button&&(s=1==t.button),s)return!0;if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var o=this.showheader?this.columnsheader.height()+2:0,a=this._groupsheader()?this.groupsheader.height():0;a+=this.showtoolbar?this.toolbarheight:0;var l=this.host.coord();if(this.hasTransform){l=e.jqx.utilities.getOffset(this.host);var n=this._getBodyOffset();l.left-=n.left,l.top-=n.top}var d=parseInt(t.pageX),h=parseInt(t.pageY);if(this.isTouchDevice()){var c=i.getTouches(t)[0];d=parseInt(c.pageX),h=parseInt(c.pageY),1==i.touchmode&&void 0!=c._pageX&&(d=parseInt(c._pageX),h=parseInt(c._pageY))}var u=d-l.left,g=h-o-l.top-a;if(!(this.pageable&&!this.autoheight&&this.gotopage&&g>this.pager.coord().top-l.top-a-o)){var p=this._hittestrow(u,g);if(p&&!p.details){var w=p.row,m=p.index,v=t.target.className,f=this.table[0].rows[m];if(null==f)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-a,clickedrow:f};var b=this.hScrollInstance,x=b.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(x=b.max-b.value);var y=-1,_=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(x-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(x=-parseInt(this.content.css("left"))));for(q=0;q<f.cells.length;q++){d=(j=parseInt(e(this.columnsrow[0].cells[q]).css("left")))-x;if(i.columns.records[q].pinned&&!i.rtl&&(d=j),(null==(z=this._getcolumnat(q))||!z.hidden)&&(S=d+e(this.columnsrow[0].cells[q]).width())>=u&&u>=d){y=q,i.mousecaptureposition.clickedcell=q;break}}if(this.rtl&&this._haspinned)for(var q=f.cells.length-1;q>=0&&i.columns.records[q].pinned;q--){var j=e(this.columnsrow[0].cells[q]).coord().left-this.host.coord().left,d=j;if(null==(z=this._getcolumnat(q))||!z.hidden){var S=d+e(this.columnsrow[0].cells[q]).width();if(S>=u&&u>=d){y=q,i.mousecaptureposition.clickedcell=q;break}}}if(null!=w&&y>=0){this._raiseEvent(1,{rowindex:this.getboundindex(w),visibleindex:w.visibleindex,row:w,group:w.group,rightclick:r,originalEvent:t});var z=this._getcolumnat(y),k=this.getcellvalue(this.getboundindex(w),z.datafield);if(this.editable&&this.editcell&&z.datafield==this.editcell.column&&this.getboundindex(w)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(w),column:z?z.getcolumnproperties():null,row:w,visibleindex:w.visibleindex,datafield:z?z.datafield:null,columnindex:y,value:k,rightclick:r,originalEvent:t}),z.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==z.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(m,z.datafield),!0}else if("button"==z.columntype&&this._overlayElement)return z.buttonclick&&z.buttonclick(f.cells[y].buttonrow,t),!0;var I=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(w)&&(this._raiseEvent(22,{rowindex:this.getboundindex(w),row:w,visibleindex:w.visibleindex,group:w.group,rightclick:r,originalEvent:t}),this._clickedcolumn==z.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(w),row:w,visibleindex:w.visibleindex,column:z?z.getcolumnproperties():null,datafield:z?z.datafield:null,columnindex:y,value:k,rightclick:r,originalEvent:t}),I=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(r)return!0;I||(this._clickedrowindex=this.getboundindex(w),this._clickedcolumn=z.datafield);var B=e.jqx.utilities.getBrowser();if("msie"==B.browser&&parseInt(B.version)<=7&&(0==y&&this.rowdetails&&(v="jqx-grid-group-collapse"),_>0&&y<=_&&(v="jqx-grid-group-collapse")),-1!=v.indexOf("jqx-grid-group-expand")||-1!=v.indexOf("jqx-grid-group-collapse"))this.rtl?_>0&&y>f.cells.length-_-1&&this._togglegroupstate?this._togglegroupstate(w.bounddata,!0):y==f.cells.length-1-_&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(w.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):_>0&&y<_&&this._togglegroupstate?this._togglegroupstate(w.bounddata,!0):y==_&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(w.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=w.boundindex){var T=this.selectedrowindexes.slice(0),C=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array);var P=!1,H=this.getboundindex(w);i._oldselectedrow!==H&&"none"!==i.selectionmode||(P=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=H&&"singlerow"==i.selectionmode)&&(this._applyrowselection(H,!0,!1,null,z.datafield),this._selectrowwithmouse(i,p,T,z.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=z.datafield&&(this._selectrowwithmouse(i,p,T,z.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(H,z.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(C=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=H}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode){if(P&&!i.editcell){if("checkbox"!==z.columntype)i.beginrowedit(this.getboundindex(w))}else if(i.editcell&&!P&&"none"!=i.selectionmode)i.endrowedit(i.editcell.row)}else{var H=this.getboundindex(w),M="click"==i.editmode||C&&"selectedcell"==i.editmode;if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(M=!0),M&&void 0!=w.boundindex&&z.editable){i.begincelledit(this.getboundindex(w),z.datafield,z.defaulteditorvalue);-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(H,z.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!C&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||C||!i.editcell||i.editcell.row==H&&z.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}}},_columnPropertyChanged:function(e,t,i,r){},_rowPropertyChanged:function(e,t,i,r){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){var t=this;e>0&&(i+=", "),i+="[";var r=0;for(obj in t)r>0&&(i+=", "),i+="{"+obj+":"+t[obj]+"}",r++;i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":t.refresh();break;case"everpresentrowactionsmode":r!=s&&(t._removeaddnewrow(),t.render());break;case"everpresentrowactions":t._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":r!=s&&(t._removeaddnewrow(),t.render());break;case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:s}),t.hScrollBar.jqxScrollBar({rtl:s}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render();break;case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(30!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":s!=r&&(30!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":r!=s&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":r!=s&&t._rendercolumnheaders();break;case"rendergridrows":r!=s&&t.updatebounddata();break;case"editmode":r!=s&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":s!=r&&(e.jqx.utilities.setTheme(r,s,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:s}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":r!=s&&(t._arrange(),t.refresh());break;case"showstatusbar":r!=s&&(t.statusbar&&(s?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":r!=s&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":r!=s&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":r!=s&&t.rendergridcontent();break;case"showrowdetailscolumn":r!=s&&t.render();break;case"scrollbarsize":r!=s&&t._arrange();break;case"width":case"height":r!=s&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout(function(){t._renderrows(t.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":r!=s&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":r!=s&&t._initpager();break;case"selectedrowindex":t.selectrow(s);break;case"selectionmode":r!=s&&("none"==s&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==s&&t._render(!1,!1,!0,!1,!1));break;case"showheader":s?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":r!=s&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":r!=s&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t._serializeObject(t._cachedcolumns)!==t._serializeObject(s)){var o=!1;t.filterable&&r&&r.records&&e.each(r.records,function(){this.filter&&(o=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),o&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=r;break;case"autoheight":r!=s&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":r!=s&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(r!=s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof s){a="The expected value type is: Int.";if("pagesize"!=i)var a="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+i+". "+a)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=s&&s.length>0&&(t.pagesize=parseInt(s[0]),t.dataview.pagesize=parseInt(s[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(r)!==t._serializeObject(s)&&(t.dataview.groups=s,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":r!=s&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=s&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=s&&t.rendertoolbar(t.toolbar);break;case"disabled":s?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:s}),t.pagerleftbutton.jqxButton({disabled:s}),t.pagershowrowscombo.jqxDropDownList({disabled:s}),t.pagergotoinput.attr("disabled",s)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:s}),t.pagerlastbutton.jqxButton({disabled:s}))),t.vScrollBar.jqxScrollBar({disabled:s}),t.hScrollBar.jqxScrollBar({disabled:s}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&void 0!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))))},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(e<0)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,void 0==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var r=!!t._source,s=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),r?(s=t,t=t._source):s=new e.jqx.dataAdapter(t,{autoBind:!1});var o=function(i){if(i.totalrecords=s.totalrecords,i.virtualmode){var r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(void 0!=t.recordstartindex&&(r.startindex=parseInt(t.recordstartindex)),void 0!=t.recordendindex?r.endindex=parseInt(t.recordendindex):i.grid.pageable||(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords))),r.data=s.records,i.grid.rendergridrows&&i.totalrecords>0){var o=0;if(t.records=i.grid.rendergridrows(r),t.records.length&&(o=t.records.length),t.records&&!t.records[r.startindex]){var a=new Array,l=r.startindex;e.each(t.records,function(){a[l]=this,l++,o++}),t.records=a}if(0==o&&t.records&&e.each(t.records,function(){o++}),o>0&&o<r.endindex-r.startindex&&!i.grid.groupable)for(var n=t.records[0],d=0;d<r.endindex-r.startindex-o;d++){var h={};for(obj in n)h[obj]="";t.records.push&&t.records.push(h)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=s.originaldata,i.records=s.records,i.recordids=s.recordids,i.cachedrecords=s.cachedrecords};!function(e){s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.virtualmode=e.virtualmode,s._options.totalrecords=e.totalrecords,s._options.originaldata=e.originaldata,s._options.recordids=e.recordids,s._options.cachedrecords=new Array,s._options.pagenum=e.pagenum,s._options.pageable=e.pageable,void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async),void 0!=t.updaterow&&(s._options.updaterow=t.updaterow),void 0!=t.addrow&&(s._options.addrow=t.addrow),void 0!=t.deleterow&&(s._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),s._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(uniqueId=i);var a=this.that;switch(t.datatype){case"local":case"array":default:null==t.localdata&&(t.localdata=[]),null!=t.localdata&&(s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&s.dataBind(),(q=function(i){if(void 0!=i&&""!=i){if(s._changedrecords[0]){var r=new Array;e.each(s._changedrecords,function(e){var t=this.index,o=this.record;switch(a.grid._updateFromAdapter=!0,i){case"update":l=a.grid.getrowid(t);return e==s._changedrecords.length-1?a.grid.updaterow(l,o):a.grid.updaterow(l,o,!1),void(a.grid._updateFromAdapter=!1);case"add":return a.grid.addrow(null,o),void(a.grid._updateFromAdapter=!1);case"remove":var l=a.grid.getrowid(t);return void r.push(l)}}),r.length>0&&(a.grid.deleterow(r,!1),a.grid._updateFromAdapter=!1)}if("update"==i)return}var l=a.totalrecords;o(a),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0;var r=a.grid.getrowid(i.index);switch(i.type){case"add":var o=e.extend({},i.object[i.index]),l=s.getid(t.id,o,i.index);0===i.index?a.grid.addrow(l,o,"first"):a.grid.addrow(l,o);break;case"delete":a.grid.deleterow(r);break;case"update":if(i.path&&i.path.split(".").length>1){var n=i.path.split(".");a.grid.setcellvalue(i.index,n[n.length-1],i.newValue)}else{o=e.extend({},i.object[i.index]);a.grid.updaterow(r,o)}}this._updating=!1}}),"updateData"==i?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(l!=a.totalrecords))})(),s.bindBindingUpdate(a.grid.element.id,q));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&s.dataBind(),(q=function(e){var i=a.totalrecords;o(a),"updateData"==e?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(i!=a.totalrecords))})(),void s.bindBindingUpdate(a.grid.element.id,q);for(var l=[],n=0,d={},h=0;h<this.filters.length;h++){var c=this.filters[h].datafield,u=this.filters[h].filter;if(u.getfilters){var g=u.getfilters();d[c+"operator"]=u.operator;for(var p=0;p<g.length;p++){g[p].datafield=c;var w=g[p].value;if("datefilter"==g[p].type)if(g[p].value&&g[p].value.toLocaleString){var m=this.grid.getcolumn(g[p].datafield);if(m&&m.cellsformat){var v=this.grid.source.formatDate(g[p].value,m.cellsformat,this.grid.gridlocalization);d["filtervalue"+n]=v||g[p].value.toLocaleString()}else d["filtervalue"+n]=w.toString()}else d["filtervalue"+n]=w.toString();else d["filtervalue"+n]=w.toString(),g[p].data&&(d["filterid"+n]=g[p].data.toString()),g[p].id&&(d["filterid"+n]=g[p].id.toString());d["filtercondition"+n]=g[p].condition,d["filteroperator"+n]=g[p].operator,d["filterdatafield"+n]=c;var f={label:w.toString()};g[p].data&&(f.value=g[p].data.toString()),g[p].id?f.value=g[p].id.toString():f.value=w.toString(),f.condition=g[p].condition,f.operator=0==g[p].operator?"and":"or",f.field=c,f.type=g[p].type;var b=!1;if(l.length>0)for(var x=0;x<l.length;x++){var y=l[x];if(y.field==c){y.filters.push(f),b=!0;break}}b||(l.push({field:c,filters:[]}),l[l.length-1].filters.push(f)),n++}}}d.filterGroups=l,d.filterscount=n,d.groupscount=a.groups.length;for(h=0;h<a.groups.length;h++)d["group"+h]=a.groups[h];void 0==t.recordstartindex&&(t.recordstartindex=0),void 0!=t.recordendindex&&0!=t.recordendindex||(a.grid.height&&-1==a.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/a.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(d,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var _=s._options.data;s._options.data?e.extend(s._options.data,d):(t.data&&e.extend(d,t.data),s._options.data=d);var q=function(){var i=function(){var e=a.totalrecords;o(a),t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(e!=a.totalrecords)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{i()}catch(e){}else i()};s.unbindDownloadComplete(a.grid.element.id),s.bindDownloadComplete(a.grid.element.id,q),!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind?s.dataBind():a.grid.isInitialized||a.grid.autobind||q(),s._options.data=_}},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return s}return r},this.getvaluebytype=function(t,i){var r=t;if("date"==i.type){var s=new Date(t);null==(t=("NaN"==s.toString()||"Invalid Date"==s.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):s)&&(t=r)}else if("float"==i.type){t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||0!=t&&"");return t},this.setpaging=function(e){void 0!=e.pageSize&&(this.pagesize=e.pageSize),void 0!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if(!(this.filters&&this.filters.length>0&&!this.virtualmode)&&void 0!=t&&void 0!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);s=this.recordsbyid["id"+e];return-1!=(o=this.records.indexOf(s))&&(this.records[o]=t,this.cachedrecords&&(this.cachedrecords[o]=t),1!=i&&void 0!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:s,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var r=this.cachedrecords,s=null,o=-1,a=0;a<r.length;a++)if(r[a].uid==e){s=r[a],o=a;break}if(s){var l=this.that;for(var n in t)l.cachedrecords[o][n]=t[n];return 1!=i&&void 0!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,r,s){if(void 0!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e}),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords);for(var o=this.recordsbyid["id"+i.uid];null!=o;){var a=Math.floor(1e4*Math.random()).toString();i.uid=a,o=this.recordsbyid["id"+a]}}else i.uid=t;return i[this.source.id]||void 0!=this.source.id&&(i[this.source.id]=i.uid),"last"==r?this.records.push(i):"number"==typeof r&&isFinite(r)?this.records.splice(r,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==r?this.cachedrecords.push(i):"number"==typeof r&&isFinite(r)?this.cachedrecords.splice(r,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=s&&void 0!=s||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(void 0!=e){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var r=this.recordsbyid["id"+e],s=this.records.indexOf(r);return this.changedrecords[e]={Type:"Delete",Data:this.records[s]},this.records.splice(s,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&void 0!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var o=this.cachedrecords,r=null,s=-1,a=0;a<o.length;a++)if(o[a].uid==e){r=o[a],s=a;break}if(r)return this.cachedrecords.splice(s,1),1!=t&&void 0!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,r,s,o,a,l){var n=this.that,d=new Array,h=t,c=i,u=r,g=s,p=c.length,w=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var m=Object.size(h);this.totalrecords=m,e.each(this.records,function(t){var i=this,r=0;return e.each(i,function(e,t){n.columns[r++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();a=0;if(!this.groupable)return void this.updateview();l=this.totalrecords}else var a=0,l=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var v=a;v=this.loadgrouprecords(0,a,l,u,0,g,c,p,d)}else w=this.loadflatrecords(a,l,u,0,g,c,p,d);return p>0&&c.splice(0,p-0),this.groups.length>0&&this.groupable?this.totalrows=v:this.totalrows=w,d},this.loadflatrecords=function(t,i,r,s,o,a,l,n){var d=this.that,h=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,g=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||this.source.datatype),u?this.sortdata:this.records),p=t;p<i;p++){var w={};u?(w=e.extend({},g[p].value),id=w[d.uniqueId],w.boundindex=g[p].index,void 0==w.uid&&(w.uid=d.getid(d.source.id,w,w.boundindex)),d.recordsbyid["id"+w.uid]=g[p].value,d.loadedrecords[h]=w,w.uniqueid=d.generatekey(),d.bounditems[w.boundindex]=w):(w=new Object(g[p]),id=w[d.uniqueId],w.boundindex=h,d.loadedrecords[h]=w,void 0==w.uid&&(w.uid=d.getid(d.source.id,w,h)),d.recordsbyid["id"+w.uid]=g[p],w.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=w),(s>=l||id!=a[s][d.uniqueId]||o&&o[id])&&(n[n.length]=s),a[s]=w,s++,w.visibleindex=c,c++,h++}if(d.grid.summaryrows){var m=h;e.each(d.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,d.loadedrecords[m]=t,t.uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=t,a[s]=t,s++,t.visibleindex=c,c++,m++})}return c},this.updateview=function(e,t){var i=this.that,r=this.pagesize*this.pagenum,s=0,o=new Array,a=this.filters,l=this.updated,n=o.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,a,s,l,o,n,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),a,s,l,o,n,[]),this.totalrows=o.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var h=this.pagesize;0==h&&(h=Math.min(100,this.totalrecords));this.pagenum;if(0==this.loadedrecords.length&&0,null!=e&&null!=t?this.loadflatrecords(e,t,a,s,l,o,n,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),a,s,l,o,n,[]),this.totalrows=this.loadedrecords.length,this.rows=o,o.length>=h)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)o=this._updategroupsinpage(i,a,r,s,n,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum);u++)null!=(g=u<this.loadedrecords.length?this.loadedrecords[u]:null)&&((!this.pagesize||r>=this.pagesize*this.pagenum&&r<=this.pagesize*(this.pagenum+1))&&(o[s]=g,s++),r++);if((0==o.length||o.length<this.pagesize)&&!this.pageable&&this.virtualmode){s=o.length;for(var c=o.length,u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum)-c;u++){var g={};g.boundindex=u+c,g.visibleindex=u+c,g.uniqueid=i.generatekey(),g.empty=!0,i.bounditems[u+c]=g,o[s]=g,s++}}this.rows=o},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){void 0==t&&(t=!0);var i=this.rows.length,r=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var s="",o=this.cachedrecords.length,a=new Array;this.totalrecords=0;w=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)void 0==(a=this.source.filter(this.filters,w,o))&&(a=new Array),this.records=a;else if(null==this.source.filter||void 0==this.source.filter){for(var n=0;n<o;n++){for(var d=w[n],h=void 0,c=0;c<l;c++){var s=this.filters[c].filter,u=d[this.filters[c].datafield],g=s.evaluate(u);if(this.grid.filter){var p=this.grid.filter(u,d,this.filters[c].datafield,s,g);void 0!==p&&(g=p)}h=void 0==h?g:"or"==s.operator?h||g:h&&g}h?(a[a.length]=e.extend({dataindex:n},d),this._dataIndexToBoundIndex[n]={boundindex:a.length-1}):this._dataIndexToBoundIndex[n]=null}this.records=a}if(this.sortdata){m=this.sortfield;if(this.sortcache[m]){this.sortdata=null;v=this.sortcache[m].direction;return this.sortcache[m]=null,void this.sortby(this.sortfield,v)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var w=this.cachedrecords;if(this.records=w,this.sortdata){var m=this.sortfield;if(this.sortcache[m]){this.sortdata=null;var v=this.sortcache[m].direction;return this.sortcache[m]=null,void this.sortby(this.sortfield,v)}}}var f=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null,null!=this.rowschangecallback&&(r!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),i!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:rows.length}}),(f.length>0||i!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:rows.length,diff:f}}))}},this}}(jqxBaseFramework);

!function(e){e.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,r,s,i,o,n,a,l,u){for(var d=t,p=this,g=new Array,h=0;h<p.groups.length;h++)g[h]=p.generatekey();var v=new Array,c=0,g=g,f=new Array,m=r,b=p.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var x=null!=this.sortdata,w=x?this.sortdata:this.records;if(this.pageable){var y=new Array,I=0;w[r]||(e.each(w,function(e,t){y[r+e++]=this}),w=y)}if(this.virtualmode){for(var y=new Array,I=0,m=0;m<s-r;m++)w[m]?y[r+I++]=w[m]:w[r+I]&&(y[r+I]=w[r+I],I++);m=0,w=y}for(var _=r;_<s;_++){var q={};q=x?e.extend({},w[_].value):e.extend({},w[_]),id=q[p.uniqueId],(o>=l||id!=a[o][p.uniqueId]||n&&n[id])&&(u[u.length]=o);for(var j=new Array,T=0,h=0;h<b;h++){var G=q[z=p.groups[h]];null==G&&(G=""),j[T++]={value:G,hash:g[h]}}if(j.length!=b)break;for(var P=null,A="",C=0;C<j.length;C++){0;var H=j[C].value;if(A=A+"_"+j[C].hash+"_"+H,void 0==f[A]||null==f[A]){if(null==P)P={group:H,subItems:new Array,subGroups:new Array,level:0},v[c++]=P,P.uniqueid=p.generatekey(),p.loadedgroupsByKey[H]=P;else{var S={group:H,subItems:new Array,subGroups:new Array,parentItem:P,level:P.level+1};p.loadedgroupsByKey[P.uniqueid+"_"+H]=S,S.uniqueid=p.generatekey(),P.subGroups[P.subGroups.length++]=S,P=S}f[A]=P}else P=f[A]}null!=P?(void 0==q.uid&&(q.uid=this.getid(this.source.id,q,m)),x?(q.boundindex=w[_].index,this.recordsbyid["id"+q.uid]=w[_].value):(q.boundindex=m,this.recordsbyid["id"+q.uid]=w[_]),this.bounditems[q.boundindex]=q,this.sortedgroups[m]=q,q.uniqueid=p.generatekey(),q.parentItem=P,q.level=P.level+1,P.subItems[P.subItems.length++]=q):(void 0==q.uid&&(q.uid=this.getid(this.source.id,q,m)),x?(q.boundindex=w[_].index,this.recordsbyid["id"+q.uid]=w[_].value):(q.boundindex=m,this.recordsbyid["id"+q.uid]=w[_]),this.sortedgroups[m]=q,this.bounditems[q.boundindex]=q,q.uniqueid=p.generatekey()),o++,m++,0}var B=function(e,r,s){for(var i=0;i<r.subItems.length;i++)r.subItems[i].visibleindex=t+s,e.rows[s]=r.subItems[i],e.loadedrecords[s]=r.subItems[i],s++;return s},D=function(e,r,s){var i=1,o=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var n=0;n<o.length;n++)o[n].aggregates&&(i=Math.max(i,o[n].aggregates.length));for(subGroup in r.subGroups){var a=r.subGroups[subGroup];a.subGroups&&(e.loadedgroups[e.loadedgroups.length]=a,a.visibleindex=t+s,e.rows[s]=a,e.loadedrecords[s]=a,s++,a.subGroups.length>0?s=D(e,a,s):a.subItems.length>0&&(s=B(e,a,s)))}return r.subItems.length>0&&(s=B(e,r,s)),function(r){if(1==e.aggregates)for(var n=0;n<i;n++)!function(i){var n=r,a={},l=function(t){for(var r=0;r<o.length;r++)if(o[r].aggregates)for(var s=e.grid.getcolumnaggregateddata(o[r].datafield,o[r].aggregates,!0,t),n=0;n<o[r].aggregates.length;n++)if(o[r].aggregates[i]){var l=o[r],u=o[r].aggregates[i],d=u,p=(d=e.grid._getaggregatename(d))+":"+s[u];a[l.datafield]=p}};if(null!=n)if(a.level=n.level,a.visibleindex=t+s,a.uniqueid=e.generatekey(),e.rows[s]=a,e.loadedrecords[s++]=a,a.totalsrow=!0,r.subItems.length>0)n=r.subItems[r.subItems.length-1],a.parentItem=n.parentItem,a.parentItem.subItems&&(a.parentItem.subItems[a.parentItem.subItems.length]=a),u=[],(d=function(){for(var e=0;e<r.subItems.length;e++)r.subItems[e].totalsrow||(u[u.length]=r.subItems[e])})(r),l(u);else if(r.subGroups.length>0){n=r.subGroups[r.subGroups.length-1],a.level=n.level,a.parentItem=r,r.subGroups[r.subGroups.length]=a;var u=[],d=function(e){if(!e.totalsrow){for(t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(u[u.length]=e.subItems[t]);for(var t=0;t<e.subGroups.length;t++)d(e.subGroups[t])}};d(r),l(u)}}(n)}(r),s},M=v.length;this.loadedgroups=new Array,this.rows=new Array;for(var d=0,m=0;m<M;m++){var z=v[m];this.loadedrootgroups[m]=z,this.loadedgroups[this.loadedgroups.length]=z,z.visibleindex=t+d,this.rows[d]=z,this.loadedrecords[d]=z,d=D(this,z,++d)}return d},this._updategroupsinpage=function(t,r,s,i,o,n,a){var l=new Array,u=[];if(this.groupable&&this.groups.length>0){for(var d=0,p=new Array,g=new Array,h=0;h<t.groups.length;h++)g[h]=t.generatekey();var v=0,c=new Array,f=0;a>this.totalrecords&&(a=this.totalrecords);for(var m=n;m<a;m++){var b=e.extend({},t.sortedgroups[m]);if(id=b[t.uniqueId],!t.pagesize||s>=t.pagesize*t.pagenum&&s<t.pagesize*(t.pagenum+1)){(i>=o||id!=l[i][t.uniqueId]||updated&&updated[id])&&(u[u.length]=i);for(var x=new Array,w=0,h=0;h<t.groups.length;h++){var y=b[H=t.groups[h]];null==y&&(y=""),x[w++]={value:y,hash:g[h]}}if(x.length!=t.groups.length)break;for(var I=null,_="",q=0;q<x.length;q++){0;var j=x[q].value;if(_=_+"_"+x[q].hash+"_"+j,void 0==p[_]||null==p[_]){if(null==I)I={group:j,subItems:new Array,subGroups:new Array,level:0},c[f++]=I,void 0!=(G=t.loadedgroupsByKey[j])&&(I.visibleindex=G.visibleindex,I.uniqueid=G.uniqueid);else{var T={group:j,subItems:new Array,subGroups:new Array,parentItem:I,level:I.level+1},G=t.loadedgroupsByKey[I.uniqueid+"_"+j];T.visibleindex=G.visibleindex,T.uniqueid=G.uniqueid,I.subGroups[I.subGroups.length++]=T,I=T}p[_]=I}else I=p[_]}null!=I&&(b.parentItem=I,b.level=I.level+1,I.subItems[I.subItems.length++]=b),i++}v++,s++}for(var P=function(t,r,s){for(var i=0;i<r.subItems.length;i++)l[s]=e.extend({},r.subItems[i]),s++;return s},A=function(e){var t=!1;for(subGroup in e.subGroups){var r=e.subGroups[subGroup];if(r.subGroups){if(r.subGroups.length>0&&A(r))return t=!0,!0;if(r.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},C=function(e,t,r){var s=1,i=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var o=0;o<i.length;o++)i[o].aggregates&&(s=Math.max(s,i[o].aggregates.length));var n=function(t){if(1==e.aggregates)for(var o=0;o<s;o++)!function(s){var o=t,n={},a=function(t){for(var r=0;r<i.length;r++)if(i[r].aggregates)for(var o=e.grid.getcolumnaggregateddata(i[r].datafield,i[r].aggregates,!0,t),a=0;a<i[r].aggregates.length;a++)if(i[r].aggregates[s]){var l=i[r],u=i[r].aggregates[s],d=u,p=(d=e.grid._getaggregatename(d))+":"+o[u];n[l.datafield]=p}};if(null!=o)if(n.level=o.level,n.visibleindex=r,n.uniqueid=e.generatekey(),l[r]=n,e.loadedrecords[r++]=n,n.totalsrow=!0,t.subItems.length>0)o=t.subItems[t.subItems.length-1],n.parentItem=o.parentItem,n.parentItem.subItems&&(n.parentItem.subItems[n.parentItem.subItems.length]=n),u=[],(d=function(){for(var e=0;e<t.subItems.length;e++)t.subItems[e].totalsrow||(u[u.length]=t.subItems[e])})(t),a(u);else if(t.subGroups.length>0){o=t.subGroups[t.subGroups.length-1],n.level=o.level,n.parentItem=t,t.subGroups[t.subGroups.length]=n;var u=[],d=function(e){if(!e.totalsrow){for(t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(u[u.length]=e.subItems[t]);for(var t=0;t<e.subGroups.length;t++)d(e.subGroups[t])}};d(t),a(u)}}(o)};for(subGroup in t.subGroups){var a=t.subGroups[subGroup];a.subGroups&&A(a)&&(l[r]=a,r++,a.subGroups.length>0?r=C(e,a,r):a.subItems.length>0&&(r=P(0,a,r)),n(a))}return t.subItems.length>0&&(r=P(0,t,r)),n(t),r},v=0;v<c.length;v++){var H=c[v];A(H)&&(l[d]=H,d=C(this,H,++d))}}return l}},e.extend(e.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var t=this,r=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||e('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var s=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var i=new Array;if(s>0)e.each(this.groups,function(r){var o=this,n=t._getColumnText(this).label,a=t._rendergroupcolumn(n,o);if(a.addClass(t.toThemeProperty("jqx-grid-group-column")),t.groupsheaderdiv.append(a),t.closeablegroups){var l=e(a.find(".jqx-icon-close"));t.isTouchDevice()&&!0!==t.touchmode?t.addHandler(l,"touchstart",function(){return t.removegroupat(r),!1}):t.addHandler(l,"click",function(){return t.removegroupat(r),!1})}if(t.sortable&&t.addHandler(a,"click",function(){var e=t.getcolumn(o);return null!=e&&t._togglesort(e),!1}),i[i.length]=a,t._handlegroupstocolumnsdragdrop(this,a),r<s-1){var u=a.height(),d=e('<div style="float: left; position: relative;"></div>');t.rtl&&d.css("float","right"),d.width(t.groupindentwidth/3),d.height(1),d.css("top",u/2),d.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(d)}});else{var o=e('<div style="position: relative;">'+r+"</div>");this.groupsheaderdiv.append(o),this.rtl&&o.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=i,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var t=this,r=this.groupsheaderdiv.children().outerHeight(),s=(this.groupsheader.height()-r)/2;this.groupsheaderdiv.css("top",s),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",s)):(this.groupsheaderdiv.css("left",s),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),e.each(this._groupheaders,function(e){var r=this.coord();t.groupheadersbounds[e]={left:r.left,top:r.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(e,t){if(void 0!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){var r=this;r.groups!==r.dataview.groups&&(r.dataview.groups=r.groups),r.groups.splice(e,0,t.toString()),r.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:r.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var r=this._getGroupIndexByDataField(e);this.insertgroup(r+1,t)},_insertbeforegroup:function(e,t){var r=this._getGroupIndexByDataField(e);this.insertgroup(r,t)},removegroupat:function(e){if(e>=0&&null!=e&&void 0!=e){var t=this;return t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups.splice(e,1),t.refreshgroups(),t.virtualmode&&t.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:t.groups}),!0}return!1},cleargroups:function(){var e=this;return e.groups=[],e.dataview.groups=e.groups,e.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:e.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),r=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var s=0;s<t.length;s++){var e=parseInt(t[s]);if(0==s){r=this.dataview.loadedrootgroups[e];this.groupsVisibility[r.group]=null}else{var i=r.subGroups[e];i&&(r=i,s==t.length-1&&(this._setgroupstate(r,!1,!0),this.groupsVisibility[r.group]=null))}}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),r=null,s=0;s<t.length;s++){var e=parseInt(t[s]);if(0==s){r=this.dataview.loadedrootgroups[e];this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[r.group]=r}else{var i=r.subGroups[e];i&&(r=i,this._setgroupstate(r,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[r.group]=r)}}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];return null==t?null:this.expandedgroups[t.uniqueid].expanded},getgroup:function(t){var r=this.dataview.loadedrootgroups[t];if(null==r)return null;var s=this.expandedgroups[r.uniqueid].expanded,i=r.group,o=r.level,n=new Array;this._getsubgroups(n,r);var a=this,l={group:i,level:o,expanded:s,subgroups:n};if(r.subItems){var u=new Array;e.each(r.subItems,function(){var e=this.boundindex;u[u.length]=a.getrowdata(e)}),u.length>0&&(l.subrows=u)}return l},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,r=0;r<e;r++)t[r]=this.getgroup(r);return t},_getsubgroups:function(t,r){var s=this;for(obj in r.subGroups){var i=r.subGroups[obj],o=s.expandedgroups[i.uniqueid].expanded,n=i.group,a=i.level;if(t[t.length]={group:n,level:a,expanded:o},i.subItems){var l=new Array;e.each(i.subItems,function(){var e=this.boundindex;l[l.length]=s.getrowdata(e)}),t[t.length-1].subrows=l}if(i.subGroups){var u=new Array;s._getsubgroups(u,i)}}return t},_setbatchgroupstate:function(e,t){var r=this;for(obj in this.dataview.loadedrootgroups)r._setrootgroupstate(obj,e,!1,!0);if(0==t)return r._requiresupdate=!0,r._renderrows(r.virtualsizeinfo),!0;var s=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(s!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,r,s){if(void 0==e||null==e||e<0)return!1;if(!this.groupable||0==this.groups.length)return!1;var i=void 0==r||r;if(e>=0&&e<this.dataview.loadedrootgroups.length){var o=this.dataview.loadedrootgroups[e];if(this.pageable){for(var n=new Array,a=0;a<this.dataview.rows.length;a++)null!=this.dataview.rows[a].group&&0===this.dataview.rows[a].level&&n.push(this.dataview.rows[a]);if(!(o=n[e]))return}return this._setgroupstate(o,t,i,s)}return!1},_togglegroupstate:function(e,t){if(null==e||void 0==e)return!1;var r=this.vScrollInstance.value,s=this.expandedgroups[e.uniqueid];s=!(s=void 0!=s&&s.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=s?e:null;var i=this._setgroupstate(e,s,t);return this._newmax=null,0!==r&&"hidden"!==this.vScrollBar.css("visibility")&&(r<=this.vScrollInstance.max?this.vScrollInstance.setPosition(r):this.vScrollInstance.setPosition(this.vScrollInstance.max)),i},_setgroupstate:function(e,t,r,s){if(null==e||void 0==e)return!1;var i=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var o=this.expandedgroups[e.uniqueid];if(void 0==o&&(o={expanded:!1},i=!0),o.expanded!=t&&(i=!0),i){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,s),r){var n=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return void 0!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,r){for(var s=0;s<t.subItems.length;s++)e._setrowvisibility(t.subItems[s].visibleindex,r,!1)},_setsubgroupsvisibility:function(e,t,r,s){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(subGroup in t.subGroups){var i=t.subGroups[subGroup];r||e._setrowvisibility(i.visibleindex,r,!1);var o=!r;s?this.expandedgroups[i.uniqueid]={expanded:o,group:i}:o=void 0!=e.expandedgroups[i.uniqueid]&&e.expandedgroups[i.uniqueid].expanded,i.subGroups&&(i.subGroups.length>0?e._setsubgroupsvisibility(e,i,!o||r,s):i.subItems.length>0&&e._setgroupitemsvisibility(e,i,!o||r)),r&&e._setrowvisibility(i.visibleindex,r,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,r)},_handlecolumnsdragdrop:function(){var t=this,r=-1,s=!1;if(t.groupable){var i="mousemove.grouping"+this.element.id,o=(this.element.id,"mouseup.grouping"+this.element.id),n=!1;this.isTouchDevice()&&!0!==this.touchmode&&(n=!0,i=e.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,e.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(e(document),i),this.addHandler(e(document),i,function(i){if(!t.showgroupsheader)return!0;if(null!=t.dragcolumn){var o=parseInt(i.pageX),a=parseInt(i.pageY);if(n){var l=t.getTouches(i)[0];o=parseInt(l.pageX),a=parseInt(l.pageY)}var u=t.host.coord(),d=parseInt(u.left),p=parseInt(u.top);void 0!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var g=parseInt(o)-parseInt(t.dragmousedownoffset.left),h=parseInt(a)-parseInt(t.dragmousedownoffset.top);if(t.dragcolumn.css({left:g+"px",top:h+"px"}),s=!1,o>=d&&o<=d+t.host.width()&&a>=p&&a<=p+t.host.height()&&(s=!0),r=-1,s){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var v=t.groupsheader.coord(),c=v.top+t.groupsheader.height(),f=e.data(t.dragcolumn[0],"datarecord");if(f)m=t.groups.indexOf(f.toString());else var m=-1;var b=-1==m||t.groups.length>1&&m>-1;null!=t.dropline&&(a>=v.top&&a<=c?b&&(r=t._handlegroupdroplines(o)):t.dropline.fadeOut("slow"))}else null!=t.dropline&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(n)return i.preventDefault(),i.stopPropagation(),!1}}),this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){if(!t.showgroupsheader)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(i.pageX);var o=parseInt(i.pageY);if(n){var a=t.getTouches(i)[0];parseInt(a.pageX),o=parseInt(a.pageY)}var l=t.host.coord(),u=(parseInt(l.left),parseInt(l.top)),d=t.groupsheader.height();if(t.showtoolbar&&(u+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,null!=t.dragcolumn){var p=e.data(t.dragcolumn[0],"datarecord");if(t.dragcolumn.remove(),t.dragcolumn=null,null!=p){if(!t.getcolumn(p).groupable)return void(null!=t.dropline&&(t.dropline.remove(),t.dropline=null));if(s)if(-1!=r){var g=r.index,h=t.groups[g];(v=t._getGroupIndexByDataField(p))!=g&&(void 0!=v&&v>=0&&t.groups.splice(v,1),"before"==r.position?t.rtl?t._insertaftergroup(h,p):t._insertbeforegroup(h,p):t.rtl?t._insertbeforegroup(h,p):t._insertaftergroup(h,p))}else if(0==t.groups.length)o>u&&o<=u+d&&t.addgroup(p);else if(o>u+d){var v=t._getGroupIndexByDataField(p);t.removegroupat(v)}null!=t.dropline&&(t.dropline.remove(),t.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(t){var r=this,s=-1;return e.each(r.groupheadersbounds,function(e){if(t<=this.left+this.width/2){var i=this.left-3;return e>0&&(i=this.left-1-r.groupindentwidth/6),r.dropline.css("left",i),r.dropline.css("top",this.top),r.dropline.height(this.height),r.dropline.fadeIn("slow"),s={index:e,position:"before"},r.rtl&&(s={index:r.groupheadersbounds.length-1-e,position:"before"}),!1}t>=this.left+this.width/2&&(r.dropline.css("left",1+this.left+this.width),r.dropline.css("top",this.top),r.dropline.height(this.height),r.dropline.fadeIn("slow"),s={index:e,position:"after"},r.rtl&&(s={index:r.groupheadersbounds.length-1-e,position:"after"}))}),s},_handlegroupstocolumnsdragdrop:function(t,r){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var s,i=this,o="mousedown",n="mousemove",a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,o=e.jqx.mobile.getTouchEventName("touchstart"),n=e.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(r,"dragstart",function(e){return!1}),this.addHandler(r,o,function(t){if(!i.showgroupsheader)return!0;var r=t.pageX,s=t.pageY;if(i.__drag=!0,i.dragmousedown={left:r,top:s},a){var o=i.getTouches(t)[0];r=o.pageX,s=o.pageY,i.dragmousedown={left:r,top:s},t.preventDefault&&t.preventDefault()}var n=e(t.target).coord();i.dragmousedownoffset={left:parseInt(r)-parseInt(n.left),top:parseInt(s-n.top)}}),this.addHandler(r,n,function(o){if(!i.showgroupsheader)return!0;if(i.dragmousedown){if(s={left:o.pageX,top:o.pageY},a){var n=i.getTouches(o)[0];s={left:n.pageX,top:n.pageY}}if(!i.dragstarted&&null==i.dragcolumn){var l=Math.abs(s.left-i.dragmousedown.left),u=Math.abs(s.top-i.dragmousedown.top);(l>3||u>3)&&(i._createdragcolumn(r,s,!0),e(document.body).addClass("jqx-disableselect"),e.data(i.dragcolumn[0],"datarecord",t),o.preventDefault&&o.preventDefault())}}})},_createdragcolumn:function(t,r,s){var i=this,o=r;i.dragcolumn=e("<div></div>");var n=t.clone();i.dragcolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var a=e(n.find("."+i.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(n.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),i.dragcolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),i.dragcolumnicon.addClass(i.toThemeProperty("jqx-grid-drag-icon")),i.dragcolumn.css("float","left"),i.dragcolumn.css("position","absolute");i.host.coord();n.width(t.width()+16),i.dragcolumn.append(n),i.dragcolumn.height(t.height()),i.dragcolumn.width(n.width()),i.dragcolumn.append(i.dragcolumnicon),e(document.body).append(i.dragcolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),i.dragcolumn.css("left",o.left+i.dragmousedown.left),i.dragcolumn.css("top",o.top+i.dragmousedown.top),void 0!=s&&s&&(i.dropline=e('<div style="display: none; position: absolute;"></div>'),i.dropline.width(2),i.dropline.addClass(i.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(i.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(t,r){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var s=this,i=!1;this.isTouchDevice()&&!0!==this.touchmode&&(i=!0);var o="mousedown.drag",n="mousemove.drag";i?(o=e.jqx.mobile.getTouchEventName("touchstart")+".drag",n=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(r,"dragstart",function(e){return!1}),this.addHandler(r,o,function(o){if(!s.showgroupsheader)return!0;if(s.__drag=!0,s._isColumnInGroups(t.displayfield))return r.css("cursor"),!0;if(0==t.groupable)return!0;var n=o.pageX,a=o.pageY;if(i){var l=s.getTouches(o)[0];n=l.pageX,a=l.pageY}s.dragmousedown={left:n,top:a},i&&o.preventDefault&&o.preventDefault();var u=e(o.target).coord();s.dragmousedownoffset={left:parseInt(n)-parseInt(u.left),top:parseInt(a-u.top)}}),this.addHandler(r,n,function(o){if(!s.showgroupsheader)return!0;if(s._isColumnInGroups(t.displayfield))return r.css("cursor"),!0;if(s.dragmousedown){var a=o.pageX,l=o.pageY;if(i){var u=s.getTouches(o)[0];a=u.pageX,l=u.pageY}if(n={left:a,top:l},!s.dragstarted&&null==s.dragcolumn){var d=Math.abs(n.left-s.dragmousedown.left),p=Math.abs(n.top-s.dragmousedown.top);(d>3||p>3)&&(s._createdragcolumn(r,n,!0),e.data(s.dragcolumn[0],"datarecord",t.displayfield),o.preventDefault&&o.preventDefault())}}})},_rendergroupcolumn:function(t,r){var s=e('<div style="float: left; position: relative;"></div>');if(this.rtl&&s.css("float","right"),null!=this.groupcolumnrenderer&&(s[0].innerHTML=this.groupcolumnrenderer(t),s.addClass(this.toThemeProperty("jqx-grid-group-column")),s.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==s[0].innerHTML&&(s[0].innerHTML='<a style="float: left;" href="#">'+t+"</a>"),this.rtl&&(s[0].innerHTML='<a style="float: right;" href="#">'+t+"</a>");var i=this.rtl?"left":"right",o='<div style="float: '+i+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(o='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){o='<div style="float: '+i+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(o='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}s[0].innerHTML+=o}else""==s[0].innerHTML&&(s[0].innerHTML='<a href="#">'+t+"</a>");if(this.sortable){var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}n.css("display","none"),a.css("display","none"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.css("float","left"),a.css("float","left")),s.append(n),s.append(a),e.data(document.body,"groupsortelements"+r,{sortasc:n,sortdesc:a})}return s.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-grid-group-column")),s},_rendergroup:function(t,r,s,i,o,n,a){var l=r,u=r.cells[s.level];this.rtl&&(u=r.cells[r.cells.length-1-s.level]);var d=this._findgroupstate(s.uniqueid);if(s.bounddata.subGroups.length>0||s.bounddata.subItems.length>0){var p=this.rtl?"-rtl":"",g=this.toThemeProperty("jqx-icon-arrow-right");p&&(g=this.toThemeProperty("jqx-icon-arrow-left")),u.className+=d?" "+this.toThemeProperty("jqx-grid-group-expand"+p)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+p)+" "+g}var h=this._getColumnText(this.groups[s.level]).label,v=this.groupindentwidth,c=a-(A=this.rowdetails&&this.showrowdetailscolumn?(1+t)*v:t*v),f=s.level+1;this.rtl&&(f=0);for(var m=l.cells[f],b=2;void 0!=m&&"none"==m.style.display&&b<l.cells.length-1;)m=l.cells[f+b-1],b++;var x=e(m);if(m){if(m.style.width=parseInt(c)+"px",-1!=m.className.indexOf("jqx-grid-cell-filter")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=m.className.indexOf("jqx-grid-cell-sort")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=m.className.indexOf("jqx-grid-cell-pinned")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var w={group:s.group,level:s.level,parent:s.bounddata.parentItem,subGroups:s.bounddata.subGroups,subItems:s.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[s.level]).column},y=this.groupsrenderer(h+": "+s.group,s.group,d,w);if(y)m.innerHTML=y;else{q=s.bounddata.subItems.length>0?s.bounddata.subItems.length:s.bounddata.subGroups.length;if(this.showgroupaggregates){j=s.bounddata.subItems.length>0?s.bounddata.subItems:s.bounddata.subGroups;q=0;for(T=0;T<j.length;T++)j[T].totalsrow||q++}m.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+h+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+s.group+" ("+q+")</span></div>"}}else{var I=this._getcolumnbydatafield(this.groups[s.level]),_=s.group;if(null==I)throw new Error("jqxGrid: Unable to find '"+this.groups[s.level]+"' group in the Grid's columns collection.");I.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(_)?_=e.jqx.dataFormat.formatdate(_,I.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(_)&&(_=e.jqx.dataFormat.formatnumber(_,I.cellsformat,this.gridlocalization)));var q=s.bounddata.subItems.length>0?s.bounddata.subItems.length:s.bounddata.subGroups.length;if(this.showgroupaggregates){var j=s.bounddata.subItems.length>0?s.bounddata.subItems:s.bounddata.subGroups;q=0;for(var T=0;T<j.length;T++)j[T].totalsrow||q++}m.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+h+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+_+" ("+q+")</span></div>"}if(this.rtl){I||(I=this._getcolumnbydatafield(this.groups[s.level]));var G="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,P="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,A=this.rowdetails&&this.showrowdetailscolumn?(2+s.level)*v:(1+s.level)*v;m.style.width=a+parseInt(G)-A-P+"px",x.addClass(this.toThemeProperty("jqx-rtl"));var C=e(r.cells[r.cells.length-1]).css("z-index");x.css("z-index",C);var H=x.find("div"),c=H.width();H.css("left","100%");var S=null!=this.columns.records[r.cells.length-2-s.level]&&this.columns.records[r.cells.length-2-s.level].pinned;if(this.table.width()<a&&(a=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(a+=this.vScrollBar.outerWidth())),I.pinned||S)this.rowdetails&&this.showrowdetailscolumn&&(a+=30),H.css("margin-left",-c),m.style.width=a+G-A-P+"px";else{G="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;m.style.width=a+G-A-P+"px";c=H.width();H.css("margin-left",-c)}}}}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxGrid.prototype,{_handledblclick:function(t,i){if(null!=t.target&&!i.disabled&&!e(t.target).ischildof(this.columnsheader)){var l;if(t.which?l=3==t.which:t.button&&(l=2==t.button),!l){var o;if(t.which?o=2==t.which:t.button&&(o=1==t.button),!o){var d=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;s+=this.showtoolbar?this.toolbarheight:0;var a=this.host.offset(),r=t.pageX-a.left,n=t.pageY-d-a.top-s,c=this._hittestrow(r,n);if(c){var h=c.row,u=c.index,p=t.target.className,f=this.table[0].rows[u];if(null!=f){i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-s};for(var v=this.hScrollInstance.value,m=0,x=(this.groupable&&this.groups.length,0);x<f.cells.length;x++){var w=parseInt(e(this.columnsrow[0].cells[x]).css("left")),b=w-v;if(i.columns.records[x].pinned&&(b=w),(null==(g=this._getcolumnat(x))||!g.hidden)&&b+e(this.columnsrow[0].cells[x]).width()>=r&&r>=b){m=x;break}}if(null!=h){var g=this._getcolumnat(m);-1==p.indexOf("jqx-grid-group-expand")&&-1==p.indexOf("jqx-grid-group-collapse")&&-1!=h.boundindex&&i.begincelledit(i.getboundindex(h),g.datafield,g.defaulteditorvalue)}}}}}}},_getpreveditablecolumn:function(e){for(var t=this;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(i.editable&&!i.hidden)return i}return null},_getnexteditablecolumn:function(e){for(var t=this;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(i.editable&&!i.hidden)return i}return null},_handleeditkeydown:function(t,i){if(i.handlekeyboardnavigation&&1==i.handlekeyboardnavigation(t))return!0;var l=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editEvent=t,i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&e(t.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&e(t.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&e(t.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===l)return this.endrowedit(this.editcell.row,!1),!1;if(27===l)return this.endrowedit(this.editcell.row,!0),!1;if(32==l&&this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype&&(L=this.getcolumn(this._currentColumn)).editable){var o=!this.getcellvalue(this.editcell.row,L.datafield),d=this.getrowdata(this.editcell.row),s=this.editcell.row,d=i.getrowdata(i.editcell.row);this.setcellvalue(this.editcell.row,L.datafield,o,!1);var a=this._focusedColumn,r=this._currentColumn,n=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(s,!1),this._currentColumn=r,this._focusedColumn=a,this._currentEditableColumn=n,this._renderrows(),this.selectcell(s,L.datafield),this._oldselectedcell=this.selectedcell,a){var c=this;setTimeout(function(){c.selectcell(s,L.datafield),c._oldselectedcell=c.selectedcell,e(c._checkboxCells[L.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}if(9===l){var h=this.editcell.datafield,u=this._getcolumnindex(h);this._currentEditableColumn?u=this._currentEditableColumn:this._currentEditableColumn=u;L=this._getnexteditablecolumn(u);if(t.shiftKey&&(L=this._getpreveditablecolumn(u)),L){u=this._getcolumnindex(L.datafield);if(this.editcell[L.datafield])this._currentEditableColumn=u,(p=this.editcell[L.datafield].editor)&&(p.data().jqxWidget&&p.data().jqxWidget.focus?p.data().jqxWidget.focus():p.focus()),this._focusedColumn=L.datafield,this._currentColumn=L.datafield;else if("checkbox"==L.columntype)return this._currentColumn=L.datafield,this._currentEditableColumn=u,this.selectcell(this.editcell.row,L.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[L.datafield]&&e(this._checkboxCells[L.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(l>=33&&l<=40&&"multiplecellsadvanced"==i.selectionmode){var p="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),f=i._selection(p),v=p.val().length;f.length>0&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),f.start>0&&37==l&&(i._cancelkeydown=!0),f.start<v&&39==l&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==l&&f.start+f.length<v&&(i._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==l||39==l&&"multiplecellsadvanced"==i.selectionmode)&&(i._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(i._cancelkeydown=!0);if(32==l&&"checkbox"==i.editcell.columntype&&(L=i.getcolumn(i.editcell.datafield)).editable){o=!i.getcellvalue(i.editcell.row,i.editcell.column);if(L.cellbeginedit&&0==(P=L.cellbeginedit(i.editcell.row,L.datafield,L.columntype,!o)))return!1;d=i.getrowdata(i.editcell.row);return i.setcellvalue(i.editcell.row,i.editcell.column,o,!0),i._raiseEvent(18,{rowindex:i.editcell.row,row:d,datafield:i.editcell.column,oldvalue:!o,value:o,columntype:"checkbox"}),!1}if(9==l){var m=this.editcell.row,x=h=this.editcell.column,u=i._getcolumnindex(h),w=!1,b=i.getrowvisibleindex(m);this.editchar="";g=this.editcell.validated;if(!this.editcell.validated)var g=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0!=g){if(t.shiftKey)if(L=i._getpreveditablecolumn(u))h=L.datafield,w=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectprevcell(m,x),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(b,h)},10));else{var y=i._getlastvisiblecolumn();w=!0,h=y.displayfield,m--,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(m,h),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(b,h)},10))}else if(L=i._getnexteditablecolumn(u))h=L.datafield,w=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectnextcell(m,x),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(b,h)},10));else{var _=i._getfirstvisiblecolumn();w=!0,h=_.displayfield,m++,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(m,h),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(b,h)},10))}if(!w)return null!=this.editcell&&(i.endcelledit(m,h,!1),this._renderrows(this.virtualsizeinfo)),!0;i.begincelledit(m,h),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==l){var q=this.selectedcell;if(q)var j=this.getrowvisibleindex(q.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode&&null!=(z=i.getselectedcell())&&i.selectcell&&null==this.editcell&&z.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=z.datafield){b=this.getrowvisibleindex(z.rowindex);if((B=this.dataview.loadedrecords[b+1])&&(!this.pageable||this.pageable&&b+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(B),z.datafield);z=this.getselectedcell();this.ensurecellvisible(B.visibleindex,z.datafield)}}else if(null!=q&&(I=this.dataview.loadedrecords[j+1]))if(!this.pageable||this.pageable&&j+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(I),z.datafield);else if(this.pageable&&j+1>=this.pagesize){this.clearselection(!1);var I=this.dataview.loadedrecords[j];this.selectcell(this.getboundindex(I),z.datafield)}return!1}if(27==l)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var D=!1;if(113==l&&(D=!0),!t.ctrlKey&&!t.altKey&&!t.metaKey){if(l>=48&&l<=57&&(this.editchar=String.fromCharCode(l),D=!0),189===l&&(D=!0),l>=65&&l<=90){this.editchar=String.fromCharCode(l);var C=!1;t.shiftKey?C=t.shiftKey:t.modifiers&&(C=!!(4&t.modifiers)),this._capsLock&&(C=!C),C||(this.editchar=this.editchar.toLowerCase()),D=!0}else l>=96&&l<=105&&(this.editchar=l-96,this.editchar=this.editchar.toString(),D=!0);var k=e(".jqx-grid").length;D=D&&(1==k||k>1&&i.focused);var T=e.data(document.body,"jqxgrid.edit");if(void 0!==T&&""!==T&&(13===l||D)&&T!=i.element.id)return!0}if((13==l||D)&&i.getselectedrowindex){m=i.getselectedrowindex();if("selectedrow"===i.editmode){if(!(m>=0)){if(null!=(z=i.getselectedcell())){L=i._getcolumnbydatafield(z.datafield);i.beginrowedit(z.rowindex)}return!1}i.beginrowedit(m)}switch(i.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(m>=0){for(var h="",S=0;S<i.columns.records.length;S++)if((L=i.getcolumnat(S)).editable){h=L.datafield;break}"selectedrow"===i.editmode?i.beginrowedit(m):i.begincelledit(m,h)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":if(null!=(z=i.getselectedcell())){L=i._getcolumnbydatafield(z.datafield);"selectedrow"===i.editmode?i.beginrowedit(z.rowindex):"checkbox"!=L.columntype&&i.begincelledit(z.rowindex,z.datafield)}break;case"multiplecellsadvanced":if(null!=(z=i.getselectedcell()))if(13==l){if(i.selectcell&&(b=this.getrowvisibleindex(z.rowindex))+1<i.dataview.totalrecords){var B=this.dataview.loadedrecords[b+1];if(B){this.clearselection(!1),this.selectcell(this.getboundindex(B),z.datafield);var z=this.getselectedcell();this.ensurecellvisible(B.visibleindex,z.datafield)}}}else"selectedrow"!==i.editmode&&i.begincelledit(z.rowindex,z.datafield)}return!1}if(46==l){var O=i.getselectedcells();if(-1==i.selectionmode.indexOf("cell")&&i._getcellsforcopypaste&&(O=i._getcellsforcopypaste()),null!=O&&O.length>0){for(var N=0;N<O.length;N++)if((z=O[N]).datafield){var L=i.getcolumn(z.datafield),E=i.getcellvalue(z.rowindex,z.datafield);if(""!==E&&L.editable&&i.enablekeyboarddelete){var H=null;if("checkbox"==L.columntype&&(L.threestatecheckbox||(H=!1)),L.cellbeginedit&&0==(P=L.cellbeginedit(z.rowindex,L.datafield,L.columntype,H)))return!1;d=i.getrowdata(z.rowindex);if(i._raiseEvent(17,{rowindex:z.rowindex,row:d,datafield:z.datafield,value:E}),N==O.length-1?(i.setcellvalue(z.rowindex,z.datafield,H,!0),L.displayfield!=L.datafield&&i.setcellvalue(z.rowindex,L.displayfield,H,!0)):(i.setcellvalue(z.rowindex,z.datafield,H,!1),L.displayfield!=L.datafield&&i.setcellvalue(z.rowindex,L.displayfield,H,!0)),L.cellendedit)L.cellendedit(z.rowindex,L.datafield,L.columntype,H);i._raiseEvent(18,{rowindex:z.rowindex,row:d,datafield:z.datafield,oldvalue:E,value:H})}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==l&&null!=(z=i.getselectedcell())&&"checkbox"==(L=i.getcolumn(z.datafield)).columntype&&L.editable){o=!i.getcellvalue(z.rowindex,z.datafield);if(L.cellbeginedit){var P=L.cellbeginedit(z.rowindex,L.datafield,L.columntype,!o);if(0==P)return!1}d=i.getrowdata(z.rowindex);return i._raiseEvent(17,{rowindex:z.rowindex,row:d,datafield:z.datafield,value:!o,columntype:"checkbox"}),i.setcellvalue(z.rowindex,z.datafield,o,!0),i._raiseEvent(18,{rowindex:z.rowindex,row:d,datafield:z.datafield,oldvalue:!o,value:o,columntype:"checkbox"}),!1}}return!0},begincelledit:function(t,i,l,o,d){var s=this.getcolumn(i);if(this._cellscache=new Array,null!=i&&"number"!=s.columntype&&"button"!=s.columntype&&!s.createwidget){if(this.groupable){if(this.groups.indexOf(i)>=0)return;if(this.groups.indexOf(s.displayfield)>=0)return}if(void 0==this.editrow){if(this.editcell){if(this.editcell.row==t&&this.editcell.column==i)return!0;if("selectedrow"===this.editmode&&this.editcell.row==t)return;if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var a="checkbox"==s.columntype||"button"==s.columntype||s.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),s.editable){if(s.cellbeginedit){var r=this.getcell(t,i);if(0==s.cellbeginedit(t,i,s.columntype,null!=r?r.value:null))return}var n=this.getrowvisibleindex(t);if(this.editcell=this.getcell(t,i),this.editcell&&(this.editcell.visiblerowindex=n,!this.editcell.editing)){if(a||(this.editcell.editing=!0),this.editcell.columntype=s.columntype,this.editcell.defaultvalue=l,void 0!=s.defaultvalue&&(this.editcell.defaultvalue=s.defaultvalue),this.editcell.init=!0,"checkbox"!=s.columntype&&"selectedrow"!=this.editmode){var c=this.getrowdata(t);this._raiseEvent(17,{rowindex:t,row:c,datafield:s.datafield,value:this.editcell.value,columntype:s.columntype})}if(e.data(document.body,"jqxgrid.edit",this.element.id),!a){var h=this.getrowvisibleindex(t);!1!==o&&(this.autorowheight||this.ensurecellvisible(h,s.datafield)),!1!==d&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return;this.editcell.editor=null,this.editcell.editing=!1,!1!==d&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollLeft},endcelledit:function(t,i,l,o,d){if(void 0!=t&&void 0!=i||(this.editcell&&(t=this.editcell.row,i=this.editcell.column),void 0==l&&(l=!0)),this.editcell){var s=this.getcolumn(i),a=this;if("selectedrow"!==a.editmode){var r=function(){if(0!=d){if(a.isTouchDevice())return;if(!a.isNestedGrid){var e=a.getScrollTop(),t=a.getScrollLeft();try{a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e)},10)}catch(e){}}}};if("checkbox"==s.columntype||"button"==s.columntype||s.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var n=this._geteditorvalue(s),c=function(e){if(e._hidecelleditor(),s.cellendedit&&s.cellendedit(t,i,s.columntype,e.editcell.value,n),e.editchar=null,s.displayfield!=s.datafield){var l=e.getcellvalue(e.editcell.row,s.displayfield),d=e.editcell.value;oldvalue={value:d,label:l}}else oldvalue=e.editcell.value;var a=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:a,datafield:i,displayfield:s.displayfield,oldvalue:n,value:n,columntype:s.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,(o||void 0==o)&&e._renderrows(e.virtualsizeinfo),r(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))};if(l)return c(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),s.cellvaluechanging){var h=s.cellvaluechanging(t,i,s.columntype,this.editcell.value,n);void 0!=h&&(n=h)}if(s.validation){var u=this.getcell(t,i);try{var p=s.validation(u,n),f=this.gridlocalization.validationstring;if(void 0!=p.message&&(f=p.message),!("boolean"==typeof p?p:p.result))return void 0!=p.showmessage&&1!=p.showmessage||this._showvalidationpopup(t,i,f),this.editcell.validated=!1,!1}catch(e){return this._showvalidationpopup(t,i,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(s.displayfield!=s.datafield){var v=this.getcellvalue(this.editcell.row,s.displayfield),m=this.editcell.value;oldvalue={value:m,label:v}}else oldvalue=this.editcell.value;var x=this.getrowdata(t);return s.cellendedit&&0==s.cellendedit(t,i,s.columntype,this.editcell.value,n)?(this._raiseEvent(18,{rowindex:t,row:x,datafield:i,displayfield:s.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:s.columntype}),c(this),!1):(this._raiseEvent(18,{rowindex:t,row:x,datafield:i,displayfield:s.displayfield,oldvalue:oldvalue,value:n,columntype:s.columntype}),this._hidecelleditor(!1),void 0!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(t,i,n,o),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.jqx.browser.msie||r(),e.data(document.body,"jqxgrid.edit",""),!0)}this.endrowedit(t,l)}},beginrowedit:function(t){var i=this;i._oldselectedrow=t,this._cellscache=new Array;var l=!1;if("selectedrow"!=this.editmode&&(l=!0),l){var o=this.editmode;this.editmode="selectedrow"}var d=null;e.each(this.columns.records,function(e,l){if(i.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;d||(d=this.datafield);var o=i.getcell(t,this.datafield);i.begincelledit(t,this.datafield,null,!1,!1);var s=i.getrowdata(t);i._raiseEvent(17,{rowindex:t,row:s,datafield:this.datafield,value:o.value,columntype:this.columntype})}}),i.editcell&&(i.editcell.init=!0),this._renderrows(this.virtualsizeinfo),l&&(this.editmode=o),d&&i.editcell&&setTimeout(function(){if(i.editcell&&i.editcell[d]){var e=i.editcell[d].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)},endrowedit:function(t,i){q=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(void 0==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var l=!1;if("selectedrow"!=this.editmode&&(l=!0),l){var o=this.editmode;this.editmode="selectedrow"}var d=!1,s={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(w=0;w<this.columns.records.length;w++)if((b=this.columns.records[w]).editable&&!b.hidden&&"checkbox"!=b.columntype&&!b.createwidget){var a=this._geteditorvalue(b),r=function(e){e._hidecelleditor();var i=e.getcellvalue(e.editcell.row,b.displayfield);if(b.cellendedit&&b.cellendedit(t,g,b.columntype,i,a),e.editchar=null,b.displayfield!=b.datafield){var l=e.getcellvalue(e.editcell.row,b.displayfield);n={value:i,label:l}}else n=i;var o=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:o,datafield:g,displayfield:b.displayfield,oldvalue:i,value:i,columntype:b.columntype}),e.editcell.editing=!1};if(i)r(this);else{if(b.cellvaluechanging){var n=this.getcellvalue(this.editcell.row,b.displayfield),c=b.cellvaluechanging(t,g,b.columntype,n,a);void 0!=c&&(a=c)}g=b.datafield;if(b.validation){var h=this.getcell(t,b.datafield);try{var u=b.validation(h,a),p=this.gridlocalization.validationstring;if(void 0!=u.message&&(p=u.message),!(j="boolean"==typeof u?u:u.result)){void 0!=u.showmessage&&1!=u.showmessage||this._showvalidationpopup(t,g,p),d=!0,this.editcell[b.datafield].validated=!1;continue}}catch(e){this._showvalidationpopup(t,g,this.gridlocalization.validationstring),this.editcell[b.datafield].validated=!1,d=!0;continue}}if(b.displayfield!=b.datafield){var f=this.getcellvalue(this.editcell.row,b.displayfield),v=this.editcell.value;n={value:v,label:f}}else n=this.getcellvalue(this.editcell.row,b.displayfield);s[b.datafield]={newvalue:a,oldvalue:n}}}var m={},x={};if(!d){this._hidecelleditor(!1);for(var w=0;w<this.columns.records.length;w++){var b=this.columns.records[w],g=b.datafield;if(!b.hidden&&b.editable){_=this.getrowdata(t);if(!b.createwidget)if("checkbox"!=b.columntype){if(s[b.datafield]){var a=s[b.datafield].newvalue,n=s[b.datafield].oldvalue;b.cellendedit&&0==b.cellendedit(t,g,b.columntype,n,a)?(this._raiseEvent(18,{rowindex:t,row:_,datafield:g,displayfield:b.displayfield,oldvalue:n,value:n,columntype:b.columntype}),r(this)):(this.source.updaterow||this._raiseEvent(18,{rowindex:t,row:_,datafield:b.datafield,displayfield:b.displayfield,oldvalue:n,value:a,columntype:b.columntype}),m[b.datafield]=a,x[b.datafield]=n)}}else{a=this.getcellvalue(t,b.displayfield);this._raiseEvent(18,{rowindex:t,row:_,datafield:b.datafield,displayfield:b.displayfield,oldvalue:a,value:a,columntype:b.columntype})}}}var y=this.getrowid(t),_=this.getrowdata(t);if(e.each(m,function(e,t){if(t&&void 0!=t.label){var i=q.getcolumn(e);_[i.displayfield]=t.label,_[i.datafield]=t.value}else _[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow&&!i){var q=this,j=function(i){var l=q.source.updaterow;q.source.updaterow=null,0==i?(e.each(x,function(e,t){if(t&&void 0!=t.label){var i=q.getcolumn(e);_[i.displayfield]=t.label,_[i.datafield]=t.value}else _[e]=t}),q.updaterow(y,_)):q.updaterow(y,_);for(var o=0;o<q.columns.records.length;o++){var d=q.columns.records[o];d.datafield;q._raiseEvent(18,{rowindex:t,datafield:d.datafield,row:_,displayfield:d.displayfield,oldvalue:x[d.datafield],value:_[d.displayfield],columntype:d.columntype})}q.source.updaterow=l};try{void 0==this.source.updaterow(y,_,j)&&!0}catch(e){return void!1}}else i||this.updaterow(y,_),this._renderrows(this.virtualsizeinfo)}return l&&(this.editmode=o),d},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var l=document.selection.createRange();if(null==l)return{start:0,end:t.value.length,length:0};var o=e[0].createTextRange(),d=o.duplicate();o.moveToBookmark(l.getBookmark()),d.setEndPoint("EndToStart",o);i=l.text.length;return{start:d.text.length,end:d.text.length+l.text.length,length:i,text:l.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var l=i[0].createTextRange();l.collapse(!0),l.moveEnd("character",t),l.moveStart("character",e),l.select()}},findRecordIndex:function(e,t,i){var i=i;if(t)for(var l=i.length,o=0;o<l;o++)if(e==i[o].label)return o;return-1},_destroyeditors:function(){var t=this;this.columns.records&&(e.each(this.columns.records,function(i,l){var o=e.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var d=t.editors["dropdownlist_"+o];d&&(d.jqxDropDownList("destroy"),t.editors["dropdownlist_"+o]=null);break;case"combobox":var s=t.editors["combobox_"+o];s&&(s.jqxComboBox("destroy"),t.editors["combobox_"+o]=null);break;case"datetimeinput":var a=t.editors["datetimeinput_"+this.datafield];a&&(a.jqxDateTimeInput("destroy"),t.editors["datetimeinput_"+o]=null);break;case"numberinput":var r=t.editors["numberinput_"+o];r&&(r.jqxNumberInput("destroy"),t.editors["numberinput_"+o]=null);break;case"custom":case"template":if(t.destroyeditor&&t.editors["templateeditor_"+o]&&(t.destroyeditor(t.editors["templateeditor_"+o]),t.editors["templateeditor_"+o]=null),t.destroyeditor)for(var n=t.getrows.length(),c=0;c<n;c++)t.editors["customeditor_"+o+"_"+c]&&(t.destroyeditor(t.editors["customeditor_"+o+"_"+c],c),t.editors["customeditor_"+o+"_"+c]=null);break;case"textbox":default:var h=t.editors["textboxeditor_"+o];h&&(t.removeHandler(h,"keydown"),t.editors["textbox_"+o]=null)}}),t.editors=new Array)},_showcelleditor:function(t,i,l,o,d){if(void 0!=l&&null!=this.editcell)if("checkbox"==i.columntype&&i.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[i.datafield]=l);else{void 0==d&&(d=!0),"selectedrow"==this.editmode&&(this.editchar="",d=!1);var s=i.datafield,a=e(l),r=this,n=this.editcell.editor,c=this.getcellvalue(t,s),h=this.getcelltext(t,s),u=this.hScrollInstance.value,p=parseInt(u);this.columns.records.indexOf(i);if(this.editcell.element=l,0==this.editcell.validated){var f="";this.validationpopup&&(f=this.validationpopup.text()),this._showvalidationpopup(t,s,f)}var v=function(e){r.hScrollInstance.isScrolling()||r.vScrollInstance.isScrolling()||d&&(r.isTouchDevice()||(e&&e.focus(),0!=r.gridcontent[0].scrollTop&&(r.scrolltop(Math.abs(r.gridcontent[0].scrollTop)),r.gridcontent[0].scrollTop=0),0!=r.gridcontent[0].scrollLeft&&(r.gridcontent[0].scrollLeft=0)))};switch(i.columntype){case"dropdownlist":if(this.host.jqxDropDownList){l.innerHTML="";var m=e.trim(i.datafield).split(" ").join(""),x=e.trim(i.displayfield).split(" ").join("");-1!=m.indexOf(".")&&(m=m.replace(".","")),-1!=x.indexOf(".")&&(x=x.replace(".",""));var w=this.editors["dropdownlist_"+m];if((n=void 0==w?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):w).css("top",e(l).parent().position().top),this.oldhscroll?n.css("left",-p+parseInt(e(l).position().left)):n.css("left",parseInt(e(l).position().left)),i.pinned&&n.css("left",p+parseInt(e(l).position().left)),void 0==w){n.prependTo(this.table),n[0].id="dropdownlisteditor"+this.element.id+m;_=null;if(y=!!this.source._source){q={localdata:this.source.records,datatype:this.source.datatype,async:!1};_=new e.jqx.dataAdapter(q,{autoBind:!1,async:!1,uniqueDataFields:[x],autoSort:!0,autoSortField:x})}else _=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[x],async:!1,autoSort:!0,autoSortField:x});j=!i.createeditor;n.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:_,rtl:this.rtl,autoDropDownHeight:j,theme:this.theme,width:a.width()-2,height:a.height()-2,displayMember:x,valueMember:s}),this.editors["dropdownlist_"+m]=n,i.createeditor&&i.createeditor(t,c,n)}i._requirewidthupdate&&n.jqxDropDownList({width:a.width()-2});I=n.jqxDropDownList("listBox").visibleItems;i.createeditor||(I.length<8?n.jqxDropDownList("autoDropDownHeight",!0):n.jqxDropDownList("autoDropDownHeight",!1));var c=this.getcellvalue(t,x),b=this.findRecordIndex(c,x,I);if(o&&(""!=c?n.jqxDropDownList("selectIndex",b,!0):n.jqxDropDownList("selectIndex",-1)),!this.editcell)return;void 0!=this.editcell.defaultvalue&&n.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),d&&n.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){l.innerHTML="";var m=e.trim(i.datafield).split(" ").join(""),x=e.trim(i.displayfield).split(" ").join("");-1!=m.indexOf(".")&&(m=m.replace(".","")),-1!=x.indexOf(".")&&(x=x.replace(".",""));var g=this.editors["combobox_"+m];if((n=void 0==g?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):g).css("top",e(l).parent().position().top),this.oldhscroll?n.css("left",-p+parseInt(e(l).position().left)):n.css("left",parseInt(e(l).position().left)),i.pinned&&n.css("left",p+parseInt(e(l).position().left)),void 0==g){n.prependTo(this.table),n[0].id="comboboxeditor"+this.element.id+m;var y=!!this.source._source,_=null;if(y){var q={localdata:this.source.records,datatype:this.source.datatype,async:!1};_=new e.jqx.dataAdapter(q,{autoBind:!1,async:!1,uniqueDataFields:[x],autoSort:!0,autoSortField:x})}else _=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[x],async:!1,autoSort:!0,autoSortField:x});var j=!i.createeditor;n.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:_,rtl:this.rtl,autoDropDownHeight:j,theme:this.theme,width:a.width()-2,height:a.height()-2,displayMember:x,valueMember:s}),n.removeAttr("tabindex"),n.find("div").removeAttr("tabindex"),this.editors["combobox_"+m]=n,i.createeditor&&i.createeditor(t,c,n)}i._requirewidthupdate&&n.jqxComboBox({width:a.width()-2});var I=n.jqxComboBox("listBox").visibleItems;i.createeditor||(I.length<8?n.jqxComboBox("autoDropDownHeight",!0):n.jqxComboBox("autoDropDownHeight",!1));var c=this.getcellvalue(t,x),b=this.findRecordIndex(c,x,I);if(o&&(""!=c?(n.jqxComboBox("selectIndex",b,!0),n.jqxComboBox("val",c)):(n.jqxComboBox("selectIndex",-1),n.jqxComboBox("val",c))),!this.editcell)return;void 0!=this.editcell.defaultvalue&&n.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&n.jqxComboBox("input").val(this.editchar),d&&setTimeout(function(){if(v(n.jqxComboBox("input")),n)if(n.jqxComboBox("_setSelection",0,0),r.editchar)n.jqxComboBox("_setSelection",1,1),r.editchar=null;else if(n.jqxComboBox("input")){var e=n.jqxComboBox("input").val();n.jqxComboBox("_setSelection",0,e.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){l.innerHTML="",-1!=(m=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var D=this.editors["datetimeinput_"+m];if((n=void 0==D?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):D).show(),n.css("top",e(l).parent().position().top),this.oldhscroll?n.css("left",-p+parseInt(e(l).position().left)):n.css("left",parseInt(e(l).position().left)),i.pinned&&n.css("left",p+parseInt(e(l).position().left)),void 0==D){n.prependTo(this.table),n[0].id="datetimeeditor"+this.element.id+m;var C={calendar:this.gridlocalization};n.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:C,_editor:!0,theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),formatString:i.cellsformat}),this.editors["datetimeinput_"+m]=n,i.createeditor&&i.createeditor(t,c,n)}if(i._requirewidthupdate&&n.jqxDateTimeInput({width:a.width()-2}),o){if(""!=c&&null!=c){var k=new Date(c);"Invalid Date"==k&&this.source.getvaluebytype&&(k=this.source.getvaluebytype(c,{name:i.datafield,type:"date"})),n.jqxDateTimeInput("setDate",k)}else n.jqxDateTimeInput("setDate",null);void 0!=this.editcell.defaultvalue&&n.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(d){var T=this.editEvent;setTimeout(function(){v(n.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(n.jqxDateTimeInput("_selectGroup",0),r.editchar&&r.editchar.length>0){var e=parseInt(r.editchar);if(!isNaN(e)&&T){var t=T.charCode?T.charCode:T.keyCode?T.keyCode:0;n.jqxDateTimeInput("_handleKeyPress",T,t)}}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){l.innerHTML="",-1!=(m=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var S=this.editors["numberinput_"+m];if((n=void 0==S?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):S).show(),n.css("top",e(l).parent().position().top),this.oldhscroll?n.css("left",-p+parseInt(e(l).position().left)):n.css("left",parseInt(e(l).position().left)),i.pinned&&n.css("left",p+parseInt(e(l).position().left)),void 0==S){n.prependTo(this.table),n[0].id="numbereditor"+this.element.id+m;var B="",z="left",O=2;i.cellsformat?-1!=i.cellsformat.indexOf("c")?(B=this.gridlocalization.currencysymbol,z="before"==(z=this.gridlocalization.currencysymbolposition)?"left":"right",i.cellsformat.length>1&&(O=parseInt(i.cellsformat.substring(1),10))):-1!=i.cellsformat.indexOf("p")&&(B=this.gridlocalization.percentsymbol,z="right",i.cellsformat.length>1&&(O=parseInt(i.cellsformat.substring(1),10))):O=0,n.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:O,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:a.width()-1,height:a.height()-1,spinButtons:!0,symbol:B,symbolPosition:z}),this.editors["numberinput_"+m]=n,i.createeditor&&i.createeditor(t,c,n)}if(i._requirewidthupdate&&n.jqxNumberInput({width:a.width()-2}),o){if(""!=c&&null!=c){var N=c;n.jqxNumberInput("setDecimal",N)}else n.jqxNumberInput("setDecimal",0);if(void 0!=this.editcell.defaultvalue&&n.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var L=parseInt(this.editchar);isNaN(L)||n.jqxNumberInput("setDecimal",L)}d&&setTimeout(function(){if(v(n.jqxNumberInput("numberInput")),n.jqxNumberInput("_setSelectionStart",0),r.editchar)i.cellsformat.length>0?n.jqxNumberInput("_setSelectionStart",2):n.jqxNumberInput("_setSelectionStart",1),r.editchar=null;else{if(n.jqxNumberInput("spinButtons")){e=n.jqxNumberInput("numberInput").val();r._setSelection(n.jqxNumberInput("numberInput")[0],e.length,e.length)}else{var e=n.jqxNumberInput("numberInput").val();r._setSelection(n.jqxNumberInput("numberInput")[0],0,e.length)}n.jqxNumberInput("selectAll")}},10)}}break;case"custom":l.innerHTML="",-1!=(m=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var E=this.editors["customeditor_"+m+"_"+t];if((n=void 0==E?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):E).show(),n.css("top",e(l).parent().position().top),this.oldhscroll?n.css("left",-p+parseInt(e(l).position().left)):n.css("left",parseInt(e(l).position().left)),i.pinned&&n.css("left",p+parseInt(e(l).position().left)),void 0==E){n.prependTo(this.table),n[0].id="customeditor"+this.element.id+m+"_"+t,this.editors["customeditor_"+m+"_"+t]=n;var H=a.width()-1,P=a.height()-1;n.width(H),n.height(P),i.createeditor&&i.createeditor(t,c,n,h,H,P,this.editchar)}i._requirewidthupdate&&n.width(a.width()-2);break;case"template":l.innerHTML="",-1!=(m=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var M=this.editors["templateeditor_"+m];if((n=void 0==M?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):M).show(),n.css("top",e(l).parent().position().top),this.oldhscroll?n.css("left",-p+parseInt(e(l).position().left)):n.css("left",parseInt(e(l).position().left)),i.pinned&&n.css("left",p+parseInt(e(l).position().left)),void 0==M){n.prependTo(this.table),n[0].id="templateeditor"+this.element.id+m,this.editors["templateeditor_"+m]=n;var H=a.width()-1,P=a.height()-1;n.width(H),n.height(P),i.createeditor&&i.createeditor(t,c,n,h,H,P,this.editchar)}i._requirewidthupdate&&n.width(a.width()-2);break;case"textbox":default:l.innerHTML="",(n=this.editors["textboxeditor_"+i.datafield]||e("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+i.datafield,n.appendTo(a),this.rtl&&n.css("direction","rtl"),(o||""==n[0].className)&&(n.addClass(this.toThemeProperty("jqx-input")),n.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?n.val(this.editchar):(""!=i.cellsformat&&(c=this.getcelltext(t,s)),void 0==c&&(c=""),n.val(c)),void 0!=this.editcell.defaultvalue&&n.val(this.editcell.defaultvalue),n.width(a.width()+1),n.height(a.height()+1),i.createeditor&&i.createeditor(t,c,n),""!=i.cellsformat&&(-1==i.cellsformat.indexOf("p")&&-1==i.cellsformat.indexOf("c")&&-1==i.cellsformat.indexOf("n")&&-1==i.cellsformat.indexOf("f")||this.editors["textboxeditor_"+i.datafield]||n.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,l=String.fromCharCode(t),o=parseInt(l);if(isNaN(o))return!0;if(r._selection(n).length>0)return!0;var d="",s=n.val();if(i.cellsformat.length>1){a=parseInt(i.cellsformat.substring(1));isNaN(a)&&(a=0)}else var a=0;if(a>0&&-1!=s.indexOf(r.gridlocalization.decimalseparator)&&r._selection(n).start>s.indexOf(r.gridlocalization.decimalseparator))return!0;for(var c=0;c<s.length-a;c++){var h=s.substring(c,c+1);null!=h.match(/^[0-9]+$/)&&(d+=h)}return!(d.length>=11)&&void 0}))),this.editors["textboxeditor_"+i.datafield]=n,o&&d&&setTimeout(function(){v(n),r.editchar?(r._setSelection(n[0],1,1),r.editchar=null):r._setSelection(n[0],0,n.val().length)},25)}n&&(n[0].style.zIndex=1+parseInt(l.style.zIndex),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n[0].style.zIndex=1+this.columns.records.length+l.style.zIndex),n.css("display","block"),this.editcell.editor=n,this.editcell[s]?this.editcell[s].editor=n:(this.editcell[s]={},this.editcell[s].editor=n)),o&&i.initeditor&&i.initeditor(t,c,n,h,this.editchar),r.isTouchDevice()||setTimeout(function(){r.content&&(r.content[0].scrollTop=0,r.content[0].scrollLeft=0),r.gridcontent&&(r.gridcontent[0].scrollLeft=0,r.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var l=e.createTextRange();l.collapse(!0),l.moveEnd("character",i),l.moveStart("character",t),l.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){var e=this;for(var t in this.editcells)e.editcell=e.editcells[t],e._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell)if("selectedrow"!==this.editmode){if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var t=this.editcell.editor;t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}else{for(var i=0;i<this.columns.records.length;i++){var l=this.columns.records[i];if(this.editcell[l.datafield]&&this.editcell[l.datafield].editor){this.editcell[l.datafield].editor.hide();var o=this.editcell[l.datafield].editor;switch(l.columntype){case"dropdownlist":o.jqxDropDownList({closeDelay:0}),o.jqxDropDownList("hideListBox"),o.jqxDropDownList({closeDelay:300});break;case"combobox":o.jqxComboBox({closeDelay:0}),o.jqxComboBox("hideListBox"),o.jqxComboBox({closeDelay:300});break;case"datetimeinput":o.jqxDateTimeInput("isOpened")&&(o.jqxDateTimeInput({closeDelay:0}),o.jqxDateTimeInput("hideCalendar"),o.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}},_geteditorvalue:function(t){var i=new String;if(!this.editcell)return null;l=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[t.datafield])var l=this.editcell[t.datafield].editor;if(l){switch(t.columntype){case"textbox":default:if(i=l.val(),""!=t.cellsformat){var o="string",d=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(d){var s="";e.each(d,function(){if(this.name==t.displayfield)return this.type&&(s=this.type),!1}),s&&(o=s)}var a="number"===o||"float"===o||"int"===o||"integer"===o,r="date"===o||"time"===o;if(a||"string"===o&&(-1!=t.cellsformat.indexOf("p")||-1!=t.cellsformat.indexOf("c")||-1!=t.cellsformat.indexOf("n")||-1!=t.cellsformat.indexOf("f"))){if(""===i&&t.nullable)return"";i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""));var n=i;if(n=new Number(n),!isNaN(n))return n;(i=(i=function(e,t,i){var l=e;if(t==i)return e;for(var o=l.indexOf(t);-1!=o;)o=(l=l.replace(t,i)).indexOf(t);return l}(i,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""));for(var c="",h=0;h<i.length;h++){var u=i.substring(h,h+1);"-"===u&&(c+="-"),"."===u&&(c+="."),null!=u.match(/^[0-9]+$/)&&(c+=u)}i=(i=c).replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}if(r||"string"===o&&(-1!=t.cellsformat.indexOf("H")||-1!=t.cellsformat.indexOf("m")||-1!=t.cellsformat.indexOf("M")||-1!=t.cellsformat.indexOf("y")||-1!=t.cellsformat.indexOf("h")||-1!=t.cellsformat.indexOf("d"))){if(""===i&&t.nullable)return"";var p=i;e.jqx.dataFormat&&(i=e.jqx.dataFormat.tryparsedate(p,this.gridlocalization)),"Invalid Date"!=i&&null!=i||(i="")}}t.displayfield!=t.datafield&&(i={label:i,value:i});break;case"checkbox":l.jqxCheckBox&&(i=l.jqxCheckBox("checked"));break;case"datetimeinput":if(l.jqxDateTimeInput){if(l.jqxDateTimeInput({isEditing:!1}),"none"!==l.jqxDateTimeInput("container").css("display")&&l.jqxDateTimeInput("close"),l.jqxDateTimeInput("_validateValue"),null==(i=l.jqxDateTimeInput("getDate")))return null;i=new Date(i.toString()),t.displayfield!=t.datafield&&(i={label:i,value:i})}break;case"dropdownlist":if(l.jqxDropDownList){var f=l.jqxDropDownList("selectedIndex"),v=l.jqxDropDownList("listBox").getVisibleItem(f);null==(i=t.displayfield!=t.datafield?v?{label:v.label,value:v.value}:"":v?v.label:"")&&(i="")}break;case"combobox":l.jqxComboBox&&(i=l.jqxComboBox("val"),t.displayfield!=t.datafield&&null!=(v=l.jqxComboBox("getSelectedItem"))&&(i={label:v.label,value:v.value}),null==i&&(i=""));break;case"numberinput":if(l.jqxNumberInput){this.touchdevice&&l.jqxNumberInput("_doTouchHandling");var m=l.jqxNumberInput("getDecimal");i=new Number(m),i=parseFloat(i),isNaN(i)&&(i=0),null===m&&(i=null),t.displayfield!=t.datafield&&(i={label:i,value:i})}}t.geteditorvalue&&(i="selectedrow"==this.editmode?t.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,t.datafield),l):t.geteditorvalue(this.editcell.row,this.editcell.value,l))}return i},hidevalidationpopups:function(){this.popups&&(e.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(t,i,l){if(void 0==l)var l=this.gridlocalization.validationstring;var o=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),d=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");o.html(l),d.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.prependTo(this.table),d.prependTo(this.table);for(var s=this.hScrollInstance.value,a=parseInt(s),r=this.getcolumn(i).uielement,n=null,c=0;c<this.hittestinfo.length;c++)t===this.hittestinfo[c].row.visibleindex&&(n=this.hittestinfo[c]);if(!n){this.ensurerowvisible(t);var h=this;return o.remove(),d.remove(),void setTimeout(function(){for(var e=null,o=0;o<h.hittestinfo.length;o++)t===h.hittestinfo[o].row.visibleindex&&(e=h.hittestinfo[o]);e&&h.showvalidationpopup(t,i,l)},25)}var u=e(n.visualrow);o.css("top",parseInt(u.position().top)+30+"px");var p=parseInt(o.css("top"));d.css("top",p-12),d.removeClass(),d.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var f=!1;p>=this._gettableheight()&&(d.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),d.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(p=parseInt(u.position().top)-this.rowsheight-5)<0&&(p=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),f=!0),o.css("top",p+"px"),d.css("top",p+o.outerHeight()-9));var v=-a+parseInt(e(r).position().left);d.css("left",a+v+30);var m=o.width();m+v>this.host.width()-20&&(v-=m+v-this.host.width()+40),f?o.css("left",a+parseInt(e(r).position().left)-o.outerWidth()):o.css("left",a+v),o.show(),d.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:o,validationrow:d}},_showvalidationpopup:function(t,i,l){var o=this.editcell,d=this.editcell.editor;if("selectedrow"==this.editmode&&(o=this.editcell[i])&&o.editor&&(d=o.editor,o.element=d),d&&!(this.validationpopup&&e.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===i&&void 0===l&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(l);else{var s=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");s.html(l),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation")),s.addClass(this.toThemeProperty("jqx-rc-all")),s.prependTo(this.table),a.prependTo(this.table),this.validationpopup=s,this.validationpopuparrow=a}var r=this.hScrollInstance.value,n=parseInt(r);"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(o.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(o.element).parent().position().top)+(this.rowsheight+5)+"px");var c=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",c-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var h=!1;c>=this._gettableheight()&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),c=parseInt(e(o.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(c=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(e(o.editor).position().top)-this.rowsheight-5),c<0&&(c=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=!0),this.validationpopup.css("top",c+"px"),this.validationpopuparrow.css("top",c+this.validationpopup.outerHeight()-9));var u=-n+parseInt(e(o.element).position().left);this.validationpopuparrow.css("left",n+u+30);var p=this.validationpopup.width();p+u>this.host.width()-20&&(u-=p+u-this.host.width()+40),h?this.validationpopup.css("left",n+parseInt(e(o.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",n+u),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(i,t){"cells"!=i&&"all"!=i&&"column"!=i&&(i="all");var l=this.that,s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records)),t=void 0==t?0:parseInt(t);var r=s.length;if(void 0==r&&void 0!=s){var o=new Array;e.each(s,function(e){o.push(this)}),r=(s=o).length}var a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(a);var n=[],d=[],u=[],c=[],h=l.host.width();"hidden"!=l.vScrollBar[0].style.visibility&&(h-=this.scrollbarsize+5),h<0&&(h=0);for(var m=0;m<r;m++)for(var f=s[m],p=0;p<this.columns.records.length;p++)if(!((q=this.columns.records[p]).hidden||this.groups.length>0&&p<=this.groups.length-1)){void 0==d[q.displayfield]&&(d[q.displayfield]=0),void 0==u[q.displayfield]&&(u[q.displayfield]="");var w=f[q.displayfield];if(""!=q.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(w)?w=e.jqx.dataFormat.formatdate(w,q.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(w)&&(w=e.jqx.dataFormat.formatnumber(w,q.cellsformat,this.gridlocalization)));else if(q.cellsrenderer){var v=l._defaultcellsrenderer(w,q),g=q.cellsrenderer(m,q.datafield,w,v,q.getcolumnproperties(),f);void 0!=g&&(w=e(g).text())}if((void 0==i||"cells"==i||"all"==i)&&null!=w){var n=w.toString().length,z=(b=w.toString()).replace(/[^A-Z]/g,"").length;n>d[q.displayfield]&&(d[q.displayfield]=n,u[q.displayfield]=w,c[q.displayfield]=z),n>0&&n>=z&&(_=20*z+15*(n-z))>(y=20*c[q.displayfield]+15*(d[q.displayfield]-c[q.displayfield]))&&_>0&&y>0&&(d[q.displayfield]=n,u[q.displayfield]=w,c[q.displayfield]=z)}if("column"==i||"all"==i){if(q.text.toString().length>d[q.displayfield]){u[q.displayfield]=q.text,d[q.displayfield]=q.text.length;z=(b=q.text.toString()).replace(/[^A-Z]/g,"").length;c[q.displayfield]=z}var n=(w=q.text).toString().length,b=w.toString(),z=b.replace(/[^A-Z]/g,"").length;if(n>0&&n>=z){var _=20*z+15*(n-z),y=20*c[q.displayfield]+15*(d[q.displayfield]-c[q.displayfield]);_>y&&_>0&&y>0&&(d[q.displayfield]=n,u[q.displayfield]=w,c[q.displayfield]=z)}}}if(this.columns.records){for(p=0;p<this.columns.records.length;p++)if((q=this.columns.records[p]).displayfield){void 0==u[q.displayfield]&&(u[q.displayfield]=q.text),a[0].className.indexOf("jqx-grid-column-header")>=0&&a.removeClass(this.toThemeProperty("jqx-grid-column-header")),u[q.displayfield]==q.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header")),a[0].innerHTML=u[q.displayfield].toString();var x=a.outerWidth()+10;if(a.children().length>0&&(x=a.children().outerWidth()+10),e.jqx.browser.msie&&e.jqx.browser.version<8&&(x+=10),this.filterable&&this.showfilterrow&&(x+=5),(x+=t)>q.maxwidth&&(x=q.maxwidth),void 0!=q._width&&(q.__width=q._width),q._width=null,"auto"==q.maxwidth||x<=q.maxwidth){var j=q.width;x<q.minwidth&&(x=q.minwidth),q.width=x,void 0!=q._percentagewidth&&(q._percentagewidth=null),this._raiseEvent(14,{columntext:q.text,column:q.getcolumnproperties(),datafield:q.datafield,displayfield:q.displayfield,oldwidth:j,newwidth:x})}}a.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];void 0!=q.__width&&(q._width=q.__width)}}},autoresizecolumn:function(i,t,l){if("cells"!=t&&"all"!=t&&"column"!=t&&(t="all"),void 0==i)return!1;var s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records));var r=this.getcolumn(i);if(void 0==r)return!1;l=void 0==l?0:parseInt(l);var o=s.length,a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(a);var n=0,d="",u=0,c=this.that,h=c.host.width();if("hidden"!=c.vScrollBar[0].style.visibility&&(h-=this.scrollbarsize+5),h<0&&(h=0),void 0==t||"cells"==t||"all"==t)for(var m=0;m<o;m++){var f=s[m][r.displayfield];if(""!=r.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(f)?f=e.jqx.dataFormat.formatdate(f,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(f)&&(f=e.jqx.dataFormat.formatnumber(f,r.cellsformat,this.gridlocalization)));else if(r.cellsrenderer){var p=r.cellsrenderer(m,r,f);void 0!=p&&(f=e(p).text())}if(null!=f){var w=f.toString().length,v=(g=f.toString()).replace(/[^A-Z]/g,"").length;w>n&&(n=w,d=f,u=v),w>0&&w>=v&&(z=20*v+15*(w-v))>(b=20*u+15*(n-u))&&z>0&&b>0&&(n=w,d=f,u=v)}}if("column"==t||"all"==t){r.text.toString().length>n&&(d=r.text);var w=(f=r.text.toString()).toString().length,g=f.toString(),v=g.replace(/[^A-Z]/g,"").length;if(w>0&&w>=v){var z=20*v+15*(w-v),b=20*u+15*(n-u);z>b&&z>0&&b>0&&(n=w,d=f,u=v)}}void 0==d&&(d=r.text),a[0].innerHTML=d,d==r.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header"));var _=a.outerWidth()+10;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(_+=5),this.filterable&&this.showfilterrow&&(_+=5),_+=l,a.remove(),_>r.maxwidth&&(_=r.maxwidth),"auto"==r.maxwidth||_<=r.maxwidth){var y=r.width;_<r.minwidth&&(_=r.minwidth),r.width=_,void 0!=r._width&&(r.__width=r._width),r._width=null,void 0!=r._percentagewidth&&(r._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:r.text,column:r.getcolumnproperties(),datafield:i,displayfield:r.displayfield,oldwidth:y,newwidth:_}),this._renderrows(this.virtualsizeinfo),void 0!=r._width&&(r._width=r.__width)}},_handlecolumnsresize:function(){var i=this.that;if(this.columnsresize){var t=!1;i.isTouchDevice()&&!0!==i.touchmode&&(t=!0);var l="mousemove.resize"+this.element.id,s="mousedown.resize"+this.element.id,r="mouseup.resize"+this.element.id;if(t)var l=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),l),this.addHandler(e(document),l,function(l){if(null!=e.data(document.body,"contextmenu"+i.element.id)&&i.autoshowcolumnsmenubutton)return!0;if(null!=i.resizablecolumn&&!i.disabled&&i.resizing&&null!=i.resizeline){i.resizablecolumn.columnelement;var s=i.host.coord(),r=parseInt(i.resizestartline.coord().left),o=r-i._startcolumnwidth,a=i.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var n=i.resizablecolumn.column.maxwidth;n="auto"==n?0:parseInt(n);var d=l.pageX;t&&(d=i.getTouches(l)[0].pageX),o+=a;var u=n>0?r+n:0,c=0==n||i._startcolumnwidth+d-r<n;if(i.rtl)c=!0;if(c)if(i.rtl){if(d>=s.left&&d<=s.left+i.host.width()&&(i.resizeline.css("left",d),t))return!1}else if(d>=s.left&&d>=o&&(0!=u&&l.pageX<u?i.resizeline.css("left",d):0==u&&i.resizeline.css("left",d),t))return!1}return!(!t&&null!=i.resizablecolumn)&&void 0}),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(t){if(null!=e.data(document.body,"contextmenu"+i.element.id)&&i.autoshowcolumnsmenubutton)return!0;if(null!=i.resizablecolumn&&!i.disabled){var l=i.resizablecolumn.columnelement;if(l.coord().top+l.height()+5<t.pageY)return void(i.resizablecolumn=null);if(l.coord().top-5>t.pageY)return void(i.resizablecolumn=null);if(i._startcolumnwidth=i.resizablecolumn.column.width,i.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect"),i._mouseDownResize=new Date,i.resizing=!0,i._lastmouseDownResize&&i.columnsautoresize&&i._lastmouseDownResize-i._mouseDownResize<300&&i._lastmouseDownResize-i._mouseDownResize>-500){var s=i.resizablecolumn.column;if(s.resizable){i.resizablecolumn.column.width;var r=i.hScrollBar[0].style.visibility;return i._resizecolumn=null,i.resizeline.hide(),i.resizestartline.hide(),i.resizebackground.remove(),i.resizablecolumn=null,i.columndragstarted=!1,i.dragmousedown=null,i.__drag=!1,i.autoresizecolumn(s.displayfield,"all"),r!=i.hScrollBar[0].style.visibility&&i.hScrollInstance.setPosition(0),i.rtl&&i._arrange(),i.autosavestate&&i.savestate&&i.savestate(),t.stopPropagation(),i.suspendClick=!0,setTimeout(function(){i.suspendClick=!1},100),!1}}i._lastmouseDownResize=new Date,i._resizecolumn=i.resizablecolumn.column,i.resizeline=i.resizeline||e('<div style="position: absolute;"></div>'),i.resizestartline=i.resizestartline||e('<div style="position: absolute;"></div>'),i.resizebackground=i.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),i.resizebackground.css("opacity",.01),i.resizebackground.css("cursor","col-resize"),i.resizeline.css("cursor","col-resize"),i.resizestartline.css("cursor","col-resize"),i.resizeline.addClass(i.toThemeProperty("jqx-grid-column-resizeline")),i.resizestartline.addClass(i.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(i.resizeline),e(document.body).append(i.resizestartline),e(document.body).append(i.resizebackground);var o=i.resizablecolumn.columnelement.coord();i.resizebackground.css("left",i.host.coord().left),i.resizebackground.css("top",i.host.coord().top),i.resizebackground.width(i.host.width()),i.resizebackground.height(i.host.height()),i.resizebackground.css("z-index",9999);var a=function(e){i.rtl?e.css("left",parseInt(o.left)):e.css("left",parseInt(o.left)+i._startcolumnwidth);var t=i._groupsheader()?i.groupsheader.height():0;t+=i.showtoolbar?i.toolbarheight:0,t+=i.showstatusbar?i.statusbarheight:0;var l=0;i.pageable&&(l=i.pagerheight);var s="visible"==i.hScrollBar.css("visibility")?17:0;e.css("top",parseInt(o.top)),e.css("z-index",99999),i.columngroups?e.height(i.host.height()+i.resizablecolumn.columnelement.height()-l-t-s-i.columngroupslevel*i.columnsheight):e.height(i.host.height()-l-t-s),i.enableanimations?e.show("fast"):e.show()};a(i.resizeline),a(i.resizestartline),i.dragmousedown=null}});var o=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),(i.showfilterrow||i.showstatusbar||i.showtoolbar||i.enablebrowserselection)&&(i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect")),i.resizing){if(i._mouseUpResize=new Date,i._mouseUpResize-i._mouseDownResize<200)return i.resizing=!1,void(null!=i._resizecolumn&&null!=i.resizeline&&"block"==i.resizeline.css("display")&&(i._resizecolumn=null,i.resizeline.hide(),i.resizestartline.hide(),i.resizebackground.remove()));if(i.resizing=!1,!i.disabled){var t=i.host.width();if("hidden"!=i.vScrollBar[0].style.visibility&&(t-=20),t<0&&(t=0),null!=i._resizecolumn&&null!=i.resizeline&&"block"==i.resizeline.css("display")){var l=parseInt(i.resizeline.css("left")),s=parseInt(i.resizestartline.css("left")),r=i._startcolumnwidth+l-s;if(i.rtl)r=i._startcolumnwidth-l+s;var o=i._resizecolumn.width;i._closemenu(),r<i._resizecolumn.minwidth&&(r=i._resizecolumn.minwidth),i._resizecolumn.width=r,void 0!=i._resizecolumn._percentagewidth&&(i._resizecolumn._percentagewidth=r/t*100);for(var a=0;a<i._columns.length;a++)if(i._columns[a].datafield===i._resizecolumn.datafield){i._columns[a].width=i._resizecolumn.width,i._columns[a].width<i._resizecolumn.minwidth&&(i._columns[a].width=i._resizecolumn.minwidth);break}var n=i.hScrollBar[0].style.visibility;i._updatecolumnwidths(),i._updatecellwidths(),i._raiseEvent(14,{columntext:i._resizecolumn.text,column:i._resizecolumn.getcolumnproperties(),datafield:i._resizecolumn.datafield,oldwidth:o,newwidth:r}),i._renderrows(i.virtualsizeinfo),i.autosavestate&&i.savestate&&i.savestate(),n!=i.hScrollBar[0].style.visibility&&i.hScrollInstance.setPosition(0),i.rtl&&i._arrange(),i._resizecolumn=null,i.resizeline.hide(),i.resizestartline.hide(),i.resizebackground.remove(),i.resizablecolumn=null}else i.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var n=function(e){o()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(e){}this.removeHandler(e(document),r),this.addHandler(e(document),r,function(t){if(null!=e.data(document.body,"contextmenu"+i.element.id)&&i.autoshowcolumnsmenubutton)return!0;o()})}}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxGrid.prototype,{getcolumnindex:function(e){var o=this.getcolumn(e);return this.columns.records.indexOf(o)},setcolumnindex:function(o,r,t){if(!((h=this.getcolumn(o)).pinned||h.hidden||h.checkboxcolumn||h.grouped)){var n=this.columns.records.indexOf(h);this.columns.records.splice(n,1),this.columns.records.splice(r,0,h);var s=0,i=this.headerZIndex;this.columnsrow.children().detach();var d=this.toThemeProperty("jqx-grid-cell");d+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(e(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var l=this,c=null;if(void 0!=l.filterrow)c=e(l.filterrow.children()[0]);this.columnsrow[0].cells=[];var u=!1;if(e.each(this.columns.records,function(o,r){var t=this.uielement;l.columnsrow.append(t),l.rtl?t.css("z-index",i++):t.css("z-index",i--);var n=this.width;if(t.css("left",s),l.columnsrow[0].cells[l.columnsrow[0].cells.length]=t[0],l.filterrow){var a=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+d+'"></div>');c.append(a),a.css("left",s),a.css("z-index",i+1),a.width(this.width),a[0].left=s,a.append(this._filterwidget),l.filterrow[0].cells[l.filterrow[0].cells.length]=a[0]}this.hidden&&(u=!0),this.hidden&&this.hideable||(s+=n)}),this.groupable){var a=this.groups.length;a>0&&n-a>=0&&(n-=a,r-=a)}this.rowdetails&&n-1>=0&&(n--,r--),"checkbox"==this.selectionmode&&n-1>=0&&(n--,r--);var h=this._columns[n];this._columns.splice(n,1),this._columns.splice(r,0,h),this._raiseEvent(24,{columntext:h.text,datafield:h.datafield,oldindex:n,newindex:r}),0!=t&&(u||"checkbox"==h.columntype?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var o=0;return e.each(this.columns.records,function(){this.pinned&&o++,this.grouped&&o++}),"checkbox"==this.selectionmode&&o++,o},_handlecolumnsreorder:function(){var o=this,r=-1,t=!1;if(o.columnsreorder){var n="mousemove.reorder"+this.element.id,s="mousedown.reorder"+this.element.id,i="mouseup.reorder"+this.element.id,d=!1;this.isTouchDevice()&&!0!==this.touchmode&&(d=!0,n=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,i=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),n),this.addHandler(e(document),n,function(e){if(o.resizing)return!0;if(null!=o.reordercolumn){var n=parseInt(e.pageX),s=parseInt(e.pageY);if(d){var i=o.getTouches(e)[0];void 0!=i&&(n=parseInt(i.pageX),s=parseInt(i.pageY))}var l=o.host.coord(),c=parseInt(l.left),u=parseInt(l.top);void 0!=o.dragmousedownoffset&&null!=o.dragmousedownoffset||(o.dragmousedownoffset={left:0,top:0});var a=parseInt(n)-parseInt(o.dragmousedownoffset.left),h=parseInt(s)-parseInt(o.dragmousedownoffset.top);if(o.reordercolumn.css({left:a+"px",top:h+"px"}),t=!1,n>=c&&n<=c+o.host.width()&&s>=u&&s<=u+o.host.height()&&(t=!0),r=-1,t){o.reordercolumnicon.removeClass(o.toThemeProperty("jqx-grid-dragcancel-icon")),o.reordercolumnicon.addClass(o.toThemeProperty("jqx-grid-drag-icon"));var m=o.columnsheader.coord(),p=m.top+o.columnsheader.height();null!=o.columnsdropline&&(s>=m.top&&s<=p?r=o._handlereordercolumnsdroplines(n):o.columnsdropline.fadeOut("slow"))}else null!=o.columnsdropline&&o.columnsdropline.fadeOut("slow"),o.reordercolumnicon.removeClass(o.toThemeProperty("jqx-grid-drag-icon")),o.reordercolumnicon.addClass(o.toThemeProperty("jqx-grid-dragcancel-icon"));if(d)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),s),this.addHandler(e(document),s,function(r){if(o.resizing)return!0;o.columnsbounds=new Array;var t=o.host.coord().left,n=o.host.coord().top;o.showtoolbar&&(n+=o.toolbarheight),o.groupable&&o.showgroupsheader&&(n+=o.groupsheaderheight);var s=0;e.each(o.columns.records,function(r){var i=this;if(i.hidden)return o.columnsbounds[o.columnsbounds.length]={top:n,column:i,left:t,width:0,height:2+o.rowsheight},!0;0==s&&(t=o.rtl?"hidden"!=o.hScrollBar.css("visibility")?parseInt(o.host.coord().left)-o.hScrollInstance.max+o.hScrollInstance.value:"hidden"==o.vScrollBar.css("visibility")?e(i.element).coord().left:e(i.element).coord().left-o.vScrollBar.width()-o.host.offset().left:parseInt(o.host.coord().left)-o.hScrollInstance.value),s++;var d=2+o.columnsheight;o.columnshierarchy&&(n=e(i.uielement).coord().top,d=e(i.uielement).height()),o.columnsbounds[o.columnsbounds.length]={top:n,column:i,left:t,width:i.width,height:d},t+=i.width})}),this.removeHandler(e(document),i),this.addHandler(e(document),i,function(n){if(o.resizing)return!0;o.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(n.pageX),parseInt(n.pageY);if(d){var s=o.getTouches(n)[0];parseInt(s.pageX),parseInt(s.pageY)}var i=o.host.coord();parseInt(i.left),parseInt(i.top),o.groupsheader.height();if(o.showtoolbar&&o.toolbarheight,o.columndragstarted=!1,o.dragmousedown=null,null!=o.reordercolumn){var l=e.data(o.reordercolumn[0],"reorderrecord"),c=o.columns.records.indexOf(o.getcolumn(l));o.reordercolumn.remove(),o.reordercolumn=null;var u=0;if(u+=o._pinnedColumnsLength(),null!=l){if(t&&-1!=r){var a=r.index;if(a>=u){var h=o.columns.records[a];if(void 0!=h){m=o.columns.records.indexOf(o.getcolumn(h.datafield));if(null==h.datafield)var m=o.columns.records.indexOf(o.getcolumnbytext(h.text));if(o.columngroups){var p=h;if(c<m&&"before"==r.position&&(p=o.columns.records[m-1]),p.columngroup!=o.getcolumn(l).columngroup)return void(null!=o.columnsdropline&&(o.columnsdropline.remove(),o.columnsdropline=null))}c<m?"before"==r.position?o.setcolumnindex(l,m-1):o.setcolumnindex(l,m):c>m&&o.setcolumnindex(l,m),o.autosavestate&&o.savestate&&o.savestate()}}}null!=o.columnsdropline&&(o.columnsdropline.remove(),o.columnsdropline=null)}}})}},getcolumnbytext:function(o){var r=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.text==o)return r=this,!1}),r},_handlereordercolumnsdroplines:function(o){var r=this,t=-1,n=r._pinnedColumnsLength(),s=parseInt(r.host.coord().left)+r.host.width(),i="hidden"!=r.vScrollBar.css("visibility")?19:0;return r.rtl||(i=0),e.each(r.columnsbounds,function(e){if(e>=n){if(0==this.width)return!0;if(o<=this.left+this.width/2)return o>s?(r.columnsdropline.fadeOut(),!1):(r.columnsdropline.css("left",i+parseInt(this.left)+"px"),r.columnsdropline.css("top",parseInt(this.top)+"px"),r.columnsdropline.height(this.height),r.columnsdropline.fadeIn("slow"),t={index:e,position:"before"},!1);if(o>=this.left+this.width/2){if(this.left+this.width>s)return r.columnsdropline.fadeOut(),!1;r.columnsdropline.css("left",i+1+this.left+this.width),r.columnsdropline.css("top",this.top),r.columnsdropline.height(this.height),r.columnsdropline.fadeIn("slow"),t={index:e,position:"after"}}}}),t},_createreordercolumn:function(o,r,t){var n=this,s=r;n.reordercolumn&&n.reordercolumn.remove(),n.columnsdropline&&n.columnsdropline.remove(),n.reordercolumn=e("<div></div>");var i=o.clone();n.reordercolumn.css("z-index",999999),i.css("border-width","1px"),i.css("opacity","0.4");var d=e(i.find("."+n.toThemeProperty("jqx-grid-column-menubutton")));d.length>0&&d.css("display","none");var l=e(i.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),n.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),n.reordercolumnicon.addClass(n.toThemeProperty("jqx-grid-drag-icon")),n.reordercolumn.css("float","left"),n.reordercolumn.css("position","absolute");n.host.coord();i.width(o.width()+16),n.reordercolumn.append(i),n.reordercolumn.height(o.height()),n.reordercolumn.width(i.width()),n.reordercolumn.append(n.reordercolumnicon),e(document.body).append(n.reordercolumn),i.css("margin-left",0),i.css("left",0),i.css("top",0),n.reordercolumn.css("left",s.left+n.dragmousedown.left),n.reordercolumn.css("top",s.top+n.dragmousedown.top),void 0!=t&&t&&(n.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),n.columnsdropline.width(2),n.columnsdropline.addClass(n.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(n.columnsdropline))},_handlecolumnsdragreorder:function(o,r){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var t=this,n=!1;this.isTouchDevice()&&!0!==this.touchmode&&(n=!0);var s="mousedown.drag",i="mousemove.drag";n?(s=e.jqx.mobile.getTouchEventName("touchstart")+".drag",i=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(r,"dragstart",function(e){return!1}),this.addHandler(r,s,function(r){if(0==o.draggable)return!0;if(t.resizing)return!0;t.__drag=!0;var s=r.pageX,i=r.pageY;if(n){var d=t.getTouches(r)[0];s=d.pageX,i=d.pageY}t.dragmousedown={left:s,top:i};var l=e(r.target).coord();return t.dragmousedownoffset={left:parseInt(s)-parseInt(l.left),top:parseInt(i-l.top)},!0}),this.addHandler(r,i,function(s){if(!o.draggable)return!0;if(void 0==o.datafield)return!0;if(o.pinned)return!0;if(t.resizing)return!0;if(t.dragmousedown){var d=s.pageX,l=s.pageY;if(n){var c=t.getTouches(s)[0];void 0!=c&&(d=c.pageX,l=c.pageY)}if(i={left:d,top:l},!t.columndragstarted&&null==t.reordercolumn){var u=Math.abs(i.left-t.dragmousedown.left),a=Math.abs(i.top-t.dragmousedown.top);(u>3||a>3)&&(t._createreordercolumn(r,i,!0),e(document.body).addClass("jqx-disableselect"),e.data(t.reordercolumn[0],"reorderrecord",o.datafield))}}})}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;i<e;i++){var l=t[i];if(l){var s=this.getboundindex(l);void 0!=s&&(this.selectedrowindexes[i]=s)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===i?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1!==e?(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})):this._trigger=!0},getselectedrowindex:function(){if(-1==this.selectedrowindex||void 0==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var l=t[i],s=0;s<this.columns.records.length;s++)if("_checkboxcolumn"!==this.columns.records[s].datafield){this.columns.records[s].datafield;var o={rowindex:l,datafield:this.columns.records[s].datafield};e.push(o)}return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var l=t[i],s=e.getcolumn(l.datafield),o=e.getcellvalue(l.rowindex,l.datafield);if(s&&""!==o){var r=null;"checkbox"==s.columntype&&(s.threestatecheckbox||(r=!1)),e._raiseEvent(17,{rowindex:l.rowindex,datafield:l.datafield,value:o}),i==t.length-1?(e.setcellvalue(l.rowindex,l.datafield,r,!0),s.displayfield!=s.datafield&&e.setcellvalue(l.rowindex,s.displayfield,r,!0)):(e.setcellvalue(l.rowindex,l.datafield,r,!1),s.displayfield!=s.datafield&&e.setcellvalue(l.rowindex,s.displayfield,r,!0)),e._raiseEvent(18,{rowindex:l.rowindex,datafield:l.datafield,oldvalue:o,value:r})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var l=i.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(l=this._getcellsforcopypaste());var s=new Array;if(null!=l&&l.length>0){for(var o=999999999999999,r=-1,a=0;a<l.length;a++){var d=l[a],n=i.getcolumn(d.datafield);if(null!=n&&n.clipboard&&(!n.hidden||this.copytoclipboardhiddencolumns)){-1==s.indexOf(n.text)&&s.push(n.text);var c=i.getcelltext(d.rowindex,n.displayfield),h=this.getrowdisplayindex(d.rowindex);this.clipboardselection[h]||(this.clipboardselection[h]={}),this.clipboardselection[h][n.displayfield]=c,this.logicalclipboardselection[h]||(this.logicalclipboardselection[h]={}),this.logicalclipboardselection[h][n.displayfield]=c,n.displayfield!=n.datafield&&(this.logicalclipboardselection[h][n.datafield]=i.getcellvalue(d.rowindex,n.datafield)),o=Math.min(o,h),r=Math.max(r,h)}}for(var u=new Array,f=o;f<=r;f++)if(this.logicalclipboardselection[f]){var v=e.extend({},this.logicalclipboardselection[f]);u.push(v)}if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var p=0;p<s.length;p++)p>0&&(t+="\t"),t+=s[p];t+="\r\n"}for(f=o;f<=r;f++){var g=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[f]&&(e.each(this.clipboardselection[f],function(e,l){g>0&&(t+="\t");var s=l;null==l&&(s=""),i._clipboardselection[i._clipboardselection.length-1][g]=s,g++,t+=s}),f<r&&(t+="\r\n"))}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),l=e[0].datafield,s=this._getcolumnindex(l);this.selectedrowindexes=new Array,this.selectedcells=new Array;e.length;var o=0,r=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(d=0;d<this._clipboardselection.length;d++){o+=this._clipboardselection[d].length,r[d]=new Array;for(h=0;h<this._clipboardselection[d].length;h++){m=this._clipboardselection[d][h];r[d].push(m)}}if(o<e.length){for(var a=new Array,d=0;d<e.length;d++)a[(x=e[d]).rowindex]||(a[x.rowindex]=new Array),a[x.rowindex].push(x);for(var n=0,c=0,d=0;d<a.length;d++)if(a[d]){for(var h=0;h<a[d].length;h++){w=(x=a[d][h]).rowindex;if("_checkboxcolumn"!==(g=this.getcolumn(x.datafield)).datafield&&!g.hidden){m="";if(void 0==r[n][c]&&(c=0),m=r[n][c],c++,g.cellsformat&&(-1!=g.cellsformat.indexOf("p")||-1!=g.cellsformat.indexOf("c")||-1!=g.cellsformat.indexOf("n")||-1!=g.cellsformat.indexOf("f"))){m.indexOf(this.gridlocalization.currencysymbol)>-1&&(m=m.replace(this.gridlocalization.currencysymbol,"")),(m=(m=(b=function(e,t,i){var l=e;if(t==i)return e;for(var s=l.indexOf(t);-1!=s;)s=(l=l.replace(t,i)).indexOf(t);return l})(m,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(m=m.replace(this.gridlocalization.percentsymbol,""));for(var u="",f=0;f<m.length;f++)"-"===(_=m.substring(f,f+1))&&(u+="-"),"."===_&&(u+="."),null!=_.match(/^[0-9]+$/)&&(u+=_);m=(m=u).replace(/ /g,""),m=new Number(m),isNaN(m)&&(m="")}this._raiseEvent(17,{rowindex:w,datafield:x.datafield,value:m}),this.setcellvalue(w,g.displayfield,m,!1),g.displayfield!=g.datafield&&this.logicalclipboardselection&&this.logicalclipboardselection[w]&&void 0!=(y=this.logicalclipboardselection[w][g.datafield])&&this.setcellvalue(w,g.datafield,y,!1),this._raiseEvent(18,{rowindex:w,datafield:x.datafield,oldvalue:this.getcellvalue(x.rowindex,x.datafield),value:m}),this._applycellselection(w,x.datafield,!0,!1)}}c=0,r[++n]||(n=0)}}else{if(!this._clipboardselection)return;for(var v=0;v<this._clipboardselection.length;v++)for(var p=0;p<this._clipboardselection[v].length;p++){var g=this.getcolumnat(s+p);if(g&&("_checkboxcolumn"!==g.datafield&&!g.hidden)){var w=this.getrowboundindex(i+v),x=this.getcell(w,g.datafield),m=null;if(null!=(m=this._clipboardselection[v][p])){if(g.cellsformat&&(-1!=g.cellsformat.indexOf("p")||-1!=g.cellsformat.indexOf("c")||-1!=g.cellsformat.indexOf("n")||-1!=g.cellsformat.indexOf("f"))){m.indexOf(this.gridlocalization.currencysymbol)>-1&&(m=m.replace(this.gridlocalization.currencysymbol,""));var b=function(e,t,i){var l=e;if(t==i)return e;for(var s=l.indexOf(t);-1!=s;)s=(l=l.replace(t,i)).indexOf(t);return l};(m=(m=b(m,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(m=m.replace(this.gridlocalization.percentsymbol,""));for(var u="",f=0;f<m.length;f++){var _=m.substring(f,f+1);"-"===_&&(u+="-"),"."===_&&(u+="."),null!=_.match(/^[0-9]+$/)&&(u+=_)}m=(m=u).replace(/ /g,""),m=new Number(m),isNaN(m)&&(m="")}if(this._raiseEvent(17,{rowindex:w,datafield:x.datafield,value:m}),this.setcellvalue(w,g.displayfield,m,!1),g.displayfield!=g.datafield&&this.logicalclipboardselection){var y=this.logicalclipboardselection[v][g.datafield];void 0!=y&&this.setcellvalue(w,g.datafield,y,!1)}this._raiseEvent(18,{rowindex:w,datafield:x.datafield,oldvalue:this.getcellvalue(x.rowindex,x.datafield),value:m}),this._applycellselection(w,x.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,l,s){if(null==e)return!1;var o=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:o}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==l&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var r=this.getrowdata(e);r&&void 0!==r.dataindex?e=r.dataindex:r&&void 0===r.dataindex&&void 0!=r.uid&&(e=this.getrowboundindexbyid(r.uid))}var a=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==a?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(a>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var d=this.selectedrowindexes[a];this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:d,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(void 0==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,l){if(null==e)return!1;if(null==t)return!1;this.selectedrowindex;if("singlecell"==this.selectionmode&&(null!=(s=this.selectedcell)&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield}),this.selectedcells=new Array),"multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield})}r=e+"_"+t;if(this.dataview.filters.length>0){var o=this.getrowdata(e);if(o&&void 0!==o.dataindex)r=(e=o.dataindex)+"_"+t;else if(o&&void 0===o.dataindex&&o.uid)var r=(e=this.getrowboundindexbyid(o.uid))+"_"+t}var a={rowindex:e,datafield:t};return i?(this.selectedcell=a,this.selectedcells[r]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[r],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)):(this.selectedcells[r]=a,this.selectedcells.length++,this._raiseEvent(15,a))):(delete this.selectedcells[r],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)),(void 0==l||l)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){if(i++,this[t])return!1}),i},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,l=this.toTP("jqx-grid-cell-selected"),s=this.toTP("jqx-fill-state-pressed"),o=this.toTP("jqx-grid-cell-hover"),r=this.toTP("jqx-fill-state-hover"),a=0;a<t;a++)for(var d=i[a],n=d.cells.length,c=d.cells,h=0;h<n;h++){var u=c[h],f=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(f.removeClass(l),f.removeClass(s)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(f.removeClass(o),f.removeClass(r))}},_selectpath:function(e,t){var i=this,l=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(l<=s){var o=this._getcolumnindex(this._lastClickedCell.column),r=this._getcolumnindex(t),a=Math.min(o,r),d=Math.max(o,r);this.selectedcells=new Array;for(var n=this.dataview.loadedrecords,c=l;c<=s;c++)for(var h=a;h<=d;h++){var e=n[c];this._applycellselection(i.getboundindex(e),i._getcolumnat(h).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,l=this.dataview.loadedrecords;if(t<=i){this.selectedrowindexes=new Array;for(var s=t;s<=i;s++){var e=l[s],o=this.getrowboundindex(s);this._applyrowselection(o,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,l,s,o){var r=t.row;if(void 0!=r){var a=t.index;if(void 0!=this.hittestinfo[a]){var d=this.hittestinfo[a].visualrow;if(!this.hittestinfo[a].details){d.cells[0].className;if(!r.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==o||1==s)){c=this.getboundindex(r);if(this.dataview.filters.length>0){var n=this.getrowdata(c);if(n&&void 0==(c=n.dataindex))var c=this.getboundindex(r)}var h=-1!=i.indexOf(c),u=this.getboundindex(r)+"_"+l;if(-1!=this.selectionmode.indexOf("cell")){var f=void 0!=this.selectedcells[u];if(void 0!=this.selectedcells[u]&&f?this._selectcellwithstyle(e,!1,a,l,d):this._selectcellwithstyle(e,!0,a,l,d),o&&void 0==this._lastClickedCell){var v=this.getselectedcells();v&&v.length>0&&(this._lastClickedCell={row:v[0].rowindex,column:v[0].datafield})}o&&this._lastClickedCell&&(this._selectpath(r.visibleindex,l),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(h?s?this._applyrowselection(this.getboundindex(r),!1):this._selectrowwithstyle(e,d,!1,l):this._selectrowwithstyle(e,d,!0,l),o&&void 0==this._lastClickedCell){var p=this.getselectedrowindexes();p&&p.length>0&&(this._lastClickedCell={row:p[0],column:l})}if(o&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var g=this._lastClickedCell?Math.min(this._lastClickedCell.row,r.visibleindex):0,w=this._lastClickedCell?Math.max(this._lastClickedCell.row,r.visibleindex):0,x=this.dataview.loadedrecords,m=g;m<=w;m++)(r=x[m])&&this._applyrowselection(this.getboundindex(r),!0,!1,!1);this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,d,!0,l),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,a,l,d);o||(this._lastClickedCell={row:r.visibleindex,column:l})}}}}},_selectcellwithstyle:function(t,i,l,s,o){var r=e(o.cells[t._getcolumnindex(s)]);r.removeClass(this.toTP("jqx-grid-cell-hover")),r.removeClass(this.toTP("jqx-fill-state-hover")),i?(r.addClass(this.toTP("jqx-grid-cell-selected")),r.addClass(this.toTP("jqx-fill-state-pressed"))):(r.removeClass(this.toTP("jqx-grid-cell-selected")),r.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,l,s){var o=i.cells.length,r=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(o-=1,o-=this.groups.length):r=1+this.groups.length:this.groupable&&(this.rtl?o-=this.groups.length:r=this.groups.length);for(var a=r;a<o;a++){var d=i.cells[a];l?(e(d).removeClass(this.toTP("jqx-grid-cell-hover")),e(d).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(d).addClass(this.toTP("jqx-grid-cell-selected")),e(d).addClass(this.toTP("jqx-fill-state-pressed")))):(e(d).removeClass(this.toTP("jqx-grid-cell-hover")),e(d).removeClass(this.toTP("jqx-grid-cell-selected")),e(d).removeClass(this.toTP("jqx-fill-state-hover")),e(d).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins&&!1===i.multipleselectionbegins(t))return!0;var l=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;s+=this.showtoolbar?this.toolbar.height():0;var o=this.host.coord();if(this.hasTransform){o=e.jqx.utilities.getOffset(this.host);var r=this._getBodyOffset();o.left-=r.left,o.top-=r.top}"0px"===this.host.css("border-top-width")&&(s-=2);var a=t.pageX,d=t.pageY-s;if(Math.abs(this.mousecaptureposition.left-a)>3||Math.abs(this.mousecaptureposition.top-d)>3){parseInt(this.columnsheader.coord().top);this.hasTransform&&e.jqx.utilities.getOffset(this.columnsheader).top,a<o.left&&(a=o.left),a>o.left+this.host.width()&&(a=o.left+this.host.width());var n=o.top+l;d<n&&(d=n+5);var c=parseInt(Math.min(i.mousecaptureposition.left,a)),h=-5+parseInt(Math.min(i.mousecaptureposition.top,d)),u=parseFloat(Math.abs(i.mousecaptureposition.left-a)),f=parseInt(Math.abs(i.mousecaptureposition.top-d));if(c-=o.left,h-=o.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var v=(a=c)+u,p=i.hScrollInstance,g=p.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(g=p.max-p.value),this.vScrollBar[0].style.visibility);var w=i.table[0].rows[0],x=0,m=i.mousecaptureposition.clickedcell,b=m,_=!1,y=0,k=w.cells.length;i.mousecaptureposition.left<=t.pageX&&(y=m);for(var C=!1,q=y;q<k;q++){var j=parseFloat(e(this.columnsrow[0].cells[q]).css("left")),O=j-g;if(!i.columns.records[q].pinned||i.columns.records[q].hidden){if(C){_=!0,b--;break}var T=this._getcolumnat(q);if(!(null!=T&&T.hidden||i.groupable&&i.groups.length>0&&q<i.groups.length)){A=O+e(this.columnsrow[0].cells[q]).width();if(i.mousecaptureposition.left>t.pageX){if(A>=a&&a>=O){b=q,_=!0;break}}else if(A>=v&&v>=O){b=q,_=!0;break}}}else{q==m&&(C=!0);var A=j+e(this.columnsrow[0].cells[q]).width();if(i.mousecaptureposition.left>t.pageX){if(A>=a&&a>=O){b=q,_=!0;break}}else if(A>=v&&v>=O){b=q,_=!0;break}}}_||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e,t){return!!(i.groupable&&i.groups.length>0&&e<i.groups.length)||(this.pinned||this.hidden?void 0:(b=e,!1))}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(b=w.cells.length-1));var S=m;m=Math.min(m,b),b=Math.max(S,b),h+=5,h+=s;i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow);for(var E=0,P=-1,I=-1,M=0,q=0;q<i.table[0].rows.length;q++){var K=e(i.table[0].rows[q]);0==q&&(M=K.coord().top);var z=K.height(),N=M-o.top;if(-1==P&&N+z>=h){for(var B=!1,F=0;F<i.groups.length;F++)if(-1!=(X=K[0].cells[F].className).indexOf("jqx-grid-group-collapse")||-1!=X.indexOf("jqx-grid-group-expand")){B=!0;break}if(B)continue;P=q}if(M+=z,i.groupable&&i.groups.length>0){for(var B=!1,F=0;F<i.groups.length;F++){var X=K[0].cells[F].className;if(-1!=X.indexOf("jqx-grid-group-collapse")||-1!=X.indexOf("jqx-grid-group-expand")){B=!0;break}}if(B)continue;for(var x=0,D=i.groups.length;D<K[0].cells.length;D++){var Y=K[0].cells[D];""==e(Y).html()&&x++}if(x==K[0].cells.length-i.groups.length)continue}if(-1!=P&&(E+=z),N+z>h+f){I=q;break}}if(-1!=P){h=e(i.table[0].rows[P]).coord().top-o.top-s-2;var $=0;this.filterable&&this.showfilterrow&&($=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&h<this.rowsheight+$&&(h-=parseFloat(i.table[0].style.top),E+=parseFloat(i.table[0].style.top)),f=E;var G=e(this.columnsrow[0].cells[m]),L=e(this.columnsrow[0].cells[b]);if(c=parseFloat(G.css("left")),u=parseFloat(L.css("left"))-parseFloat(c)+L.width()-2,c-=g,C&&(c+=g),i.editcell&&i.editable&&i.endcelledit&&(m!=b||P!=I)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(u),this.selectionarea.height(f),this.selectionarea.css("left",c),this.selectionarea.css("top",h)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var l=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(s-=2),s+=this.showtoolbar?this.toolbar.height():0;var o=this.selectionarea.coord(),r=this.host.coord();this.hasTransform&&(r=e.jqx.utilities.getOffset(this.host),o=e.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(s-=2);var a=o.left-r.left,d=o.top-l-r.top-s,n=d,c=a+this.selectionarea.width(),h=a,u=new Array,f=new Array;if("multiplerowsextended"==i.selectionmode){for(;d<n+this.selectionarea.height();){b=(m=this._hittestrow(a,d)).row;-1!=(_=m.index)&&(f[_]||(f[_]=!0,u[u.length]=m)),d+=20}n=0;e.each(u,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==n?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),n++)})}else{"multiplecellsadvanced"==i.selectionmode&&(d+=2);var v=i.hScrollInstance,p=v.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(p=v.max-v.value),"hidden"!=this.vScrollBar[0].style.visibility&&(p-=this.scrollbarsize+4));var g=i.table[0].rows[0],w=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&w>0&&(i.selectedcells=new Array);for(var x=w;d<n+x;){var m=i._hittestrow(a,d);if(m){var b=m.row,_=m.index;if(-1!=_&&!f[_]){f[_]=!0;for(var y=0;y<g.cells.length;y++){var k=parseFloat(e(i.columnsrow[0].cells[y]).css("left"))-p,C=k+e(i.columnsrow[0].cells[y]).width();(h>=k&&h<=C||c>=k&&c<=C||k>=h&&k<=c)&&i._applycellselection(i.getboundindex(b),i._getcolumnat(y).datafield,!0,!1)}}d+=5}else d+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),l=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=l&&(this.clearselection(),this.selectcell(e,l.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),l=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=l&&(this.clearselection(),this.selectcell(e,l.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;e>=0;e--){var t=this.columns.records[e];if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length,i.disabled)return!1;var l=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(l>=33&&l<=40))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(void 0!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(i.filterrow))return!0;if(i.showeverpresentrow){if(i.addnewrowtop&&e(t.target).ischildof(i.addnewrowtop))return!0;if(i.addnewrowbottom&&e(t.target).ischildof(i.addnewrowbottom))return!0}if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var s=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var o=String.fromCharCode(l).toLowerCase();if(this.clipboardbegin){var r=null;if("c"==o?r=this.clipboardbegin("copy",this.copyselection()):"x"==o?r=this.clipboardbegin("cut",this.copyselection()):"v"==o&&(r=this.clipboardbegin("paste")),!1===r)return!1}if("c"==o||"x"==o){var a=this.copyselection();if("c"==o&&this.clipboardend&&this.clipboardend("copy"),"x"==o&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",a);else{var d=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');d.val(a),e("body").append(d),d.select(),setTimeout(function(){document.designMode="off",d.select(),d.remove(),i.focus()},100)}if("c"==o&&e.jqx.browser.msie)return!1;if("c"==o)return!0}else if("v"==o){var n=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(n),n.select();var c=this;return setTimeout(function(){if(c._clipboardselection=new Array,0==(e=n.val()).length&&window.clipboardData){n.val(window.clipboardData.getData("Text"));var e=n.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("\t").length>0){var l=t[i].split("\t");if(1==l.length&&i==t.length-1&&""==l[0])continue;l.length>0&&c._clipboardselection.push(l)}c.pasteselection(),n.remove(),c.focus()},100),!0}if("x"==o)return this.deleteselection(),this.host.focus(),!1}var h=Math.round(i._gettableheight()),u=Math.round(h/i.rowsheight),f=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var v=i.getselectedcell();if(null!=v){var p=this.getrowvisibleindex(v.rowindex),g=v.datafield,w=i._getcolumnindex(g),x=(i.columns.records.length,function(e,l,o,r){var a=function(e,t){a=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){var l=e;"up"==r&&l++,"down"==r&&l--;for(var a=i.getdisplayrows()[l],d=1,n=!0;n&&d<300&&(n=!1,"down"==r?a=i.getdisplayrows()[l+d]:"up"==r&&(a=i.getdisplayrows()[l-d]),a);){a&&a.group&&(n=!0);for(var c=a.parentItem;c;)c&&!function(e){return!!e.group&&(i.expandedgroups[e.uniqueid]?i.expandedgroups[e.uniqueid].expanded:void 0)}(c)&&(n=!0),c=c.parentItem;if(!n)break;d++}if(300==d&&(a=null),i.pageable){var h=!1;if(a){for(var u=0;u<i.dataview.rows.length;u++)i.dataview.rows[u].boundindex==a.boundindex&&(h=!0);h||(a=null)}}}if(void 0!=a&&null!=t){(o||void 0==o)&&i.clearselection();var f=i.getboundindex(a);return i.selectcell(f,t),i._oldselectedcell=i.selectedcell,s=!0,i.ensurecellvisible(e,t),!0}return!1};if(a(e,l)||(i.ensurecellvisible(e,l),a(e,l),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=t.keyCode){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,l);var d=i.dataview.loadedrecords[e],n=i.getboundindex(d);return void(i.selectedcell={rowindex:n,datafield:l})}}else t.shiftKey||(i._lastClickedCell={row:e,column:l})}),m=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,b=function(){x(0,g,!m)},_=function(){var e=f.rowscount-1;x(e,g,!m)},y=9==l&&!t.shiftKey,k=9==l&&t.shiftKey;if(i.rtl){var C=y;y=k,k=C}if((y||k)&&(m=!1),(y||k)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;if((E=t.ctrlKey||t.metaKey)&&37==l)null!=(T=i._getfirstvisiblecolumn(w))&&x(p,T.datafield);else if(E&&39==l){var q=i._getlastvisiblecolumn(w);null!=q&&x(p,q.datafield)}else if(39==l||y){var j=i._getnextvisiblecolumn(w);if(null!=j)x(p,j.datafield,!m);else if(y){var O=i._getfirstvisiblecolumn();l=40,g=O.displayfield}else s=!0}else if(37==l||k){var T=i._getprevvisiblecolumn(w);if(null!=T)x(p,T.datafield,!m);else if(k){var A=i._getlastvisiblecolumn();l=38,g=A.displayfield}else s=!0}else 36==l?b():35==l?_():33==l?p-u>=0?x(P=p-u,g,!m):b():34==l&&(f.rowscount>p+u?x(P=p+u,g,!m):_());38==l&&(E?b():p>0?x(p-1,g,!m,"up"):s=!0),40==l&&(E?_():f.rowscount>p+1||i.groupable&&i.groups.length>0?x(p+1,g,!m,"down"):s=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(p=i.getselectedrowindex())||-1==p)return!0;p=this.getrowvisibleindex(p);var S=function(e,o,r){var a=function(e){t=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){"up"==r&&e++,"down"==r&&e--;for(var t=i.getdisplayrows()[e],l=1,a=!0;a&&l<300&&(a=!1,"down"==r?t=i.getdisplayrows()[e+l]:"up"==r&&(t=i.getdisplayrows()[e-l]),t);){t&&t.group&&(a=!0);for(var d=t.parentItem;d;)d&&!function(e){return!!e.group&&(i.expandedgroups[e.uniqueid]?i.expandedgroups[e.uniqueid].expanded:void 0)}(d)&&(a=!0),d=d.parentItem;if(!a)break;l++}if(300==l&&(t=null),i.pageable){var n=!1;if(t){for(var c=0;c<i.dataview.rows.length;c++)i.dataview.rows[c].boundindex==t.boundindex&&(n=!0);n||(t=null)}}}if(void 0!=t){var h=i.getboundindex(t),u=i.selectedrowindex;return(o||void 0==o)&&i.clearselection(),i.selectedrowindex=u,i.selectrow(h,!1),(!i.ensurerowvisible(e)||i.autoheight||i.groupable)&&i._rendervisualrows(),s=!0,!0}return!1};if(a(e)||(i.ensurerowvisible(e),a(e),i.virtualmode&&setTimeout(function(){a(e)},25),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=l){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},m=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,b=function(){S(0,!m)},_=function(){var e=f.rowscount-1;S(e,!m)},E=t.ctrlKey||t.metaKey;if(36==l||E&&38==l)b();else if(35==l||E&&40==l)_();else if(33==l)p-u>=0?S(P=p-u,!m):b();else if(34==l)if(f.rowscount>p+u){var P=p+u;S(P,!m)}else _();else 38==l?p>0?S(p-1,!m,"up"):s=!0:40==l&&(f.rowscount>p+1||i.groupable&&i.groups.length>0?S(p+1,!m,"down"):s=!0)}return!s||(i.autosavestate&&i.savestate&&i.savestate(),!1)},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var l,s,o,r,a;if(i.enablehover||"multiplerows"==i.selectionmode){if(l=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0,s+=this.showtoolbar?this.toolbarheight:0,o=this.host.coord(),this.hasTransform){o=e.jqx.utilities.getOffset(this.host);var d=this._getBodyOffset();o.left-=d.left,o.top-=d.top}r=t.pageX-o.left,a=t.pageY-l-o.top-s}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var n=this._hittestrow(r,a);if(n){var c=n.row,h=n.index;if((-1==this.hoveredrow||-1==h||this.hoveredrow!=h||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=h&&void 0!=c)){var u=this.hittestinfo[h].visualrow;if(null!=u&&!(this.hittestinfo[h].details||t.clientX>e(u).width()+e(u).coord().left)){var f=0,v=u.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(v-=1,v-=this.groups.length):f=1+this.groups.length:this.groupable&&(this.rtl?v-=this.groups.length:f=this.groups.length),0!=u.cells.length){var p=u.cells[f].className;if(!(c.group||this.selectionmode.indexOf("row")>=0&&-1!=p.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=h,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(m=f;m<v;m++){_=u.cells[m];e(_).addClass(this.toTP("jqx-grid-cell-hover")),e(_).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(_,t.pageX,t.pageY)}else{var g=-1,w=this.hScrollInstance,x=w.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(x=w.max-w.value);for(var m=f;m<v;m++){var b=parseInt(e(this.columnsrow[0].cells[m]).css("left"))-x;if(this.columns.records[m].pinned&&!this.rtl&&(b=parseInt(e(this.columnsrow[0].cells[m]).css("left"))),b+e(this.columnsrow[0].cells[m]).width()>=r&&r>=b){g=m;break}}if(-1!=g){var _=u.cells[g];if(this.cellhover&&this.cellhover(_,t.pageX,t.pageY),-1==_.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var y=this._getcolumnat(g);if(y&&this.editcell.row==h&&this.editcell.column==y.datafield)return}e(_).addClass(this.toTP("jqx-grid-cell-hover")),e(_).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxGrid.prototype,{savestate:function(t){var i=this.getstate();return void 0===t||e.isEmptyObject(t)||(-1==t.indexOf("sort")&&(delete i.sortcolumn,delete i.sortdirection),-1==t.indexOf("pager")&&(delete i.pagenum,delete i.pagesizeoptions,delete i.pagesize),-1==t.indexOf("selection")&&(delete i.selectedcells,delete i.selectedrowindexes,delete i.selectedrowindex),-1==t.indexOf("grouping")&&delete i.groups,-1==t.indexOf("filter")&&delete i.filters,e.each(this.columns.records,function(e){var s=i.columns[this.datafield];-1==t.indexOf("hidden_columns")&&delete s.hidden,-1==t.indexOf("reorder")&&delete s.index,-1==t.indexOf("columns_width")&&delete s.width,-1==t.indexOf("columns_text")&&delete s.text,-1==t.indexOf("alignment")&&(delete s.align,delete s.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(i)),this._savedstate=i,i},loadstate:function(t,i){s="";if(void 0!=t&&void 0!=t.width)s=t;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])s=e.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var s=this._savedstate;if(null!=s&&""!==s){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var r=s;if(void 0!==r.width&&(this.width=r.width),void 0!==r.height&&(this.height=r.height),this.pageable&&(void 0!=r.pagesize&&(this.pagesize=r.pagesize,this.dataview.pagesize=r.pagesize),void 0!=r.pagenum&&(this.dataview.pagenum=r.pagenum),void 0!=r.pagesizeoptions&&(this.pagesizeoptions=r.pagesizeoptions),this.pagesizeoptions)){for(var o=0,l=0;l<this.pagesizeoptions.length;l++)this.pagesize>=this.pagesizeoptions[l]&&(o=l);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:o})}if(this.sortable)if(this._loading&&(this._loading=!1),r.sortdirection){if(r.sortdirection.ascending||r.sortdirection.descending){this.dataview.sortfield=r.sortcolumn;var a=r.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=a,this.source.sortcolumn=r.sortcolumn,this.source.sortdirection=a,this.sortby(r.sortcolumn,a)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&r.groups&&(this.dataview.groups=r.groups,this.groups=r.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(r),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==i?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(t){this.loadingstate=!0;i="";if(void 0!=t&&void 0!=t.width)i=t;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])i=e.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var i=this._savedstate;if(null!=i&&""!=i){var s=this._loading;this._loading=!1;var r=i,o=this,l=!1,a=[];a.length=0;if(e.each(this.columns.records,function(e){var t=r.columns[this.datafield];if(void 0!=t){if(this.text!=t.text&&(l=!0),this.hidden!=t.hidden&&(l=!0),void 0!==t.width&&(this.width=t.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==t.hidden&&(this.hidden=t.hidden),void 0!==t.pinned&&(this.pinned=t.pinned),void 0!==t.groupable&&(this.groupable=t.groupable),void 0!==t.resizable&&(this.resizable=t.resizable),this.draggable=t.draggable,void 0!==t.text&&(this.text=t.text),void 0!==t.align&&(this.align=t.align),void 0!==t.cellsalign&&(this.cellsalign=t.cellsalign),o._columns)for(var i=0;i<o._columns.length;i++)o._columns[i].datafield==this.datafield&&(void 0!==t.hidden&&(o._columns[i].hidden=t.hidden),void 0!==t.width&&(o._columns[i].width=t.width));void 0!==t.index&&(a[this.datafield]=t.index,a.length++)}}),a.length>0){if(this.setcolumnindex){this.rowdetails;this.groupable?this.groups.length:0;for(var n=new Array,d=0;d<this.columns.records.length;d++)n.push(this.columns.records[d]);for(var h=0,c=new Array,d=0;d<n.length;d++){var f=n[d],u=a[f.datafield];if(this.groupable&&f.grouped)h++;else if(0==d&&this.rowdetails)h++;else if(d!==u||this.groupable||this.rowdetails){var g=h+u;c.push({column:f,key:g})}}c.sort(function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}),c.reverse(),e.each(c,function(e,t){var i=this.key;o.setcolumnindex(this.column.datafield,i,!1)})}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==r.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));for(var p="",v=new e.jqx.filter,d=0;d<r.filters.filterscount;d++){var w=r.filters["filtercondition"+d],m=r.filters["filterdatafield"+d],f=this.getcolumn(m);if(m!=p&&(v=new e.jqx.filter),p=m,f&&f.filterable){var x=r.filters["filtervalue"+d],_=r.filters["filteroperator"+d];if("datefilter"==(z=r.filters["filtertype"+d]))D=v.createfilter(z,x,w,null,f.cellsformat,this.gridlocalization);else D=v.createfilter(z,x,w);if(v.addfilter(_,D),this.showfilterrow){var b=f._filterwidget,y=f._filterwidget.parent();if(null!=b)switch(f.filtertype){case"number":if(y.find("input").val(x),this.host.jqxDropDownList){var j=v.getoperatorsbyfiltertype("numericfilter");b.find(".filter").jqxDropDownList("selectIndex",j.indexOf(w))}break;case"date":this.host.jqxDateTimeInput?e(y.children()[0]).jqxDateTimeInput("setDate",x):b.val(x);break;case"range":if(this.host.jqxDateTimeInput){var q=r.filters["filtervalue"+(d+1)],z=r.filters["filtertype"+d],D=v.createfilter(z,q,"LESS_THAN_OR_EQUAL");v.addfilter(_,D);var O=new Date(x),k=new Date(q);isNaN(O)&&(O=e.jqx.dataFormat.tryparsedate(x)),isNaN(k)&&(k=e.jqx.dataFormat.tryparsedate(x)),e(y.children()[0]).jqxDateTimeInput("setRange",O,k),d++}else b.val(x);break;case"textbox":case"default":b.val(x),o["_oldWriteText"+b[0].id]=x;break;case"list":if(this.host.jqxDropDownList){var S=e(y.children()[0]).jqxDropDownList("getItems"),u=-1;e.each(S,function(e){if(this.value==x)return u=e,!1}),e(y.children()[0]).jqxDropDownList("selectIndex",u)}else b.val(x);break;case"checkedlist":this.host.jqxDropDownList||b.val(x);break;case"bool":case"boolean":this.host.jqxCheckBox?e(y.children()[0]).jqxCheckBox({checked:x}):b.val(x)}}this.addfilter(m,v)}}r.filters&&r.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&e.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&o.host.jqxDropDownList){var t=this,i=t._filterwidget,s=(i.jqxDropDownList("getItems"),i.jqxDropDownList("listBox"));if(s.checkAll(!1),t.filter){s.uncheckAll(!1);for(var r=t.filter.getfilters(),l=0;l<s.items.length;l++){var a=s.items[l].label;e.each(r,function(){if("NOT_EQUAL"==this.condition)return!0;a==this.value&&s.checkIndex(l,!1,!1)})}s._updateCheckedItems();var n=s.getCheckedItems().length;s.items.length!=n&&n>0&&s.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==r.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(r.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(r.pagenum))}if(r.selectedrowindexes&&r.selectedrowindexes&&r.selectedrowindexes.length>0&&(this.selectedrowindexes=r.selectedrowindexes,this.selectedrowindex=r.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),r.selectedcells&&this._applycellselection&&e.each(r.selectedcells,function(){o._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==r.groups)return this._refreshdataview(),this.render(),this._loading=s,void(this.loadingstate=!1);if(l){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=s,this.loadingstate=!1,this.updating())return!1}else this._loading=s,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=s,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var t=this.getdatainformation(),i={};if(i.width=this.width,i.height=this.height,i.pagenum=t.paginginformation.pagenum,i.pagesize=t.paginginformation.pagesize,i.pagesizeoptions=this.pagesizeoptions,i.sortcolumn=t.sortinformation.sortcolumn,i.sortdirection=t.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(-1!=this.selectionmode.toString().indexOf("cell")){var s=this.getselectedcells(),r=new Array;e.each(s,function(){r.push({datafield:this.datafield,rowindex:this.rowindex})}),i.selectedcells=r}else{var o=this.getselectedrowindexes();i.selectedrowindexes=o,i.selectedrowindex=this.selectedrowindex}var l={},a=0;if(this.dataview.filters)for(var n=0;n<this.dataview.filters.length;n++){var d=this.dataview.filters[n].datafield,h=this.dataview.filters[n].filter,c=h.getfilters();l[d+"operator"]=h.operator;for(var f=0;f<c.length;f++){if(c[f].datafield=d,"datefilter"==c[f].type)if(c[f].value&&c[f].value.toLocaleString){var u=this.getcolumn(c[f].datafield);if(u.cellsformat){var g=this.source.formatDate(c[f].value,u.cellsformat,this.gridlocalization);l["filtervalue"+a]=g||c[f].value.toLocaleString()}else l["filtervalue"+a]=c[f].value.toLocaleString()}else l["filtervalue"+a]=c[f].value;else l["filtervalue"+a]=c[f].value;l["filtercondition"+a]=c[f].condition,l["filteroperator"+a]=c[f].operator,l["filterdatafield"+a]=d,l["filtertype"+a]=c[f].type,a++}}l.filterscount=a,i.filters=l,i.groups=this.groups,i.columns={};var p=0;return this.columns.records&&e.each(this.columns.records,function(e,t){if(!this.datafield)return!0;var s={};s.width=this.width,s.hidden=this.hidden,s.pinned=this.pinned,s.groupable=this.groupable,s.resizable=this.resizable,s.draggable=this.draggable,s.text=this.text,s.align=this.align,s.cellsalign=this.cellsalign,s.index=p++,i.columns[this.datafield]=s}),i},_stringify:function(e){if(window.JSON&&"function"==typeof window.JSON.stringify){var t=this,i="";try{i=window.JSON.stringify(e)}catch(i){return t._str("",{"":e})}return i}return i=this._str("",{"":e})},_quote:function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(t,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(e){for(var t=e.length,i=[],s=0;s<t;s++)i.push(this._str(s,e)||"null");return"["+i.join(",")+"]"},_stringifyObject:function(e){var t,i,s=[],r=this;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=r._str(t,e))&&s.push(r._quote(t)+":"+i);return"{"+s.join(",")+"}"},_stringifyReference:function(e){switch(Object.prototype.toString.call(e)){case"[object Array]":return this._stringifyArray(e)}return this._stringifyObject(e)},_stringifyPrimitive:function(e,t){switch(t){case"string":return this._quote(e);case"number":return isFinite(e)?e:"null";case"boolean":return e}return"null"},_str:function(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(s=typeof(i=i.toJSON(e))),/(number|string|boolean)/.test(s)||!i&&"object"===s?this._stringifyPrimitive(i,s):this._stringifyReference(i)}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,r=0,l=this;if(this.filterrow){for(var a=0;a<i;a++){var s=this.columns.records[a],o=parseInt(s.width);o<s.minwidth&&(o=s.minwidth),o>s.maxwidth&&(o=s.maxwidth);var n=e(this.filterrow[0].cells[a]);n.css("left",r);var d=!0;if(n.width()==o&&(d=!1),t&&(d=!0),n.width(o),n[0].left=r,s.hidden&&s.hideable?n.css("display","none"):r+=o,d)if(s.createfilterwidget&&"custom"==s.filtertype)s.createfilterwidget(s,n);else if(s.filterable){var f=function(t,i){var r=e(i.children()[0]);r.width(o-10),e.jqx.browser.msie&&r.width(o-16),r.attr("disabled",t.disabled)};switch(s.filtertype){case"number":case"input":e(n.children()[0]).width(o),n.find("input").width(o-30),e.jqx.browser.msie&&n.find("input").width(o-36),n.find("input").attr("disabled",l.disabled),e(n.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:l.theme,disabled:l.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(n.children()[0]).jqxDateTimeInput({theme:l.theme,disabled:l.disabled,width:o-10}):f(this,n);break;case"textbox":case"default":f(this,n);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList({theme:l.theme,disabled:l.disabled,width:o-10}):f(this,n);break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({theme:l.theme,disabled:l.disabled}):f(this,n)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(r)+2),c.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,r=0;r<i;r++){var l=this.columns.records[r],a=e(this.filterrow[0].cells[r]);if(("string"!=typeof t||l.displayfield==t)&&l.filterable){var s=function(t,i){var r=e(i.children()[0]);r.val(""),r[0]&&(t["_oldWriteText"+r[0].id]="")};switch(l.filtertype){case"number":case"input":if(a.find("input").val(""),this.host.jqxDropDownList){var o=e(e(e(a).children()[0]).children()[1]);o.jqxDropDownList("clearSelection");var n=0;if(0==n){this._getfiltersbytype("number"==l.filtertype?"number":"string");var d=(new e.jqx.filter).getoperatorsbyfiltertype("number"==l.filtertype?"numberfilter":"stringfilter");null!=l.filtercondition?-1==(n=d.indexOf(l.filtercondition.toUpperCase()))&&(n="number"==l.filtertype?0:2):n="number"==l.filtertype?0:2}o.jqxDropDownList({selectedIndex:n}),o.jqxDropDownList("ensureVisible",n)}break;case"date":case"range":this.host.jqxDateTimeInput?e(a.children()[0]).jqxDateTimeInput("setDate",null):s(this,a);break;case"textbox":case"default":s(this,a);break;case"list":this.host.jqxDropDownList?e(a.children()[0]).jqxDropDownList("clearSelection"):s(this,a);break;case"checkedlist":this.host.jqxDropDownList?e(a.children()[0]).jqxDropDownList("checkAll",!1):s(this,a);break;case"bool":case"boolean":this.host.jqxCheckBox?e(a.children()[0]).jqxCheckBox({checked:null}):s(this,a)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,r=0;r<t;r++){var l=new e.jqx.filter,a=this.columns.records[r];if(a.filterable&&null!==a.datafield){var s=i._getcolumntypebydatafield(a),o=i._getfiltertype(s),n=!0,d=(a.filtertype,function(e,t,r){var l=!0;if(e._filterwidget){var a=e._filterwidget.val();if(""!=a){s="equal";if("stringfilter"==t)var s="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&a.indexOf(i.gridlocalization.decimalseparator)>=0&&(a=a.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var o=0;if(-1!=a.indexOf(">")&&(s="greater_than",o=1),-1!=a.indexOf("<")&&(s="less_than",o=1),-1!=a.indexOf("=")&&("greater_than"==s?(s="greater_than_or_equal",o=2):"less_than"==s?(s="less_than_or_equal",o=2):(s="equal",o=1)),0!=o&&(a=a.substring(o)).length<1)return!1}if(void 0!=e.filtercondition&&(s=e.filtercondition),"datefilter"==t)n=r.createfilter(t,a,s,null,e.cellsformat,i.gridlocalization);else var n=r.createfilter(t,a,s);r.addfilter(1,n)}else l=!1}return l});switch(a.filtertype){case"range":case"date":if(a._filterwidget.jqxDateTimeInput)if("range"==a.filtertype)if(null!=(u=a._filterwidget.jqxDateTimeInput("getRange"))&&null!=u.from&&null!=u.to){y="GREATER_THAN_OR_EQUAL";(h=new Date(0)).setHours(0),h.setMinutes(0),h.setFullYear(u.from.getFullYear(),u.from.getMonth(),u.from.getDate());var f=new Date(0);f.setHours(0),f.setMinutes(0),f.setFullYear(u.to.getFullYear(),u.to.getMonth(),u.to.getDate()),f.setHours(u.to.getHours()),f.setMinutes(u.to.getMinutes()),f.setSeconds(u.to.getSeconds());p=l.createfilter(o,h,y);l.addfilter(0,p);var c=l.createfilter(o,f,"LESS_THAN_OR_EQUAL");l.addfilter(0,c)}else n=!1;else if(null!=(u=a._filterwidget.jqxDateTimeInput("getDate"))){var h=new Date(0);h.setHours(0),h.setMinutes(0),h.setFullYear(u.getFullYear(),u.getMonth(),u.getDate());y="EQUAL";void 0!=a.filtercondition&&(y=a.filtercondition);var p=l.createfilter(o,h,y);l.addfilter(0,p)}else n=!1;else n=d(a,o,l);break;case"input":if(a._filterwidget){var u=a._filterwidget.find("input").val(),g=a._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),m=l.getoperatorsbyfiltertype(o)[g];if(i.updatefilterconditions){void 0!=(v=i.updatefilterconditions(o,l.getoperatorsbyfiltertype(o)))&&l.setoperatorsbyfiltertype(o,v);m=l.getoperatorsbyfiltertype(o)[g]}var x="NULL"==m||"NOT_NULL"==m,w="EMPTY"==m||"NOT_EMPTY"==m;void 0!=u&&u.length>0||x||w?(p=l.createfilter(o,u,m,null,a.cellsformat,i.gridlocalization),l.addfilter(0,p)):n=!1}else n=!1;break;case"number":if(a._filterwidget){u=a._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&u.indexOf(i.gridlocalization.decimalseparator)>=0&&(u=u.replace(i.gridlocalization.decimalseparator,"."));var g=a._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),m=l.getoperatorsbyfiltertype(o)[g];if(i.updatefilterconditions){var v=i.updatefilterconditions(o,l.getoperatorsbyfiltertype(o));void 0!=v&&l.setoperatorsbyfiltertype(o,v);m=l.getoperatorsbyfiltertype(o)[g]}var x="NULL"==m||"NOT_NULL"==m,w="EMPTY"==m||"NOT_EMPTY"==m;void 0!=u&&u.length>0||x||w?(p=l.createfilter(o,new Number(u),m,null,a.cellsformat,i.gridlocalization),l.addfilter(0,p)):n=!1}else n=!1;break;case"textbox":case"default":n=d(a,o,l);break;case"bool":case"boolean":if(a._filterwidget.jqxCheckBox)if(null!=(u=a._filterwidget.jqxCheckBox("checked"))){var y="equal",b=l.createfilter(o,u,y);l.addfilter(1,b)}else n=!1;else n=d(a,o,l);break;case"list":if((q=a._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var D=q.getItem(q.selectedIndex),u=D.label,_=D.value,y="equal";""===u&&(y="NULL");b=l.createfilter(o,u,y);l.addfilter(1,b),_!==u&&(b.data=_)}else n=!1;break;case"checkedlist":if(a._filterwidget.jqxDropDownList){var q=a._filterwidget.jqxDropDownList("listBox"),j=q.getCheckedItems();if(0==j.length){for(k=1;k<q.items.length;k++){var u=q.items[k].label,_=q.items[k].value,y="not_equal";""===u&&(y="NULL");b=l.createfilter(o,u,y);_!==u&&(b.data=_),l.addfilter(0,b)}n=!0}else if(j.length!=q.items.length)for(var k=0;k<j.length;k++){var u=j[k].label,_=j[k].value,y="equal";""===u&&(y="NULL");b=l.createfilter(o,u,y);_!==u&&(b.data=_),l.addfilter(1,b)}else n=!1}else n=d(a,o,l)}this._loading||(n?this.addfilter(a.displayfield,l,!1):this.removefilter(a.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,l=this.toThemeProperty("jqx-grid-cell");l+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),l+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var a=r+10,s=new Array,o=this.that;this.filterrow[0].cells=s,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var n=!1,d=new Array,f=document.createDocumentFragment(),c=0;c<r;c++){var h=this.columns.records[c],p=h.width;p<h.minwidth&&(p=h.minwidth),p>h.maxwidth&&(p=h.maxwidth);var u=document.createElement("div");u.style.overflow="hidden",u.style.position="absolute",u.style.height="100%",u.className=l,u=e(u),f.appendChild(u[0]),u[0].style.left=i+"px",this.rtl?(u.css("z-index",a++),u.css("border-left-width","1px")):u.css("z-index",a--),"auto"==p&&(p=0),u[0].style.width=parseFloat(p)+"px",u[0].left=i,h.hidden&&h.hideable?u.css("display","none"):i+=p,s[s.length]=u[0];var g=!0;if(this.rtl){if(this.groupable){m=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+m+c>r-1&&(g=!1)}this.showrowdetailscolumn&&this.rowdetails&&c==r-1&&(g=!1)}else{if(this.groupable){var m=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+m>c&&(g=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==c&&(g=!1)}if(g)if("custom"==h.filtertype&&h.createfilterwidget){h.createfilterwidget(h,u,function(){o._applyfilterfromfilterrow()})}else h.filterable&&(this._filterrowcache[h.datafield]?(n=!0,u.append(this._filterrowcache[h.datafield]),h._filterwidget=this._filterrowcache[h.datafield]):(this._addfilterwidget(h,u,p),d[h.datafield]=h._filterwidget))}t[0].appendChild(f),this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",a--),t.width(parseFloat(i)+2),this.filterrow.addClass(l),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),n&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,r){for(var l=this.that,a="",s="",o=0;o<l.dataview.filters.length;o++){var n=l.dataview.filters[o];if(n.datafield&&n.datafield==t.datafield){o=n.filter.getfilters()[0];a=o.value,"range"===t.filtertype&&(a={from:a,to:n.filter.getfilters()[1].value}),s=o.condition,t.filtercondition=s;break}}var d=function(i,l){var s=e('<input autocomplete="off" type="textarea"/>');s[0].id=e.jqx.utilities.createId(),s.addClass(i.toThemeProperty("jqx-widget")),s.addClass(i.toThemeProperty("jqx-input")),s.addClass(i.toThemeProperty("jqx-rc-all")),s.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&s.css("direction","rtl"),i.disabled&&s.attr("disabled",!0),s.attr("disabled",!1),s.appendTo(l),s.width(r-10),s.height(i.filterrowheight-10),s.css("margin","4px"),s.css("box-sizing","border-box"),t.createfilterwidget&&t.createfilterwidget(t,l,s),t._filterwidget=s,s.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=s,s.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),s.blur(function(){s.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),s.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),s[0]._writeTimer&&clearTimeout(s[0]._writeTimer),s[0]._writeTimer=setTimeout(function(){i._loading||(i["_oldWriteText"+s[0].id]||(i["_oldWriteText"+s[0].id]=""),i["_oldWriteText"+s[0].id].length>0&&i["_oldWriteText"+s[0].id]!=s.val()?(i._applyfilterfromfilterrow(),i["_oldWriteText"+s[0].id]=s.val()):0==i["_oldWriteText"+s[0].id].length&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+s[0].id]=s.val()))},t.filterdelay),i.focusedfilter=s}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),s.val(a)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var f=e("<div></div>");f.width(i.width()),f.height(this.filterrowheight),i.append(f);!function(i,r,s){var o=e('<input style="float: left;" autocomplete="off" type="textarea"/>');l.rtl&&(o.css("float","right"),o.css("direction","rtl")),o[0].id=e.jqx.utilities.createId(),o.addClass(l.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content")),o.appendTo(i),o.width(r-16),l.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.height(l.filterrowheight-10),o.css("margin","4px"),o.css("margin-right","2px"),o.focus(function(){l.focusedfilter=o,o.addClass(l.toThemeProperty("jqx-fill-state-focus"))}),o.blur(function(){o.removeClass(l.toThemeProperty("jqx-fill-state-focus"))}),o.keydown(function(e){"13"==e.keyCode&&l._applyfilterfromfilterrow(),o[0]._writeTimer&&clearTimeout(o[0]._writeTimer),o[0]._writeTimer=setTimeout(function(){l._loading||l["_oldWriteText"+o[0].id]!=o.val()&&(l._applyfilterfromfilterrow(),l["_oldWriteText"+o[0].id]=o.val())},t.filterdelay),l.focusedfilter=o}),o.val(a)}(f,r=i.width()-21);var c=l._getfiltersbytype("number"==t.filtertype?"number":"string");(v=e("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),v.appendTo(f),l.rtl&&v.css("float","right");var h=0;null!=t.filtercondition&&-1!=(p=(o=new e.jqx.filter).getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter").indexOf(t.filtercondition.toUpperCase()))&&(h=p);D=180;if("input"==t.filtertype&&(D=240,0==h)){var p=c.indexOf("contains")||2;-1!=p&&null==t.filtercondition&&(h=p)}v.jqxDropDownList({disabled:l.disabled,touchMode:l.touchmode,rtl:l.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:h,width:18,height:21,dropDownHeight:150,dropDownWidth:D,source:c,theme:l.theme}),v.jqxDropDownList({selectionRenderer:function(e){return""}}),v.jqxDropDownList("setContent",""),v.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,f),t._filterwidget=f;var u=null;this.addHandler(v,"select",function(){var e=v.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!l.refreshingfilter&&l._applyfilterfromfilterrow(),"input"!=t.filtertype||l.refreshingfilter?0!=t._filterwidget.find("input").val().length||l.refreshingfilter||"null"!=u&&"not null"!=u&&"null"!=e&&"not null"!=e||l._applyfilterfromfilterrow():l._applyfilterfromfilterrow(),u=e});break;case"textbox":case"default":default:d(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var g=e("<div></div>");g.css("margin","4px"),g.appendTo(i);var m={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};g.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:l.disabled,localization:m,rtl:l.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:r-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,g),a&&a.from?g.jqxDateTimeInput("setRange",a.from,a.to):a&&a.toString().length>1&&g.val(a),t._filterwidget=g,this.addHandler(g,"valueChanged",function(e){l.refreshingfilter||(l._applyfilterfromfilterrow(),l.focusedfilter=null)})}else d(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var x=this._getfilterdataadapter(t),w=!1,v=e("<div></div>");v.css("margin","4px");var y=t.datafield,b="checkedlist"==t.filtertype,D=r<150?220:"auto";x.dataBind();var _=x.records.length<8;w=_,v.appendTo(i),v.jqxDropDownList({placeHolder:l.gridlocalization.filterchoosestring,disabled:l.disabled,touchMode:l.touchmode,rtl:l.rtl,checkboxes:b,dropDownWidth:D,source:x.records,autoDropDownHeight:_,theme:this.theme,width:r-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:y}),t.createfilterwidget&&t.createfilterwidget(t,i,v);var q=v.jqxDropDownList("listBox");if(b){v.jqxDropDownList({selectionRenderer:function(){return'<span class="'+l.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+l.gridlocalization.filterselectstring+"</span>"}});var j=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+l.gridlocalization.filterselectstring+"</span>");if(j.addClass(this.toThemeProperty("jqx-item")),void 0!=q){w||q.host.height(200),q.insertAt(l.gridlocalization.filterselectallstring,0),v.jqxDropDownList("setContent",j);var k=!0;new Array;q.checkAll(!1),l.addHandler(q.host,"checkChange",function(e){if(v[0]._selectionChanged=!0,k)if(e.args.label!=l.gridlocalization.filterselectallstring){k=!1,q.host.jqxListBox("checkIndex",0,!0,!1);var t=q.host.jqxListBox("getCheckedItems"),i=q.host.jqxListBox("getItems");1==t.length?q.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&q.host.jqxListBox("indeterminateIndex",0,!0,!1),k=!0}else k=!1,e.args.checked?q.host.jqxListBox("checkAll",!1):q.host.jqxListBox("uncheckAll",!1),k=!0})}}else q.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),v.jqxDropDownList({selectedIndex:0});t._filterwidget=v;v.jqxDropDownList("dropdownlistWrapper");"list"==t.filtertype?this.addHandler(v,"select",function(e){l.refreshingfilter||e.args&&"none"!=e.args.type&&(l._applyfilterfromfilterrow(),l.focusedfilter=null)}):this.addHandler(v,"close",function(e){v[0]._selectionChanged&&(l._applyfilterfromfilterrow(),l.focusedfilter=null,v[0]._selectionChanged=!1)})}else d(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var L=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');L.appendTo(i),L.jqxCheckBox({disabled:l.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,L),!0===a||"true"==a?L.jqxCheckBox({checked:!0}):!1!==a&&"false"!=a||L.jqxCheckBox({checked:!1}),t._filterwidget=L,this.addHandler(L,"change",function(e){l.refreshingfilter||e.args&&(l.focusedfilter=null,l._applyfilterfromfilterrow())})}else d(this,i)}},_getfilterdataadapter:function(t){if(!!this.source._source){var i={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},r=this;dataadapter=new e.jqx.dataAdapter(i,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var l=r._getcolumntypebydatafield(t),a=0;a<e.length;a++){i.push(e[a]);var s=e[a][t.displayfield];e[a][t.displayfield+"JQValue"]=s,"date"===l?e[a][t.displayfield]=null!=s?dataadapter.formatDate(s,t.cellsformat,r.gridlocalization):"":"number"!==l&&"float"!==l&&"int"!==l||(e[a][t.displayfield]=null!=s?dataadapter.formatNumber(s,t.cellsformat,r.gridlocalization):"")}return i}return e}})}else dataadapter=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0){i={localdata:t.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new e.jqx.dataAdapter(i,{autoBind:!1,async:!1})}else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,r=0;r<i;r++){var l=this.columns.records[r];if(l.filterable&&l.filter){var a=l.filter.getfilters();if(a.length>0){var s=a[0].value,o=l._filterwidget,n=l._filterwidget.parent();if(null!=o)switch(l.filtertype){case"number":if(n.find("input").val(s),this.host.jqxDropDownList){d=l.filter.getoperatorsbyfiltertype("numericfilter");o.find(".filter").jqxDropDownList("selectIndex",d.indexOf(a[0].condition))}break;case"input":if(n.find("input").val(s),this.host.jqxDropDownList){var d=l.filter.getoperatorsbyfiltertype("stringfilter");o.find(".filter").jqxDropDownList("selectIndex",d.indexOf(a[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){if(void 0!=(s=l.filter.getfilterat(0).filtervalue)){if(l.filter.getfilterat(1))var f=l.filter.getfilterat(1).filtervalue;else f=s;"range"==l.filtertype?e(n.children()[0]).jqxDateTimeInput("setRange",new Date(s),new Date(f)):e(n.children()[0]).jqxDateTimeInput("setDate",new Date(s))}}else o.val(s);break;case"textbox":case"default":o.val(s),t["_oldWriteText"+o[0].id]=s;break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({checked:s}):o.val(s)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var t=this.columns.records.length,i=0;i<t;i++){var r=this.columns.records[i];if(r.filterable){var l=r._filterwidget;if("list"==r.filtertype||"checkedlist"==r.filtertype)this.removeHandler(l,"select"),this.removeHandler(l,"close"),l.jqxDropDownList("destroy");else if("date"==r.filtertype||"range"==r.filtertype)this.removeHandler(l,"valueChanged"),l.jqxDateTimeInput("destroy");else if("bool"==r.filtertype)this.removeHandler(l,"change"),l.jqxCheckBox("destroy");else if("number"==r.filtertype||"input"===r.filtertype){var a=l.find(".jqx-input");this.removeHandler(a,"keydown"),e(l.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(l,"keydown");l.remove()}}},_updatelistfilters:function(t,i){for(var r=this.that,l=this.columns.records.length,a=0;a<l;a++){var s=this.columns.records[a];if(s.filterable&&("list"==s.filtertype||"checkedlist"==s.filtertype)){var o=s._filterwidget;if(t){var n=this._getfilterdataadapter(s);o.jqxDropDownList({source:n});var d=!0;if((c=o.jqxDropDownList("getItems")).length!=n.records.length+1&&(d=!1),d)for(g=1;g<c.length;g++)if(c[g].label!=n.records[g-1][s.displayfield]){d=!1;break}if(d&&!i)continue}else if(void 0==s.filter){o.jqxDropDownList("renderSelection");continue}var f="checkedlist"==s.filtertype,c=o.jqxDropDownList("getItems"),h=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),f){o.jqxDropDownList({selectionRenderer:function(){return r.gridlocalization.filterselectstring}}),null==h.getItem(this.gridlocalization.filterselectallstring)&&h.insertAt(this.gridlocalization.filterselectallstring,0);var p=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(p.addClass(this.toThemeProperty("jqx-item")),o.jqxDropDownList("setContent",p),h.checkAll(!1),s.filter){for(var u=s.filter.getfilters(),g=0;g<h.items.length;g++){var m=h.items[g].label,x=void 0;e.each(u,function(){var e;"NOT_EQUAL"==this.condition?e=m!=this.value:"EQUAL"==this.condition&&(e=m==this.value),x=void 0==x&&void 0!==e?e:"EQUAL"==this.condition?x||e:x&&e}),x?h.checkIndex(g,!1,!1):h.uncheckIndex(g,!1,!1)}h._updateCheckedItems();var w=h.getCheckedItems().length;h.items.length!=w&&w>0&&h.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==h.getItem(this.gridlocalization.filterselectallstring)&&h.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),s.filter){for(var u=s.filter.getfilters(),v=-1,g=0;g<h.items.length;g++){m=h.items[g].label;e.each(u,function(){return"NOT_EQUAL"==this.condition||(m==this.value?(v=g,!1):void 0)})}-1!=v&&h.selectIndex(v)}c.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(i,r){var l=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),l=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),l=!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=l?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(!r.datatype){var l="";e.each(t,function(){if(this.name==r.displayfield)return this.type&&(l=this.type),!1}),r.datatype=""!=l?l:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,r="string",l=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(l){var a="";if(e.each(l,function(){if(this.name==t.displayfield)return this.type&&(a=this.type),!1}),a)return a}if(null!=t){if(void 0==this.dataview.cachedrecords)return r;var s=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return s=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(null!=(s=this.dataview.cachedrecords[0][t.displayfield])&&""==s.toString())return"string"}if(null!=s)if("boolean"==typeof s)r="boolean";else if(e.jqx.dataFormat.isNumber(s))r="number";else{var o=new Date(s);if("NaN"==o.toString()||"Invalid Date"==o.toString())if(e.jqx.dataFormat){if(null!=(o=e.jqx.dataFormat.tryparsedate(s))){if(o&&o.getFullYear()&&1970==o.getFullYear()&&0==o.getMonth()&&1==o.getDate()){var n=new Number(s);return isNaN(n)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}return r},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,r){var l=e(i).find(".filter1"),a=e(i).find(".filter2"),s=e(i).find(".filter3"),o=e(i).find(".filtertext1"+t.element.id),n=e(i).find(".filtertext2"+t.element.id),d=o.val(),f=n.val(),c=t._getcolumntypebydatafield(r),h=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype){var u=l.jqxDropDownList("selectedIndex"),g=a.jqxDropDownList("selectedIndex"),m=s.jqxDropDownList("selectedIndex"),x=null,w=null;if(t.updatefilterconditions){var v=t.updatefilterconditions(p,h.getoperatorsbyfiltertype(p));void 0!=v&&h.setoperatorsbyfiltertype(p,v)}var y=!1,b=h.getoperatorsbyfiltertype(p)[u],s=h.getoperatorsbyfiltertype(p)[m],D="NULL"==b||"NOT_NULL"==b,_="EMPTY"==b||"NOT_EMPTY"==b;void 0==b&&(b=h.getoperatorsbyfiltertype(p)[0]),void 0==s&&(s=h.getoperatorsbyfiltertype(p)[0]),(d.length>0||D||_)&&(x=h.createfilter(p,d,b,null,r.cellsformat,t.gridlocalization),h.addfilter(g,x),y=!0);var q="NULL"==s||"NOT_NULL"==s,j="EMPTY"==s||"NOT_EMPTY"==s;if((f.length>0||q||j)&&(w=h.createfilter(p,f,s,null,r.cellsformat,t.gridlocalization),h.addfilter(g,w),y=!0),y){A=r.displayfield;this.addfilter(A,h,!0)}else this._clearfilter(t,i,r)}else if("excel"===t.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var k=!1,L=l.data().jqxListBox.instance,T="excel"===this.filtermode||"checkedlist"===r.filtertype,I=L.getCheckedItems();if(!T)I=L.getSelectedItems();if(0==I.length){for(C=1;C<L.items.length;C++){void 0===(B=L.items[C].value)&&(B="");z="not_equal";if(B&&B.indexOf&&(B.indexOf("|")>=0||B.indexOf(" AND ")>=0||B.indexOf(" OR ")>=0||B.indexOf(" and ")>=0||B.indexOf(" or ")>=0)){B=(B=(B=(B=(B=B.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or","");z="equal"}if("datefilter"==p)H=h.createfilter(p,B,z,null,r.cellsformat,t.gridlocalization);else H=h.createfilter(p,B,z,null);h.addfilter(0,H)}k=!0}else if(I.length!=L.items.length){k=!0;for(var C=0;C<I.length;C++)if(t.gridlocalization.filterselectallstring!==I[C].value){var B=I[C].value;void 0===B&&(B="");var z="equal";if("datefilter"==p)H=h.createfilter(p,B,z,null,r.cellsformat,t.gridlocalization);else var H=h.createfilter(p,B,z,null);h.addfilter(1,H)}}else k=!1;if(k){A=r.displayfield;this.addfilter(A,h,!0)}else{var A=r.displayfield;this.removefilter(A,!0)}}},_clearfilter:function(e,t,i){var r=i.displayfield;this.removefilter(r,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(e),l=this._getcolumn(e);void 0!=r&&null!=r&&(r.filter=t,l.filter=t,this.dataview.addfilter(e,t),1==i&&void 0!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),r=this._getcolumn(e);void 0!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var r=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var r=1==t||!1!==t;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!r)})}!1!==t&&(1!=t&&!1===t||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),r=e(e.find("#filter1"+this.element.id)),l=e(e.find("#filter2"+this.element.id)),a=e(e.find("#filter3"+this.element.id)),s=e(e.find(".filtertext1"+this.element.id)),o=e(e.find(".filtertext2"+this.element.id));s.length>0&&o.length>0&&(s.removeClass(),o.removeClass(),s.remove(),o.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),r.length>0&&r.jqxDropDownList("destroy"),l.length>0&&l.jqxDropDownList("destroy"),a.length>0&&a.jqxDropDownList("destroy");var r=e(e.find("#filter1"+this.element.id+"ex")),l=e(e.find("#filter2"+this.element.id+"ex")),a=e(e.find("#filter3"+this.element.id+"ex"));r.length>0&&r.jqxDropDownList("destroy"),l.length>0&&l.jqxDropDownList("destroy"),a.length>0&&a.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,r){null!=t&&void 0!=t||(t=this);var l=t._getcolumntypebydatafield(r),a=t._getfiltersbytype(l);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),r.filterpanel&&r.filterpanel.detach(),e(i).children().detach();var s=e(t.menuitemsarray[6]);if(e(s).css("height","190px"),r.createfilterpanel&&!r.filterpanel){var o=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(o),r.createfilterpanel(r.displayfield,o),r.filterpanel=o}"list"===r.filtertype||"checkedlist"===r.filtertype?e(i).append(t.excelfilterpanel):"custom"!==r.filtertype?e(i).append(t.filterpanel):r.filterpanel&&e(i).append(r.filterpanel);var n=e(i),d=n.find("#filterclearbutton"+t.element.id),f=n.find("#filterbutton"+t.element.id),c=n.find(".filter1"),h=n.find(".filter2"),p=n.find(".filter3"),u=n.find(".filtertext1"+t.element.id),g=n.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){var m=u.parent(),x=g.parent();if(m.children().remove(),x.children().remove(),"date"==r.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);v=e("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");m.append(v),(w=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:23,value:null,formatString:r.cellsformat,theme:t.theme})})(v);v=e("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");x.append(v),w(v)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring);v=e("<input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");m.append(v);var w=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-21)};w(v);var v=e("<input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");x.append(v),w(v)}var u=n.find(".filtertext1"+t.element.id),g=n.find(".filtertext2"+t.element.id)}if("date"!=r.filtertype?(u.val(""),g.val("")):(u.val(null),g.val(null)),this.removeHandler(f,"click"),this.addHandler(f,"click",function(){t._buildfilter(t,i,r),t._closemenu()}),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._clearfilter(t,i,r),t._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,r),t._closemenu())}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,r),t._closemenu())}),this.removeHandler(u,"keydown"),this.addHandler(u,"keydown",function(e){13===e.keyCode&&f.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(g,"keydown"),this.addHandler(g,"keydown",function(e){13===e.keyCode&&f.trigger("click"),27===e.keyCode&&t._closemenu()}),"default"===this.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){if(c.jqxDropDownList("source")!=a&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:a}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:a})),"boolean"==l||"bool"==l)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var y=!1;a&&a.length&&a.length<5&&(y=!0),c.jqxDropDownList({autoDropDownHeight:y,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:y,selectedIndex:2})}h.jqxDropDownList({selectedIndex:0});var b=r.filter,D=new e.jqx.filter,_="";switch(l){case"number":case"int":case"float":case"decimal":_="numericfilter",q=D.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":_="booleanfilter",q=D.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":_="datefilter",q=D.getoperatorsbyfiltertype("datefilter");break;case"string":_="stringfilter",q=D.getoperatorsbyfiltertype("stringfilter")}if(null!=b){var m=b.getfilterat(0),x=b.getfilterat(1);b.getoperatorat(0);if(t.updatefilterconditions){var q=[],j=t.updatefilterconditions(_,q);if(void 0!=j){for(var k=0;k<j.length;k++)j[k]=j[k].toUpperCase();b.setoperatorsbyfiltertype(_,j),q=j}}if(null!=m){var L=q.indexOf(m.comparisonoperator),T=m.filtervalue;u.val(T),c.jqxDropDownList({selectedIndex:L,animationType:"default"})}if(null!=x){var I=q.indexOf(x.comparisonoperator),C=x.filtervalue;g.val(C),p.jqxDropDownList({selectedIndex:I,animationType:"default"})}void 0==b.getoperatorat(0)?h.jqxDropDownList({selectedIndex:0,animationType:"default"}):"and"==b.getoperatorat(0)||0==b.getoperatorat(0)?h.jqxDropDownList({selectedIndex:0}):h.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(c,p,h,u,g,f,d,b,_,q),(!this._hasdatefilter||this._hasdatefilter&&"date"!=r.filtertype)&&(this.touchdevice||(u.focus(),setTimeout(function(){u.focus()},10)))}else if("excel"===this.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var B=t._getfilterdataadapter(r),_=t._getfiltertype(l),z="excel"===this.filtermode||"checkedlist"===r.filtertype;if(c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(e){13===e.keyCode&&f.trigger("click"),27===e.keyCode&&t._closemenu()}),r.cellsformat?c.jqxListBox({checkboxes:z,displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:B}):c.jqxListBox({checkboxes:z,displayMember:r.displayfield,valueMember:r.displayfield,source:B}),z){c.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0),(P=c.data().jqxListBox.instance).checkAll(!1);if(r.filter){P.uncheckAll(!1);for(var H=r.filter.getfilters(),A=0;A<P.items.length;A++){N=P.items[A].value;e.each(H,function(){if("NOT_EQUAL"==this.condition){if(N!=this.value)return P.uncheckIndex(A,!1,!1),!1;if(null!=N&&null!=this.value&&N.toString()!=this.value.toString())return P.uncheckIndex(A,!1,!1),!1}else if("EQUAL"==this.condition){if(N==this.value)return P.checkIndex(A,!1,!1),!1;if(null!=N&&null!=this.value&&N.toString()==this.value.toString())return P.checkIndex(A,!1,!1),!1}})}P._updateCheckedItems();var O=P.getCheckedItems().length;P.items.length!=O&&O>0&&P.host.jqxListBox("indeterminateIndex",0,!0,!1),O===P.items.length-1&&P.host.jqxListBox("checkIndex",0,!0,!1)}}else if(r.filter){var P=c.data().jqxListBox.instance;P.clearSelection();for(var H=r.filter.getfilters(),A=0;A<P.items.length;A++){var N=P.items[A].value;e.each(H,function(){if("NOT_EQUAL"==this.condition){if(N!=this.value)return P.unselectIndex(A,!1,!1),!1}else if("EQUAL"==this.condition&&N==this.value)return P.selectIndex(A,!0,!1),!1})}P._renderItems()}}},_initfilterpanel:function(t,i,r,l,a){null!=t&&void 0!=t||(t=this),i[0].innerHTML="";var s=e("<div class='filter' style='margin-left: 7px;'></div>");i.append(s);var o=e("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");o.text(t.gridlocalization.filtershowrowstring),this._showwhere=o;var n=a?"ex":"",d=e("<div class='filter filter1' id='filter1"+t.element.id+n+"'></div>"),f=e("<div class='filter filter2' id='filter2"+t.element.id+n+"' style='margin-bottom: 3px;'></div>"),c=e("<div class='filter filter3' id='filter3"+t.element.id+n+"'></div>"),h=t._getcolumntypebydatafield(r);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(h);if(this._hasdatefilter=!1,this._filterpanelwidth=l,this.columns&&this.columns.records){for(u=0;u<this.columns.records.length;u++)if("date"==this.columns.records[u].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(var u=0;u<this.columns.length;u++)if("date"==this.columns[u].filtertype){this._hasdatefilter=!0;break}var g=e("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),m=g.find("input");m.addClass(this.toThemeProperty("jqx-input")),m.addClass(this.toThemeProperty("jqx-widget-content")),m.addClass(this.toThemeProperty("jqx-rc-all")),m.width(l-21);var x=e("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px;' type='text'></input></div>"),w=x.find("input");w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-rc-all")),w.width(l-21),t.rtl&&(m.css("direction","rtl"),w.css("direction","rtl"));var v=e("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),y=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"</span>");v.append(y);var b=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"</span>");v.append(b),y.jqxButton({height:20,theme:t.theme}),b.jqxButton({height:20,theme:t.theme});var D=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||a){if("excel"===this.filtermode||a){s.append(o),s.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:l-15,height:130,theme:t.theme});var _=!0;t.addHandler(d,"checkChange",function(e){if(_)if(e.args.label!=t.gridlocalization.filterselectallstring){_=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),r=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),_=!0}else _=!1,e.args.checked?d.jqxListBox("checkAll",!1):d.jqxListBox("uncheckAll",!1),_=!0})}}else{s.append(o),s.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:l-15,height:23,dropDownHeight:150,dropDownWidth:l-15,selectionRenderer:D,source:p,theme:t.theme}),s.append(g);var q=new Array;q[0]=t.gridlocalization.filterandconditionstring,q[1]=t.gridlocalization.filterorconditionstring,f.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:23,source:q,selectionRenderer:D,theme:t.theme}),s.append(f),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:l-15,height:23,dropDownHeight:150,dropDownWidth:l-15,selectionRenderer:D,source:p,theme:t.theme}),s.append(c),s.append(x)}s.append(v),t.updatefilterpanel&&t.updatefilterpanel(d,c,f,g,x,y,b,null,null,p)}})}(jqxBaseFramework);

!function(t){t.jqx.dataview.sort=function(){this.sortby=function(r,s,e){var i=Object.prototype.toString;if(null==s)return this.sortdata=null,this.sortcache={},this.grid._pagescache=new Array,this.grid._cellscache=new Array,void this.refresh();void 0==s&&(s=!0),s="a"==s||"asc"==s||"ascending"==s||1==s;var o=r;this.sortfield=r,this.sortfielddirection=s?"asc":"desc",void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var n=[],a=!1;if("constructor"==o&&(o=""),!this.virtualmode&&null!=this.sortcache[o]){var d=this.sortcache[o];n=d._sortdata,d.direction==s?n.reverse():(!d.direction&&s&&n.reverse(),a=!0),n.length<this.totalrecords&&(this.sortcache={},a=!1,n=[])}Object.prototype.toString="function"==typeof r?r:function(){return this[r]};var c=this.records,l=(this.that,"");if(this.source.datafields&&t.each(this.source.datafields,function(){if(this.name==r)return this.type&&(l=this.type),!1}),0==n.length)if(c.length){for(var u=c.length,h=0;h<u;h++)if(null!=(m=c[h])){var f=(v=m).toString();n.push({sortkey:f,value:v,index:h})}}else{var g=!1;for(obj in c){var m=c[obj];if(void 0==m){g=!0;break}var v=m;n.push({sortkey:v.toString(),value:v,index:obj})}g&&t.each(c,function(t,r){n.push({sortkey:r.toString(),value:r,index:t})})}if(!a)if(null==e){this._sortcolumntype=l;var p=this;n.sort(function(t,r){return p._compare(t,r,l)})}else n.sort(e);s||n.reverse(),Object.prototype.toString=i,this.sortdata=n,this.sortcache[o]={_sortdata:n,direction:s},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(r,s,e){var r=r.sortkey,s=s.sortkey;if(void 0===r&&(r=null),void 0===s&&(s=null),null===r&&null===s)return 0;if(null===r&&null!==s)return-1;if(null!==r&&null===s)return 1;if(t.jqx.dataFormat)if(e&&""!=e)switch(e){case"number":case"int":case"float":return r<s?-1:r>s?1:0;case"date":case"time":return r<s?-1:r>s?1:0;case"string":case"text":r=String(r).toLowerCase(),s=String(s).toLowerCase()}else{if(t.jqx.dataFormat.isNumber(r)&&t.jqx.dataFormat.isNumber(s))return r<s?-1:r>s?1:0;if(t.jqx.dataFormat.isDate(r)&&t.jqx.dataFormat.isDate(s))return r<s?-1:r>s?1:0;t.jqx.dataFormat.isNumber(r)||t.jqx.dataFormat.isNumber(s)||(r=String(r).toLowerCase(),s=String(s).toLowerCase())}try{if(r<s)return-1;if(r>s)return 1}catch(t){}return 0},this._equals=function(t,r){return 0===this._compare(t,r)}},t.extend(t.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var r=this.that,s=this.getsortcolumn();if(this.sortdirection){var e=function(s,e){var i=r.getcolumn(s);i&&(e.ascending?t.jqx.aria(i.element,"aria-sort","ascending"):e.descending?t.jqx.aria(i.element,"aria-sort","descending"):t.jqx.aria(i.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&e(this._oldsortinfo.column,{ascending:!1,descending:!1}),e(s,this.sortdirection)}this._oldsortinfo={column:s,direction:this.sortdirection},this.sortdirection&&t.each(this.columns.records,function(e,i){var o=t.data(document.body,"groupsortelements"+this.displayfield);null==s||this.displayfield!=s?(t(this.sortasc).hide(),t(this.sortdesc).hide(),null!=o&&(o.sortasc.hide(),o.sortdesc.hide())):r.sortdirection.ascending?(t(this.sortasc).show(),t(this.sortdesc).hide(),null!=o&&(o.sortasc.show(),o.sortdesc.hide())):(t(this.sortasc).hide(),t(this.sortdesc).show(),null!=o&&(o.sortasc.hide(),o.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(t,r,s,e,i){if(this._loading&&!1!==i)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==t&&(r=null,t=this.sortcolumn),void 0!=t){var o=this.that;if(void 0==s&&null!=o.source.sortcomparer&&(s=o.source.sortcomparer),ascending="a"==r||"asc"==r||"ascending"==r||1==r,o.sortdirection=null!=r?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},o.sortcolumn=null!=r?t:null,o.source.sort||o.virtualmode){if(o.dataview.sortfield=t,o.dataview.sortfielddirection=null==r?"":ascending?"asc":"desc",o.source.sort&&!this._loading)return o.source.sort(t,r),void o._raiseEvent(6,{sortinformation:o.getsortinformation()})}else o.dataview.sortby(t,r,s);if(!1===e)return;o.groupable&&o.groups.length>0?(o._render(!0,!1,!1),o._updategroupheadersbounds&&o.showgroupsheader&&o._updategroupheadersbounds(),o._postrender("sort")):(o.pageable&&o.dataview.updateview(),o._updaterowsproperties(),o.rendergridcontent(!0),o._postrender("sort")),o._raiseEvent(6,{sortinformation:o.getsortinformation()})}},_togglesort:function(t){var r=this.that;if(!this.disabled&&t.sortable&&r.sortable){var s=r.getsortinformation(),e=null;null!=s.sortcolumn&&s.sortcolumn==t.displayfield?(e=s.sortdirection.ascending,e=r.sorttogglestates>1?1!=e&&null:!e):e=!0,r.sortby(t.displayfield,e,null)}}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxGrid.prototype,{exportdata:function(t,r,s,i,l,o,a){if(!e.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";void 0==s&&(s=!0);var d=this;if(void 0==i&&0==(i=this.getrows()).length)throw"No data to export.";this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var n=void 0!=l&&l,h={},c={},f=this.host.find(".jqx-grid-cell:first"),g=this.host.find(".jqx-grid-cell-alt:first");f.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),f.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),g.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),g.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),f.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),f.removeClass(this.toThemeProperty("jqx-fill-state-hover")),g.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),g.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var u="cell",p=1,m="column",y=1,x=[],v=0;v<this.columns.records.length;v++){var b=this.columns.records[v];if(""!=b.cellclassname)if(b.customCellStyles=new Array,"string"==typeof b.cellclassname)for(w=0;w<i.length;w++)b.customCellStyles[w]=b.cellclassname;else for(var w=0;w<i.length;w++){var C=this.getrowboundindex(w),S=b.cellclassname(C,b.displayfield,i[w][b.displayfield],i[w]);S&&(b.customCellStyles[w]=S)}}var j=new Array,q=null,T=null,_=null;if(e.each(this.columns.records,function(r){var l=e(d.table[0].rows[0].cells[r]);if(d.table[0].rows.length>1){var o=e(d.table[0].rows[1].cells[r]);_||(_=o)}T||(T=l);var a=this,f=function(e){if(e.removeClass(d.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(d.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(d.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.customCellStyles)for(var t in a.customCellStyles)e.removeClass(a.customCellStyles[t])};if(f(l),o&&f(o),null==this.displayfield)return!0;d.showaggregates&&d.getcolumnaggregateddata&&x.push(d.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,i));var g=d._getexportcolumntype(this);!this.exportable||this.hidden&&!n||(h[this.displayfield]={},h[this.displayfield].text=this.text,h[this.displayfield].width=parseInt(this.width),isNaN(h[this.displayfield].width)&&(h[this.displayfield].width=60),h[this.displayfield].formatString=this.cellsformat,h[this.displayfield].localization=d.gridlocalization,h[this.displayfield].type=g,h[this.displayfield].cellsAlign=this.cellsalign,h[this.displayfield].hidden=!s,h[this.displayfield].displayfield=this.displayfield,j.push(h[this.displayfield])),u="cell"+p;var v=e(this.element);if(void 0==this.element&&(v=e(this.uielement)),q){if(!a._rendered){v=q,l=T,o=_;var b=d.toTP("jqx-grid-cell")+" "+d.toTP("jqx-item");l[0].className=b,b+=d.toTP("jqx-grid-cell-alt"),o&&(o[0].className=b)}}else q=v;if(m="column"+y,"html"==t||"xls"==t||"pdf"==t){var w=function(e,r,s,i,l,o,a,d,f){c[e]={},void 0!=r&&(c[e]["font-size"]=r.css("font-size"),c[e]["font-weight"]=r.css("font-weight"),c[e]["font-style"]=r.css("font-style"),c[e]["background-color"]=o._getexportcolor(r.css("background-color")),c[e].color=o._getexportcolor(r.css("color")),c[e]["border-color"]=o._getexportcolor(r.css("border-top-color")),s?c[e]["text-align"]=l.align:(c[e]["text-align"]=l.cellsalign,c[e].formatString=l.cellsformat,c[e].dataType=g),"html"!=t&&"pdf"!=t||(c[e]["border-top-width"]=r.css("border-top-width"),c[e]["border-left-width"]=r.css("border-left-width"),c[e]["border-right-width"]=r.css("border-right-width"),c[e]["border-bottom-width"]=r.css("border-bottom-width"),c[e]["border-top-style"]=r.css("border-top-style"),c[e]["border-left-style"]=r.css("border-left-style"),c[e]["border-right-style"]=r.css("border-right-style"),c[e]["border-bottom-style"]=r.css("border-bottom-style"),s?(0==a&&(c[e]["border-left-width"]=r.css("border-right-width")),c[e]["border-top-width"]=r.css("border-right-width"),c[e]["border-bottom-width"]=r.css("border-bottom-width")):0==a&&(c[e]["border-left-width"]=r.css("border-right-width")),c[e].height=r.css("height")),!l.exportable||l.hidden&&!n||(1==d?(h[l.displayfield].customCellStyles||(h[l.displayfield].customCellStyles=new Array),h[l.displayfield].customCellStyles[f]=e):s?h[l.displayfield].style=e:i?h[l.displayfield].cellAltStyle=e:h[l.displayfield].cellStyle=e))};if(w(m,v,!0,!1,this,d,r),y++,w(u,l,!1,!1,this,d,r),d.altrows&&w(u="cellalt"+p,o,!1,!0,this,d,r),this.customCellStyles){for(var C in a.customCellStyles)l.removeClass(a.customCellStyles[C]);for(var C in a.customCellStyles)l.addClass(a.customCellStyles[C]),w(u+a.customCellStyles[C],l,!1,!1,this,d,r,!0,C),l.removeClass(a.customCellStyles[C])}p++}}),e.each(this.columns.records,function(e){h[this.displayfield]&&(h[this.displayfield].columnsDataFields=j)}),this.showaggregates){var F=[],P="xls"==t?"_AG":"",N=this.groupable?this.groups.length:0;this.rowdetails&&N++,"checkbox"===this.selectionmode&&N++,x.length>0&&(e.each(this.columns.records,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(F[t]||(F[t]={}),F[t]){var r=d._getaggregatename(this.aggregates[t]),s=d._getaggregatetype(this.aggregates[t]),i=x[e-N];i&&(F[t][this.displayfield]=P+r+": "+i[s])}}),e.each(this.columns.records,function(e){for(var t=0;t<F.length;t++)void 0==F[t][this.displayfield]&&(F[t][this.displayfield]=P)})),e.each(F,function(){i.push(this)})}var O=this,A=e.jqx.dataAdapter.ArrayExporter(i,h,c);if(void 0==r){this._renderrows(this.virtualsizeinfo);var I=A.exportTo(t);return this.showaggregates&&e.each(F,function(){i.pop(this)}),setTimeout(function(){O.exporting=!1},50),I}A.exportToFile(t,r,o,a),this.showaggregates&&e.each(F,function(){i.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){O.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var r=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(r[0].substring(5)),i=parseInt(r[1]),l=parseInt(r[2]),o=parseInt(r[3].substring(1,4)),a={r:s,g:i,b:l},d=this._rgbToHex(a);return 0==s&&0==i&&0==l&&0==o?"#ffffff":"#"+d}a={r:s=parseInt(r[0].substring(4)),g:i=parseInt(r[1]),b:l=parseInt(r[2].substring(1,4))};return"#"+(d=this._rgbToHex(a))}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var r=this,s="string",i=r.source.datafields||(r.source._source?r.source._source.datafields:null);if(i){var l="";if(e.each(i,function(){if(this.name==t.displayfield)return this.type&&(l=this.type),!1}),l)return l}if(null!=t){if(void 0==this.dataview.cachedrecords)return s;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o){if(-1!=t.cellsformat.indexOf("c"))return"number";if(-1!=t.cellsformat.indexOf("n"))return"number";if(-1!=t.cellsformat.indexOf("p"))return"number";if(-1!=t.cellsformat.indexOf("d"))return"date";if(-1!=t.cellsformat.indexOf("y"))return"date";if(-1!=t.cellsformat.indexOf("M"))return"date";if(-1!=t.cellsformat.indexOf("m"))return"date";if(-1!=t.cellsformat.indexOf("t"))return"date";if("boolean"==typeof o)s="boolean";else if(e.jqx.dataFormat.isNumber(o))s="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var d=new Number(o);return isNaN(d)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}}return s}})}(jqxBaseFramework);

!function(t){t.extend(t.jqx._jqxGrid.prototype,{_initpager:function(){var e=this.that,i=this.gridlocalization.pagergotopagestring,s=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),a=(this.pagerheight-20)/2;if(this.pagerdiv=this.pagerdiv||t('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var r=this.pagerrenderer();null!=r&&this.pagerdiv.append(t(r)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",a),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||t('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||t('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||t('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||t('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||t('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||t('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=t('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=t('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=t('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||t('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){t.jqx.browser.msie&&t.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var o=t("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(o);var h=t("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(h),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var p=this.rtl?"right":"left";this.pagerbuttons.css("float",p),this.pagerlastbutton.css("float",p),this.pagerfirstbutton.css("float",p),this.pagerrightbutton.css("float",p),this.pagerleftbutton.css("float",p),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var n=t("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(n);var d=t("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var g=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:g,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme});for(var l=0,u=0;u<g.length;u++)this.pagesize>=g[u]&&(l=u);this.pagershowrows[0].innerHTML=s,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:l}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");e=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(t){if(t.args){e.vScrollInstance&&e.vScrollInstance.setPosition(0),null!=e.editcell&&e.endcelledit&&e.endcelledit(e.editcell.row,e.editcell.column,!0,!1);var i=t.args.index,s=e.dataview.pagenum*e.dataview.pagesize,a=g[i],r=e.pagesize;e.pagesize=parseInt(a),isNaN(e.pagesize)&&(e.pagesize=10),a>=100?e.pagershowrowscombo.jqxDropDownList({width:"auto"}):e.pagershowrowscombo.jqxDropDownList({width:44}),e.dataview.pagesize=e.pagesize;var o=Math.floor(s/e.dataview.pagesize);e.prerenderrequired=!0,e._requiresupdate=!0,e._raiseEvent(10,{pagenum:o,oldpagesize:r,pagesize:e.dataview.pagesize}),e.gotopage(o),e.autoheight&&e._updatesizeonwindowresize&&(e._updatesize(!0),setTimeout(function(){e._updatesize(!0)},500))}});var v=this.pagergotoinput.find("input");v.addClass(this.toThemeProperty("jqx-grid-pager-input")),v.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(v,"keydown"),this.removeHandler(v,"change"),this.addHandler(v,"keydown",function(t){if(t.keyCode>=65&&t.keyCode<=90)return!1;if("13"==t.keyCode){var i=v.val();return i=parseInt(i),isNaN(i)||e.gotopage(i-1),!1}}),this.addHandler(v,"change",function(){var t=v.val();t=parseInt(t),isNaN(t)||e.gotopage(t-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){n.addClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){n.removeClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){n.addClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){n.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(t(document),"mouseup.pagerbuttons"+this.element.id,function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected")),n.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){e.pagerrightbutton.jqxButton("disabled")||(e.rtl?e.gotoprevpage():e.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){e.pagerleftbutton.jqxButton("disabled")||(e.rtl?e.gotonextpage():e.gotoprevpage())});var m=this;if("simple"===this.pagermode){var c=this.pagerfirstbutton,w=this.pagerlastbutton;this.addHandler(w,"mouseenter",function(){h.addClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(c,"mouseenter",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(w,"mouseleave",function(){h.removeClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(c,"mouseleave",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(w,"mousedown",function(){h.addClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(c,"mousedown",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(w,"mouseup",function(){h.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(c,"mouseup",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(t(document),"mouseup.pagerbuttons"+name+this.element.id,function(){d.removeClass(m.toThemeProperty("jqx-icon-arrow-right-selected")),n.removeClass(m.toThemeProperty("jqx-icon-arrow-left-selected")),h&&(h.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected")),o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(m.rtl){var t=m.dataview.totalrecords,e=Math.ceil(t/m.pagesize);m.gotopage(e-1)}else m.gotopage(0)}),this.addHandler(w,"click",function(){if(!w.jqxButton("disabled"))if(m.rtl)m.gotopage(0);else{var t=m.dataview.totalrecords,e=Math.ceil(t/m.pagesize);m.gotopage(e-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var e=this.pagergotoinput.find("input");e.removeClass(),e.addClass(this.toThemeProperty("jqx-grid-pager-input")),e.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=t("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var s=t("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(s),"simple"==this.pagermode){t.jqx.browser.msie&&t.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var a=t("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(a);var r=t("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(r),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var o=function(t,e){t.removeHandler(e,"mouseenter"),t.removeHandler(e,"mouseleave"),t.removeHandler(e,"mousedown"),t.removeHandler(e,"mouseup")};o(this,this.pagerrightbutton),o(this,this.pagerleftbutton);var h=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){s.addClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){s.removeClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){s.addClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){s.removeClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(t){if(null!=t&&void 0!=t||(t=0),-1==t&&(t=0),!(t<0)){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:t,pagesize:this.dataview.pagesize});var s=Math.ceil(e/this.pagesize);if(t>=s&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=s-1),t<0&&(t=0)),(this.dataview.pagenum!=t||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(t,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=t,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var a=t*this.dataview.pagesize,r=a+this.dataview.pagesize;if(null!=a&&null!=r)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:t,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var o=this.host.height()-this._gettableheight();height=o+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:t,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var e=Math.ceil(t/this.pagesize);this.gotopage(e-1)}},gotonextpage:function(){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var e=Math.ceil(t/this.pagesize);this.dataview.pagenum<e-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var e=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var s=this.dataview.totalrecords;this.summaryrows&&(s+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=s)),e++;var a=Math.ceil(s/this.dataview.pagesize);if(a>=1&&a--,a++,"simple"!==this.pagermode)this.pagergotoinput.find("input").val(this.dataview.pagenum+1);else{var r="",o=this.pagerbuttonscount;0!=o&&o||(o=5);var h=0;for(this.rtl&&(h=o-1);this.rtl&&h>=0||!this.rtl&&h<o;){var p=1+h,n=this.dataview.pagenum/o;p+=Math.floor(n)*o;d=this.toTP("jqx-grid-pager-number");if(d+=" "+this.toTP("jqx-rc-all"),p>a)break;if(this.rtl||0==h&&p>o&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(h===o-1){d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),a>=1+p&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",h===o-1){d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),a>=1+p&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){var d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),0==h&&p>o&&(r+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?h--:h++}l=this.pagerbuttons.find("a");this.removeHandler(l,"click"),this.removeHandler(l,"mouseenter"),this.removeHandler(l,"mouseleave"),this.pagerbuttons[0].innerHTML=r;var g=this,l=this.pagerbuttons.find("a");g.addHandler(l,"click",function(e){var i=t(e.target).attr("data-page");return g.gotopage(parseInt(i)-1),!1}),g.addHandler(l,"mouseenter",function(e){t(e.target).addClass(g.toTP("jqx-fill-state-hover"))}),g.addHandler(l,"mouseleave",function(e){t(e.target).removeClass(g.toTP("jqx-fill-state-hover"))})}this.pagergotoinput.attr("title","1 - "+a),0==i&&i<e&&(e=0),this.rtl?this.pagerdetails[0].innerHTML=s+this.gridlocalization.pagerrangestring+i+"-"+e:this.pagerdetails[0].innerHTML=e+"-"+i+this.gridlocalization.pagerrangestring+s,e>i&&this.gotoprevpage()}},_updatepagedview:function(t,e,i){var s=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var a=this.dataview.rows.length,r=0;r<a;r++){var o=this.dataview.rows[r].visibleindex,h={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};if(void 0==this.heights[o]&&(this.heights[o]=this.rowsheight,h.height=this.rowsheight),void 0==this.hiddens[o]&&(this.hiddens[o]=!1,h.hidden=!1),void 0==this.details[o]&&(this.details[o]=null),h.height!=s.rowsheight&&(e-=s.rowsheight,e+=h.height),h.hidden)e-=h.height;else{i+=h.height;var p=0;this.rowdetails&&h.details&&h.details.rowdetails&&!h.details.rowdetailshidden&&(i+=p=h.details.rowdetailsheight,e+=p)}}return this._pageviews[0]={top:0,height:i},e}})}(jqxBaseFramework);

!function(e){e.extend(e.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,a,r,s){var i=t.aggregates;if(i||(i=a),i){for(var g=new Array,n=0;n<i.length;n++)"count"!=i[n]&&(g[g.length]=t.cellsformat);if(this.source&&this.source.getAggregatedData){if(void 0==s&&(s=this.getrows()),this.virtualmode){var s=new Array;e.each(this.source._source.records,function(){s.push(this)})}if(void 0==r||1==r)return o=this.source.getAggregatedData([{name:t.datafield,aggregates:i,formatStrings:g}],this.gridlocalization,s);var o=this.source.getAggregatedData([{name:t.datafield,aggregates:i}],this.gridlocalization,s);return o}}return null},getcolumnaggregateddata:function(e,t,a,r){var s=this.getcolumn(e),i=void 0!=a&&0!=a&&a;if(null==t)return"";var g=s.aggregates;s.aggregates=null;var n=this._calculateaggregate(s,t,i,r),o={};return n&&(o=n[e]),s.aggregates=g,o},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,a,r){var s=this;if(a)if(r.children().remove(),r.html(""),t.aggregatesrenderer){if(a){g=t.aggregatesrenderer(a[t.datafield],t,r,this.getcolumnaggregateddata(t.datafield,a[t.datafield]));r.html(g)}}else e.each(a,function(){var t=this;for(i in t){var a=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),g=i;g=s._getaggregatename(g),a.html(g+":"+t[i]),s.rtl&&a.addClass(s.toThemeProperty("jqx-rtl")),r.append(a)}});else if(r.children().remove(),r.html(""),t.aggregatesrenderer){var i={};t.aggregates&&(i=this.getcolumnaggregateddata(t.datafield,t.aggregates));var g=t.aggregatesrenderer({},t,r,null);r.html(g)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var a in e){t=a;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var a in e){t=a;break}return t},_updatecolumnsaggregates:function(){var t=this.getrows(),a=this.columns.records.length;if(void 0!=this.statusbar[0].cells)for(var r=0;r<a;r++){var s=e(this.statusbar[0].cells[r]),i=this.columns.records[r],g=this._calculateaggregate(i,null,!0,t);this._updatecolumnaggregates(i,g,s)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),a=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),a=-1),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var i=r+10,g=new Array;this.statusbar[0].cells=g;for(var n=this.getrows(),o=0;o<r;o++){var l=this.columns.records[o],d=this._calculateaggregate(l,l.aggregates,!0,n),c=l.width;c<l.minwidth&&(c=l.minwidth),c>l.maxwidth&&(c=l.maxwidth);var h=s;l.cellsalign&&(h+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+h+'"></div>');t.append(u),u.css("left",a),this.rtl?u.css("z-index",i++):u.css("z-index",i--),u.width(c),u[0].left=a,l.hidden&&l.hideable?u.css("display","none"):a+=c,g[g.length]=u[0],this._updatecolumnaggregates(l,d,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",i--),t.width(parseFloat(a)+2),t.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(t),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(s),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t=this,s={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,minLength:1,maxLength:null};return this===e.jqx._jqxInput.prototype?s:(e.extend(!0,this,s),s)},createInstance:function(){var t=this;"none"!==t.host.css("display")&&!1!==document.body.contains(t.element)||(t._initiallyHidden=!0),t._popupHelper=e(t.$popup),t.render()},render:function(){var t=this;if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var s=t.element.getElementsByTagName("input"),i=!1;if(e.each(s,function(){var t=this.type;if(null==t||"text"===t||"textarea"===t)return s=e(this),i=!0,!1}),!i)throw new Error("jqxInput: Missing Text Input in the Input Group");if(s.length>0){this.baseHost=e(this.element),t.baseElement=t.element;var r=this.host.data();this.host=s,this.element=s[0],this.host.data(r),t.baseElement.className+=" "+t.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");var a=this.baseHost.children();e.each(a,function(s){var i="jqx-input-group-addon";e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===s&&(i+=" jqx-rc-l"),s===a.length-1&&(i+=" jqx-rc-r"),this!==t.element&&(i+=" jqx-fill-state-normal"),this.className+=" "+t.toThemeProperty(i)})}}this.addHandlers(),this.rtl&&(t.element.className+=" "+t.toThemeProperty("jqx-rtl")),t.element.setAttribute("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,s=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var s="",i="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(s=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(i=e[t.valueMember]),""===s&&(s=e.label),""===i&&(i=e.value),{label:s,value:i}}return e},i=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=s(e[i]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=i(t.adapter.records)});else{var r={};this.adapter._options.data?e.extend(t.adapter._options.data,r):(this.source._source.data&&e.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=i(t.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=i(this.source))},_refreshClasses:function(t){var s=t?"addClass":"removeClass",i="jqx-widget-content jqx-input jqx-widget",r="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";e.jqx.browser.msie&&(r+=" jqx-noshadow"),this.roundedCorners&&(i+=" jqx-rc-all",r+=" jqx-rc-all"),this.disabled?i+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[s](this.toThemeProperty(i)),this._popupHelper[s](this.toThemeProperty(r))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var s=t[0].createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height&&(this.baseElement.style.height=this._toPx(this.height));var t=this,s=e.jqx.browser.msie&&e.jqx.browser.version<9,i=0;if(e.each(this.baseHost.children(),function(){this.style.height="100%",this!==t.element&&(i+=e(this).outerWidth())}),t._addonsWidth=i,s){var r=Math.max(0,t.baseElement.offsetHeight-2);t.element.style.width=Math.max(0,t.baseElement.offsetWidth-i-1)+"px",t.element.style.minHeight=r+"px",t.element.style.lineHeight=r+"px"}else t.element.style.width="calc(100% - "+i+"px)";e.jqx.utilities.resize(t.baseHost,function(){if(s&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden)t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";else if(t._initiallyHidden){if(t._addonsWidth=t._getAddonsWidth(),s){t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";var e=t.baseElement.offsetHeight-2;t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"}else t.element.style.width="calc(100% - "+t._addonsWidth+"px)";t._initiallyHidden=!1}})}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height));this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&this.element.setAttribute("maxlength",this.maxLength),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var t=this;"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?t.element.setAttribute("placeHolder",t.placeHolder):""===t.element.value&&(t.element.value=t.placeHolder)},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,s){s.width&&s.height&&2===Object.keys(s).length&&e.refresh()},propertyChangedHandler:function(t,s,i,r){if("width"!==s||r===i)return"placeHolder"===s?("placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==i||(t.element.value=""),void t._refreshPlaceHolder()):void(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length||("theme"===s&&e.jqx.utilities.setTheme(i,r,t.host),"opened"!==s?("source"===s&&(t._oldsource=r,t._updateSource()),"displayMember"!==s&&"valueMember"!==s||(t.source=t._oldsource,t._updateSource()),"disabled"===s&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"===s&&(t.element.value=r),t.refresh()):r?t.open():t.close()));t.baseHost?(t.baseElement.style.width=t._toPx(r),e.jqx.browser.msie&&e.jqx.browser.version<9&&(t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px")):t.element.style.width=t._toPx(r)},select:function(e,t,s){var i=this._find("jqx-fill-state-pressed",this._popupHelper),r=i.getAttribute("data-value"),a=i.getAttribute("data-name");return this.element.value=this.renderer(a,this.element.value),this.selectedItem={label:a,value:r},this.element.setAttribute("data-value",r),this.element.setAttribute("data-label",a),this._raiseEvent("0",{item:{label:a,value:r},label:a,value:r}),this._raiseEvent("3",{type:s,item:{label:a,value:r},label:a,value:r}),this.value=a,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.element.value=e.label,this.element.value):(this.value=e,this.element.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this.element.value)},_raiseEvent:function(t,s){void 0===s&&(s={owner:null});var i=this.events[t];s.owner=this;var r=new e.Event(i);return r.owner=this,r.args=s,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var s=this.element.id+"_popup";this.$popup.id=s,e.jqx.aria(this,"aria-owns",s),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block";var i=0,r=this._popupHelper.children();return e.each(r,function(){i+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(i),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},suggest:function(){var t;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source)?this.load(t):this},load:function(e){for(var t=this,s=[],i=0;i<e.length;i++){var r=e[i];t.filter(r)&&s.push(r)}return(s=this.sort(s)).length?this._render(s.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var s=this.query,i=t;switch(null!=t.label?i=t.label:this.displayMember&&(i=t[this.displayMember]),this.searchMode){case"none":break;default:return e.jqx.string.containsIgnoreCase(i,s);case"contains":return e.jqx.string.contains(i,s);case"equals":return e.jqx.string.equals(i,s);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(i,s);case"startswith":return e.jqx.string.startsWith(i,s);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(i,s);case"endswith":return e.jqx.string.endsWith(i,s);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(i,s)}},_sort:function(e){for(var t=[],s=[],i=[],r=0;r<e.length;r++){var a=e[r],l=a;a.label?l=a.label:this.displayMember&&(l=a[this.displayMember]),0===l.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(a):l.toString().indexOf(this.query)>=0?s.push(a):l.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&i.push(a)}return t.concat(s,i)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var s=new RegExp("("+t+")","ig");return e.replace(s,function(e,t){return"<b>"+t+"</b>"})},_render:function(t){var s=this,i=s._popupHelper.children();if(i.length>0)for(var r=0;r<i.length;r++)e(i[r]).remove();var a=function(e,t){var i,r,a=e,l=document.createElement("li"),n=document.createElement("a");n.setAttribute("href","#"),l.appendChild(n),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(i=e.label,r=e.value):(i=e.value,r=e.value):void 0!==e.label&&null!==e.label?(i=e.label,r=e.label):void 0!==s.displayMember&&""!==s.displayMember?(i=e[s.displayMember],r=e[s.valueMember]):(i=e,r=e),l.setAttribute("data-value",r),l.setAttribute("data-name",i),e.label?a=e.label:s.displayMember&&(a=e[s.displayMember]),n.innerHTML=s.highlight(a);var o="";s.rtl&&(o=" jqx-rtl"),0===t&&(o+=" jqx-fill-state-pressed"),l.className=s.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+o),s.$popup.appendChild(l),s.addHandler(l,"mouseenter",function(e){s.mouseenter(e)})};return function(e){for(var t=0;t<e.length;t++)a(e[t],t)}(t),this.dropDownWidth?this.$popup.style.width=s._toPx(s.dropDownWidth):this.$popup.style.width=s._toPx(s.element.offsetWidth-6),this},next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),s=t.nextSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s||(s=this.$popup.firstChild),s.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),s=t.previousSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s||(s=this.$popup.lastChild),s.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.addHandler(e.host,"focus"+t,function(){e.onFocus()}),e.addHandler(e.host,"blur"+t,function(){e.onBlur()}),e.addHandler(e.host,"change"+t,function(t){if(!t.args){t.stopPropagation(),t.preventDefault();var s,i,r=e.val();r&&r.label?(s=r.label,i=r.val):(s=r,i=r),e._raiseEvent("3",{type:"keyboard",item:{label:s,value:i},label:s,value:i}),e.value=s}}),e.addHandler(e.host,"keypress"+t,function(t){e.keypress(t)}),e.addHandler(e.host,"keyup"+t,function(t){e.keyup(t)}),e.addHandler(e.host,"keydown"+t,function(t){e.keydown(t)}),e.addHandler(e.$popup,"mousedown"+t,function(t){e.click(t)})},removeHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.removeHandler(e.host,"change"+t),e.removeHandler(e.host,"focus"+t),e.removeHandler(e.host,"blur"+t),e.removeHandler(e.host,"keypress"+t),e.removeHandler(e.host,"keyup"+t),e.removeHandler(e.host,"keydown"+t),e.removeHandler(e.$popup,"mousedown"+t)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){var t=[40,38,9,13,27];this.suppressKeyPressRepeat=-1!==t.indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.val("")},onBlur:function(){var t=this;setTimeout(function(){t.close()},150),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==t.element.value&&t.element.value!==t.placeHolder||(t.element.value=t.placeHolder)},onFocus:function(){var t=this;t.element.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==t.placeHolder||(t.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var s=t.children(),i=0;i<s.length;i++){var r=s[i];if(-1!==r.className.indexOf(e))return r}},_getAddonsWidth:function(){for(var t=this,s=t.baseHost.children(),i=0,r=0;r<s.length;r++)s[r]!==t.element&&(i+=e(s[r]).outerWidth());return i}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxKanban","",{}),e.extend(e.jqx._jqxKanban.prototype,{defineInstance:function(){var n={animationDelay:100,columnRenderer:null,columns:null,connectWith:null,headerWidth:30,headerHeight:30,height:400,handle:null,itemRenderer:null,ready:null,resources:null,rtl:!1,source:null,template:"<div class='jqx-kanban-item' id=''><div class='jqx-kanban-item-color-status'></div><div class='jqx-kanban-item-avatar'></div><div class='jqx-kanban-item-text'></div><div class='jqx-kanban-item-footer'></div></div>",templateContent:{id:0,status:"work",text:"New text",content:"New content",tags:"New, tags",color:"green",resourceId:0,className:""},width:600,verticalTextOrientation:"topToBottom",_kanbanId:null,_dropKanbanId:null,_connectWith:null,_kanbanColumns:null,_selectedItemId:null,_selectedItemValues:null,_draggedItemId:null,_draggedItemValues:null,_selectedColumn:null,_source:null,_resourcesLength:null,_items:[],_ie8:e.jqx.browser.msie&&8==e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_parentsTag:null,_columns:[],_collapsedColumns:0,_expandedColumns:null,_columnBorders:[1,1,1,1],_css_color_names:["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],_clearing:"<div class='jqx-kanban-clearing'></div>",_commonItem:{id:null,name:"no name",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURZSUlJWVlZaWlpeXl5iYmJmZmZubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3uDg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvUOQQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AABbSSURBVHherVsHQ9tIE+XO2NimF9N7KAklhN6SkARS6IRqwGBblsn//wffe29Wsh1M4L67t9JqJa/mzcyuGjPU/HoOD8VikWvBf3goPjz88h6KaGHBns8jWIAC+6Djwy8cKWDVYdROzFN4VoGHX6Goou9THEiKRb/gefl8LpfL5nJ5wPO8gu+THuRAAf0Ek/I0nlPASTEvQA3foxp+/j7z4/uryXhdJBL/O9Y7NvPlayabL1gv6FFgL3fun/ECBegAktPxHjTxvfzJfFcsEklEk3/V1UaidbFoNBaNdy4e5TyQFwvUgSMmOEFP4QVDIC/8gmex+L6XvVptjcYT8URdtLY2Fk0kY7V1ddF4XTISaWidvcxDBSyeKf3vh4BTinI0sQoFL3v0irTxZF0ykUhgE48kkpFEYzQWT2InmRw8y3uYDBqv/0IB2GHCfEyronc4HI/X1ycbkrAaCiTjiWR9MpHEUl9fF4MKiYbY6Ak0kNK8Iv79EACmgV+4mydVUpyNdfVJq7TfUJ+ob0jWNzYkmpOJdxnOhZe54EWTsFjEtpD/0d6UbKivr29oaMBar6ZqHWpobKhvbGzEtrG+70uOGnBGOjlP4lkF8rjt4LIqFLJTTU3JDogXmpqaWKOw1gbHUDU3NjfXJ7teZ3VB/AdzgMOJCeinO5ubm5uSEC80NUMFoLmlGQsrAa2m5ra2pobmvhsPV+1/Mwlx4/Ev+9oaG1NNrY3iaW1tBZkjNegQNm0tLW1trW3tjf3pAhT490NQ9DH+3m1/S3tbcyuMA1GINsA10W5Fu72tvaOjDaq0drX13PCu7OQ8iWcVKBR/+d5NT3tbR3t7a6q9pb0dFGi3ocYmgPa439aR6kh1ptqbO7p6b3FPdHKexLMKAN7NUHtXZ2tHV0dXW1cHCIAUoGYq1WlgAwfZ7OruTHX3tHeOXnv/TgGy4zmcfd3ek+rshWDI78IGS5e2bseOiFrAtrsr1d2bms1Kg2Akqg1IFQXQDR1Jzgup6N8vdPa19kFkd7fJ7+7pwQ4qrKgq0dvTo6W7p7ert2f2vmBmsOINzXGUUFUBquBOwLNvt6e/fQhUBpJWolelr9eKVURfd3/X6DdP7wf/WAGBV6BfyIz3dPf3dzuhWPr6y8oj9OsYfuof6O3v6568xqsSZZlR9G0lHisgZj79UeMlJ7/eNzgAof0D/QMDA/2PgIPlCPcHuQ73DX7Am5IEOjiWEI8UYB/effmCVfSK3uXAcB/kDEHgIIUSEv4bhhysOTg4PDg8NDQyPDR2AXY9muAFSHc0IaoqgNsv3Y8B8PML/cMDgyMDFDoEkUODwy/DyPDw6PDQyMjwEsaAxjg3OJoQ1eYAX0PdHbhwChkD46OwBxgdhcCRCoz+XoBXXInR4dGRV69OYQrZ5YAXKUB20mMK5LfHXg2NjA+PjjmhJvnPGBvDMjrO1sTY+OSWx7dJWk84khBVFLAJAx1wD8y9GpNEiiTGx8afx8TE+IQ1uI5NZPG2/NQIVFHA2OWFh8IJiSWMMLGVmKjE5OSka3BhNTlxjFd5J9BxlKHaJDQFOAbemokIxGrvCbxWUQtgrZ3Jqcn3VEAavOQ+4MyHAije9JSEBSjbIYvhTUWxA4YprK+nX7/FW9XLFbCOTodrKUAxwhQlPgP0mSKmCTbeTM1e6z1dCjzC7wqIHSsc8eAX9mcljJAw1CrTM08VABtt1ZqZfTMzu89vNpr0vAJmvl4nMQTethOJGvbMzsxgwVq1PIF3+OWLJ6tkmCMK8UgBeZ89cRv0PpXLrc7xtgp4dA5Ac25udn72k2YhhT6jADuYAtzCA0vlDJVklO5ArhDvKjA3Nz//7t1KXp9KlPvoJbWKAqSnvlBgYW72N4kh5p/CAgt+1nZ+YWFhfn6RX6xOsqMK8UgBMsMLbPieJFUHJAuLlWWxrK0CLC2UPPAyBZwPfO/dMmUslaQuLi0tVpTHWLbiOrDH2pJ9rUquowrxeAgcpMA8TjeSkMzJd2XlEZYd3C4PrGEOmE+fUcCYHaTACgiXVyqKbVZWXXkEHlxbDcva+trKyga+E82pEOzIAjxSQJ1s63tbK6slWVZss762LuHrADeVZX1jfcO11zbX11c/u691k+3YHKoqoBUPI+8bRBkJwC2bku/KJrFBqFUV7zd2TQFnnGNzKFOAP5YU0F9kvm+8d1Kq4f1T+PABq2u+f7/5cV/PY8nFxtE5PKGAKt+/oIxNFYhiCfYCfCjHR8A1Q3z88HHrouDuhNTixQrgxdTPQaYTFAISWUJslZVPW8CnCuDA53s+2v+BAuwmnxW97VAcRROfysunz4/gun9yjS+fP2/t4O3e5P5DBfBdekiRKp+/qLg9dwz4UgXbXLdRo9re/nxUKPIvyf9EAfoLc+DBvwGpQbIAii8rPBKUnW0WVWHhknYKQDgZHJ3DIwUAU4DfJUXvGyRWYucP+IqiqlR2vu7m+IdbKSA4OodqCtANcD/eyh8KxxCx89UqbSrAY1+/VRRWxPfvbGPz/di+C9wA/EGBcg3MY7gVeDu7Oz92vv6QVAilREEsxPey8gPHUX4Qu1i+f9v7tntvf7eWQIh1ZAGeUsCh6J/u/IBAMGol0HIFJLsBsFMV30/dHwzh1H+qAHUuZkGy95R0w164DVoAdrAc/jjI0QFYnAKOK8QfPYBTioX0t30JlPg9bIS9vX2Vx3DH9ncP9nf3D/Yv8Z0vQf9UAZrPyveOacze/sEBxO1rrcQB4JrA4cEhDxxgc3iwd4ABwAhoCkqB30fgGQW4LWT3Dg/3Dg4ByTUccT1i/Rh2+Pjw6OTgOIOXaz5Z+X0qkY4rxDOTECj4V8cQeQwcoYGFYPv4+OTkREfVdgUHsMffjo9Prz1ezu597P9UAB9IJ4dnhySjdG6Inz9PqhUc/3l6eopfj36eHl5gAHA/1Ri8QIHqGuDE/MXPsxPIlewQP1VOzyoKcHaGxjlbab4Nk5mjr/r/UgD35FzaRJ5DtlGUcF5ZABw7v7g4O7/Wq6AtpgC2jirEswrYifmrSwiG3LOLcxTC6hAgDloXF5eXWDH+YtZioh7Rv0AB3kJ4MaahwmUVXFWWK/S7Ai4ubmB/QdTGL20cURme9wBWKpG/T19epdNpMARFSF9XFBy/xpq+us3zA9tJsEVwVCGenwN2Kp6O95B8fXN9nb5BHRSgbBfQ5jqTUfhU5/Nk1wAcVYgXTEJTAHek3H2GFDc3t4C1rP0bMnc5D+NvHyN0vUQ4JRxViMcKWHe3UU0JOuZ7mdu735DJuAaB9j2WHMzXS6VC/oEMSnhGAUIqoyNrO5dt90LjF7z7u/v7bNbWEFnsAmzCev1Z0E4OHKBKcDQhqihAZ9lZ7my3Z7uelyORCImcIR+0vNLFr1O1DS1wJGV4pMAv/WXZEP5xC1LQ5G0VXvA9L5/Lo0Ih2GQKA7YFzyMNTxWfzsZp2nGzwNEEeKQAGQINeKJr0qRQEEaiAIgerNoDuW+PfhrNru4UnQtainqBApSv09gXF5I7n7tqqY0GtPSpBGAtOwvXHjZODTvFJD3wD3DWqEQ1BSBEJ0uMhAQnB4pQCWyphX7W72y539VyW51px6mG4wlRZQjcuTzJ9HH7rFHxO48m8hf9oJ7sg0WDpGNC2BDUdjQhqiig00ys5HKY7ZDA4XEPePWlVAIN6wCoj41kIDSA9svwaAicQH6XkQVfJ5kPt1m1ZXdoI0fKepJMB90uUWCez3tdNcEvJH+BAvQ7hfMvFLrqb2ORpvnzPGZ6mSiRYIcBcu48wEk6zvcfTg0vd77wOp2TiuoQwPGEqOIBE42HGb7MsteRWCReWxefPc4w/gboZ5+DwqmvncAVhQKVx3Hv7mguVlvXeKw/j/maSzYOjqaExwrQhRxkDH3uriYajUf+jkUisWjr7HE2n+dFpx4aAH5zQg3coiUd7PB8Pns81xKJRCPxRO18Fq5hFgQmg3VxPCGqTUKzMnN5E4kk/o7ESF8XrY3WRlqmdzOWtEUVlatEbeAO44bp+czuTHMkGmemUSxaVzd8gy8jGx6T7WhCVFMAKhfxCtRTlwQ9mOsSNbHa2ggGIhqJ9s9sX9zhvq9boO6GVuP2fHe6/XYkFovXJ2LxeCKSrE8k6+PxH9m8/+DZJKB0xxOgqgIwLH/2Ohb5K1obgwNq/05gHOLxv/6CDnUxNDvHpnc+795kbvF0zmQy14c729PjPY0gZ1ZPrK6hsS7RHE/U1yeTTYkZvJyR3c1ExxOgxu5NFVME/s9dDCfgfHgeczAK+zkEcGwkCrdGY3GscHEdM5fizKiKJ0nNrCaY3diYTDY0JBsakw3NjcnWZPc3TB13rYqFK00lWQ3t1UH9rrVY8A5fJepitVEBTqhziAvgI6tymgz1sFX5RJZR1MAsnybm2qBqaGlrXsnaF4r9uQ4M/EZV9VAjckBewk/M18sfjiaT8TiYwW2kpAUnrCQcLUiZycS0JuMFcZDhA/qWltaW1lRLR1N7U9ctnpW8i+lVnQowQGweAKCBTKcSuPxzOwPNyQaqANCxJVOFEiXTlwCwKZWHGUVM5cFiiTVtbe3NqbauVHtvyxbuprixkY4kwZA/1EAbkEMbbHllw/6dwfpkSxM0IJQsliRh4GD5l5aanTLVUZJTSTUCk1062npT7V2pVFfn4p2H26YuYHO66QAPuMkhRXBd574OtrQ3NjZDAxK6UZV7yUda8ZI1IBYt6QJil1vDdJb2/s5UP3a7R/bg/zxpjAqDANYapwht5zzwM9u9za1NHXBjo0iZLyZOy9kSZwuTltrarRgl03pIya3LqmG6C7NaUr297b39fT29vUt8W4cHoABVcAoYOCkxTQrXWz1t3alUawoqmJnK0FKmltE6yEzHSi6QdncpzYaslt2ihJa+np7+oYGege6Rvv6RSyV0BBoAUsCaROFqa6i3o7Mr1dWR6mgjL1O1zEzn3hR5O62InLRBMo/xWkaN0D8w2M/Mk4GhgeGhoeGRoa/ZIIhpjM4DOoD5d74x0NMNaXRhpwhhqYzVqMpOS1iStWWkzLAJsmost2WQpZRboqyO0dHRd3d8inEkRGoK8PaA6Vm4WR0c7IPLaFBPV6cZG8JIy33c4yxVOg1I+2muslxAPExOB8vsAEZHxxdwo9FjVD4o4jI0D+D5e7421NsHh8mMvh7aSzrnYBE6WA8jpqVDMDQw1hG7FBNjtjQMpV+8erXL70ZRstJ9AMCr1znsH++H8nQfzAmTpoyRqxiJ0FDZ6mCcI5VpJuCdYE4Hkx+Y/jA+NYOnIx1gs6DGmrj/369MDI2OjA5zssAiZi9VmCq6gLfkXuN0Hg6g1I5SfofLeVCKxZvJN2f801mgAYdAE8Lbn4B7JGpkFDKhBGevkpbETd9aIdivRDr2apykgCWc0F5HKij9wXIbZqam19yrImjpAb4uYVDySxOTo2OTTFmB2yB7ZNhGVXwAc4bKs3iYWCM2g5kq2rI0jzevlfdg+RTKa5iam569LuANRTAFOAreLU57MzHGkRqfYMbO6EjAG1gKShWa6fJ0SGpctkGDiSS0NczkmJmZZqJBkH4wMzO7yRuy6HUV4LrEQ/jL9OS0k8GUmcmJMVwzXJytobUkDXkJ+ZeWGiUhVuZegE2wPAPV7+ZmF6703MWHOK4CPn+gwP3y5GsMz9RriIE4yJWNmMIl0sDB+NVImbIS2howlidavH0rauY1qMzPzy+9fbe08EHviLj760bETeFkdmpmdnp2xjJfIPYNrhixGqiSIy1LlTFbmVgS0BqjwRIq5lmClIPFxeXFhaV3eDTzdQRK+LwK4IH8NhyE8yWM04XOECUqx1kCWN2UErHjI+bmAtoAYmUCglIJgNWlhaW1Hwzm8oUIHuBl6N+szs1zkObmNVC0ZWa6RCo6o+RPhPGpdrY6RsA4DSJl0N8lFSyvrqxtrC5nefHxpcSeht7RMrM1FuagAMZKQjkczATCuDhOkpZ8PIfpxFE1DzNVQ0kWSpsALdMbQEzS1ZVVlwWwpjj8xubq2h6zDMFtb0RFbwf9ca7ljEAktXCsNpVIy6kkBWWtIw5JXXIFF0fLmL/LNgB1GOF/v7b5/uPGHR5+tL2Gr6p+7sPq0vLi8tLCCkQt0YSFBRsM8VaOajCsQVoHKeVhJVDATNLJ1PW1UmYBQ+2bjOlvfvwA/q1T3IwwB3EfgBaF0+V1eImughQaAiwwV6dEKweTUKSECFWB11gtaYKpDUZLVsKF3V3MfesTI9+KZ/t4Lce3q/d1A7oyN0Ies8yQpcUF0MLH5pSAldbqdzlZw2ooS6MwUhaF/0XKwLui3YYvXy7wSY0LAQoU/ZuNDxtKTYAMJ251bWW5ZKu5lw7mbJKhASpMtSSHUnaBaMMg/5fPDHF/UfR5e+c7vhh9fZh4/sF7dJaboAQBPTbWmTETYLXE6CgBx7opD0OAkdLDInXMQejdMRsYh77iU5AK4BpAZypLJSDB0j82NaxlxBWsNq7GCJRMNfLPLtwPLkerwDdD3Yo3M/aMzwReBZgKV9vUgOdRDvTYomgNyKbMDShJKlcFrDzr0xaTGZTeYLkFNLUiyB+G01kz5KxA8N6Pa94IoIB/CDWVbrC9LRM+y5iPdK7Rvi8ljdBSOjaAS3BQ9kIFFMZnmN0RB7ykdiHgY34p4n3A22N/O83UwIBBNvxgxPRKkDDySYkcMJSdpHY5lEIQ8AJlQW8XdFZceY8x3r29g1vdiPz0992vSgzAxFCmghyiUSFhANCKtIzW+mNkQesYLcIfhvVlKWpGmMm6v6/YroV2j08xDWuKhTN0wYlYJeXbN5O6Y+kijpae4eGAEtzOs0ZclklgZsLRiq8HYNQ5iPoqtHt8dHKa42v5/cG+xf3NR7u7MIJq2Pwtt9XSM4zQchoeuZju3WOYHUUISAMounvK+C4255e+X+Nf7R26mLwUdwABbQWxsxQ6ycMsro/4oLeNqVDG6cCAtiLK4FR9dspoK5aLs4vTgl/jnaLTgUZFCQKBEnu7JKUrUJWRUkvB3CszAZ7vKAHZarQw2WLMYcyX0V2GWdPnl5c3fk3u9PT4VLF2nEgxTBOAZOgBUvI6biMNjWWCAsHIPikZwHcQJRCEuh2ti+xeWMT1Ip2+vLq59GtuzxmVPkF3nAjFIeiIUg/24Ql6w1I1xElLSSsrCWUMkFKxewbXFd0W45mFmY3XSBlovUpfX6cJBj1vr72aNPr8vDzheZIAWcoTOD4Eq8vaIEQo/UqDKm7wkTE0lS6+vGARr+LJCvUCDLReX9/cMOyZubm7Td/f11xdoRf6alw0PSwL4PRY7t2nLoRjJq+NqWjZ2zhRXRix2Zq+Ilf6RqSkVKzVAqsMcLJiDLKGsWbogIWuohoSC1fQ4hNcrY7WnPzbfDqDlYGDL+XeAOZmchpvJpNhXBNQ5DOrWGcu79Wwz42C0NQk8AcHD4RkMkKXm+CmkhHKUNR0ryglBaBEEBJgIxNjq2zd3+f479L5vAduNDy/JpOhcgxG394y7i3NKRZzE56gr0ktWlZUUi4jQGlmilN2olIYWZDFBDkJRVj5D9v5HEOwOa9YI5dgRXenCAAVrkGHgTQiMGKVarSQtWP8jc/ixwzjOsKQ2OKssNyAX7I45j/U0D82JjifUgJ/UAPzsjTAXJFu4kRN9zqQ07ZGf5/lf6T/BlIQbpcHMAB4HMMpaOeDDk7W3R1pMDWclSIUSGGdUHNMaY3+Dd7BTKaFFFsBdLQGfvJkPxRQ30ACXWe/Z+8ZHlJctjrsC/9P4HePPnsE2yvtU8TDw0Pxf9HojR+SZp5gAAAAAElFTkSuQmCC"},_events:["initialized","itemSelected","itemCreated","itemMoved","itemReceived","columnSelected","columnUnselected","columnCollapsed","columnExpanded","itemAttrClicked","columnAttrClicked"]};return this===e.jqx._jqxKanban.prototype?n:(e.extend(!0,this,n),n)},createInstance:function(){var n=this;e("#"+n.element.id).empty(),n._createKanban()},_createKanban:function(){var e=this;e._ie8Plugin(),e._kanbanId=e.element.id;e._serializeSource(function(){e._getParent(),e._createKanbanField(),e._createKanbanLayout(),e._addCSS();e._populateKanban(function(){e._setKanbanConnections(),e._transformToSortable(),e._addEventHandlers(),e._rtlCheck(),e._refreshEventHandlers(),e._recalculateContainersHeight(),e._handlerExpandCollapse(),e._raiseEvent("0"),e._ready()})})},propertyChangedHandler:function(n,a,t,o){if("width"===a)return n.host.width(o-4),that._recalculateContainersHeight(),void that._calculateExpandedColumnsWidth();"height"!==a?(e("#"+n.element.id).empty(),n._createKanban()):n.host.height(o)},_getParent:function(){var e=this;e._parentsTag=e.host.parent().get(0).tagName.toLowerCase()},_createKanbanField:function(){var n=this,a=n.columns.length;if(null==n.width&&null==n.height)"body"==n._parentsTag?(n.width=e(window).innerWidth(),n.height=e(window).innerHeight(),(n._ie7||n._ie8)&&n.host.height(n.height),n.host.addClass(this.toThemeProperty("jqx-kanban-full-frame"))):(n.width=n.host.parent().width(),n.height=n.host.parent().height(),n.host.addClass(this.toThemeProperty("jqx-kanban-in-frame")));else if(null!=n.width&&null==n.height){if(n.width<=n.headerWidth*a)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");n.host.width(n.width)}else if(null!=n.heigth&&null==n.width){if(n.height<=n.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");n.host.heigth(n.heigth)}else{if(n.width<=n.headerWidth*a)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");if(n.height<=n.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");n.host.width(n.width),n.host.height(n.height)}n.host.addClass(this.toThemeProperty("jqx-widget"))},_createKanbanLayout:function(){var n=this,a=n.columns.length;n._expandedColumns=a;for(var t=n._calculateColumnDimensions(a),o=n._calculateContainerDimensions(a),r=0;r<a;r++){var l=e("<div id='"+n._kanbanId+"-column-"+r+"' class='jqx-kanban-column' data-column-data-field='"+n.columns[r].dataField+"' style='width:"+t[0]+"; height:"+t[1]+";'></div>");void 0===n.columns[r].maxItems&&(n.columns[r].maxItems=9999),n._columns.push(l),n.host.append(l);var s="jqx-kanban-column-vertical-container",d=n.columns[r].collapseDirection;d||(d="left"),"right"==d&&(s="jqx-kanban-column-vertical-container-inverse");var i=n.columns[r].iconClassName?n.toThemeProperty(n.columns[r].iconClassName):"",c=i?"<div class='"+n.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+i+"'></div></div>":"",u=i?"<div class='"+n.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+i+"'></div></div>":"",A=e("<div id='"+n._kanbanId+"-column-header-collapsed-"+r+"' data-kanban-column-header-collapsed='"+r+"' class='"+n.toThemeProperty("jqx-kanban-column-header-collapsed")+"'><div class='"+s+"'><span class='"+n.toThemeProperty("jqx-kanban-column-header-title")+"'>"+n.columns[r].text+"</span><span class='"+n.toThemeProperty("jqx-kanban-column-header-status")+"'></span></div>"+c+"<div class='"+n.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+n.toThemeProperty("jqx-window-collapse-button "+("right"==d?"jqx-icon-arrow-left":"jqx-icon-arrow-right"))+"'></div></div></div>");l.append(A);var m=e("<div id='"+n._kanbanId+"-column-header-"+r+"' data-kanban-column-header='"+r+"' class='"+n.toThemeProperty("jqx-kanban-column-header")+"'><span class='"+n.toThemeProperty("jqx-kanban-column-header-title")+"'>"+n.columns[r].text+"</span><span class='"+n.toThemeProperty("jqx-kanban-column-header-status")+"'></span>"+u+"<div class='"+n.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+n.toThemeProperty("jqx-window-collapse-button "+("right"==d?"jqx-icon-arrow-right":"jqx-icon-arrow-left"))+"'></div></div></div>");n.rtl&&(m.find(".jqx-kanban-column-header-button").addClass("jqx-kanban-column-header-button-rtl"),m.find(".jqx-kanban-column-header-custom-button").addClass("jqx-kanban-column-header-custom-button-rtl")),m.outerHeight(n.headerHeight),m.css("line-height",n.headerHeight+"px"),l.append(m);var h=e("<div id='"+n._kanbanId+"-column-container-"+r+"' data-kanban-column-container='"+n.columns[r].dataField+"' class='jqx-kanban-column-container' style='height:"+o[1]+"; overflow-y: auto;'></div>");if(l.append(h),l.data("kanban-column-collapsed",!1),n.columns[r].headerElement=m,n.columns[r].collapsedHeaderElement=A,n.columnRenderer&&n.columnRenderer(m,A,n.columns[r]),"left"==d){var b=m.find(".jqx-kanban-column-header-title").width();b+=m.find(".jqx-kanban-column-header-status").width(),b-=10,l.find(".jqx-kanban-column-header-title").css("left",-b+"px"),l.find(".jqx-kanban-column-header-status").css("left",-b+"px")}!1===n.columns[r].collapsible&&l.find(".jqx-kanban-column-header-button").hide()}1==a&&n.host.find(".jqx-kanban-column-header-button").hide()},_calculateColumnDimensions:function(n){var a=this,t=[],o=100/n,r=100,l=100;return 0==this.host.height()&&this.host.height(400),0==this.host.width()&&this.host.width(600),a._ie7?(o=this.host.width()/n-(this._columnBorders[1]+this._columnBorders[3]),l=(r=this.host.height()-(this._columnBorders[0]+this._columnBorders[2]))-this.headerHeight,o+="px",r+="px",l+="px"):(l=this.host.height()-e("#"+a._kanbanId+" div.jqx-kanban-column-header").outerHeight(),o+="%",r+="%",l+="px"),t.push(o),t.push(r),t.push(l),t},_calculateContainerDimensions:function(e){var n=[],a=100,t=100;return this._ie7?(a=this.host.width()/e-20,t=this.host.height()-this.headerHeight,a+="px",t+="px"):(t=this.host.height()-this.headerHeight,a+="%",t+="px"),n.push(a),n.push(t),n},_recalculateContainersHeight:function(){for(var n=this,a=document.getElementById(n._kanbanId+"-column-header-0"),t=0,o=0;o<n.columns.length;o++)if(!n.columns[o].collapsed){t=o,a=n.columns[o].headerElement[0];break}var r=parseInt(getComputedStyle(a).getPropertyValue("margin-top")),l=parseInt(getComputedStyle(a).getPropertyValue("margin-Bottom")),s=document.getElementById(n._kanbanId+"-column-container-"+t),d=parseInt(getComputedStyle(s).getPropertyValue("margin-top")),i=parseInt(getComputedStyle(s).getPropertyValue("margin-Bottom")),c=a.offsetHeight+r+l,u=d+i,A=this.host.height()-c-u;e("#"+n._kanbanId+" div.jqx-kanban-column-container").outerHeight(A)},_addCSS:function(){var n=this;if(e(n.host).addClass(n.toThemeProperty("jqx-kanban")),e("#"+n._kanbanId+" div.jqx-kanban-column").addClass(n.toThemeProperty("jqx-widget-content")),e("#"+n._kanbanId+" div.jqx-kanban-column-header").addClass(n.toThemeProperty("jqx-widget-header")),e("#"+n._kanbanId+" div.jqx-kanban-column-header-collapsed").addClass(n.toThemeProperty("jqx-widget-header")),e("#"+n._kanbanId+" div.jqx-kanban-column-container").addClass(n.toThemeProperty("jqx-widget-content")),n._ie8||n._ie7?e("#"+n._kanbanId+"-column-0").addClass(n.toThemeProperty("jqx-kanban-column-first")):(n._columnBorders[0]=e("#"+n._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2),n._columnBorders[1]=e("#"+n._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-right-width").slice(0,-2),n._columnBorders[2]=e("#"+n._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-bottom-width").slice(0,-2),n._columnBorders[3]=e("#"+n._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2)),"bottomToTop"==n.verticalTextOrientation){var a=e("#"+n._kanbanId).find(".jqx-kanban-column-vertical-container");a.removeClass("jqx-kanban-column-vertical-container"),a.addClass("jqx-kanban-column-vertical-container-inverse")}},_rtlCheck:function(){var n=this;1==n.rtl&&(e(n.host).addClass(n.toThemeProperty("jqx-kanban-rtl")),e("#"+n._kanbanId+" div.jqx-kanban-column-container").addClass(n.toThemeProperty("jqx-kanban-rtl")),e("#"+n._kanbanId+" div.jqx-kanban-item-keyword").addClass(n.toThemeProperty("jqx-kanban-item-keyword-rtl")))},_serializeSource:function(e){var n=this;n._source=[],n._sourceKeys=[];var a=function(a){if(a){for(var t=0;t<a.length;t++){var o={};o.id=void 0!=a[t].id?a[t].id:n.element.id+"_"+t,o.status=a[t].status||n.templateContent.status,o.text=a[t].text||n.templateContent.text,o.content=a[t].content||n.templateContent.content,o.tags=a[t].tags||n.templateContent.tags,o.color=a[t].color||n.templateContent.color,o.resourceId=a[t].resourceId||n.templateContent.resourceId,o.className=a[t].className||n.templateContent.className,n._source.push(o),n._sourceKeys[o.id]=o}e()}};if(n.source&&n.source.dataBind){var t=n.element.id;if(n.source.unbindBindingUpdate(t),n.source.dataBind(),0==n.source.records.length){n.source.unbindDownloadComplete(t),n.source.bindDownloadComplete(t,function(){a(n.source.records)})}else a(n.source.records);return n.source.unbindBindingUpdate(t),void n.source.bindBindingUpdate(t,function(){a(n.source.records)})}a(n.source)},_populateKanban:function(n){var a=this,t=0;null!==a._source&&(t=a._source.length||0),a._resources=new Array;var o=function(o){if(a._resources=o,null!==o&&void 0!==o){a._resourcesLength=o.length;for(r=0;r<a._resourcesLength;r++)1==o[r].common&&(a._commonItem=o[r])}for(var r=0;r<t;r++){var l=e(a.template);l.data("kanban-item-id",a._source[r].id);for(var s=a._commonItem,d=0;d<a._resourcesLength;d++)o[d].id==a._source[r].resourceId&&(s=o[d]);var i="<img class='jqx-kanban-item-avatar-image' alt='"+s.name+"' title='"+s.name+"' src='"+s.image+"' />";l.addClass(a.toThemeProperty("jqx-rc-all")),l.find(".jqx-kanban-item-avatar").append(i),""!=a.theme&&l.addClass(a.toThemeProperty("jqx-kanban-item"));var c=a.host.find("[data-kanban-column-container='"+a._source[r].status+"']");l.find(".jqx-kanban-item-color-status").css({"background-color":a._source[r].color}),a.rtl&&(l.find(".jqx-kanban-item-color-status").addClass("jqx-kanban-item-color-status-rtl"),l.find(".jqx-kanban-item-avatar").addClass("jqx-kanban-item-avatar-rtl")),l.find(".jqx-kanban-item-text").append(a._source[r].text),l.find(".jqx-kanban-item-content").append(a._source[r].content);var u="",A=[];null!==a._source[r].tags&&void 0!==a._source[r].tags&&(A=a._source[r].tags.replace(/\,\s/g,",").split(",")),A.forEach(function(e){u=u+"<div class='"+a.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),u+=a._clearing,l.find(".jqx-kanban-item-footer").append(u),l.append(a._clearing),l.attr("id",a._kanbanId+"_"+a._source[r].id),null!==a._source[r].className&&void 0!==a._source[r].className&&l.addClass(a.toThemeProperty(a._source[r].className)),a.itemRenderer&&a.itemRenderer(l,a._source[r],s),c.append(l),a._items[a._source[r].id]=l}n()};if(a.resources&&a.resources.dataBind){var r=a.element.id;if(a.resources.dataBind(),0==a.resources.records.length){a.resources.unbindDownloadComplete(r),a.resources.bindDownloadComplete(r,function(){o(a.resources.records)})}else o(a.resources.records);return a.resources.unbindBindingUpdate(r),void a.resources.bindBindingUpdate(r,function(){o(a.resources.records)})}a._resources=a.resources,o(a.resources),e("#"+a._kanbanId+" div.jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content"))},_ready:function(){var e=this;null!=e.ready&&"function"==typeof e.ready&&e.ready()},collapseColumn:function(e){for(var n=0;n<this.columns.length;n++)if(this.columns[n].dataField==e)return this._collapseColumn(n),!0;return!1},expandColumn:function(e){for(var n=0;n<this.columns.length;n++)if(this.columns[n].dataField==e)return this._expand(n),!0;return!1},_collapseColumn:function(n){var a=this,t=n||0;e("#"+a._kanbanId+"-column-header-collapsed-"+t).addClass(a.toThemeProperty("jqx-kanban-column-header-collapsed-show")),e("#"+a._kanbanId+"-column-header-"+t).addClass(a.toThemeProperty("jqx-kanban-column-hide")),e("#"+a._kanbanId+"-column-container-"+t).addClass(a.toThemeProperty("jqx-kanban-column-hide")),(a._ie8||a._ie7)&&(e("#"+a._kanbanId+" .jqx-kanban-column-vertical-container").addClass(a.toThemeProperty("jqx-kanban-column-vertical-container-ie8-fix")),e("#"+a._kanbanId+" .jqx-kanban-column-vertical-container-inverse").addClass(a.toThemeProperty("jqx-kanban-column-vertical-container-inverse-ie8-fix"))),a._columns[t].data("kanban-column-collapsed",!0),a.columns[t].collapsed=!0,a._calculateExpandedColumnsWidth(),a._raiseEvent("7",{column:a.columns[t]})},_expandColumn:function(n){var a=this,t=n||0;e("#"+a._kanbanId+"-column-header-collapsed-"+t).removeClass(a.toThemeProperty("jqx-kanban-column-header-collapsed-show")),e("#"+a._kanbanId+"-column-header-"+t).removeClass(a.toThemeProperty("jqx-kanban-column-hide")),e("#"+a._kanbanId+"-column-container-"+t).removeClass(a.toThemeProperty("jqx-kanban-column-hide")),a.columns[t].collapsed=!1,a._columns[t].data("kanban-column-collapsed",!1),a._calculateExpandedColumnsWidth(),a._raiseEvent("8",{column:a.columns[t]})},_calculateExpandedColumnsWidth:function(){var e=this,n=e._columns.length;e._collapsedColumns=0,e._expandedColumns=0;for(var a=0,t=e.headerWidth,o=0;o<n;o++)1==e._columns[o].data("kanban-column-collapsed")?e._collapsedColumns++:e._expandedColumns++;var r=(a=(e.host.width()-e.headerWidth*e._collapsedColumns)/e._expandedColumns)-(this._columnBorders[1]+this._columnBorders[3]);if(e._ie7&&(a=r,t=e.headerWidth-2),e.width&&e.width.toString().indexOf("%")>=0)for(var l=1/((e.host.width()+2)/100),s=t*l,o=0;o<n;o++)1==e._columns[o].data("kanban-column-collapsed")?e._columns[o][0].style.width=s+"%":e._columns[o][0].style.width=a*l+"%";else for(o=0;o<n;o++)1==e._columns[o].data("kanban-column-collapsed")?e._columns[o].outerWidth(t):e._columns[o].outerWidth(a)},_handlerExpandCollapse:function(){var n=this;n.addHandler(e("#"+n._kanbanId+" .jqx-kanban-column-header"),"click",function(a){var t=e(this).parent().index(),o=n.columns[t],r={attribute:"title",column:o,cancelToggle:!1};if(e(a.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)r={attribute:"button",column:o,cancelToggle:!1};if(n._raiseEvent("10",r),!r.cancelToggle&&n._expandedColumns>1){if(!1===o.collapsible)return;n._collapseColumn(t)}}),n.addHandler(e("#"+n._kanbanId+" .jqx-kanban-column-header-collapsed"),"click",function(a){var t=e(this).parent().index(),t=e(this).parent().index(),o=n.columns[t],r={attribute:"title",cancelToggle:!1,column:o};if(e(a.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)r={attribute:"button",cancelToggle:!1,column:o};n._raiseEvent("10",r),r.cancelToggle||n._expandColumn(t)})},_setKanbanConnections:function(){var e=this;e._kanbanColumns="#"+e._kanbanId+" div.jqx-kanban-column-container",e._connectWith=e._kanbanColumns,null!=e.connectWith&&e.connectWith.replace(/\,\s/g,",").split(",").forEach(function(n){e._connectWith=e._connectWith+", "+n+" div.jqx-kanban-column-container"})},_transformToSortable:function(){for(var n=this,a=0;a<e(n._kanbanColumns).length;a++)e(e(n._kanbanColumns)[a]).jqxSortable({connectWith:n._connectWith,maxItems:n.columns[a].maxItems||9999,cancel:".jqx-kanban-column-container-cancel",placeholderShow:"jqx-kanban-item-placeholder",revert:n.animationDelay,cursor:"move",tolerance:"pointer",containment:"window"});e.jqx.utilities.resize(n.host,null,!0),e.jqx.utilities.resize(n.host,function(){for(var a=0;a<e(n._kanbanColumns).length;a++)e(e(n._kanbanColumns)[a]).jqxSortable({containment:"window"})}),null!==n.handle&&(e(n._kanbanColumns).jqxSortable({handle:"."+n.handle}),e("#"+n._kanbanId+" ."+n.handle).addClass("jqx-kanban-handle"))},_calculateItemsPerColumn:function(e){},_calculateRestrictions:function(){},_redrawColumnHeader:function(e,n){},addItem:function(n){var a=this,t=n.id,o=null!=a._source?a._source.length:0;void 0==t&&(t=o);var r=a._kanbanId+"_"+t;a._source=null!=a._source?a._source:[];var l=null;a._css_color_names.indexOf(n.color)>-1?l=n.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n.color)?l=n.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(n.color)&&(l="#"+n.color);var s={id:t,status:n.status||a.templateContent.status,text:n.text||a.templateContent.text,content:n.content||a.templateContent.content,tags:n.tags||a.templateContent.tags,color:l||a.templateContent.color,resourceId:n.resourceId||a.templateContent.resourceId,className:n.className||a.templateContent.className},d=this.getColumn(s.status);if(d.maxItems||(d.maxItems=9999),!(d.maxItems<this.getColumnItems(d.dataField).length+1)){for(var i=a._commonItem,c=0;c<a._resources.length;c++)a._resources[c].id==s.resourceId&&(i=a._resources[c]);var u=a.host.find("[data-kanban-column-container='"+s.status+"']"),n=e(a.template);""!=a.theme&&n.addClass(a.toThemeProperty("jqx-kanban-item")),n.find(".jqx-kanban-item-color-status").css({"background-color":s.color});var A="<img class='jqx-kanban-item-avatar-image' alt='"+i.name+"' title='"+i.name+"' src='"+i.image+"' />";n.find(".jqx-kanban-item-avatar").append(A),n.find(".jqx-kanban-item-text").append(s.text),n.find(".jqx-kanban-item-content").append(s.content);var m="";s.tags.replace(/\,\s/g,",").split(",").forEach(function(e){m=m+"<div class='"+a.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),m+="<div style='clear:both'></div>",n.find(".jqx-kanban-item-footer").append(m),u.append(n),e("#"+a._kanbanId+" .jqx-kanban-item").removeClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),e("#"+a._kanbanId+" .jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),n.attr("id",r),a._source[o]=s,a._sourceKeys[t]=s,n.data("kanban-item-id",o),null!==s.className&&void 0!==s.className&&n.addClass(this.toThemeProperty(s.className)),a.itemRenderer&&a.itemRenderer(n,s,i),(d=this.getColumn(s.status))&&a.columnRenderer&&(a.columnRenderer(d.headerElement,d.collapsedHeaderElement,d),a._updateColumnTitle(d)),a._raiseEvent("2",{itemId:r}),a._refreshEventHandlers()}},_updateColumnTitle:function(e){if("left"==e.collapseDirection){var n=e.headerElement.find(".jqx-kanban-column-header-title").width();n+=e.headerElement.find(".jqx-kanban-column-header-status").width(),n-=10,e.headerElement.find(".jqx-kanban-column-header-title").css("left",-n+"px"),e.headerElement.find(".jqx-kanban-column-header-status").css("left",-n+"px")}},_selectItem:function(n){var a=this,t=n.data.self;t._selectedItemId=e(a).attr("id"),e("#"+t._kanbanId+" .jqx-kanban-item").removeClass(t.toThemeProperty("jqx-kanban-item-selected")),e(a).addClass(t.toThemeProperty("jqx-kanban-item-selected"));var o=e(this).data().kanbanItemId;t._selectedId=o,t._raiseEvent("1",{item:t._sourceKeys[o]}),t._refreshEventHandlers()},selectItem:function(n){var a=this,t=e("#"+a._kanbanId+"_"+n);0!=t.length&&(e("#"+self._kanbanId+" .jqx-kanban-item").removeClass(self.toThemeProperty("jqx-kanban-item-selected")),e(t).addClass(a.toThemeProperty("jqx-kanban-item-selected")),a._selectedId=n)},_selectColumn:function(n){for(var a,t,o=this,r=n.data.self,l=e(o).attr("data-column-data-field"),s=r.columns.length,d=0;d<s;d++)r.columns[d].dataField==l&&(t=d),r.columns[d].dataField==r._selectedColumn&&(a=d);e("#"+r._kanbanId+" .jqx-kanban-column").removeClass(r.toThemeProperty("jqx-kanban-column-selected")),e(o).addClass(r.toThemeProperty("jqx-kanban-column-selected")),null!=r._selectedColumn&&r._selectedColumn!=l&&r._raiseEvent("6",{column:r._selectedColumn,dataField:a}),r._selectedColumn=l,r._raiseEvent("5",{column:r._selectedColumn,dataField:t})},getSelectedColumn:function(){return this._selectedColumn},_removeSourceIndexById:function(n){var a=this,t=-1;e.each(a._source,function(e,a){if(this&&this.id==n)return t=e,!1}),-1!=t&&a._source.splice(t,1),a._sourceKeys[n]=null,delete a._sourceKeys[n]},removeItem:function(n){var a=this,t="#"+a._kanbanId+"_"+n,o=n.toString().replace(a._kanbanId+"_","");e(t).remove();var r=this.getColumn(a._sourceKeys[n].status);a._items[o]=null,a._removeSourceIndexById(n),a._sourceKeys[n]=null,r&&a.columnRenderer&&(a.columnRenderer(r.headerElement,r.collapsedHeaderElement,r),a._updateColumnTitle(r)),a._selectedItemId=null},updateItem:function(n,a){var t=this,o=e("#"+t._kanbanId+"_"+n);if(0!=o.length){var r=o.data("kanban-item-id"),l=t._sourceKeys[r],s=l.className||"",d=null;t._css_color_names.indexOf(a.color)>-1?d=a.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a.color)?d=a.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(a.color)?d="#"+a.color:a.color&&(d=a.color);var i={id:l.id,status:l.status,text:a.text||l.text,content:a.content||l.content,tags:a.tags||l.tags,color:d||l.color,resourceId:a.resourceId||l.resourceId,className:a.className||l.className};t._source[r]=i,t._sourceKeys[r]=i;for(var c=t._commonItem,u=0;u<t._resources.length;u++)t._resources[u].id==i.resourceId&&(c=t._resources[u]);var A="<img class='jqx-kanban-item-avatar-image' alt='"+c.name+"' title='"+c.name+"' src='"+c.image+"' />";o.find(".jqx-kanban-item-avatar").html(A),o.find(".jqx-kanban-item-color-status").css({"background-color":i.color}),o.find(".jqx-kanban-item-text").html(i.text),o.find(".jqx-kanban-item-content").html(i.content);var m="";i.tags.replace(/\,\s/g,",").split(",").forEach(function(e){m=m+"<div class='"+t.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),m+="<div style='clear:both'></div>",o.find(".jqx-kanban-item-footer").html(m),null!==i.className&&void 0!==i.className&&(o.removeClass(this.toThemeProperty(s)),o.addClass(this.toThemeProperty(i.className))),t.itemRenderer&&t.itemRenderer(o,i,c);var h=this.getColumn(i.status);h&&t.columnRenderer&&(t.columnRenderer(h.headerElement,h.collapsedHeaderElement,h),t._updateColumnTitle(h))}},getSelectedItem:function(){var e=this;return e._sourceKeys[e._selectedId]},getColumn:function(e){for(var n=0;n<this.columns.length;n++)if(this.columns[n].dataField==e)return this.columns[n];return null},getColumnItems:function(e){for(var n=this,a=[],t=n._source.length,o=0;o<t;o++)null!=n._source[o]&&n._source[o].status==e&&a.push(n._source[o]);return a},getItems:function(){var e=this;return null!==e._source?e._source.filter(function(e){return null!=e}):null},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var n=0;n<this.length;n++)e.apply(this,[this[n],n,this])}),window.getComputedStyle||(window.getComputedStyle=function(e,n){return this.el=e,this.getPropertyValue=function(n){var a=/(\-([a-z]){1})/g;return"float"==n&&(n="styleFloat"),a.test(n)&&(n=n.replace(a,function(){return arguments[2].toUpperCase()})),e.currentStyle[n]?e.currentStyle[n]:null},this})},_addEventHandlers:function(){var n=this;n.addHandler(e(window),"resize.kanban"+n.element.id,function(e){n._recalculateContainersHeight(),n._calculateExpandedColumnsWidth()}),n.addHandler(e(n._kanbanColumns),"start",function(a){n._selectedItemId=a.args.item[0].id,n._draggedItemId=n._selectedItemId,n._draggedItemDataId=e("#"+n._draggedItemId).data().kanbanItemId,n._draggedItemValues=n._sourceKeys[n._draggedItemDataId],n._selectedItemValues=n._draggedItemValues;var t=e("#"+n._draggedItemId).height();e(".jqx-kanban-item-placeholder").height(t)}),n.addHandler(e(n._kanbanColumns),"stop",function(a){for(var t=e("#"+n._draggedItemId).parent().attr("data-kanban-column-container"),o=t,r=null,l=0;l<n.columns.length;l++)if(n.columns[l].dataField==o){r=n.columns[l];break}if(n._sourceKeys[n._draggedItemDataId]){for(var s=null,d=e("#"+n._kanbanId).jqxKanban("columns"),i=n._sourceKeys[n._draggedItemDataId].status,l=0;l<d.length;l++)if(d[l].dataField==i){s=d[l];break}if(n._kanbanId!==n._dropKanbanId){n._raiseEvent("3",{oldParentId:n._kanbanId,newParentId:n._dropKanbanId,itemId:n._selectedId,newColumn:r,oldColumn:s,itemData:n._draggedItemValues});n._source.length;n._draggedItemValues.status=t,e("#"+n._dropKanbanId).trigger("_itemReceived",[n._selectedItemId,n._kanbanId,n._dropKanbanId,n._draggedItemValues,n._selectedId,r,s]),n._sourceKeys[n._draggedItemDataId]=null}else n._raiseEvent("3",{newColumn:r,oldColumn:s,oldParentId:n._kanbanId,newParentId:n._dropKanbanId,itemId:n._selectedId,itemData:n._draggedItemValues}),n._raiseEvent("4",{newColumn:r,oldColumn:s,oldParentId:n._kanbanId,newParentId:n._dropKanbanId,itemId:n._selectedId,itemData:n._draggedItemValues}),n._sourceKeys[n._draggedItemDataId].status=t;if(n.columnRenderer)for(l=0;l<n.columns.length;l++)n.columns[l].dataField==o&&(n.columnRenderer(n.columns[l].headerElement,n.columns[l].collapsedHeaderElement,n.columns[l]),n._updateColumnTitle(n.columns[l])),n.columns[l].dataField==i&&(n.columnRenderer(n.columns[l].headerElement,n.columns[l].collapsedHeaderElement,n.columns[l]),n._updateColumnTitle(n.columns[l]))}n._draggedItemDataId=null,n._draggedItemId=null,n._draggedItemValues=null}),n.addHandler(e(n._kanbanColumns),"sort",function(a){n._dropKanbanId=e(".jqx-kanban-item-placeholder").parent().parent().parent().attr("id")}),n.addHandler(e(n.host),"_itemReceived",function(a,t,o,r,l){n._raiseEvent("4",{itemId:t,oldParentId:o,newParentId:r,itemData:l});var s=e("#"+t),d=e(n.template);""!=n.theme&&d.addClass(n.toThemeProperty("jqx-kanban-item")),d.data("kanban-item-id",l.id);for(var i=n._commonItem,c=0;c<n._resources.length;c++)n._resources[c].id==l.resourceId&&(i=n._resources[c]);var u="<img class='jqx-kanban-item-avatar-image' alt='"+i.name+"' title='"+i.name+"' src='"+i.image+"' />";d.find(".jqx-kanban-item-avatar").append(u),d.find(".jqx-kanban-item-text").append(l.text),d.find(".jqx-kanban-item-color-status").css({"background-color":l.color}),d.find(".jqx-kanban-item-content").append(l.content);var A="";l.tags.replace(/\,\s/g,",").split(",").forEach(function(e){A=A+"<div class='"+n.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),A+="<div style='clear:both'></div>",d.find(".jqx-kanban-item-footer").append(A),d.attr("id",n._kanbanId+"_"+l.id),s.replaceWith(d),e("#"+r+" div.jqx-kanban-item").addClass(n.toThemeProperty("jqx-widget-content")),null!==l.className&&void 0!==l.className&&d.addClass(n.toThemeProperty(l.className)),e("#"+r+" div.jqx-kanban-item").removeClass(n.toThemeProperty("jqx-kanban-item-selected")),e("#"+t).addClass(n.toThemeProperty("jqx-kanban-item-selected")),e("#"+r).jqxKanban("_refreshEventHandlers"),n._source.push(l);var m=e("#"+r).jqxKanban("getInstance"),h=e("#"+o).jqxKanban("getInstance");if(m._sourceKeys[l.id]=l,h._removeSourceIndexById(l.id),m.columnRenderer)for(b=0;b<m.columns.length;b++)m.columnRenderer(m.columns[b].headerElement,m.columns[b].collapsedHeaderElement,m.columns[b]);if(h.columnRenderer)for(var b=0;b<h.columns.length;b++)h.columnRenderer(h.columns[b].headerElement,h.columns[b].collapsedHeaderElement,h.columns[b])}),n.addHandler(e("#"+n._kanbanId+" .jqx-kanban-item"),"click",n._selectItem,{self:this}),n.addHandler(e("#"+n._kanbanId+" .jqx-kanban-column"),"click",n._selectColumn,{self:this}),n.addHandler(e(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click",function(){for(var a="jqx-kanban-item-color-status jqx-kanban-item-avatar jqx-kanban-item-text jqx-kanban-item-content jqx-kanban-item-keyword jqx-kanban-item-template-content".split(" "),t=e(this).attr("class").split(" "),o=t.length,r=null,l=e(this).parents(".jqx-kanban-item").data().kanbanItemId,s={attribute:null,item:n._sourceKeys[l],itemId:l},d=0;d<o;d++)a.indexOf(t[d])>-1&&(r=t[d]);switch(r){case"jqx-kanban-item-color-status":s.attribute="colorStatus";break;case"jqx-kanban-item-avatar":s.attribute="avatar";break;case"jqx-kanban-item-text":s.attribute="text";break;case"jqx-kanban-item-content":s.attribute="content";break;case"jqx-kanban-item-keyword":s.attribute="keyword";break;case"jqx-kanban-item-template-content":s.attribute="template"}n._raiseEvent("9",s)})},destroy:function(){var n=this;e.jqx.utilities.resize(n.host,null,!0),n._removeEventHandlers(),n.host.remove()},_removeEventHandlers:function(){var n=this;n.removeHandler(e(window),"resize.kanban"+n.element.id),n.removeHandler(e(n._kanbanColumns),"start"),n.removeHandler(e(n._kanbanColumns),"stop"),n.removeHandler(e(n._kanbanColumns),"sort"),n.removeHandler(e(n.host),"_itemReceived"),n.removeHandler(e("#"+n._kanbanId+" .jqx-kanban-item"),"click"),n.removeHandler(e("#"+n._kanbanId+" .jqx-kanban-column"),"click"),n.removeHandler(e(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click")},_refreshEventHandlers:function(){var e=this;e._removeEventHandlers(),e._addEventHandlers()},_raiseEvent:function(n,a){that=this;var t=e.Event(that._events[n]);return t.args=a,that.host.trigger(t)},_getEvent:function(e){return that=this,that._isTouchDevice?that._touchEvents[e]:e}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxKnob","",{}),e.extend(e.jqx._jqxKnob.prototype,{defineInstance:function(){var r={type:"circle",allowValueChangeOnClick:!0,allowValueChangeOnDrag:!0,allowValueChangeOnMouseWheel:!0,changing:null,dragEndAngle:-1,dragStartAngle:-1,disabled:!1,dial:{style:"transparent",innerRadius:0,outerRadius:0,gradientType:null,gradientStops:null,startAngle:null,endAngle:null},endAngle:360,height:400,labels:{type:"digits",step:null,rotate:!1,offset:null,style:"",visible:!1},marks:{type:"",thickness:1,size:"10%",colorProgress:"transparent",colorRemaining:"transparent",minorInterval:1,majorInterval:5,offset:"80%",majorSize:"15%"},min:0,max:100,progressBar:{size:"10%",offset:"60%",color:"transparent",background:"transparent"},pointer:{color:{color:"transparent",border:null,gradientType:null,gradientStops:null},thickness:1,size:"",type:"",visible:!1},pointerGrabAction:"normal",renderEngine:"",rotation:"clockwise",startAngle:0,spinner:{color:"transparent",innerRadius:0,outerRadius:0,marks:{step:1,rotate:!1,color:"transparent",size:0,steps:10,thickness:1,offset:0}},style:{fill:"transparent",stroke:"transparent"},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")},step:1,snapToStep:!0,value:0,width:400};return this===e.jqx._jqxKnob.prototype?r:(e.extend(!0,this,r),r)},createInstance:function(){var r=this;r._hostInit(),r._ie8Plugin(),r._validateProperties(),r._initValues(),r._refresh(),e.jqx.utilities.resize(r.host,function(){r.widgetSize=Math.min(r.host.width(),r.host.height()),r._refresh()})},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxKnob"+this.element.id:e+".jqxKnob"+this.element.id},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var r=0;r<this.length;r++)e.apply(this,[this[r],r,this])}),window.getComputedStyle||(window.getComputedStyle=function(e,r){return this.el=e,this.getPropertyValue=function(r){var t=/(\-([a-z]){1})/g;return"float"==r&&(r="styleFloat"),t.test(r)&&(r=r.replace(t,function(){return arguments[2].toUpperCase()})),e.currentStyle[r]?e.currentStyle[r]:null},this})},createColorGradient:function(e,r,t){return this._getGradient(e,r,t)},destroy:function(){var r=this;r.removeHandler(e(document),"mousemove.jqxKnob"+r.host[0].id),r.removeHandler(e(document),"blur.jqxKnob"+r.host[0].id),r.removeHandler(e(document),"mouseup.jqxKnob"+r.host[0].id),r.host.empty(),r.host.remove()},propertiesChangedHandler:function(e,r,t){t.width&&t.height&&2==Object.keys(t).length&&e._refresh()},propertyChangedHandler:function(e,r,t,a){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("disabled"===r&&e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),"value"!==r?(e._validateProperties(),e._refresh()):e._setValue(a,"propertyChange"))},val:function(e){var r=this;if(0==arguments.length)return r.value;r._setValue(e,null)},_isPointerGrabbed:!1,_pointerGrabbedIndex:-1,_attatchPointerEventHandlers:function(){var r=this;r.addHandler(r.host,this._getEvent("mousedown"),function(t){if("pointer"!==r.pointerGrabAction||t.target.id===r._pointerID){if(r._isTouchDevice){var a=e.jqx.position(t);t.clientX=a.left,t.clientY=a.top}if("progressBar"===r.pointerGrabAction){var n={x:t.clientX,y:t.clientY},i=r.host[0].getBoundingClientRect(),o=r.widgetSize,s={x:i.left+o/2,y:i.top+o/2},l=r._calculateAngleFromCoordinates(n,s,r.rotation),g=r._calculateDistance(n,s);if(l<r.startAngle&&(l+=360),l>r.endAngle&&l-r.endAngle!=360+r.startAngle-l)return;var d=r._getScale(r.progressBar.offset,"w",o/2),c=r._getScale(r.progressBar.size,"w",o/2);if(g<d||g>d+c)return}return r._isPointerGrabbed=!0,!0===r.allowValueChangeOnClick&&r._mouseMovePointer(t),t.preventDefault(),t.stopPropagation(),!1}});var t=null;r.addHandler(e(document),this._getEvent("mousemove"),function(e){if(r.allowValueChangeOnDrag&&(t&&clearTimeout(t),t=setTimeout(function(){r._mouseMovePointer(e)}),r._isPointerGrabbed))return!1}),r.addHandler(e(document),"blur.jqxKnob"+r.host[0].id,function(){r._isPointerGrabbed=!1,r._pointerGrabbedIndex=-1}),r.addHandler(e(document),this._getEvent("mouseup"),function(e){r._isPointerGrabbed&&(r._isPointerGrabbed=!1,r._pointerGrabbedIndex=-1,r._raiseEvent(0,{originalEvent:e,value:r.value}))}),r.addHandler(r.host,"wheel",function(e){if(r.allowValueChangeOnMouseWheel){var t=0;return e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.originalEvent&&e.originalEvent.deltaY&&(t=e.originalEvent.deltaY),t>0?r._increment():r._decrement(),!1}})},_mouseMovePointer:function(r){var t=this;if(!t.disabled&&t._isPointerGrabbed){if(t._isTouchDevice){var a=e.jqx.position(r);r.clientX=a.left,r.clientY=a.top}var n={x:r.clientX,y:r.clientY},i=t.host[0].getBoundingClientRect(),o=t.widgetSize,s={x:i.left+o/2,y:i.top+o/2},l=t._calculateAngleFromCoordinates(n,s,t.rotation),g=t._calculateValueFromAngle(l,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if(t.value.length&&-1===t._pointerGrabbedIndex)for(var d=0;d<t.value.length;d++){if(g<=t.value[d]){t._pointerGrabbedIndex=d;break}if(d===t.value.length-1)t._pointerGrabbedIndex=d;else if(g<=t.value[d+1]){var c=t.value[d]+(t.value[d+1]-t.value[d])/2;t._pointerGrabbedIndex=g<=c?d:d+1;break}}if(t.pointer&&t.pointer.length>1){if(1==t._pointerGrabbedIndex){var u=t._calculateAngleFromValue(t.value[0],t.dragStartAngle,t.dragEndAngle,t.min,t.max),h=t._calculateAngleFromValue(t.max,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if((l=t._calculateAngleFromValue(g,t.dragStartAngle,t.dragEndAngle,t.min,t.max))<=u)return;if(l>=h)return}if(0==t._pointerGrabbedIndex){var h=t._calculateAngleFromValue(t.value[1],t.dragStartAngle,t.dragEndAngle,t.min,t.max),u=t._calculateAngleFromValue(t.min,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if((l=t._calculateAngleFromValue(g,t.dragStartAngle,t.dragEndAngle,t.min,t.max))<=u)return;if(l>=h)return}}if(t.changing){var p=t.value.slice(0);if(p[t._pointerGrabbedIndex]=g,!1===t.changing(t.value,p))return}t._setValue(g,"mouse")}},_getScale:function(e,r,t){return e&&e.toString().indexOf("%")>=0?(e=parseInt(e,10)/100,"object"==typeof t?t[r]()*e:t*e):parseInt(e,10)},_hostInit:function(){var r=this;this._isTouchDevice=e.jqx.mobile.isTouchDevice();var t=r.host;t.width(r.width),t.height(r.height),t.css("position","relative"),r.host.addClass(r.toThemeProperty("jqx-widget jqx-knob")),-1==r.dragStartAngle&&(r.dragStartAngle=r.startAngle),-1==r.dragEndAngle&&(r.dragEndAngle=r.endAngle),r.dragStartAngle<r.startAngle&&(r.dragStartAngle=r.startAngle),r.dragEndAngle>r.endAngle&&(r.dragEndAngle=r.endAngle),r.widgetSize=Math.min(r.host.width(),r.host.height())},_initRenderer:function(r){if(!e.jqx.createRenderer)throw"jqxKnob: Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,r)},_initValues:function(){var e=this;e.marks&&(e.marks.style&&""!==e.marks.style&&("line"!==e.marks.style||e.marks.thickness||(e.marks.thickness=1),e.marks.size||(e.marks.size="5%"),e.marks.offset||(e.marks.offset="85%")),e.marks.majorInterval&&void 0===e.marks.majorSize&&(e.marks.majorSize="10%")),e._marksList=e._getMarksArray(e.marks),e.spinner&&(e._spinnerMarksList=e._getMarksArray(e.spinner.marks))},_calculateAngleFromValue:function(r,t,a,n,i){return e.jqx.browser.msie&&e.jqx.browser.version<9?"circle"!=this.type?n!=i?parseInt((r-n)/(i-n)):0:n!=i?parseInt((r-n)/(i-n)*(a-t)):0:"circle"!=this.type?n!=i?(r-n)/(i-n):0:n!=i?(r-n)/(i-n)*(a-t):0},_calculateAngleFromCoordinates:function(e,r,t){var a=e.x-r.x,n=e.y-r.y;return n>0?"clockwise"===t?90-180*Math.atan(a/n)/Math.PI:270+180*Math.atan(a/n)/Math.PI:n<0?"clockwise"===t?270-180*Math.atan(a/n)/Math.PI:90+180*Math.atan(a/n)/Math.PI:a>=0?0:180},_calculateValueFromAngle:function(e,r,t,a,n){e<r&&(e+=360);var i=a;return e>t?e-t<360+r-e&&(i=n):i=a+(e-r)*(n-a)/(t-r),i},_calculateDistance:function(e,r){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))},_drawBackground:function(){var e,r,t=this,a=t.renderer;if(r=(e=t.widgetSize)/2,r-=(o=t.style.strokeWidth?t.style.strokeWidth:0)/2,t.style){var n=t._getColor(t.style.fill),i=t._getColor(t.style.stroke),o=t.style.strokeWidth?t.style.strokeWidth:1;"circle"!=t.type?a.rect(0,0,this.host.width(),this.host.height(),{fill:n,stroke:i,"stroke-width":o}):a.circle(e/2,e/2,r,{fill:n,stroke:i,"stroke-width":o})}},_drawDial:function(){var e=this;if(e.dial){var r,t,a,n,i,o,s,l=e.renderer,g=e.widgetSize;r=t=g/2,n=e._getScale(e.dial.outerRadius,"w",g/2),a=e._getScale(e.dial.innerRadius,"w",g/2),null!=e.dial.startAngle&&null!=e.dial.endAngle?(i="clockwise"===e.rotation?360-e.dial.endAngle:e.dial.startAngle,o="clockwise"===e.rotation?360-e.dial.startAngle:e.dial.endAngle):(i="clockwise"===e.rotation?360-e.endAngle:e.startAngle,o="clockwise"===e.rotation?360-e.startAngle:e.endAngle),s=e._getColor(e.dial.style.fill);var d=e._getColor(e.dial.style.stroke)||"",c=e.dial.style.strokeWidth||0;l.pieslice(r,t,a,n,i,o,0,{fill:s,stroke:d,"stroke-width":c})}},_getMarksArray:function(e){if(void 0==e)return[];var r,t=this,a={},n=t.max,i=t.min,o=n-i,s=e.minorInterval,l=e.majorInterval,g=function(e){return parseFloat(e.toPrecision(12))};if(s){for(r=0;r<o;r+=s)a[g(i+r)]={type:"minor"};a[n]={type:"minor"}}if(l){for(r=0;r<o;r+=l)a[g(i+r)]={type:"major"};a[n]={type:"major"}}if(!s&&!l){var d=t.step;if(d){for(r=0;r<o;r+=d)a[g(i+r)]={type:"minor"};a[n]={type:"minor"}}}return a},_drawMarks:function(){var r=this;if(r.marks){var t=r.renderer,a=r.widgetSize,n=r.marks&&null!=r.marks.colorRemaining?r.marks.colorRemaining:"transparent";n=r._getColor(n),r._dialMarks=[];var i,o,s=r.marks.type;s||(s="line");var l=r._getScale(r.marks.offset,"w",a/2),g=r._marksList;e.each(g,function(g,d){if(r.dragEndAngle-r.dragStartAngle!=360||g!=r.max)if(o=r.dragStartAngle+r._calculateAngleFromValue(g,r.dragStartAngle,r.dragEndAngle,r.min,r.max),"circle"===s){var c=r._getScale(r.marks.size,"w",a/2),u=r._getPointerPosition({x:a/2,y:a/2},l,o,r.rotation);r._dialMarks.push(t.circle(u.x,u.y,c,{fill:n}))}else if("line"===s){i="major"===d.type&&null!==r.marks.majorSize&&void 0!==r.marks.majorSize?r._getScale(r.marks.majorSize,"w",a/2):r._getScale(r.marks.size,"w",a/2);var h=r._getScale(r.marks.thickness,"w",a/2),p=r._getPointerPosition({x:a/2,y:a/2},l,o,r.rotation),_=r._getPointerPosition({x:a/2,y:a/2},l+i,o,r.rotation);e.jqx.browser.msie&&e.jqx.browser.version<9?r._dialMarks.push(t.line(parseInt(p.x),parseInt(p.y),parseInt(_.x),parseInt(_.y),{stroke:n,"stroke-width":h})):r._dialMarks.push(t.line(p.x,p.y,_.x,_.y,{stroke:n,"stroke-width":h}))}})}},_drawProgressBars:function(){var r=this;if(r.progressBar){r._progressBar=r._progressBar||[];for(l=0;l<r._progressBar.length;l++)e(r._progressBar[l]).remove();if(r._progressBar=[],r._isArray(r.progressBar.style)){var t=r.value[0],a=r.value[1],n=r.progressBar.style[0],i=r.progressBar.style[1];if(r._progressBar.push(r._drawProgressBar(r.max,r.progressBar.background,"background")),r.progressBar.ranges)for(l=0;l<r.progressBar.ranges.length;l++){var o=r.progressBar.ranges[l].startValue,s=r.progressBar.ranges[l].endValue;r._progressBar.push(r._drawProgressBarFromToValue(o,s,r.progressBar.ranges[l],"background"))}r._progressBar.push(r._drawProgressBar(t,n)),r._progressBar.push(r._drawProgressBarFromEndToStart(a,i))}else{if(r._progressBar.push(r._drawProgressBar(r.max,r.progressBar.background,"background")),r.progressBar.ranges)for(var l=0;l<r.progressBar.ranges.length;l++){var o=r.progressBar.ranges[l].startValue,s=r.progressBar.ranges[l].endValue;r._progressBar.push(r._drawProgressBarFromToValue(o,s,r.progressBar.ranges[l],"background"))}r._progressBar.push(r._drawProgressBar(r.value,r.progressBar.style))}}},_drawProgressBarFromEndToStart:function(e,r){var t,a,n,i,o,s=this,l=s.renderer,g=s.widgetSize,d=s._getScale(s.progressBar.offset,"w",g/2);a=n=g/2,i=d,o=d+s._getScale(s.progressBar.size,"w",g/2);var c=s._getColor(r.fill)||"transparent",u=s._getColor(r.stroke)||"transparent";t=s.dragStartAngle+s._calculateAngleFromValue(e,s.dragStartAngle,s.dragEndAngle,s.min,s.max),s.dragStartAngle;var h=r.strokeWidth?r.strokeWidth:1;if(s.endAngle!=t)return"clockwise"===s.rotation?l.pieslice(a,n,i,o,360-s.endAngle,360-t,0,{fill:c,stroke:u,"stroke-width":h}):l.pieslice(a,n,i,o,void 0,t,0,{fill:c,stroke:u,"stroke-width":h})},_drawProgressBarFromToValue:function(e,r,t,a){var n,i,o,s,l,g,d,c=this,u=c.renderer,h=c.widgetSize,p=c._getScale(c.progressBar.offset,"w",h/2);o=s=h/2,l=p,g=p+(n=c._getScale(c.progressBar.size,"w",h/2));var _=c._getColor(t.fill)||"transparent",m=c._getColor(t.stroke)||"transparent";if(i=c.dragStartAngle+c._calculateAngleFromValue(r,c.dragStartAngle,c.dragEndAngle,c.min,c.max),(d=c.dragStartAngle+c._calculateAngleFromValue(e,c.dragStartAngle,c.dragEndAngle,c.min,c.max))!=i){var f=1;"background"==a&&(f=0);var v=t.strokeWidth?t.strokeWidth:f;if("circle"!=c.type){if("rect"==c.type){var k=i*(this.host.height()-2*p),y=this.host.height()-2*p;return u.rect(o-n/2,p+y-k,n,k,{fill:_,stroke:m,"stroke-width":v})}return u.rect(p,s-n/2,this.host.width()-2*p,n,{fill:_,stroke:m,"stroke-width":v})}return"clockwise"===c.rotation?u.pieslice(o,s,l,g,360-i,360-d,0,{fill:_,stroke:m,"stroke-width":v}):u.pieslice(o,s,l,g,d,i,0,{fill:_,stroke:m,"stroke-width":v})}},_drawProgressBar:function(e,r,t){var a,n,i,o,s,l,g,d=this,c=d.renderer,u=d.widgetSize,h=d._getScale(d.progressBar.offset,"w",u/2);i=o=u/2,s=h,l=h+(a=d._getScale(d.progressBar.size,"w",u/2));var p=d._getColor(r.fill)||"transparent",_=d._getColor(r.stroke)||"transparent";if(n=d.dragStartAngle+d._calculateAngleFromValue(e,d.dragStartAngle,d.dragEndAngle,d.min,d.max),(g=d.dragStartAngle)!=n){var m=1;"background"==t&&(m=0);var f=r.strokeWidth?r.strokeWidth:m;if("circle"!=d.type){if("rect"==d.type){var v=n*(this.host.height()-2*h),k=this.host.height()-2*h;return c.rect(i-a/2,h+k-v,a,v,{fill:p,stroke:_,"stroke-width":f})}return c.rect(h,o-a/2,this.host.width()-2*h,a,{fill:p,stroke:_,"stroke-width":f})}return"clockwise"===d.rotation?c.pieslice(i,o,s,l,360-n,360-g,0,{opacity:r.opacity||1,fill:p,stroke:_,"stroke-width":f}):c.pieslice(i,o,s,l,g,n,0,{opacity:r.opacity||1,fill:p,stroke:_,"stroke-width":f})}},_drawLabels:function(){var r=this;r._labels=[];var t=r.renderer,a=r.widgetSize;if(void 0===r.labels.visible&&(r.labels.visible=!0),!0===r.labels.visible){var n,i=r._getScale(r.labels.offset,"w",a/2),o=r.labels.type?r.labels.type:"digits",s=r.labels.style,l=s&&s.fill?r._getColor(s.fill):"#333";if("digits"===o){var g=[];if(r.labels.customLabels)for(n=0;n<r.labels.customLabels.length;n++)g.push(r.labels.customLabels[n].value);else{var d=r.labels.step||r.step;for(n=r.min;n<r.max;n+=d)g.push(n);r.dragEndAngle-360<r.dragStartAngle&&g.push(r.max)}for(n=0;n<g.length;n++){var c=r.labels.customLabels?r.labels.customLabels[n].text:g[n].toString();r.labels.formatFunction&&(c=r.labels.formatFunction(c));var u=r.dragStartAngle,h=r.dragEndAngle,p=u+r._calculateAngleFromValue(g[n],u,h,r.min,r.max),_=r._getPointerPosition({x:a/2,y:a/2},i,p,r.rotation);if(e.jqx.browser.msie&&e.jqx.browser.version<9){var m=t.measureText(c,0,{class:this.toThemeProperty("jqx-knob-label")}),f=r.labels.rotate?90-p:0;t.text(c,_.x-m.width/2,_.y-m.height/2,m.width,m.height,f,{class:this.toThemeProperty("jqx-knob-label")},!1)}else{var m=t.measureText(c,0,{style:{fill:l},class:this.toThemeProperty("jqx-knob-label")}),f=r.labels.rotate?90-p:0;t.text(c,_.x-m.width/2,_.y-m.height/2,m.width,m.height,f,{style:{fill:l},class:this.toThemeProperty("jqx-knob-label")},!1)}}}}},_drawPointers:function(){var r=this;if(r._pointers=r._pointers||[],r._pointers.forEach(function(r,t,a){e(r).remove(),a.splice(t,1)}),r.pointer)if(r._isArray(r.pointer))for(var t=0;t<r.progressBar.style.length;t++)!1!==r.pointer[t].visible&&r._pointers.push(r._drawPointer(r.value[t],r.pointer[t]));else{if(!1===r.pointer.visible)return;r._pointers.push(r._drawPointer(r.value,r.pointer))}},_drawPointer:function(e,r){var t=this;r.id=r.id||t._getID();var a=t.renderer,n=t.widgetSize,i=r.type;i||(i="circle"),r.style||(r.style={fill:"#feaf4e",stroke:"#feaf4e"});var o,s,l,g=t._getColor(r.style.fill),d=r.style.stroke||"",c=t._getScale(r.offset,"w",n/2),u=t.dragStartAngle+t._calculateAngleFromValue(e,t.dragStartAngle,t.dragEndAngle,t.min,t.max);if("circle"===i){var h=t._getScale(r.size,"w",n/2),p=t._getPointerPosition({x:n/2,y:n/2},c,u,t.rotation);l=a.circle(p.x,p.y,h,{id:r.id,fill:g,stroke:d})}else if("line"===i){o=t._getScale(r.size,"w",n/2),s=r.thickness;var _=t._getPointerPosition({x:n/2,y:n/2},c,u,t.rotation),m=t._getPointerPosition({x:n/2,y:n/2},c+o,u,t.rotation);l=a.line(_.x,_.y,m.x,m.y,{id:r.id,stroke:g,"stroke-width":s})}else if("arc"===i){o=t._getScale(r.size,"w",n/2);var f,v,k,y,w,x,b=(t.dragEndAngle-t.dragStartAngle)/t._steps.length;f=v=n/2,k=c,y=c+o,w="clockwise"===t.rotation?360-(u+b/2):u-b/2,x="clockwise"===t.rotation?360-(u-b/2):u+b/2,l=a.pieslice(f,v,k,y,w,x,0,{id:r.id,fill:g,stroke:d})}else if("arrow"===i){o=t._getScale(r.size,"w",n/2),s=r.thickness;var A=t._getPointerPosition({x:n/2,y:n/2},o,u,t.rotation),S=t._getPointerPosition({x:n/2,y:n/2},c,u,t.rotation),P=t._getPointerPosition({x:S.x,y:S.y},s/2,u-90,t.rotation),j=t._getPointerPosition({x:S.x,y:S.y},s/2,u+90,t.rotation),M="M "+A.x+","+A.y+" L "+P.x+","+P.y+" L "+j.x+","+j.y+" "+A.x+","+A.y;l=this.renderer.path(M,{id:r.id,stroke:d,fill:g})}return l},_rotateSpinnerMarks:function(r){var t=this,a=t.spinner.marks;if(a){if(!1===a.rotate)return;var n=t.renderer,i=t.widgetSize,o=a&&null!=a.colorRemaining?a.colorRemaining:"transparent";o=t._getColor(o);var s,l,g=a.type;g||(g="line");for(var d=t._getScale(a.offset,"w",i/2),c=0;c<t._spinnerMarks.length;c++)e(t._spinnerMarks[c]).remove();t._spinnerMarks=[];var u=t._spinnerMarksList;e.each(u,function(e,c){if(t.endAngle-t.startAngle!=360||e!=t.max){if((l=r+t._calculateAngleFromValue(e,t.startAngle,t.endAngle,t.min,t.max))<t.startAngle)return!0;if(l>t.endAngle&&l<t.startAngle+360)return!0;if("circle"===g){var u=t._getScale(a.size,"w",i/2),h=t._getPointerPosition({x:i/2,y:i/2},d,l,t.rotation);t._spinnerMarks.push(n.circle(h.x,h.y,u,{fill:o}))}else if("line"===g){s="major"===c.type&&null!==a.majorSize&&void 0!==a.majorSize?t._getScale(a.majorSize,"w",i/2):t._getScale(a.size,"w",i/2);var p=t._getScale(a.thickness,"w",i/2),_=t._getPointerPosition({x:i/2,y:i/2},d,l,t.rotation),m=t._getPointerPosition({x:i/2,y:i/2},d+s,l,t.rotation);t._spinnerMarks.push(n.line(_.x,_.y,m.x,m.y,{stroke:o,"stroke-width":p}))}}})}},_drawSpinnerMarks:function(r){var t=this;if(r){var a=t.renderer,n=t.widgetSize,i=r&&null!=r.colorRemaining?r.colorRemaining:"transparent";i=t._getColor(i),t._spinnerMarks=[];var o,s,l=r.type;l||(l="line");var g=t._getScale(r.offset,"w",n/2),d=t._spinnerMarksList;e.each(d,function(e,d){if(t.dragEndAngle-t.dragStartAngle!=360||e!=t.max)if(s=t.startAngle+t._calculateAngleFromValue(e,t.startAngle,t.endAngle,t.min,t.max),"circle"===l){var c=t._getScale(r.size,"w",n/2),u=t._getPointerPosition({x:n/2,y:n/2},g,s,t.rotation);t._spinnerMarks.push(a.circle(u.x,u.y,c,{fill:i}))}else if("line"===l){o="major"===d.type&&null!==r.majorSize&&void 0!==r.majorSize?t._getScale(r.majorSize,"w",n/2):t._getScale(r.size,"w",n/2);var h=t._getScale(r.thickness,"w",n/2),p=t._getPointerPosition({x:n/2,y:n/2},g,s,t.rotation),_=t._getPointerPosition({x:n/2,y:n/2},g+o,s,t.rotation);t._spinnerMarks.push(a.line(p.x,p.y,_.x,_.y,{stroke:i,"stroke-width":h}))}})}},_drawSpinner:function(){var e=this;if(e.spinner){var r=e.renderer,t=e.widgetSize;e.spinner.style||(e.spinner.style={fill:"#dfe3e9",stroke:"#dfe3e9"});var a,n,i=e._getColor(e.spinner.style.fill),o=e.spinner.style.stroke||"";a=n=t/2;var s=e._getScale(e.spinner.outerRadius,"w",t/2),l=e._getScale(e.spinner.innerRadius,"w",t/2),g=i.strokeWidth?i.strokeWidth:2;if(r.pieslice(a,n,l,s,360-e.endAngle,360-e.startAngle,0,{"stroke-width":g,fill:i,stroke:o}),e.spinner.marks){return void e._drawSpinnerMarks(e.spinner.marks)}}},_getColor:function(e){return e&&"object"==typeof e?this._getGradient(e.color,e.gradientType,e.gradientStops):e},_getGradient:function(e,r,t){return r&&null!=t&&"object"==typeof t&&("linear"===r?e=this.renderer._toLinearGradient(e,!0,t):"linearHorizontal"===r?e=this.renderer._toLinearGradient(e,!1,t):"radial"===r&&(e=this.renderer._toRadialGradient(e,t))),e},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_events:["slide","change"],_raiseEvent:function(r,t){var a=this._events[r],n=e.Event(a);return n.args=t,this.host.trigger(n)},_movePointers:function(){for(var e,r=this,t=0;t<r._pointers.length;t++)1!==r._pointers.length?(e=r.dragStartAngle+r._calculateAngleFromValue(r.value[t],r.dragStartAngle,r.dragEndAngle,r.min,r.max),r._pointers[t]=r._movePointer(r._pointers[t],r.pointer[t],e,r.value[t])):(e=r.dragStartAngle+r._calculateAngleFromValue(r.value,r.dragStartAngle,r.dragEndAngle,r.min,r.max),r._pointers[0]=r._movePointer(r._pointers[0],r.pointer,e,r.value))},_movePointer:function(r,t,a,n){var i,o=this,s=o.renderer,l=o.widgetSize,g=t.type;g||(g="circle");var d=o._getScale(t.offset,"w",l/2);if("circle"===g){var c=o._getPointerPosition({x:l/2,y:l/2},d,a,o.rotation);s.attr(r,{cx:c.x,cy:c.y}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+t.id).remove(),r=o._drawPointer(n,t))}else if("line"===g){i=o._getScale(t.size,"w",l/2);var u=o._getPointerPosition({x:l/2,y:l/2},d,a,o.rotation),h=o._getPointerPosition({x:l/2,y:l/2},d+i,a,o.rotation);s.attr(r,{x1:u.x,y1:u.y,x2:h.x,y2:h.y}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+t.id).remove(),r=o._drawPointer(n,t))}else if("arrow"===g){i=o._getScale(t.size,"w",l/2);var p=t.thickness,_=o._getPointerPosition({x:l/2,y:l/2},i,a,o.rotation),m=o._getPointerPosition({x:l/2,y:l/2},d,a,o.rotation),f=o._getPointerPosition({x:m.x,y:m.y},p/2,a-90,o.rotation),v=o._getPointerPosition({x:m.x,y:m.y},p/2,a+90,o.rotation),k="M "+_.x+","+_.y+" L "+f.x+","+f.y+" L "+v.x+","+v.y+" "+_.x+","+_.y;s.attr(r,{d:k}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+t.id).remove(),r=o._drawPointer(n,t))}else"arc"===g&&(e("#"+t.id).remove(),r=o._drawPointer(t));return o.progressBar&&r.parentNode.appendChild(r.parentNode.removeChild(r)),r},_getPointerPosition:function(r,t,a,n){return e.jqx.browser.msie&&e.jqx.browser.version<9?{x:parseInt(r.x+t*Math.sin(Math.PI/180*(a+90))),y:"clockwise"===n?parseInt(r.y+t*Math.sin(Math.PI/180*a)):parseInt(r.y-t*Math.sin(Math.PI/180*a))}:{x:r.x+t*Math.sin(Math.PI/180*(a+90)),y:"clockwise"===n?r.y+t*Math.sin(Math.PI/180*a):r.y-t*Math.sin(Math.PI/180*a)}},_getID:function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_decrement:function(){this._setValue(this.value-this.step,"mouse")},_increment:function(){this._setValue(this.value+this.step,"mouse")},_refresh:function(){var r=this;if(r.disabled&&r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),r.renderer||(r._isVML=!1,r.host.empty(),r._initRenderer(r.host)),r.removeHandler(e(document),"mousemove.jqxKnob"+r.host[0].id),r.removeHandler(e(document),"blur.jqxKnob"+r.host[0].id),r.removeHandler(e(document),"mouseup.jqxKnob"+r.host[0].id),r.removeHandler(r.host,"wheel"),r.removeHandler(r.host,"mousedown"),r.host.empty(),r._initRenderer(r.host),r.renderer){r._steps=[];for(var t=0;t<=(r.max-r.min)/r.step;t++)r._steps.push(r.min+r.step*t);r._initValues(),r._render()}},_render:function(){var e=this;e._drawBackground(),e._drawDial(),e._drawMarks(),e._drawLabels(),e._drawSpinner(),e._drawProgressBars(),e._updateMarksColor(),e._updateSpinnerMarksColor(),e._drawPointers(),e._attatchPointerEventHandlers()},_setValue:function(r,t){var a=this,n=a.value;if(isNaN(r)&&(r=a.min),r>a.max?r=a.max:r<a.min&&(r=a.min),a.snapToStep)for(var i=a._steps,o=0;o<i.length;o++)if(r<i[o]){r=0===o?i[o]:i[o]-r<r-i[o-1]?i[o]:i[o-1];break}if(r!=n){if(e.isArray(a.value)){if(-1!=a._pointerGrabbedIndex){if(1==a._pointerGrabbedIndex){a.value[0];a.value[a._pointerGrabbedIndex]=r}if(0==a._pointerGrabbedIndex){a.value[1];a.value[a._pointerGrabbedIndex]=r}a.value[a._pointerGrabbedIndex]=r}}else a.value=r;a._updateProgressBarColor(),a._updateMarksColor(),a._updateSpinnerMarksColor();var s=a.dragStartAngle+a._calculateAngleFromValue(r,a.dragStartAngle,a.dragEndAngle,a.min,a.max);a._rotateSpinnerMarks(s),a._movePointers(),a._raiseEvent(1,{value:a.value,type:t})}},_updateMarksColor:function(){var r=this;if(r.marks&&(r.marks.colorProgress||r.marks.colorRemaining)){var t=r.renderer,a=[];e.each(r._marksList,function(e){r.endAngle-r.startAngle!=360||r.max,a.push(e)});for(var n=r._getColor(r.marks.colorProgress),i=r._getColor(r.marks.colorRemaining),o=r.value.length?r.value[0]:r.value,s=0;s<r._dialMarks.length;s++)a[s]>o?"circle"===r.marks.type?t.attr(r._dialMarks[s],{fill:i}):t.attr(r._dialMarks[s],{stroke:i}):"circle"===r.marks.type?t.attr(r._dialMarks[s],{fill:n}):t.attr(r._dialMarks[s],{stroke:n}),r.progressBar&&r.marks.drawAboveProgressBar&&r._dialMarks[s].parentNode.appendChild(r._dialMarks[s].parentNode.removeChild(r._dialMarks[s]))}},_updateSpinnerMarksColor:function(){var r=this;if(r.spinner&&r.spinner.marks&&r.spinner.marks&&(r.spinner.marks.colorProgress||r.spinner.marks.colorRemaining)){var t=r.renderer,a=[];e.each(r._spinnerMarksList,function(e){r.endAngle-r.startAngle==360&&e==r.max||a.push(e)});for(var n=r._getColor(r.spinner.marks.colorProgress),i=r._getColor(r.spinner.marks.colorRemaining),o=r.value.length?r.value[0]:r.value,s=0;s<r._spinnerMarks.length;s++)a[s]>o?"circle"===r.spinner.marks.type?t.attr(r._spinnerMarks[s],{fill:i}):t.attr(r._spinnerMarks[s],{stroke:i}):"circle"===r.spinner.marks.type?t.attr(r._spinnerMarks[s],{fill:n}):t.attr(r._spinnerMarks[s],{stroke:n})}},_updateProgressBarColor:function(){var e=this;e.progressBar&&e._drawProgressBars()},_validateProperties:function(){var e=this,r=function(e,r){if(e&&"string"==typeof e){var t=e;return e={fill:t,stroke:t}}return e||((e={}).fill=r,e.stroke=r),e&&e.fill&&!e.stroke&&(e.stroke=e.fill),e&&!e.fill&&e.stroke&&(e.fill=e.stroke),e&&!e.fill&&(e.fill=r),e&&!e.stroke&&(e.stroke=r),e};if(e.dial&&(e.dial.style=r(e.dial.style,"#dddddd")),e.style&&(e.style=r(e.style,"#dddddd")),e.progressBar&&(e.progressBar.style=r(e.progressBar.style,"transparent"),e.progressBar.background=r(e.progressBar.background,"transparent")),e.spinner&&(e.spinner.style=r(e.spinner.style,"transparent")),e.pointer&&(e.pointer.style=r(e.pointer.style,"transparent")),e.startAngle>=e.endAngle)throw new Error("jqxKnob: The end angle must be bigger than the start angle!");if(e.startAngle<0||e.startAngle>360)throw new Error("jqxKnob: Start angle must be between 0 and 360");if(e.endAngle>e.startAngle+360)throw new Error("jqxKnob: End angle must be between startAngle and startAngle + 360");if(e.dial&&e.dial.color&&"transparent"!==e.dial.color&&(!e.dial.outerRadius||!e.dial.innerRadius))throw new Error("jqxKnob: Dial options innerRadius and outerRadius need to be specified");if(e._isArray(e.pointer)||e._isArray(e.value)){if(!e._isArray(e.pointer))throw new Error("jqxKnob: If the value is an array, the pointer must also be an array.");if(!e._isArray(e.value))throw new Error("jqxKnob: If the pointer is an array, the value must also be an array.");if(e.pointer.length!==e.value.length)throw new Error("jqxKnob: The pointer and value array sizes must match.");if(e.progressBar&&(!e._isArray(e.progressBar.style)||e.progressBar.style.length!==e.pointer.length))throw new Error("jqxKnob: progressBar color must be an array with the same number of elements as the pointer and value.")}return!0}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxListBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),i.renderListBox();var s=i;e.jqx.utilities.resize(i.host,function(){s._updateSize()},!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":s.id=e.jqx.utilities.createId()+"_jqxListBox";var l=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),t.element.style.cssText=t.field.style.cssText,e(t.field).hide().after(l);var r=t.host.data();if(t.host=l,t.host.data(r),t.element=l[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}}else if(t.host.find("li").length>0||t.host.find("option").length>0){var a=e.jqx.parseSourceTag(t.element);t.source=a.items}t.element.innerHTML="";var h=(t=t).element.className;h+=" "+t.toThemeProperty("jqx-listbox"),h+=" "+t.toThemeProperty("jqx-reset"),h+=" "+t.toThemeProperty("jqx-rc-all"),h+=" "+t.toThemeProperty("jqx-widget"),h+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=h;null!=t.width&&-1!=t.width.toString().indexOf("%")&&t.host.width(t.width),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.height(t.height),0==t.host.height()&&t.host.height(200)),null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host.width(t.width):void 0==t.width||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host.height(t.height):void 0==t.height||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?e.jqx.aria(t,"aria-multiselectable",!0):e.jqx.aria(t,"aria-multiselectable",!1);var o="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";t.host.attr("role","listbox"),t.element.innerHTML=o,t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.filter=e(t.element.firstChild.firstChild.firstChild),t.filterInput=e(t.filter[0].firstChild),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()});var d=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!d.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var c=parseInt(t.host.height())/2;0==c&&(c=10),t.vScrollBar=d.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:c});var u=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(t.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=e(t.element.firstChild.firstChild.firstChild.nextSibling),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=e.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=e.data(t.hScrollBar[0],"jqxScrollBar").instance,t.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var m=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(m),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")}t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i),t._lastScroll=new Date}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,s,l){if(void 0!=this.isInitialized&&0!=this.isInitialized&&s!=l&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var r=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(r,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=r),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",l),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),"source"!=i&&"checkboxes"!=i||(null==l&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||l!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:l}),t.hScrollBar.jqxScrollBar({disabled:l})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:l}),t.hScrollBar.jqxScrollBar({touchMode:l}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var n=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(n),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&l?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||l||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&s!=l&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(l,!0)),"displayMember"==i||"valueMember"==i){if(s!=l){var a=t.selectedIndex;t.refresh(),t.selectedIndex=a,t.selectedIndexes[a]=a}t._renderItems()}"autoHeight"==i&&(s!=l?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i=e("#"+t);if(i.length>0){var s=e.jqx.parseSourceTag(i[0]),l=s.items,r=s.index;this.source=l,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=r,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void s(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),s(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var l=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(l.height+l.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;void 0!=t&&null!=t||(t=this.visibleItems);for(var s=t.length;i<=s;){mid=parseInt((i+s)/2);var l=t[mid];if(void 0==l)break;if(l.initialTop>e&&l.initialTop+l.height>e)s=mid-1;else{if(!(l.initialTop<e&&l.initialTop+l.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0!=this.items&&0!=this.items.length){if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,l=parseInt(i.value),r=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(r=s.max-r);this.items.length,this.host.width();var n=parseInt(this.content[0].style.width),a=n+parseInt(s.max);parseInt(this.vScrollBar[0].style.width);"hidden"==this.vScrollBar[0].style.visibility&&0,"visible"!=this.hScrollBar[0].style.visibility&&(a=n);this._getVirtualItemsCount();var h=new Array,o=0,d=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(d=this.host.outerHeight()),isNaN(d)&&(d=0);var c=0,u=0,m=0;if(0==i.value||0==this.visibleItems.length)for(w=0;w<this.items.length;w++)(j=this.items[w]).visible&&(j.top=-l,j.initialTop=-l,!j.isGroup&&j.visible&&(this.visibleItems[u++]=j,j.visibleIndex=u-1),this.renderedVisibleItems[m++]=j,j.left=-r,(x=j.top+j.height)>=0&&j.top-j.height<=d&&(h[o++]={index:w,item:j}),l-=j.height,l--);var v=l>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,p=0;o=0;for(var g=this.vScrollInstance.value,f=0;p<100+d&&void 0!=(j=this.renderedVisibleItems[v]);){if(j.visible){j.left=-r;var x=j.top+j.height-g;x>=0&&j.initialTop-g-j.height<=2*d&&(h[o++]={index:v,item:j})}if(v++,j.visible&&(p+=j.initialTop-g+j.height-p),++f>this.items.length-1)break}if(!this._renderOnDemand)for(var b=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),I=this.toThemeProperty("jqx-listitem-state-group"),y=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),S=0,_=this,w=0;w<this.visualItems.length;w++){var k=this.visualItems[w],q=function(){var e=k[0].firstChild;_.checkboxes&&(e=k[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),_.checkboxes&&k.find(".chkbox").css({visibility:"hidden"})};if(w<h.length){var j=h[w].item;if(j.initialTop-g>=d){q();continue}var B=e(k[0].firstChild);if(this.checkboxes&&(B=e(k[0].lastChild)),0==B.length)continue;if(null==B[0])continue;B[0].className="",B[0].style.display="block",B[0].style.visibility="inherit";var T="";if(T=!j.isGroup&&!this.selectedIndexes[j.index]>=0?b:I,(j.disabled||this.disabled)&&(T+=" "+y),this.roundedcorners&&(T+=" "+this.toThemeProperty("jqx-rc-all")),t&&(T+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),B[0].className=T,this.renderer)if(j.key||(j.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[j.key])B[0].innerHTML!=this._cachedItemHtml[j.key]&&(B[0].innerHTML=this._cachedItemHtml[j.key]);else{var H=this.renderer(j.index,j.label,j.value);B[0].innerHTML=H,this._cachedItemHtml[j.key]=B[0].innerHTML}else{if(-1!==this.itemHeight){var C=2+2*parseInt(B.css("padding-top"));B[0].style.lineHeight=j.height-C+"px",B.css("vertical-align","middle")}null!=j.html&&j.html.toString().length>0?B[0].innerHTML=j.html:null!=j.label||null!=j.value?null!=j.label?(B[0].innerHTML!==j.label&&(B[0].innerHTML=j.label),""==e.trim(j.label)&&(B[0].innerHTML=this.emptyString,""==this.emptyString&&(B[0].style.height=j.height-8+"px")),this.incrementalSearch||j.disabled||void 0!=this.searchString&&""!=this.searchString&&(B[0].innerHTML=this._highlight(j.label.toString(),this.searchString))):null===j.label?(B[0].innerHTML=this.emptyString,""==this.emptyString&&(B[0].style.height=j.height-8+"px")):B[0].innerHTML!==j.value?B[0].innerHTML=j.value:""==j.label&&(B[0].innerHTML=" "):""!=j.label&&null!=j.label||(B[0].innerHTML="",B[0].style.height=j.height-8+"px")}if(k[0].style.left=j.left+"px",k[0].style.top=j.initialTop-g+"px",j.element=B[0],j.title&&(B[0].title=j.title),this.equalItemsWidth&&!j.isGroup){if(0==c){var P=parseInt(a);P-=parseInt(B.outerWidth())-parseInt(B.width());var M=1;c=P-=2*(M=null!=M?parseInt(M):0),this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(c-=18)}n>this.virtualSize.width?(B[0].style.width=c+"px",j.width=c):(B[0].style.width=-4+this.virtualSize.width+"px",j.width=this.virtualSize.width-4)}else B.width()<this.host.width()&&B.width(this.host.width()-2);if(this.rtl&&(B[0].style.textAlign="right"),this.autoItemsHeight&&(B[0].style.whiteSpace="pre-line",B.width(c),j.width=c),S=0,this.checkboxes&&!j.isGroup){0==S&&(S=(j.height-16)/2,S++),(A=e(k.children()[0]))[0].item=j,this.rtl?"0px"!=B[0].style.left&&(B[0].style.left="0px"):"18px"!=B[0].style.left&&(B[0].style.left="18px"),this.rtl&&A.css("left",8+j.width+"px"),A[0].style.top=S+"px",A[0].style.display="block",A[0].style.visibility="inherit";var V=j.checked,D=j.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";A[0].firstChild&&A[0].firstChild.firstChild&&A[0].firstChild.firstChild.firstChild&&A[0].firstChild.firstChild&&(V?A[0].firstChild.firstChild.firstChild.className=D:!1===V?A[0].firstChild.firstChild.firstChild.className="":null===V&&(A[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(V?k[0].setAttribute("aria-selected",!0):k[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var A=e(k.children()[0]);A.css({display:"none",visibility:"inherit"})}!j.disabled&&(!this.filterable&&this.selectedIndexes[j.visibleIndex]>=0||j.selected&&this.filterable)?(B.addClass(this.toThemeProperty("jqx-listitem-state-selected")),B.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(k[0].setAttribute("aria-selected",!0),this._activeElement=k[0])):this.checkboxes||e.jqx.ariaEnabled&&k[0].removeAttribute("aria-selected")}else q()}}}else this.visibleItems=new Array},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,s=2,l=0,r=document.createElement("span");this.equalItemsWidth&&e(r).css("float","left"),r.style.whiteSpace="pre";var n=0,a=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(r);var h=this.items.length,o=this.host.width();if(this.autoItemsHeight&&(o-=10,"hidden"!=this.vScrollBar.css("visibility")&&(o-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||h>0&&null!=this.items[0].html&&""!=this.items[0].html){for(l=0;l<h;l++)if((!(x=this.items[l]).isGroup||""!=x.label||""!=x.html)&&x.visible){b="";if(x.isGroup?b+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):b+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),b+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(b+=" "+this.toThemeProperty("jqx-touch")),r.className=b,this.autoItemsHeight){r.style.whiteSpace="pre-line";I=this.checkboxes?-20:0;r.style.width=I+o+"px"}if(this.renderer){var d=this.renderer(x.index,x.label,x.value);r.innerHTML=d}else null!=x.html&&x.html.toString().length>0?r.innerHTML=x.html:null==x.label&&null==x.value||(null!=x.label?(r.innerHTML=x.label,""==x.label&&(r.innerHTML="Empty")):r.innerHTML=x.value);var c=r.offsetHeight,u=r.offsetWidth;this.itemHeight>-1&&(c=this.itemHeight),x.height=c,x.width=u,s+=++c,i=Math.max(i,u),s<=a&&n++}}else{for(var s=0,m=0,v="",p=0,g=0,f=-1,l=0;l<h;l++){var x=this.items[l];if((!x.isGroup||""!=x.label||""!=x.html)&&x.visible){var b="";if(0==++f){if(b+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),b+=" "+this.toThemeProperty("jqx-fill-state-normal"),b+=" "+this.toThemeProperty("jqx-widget"),b+=" "+this.toThemeProperty("jqx-listbox"),b+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(b+=" "+this.toThemeProperty("jqx-touch"),b+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),r.className=b,this.autoItemsHeight){r.style.whiteSpace="pre-line";var I=this.checkboxes?-20:0;r.style.width=I+o+"px"}null==x.html||""==x.label||null==x.label?r.innerHTML="Item":null!=x.html&&x.html.toString().length>0?r.innerHTML=x.html:null==x.label&&null==x.value||(null!=x.label?null!=x.label.toString().match(new RegExp("\\w"))||null!=x.label.toString().match(new RegExp("\\d"))?r.innerHTML=x.label:r.innerHTML="Item":r.innerHTML=x.value);c=1+r.offsetHeight;this.itemHeight>-1&&(c=this.itemHeight),m=c}void 0!=p&&(g=p),null!=x.html&&x.html.toString().length>0?g!=(p=Math.max(p,x.html.toString().length))&&(v=x.html):null!=x.label?g!=(p=Math.max(p,x.label.length))&&(v=x.label):null!=x.value&&g!=(p=Math.max(p,x.value.length))&&(v=x.value),x.height=m,s+=m,++s<=a&&n++}}r.innerHTML=v,i=r.offsetWidth}return s+=2,n<10&&(n=10),this.filterable&&(s+=this.filterHeight),r.parentNode.removeChild(r),{width:i,height:s,itemsPerPage:n}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand&&1!=(p=this).updatingListBox){if(void 0==p.items||0==p.items.length)return p.virtualSize={width:0,height:0,itemsPerPage:0},p._updatescrollbars(),p.renderedVisibleItems=new Array,void(p.itemswrapper&&p.itemswrapper.children().remove());var i=p.host.height();if(0==t){n=2*(r=p._calculateVirtualSize(i)).itemsPerPage;p.autoHeight&&(n=p.items.length),p.virtualItemsCount=Math.min(n,p.items.length);r.width;return p.virtualSize=r,void p._updatescrollbars()}var s=this,l=0;p.visibleItems=new Array,p.renderedVisibleItems=new Array,p._removeHandlers(),p.allowDrag&&p._enableDragDrop&&(p.itemswrapper=null),null==p.itemswrapper&&(p.content[0].innerHTML="",p.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),p.itemswrapper[0].style.height=2*i+"px",p.content[0].appendChild(p.itemswrapper[0]));var r=p._calculateVirtualSize(i),n=2*r.itemsPerPage;p.autoHeight&&(n=p.items.length),p.virtualItemsCount=Math.min(n,p.items.length);p=this,r.width;p.virtualSize=r;var a=Math.max(p.host.width(),17+r.width);p.itemswrapper[0].style.width=a+"px";for(var h="",o=e.jqx.browser.msie&&e.jqx.browser.version<9?' unselectable="on"':"",d=0;d<p.virtualItemsCount;d++){m=p.items[d];if(h+="<div"+o+" role='option' id='"+("listitem"+d+p.element.id)+"' class='jqx-listitem-element'>",p.checkboxes){h+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var c='<div class="'+p.toThemeProperty("jqx-checkbox-default")+" "+p.toThemeProperty("jqx-fill-state-normal")+" "+p.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">';c+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+(m.checked?" "+p.toThemeProperty("jqx-checkbox-check-checked"):"")+'"></span>',h+=c+="</div></div>",h+="</div>"}h+="<span"+o+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}s.WinJS?p.itemswrapper.html(h):p.itemswrapper[0].innerHTML=h;for(var u=p.itemswrapper.children(),d=0;d<p.virtualItemsCount;d++){var m=p.items[d],v=e(u[d]);if(p.allowDrag&&p._enableDragDrop&&v.addClass("draggable"),p.checkboxes){e(v.children()[0]);v.css("float","left"),e(v[0].firstChild).css("float","left")}v[0].style.height=m.height+"px",v[0].style.top=l+"px",l+=m.height+1,p.visualItems[d]=v}if(p._addHandlers(),p._updatescrollbars(),p.autoItemsHeight){n=2*(r=p._calculateVirtualSize(i)).itemsPerPage;p.autoHeight&&(n=p.items.length),p.virtualItemsCount=Math.min(n,p.items.length);var p=this;r.width;p.virtualSize=r,p._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(p.host.attr("hideFocus",!0),p.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,s=t.virtualSize.width,l=t.vScrollInstance,r=t.hScrollInstance;t._arrange(!1);var n=!1,a=t.host.outerWidth(),h=t.host.outerHeight(),o=0;if(s>a&&(o=t.hScrollBar.outerHeight()+2),i+o>h){var d=l.max;l.max=2+parseInt(i)+o-parseInt(h-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",n=!0),d!=l.max&&l._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",n=!0,l.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(s>=a-c-u){var m=r.max;"inherit"==t.vScrollBar[0].style.visibility?r.max=u+c+parseInt(s)-t.host.width()+4:r.max=u+parseInt(s)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",n=!0),m!=r.max&&r._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(l.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",n=!0);r.setPosition(0),n&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+s))+"px",t.itemswrapper[0].style.height=Math.max(0,2*h)+"px"),t.isTouchDevice()&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var l=this.selectedIndexes[s];-1!=l&&void 0!=l&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var r=this.getVisibleItem(e);r&&this.selectedValues[r.value]&&(this.selectedValues[r.value]=null)}void 0!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),s=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var s=new Array,l=0;l<i.length;l++){var r=i[l];if(r){var n=r.initialTop,a=!0;(n+r.height-t<0||n-t>=e.host.height())&&(a=!1),a&&s.push(r)}}return s}();return{items:t,visibleItems:i,viewItems:s}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,function(){if(this.index==t)return i=this,!1});return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){l=this.getItem(t);if(this.groups.length>0||this.filterable)var l=this.getVisibleItem(t);if(null!=l){e(l.checkBoxElement);l.checked=!0,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=s&&1!=s||this._raiseEvent(3,{label:l.label,value:l.value,checked:!0,item:l})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;!1!==t&&!0!==e.checked&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;!1!==t&&!1!==e.checked&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){l=this.getItem(t);if(this.groups.length>0||this.filterable)var l=this.getVisibleItem(t);if(null!=l){e(l.checkBoxElement);l.checked=!1,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=s&&1!=s||this._raiseEvent(3,{label:l.label,value:l.value,checked:!1,item:l})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){l=this.getItem(t);if(this.groups.length>0||this.filterable)var l=this.getVisibleItem(t);if(null!=l){e(l.checkBoxElement);l.checked=null,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=s&&1!=s||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){if(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length)return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,l,r){if(!isNaN(e)){var n=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes){if(this.checkboxes){this._updateCheckedItems();d=n;this.selectedIndex!=e||this.multiple||(d=-1),void 0==l&&(l="none");var a=this.getItem(e),h=this.getItem(d);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(a=this.getVisibleItem(e),h=this.getVisibleItem(d)),this._raiseEvent("1",{index:d,type:l,item:h,originalEvent:r}),this.selectedIndex=e,this.selectedIndexes[d]=-1,this.selectedIndexes[e]=e,a&&(this.selectedValue=a.value,this.selectedValues[a.value]=a.value),this._raiseEvent("0",{index:e,type:l,item:a,originalEvent:r}),void this._renderItems()}this.focused=!0;var o=!1;this.selectedIndex!=e&&(o=!0);var d=n;this.selectedIndex!=e||this.multiple||(d=-1),void 0==l&&(l="none");var a=this.getItem(e),h=this.getItem(d);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(a=this.getVisibleItem(e),h=this.getVisibleItem(d)),void 0!=s&&s)this._raiseEvent("1",{index:d,type:l,item:h,originalEvent:r}),this.selectedIndex=e,this.selectedIndexes[d]=-1,this.selectedIndexes[e]=e,a&&(this.selectedValue=a.value,this.selectedValues[a.value]=a.value),this._raiseEvent("0",{index:e,type:l,item:a,originalEvent:r});else{var c=this,u=function(e,t,i,s,l,r){c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:r}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,l&&(c.selectedValues[l.value]=l.value),c._raiseEvent("0",{index:e,type:i,item:l,originalEvent:r})},m=function(e,t,i,s,l,r){void 0==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,l&&(c.selectedValues[l.value]=l.value,c._raiseEvent("0",{index:e,type:i,item:l,originalEvent:r}))):(t=c.selectedIndexes[e],(s=c.getVisibleItem(t))&&(c.selectedValues[s.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:r}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==l&&(this.clearSelection(!1),c._clickedIndex=e),m(e,d,l,h,a,r);else if(this._shiftKey){void 0==c._clickedIndex&&(c._clickedIndex=d);var v=Math.min(c._clickedIndex,e),p=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=v;g<=p;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:l,item:this.getVisibleItem(g),originalEvent:r});c.selectedIndex="keyboard"!=l?c._clickedIndex:e}}else"keyboard"!=l&&"mouse"!=l?(m(e,d,l,h,a,r),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,d,l,h,a,r));else this.multiple?m(e,d,l,h,a,r):(a&&(this.selectedValue=a.value),u(e,d,l,h,a,r))}return void 0!=i&&1!=i||this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:a,oldItem:h,type:l,originalEvent:r}),this._updateInputSelection(),o}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(a=this.getVisibleItem(e))&&(this.selectedValue=a.value,this.selectedValues[a.value]=a.value)}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),s="";if(i){for(var l=0;l<i.length;l++)void 0!=i[l]&&(l==i.length-1?s+=i[l].value:s+=i[l].value+",",t.push(i[l].value));this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var s=this.visibleItems[e];if(void 0==s)return!0;var l=s.initialTop,r=s.height;return!(l-t<i||l-t+i+r>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){if(this.initialTop+this.height>=i.content.height())return!1;t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();if(9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i))},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var s=this,l=-1,r=new Array,n=0;e.each(i,function(i){var a="";if(!this.isGroup){a=(a=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var h=!1;switch(s.searchMode){case"containsignorecase":h=e.jqx.string.containsIgnoreCase(a,t);break;case"contains":h=e.jqx.string.contains(a,t);break;case"equals":h=e.jqx.string.equals(a,t);break;case"equalsignorecase":h=e.jqx.string.equalsIgnoreCase(a,t);break;case"startswith":h=e.jqx.string.startsWith(a,t);break;case"startswithignorecase":h=e.jqx.string.startsWithIgnoreCase(a,t);break;case"endswith":h=e.jqx.string.endsWith(a,t);break;case"endswithignorecase":h=e.jqx.string.endsWithIgnoreCase(a,t)}h||(this.visible=!1),h&&(r[n++]=this,this.visible=!0,l=this.visibleIndex),""==t&&(this.visible=!0,h=!1)}}),s.renderedVisibleItems=new Array,s.visibleItems=new Array,s.vScrollInstance.setPosition(0,!0),s._addItems(!1),s._renderItems();for(var a=0;a<s.items.length;a++)s.selectedIndexes[a]=-1;s.selectedIndex=-1;for(var h in s.selectedValues){var t=s.selectedValues[h],o=s.getItemByValue(t);o&&o.visible&&(s.selectedIndex=o.visibleIndex,s.selectedIndexes[o.visibleIndex]=o.visibleIndex)}s._syncSelection(),s.filterChange&&s.filterChange(t)},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var s=this.getItems(),l=this,r=-1;return e.each(s,function(s){var n="";if(!this.isGroup){n=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var a=!1;switch(l.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":a=e.jqx.string.contains(n,t);break;case"equals":a=e.jqx.string.equals(n,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":a=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":a=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(n,t)}if(a&&this.visibleIndex>=i)return r=this.visibleIndex,!1}}),r},findItems:function(t){var i=this.getItems(),s=this,l=0,r=new Array;return e.each(i,function(i){var n="";if(!this.isGroup){n=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":a=e.jqx.string.contains(n,t);break;case"equals":a=e.jqx.string.equals(n,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":a=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":a=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(n,t)}a&&(r[l++]=this)}}),r},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(t=0;t<e.items.length;t++)(i=e.items[t]).selected=!1;for(var t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,l=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var r=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes)return null!=(m=this.getItem(s))&&(i._updateItemCheck(m,s),e.preventDefault()),i._searchString="",i.selectIndex(m.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems();if(i.incrementalSearch){var n=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var a=String.fromCharCode(t),h=!isNaN(parseInt(a)),o=!1;if(t>=65&&t<=97||h||8==t||32==t||46==t){e.shiftKey||(a=a.toLocaleLowerCase());var d=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==a?(d=1+i.selectedIndex,i._searchString+=a):i._searchString+=a),32==t&&(i._searchString+=" ");c=this._getMatches(i._searchString,d);if((n=c)==i._lastMatchIndex||-1==n){var c=this._getMatches(i._searchString,0);n=c}if(i._lastMatchIndex=n,n>=0){var u=function(){r(),i.selectIndex(n,!1,!1,!1,"keyboard",e),i.isIndexInView(n)?i._renderItems():i.ensureVisible(n)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){u()},i.incrementalSearchKeyDownDelay)}o=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),n>=0)return;if(o)return!1}if(33==t){v=i._itemsInPage();i.selectedIndex-v>=0?(r(),i.selectIndex(l-v,!1,!1,!1,"keyboard",e)):(r(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var m=this.getItem(s);null!=m&&(i._updateItemCheck(m,s),e.preventDefault()),i._searchString=""}if(36==t&&(r(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(r(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var v=i._itemsInPage();i.selectedIndex+v<i.visibleItems.length?(r(),i.selectIndex(l+v,!1,!1,!1,"keyboard",e)):(r(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;if((p=i._prevItemIndex(i.selectedIndex))==i.selectedIndex||-1==p)return!0;r(),i.selectIndex(p,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var p=i._nextItemIndex(i.selectedIndex);if(p==i.selectedIndex||-1==p)return!0;r(),i.selectIndex(p,!1,!1,!1,"keyboard",e)}return 35!=t&&36!=t&&38!=t&&40!=t&&34!=t&&33!=t||(i.isIndexInView(i.selectedIndex)?i._renderItems():i.ensureVisible(i.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width(),e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;new Date;n=this.isTouchDevice();this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var s=e.data(t.element,"hoveredItem");null!=s&&(e(s).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(s).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var i=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var s=t.isTouchDevice()&&!0!==this.touchMode,l=s?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(s&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var l=e.jqx.mobile.getTouches(i)[0];if(void 0!=l){var r=t.host.offset(),n=parseInt(l.pageX),a=parseInt(l.pageY);1==t.touchMode&&void 0!=l._pageX&&(n=parseInt(l._pageX),a=parseInt(l._pageY)),n-=r.left,a-=r.top;var h=t._hitTest(n,a);if(null!=h&&!h.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(h,h.visibleIndex);if(-1==h.html.indexOf("href"))return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var r=!1;this.addHandler(this.content,l,function(n){if(!t.enableSelection)return!0;if(r=!0,s&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),n.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=n.target){var a=n.target,h=e(a).offset(),o=t.host.offset();if(i){var d=e.jqx.mobile.getLeftPos(a),c=e.jqx.mobile.getTopPos(a);h.left=d,h.top=c,d=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),o.left=d,o.top=c}var u=parseInt(h.top)-parseInt(o.top),m=parseInt(h.left)-parseInt(o.left),v=t._hitTest(m,u);if(null!=v&&!v.isGroup){var p=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(m=20+i.pageX-h.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();m<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||r||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else m+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||r||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};v.disabled||(-1!=v.html.indexOf("href")?setTimeout(function(){p(v,n)},100):p(v,n))}if("mousedown"==l){var g=!1;return n.which?g=3==n.which:n.button&&(g=2==n.button),!!g}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),r=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}var n=this.isTouchDevice();this.enableHover&&!n&&(this._mousemovefunc=function(s){if(n)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version;if(null==s.target)return!0;if(t.disabled)return!0;if(t.focused=!0,!t.vScrollInstance.isScrolling()&&s.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=s.target){var l=s.target,r=e(l).offset(),a=t.host.offset();if(i){var h=e.jqx.mobile.getLeftPos(l),o=e.jqx.mobile.getTopPos(l);r.left=h,r.top=o,h=e.jqx.mobile.getLeftPos(t.element),o=e.jqx.mobile.getTopPos(t.element),a.left=h,a.top=o}var d=parseInt(r.top)-parseInt(a.top),c=parseInt(r.left)-parseInt(a.left),u=t._hitTest(c,d);if(null!=u&&!u.isGroup&&!u.disabled){var m=e.data(t.element,"hoveredItem");null!=m&&(e(m).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(m).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",u.element);var v=e(u.element);v.addClass(t.toThemeProperty("jqx-listitem-state-hover")),v.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=this,i=null,s=null,l=t.filterable?t.filterHeight:0,r=function(e){return 0==(e=t.host.height())&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:void 0==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:void 0==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=r(s)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),r(s)));var n=t.scrollBarSize;isNaN(n)&&(n=parseInt(n),isNaN(n)?n="17px":n+="px"),n=parseInt(n);var a=2,h=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?h=n+4:t.vScrollInstance.setPosition(0),0==n&&(h=1,a=1),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?a=n+4:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",a=0),null==s&&(s=0);var o=parseInt(s)-4-n;o<0&&(o=0),parseInt(t.hScrollBar[0].style.height)!=n&&(parseInt(n)<0&&(n=0),t.hScrollBar[0].style.height=parseInt(n)+"px"),t.hScrollBar[0].style.top!=o+"px"&&(t.hScrollBar[0].style.top=o+"px",t.hScrollBar[0].style.left="0px");var d=i-n-4;d<0&&(d=0);var c=d+"px";if(t.hScrollBar[0].style.width!=c&&(t.hScrollBar[0].style.width=c),h<=1&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),n!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(n)+"px"),parseInt(s)-a!=parseInt(t.vScrollBar[0].style.height)){var u=parseInt(s)-a;u<0&&(u=0),t.vScrollBar[0].style.height=u+"px"}null==i&&(i=0);var m=parseInt(i)-parseInt(n)-4+"px";m!=t.vScrollBar[0].style.left&&(parseInt(m)>=0&&(t.vScrollBar[0].style.left=m),t.vScrollBar[0].style.top="0px");var v=t.vScrollInstance;v.disabled=t.disabled,e&&v._arrange();var p=t.hScrollInstance;if(p.disabled=t.disabled,e&&p._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(n)+3+"px",t.bottomRight[0].style.height=parseInt(n)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-h){var g=parseInt(i)-h;g<0&&(g=0),t.content[0].style.width=g+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(s)-a){var f=parseInt(s)-a;f<0&&(f=0),t.content[0].style.height=f+"px",t.content[0].style.top="0px"}l>0&&(t.content[0].style.top=l+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-l+"px"),t.filterable?(t.filterInput[0].style.height=l-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-h),t.overlayContent.height(parseInt(s)-a))}},ensureVisible:function(t,i){if(isNaN(t)&&(s=this.getItemByValue(t))&&(t=s.index),this.isIndexInView(t)){if(i)for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){var l=this.vScrollInstance.value,r=s.initialTop;this.filterable&&(r=this.filterHeight+2+s.initialTop),l+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(r)}}}else{if(t<0)return;if(this.autoHeight)(n=e.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0);else for(indx=0;indx<this.visibleItems.length;indx++)if((s=this.visibleItems[indx]).visibleIndex==t&&!s.isGroup){var n=e.data(this.vScrollBar[0],"jqxScrollBar").instance,l=n.value,a=this.filterable?this.filterHeight+2:0,h="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;if(s.initialTop<l)n.setPosition(s.initialTop),0==indx&&n.setPosition(0);else if(s.initialTop+s.height>l+this.host.height()-a){var o=this.host.height();if(this.filterable?n.setPosition(this.filterHeight+2+s.initialTop+s.height+2-o+h):(n.setPosition(s.initialTop+s.height+2-o+h),indx===this.visibleItems.length-1&&n.setPosition(n.max)),i){var l=n.value,r=s.initialTop;this.filterable&&(r=this.filterHeight+2+s.initialTop),l+o<n.max&&n.setPosition(r)}}break}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(t,i){this.records=new Array;var s=!!t._source,l=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(l=t,t=t._source);var r=function(t,i){var s=function(i){var s=null;if("string"==typeof i)var l=i,r=i,n="";else if(void 0!=t.displayMember&&""!=t.displayMember)var r=i[t.valueMember],l=i[t.displayMember];n="";if(t.groupMember?n=i[t.groupMember]:i&&void 0!=i.group&&(n=i.group),t.searchMember?s=i[t.searchMember]:i&&void 0!=i.searchLabel&&(s=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(l=r=i.toString()),i&&void 0!=i.label)l=i.label;if(i&&void 0!=i.value)r=i.value;var a=!1;i&&void 0!=i.checked&&(a=i.checked);var h="";i&&void 0!=i.html&&(h=i.html);var o=!0;i&&void 0!=i.visible&&(o=i.visible);var d=!1;i&&void 0!=i.disabled&&(d=i.disabled);var c=!1;i&&void 0!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=l,u.value=r,u.searchLabel=s,u.html=h,u.visible=o,u.originalItem=i,u.group=n,u.groupHtml="",u.disabled=d,u.checked=a,u.hasThreeStates=c,u};if(void 0!=i&&l._changedrecords[0])e.each(l._changedrecords,function(){var e=this.index,l=this.record;if("remove"!=i)var r=s(l);switch(i){case"update":t.updateAt(r,e);break;case"add":t.insertAt(r,e);break;case"remove":t.removeAt(e)}});else{t.records=l.records;for(var r=t.records.length,n=new Array,a=0;a<r;a++){var h=t.records[a],o=s(h);o.index=a,n[a]=o}t.items=t.loadItems(n,!0),t._render(),t._raiseEvent("6")}};void 0!=t.type&&(l._options.type=t.type),void 0!=t.formatdata&&(l._options.formatData=t.formatdata),void 0!=t.contenttype&&(l._options.contentType=t.contenttype),void 0!=t.async&&(l._options.async=t.async);var n=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(l.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&l.dataBind(),r(this),l.bindBindingUpdate(this.element.id,function(e){r(n,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return l.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&l.dataBind(),r(this),void l.bindBindingUpdate(this.element.id,function(){r(n)});var a={};l._options.data?e.extend(l._options.data,a):(t.data&&e.extend(a,t.data),l._options.data=a);l.unbindDownloadComplete(n.element.id),l.bindDownloadComplete(n.element.id,function(){r(n)}),(this.autoBind||!this.autoBind&&!i)&&l.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var s=this,l=0,r=0,n=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var a=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var h=new e.jqx._jqxListBox.item,o=t.group,d=t.groupHtml,c=t.title,u=null;if(s.searchMember?u=t[s.searchMember]:t&&void 0!=t.searchLabel&&(u=t.searchLabel),null!=c&&void 0!=c||(c=""),null!=o&&void 0!=o||(o=""),s.groupMember&&(o=t[s.groupMember]),null!=d&&void 0!=d||(d=""),!s.groups[o]){s.groups[o]={items:new Array,index:-1,caption:o,captionHtml:d};var m=++l+"jqxGroup";s.groups[m]=s.groups[o],r++,s.groups.length=r}var v=s.groups[o];return v.index++,v.items[v.index]=h,"string"==typeof t?(h.label=t,h.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(h.label=t,h.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(h.label=t.toString(),h.value=t.toString()):(h.label=t.label,h.value=t.value,void 0===h.label&&(h.label=t.value),void 0===h.value&&(h.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=s.displayMember&&(void 0!=t[s.displayMember]?h.label=t[s.displayMember]:h.label=""),void 0===t.value&&""!=s.valueMember&&(h.value=t[s.valueMember])),h.hasThreeStates=void 0==t.hasThreeStates||t.hasThreeStates,h.originalItem=t,i&&(h.originalItem=t.originalItem),h.title=c,c&&void 0===h.value&&void 0===h.label&&(h.value=h.label=c),h.html=t.html||"",t.html&&t.html,h.group=o,h.checked=t.checked||!1,h.groupHtml=t.groupHtml||"",h.disabled=t.disabled||!1,h.visible=void 0==t.visible||t.visible,h.searchLabel=u,h.index=n,a[n]=h,n++,h});var h=new Array,o=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var d=0;d<r;d++){var c=(l=d+1)+"jqxGroup",u=this.groups[c];if(void 0==u||null==u)break;if(0==d&&""==u.caption&&""==u.captionHtml&&r<=1){for(var m=0;m<u.items.length;m++){g=u.items[m].value;void 0!=u.items[m].value&&null!=u.items[m].value||(g=m),this.itemsByValue[e.trim(g).split(" ").join("?")]=u.items[m]}return u.items}var v=new e.jqx._jqxListBox.item;v.isGroup=!0,v.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,v.label=u.caption),v.html=u.captionHtml,h[o]=v,o++;for(var p=0;p<u.items.length;p++){h[o]=u.items[p];var g=u.items[p].value;""!=u.items[p].value&&null!=u.items[p].value||(g=o),s.itemsByValue[e.trim(g).split(" ").join("?")]=u.items[p],o++}}else{var o=0,f=new Array;e.each(a,function(){if(!f[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,h[o]=t,o++,f[this.group]=!0}h[o]=this;var i=this.value;""!=this.value&&null!=this.value||(i=o-1),s.itemsByValue[e.trim(i).split(" ").join("?")]=this,o++})}return h},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return!(!i||void 0==i.index)&&this.updateAt(e,i.index)},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("?")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled,this._raiseEvent("9",{item:this.items[i]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh(),(s=this._mapItem(t)).index=0,this.items[this.items.length]=s,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();o=s.value;return""!=s.value&&null!=s.value||(o=i),this.itemsByValue[e.trim(o).split(" ").join("?")]=s,!1}var s=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)s.index=this.items.length,this.items[this.items.length]=s;else{for(var l=new Array,r=0,n=!1,a=0,h=0;h<this.items.length;h++)0==this.items[h].isGroup&&a>=i&&!n&&(l[r++]=s,s.index=i,a++,n=!0),l[r]=this.items[h],this.items[h].isGroup||(l[r].index=a,a++),r++;this.items=l}var o=s.value;""!=s.value&&null!=s.value||(o=i),this.itemsByValue[e.trim(o).split(" ").join("?")]=s,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this._raiseEvent("7",{item:s}),this.rendered&&this.rendered(),!0},removeAt:function(t){if(t<0||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height;""!=(m=this.items[t].value)&&null!=m||(m=t),this.itemsByValue[e.trim(m).split(" ").join("?")]=null;var s=this.items[t];if(this.groups.length>1){for(var l=new Array,r=0;r<this.items.length;r++)this.items[r].isGroup||l.push({item:this.items[r],key:r});if(!l[t])return!1;this.items.splice(l[t].key,1)}else this.items.splice(t,1);for(var n=new Array,a=0,h=0,r=0;r<this.items.length;r++)n[a]=this.items[r],this.items[r].isGroup||(n[a].index=h,h++),a++;this.items=n;var o=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=(o=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value;if(o.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?o.setPosition(d):o.setPosition(0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var m=this.items[u].value;""!=this.items[u].value&&null!=this.items[u].value||(m=u),this.itemsByValue[e.trim(m).split(" ").join("?")]=this.items[u]}return this._raiseEvent("8",{item:s}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&void 0!=i.index&&!0!==t){for(var l=0;l<this.items.length;l++)if(this.items[l].label==i.label&&this.items[l].value==i.value){s=l;break}if(-1!=s)return this.removeAt(s)}if(-1==s)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!0,this._renderItems(),!0))},enableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!1,this._renderItems(),!0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this,this._updateInputSelection();var l=new e.Event(s);if(l.owner=this,l.args=args,null!=this.host)var r=this.host.trigger(l);return r}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,s=e(t).find("option"),l=e(t).find("optgroup"),r=!1;0===s.length&&(s=e(t).find("li")).length>0&&(r=!0);var n=null,n=-1,a=new Array;if(e.each(s,function(t){var s=l.find(this).length>0,h=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===r&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var o={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e.jqx.browser.msie&&e.jqx.browser.version<8&&!r&&""==o.value&&null!=this.text&&this.text.length>0&&(o.value=this.text),s&&(h=l.find(this).parent()[0].label,o.group=h,a[h]||(a[h]=new Array,a.length++),a[h].push(o)),this.selected&&(n=t),o.checked=this.selected,void 0!==o.label&&i.push(o)}),a.length>0){var h=new Array;for(var o in a)if("indexOf"!==o){for(var d=0;d<l.length;d++)if(o===l[d].label||l[d].text){l[d];break}e.each(a[o],function(e,t){void 0!==this.label&&h.push(this)})}}return h&&h.length>0?{items:h,index:n}:{items:i,index:n}},e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxListMenu","",{});var e=0,i=0;t.extend(t.jqx._jqxListMenu.prototype,{defineInstance:function(){var e={filterCallback:function(e,i){return t.jqx.string.containsIgnoreCase(t.trim(e),i)},placeHolder:"Filter list items...",showFilter:!1,showHeader:!0,showBackButton:!0,showNavigationArrows:!0,alwaysShowNavigationArrows:!1,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:!1,readOnly:!1,roundedCorners:!0,disabled:!1,enableScrolling:!0,touchMode:!1,_childrenMap:{},_parentMap:{},_lock:!1,_backButton:null,_currentPage:null,_header:null,_oldHost:void 0,rtl:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===t.jqx._jqxListMenu.prototype?e:(t.extend(!0,this,e),e)},destroy:function(){this.host.remove()},createInstance:function(){t.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(t){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},resize:function(t,e){this.width=t,this.height=e,this.host.css({width:this.width,height:this.height}),this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),t.jqx.browser.msie&&t.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(e){var e,i,s=this.host.find(".jqx-listmenu-auto-separator"),a=this.host.find('[data-role="listmenu"]');for(s.remove(),i=0;i<a.length;i+=1)((e=t(a[i])).data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(e)},_renderSublists:function(){var e,i,s,a,r,n=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];for(this._refreshList(n[0]);n.length;){s=n.pop(),a=(e=this._getChildrenByTagName(s,"li","LI")).length;for(var h=0;h<a;h+=1)i=e[h],t(i).attr("role","treeitem"),r=this._getChildList(i),this._refreshLi(i,h,a),r&&(n.push(r),this._refreshList(r,i,!0))}},_refreshList:function(e,i,s){"listmenu"===(e=t(e)).data("role")&&(e.is(".jqx-listmenu")||(this._renderList(e),this._handleListId(e),this._addListClasses(e)),i&&this._expandHierarchy(e[0],i),s&&this._handleSublist(e[0]))},_renderList:function(e){(e=t(e)).is(".jqx-listmenu")||(e.detach(),e.appendTo(this.host))},_handleListId:function(t){t[0].id||(t[0].id="jqx-listmenu-"+i,i+=1)},_renderListAutoSeparators:function(e){for(var i,s,a=e.children("li"),r={},n=0;n<a.length;n+=1)if(!(s=t(a[n])).data("role")){if(t.trim(s.text())[0]!==i){i=t.trim(s.text())[0];var h=t('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+i+"</li>");h.insertBefore(s),h[0].items=new Array,r=h[0]}r.items&&(r.items[r.items.length]=s[0])}},_addListClasses:function(t){t.addClass("jqx-listmenu")},_expandHierarchy:function(t,e){if(e&&t){var i=e.id,s=t.id;this._childrenMap[i]=s,this._parentMap[s]=i}},_handleSublist:function(t){this._currentPage&&t===this._currentPage[0]?t.style.display="block":t.style.display="none"},_getChildrenByTagName:function(t,e,i){var s=[],a={};for(a[e]=a[i]=!0,t=t.firstChild;t;)a[t.nodeName]&&s.push(t),t=t.nextSibling;return s},_renderFilterBar:function(){this._filterBar||(this._filterBar=t("<div/>"),this._filterInput=t('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var e=!1;t.jqx.browser.msie&&t.jqx.browser.version<8&&(e=!0),e||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=t("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=t("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){this._backButton||(this._backButton=t('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl&&(t.jqx.browser.msie&&t.jqx.browser.version<8?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15)))),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var e=this.isTouchDevice()&&!this.touchMode,i=t.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,e?i:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var e=this,i=this.isTouchDevice()&&!this.touchMode,s=t.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,i?s:"click",function(){e.back()}),this.addHandler(this._filterInput,"keyup change",function(){e._filter(t(this).val())})},_getChildList:function(t){if(t){var e=this._childrenMap[t.id];if(t.className.indexOf("jqx-listmenu-item")>=0&&e)return document.getElementById(e);var i=this._getChildrenByTagName(t,"ul","UL")[0],s=this._getChildrenByTagName(t,"ol","OL")[0];return i||s}},_refreshLi:function(t,e,i){if(t.parentNode&&"listmenu"===t.parentNode.getAttribute("data-role")){if(""==t.id);this._handleLiId(t),this._renderLi(t),this._removeLiEventHandlers(t),this._addLiEventHandlers(t),this._addLiClasses(t,e,i)}},_handleLiId:function(t){t.id||(t.id="jqx-listmenu-item-"+e,e+=1)},_renderLi:function(e){if(!(/(separator|header)/.test(t(e).data("role"))||t(e).children(".jqx-listmenu-arrow-right").length>0)&&(t(e).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>'),this.showNavigationArrows||this.alwaysShowNavigationArrows)){var i=t("<span/>"),s=t(e).find("ul"),a=t(e).find("ol");(this.alwaysShowNavigationArrows||s.length>0&&/(listmenu)/.test(s.data("role"))||a.length>0&&/(listmenu)/.test(a.data("role")))&&(i.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),i.prependTo(e)):(i.addClass(this.toThemeProperty("jqx-icon-arrow-right")),i.appendTo(e)))}},_removeLiEventHandlers:function(e){var i=this.isTouchDevice(),s=t.jqx.mobile.getTouchEventName("touchstart"),a=t.jqx.mobile.getTouchEventName("touchend"),r=(t.jqx.mobile.getTouchEventName("touchmove"),(i?s:"mousedown")+".listmenu"),n=(i?a:"mouseup")+".listmenu";this.removeHandler(t(e),r),this.removeHandler(t(document),n+"."+e.id)},isTouchDevice:function(){var e=t.jqx.mobile.isTouchDevice();return 1==this.touchMode&&(e=!0),e},_addLiEventHandlers:function(e){e=t(e);var i=this,s=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),a=e.children(".jqx-listmenu-arrow-right"),r=t.jqx.mobile.isTouchDevice(),n=t.jqx.mobile.getTouchEventName("touchstart"),h=t.jqx.mobile.getTouchEventName("touchend"),o=(t.jqx.mobile.getTouchEventName("touchmove"),(r?n:"mousedown")+".listmenu"),l=(r?h:"mouseup")+".listmenu",d=null,c="";/(separator|readonly)/.test(e.data("role"))||this.readOnly||(this.addHandler(e,"dragstart",function(){return!1}),this.addHandler(e,o,function(n){i.disabled||(d=n.target,c=t.jqx.position(n),0==e.find('div[data-role="content"]').length&&(r||(e.addClass(i.toThemeProperty("jqx-fill-state-pressed")),a.addClass(s))))}),this.addHandler(e,l,function(s){i.disabled||d!=s.target&&r||t.jqx.position(s).top===c.top&&i.next(e)}),this.addHandler(t(document),l+"."+e[0].id,function(){i.disabled||(e.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),a.removeClass(s))}))},_addLiClasses:function(e,i,s){"separator"===(e=t(e)).data("role")?this._handleSeparatorStyle(e):"header"===e.data("role")?this._handleHeaderStyle(e):(this.readOnly||"readonly"===e.data("role")?e.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):e.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(e)),0!==i||this.showHeader||this.showFilter||e.addClass(this.toThemeProperty("jqx-rc-t")),i===s-1&&e.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(t){t.addClass(this.toThemeProperty("jqx-listmenu-separator")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),t[0].style.listStyle="none"},_handleHeaderStyle:function(t){t.css("display","none")},_handleItemStyle:function(t){t.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&t.addClass(this.toThemeProperty("jqx-rtl")),t.addClass(this.toThemeProperty("jqx-fill-state-normal")),t.addClass(this.toThemeProperty("jqx-item"))},back:function(){var e,i=this._currentPage;i&&(e=this._parentMap[i[0].id]),this._back=!0,t("#"+e).length>0&&t.jqx.aria(t("#"+e),"aria-expanded",!1),this._changePage(i,t("#"+e).parent(),this.animationDuration,!0),this._back=!1},next:function(e){var i=e.attr("id"),s=this._childrenMap[i],a=t("#"+s),r=t("#"+i).parent();t.jqx.aria(e,"aria-expanded",!0),this._changePage(r,a,this.animationDuration)},changePage:function(e){if("string"==typeof e&&(e=t(e)),!e[0]||"listmenu"!==e.attr("data-role")||e.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=e[0]&&this._changePage(this._currentPage,e,this.animationDuration)},_changePage:function(e,i,s,a){if(!this._lock){var r="_"+this.animationType+"Change"+(a?"Back":"");i[0]&&(this.showFilter&&(i.find('div[data-role="content"]').length>0?(t.each(i.find("li"),function(){"separator"===t(this).data("role")&&t(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[r](e,i,this.animationDuration,function(){this._lock=!1,this._changeHeader(i),this._currentPage=i}))}},_changeHeader:function(e){var i=t(e).find('li[data-role="header"]').first();if(i[0]){var s=this;this._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){s._headerLabel.html(i.html()),s._headerLabel.fadeIn(s.headerAnimationDuration/2)})}},_slideChange:function(e,i,s,a){var r=this;this.enableScrolling&&null!=this.panel&&this.panel.jqxPanel("scrollTo",0,0);var n=this.rtl;this._initSlide(e,i),n?(e.animate({"margin-left":e.width()+parseInt(e.css("margin-right"),10)||0},s,"easeInOutSine"),i.animate({"margin-left":0},s,"easeInOutSine",function(){r._slideEnd(e,i),a.call(r,t(this))})):(e.animate({"margin-left":-e.width()-parseInt(e.css("margin-right"),10)||0},s,"easeInOutSine"),i.animate({"margin-left":0},s,"easeInOutSine",function(){r._slideEnd(e,i),a.call(r,t(this))}))},_initSlide:function(t,e){var i=this.rtl;t.width(t.width()),e.css({marginTop:-t.outerHeight(!0),marginLeft:i?-t.width()-(parseInt(t.css("margin-right"),10)||0):t.width()+(parseInt(t.css("margin-right"),10)||0),display:"block",height:"auto",width:t.width()})},_slideEnd:function(t,e){this.host.css("height","auto"),t.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),e.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(e,i,s,a){var r=this;this._initSlideBack(e,i),e.animate({"margin-left":this.rtl?-e.width()-parseInt(e.css("margin-right"),10)||0:e.width()+parseInt(e.css("margin-right"),10)||0},s),i.animate({"margin-left":0},s,function(){r._slideEnd(e,i),a.call(r,t(this))})},_initSlideBack:function(t,e){t.css({marginTop:-e.outerHeight(!0),width:t.width()}),e.css({width:t.width(),marginLeft:this.rtl?t.width()+parseInt(t.css("margin-right"),10)||0:-t.width()-parseInt(t.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(t,e,i,s){this._fadeChange(t,e,i,s)},_fadeChange:function(e,i,s,a){var r=this;e.fadeOut(s/2,function(){i.fadeIn(s/2,function(){a.call(r,t(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(e){for(var i=this.host.find(".jqx-listmenu-item"),s=0;s<i.length;s+=1){var a=t.trim(t(i[s]).text());this.filterCallback(a,e)?i[s].style.display="block":i[s].style.display="none"}for(var i=this.host.find(".jqx-listmenu-separator"),s=0;s<i.length;s+=1){var r=!1;t.each(i[s].items,function(){if("none"!=t(this).css("display"))return r=!0,!1}),i[s].style.display=r?"block":"none"}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(t,e,i,s){if("disabled"==e&&(s?t.disable():t.enable()),"backLabel"!==e){if("placeHolder"===e)t._filterInput.attr("placeholder",s);else if(/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(e))return void t._render()}else t._backButton.html(s)}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxLoader","",{}),t.extend(t.jqx._jqxLoader.prototype,{defineInstance:function(){var e={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"]};return this===t.jqx._jqxLoader.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(t){var e=this;e._render(!0),e._raiseEvent("0")},render:function(){this._render()},open:function(t,e){var o=this;null!==this.width&&-1!==this.width.toString().indexOf("%")&&o.host.css("width",this.width),null!==this.height&&-1!==this.height.toString().indexOf("%")&&o.host.css("height",this.height),o.host.show(),o.host.css("left",-o.host.width()/2),o.host.css("top",-o.host.height()/2),t&&e&&(o.host.css("left",t),o.host.css("top",e)),o.isModal&&o._modal.show()},close:function(){var t=this;t.host.hide(),t.isModal&&t._modal.hide()},_checkBrowser:function(){var e=this;"msie"===t.jqx.browser.browser&&("7.0"===t.jqx.browser.version?(!1===e.isModal&&e.host.addClass(e.toThemeProperty("jqx-loader-ie-transparency")),e.host.css("top",Math.max(0,(t(window).height()-t(e.host).outerHeight())/2+t(window).scrollTop())+"px"),e.host.css("left",Math.max(0,(t(window).width()-t(e.host).outerWidth())/2+t(window).scrollLeft())+"px"),t(window).resize(function(){e.host.css("top",Math.max(0,(t(window).height()-t(e.host).outerHeight())/2+t(window).scrollTop())+"px"),e.host.css("left",Math.max(0,(t(window).width()-t(e.host).outerWidth())/2+t(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===t.jqx.browser.version&&!1===e.isModal&&e.host.addClass(e.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var t=this;this._text=t.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",t.imagePosition),"top"===t.textPosition?(this._text.addClass(t.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-right"))):"bottom"===t.textPosition?(this._text.addClass(t.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-right"))):"left"===t.textPosition?(this._text.addClass(t.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-bottom"))):"right"===t.textPosition&&(this._text.addClass(t.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(t.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(t){!0!==t&&this._render(!1)},destroy:function(){var t=this;t._removeHandlers(),t.host.remove()},propertyChangedHandler:function(t,e,o,s){if(s!==o)switch(e){case"width":t.host.width(s);break;case"height":t.host.height(s);break;case"text":t._text.text(s);break;case"html":t.host.html(s);break;case"textPosition":t._textPos(s);break;case"rtl":!0===s?t._text.addClass(t.toThemeProperty("jqx-loader-rtl")):t._text.removeClass(t.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(e,o){var s=this,r=s.events[e],h=new t.Event(r);h.owner=s,h.args=o;try{var i=s.host.trigger(h)}catch(t){}return i},_render:function(e){var o=this;if(o.host.width(o.width),o.host.height(o.height),!1===o.autoOpen&&o.host.hide(),e&&(null===o.html?(o.host.append('<div class="'+o.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+o.toThemeProperty("jqx-loader-text")+'">'+o.text+"</div>"),o._image=o.host.children("div:eq(0)"),o._text=o.host.children("div:eq(1)")):o.host.html(this.html),!0===o.isModal)){var s=o.host.css("display");o._modal=t('<div id="'+o.element.id+'Modal" class="'+o.toThemeProperty("jqx-loader-modal")+'" style="display: '+s+';"></div>'),t("body").append(o._modal)}o._checkBrowser(),o._textPos(),o._addClass(),o._removeHandlers(),o._addHandlers()},_addHandlers:function(){var e=this;!0===e.isModal&&e.addHandler(t(document),"keyup.loader"+e.element.id,function(t){27===t.keyCode&&e.close()})},_removeHandlers:function(){var e=this;e.removeHandler(t(document),"keyup.loader"+e.element.id)},_addClass:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-loader")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl&&e._text.addClass(e.toThemeProperty("jqx-loader-rtl")),t.jqx.browser.msie&&e.host.addClass(this.toThemeProperty("jqx-noshadow")),e.host.addClass(this.toThemeProperty("jqx-rc-t")),e.host.addClass(this.toThemeProperty("jqx-rc-b")),e.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework);

!function(t){"use strict";t.jqx.jqxWidget("jqxMaskedInput","",{}),t.extend(t.jqx._jqxMaskedInput.prototype,{defineInstance:function(){var e={value:null,mask:"99999",width:null,height:25,textAlign:"left",readOnly:!1,cookies:!1,promptChar:"_",rtl:!1,disabled:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"value",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===t.jqx._jqxMaskedInput.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){this.render()},render:function(){var e=this;e.element.setAttribute("role","textbox"),e.element.setAttribute("data-role","input");var s=e.element.getAttribute("value");void 0!==s&&""!==s&&null!==s&&(e.value=s),t.jqx.aria(this),t.jqx.aria(this,"aria-multiline",!1),t.jqx.aria(this,"aria-readonly",e.readOnly),e._helpers=[],e._helpers.element=new jqxHelper(e.element),e._helpers.element.addClass(e.toThemeProperty("jqx-input jqx-rc-all jqx-widget jqx-widget-content"));var i=e.element.getAttribute("name");if("div"===e.element.nodeName.toLowerCase()){e.element.innerHTML="";var a=document.createElement("input");a.setAttribute("type","textarea"),a.setAttribute("autocomplete","off"),a.setAttribute("autocorrect","off"),a.setAttribute("autocapitalize","off"),a.setAttribute("spellcheck",!1),a.setAttribute("name",i),e.element.appendChild(a),e.maskbox=t(a),e.disabled&&(e._helpers.element.addClass(e.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),a.setAttribute("disabled",!0))}else e.maskbox=e.host,e.element.setAttribute("autocomplete","off"),e.element.setAttribute("autocorrect","off"),e.element.setAttribute("autocapitalize","off"),e.element.setAttribute("spellcheck",!1),e.element.setAttribute("name",i),e.disabled&&(e._helpers.element.addClass(e.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),e.element.setAttribute("disabled",!0));if(e._helpers.maskbox=new jqxHelper(e.maskbox[0]),e._helpers.maskbox.addClass(e.toThemeProperty("jqx-reset jqx-input-content jqx-widget-content")),e.rtl&&e._helpers.maskbox.addClass(e.toThemeProperty("jqx-rtl")),e.propertyChangeMap.disabled=function(t,s,i,a){a?t._helpers.maskbox.addClass(e.toThemeProperty("jqx-input-disabled")):t._helpers.maskbox.removeClass(e.toThemeProperty("jqx-input-disabled"))},e.selectedText="",e.self=this,e.oldValue=e._value(),e.items=[],e._initializeLiterals(),e._render(),null!=e.value&&e.inputValue(e.value.toString()),e.host.parents("form").length>0&&e.host.parents("form").on("reset",function(){setTimeout(function(){e.clearValue()},10)}),e.addHandlers(),e.cookies){var r=t.jqx.cookie.cookie("maskedInput."+e.element.id);r&&e.val(r)}},addHandlers:function(){var e=this,s="";this.addHandler(this.maskbox,"blur",function(){e.rtl&&e.maskbox.css("direction","ltr"),e._helpers.maskbox.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.maskbox.val()!==s&&(e._raiseEvent(7,{type:"keyboard"}),e.cookies&&t.jqx.cookie.cookie("maskedInput."+e.element.id,e.maskbox.val()))}),this.addHandler(this.maskbox,"focus",function(){s=e.maskbox[0].value,e.rtl&&(e.maskbox[0].style.direction="rtl"),e._helpers.element.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"keydown",function(t){var s=e.readOnly,i=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(s||e.disabled)return!1;var a=e._handleKeyDown(t,i);return a||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),a}),this.addHandler(this.host,"keyup",function(t){return!(!e.readOnly&&!e.disabled)||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1)}),this.addHandler(this.host,"keypress",function(t){var s=e.readOnly,i=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(s||e.disabled)return!0;var a=e._handleKeyPress(t,i);return a||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),a})},focus:function(){try{var t=this;t.maskbox.focus(),setTimeout(function(){t.maskbox.focus()})}catch(t){}},_getString:function(){for(var t="",e=0;e<this.items.length;e++){var s=this.items[e].character;this.items[e].character===this.promptChar&&this.promptChar!==this.items[e].defaultCharacter?t+=this.items[e].defaultCharacter:t+=s}return t},_initializeLiterals:function(){if(void 0!==this.mask&&null!==this.mask){var t=this,e=function(e,s,i){var a={};return a.character=e,a.regex=s,a.canEdit=i,a.defaultCharacter=t.promptChar,a};this.mask=this.mask.toString();for(var s=this.mask.length,i=0;i<s;i++){var a=this.mask.substring(i,i+1),r="",n=!1;if("["===a){for(var h=i;h<s&&"]"!==this.mask.substring(h,h+1);h++);r="("+this.mask.substring(i,h+1)+")",i=h,n=!0}"#"===a?(r="(\\d|[+]|[-])",n=!0):"9"===a||"0"===a?(r="\\d",n=!0):"$"===a?n=!1:"/"===a||":"===a?n=!1:"A"===a||"a"===a?(r="\\w",n=!0):"c"===a||"C"===a?(r=".",n=!0):"L"!==a&&"l"!==a||(r="([a-zA-Z])",n=!0);var l={};l=n?e(this.promptChar,r,n):e(a,r,n),this.items.push(l)}}else this.items=[]},setRegex:function(t,e,s,i){null!==t&&void 0!==t&&null!==e&&void 0!==e&&t<this.items.length&&(this.items[t].regex=e,null!==s&&void 0!==s&&(this.items[t].canEdit=s),null!==i&&void 0!==i&&(this.items[t].defaultCharacter=i))},_match:function(t,e){return new RegExp(e,"i").test(t)},_raiseEvent:function(e,s){var i=this.events[e],a={};a.owner=this;var r=!0,n=new t.Event(i);return n.owner=this,a.value=this.inputValue(),a.text=this.maskedValue(),7===e&&(a.type=s.type,void 0===a.type&&(a.type=null)),n.args=a,(e<2||e>6)&&(r=this.host.trigger(n)),r},_handleKeyPress:function(t,e){return this._isSpecialKey(e,t)},_insertKey:function(t,e){var s,i=this._selection(),a=this;if(i.start>=0&&i.start<this.items.length){var r=String.fromCharCode(t);t>=65&&t<=90&&(e.shiftKey||(r=r.toLowerCase()));for(var n=!1,h=0;h<this.items.length;h++)if(!(h<i.start)){var l=a.items[h];if(l.canEdit){if(a._match(r,l.regex)){if(!n&&i.length>0){for(var o=i.start;o<i.end;o++)a.items[o].canEdit&&(a.items[o].character=a.promptChar);s=a._getString(),a.maskedValue(s),n=!0}l.character=r,s=a._getString(),a.maskedValue(s),i.start<a.items.length&&a._setSelectionStart(h+1);break}break}}}},_deleteSelectedText:function(){var t=this._selection(),e=!1;if(t.start>0||t.length>0){for(var s=t.start;s<t.end;s++)s<this.items.length&&this.items[s].canEdit&&this.items[s].character!==this.promptChar&&(this.items[s].character=this.promptChar,e=!0);var i=this._getString();return this.maskedValue(i),e}},_saveSelectedText:function(){var e=this._selection(),s="";if(e.start>0||e.length>0)for(var i=e.start;i<e.end;i++)this.items[i].canEdit&&(s+=this.items[i].character);if(window.clipboardData)window.clipboardData.setData("Text",s);else{var a=t("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>");a.val(s),t("body").append(a),a.select(),setTimeout(function(){document.designMode="off",a.select(),a.remove()},100)}return s},_pasteSelectedText:function(){var e=this._selection(),s="",i=0,a=e.start,r="",n=this,h=function(t){if(!(t!==n.selectedText&&t.length>0&&(n.selectedText=t,null===n.selectedText||void 0===n.selectedText))){if(e.start>=0||e.length>0)for(var r=e.start;r<n.items.length;r++)n.items[r].canEdit&&i<n.selectedText.length&&(n.items[r].character=n.selectedText[i],i++,a=1+r);s=n._getString(),n.maskedValue(s),a<n.items.length?n._setSelectionStart(a):n._setSelectionStart(n.items.length)}};if(window.clipboardData)r=window.clipboardData.getData("Text"),h(r);else{var l=t("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>");t("body").append(l),l.select(),setTimeout(function(){var t=l.val();h(t),l.remove()},100)}},_handleKeyDown:function(e,s){var i,a=this._selection();s>=96&&s<=105&&(s-=48);var r=e.ctrlKey||e.metaKey;if(r&&97===s||r&&65===s)return!0;if(r&&120===s||r&&88===s)return this.selectedText=this._saveSelectedText(e),this._deleteSelectedText(e),!t.jqx.browser.msie;if(r&&99===s||r&&67===s)return this.selectedText=this._saveSelectedText(e),!t.jqx.browser.msie;if(r&&122===s||r&&90===s)return!1;if(r&&118===s||r&&86===s||e.shiftKey&&45===s)return this._pasteSelectedText(),!t.jqx.browser.msie;if(8===s){if(0===a.length)for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&i<a.end&&this.items[i].character!==this.promptChar){this._setSelection(i,i+1);break}a=this._selection();var n=this._deleteSelectedText();return(a.start>0||a.length>0)&&a.start<=this.items.length&&(n?this._setSelectionStart(a.start):this._setSelectionStart(a.start-1)),!1}if(190===s)for(i=a.start;i<this.items.length;i++)if("."===this.items[i].character){this._setSelectionStart(i+1);break}if(191===s)for(i=a.start;i<this.items.length;i++)if("/"===this.items[i].character){this._setSelectionStart(i+1);break}if(189===s)for(i=a.start;i<this.items.length;i++)if("-"===this.items[i].character){this._setSelectionStart(i+1);break}if(46===s){if(0===a.length)for(i=0;i<this.items.length;i++)if(this.items[i].canEdit&&i>=a.start&&this.items[i].character!==this.promptChar){this._setSelection(i,i+1);break}var h=a;return((a=this._selection()).start>=0||a.length>=0)&&a.start<this.items.length&&(a.length<=1?h.end!==a.end?this._setSelectionStart(a.end):this._setSelectionStart(a.end+1):this._setSelectionStart(a.start)),!1}return this._insertKey(s,e),this._isSpecialKey(s,e)},_isSpecialKey:function(t,e){return 189===t||9===t||13===t||35===t||36===t||37===t||39===t||46===t||!!(16===t&&e.shiftKey||e.ctrlKey||e.metaKey)},_selection:function(){var t,e=this.maskbox[0];if("selectionStart"in this.maskbox[0])return t=e.selectionEnd-e.selectionStart,{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value};var s=document.selection.createRange();if(null==s)return{start:0,end:e.value.length,length:0};var i=this.maskbox[0].createTextRange(),a=i.duplicate();return i.moveToBookmark(s.getBookmark()),a.setEndPoint("EndToStart",i),t=s.text.length,{start:a.text.length,end:a.text.length+s.text.length,length:t,text:s.text}},_setSelection:function(t,e){if("selectionStart"in this.maskbox[0])this.maskbox[0].focus(),this.maskbox[0].setSelectionRange(t,e);else{var s=this.maskbox[0].createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",t),s.select()}},_setSelectionStart:function(t){this._setSelection(t,t)},refresh:function(t){t||this._render()},resize:function(t,e){this.width=t,this.height=e,this.refresh()},_render:function(){var e=parseInt(this.host.css("border-left-width"),10),s=parseInt(this.host.css("border-left-width"),10),i=parseInt(this.host.css("border-left-width"),10),a=parseInt(this.host.css("border-left-width"),10),r=parseInt(this.host.css("height"),10)-i-a,n=parseInt(this.host.css("width"),10)-e-s;null!=this.width&&-1!==this.width.toString().indexOf("px")?n=this.width:void 0===this.width||isNaN(this.width)||(n=this.width),null!=this.height&&-1!==this.height.toString().indexOf("px")?r=this.height:void 0===this.height||isNaN(this.height)||(r=this.height),n=parseInt(n,10),r=parseInt(r,10),this.maskbox[0]!==this.element&&this.maskbox.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.maskbox.css("text-align",this.textAlign);var h=this.maskbox.css("font-size");isNaN(r)||this.maskbox.css("height",parseInt(h,10)+4+"px"),isNaN(n)||this.maskbox.css("width",n-2);var l=parseInt(r,10)-2*parseInt(i,10)-2*parseInt(a,10)-parseInt(h,10);if(isNaN(l)&&(l=0),isNaN(r)||this.host.height(r),isNaN(n)||this.host.width(n),this.maskbox[0]!==this.element){var o=l/2;t.jqx.browser.msie&&t.jqx.browser.version<8&&(o=l/4),this.maskbox.css("padding-right","0px"),this.maskbox.css("padding-left","0px"),this.maskbox.css("padding-top",o),this.maskbox.css("padding-bottom",l/2)}this.maskbox[0].value=this._getString(),this.width&&(this.width.toString().indexOf("%")>=0&&(this.element.style.width=this.width),this.height.toString().indexOf("%")>=0&&(this.element.style.height=this.height))},destroy:function(){var e=this;t.jqx.utilities.resize(this.host,null,!0),e.host.remove(),e._helpers=[]},maskedValue:function(t){return void 0===t?this._value():(this.value=t,this._refreshValue(),this.oldValue!==t&&(this._raiseEvent(1,t),this.oldValue=t,this._raiseEvent(0,t)),this)},propertyChangedHandler:function(e,s,i,a){if(void 0!==this.isInitialized&&!1!==this.isInitialized){if("rtl"===s&&(e.rtl?e._helpers.maskbox.addClass(e.toThemeProperty("jqx-rtl")):e._helpers.maskbox.removeClass(e.toThemeProperty("jqx-rtl"))),"value"===s&&(void 0!==a&&null!==a||(a=""),""===a?this.clear():(a=a.toString(),this.inputValue(a)),e._raiseEvent(7,a)),"theme"===s&&t.jqx.utilities.setTheme(i,a,this.host),"disabled"===s&&(a?(e._helpers.maskbox.addClass(e.toThemeProperty("jqx-input-disabled")),e._helpers.element.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._helpers.maskbox.attr("disabled",!0)):(e._helpers.maskbox.removeClass(this.toThemeProperty("jqx-input-disabled")),e._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e._helpers.maskbox.attr("disabled",!1)),t.jqx.aria(e,"aria-disabled",a)),"readOnly"===s&&(this.readOnly=a),"promptChar"===s){for(var r=0;r<e.items.length;r++)e.items[r].character===e.promptChar&&(e.items[r].character=a,e.items[r].defaultCharacter=a);e.promptChar=a}"textAlign"===s&&(e.maskbox.css("text-align",a),e.textAlign=a),"mask"===s&&(e.mask=a,e.items=[],e._initializeLiterals(),e.value=e._getString(),e._refreshValue()),"width"===s?(e.width=a,e._render()):"height"===s&&(e.height=a,e._render())}},_value:function(){return this.value},_getEditStringLength:function(){for(var t="",e=0;e<this.items.length;e++)this.items[e].canEdit&&(t+=this.items[e].character);return t.length},_getEditValue:function(){for(var t="",e=0;e<this.items.length;e++)this.items[e].canEdit&&this.items[e].character!==this.promptChar&&(t+=this.items[e].character);return t},parseValue:function(t){if(void 0===t||null===t)return null;for(var e=t.toString(),s="",i=0,a=0;a<e.length;a++)for(var r=e.substring(a,a+1),n=i;n<this.items.length;n++)if(this.items[n].canEdit&&this._match(r,this.items[n].regex)){s+=r,i=n;break}return s},clear:function(){this.clearValue()},clearValue:function(){this.inputValue("",!0)},val:function(t){return void 0!==t&&"object"!=typeof t&&("number"==typeof t&&isFinite(t)&&(t=t.toString()),this.maskedValue(t)),this.maskbox[0].value},inputValue:function(t,e){var s;if(void 0===t||null===t){var i="";for(s=0;s<this.items.length;s++)this.items[s].canEdit&&(i+=this.items[s].character);return i}var a=0;for(t=t.toString(),s=0;s<this.items.length;s++)this.items[s].canEdit&&(this._match(t.substring(a,a+1),this.items[s].regex)?(this.items[s].character=t.substring(a,a+1),a++):e&&(this.items[s].character=this.promptChar,a++));var r=this._getString();return this.maskedValue(r),this.inputValue()},_refreshValue:function(){for(var e=this.maskedValue(),s=0,i=0;i<this.items.length;i++)e.length>s&&(this.items[i].canEdit&&this.items[i].character!==e[s]&&(!this._match(e[s],this.items[i].regex)&&e[s]!==this.promptChar||1!==e[s].length||(this.items[i].character=e[s])),s++);this.value=this._getString(),e=this.value,this.maskbox[0].value=e,t.jqx.aria(this,"aria-valuenow",e)}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===e.jqx._jqxMenu.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){i.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var s=this.loadItems(this.source);this.element.innerHTML=s}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var o=this.host.find("ul:first");o.length>0&&this._createMenu(o[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation&&this.host.closest("div.jqx-menu-wrapper").focus(),this.keyboardNavigation){this.host.focus();var t=this,i=function(){if(e.jqx.isHidden(e(t.items[0].element))){var i=t._nextVisibleItem(t.items[0],0);i&&(e(i.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=i)}else e(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),i()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):i()}}catch(e){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var s=this;this.items=new Array;var o='<ul class="jqx-menu-ul">';return i&&(o='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,function(e){if(void 0==e)return null;o+=s._parseItem(e)}),o+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);void 0!=e.selected&&e.selected;var s=!1;return void 0!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;navigator.userAgent.match(/Windows|Linux|MacOS/)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0||(i=!0));var s=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var o=new e.jqx.response;"Phone"!=o.device.type&&"Tablet"!=o.device.type||this.minimized||this.minimize()}else t<s&&!this.minimized?this.minimize():this.minimized&&t>=s&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var i=this.host.closest("div.jqx-menu-wrapper");if(i.remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){var t=this;e(t.element);e(t.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source){var s=this.loadItems(this.source);this.element.innerHTML=s,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var o=this.host.find("ul:first");o.length>0&&this._createMenu(o[0])}this._render();var n=this.host.find("ul:first");n.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(i=n.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,i.detach(),i.appendTo(e(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-menu")),i.addClass(this.toThemeProperty("jqx-menu-minimized")),i.addClass(this.toThemeProperty("jqx-widget-header")),n.children().hide(),i.hide(),i.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(i,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var r=function(e){t.minimizedHidden=!0,t.minimizedItem.show();var s=!1;"right"==t.minimizedItem.css("float")&&(s=!0),i.animate({left:s?t.host.coord().left+t.host.width()+i.width():-i.outerWidth(),opacity:0},t.animationHideDuration,function(){i.find("ul:first").children().hide(),i.hide()})},a=function(e){if(t.minimizedHidden){i.find("ul:first").children().show(),t.minimizedHidden=!1,i.show(),i.css("opacity",0),i.css("left",-i.outerWidth());var s=!1,o=i.width();"right"==t.minimizedItem.css("float")&&(i.css("left",t.host.coord().left+t.host.width()+o),s=!0),i.css("top",t.host.coord().top+t.host.height()),i.animate({left:s?t.host.coord().left+t.host.width()-o:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else r();t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t._setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!t.minimizedHidden){var e=i.width(),s=!1,e=i.width();"right"==t.minimizedItem.css("float")&&(s=!0),i.css("top",t.host.coord().top+t.host.height()),i.css({left:s?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){a(e)})}},restore:function(){if(this.minimized){if(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),e("#menuWrapper"+this.element.id).remove(),this.source){var t=this.loadItems(this.source);this.element.innerHTML=t,this._tmpHTML=t}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var i=this.host.find("ul:first");i.length>0&&this._createMenu(i[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,s=i.items;e.each(s,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode&&null!=t&&(i._isRightClick(t)||i.close())},closeItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),o=this;return e.each(o.items,function(){var e=this;1==e.isOpen&&e.element==s&&(o._closeItem(o,e),e.parentId)}),!0},openItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),o=this;return e.each(o.items,function(){var e=this;0==e.isOpen&&e.element==s&&(o._openItem(o,e),e.parentId&&o.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),s=-i.outerHeight(),o=-i.outerWidth(),n=0==t.level&&"horizontal"==this.mode;switch(n?o=0:s=0,t.openVerticalDirection){case"up":case"center":s=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):case"center":o=n?0:i.outerWidth()}return{left:o,top:s}},_closeItem:function(t,i,s,o){if(null==t||null==i)return!1;var n=e(i.subMenuElement),r=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,m=a.left,d=(e(i.element),n.closest("div.jqx-menu-popup"));if(null!=d){var h=t.animationHideDelay;1==o&&(h=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var u=function(){i.isOpen=!1,r?n.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(e.jqx.browser.msie,n.stop().animate({left:m},t.animationHideDuration,function(){if(0==t.animationHideDuration&&n.css({left:m}),i.level>0)e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));else{e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))};if(h>0?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){u()},h)):u(),void 0!=s&&s){var p=n.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){e(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var s=this,o=new Array;null!=i&&e.extend(o,i);var n=t,r=this.menuElements[n],a=e(r.subMenuElement).find(".jqx-menu-item");return e.each(a,function(){o[this.id]=s.menuElements[this.id];var t=s.getSubItems(this.id,o);e.extend(o,t)}),o},disable:function(t,i){if(null!=t){var s=t,o=this;if(this.menuElements[s]){var n=this.menuElements[s];n.disabled=i;var r=e(n.element);n.element.disabled=i,e.each(r.children(),function(){this.disabled=i}),i?(r.addClass(o.toThemeProperty("jqx-menu-item-disabled")),r.addClass(o.toThemeProperty("jqx-fill-state-disabled"))):(r.removeClass(o.toThemeProperty("jqx-menu-item-disabled")),r.removeClass(o.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){return this.menuElements[e]?this.menuElements[e]:null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var o=this.menuElements[s];o[t]&&(o[t]=i)}}},setItemOpenDirection:function(t,i,s){if(null!=t){var o=t,n=this,r=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[o]){var a=this.menuElements[o];if(null!=i&&(a.openHorizontalDirection=i,a.hasItems&&a.level>0&&void 0!=(m=e(a.element)))){l=e(a.arrow);null==a.arrow&&(l=e('<span id="arrow'+m[0].id+'"></span>'),r?l.appendTo(m):l.prependTo(m),a.arrow=l[0]),l.removeClass(),"left"==a.openHorizontalDirection?(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),l.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),l.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),l.css("visibility","inherit"),r?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right"))}if(null!=s){a.openVerticalDirection=s;var l=e(a.arrow),m=e(a.element);if(!n.showTopLevelArrows)return;void 0!=m&&(null==a.arrow&&(l=e('<span id="arrow'+m[0].id+'"></span>'),r?l.appendTo(m):l.prependTo(m),a.arrow=l[0]),l.removeClass(),"down"==a.openVerticalDirection?(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),l.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),l.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),l.css("visibility","inherit"),r?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,s){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var o=t.popupZIndex;void 0!=s&&(o=s);var n=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=n,e(i.element).focus();var r=[5,5],a=e(i.subMenuElement);null!=a&&a.stop(),a.data("timer")&&null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),m=e(i.element),d=0==i.level?this._getOffset(i.element):m.position();if(i.level>0&&this.hasTransform){var h=parseInt(m.coord().top)-parseInt(this._getOffset(i.element).top);d.top+=h}0==i.level&&"popup"==this.mode&&(d=m.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-r[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?d.top+m.outerHeight():d.top,zIndex:o}),a.css("display","block"),"horizontal"!=this.mode&&0==i.level){var c=this._getOffset(this.element);l.css("left",-1+c.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var f=this._getClosedSubMenuOffset(i);a.css("left",f.left),a.css("top",f.top)}l.css({height:parseInt(a.outerHeight())+parseInt(r[1])+"px"});var v=0,x=0;switch(i.openVerticalDirection){case"up":if(u){a.css("top",a.outerHeight()),v=r[1];var g=parseInt(a.parent().css("padding-bottom"));isNaN(g)&&(g=0),g>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-g),l.css({display:"block",top:d.top-l.outerHeight(),zIndex:o})}else v=r[1],a.css("top",a.outerHeight()),l.css({display:"block",top:d.top-l.outerHeight()+r[1]+m.outerHeight(),zIndex:o});break;case"center":u?(a.css("top",0),l.css({display:"block",top:d.top-l.outerHeight()/2+r[1],zIndex:o})):(a.css("top",0),l.css({display:"block",top:d.top+m.outerHeight()/2-l.outerHeight()/2+r[1],zIndex:o}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:d.left-(l.outerWidth()-m.outerWidth()-r[0])}):(x=0,a.css("left",l.outerWidth()),l.css({left:d.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:d.left-(l.outerWidth()/2-m.outerWidth()/2-r[0]/2)}):(l.css({left:d.left-(l.outerWidth()/2-m.outerWidth()/2-r[0]/2)}),a.css("left",l.outerWidth()))}if(u){if(parseInt(a.css("top"))==v)return void(i.isOpen=!0)}else if(parseInt(a.css("left"))==x)return void i.isOpen;e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var y=e.data(t.element,"animationHideDelay");t.animationHideDelay=y,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),a.data("timer")&&(a.data("timer").show=setTimeout(function(){if(null!=l)if(u)a.stop(),a.css("left",x),e.jqx.browser.msie,m.addClass(t.toThemeProperty("jqx-fill-state-pressed")),m.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),(s=e(i.arrow)).length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(a.css({top:v}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({top:v},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)});else{if(a.stop(),a.css("top",v),e.jqx.browser.msie,i.level>0)m.addClass(t.toThemeProperty("jqx-fill-state-pressed")),m.addClass(t.toThemeProperty("jqx-menu-item-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));else{m.addClass(t.toThemeProperty("jqx-fill-state-pressed")),m.addClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.browser.msie,0==t.animationShowDuration?(a.css({left:x}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({left:x},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var s=this,o=0;if(s.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),s.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),s.host.removeClass(s.toThemeProperty("jqx-menu")),s.host.removeClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-menu")),void 0!=t&&void 0!=i&&"popup"==i){if(s.host.parent().length>0&&s.host.parent().parent().length>0&&s.host.parent().parent()[0]==document.body){var n=e.data(document.body,"jqxMenuOldHost"+s.element.id);null!=n&&((r=s.host.closest("div.jqx-menu-wrapper")).remove(),r.appendTo(n),s.host.css("display","block"),s.host.css("visibility","visible"),r.css("display","block"),r.css("visibility","visible"))}}else void 0==t&&void 0==i&&e.data(document.body,"jqxMenuOldHost"+s.element.id,s.host.parent()[0]);switch(s.autoOpenPopup?"popup"==s.mode?(s.addHandler(e(document),"contextmenu."+s.element.id,function(e){return!1}),s.addHandler(e(document),"mousedown.menu"+s.element.id,function(e){s._openContextMenu(e)})):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id)):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id),s.addHandler(e(document),"contextmenu."+s.element.id,function(e){if(e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0)return!1})),s.rtl&&s.host.addClass(s.toThemeProperty("jqx-rtl")),s.mode){case"horizontal":s.host.addClass(s.toThemeProperty("jqx-widget-header")),s.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),e.each(s.items,function(){var t=this;if($element=e(t.element),(i=e(t.arrow)).removeClass(),t.hasItems&&t.level>0&&((i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>')).prependTo($element),i.css("float",s._getDir("right")),i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),t.arrow=i[0]),0==t.level){if(e(t.element).css("float",s._getDir("left")),!t.ignoretheme&&t.hasItems&&s.showTopLevelArrows){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),n=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?n?i.appendTo($element):i.prependTo($element):i=e(t.arrow),"down"==t.openVerticalDirection?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),i.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),i.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),i.css("visibility","inherit"),n?i.css("display","inline-block"):(i.css("display","block"),i.css("float","right")),t.arrow=i[0]}else t.ignoretheme||!t.hasItems||s.showTopLevelArrows||null!=t.arrow&&((i=e(t.arrow)).remove(),t.arrow=null);o=Math.max(o,$element.height())}});break;case"vertical":case"popup":case"simple":if(s.host.addClass(s.toThemeProperty("jqx-menu-vertical")),e.each(s.items,function(){var t=this;if($element=e(t.element),t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==s.mode)return!0;var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float","right"),0==t.level?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),t.arrow=i[0]}$element.css("float","none")}),"popup"==s.mode){s.host.addClass(s.toThemeProperty("jqx-widget-content")),s.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+s.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var r=s.host.closest("div.jqx-menu-wrapper");s.host.addClass(s.toThemeProperty("jqx-popup")),r[0].id="menuWrapper"+s.element.id,r.appendTo(e(document.body)),s.addHandler(r,"keydown",function(e){return s.handleKeyDown(e)})}else s.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==s.mode){var a=s.host.height();s.host.css("position","absolute"),s.host.css("top","0"),s.host.css("left","0"),"simple"!=s.mode&&(s.host.height(a),s.host.css("display","none"))}}var l=s.isTouchDevice();s.autoCloseOnClick&&(s.removeHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick),s.addHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick,s),l&&(s.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s),s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),s=e(t).coord(!0),o=s.top,n=s.left;"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)+this._getBodyOffset().left);var r=e.jqx.mobile.isWindowsPhone(),a=e.jqx.mobile.isTouchDevice();return this.hasTransform||null!=i&&i||r||a?{left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)}:{left:n,top:o}},_isRightClick:function(e){var t;if(!e)var e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){var t=this;t._isRightClick(e)&&t.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this;if(e.data(this.element,"contextMenuOpened"+this.element.id)){this.host;e.each(t.items,function(){var e=this;e.hasItems&&t._closeItem(t,e)}),e.each(t.items,function(){var t=this;1==t.isOpen&&($submenu=e(t.subMenuElement),$submenu.closest("div.jqx-menu-popup").hide(this.animationHideDuration))}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5")}},open:function(t,i){if("popup"==this.mode){var s=0;"block"==this.host.css("display")&&(this.close(),s=this.animationHideDuration);var o=this;void 0!=t&&null!=t||(t=0),void 0!=i&&null!=i||(i=0),setTimeout(function(){o.host.show(o.animationShowDuration),o.host.css("visibility","visible"),e.data(o.element,"contextMenuOpened"+o.element.id,!0),o._raiseEvent("0",o),o._raiseEvent("4",{left:t,top:i}),o.host.css("z-index",9999),void 0!=t&&void 0!=i&&o.host.css({left:t,top:i}),o.focus()},s)}},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){s.hoveredItem=t,t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,s=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return s=!0,!1}),s||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var s=this;if($element=e(s.element),0==s.level&&i>0){var o=$element.children().length>0?parseInt($element.children().height()):$element.height(),n=t.host.find("ul:first"),r=parseInt(n.css("padding-top")),a=parseInt(n.css("margin-top")),l=i-2*(a+r),m=parseInt(l)/2-o/2,d=parseInt(m),h=parseInt(m);if($element.css("padding-top",d),$element.css("padding-bottom",h),parseInt($element.outerHeight())>l){$element.css("padding-top",d-1),d-=1}}})}e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),s=e(t.element).height();s>15&&i.css("margin-top",(s-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){if(this.element==i)return s=this,!1}),s},_isElementVisible:function(t){return null!=t&&("none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility"))},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var s=this.popupZIndex,o=[5,5],n=this;e.data(n.element,"animationHideDelay",n.animationHideDelay);var r=this.isTouchDevice(),a=r&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);-1!=navigator.platform.toLowerCase().indexOf("win")&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&("MSPointerDown"in window||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(!0,a=!0,n.clickToOpen=!0,n.autoCloseOnClick=!1,n.enableHover=!1)),e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(t){if(n.keyboardNavigation&&n.activeItem){if("popup"===n.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null}}),this.addHandler(this.host,"focus",function(t){if(n.keyboardNavigation&&!n.activeItem)if(n.hoveredItem)e(n.hoveredItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.hoveredItem;else{var i=function(){if(e.jqx.isHidden(e(n.items[0].element))){var t=n._nextVisibleItem(n.items[0],0);t&&(e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t)}else e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0]};n.activeItem?e.jqx.isHidden(e(n.activeItem.element))?(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),i()):e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")):i()}}),this.removeHandler(this.host,"keydown"),n.handleKeyDown=function(t){if(!n.keyboardNavigation)return!0;if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,s=null;e.each(n.items,function(){return!!this.disabled||(this.element.className.indexOf("pressed")>=0&&(s=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&s&&(i=s),i||(e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0],i=n.activeItem);if(27==t.keyCode){if(t.data=n,n._closeAll(t),i)for(var o=i;null!=o;)o.parentItem?o=o.parentItem:(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=o,e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),o=o.parentItem);!0}if(13==t.keyCode&&i){!0,n._raiseEvent("2",{item:i.element,event:t,type:"keyboard"});var r=null!=i.anchor?e(i.anchor):null;if(null!=r&&r.length>0){var a=r.attr("href"),l=r.attr("target");null!=a&&(null!=l?window.open(a,l):window.location=a)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var m=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<n.items.length;s++)n.items[s].parentId==e.parentId&&(t[i++]=n.items[s]);return t},d="";switch(t.keyCode){case 40:d="down";break;case 38:d="up";break;case 39:d="right";break;case 37:d="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===d&&(d="right"),i&&"left"===i.openHorizontalDirection&&"right"===d&&(d="left"),i&&"top"===i.openVerticalDirection&&"top"===d&&(d="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===d&&(d="top"),n.rtl&&("right"===d?d="left":"left"===d&&(d="right")),"right"===d&&!n.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=n.mode))n._openItem(n,i);else{var h=n._nextVisibleItem(i,0),u=n._nextVisibleItem(i),p=m(u);h||(h=u),h&&(h.parentId===i.parentId&&0==h.level&&"horizontal"==n.mode||u.id==p[0].id&&0!=u.level)&&(u.id==p[0].id&&(0!=i.level||0==i.level&&"horizontal"!=n.mode)&&(h=u),e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h)}t.preventDefault(),t.stopPropagation()}if("left"===d&&!n.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==n.mode||i.level>1&&"horizontal"===n.mode||1==i.level&&i.hasItems&&"horizontal"===n.mode))i.hasItems?n._closeItem(n,i):i.parentItem&&(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem);else{var h=n._prevVisibleItem(i,0),c=i.parentItem;h&&h.parentId===i.parentId&&0==h.level&&"horizontal"==n.mode?(e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h):c&&0==c.level&&"horizontal"==n.mode||!c||c.level!=i.level-1||(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c)}t.preventDefault(),t.stopPropagation()}if("down"===d){if(t.altKey)0==i.level&&i.hasItems&&n._openItem(n,i),n.minimized&&n.minimizedHidden&&n.minimizedItem.trigger("click");else{p=m(h=n._nextVisibleItem(i,i.level));if(n.minimized&&h)e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h;else if(h&&(h.parentId===i.parentId||h.id==p[0].id&&"horizontal"==n.mode)&&(0==h.level&&"horizontal"==n.mode||(e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h)),"horizontal"===n.mode&&0===i.level&&i.isOpen&&i.hasItems){h=n._nextVisibleItem(i);e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h}}t.preventDefault(),t.stopPropagation()}else if("up"===d){if(t.altKey)i.parentItem&&0==i.parentItem.level?(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===n.mode&&n._closeItem(n,i),n.minimized&&(n.minimizedHidden||n.minimizedItem.trigger("click"));else{var h=n._prevVisibleItem(i,i.level),p=m(i);if(n.minimized&&h)e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h;else if(h&&(h.parentId===i.parentId||h.id==i.parentId&&0==h.level&&"horizontal"==n.mode))0==h.level&&"horizontal"===n.mode&&0===i.level||(e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h);else if(i&&i.id==p[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===n.mode){h=i.parentItem;e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode)if(h=t.shiftKey?n._prevVisibleItem(i):n._nextVisibleItem(i))e(h.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=h,t.preventDefault(),t.stopPropagation();else if(n.lockFocus){for(var p=new Array,f=0,v=0;v<n.items.length;v++)n.items[v]!=i&&n.items[v].parentId==i.parentId&&(p[f++]=n.items[v]);p.length>0&&(t.shiftKey?(e(p[p.length-1].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=p[p.length-1]):(e(p[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=p[0]),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)},this.addHandler(this.host,"keydown",function(e){n.handleKeyDown(e)}),n.enableRoundedCorners&&this.host.addClass(n.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),n.enableRoundedCorners&&i.addClass(n.toThemeProperty("jqx-rc-all")),n.removeHandler(i,"click"),n.addHandler(i,"click",function(i){if(!t.disabled&&!n.disabled&&(n.keyboardNavigation&&(n.activeItem&&e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t,e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.minimized&&i.stopPropagation()),n._raiseEvent("2",{type:"mouse",item:t.element,event:i}),n.autoOpen?!n.autoCloseOnClick||r||n.clickToOpen||t.closeOnClick&&(i.data=n,n._closeAll(i)):t.level>0&&(!n.autoCloseOnClick||r||n.clickToOpen||(i.data=n,n._closeAll(i))),r&&n.autoCloseOnClick&&(i.data=n,t.hasItems||n._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var s=null!=t.anchor?e(t.anchor):null;if(null!=s&&s.length>0){var o=s.attr("href"),a=s.attr("target");null!=o&&(null!=a?window.open(o,a):window.location=o)}}}),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave"),a||"simple"==n.mode||n._renderHover(i,t,r),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==n.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+s+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==n.mode&&l.css("left",0),s++;var m=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(o[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(o[1])+"px"}),d=i.closest("div.jqx-menu-popup");if(d.length>0){var h=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),c=l.css("padding-right");m.appendTo(d),l.css("margin-left",h),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",c)}else{var h=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),c=l.css("padding-right");m.appendTo(e(document.body)),l.css("margin-left",h),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",c)}n.clickToOpen?(n.removeHandler(i,"mousedown"),n.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t)})):((r||a)&&(n.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),n.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==n.mode||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t),!1})),a||(n.addHandler(i,"mouseenter",function(){if((n.autoOpen||t.level>0&&!n.autoOpen)&&clearTimeout(l.data("timer").hide),!t.parentId||0==t.parentId||!n.menuElements[t.parentId]||n.menuElements[t.parentId].isOpen)return(n.autoOpen||t.level>0&&!n.autoOpen)&&n._openItem(n,t),!1}),n.addHandler(i,"mousedown",function(){n.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t))}),n.addHandler(i,"mouseleave",function(i){if(n.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var s=e(t.subMenuElement),o={left:parseInt(i.pageX),top:parseInt(i.pageY)},r={left:parseInt(s.coord().left),top:parseInt(s.coord().top),width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())},a=!0;r.left-5<=o.left&&o.left<=r.left+r.width+5&&r.top<=o.top&&o.top<=r.top+r.height&&(a=!1),a&&n._closeItem(n,t,!0)}}),n.removeHandler(m,"mouseenter"),n.addHandler(m,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),n.removeHandler(m,"mouseleave"),n.addHandler(m,"mouseleave",function(e){n.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),n._closeItem(n,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e="99"+(e=e.replace(".","")),e/=1;this.items[e];)e=(e=Math.random()+"").replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){void 0==i&&(i=!0),null==i&&(i=!0);e(t).addClass("jqx-menu-ul");var s=e(t).find("li"),o=0;this.itemMapping=new Array;for(var n=0;n<s.length;n++){var r=s[n],a=e(r);if(-1!=r.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=r.id;l||(l=this.createID()),i&&(r.id=l,this.items[o]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[o]),o+=1;var m=0,d=this;a.children().each(function(){return i||(this.className="",d.autoGenerate&&(e(d.items[o-1].subMenuElement)[0].className="",d.minimized||e(d.items[o-1].subMenuElement).addClass(d.toThemeProperty("jqx-widget-content")),e(d.items[o-1].subMenuElement).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(d.items[o-1].subMenuElement).addClass(d.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(d.items[o-1].subMenuElement=this),!1):!d.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(d.items[o-1].subMenuElement=this),this.className="",d.minimized||e(this).addClass(d.toThemeProperty("jqx-widget-content")),e(this).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(d.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),d.rtl?e(this).addClass(d.toThemeProperty("jqx-rc-l")):e(this).addClass(d.toThemeProperty("jqx-rc-r")),e(this).addClass(d.toThemeProperty("jqx-rc-b")),!1)}),a.parents().each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(m=this.id,!1):!d.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(m=this.id,!1)});var h=!1,u=r.getAttribute("type"),p=r.getAttribute("ignoretheme")||r.getAttribute("data-ignoretheme");if(p?"true"!=p&&1!=p||(p=!0):p=!1,u){if("separator"==u)h=!0}else u=r.type;h||(u=m?"sub":"top");var c=this.items[o-1];if(i){c.id=l,c.parentId=m,c.type=u,c.separator=h,c.element=s[n];var f=a.children("a");c.disabled="true"==r.getAttribute("item-disabled"),c.level=a.parents("li").length,c.anchor=f.length>0?f:null,c.anchor&&e(c.anchor).attr("tabindex",-1)}c.ignoretheme=p;var v=this.menuElements[m];null!=v&&(v.ignoretheme&&(c.ignoretheme=v.ignoretheme,p=v.ignoretheme),c.parentItem=v,c.parentElement=v.element),this.autoGenerate&&("separator"==u?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):p||(a[0].className.indexOf("jqx-grid-menu-item-touch")>=0?a[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):a[0].className="",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),c.level>0&&!d.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),c.disabled&&(a.addClass(d.toThemeProperty("jqx-menu-item-disabled")),a.addClass(d.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[n]={element:s[n],item:c},this.itemMapping["id"+s[n].id]=this.itemMapping[n],i&&!p&&(c.hasItems=a.find("li").length>0,c.hasItems&&c.element&&(e.jqx.aria(e(c.element),"aria-haspopup",!0),c.subMenuElement.id||(c.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(c.element),"aria-owns",c.subMenuElement.id)))}}for(var x=0;x<s.length;x++){var g=s[x];if(this.itemMapping["id"+g.id]){if(!(c=this.itemMapping["id"+g.id].item))continue;c.prevItem=null,c.nextItem=null,x>0&&this.itemMapping["id"+s[x-1].id]&&(c.prevItem=this.itemMapping["id"+s[x-1].id].item),x<s.length-1&&this.itemMapping["id"+s[x+1].id]&&(c.nextItem=this.itemMapping["id"+s[x+1].id].item)}}}},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0);var i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,function(){var i=this,s=e(i.element);t.removeHandler(s,"click"),t.removeHandler(s,"selectstart"),t.removeHandler(s,"mouseenter"),t.removeHandler(s,"mouseleave"),t.removeHandler(s,"mousedown"),t.removeHandler(s,"mouseleave"),e(i.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var s=e.data(t.element,"jqxMenu");s&&delete s.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var o=new e.Event(s);return"2"==t&&(args=i.item,args.owner=this,args.clickType=i.type,e.extend(o,i.event),o.type="itemclick"),o.owner=this,o.args=args,this.host.trigger(o)},propertiesChangedHandler:function(t,i,s){if(s.width&&s.height&&2==Object.keys(s).length&&(t._setSize(),"popup"===t.mode)){this.host.closest("div.jqx-menu-wrapper")[i](s);var o=this.host[0].id;e("#"+o)[i](s)}},propertyChangedHandler:function(t,i,s,o){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),o!=s))if("touchMode"==i&&(this._isTouchDevice=null,t._render(o,s)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var n=t.loadItems(t.source);t.element.innerHTML=n;var r=t.host.find("ul:first");r.length>0&&(t.refresh(),t._createMenu(r[0]),t._render())}"autoCloseOnClick"==i?0==o?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(o,s):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(s,o,t.host)}else if(t._setSize(),"popup"===t.mode){this.host.closest("div.jqx-menu-wrapper")[i](o);var a=this.host[0].id;e("#"+a)[i](o)}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}};

!function(e){e.jqx.jqxWidget("jqxNavBar","",{}),e.extend(e.jqx._jqxNavBar.prototype,{defineInstance:function(){var t={height:"auto",minimizedHeight:30,popupAnimationDelay:250,minimizeButtonPosition:"left",width:"100%",selectedItem:0,selection:!0,disabled:!1,rtl:!1,minimized:!1,columns:null,minimizedTitle:"",orientation:"horizontal",events:["change"]};return this===e.jqx._jqxNavBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){var t=this;t.ul&&t.ul.parent()[0]!==t.element&&(t.ul.detach(),t.host.children().remove(),t.host.append(t.ul),t.popup&&t.popup.remove(),t.host.height(null),t.host.removeClass(t.toThemeProperty("jqx-widget-header")),t.host.removeClass(t.toThemeProperty("jqx-navbar-minimized"))),t.ul=t.host.children(),t._items=t.ul.children(),e.each(t._items,function(){e(this).removeClass()}),null!==this.width&&(this.width.toString().indexOf("%")>=0||this.width.toString().indexOf("px")>=0)?this.element.style.width=this.width:this.element.style.width=this.width+"px",t._layoutItems(),t._addClasses(),t._addHandlers(),t._handleMinimize(),e.jqx.utilities.resize(this.host,function(){t._resizePopup()})},_layoutItems:function(){var t=this,i=1,s=0,o=null===this.height||"auto"===this.height;if("horizontal"===t.orientation){if(t._items.length>5){n="50%";t._items.css("width",n);r=t.height;if(i=Math.ceil(t._items.length/2),!o){p=!1;r.toString().indexOf("%")>=0?(m=parseInt(r)/i,m+="%",p=!0):m=parseInt(r)/i,s=2,p?(t._items.css("height",m),t._items.css("line-height",t._items.height()+"px")):(t._items.height(m),t._items.css("line-height",m+"px"))}}else{var n=t.host.width/2,h=t._items.length,n=100/h+"%";t._items.css("width",n),o||(t.height.toString().indexOf("%")>=0?(t._items.css("height",m),t._items.css("line-height",t.height)):(t._items.height(t.height),t._items.css("line-height",parseInt(t.height)+"px"))),s=h}if(t.columns){for(var r=t.height,d=0,a=0;a<t._items.length;a++){l=t._items[a];e(l).css("width",t.columns[d]),++d>=t.columns.length&&(d=0,t.columns.length!==t._items.length&&i++)}p=!1;r.toString().indexOf("%")>=0?(m=parseInt(r)/i,m+="%",p=!0):m=parseInt(r)/i,o||(p?(t._items.css("height",m),t._items.css("line-height",t._items.height()+"px")):(t._items.height(m),t._items.css("line-height",m+"px"))),s=t.columns.length}}else{for(var r=t.height,d=0,a=0;a<t._items.length;a++){var l=t._items[a];e(l).css("width","100%")}if(i=t._items.length,!o){var m,p=!1;r.toString().indexOf("%")>=0?(m=parseInt(r)/i,m+="%",p=!0):m=parseInt(r)/i,p?(t._items.css("height",m),t._items.css("line-height",t._items.height()+"px")):(t._items.height(m),t._items.css("line-height",m+"px"))}s=1}if(t.selection){var c=0,g=!1;t._items.length/s<i&&(g=!0);for(a=0;a<i;a++)for(var u=0;u<s;u++){if(u<s-1){var v=t.rtl?"left":"right";e(t._items[c]).css("border-"+v+"-width","1px"),e(t._items[c]).css("border-"+v+"-style","solid")}i>1&&a>0&&(e(t._items[c]).css("border-top-width","1px"),e(t._items[c]).css("border-top-style","solid")),g&&a===i-2&&u===s-1&&(e(t._items[c]).css("border-bottom-width","1px"),e(t._items[c]).css("border-bottom-style","solid")),c++}}e.jqx.browser.msie&&e.jqx.browser.version<8&&(t._items.css("padding-left","0px"),t._items.css("padding-right","0px"),e.each(t._items,function(){e(this).css("border-left-width","0px"),e(this).css("border-right-width","0px"),e(this).css("position","relative"),e(this).css("margin-left","-1px")}),t.host.css("border","none"))},_handlePopupHeight:function(){var e=this;if(e.minimized){var t,i=!1;e.height.toString().indexOf("%")>=0&&(e.host.css("height",e.height),t=e.host.height()-e.minimizedHeight-1,i=!0),i&&(e.popup.height(t),e.ul.height(t),e.host.height(e.minimizedHeight),e._layoutItems())}},_handleMinimize:function(){var t=this;if(t.minimized){var i=t.host;i.height(t.minimizedHeight),i.css("box-sizing","border-box"),i.addClass(t.toThemeProperty("jqx-widget-header")),i.addClass(t.toThemeProperty("jqx-navbar-minimized"));var s=e('<div style="cursor: pointer; height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');i.append(s),s.css("float",t.minimizeButtonPosition);var o=e('<div style="height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');o.append(t.minimizedTitle),o.css("float","left"===t.minimizeButtonPosition?"right":"left"),"auto"!==t.minimizedHeight&&(t.minimizedHeight.toString().indexOf("%")>=0?o.css("line-height",t.minimizedHeight):o.css("line-height",parseInt(t.minimizedHeight)+"px")),i.append(o),s.addClass(t.toThemeProperty("jqx-menu-minimized-button")),i.removeClass(t.toThemeProperty("jqx-widget-content")),t.ul.detach();var n=e("<div style='box-sizing: border-box; z-index: 999999; display: none; position: absolute;'></div>");n.addClass(t.toThemeProperty("jqx-widget jqx-widget-content jqx-popup jqx-navbar jqx-navbar-popup")),n.append(t.ul),t.popup=n,e(document.body).append(n),t.opened=!1,s.click(function(){t.opened?t.close():t.open()}),t.button=s}},close:function(){var e=this;e.popup.fadeOut(e.popupAnimationDelay),e.opened=!1},open:function(){var e=this;e.popup.fadeIn(e.popupAnimationDelay),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e.popup.width(e.host.width());var t=e.host.coord().left;e.popup.css("left",t),t.toString().indexOf(".5")>=0&&e.popup.width(e.host.width()-.5),e._handlePopupHeight(),e.opened=!0},_resizePopup:function(){var e=this;if(e.minimized&&e.popup){e.popup.width(e.host.width());var t=e.host.coord().left;e.popup.css("left",t),t.toString().indexOf(".5")>=0&&e.popup.width(e.host.width()-.5),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e._handlePopupHeight()}},selectAt:function(t){var i=this;if(i.selection){e(i._items[i.selectedItem]).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e(i._items[t]).addClass(i.toThemeProperty("jqx-fill-state-pressed"));var s=i.selectedItem;i.selectedItem=t,i._raiseEvent("0",{selectedItem:t,oldSelectedItem:s})}},getSelectedIndex:function(){return this.selectedItem},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},propertyChangedHandler:function(e,t,i,s){e.render()},_raiseEvent:function(t,i){var s=this,o=s.events[t],n=new e.Event(o);n.owner=s,n.args=i;try{var h=s.host.trigger(n)}catch(e){}return h},_removeHandlers:function(){var e=this;e.removeHandler(e._items,"click.navbar"+e.element.id),e.removeHandler(e._items,"mouseenter.navbar"+e.element.id),e.removeHandler(e._items,"mouseleave.navbar"+e.element.id)},_addClasses:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-navbar")),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._items.addClass(t.toThemeProperty("jqx-navbar-block")),t.selection?(t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t._items.addClass(t.toThemeProperty("jqx-fill-state-normal")),t._items.addClass(t.toThemeProperty("jqx-button")),-1!==t.selectedItem&&e(t._items[t.selectedItem]).addClass(t.toThemeProperty("jqx-fill-state-pressed"))):this.host.css("border","none"),t.rtl&&t._items.addClass(t.toThemeProperty("jqx-navbar-block-rtl"))},_addHandlers:function(){var t=this;t.addHandler(t._items,"click.navbar"+t.element.id,function(i){if(!t.disabled&&t.selection){var s=e(t._items).index(this);t.selectAt(s)}}),t.addHandler(t._items,"mouseenter.navbar"+t.element.id,function(i){!t.disabled&&t.selection&&e(i.target).addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._items,"mouseleave.navbar"+t.element.id,function(i){!t.disabled&&t.selection&&e(i.target).removeClass(t.toThemeProperty("jqx-fill-state-hover"))})}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxNavigationBar","",{}),e.extend(e.jqx._jqxNavigationBar.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expandAnimationDuration:250,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",expandMode:"singleFitHeight",expandedIndexes:[],_expandModes:["singleFitHeight","single","multiple","toggle","none"],aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expandingItem","expandedItem","collapsingItem","collapsedItem"]};return this===e.jqx._jqxNavigationBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this.render()},val:function(e){return 0===arguments.length||"object"==typeof e?this.expandedIndexes:("string"==typeof e?(this.expandedIndexes.push(parseInt(e,10)),this._applyExpandedIndexes()):(e instanceof Array?this.expandedIndexes=e:this.expandedIndexes=[e],this._applyExpandedIndexes()),this.expandedIndexes)},expandAt:function(t){var i=this;if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode)for(var a=0;a<i.items.length;a++)a!=t&&i.collapseAt(a);var n=this.items[t];if(!1===n.disabled&&!1===n.expanded&&1==n._expandChecker)switch(n._expandChecker=0,this._raiseEvent("0",{item:t}),n._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-normal")),n._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),n._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),n._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),!1===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="hidden"),this.eCFlag=1,this.animationType){case"slide":var r=n._contentHelper,s=0,d=r.outerHeight();r.slideDown({duration:this.expandAnimationDuration,easing:this.easing,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?s+=t.now:i._collapseContent?(t.now=Math.round(d-i._collapseContent.outerHeight()-s),s=0):t.now=Math.round(e)},complete:function(){n.expanded=!0,e.jqx.aria(n._header,"aria-expanded",!0),e.jqx.aria(n._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:t}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.initContent&&!1===n._initialized&&(i.initContent(t),n._initialized=!0),i.eCFlag=0}});break;case"fade":setTimeout(function(){n._contentHelper.fadeIn({duration:this.expandAnimationDuration,complete:function(){n.expanded=!0,e.jqx.aria(n._header,"aria-expanded",!0),e.jqx.aria(n._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:t}),i._checkHeight(),!0===i.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),i.initContent&&!1===n._initialized&&(i.initContent(t),n._initialized=!0),i.eCFlag=0}})},this.collapseAnimationDuration);break;case"none":n._content.style.display="",n.expanded=!0,e.jqx.aria(n._header,"aria-expanded",!0),e.jqx.aria(n._content,"aria-hidden",!1),this._updateExpandedIndexes(),this._raiseEvent("1",{item:t}),this._checkHeight(),!0===this.heightFlag&&(i.element.style.overflowX="hidden",i.element.style.overflowY="auto"),this.initContent&&!1===n._initialized&&(this.initContent(t),n._initialized=!0),this.eCFlag=0}},collapseAt:function(t){var i=this.items[t];if(!1===i.disabled&&!0===i.expanded&&0===i._expandChecker){var a=this;switch(i._expandChecker=1,this._raiseEvent("2",{item:t}),i._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),i._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-normal")),i._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),i._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),!1===this.heightFlag&&(a.element.style.overflowX="hidden",a.element.style.overflowY="hidden"),this.eCFlag=1,this._collapseContent=i._contentHelper,this.animationType){case"slide":i._contentHelper.slideUp({duration:this.collapseAnimationDuration,step:function(e,t){t.now=Math.round(e)},easing:this.easing,complete:function(){i.expanded=!1,i._content.style.display="none",e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),a._updateExpandedIndexes(),a._raiseEvent("3",{item:t}),a._checkHeight(),!0===a.heightFlag&&(a.element.style.overflowX="hidden",a.element.style.overflowY="auto"),a.eCFlag=0,a._collapseContent=null}});break;case"fade":i._contentHelper.fadeOut({duration:this.collapseAnimationDuration,complete:function(){i.expanded=!1,e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),a._updateExpandedIndexes(),a._raiseEvent("3",{item:t}),a._checkHeight(),!0===a.heightFlag&&(a.element.style.overflowX="hidden",a.element.style.overflowY="auto"),a.eCFlag=0}});break;case"none":i._content.style.display="none",i.expanded=!1,e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),this._updateExpandedIndexes(),this._raiseEvent("3",{item:t}),this._checkHeight(),!0===this.heightFlag&&(a.element.style.overflowX="hidden",a.element.style.overflowY="auto"),this.eCFlag=0}}},setHeaderContentAt:function(e,t){this.items[e]._headerText.innerHTML=t},getHeaderContentAt:function(e){return this.items[e]._headerText.innerHTML},setContentAt:function(e,t){this.items[e]._content.innerHTML=t,this._checkContent(e)},getContentAt:function(e){return this.items[e]._content.innerHTML},showArrowAt:function(e){this.items[e]._arrow.style.display="block"},hideArrowAt:function(e){this.items[e]._arrow.style.display="none"},enable:function(){this.disabled=!1,this._enabledDisabledCheck(),this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this._enabledDisabledCheck(),this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},enableAt:function(e){this.items[e].disabled=!1,this.refresh()},disableAt:function(e){this.items[e].disabled=!0,this.refresh()},invalidate:function(){this.refresh()},refresh:function(e){if(!0!==e){this._removeHandlers();for(var t=0;t<this.items.length;t++)this.items[t]._arrow.style.display=this.showArrow?"block":"none";this._updateExpandedIndexes(),this._setTheme(),this._setSize(),this._toggle(),this._keyBoard()}},render:function(){this.widgetID=this.element.id;var t=this;-1==this._expandModes.indexOf(this.expandMode)&&(this.expandMode="singleFitHeight"),e.jqx.utilities.resize(this.host,function(){t._setSize()}),t.element.setAttribute("role","tablist"),this.items&&(this._removeHandlers(),e.each(this.items,function(){this._header.className="",this._header.setAttribute("tabindex",null),this._header.style.marginTop="0px",this._headerText.className="",this._header.innerHTML=this._headerText.innerHTML,this._content.setAttribute("tabindex",null)})),this.items=[];var i=t.host.children(),a=i.length;try{if(a%2!=0)throw"Invalid jqxNavigationBar structure. Please add an even number of child div elements that will represent each item's header and content."}catch(e){throw new Error(e)}try{for(var n=0;n<a;n++)if("div"!=i[n].tagName.toLowerCase())throw"Invalid jqxNavigationBar structure. Please make sure all the children elements of the navigationbar are divs."}catch(e){throw new Error(e)}for(var r=0;r<a;r+=2){var s=i[r];s.innerHTML="<div>"+s.innerHTML+"</div>"}for(var d,o=0,h=0;h<a/2;h++){d=o+1;var l={};(l={})._header=i[o],l._headerHelper=e(i[o]),i[o].setAttribute("role","tab"),l._content=i[d],l._contentHelper=e(i[d]),l._contentHelper.initAnimate&&l._contentHelper.initAnimate(),l.expandedFlag=!1,l.expanded=!1,l.focusedH=!1,l.focusedC=!1,this.items[h]=l,i[d].setAttribute("role","tabpanel"),o+=2}var p=this.expandedIndexes.length;if(!this.items||0!==this.items.length){if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode||"none"==this.expandMode)0!==p?this.items[this.expandedIndexes[0]].expanded=!0:0!==p||"single"!=this.expandMode&&"singleFitHeight"!=this.expandMode||(this.items[0].expanded=!0);else if("multiple"==this.expandMode&&0!==p)for(var c=0;c<p;c++)t.items[this.expandedIndexes[c]].expanded=!0;this._enabledDisabledCheck();var x=0;e.each(this.items,function(i){var a=this;a._headerText=e(a._header).children()[0],t.rtl?e(a._headerText).addClass(t.toThemeProperty("jqx-expander-header-content-rtl")):e(a._headerText).addClass(t.toThemeProperty("jqx-expander-header-content")),a._arrow=document.createElement("div"),a._arrowHelper=e(a._arrow),a._header.appendChild(a._arrow),t.showArrow?a._arrow.style.display="block":a._arrow.style.display="none",!0===a.expanded?(a._arrowHelper.addClass(t.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),t.initContent?setTimeout(function(){t.initContent(i),a._initialized=!0},10):a._initialized=!0,a._expandChecker=0,e.jqx.aria(a._header,"aria-expanded",!0),e.jqx.aria(a._content,"aria-hidden",!1)):!1===a.expanded&&(a._arrowHelper.addClass(t.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),a._initialized=!1,a._expandChecker=1,a._content.style.display="none",e.jqx.aria(a._header,"aria-expanded",!1),e.jqx.aria(a._content,"aria-hidden",!0)),null===a._header.getAttribute("tabindex")&&(x++,a._header.setAttribute("tabindex",x)),null===a._content.getAttribute("tabindex")&&(x++,a._content.setAttribute("tabindex",x))}),this._setTheme(),this._setSize();for(var m=0;m<t.items.length;m++)t._checkContent(m);this._toggle(),this._keyBoard()}},insert:function(e,t,i){var a=document.createElement("div"),n=document.createElement("div");if(a.innerHTML=t,n.innerHTML=i,e>=0&&e<=this.items.length){var r=this.items[e]._header;this.element.insertBefore(a,r),this.element.insertBefore(n,r)}else this.element.appendChild(a),this.element.appendChild(n);this.render()},add:function(e,t){this.insert(-1,e,t)},update:function(e,t,i){this.setHeaderContentAt(e,t),this.setContentAt(e,i)},remove:function(e){if(isNaN(e)&&(e=this.items.length-1),this.items[e]){this.items[e]._header.remove(),this.items[e]._content.remove(),this.items.splice(e,1);var t=this.expandedIndexes.indexOf(e);t>-1&&this.expandedIndexes.splice(t,1),this.render()}},destroy:function(){this._removeHandlers(),this.host.remove()},focus:function(){try{for(var e=0;e<this.items.length;e++){var t=this.items[e];if(!1===t.disabled)return t._header.focus(),!1}}catch(e){}},_applyExpandedIndexes:function(){for(var e=this,t=this.expandedIndexes.length,i=0;i<t;i++)for(var a=e.expandedIndexes[i],n=0;n<e.items.length;n++){var r=e.items[n];if(n==a){if(r.expandedFlag=!0,!1===r.expanded&&e.expandAt(n),"single"==e.expandMode||"singleFitHeight"==e.expandMode||"toggle"==e.expandMode||"none"==e.expandMode)return!1}else n!=a&&!1===r.expandedFlag&&e.collapseAt(n)}for(var s=0;s<e.items.length;s++)e.items[s].expandedFlag=!1},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,a){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"theme"!==t?"disabled"==t?e._enabledDisabledCheck():"expandedIndexes"==t?e._applyExpandedIndexes():e.refresh():e.render():e._setSize())},_raiseEvent:function(t,i){var a=this.events[t],n=new e.Event(a);n.owner=this,n.args=i,n.item=n.args.item;var r;try{r=this.host.trigger(n)}catch(e){}return r},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){var t=this;this.headersHeight=0;var i=(this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0)+(this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0)+2;isNaN(i)&&(i=12),"auto"==this.width?t.element.style.width="auto":null!=this.width&&-1!=this.width.toString().indexOf("%")?t.element.style.width=t.width:t.element.style.width=parseInt(this.width,10)+i+"px","number"==typeof t.height?t.element.style.height=t.height+"px":t.element.style.height=t.height;for(var a=0;a<t.items.length;a++){var n=t.items[a],r=t.arrowPosition;if(t.rtl)switch(r){case"left":r="right";break;case"right":r="left"}"right"==r?(n._headerText.style.float="left",n._headerText.style.marginLeft="0px",n._arrow.style.float="right",n._arrow.style.position="relative"):"left"==r&&("auto"==t.width?(n._headerText.style.float="left",n._headerText.style.marginLeft="17px",n._arrow.style.float="left",n._arrow.style.position="absolute"):(n._headerText.style.float="right",n._headerText.style.marginLeft="0px",n._arrow.style.float="left",n._arrow.style.position="relative")),n._header.style.height="auto",n._headerText.style.minHeight=n._arrow.offsetHeight,t.headersHeight+=e(n._header).outerHeight(),n._arrow.style.marginTop=n._headerText.offsetHeight/2-n._arrow.offsetHeight/2+"px"}for(var s=0;s<t.items.length;s++){var d=t.items[s];if("auto"!=t.height)if("single"==t.expandMode||"toggle"==t.expandMode||"multiple"==t.expandMode)t.element.style.overflowX="hidden",t.element.style.overflowY="auto";else if("singleFitHeight"==t.expandMode){var o=parseInt(d._contentHelper.css("padding-top"),10)+parseInt(d._contentHelper.css("padding-bottom"),10);t.height&&t.height.toString().indexOf("%")>=0?d._content.style.height=Math.max(0,t.element.offsetHeight-t.headersHeight-o+2)+"px":d._content.style.height=Math.max(0,t.element.offsetHeight-t.headersHeight-o)+"px"}}t._checkHeight()},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this.toggleMode){case"click":case"dblclick":e.each(this.items,function(e){var i=this;!1===i.disabled&&t.addHandler(i._header,t.toggleMode+".navigationbar"+t.widgetID,function(){t.focusedH=!0,t._animate(e)})})}else{if("none"==this.toggleMode)return;e.each(this.items,function(i){var a=this;!1===a.disabled&&t.addHandler(a._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+t.widgetID,function(){t._animate(i)})})}},_animate:function(e,t){var i=this,a=this.items[e];"none"!=this.expandMode&&1!=this.eCFlag&&(!0===this.items[e].expanded?"multiple"!=this.expandMode&&"toggle"!=this.expandMode||this.collapseAt(e):this.expandAt(e),i._isTouchDevice||(!0!==t?(a._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),a._arrowHelper.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):(a._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),a._arrowHelper.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")))))},_removeHandlers:function(){var e=this;this.removeHandler(this.host,"keydown.navigationbar"+this.widgetID);for(var t=0;t<e.items.length;t++){var i=e.items[t];e.removeHandler(i._header,"click.navigationbar"+e.widgetID),e.removeHandler(i._header,"dblclick.navigationbar"+e.widgetID),e.removeHandler(i._header,"mouseenter.navigationbar"+e.widgetID),e.removeHandler(i._header,"mouseleave.navigationbar"+e.widgetID),e.removeHandler(i._header,"focus.navigationbar"+e.widgetID),e.removeHandler(i._header,"blur.navigationbar"+e.widgetID),e.removeHandler(i._content,"focus.navigationbar"+e.widgetID),e.removeHandler(i._content,"blur.navigationbar"+e.widgetID),e.removeHandler(i._headerText,"focus.navigationbar"+e.widgetID),e.removeHandler(i._arrow,"focus.navigationbar"+e.widgetID)}},_setTheme:function(){var t=this;this.host.addClass(this.toThemeProperty("jqx-reset jqx-widget")),!0===this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),e.each(this.items,function(e){var i=this,a=i._headerHelper,n=i._arrowHelper,r=i._contentHelper,s="jqx-widget-header jqx-item jqx-expander-header",d="jqx-widget-content jqx-expander-content jqx-expander-content-bottom";i._header.style.position="relative",i._content.style.position="relative",!1===i.disabled?(a.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),!0===i.expanded?s+=" jqx-fill-state-pressed jqx-expander-header-expanded":(s+=" jqx-fill-state-normal",a.removeClass(t.toThemeProperty("jqx-expander-header-expanded"))),t._isTouchDevice||(t.addHandler(i._header,"mouseenter.navigationbar"+t.widgetID,function(){1==i._expandChecker&&(i.focusedH||(i._header.style.zIndex=5),a.removeClass(t.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),a.addClass(t.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),n.addClass(t.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")),i.expanded?n.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):n.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(i._header,"mouseleave.navigationbar"+t.widgetID,function(){i.focusedH||(i._header.style.zIndex=0),a.removeClass(t.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),n.removeClass(t.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),1==i._expandChecker?a.addClass(t.toThemeProperty("jqx-fill-state-normal")):a.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}))):(s+=" jqx-fill-state-disabled",d+=" jqx-fill-state-disabled"),t.host.addClass(t.toThemeProperty("jqx-navigationbar")),a.addClass(t.toThemeProperty(s)),r.addClass(t.toThemeProperty(d)),0!==e&&(i._header.style.marginTop="-1px"),n.addClass(t.toThemeProperty("jqx-expander-arrow"))})},_checkContent:function(e){var t=this.items[e],i=t._content;if(this._cntntEmpty=/^\s*$/.test(this.items[e]._content.innerHTML),!0===this._cntntEmpty)i.style.display="none",i.style.height="0px",t._contentHelper.addClass(this.toThemeProperty("jqx-expander-content-empty"));else{if(t.expanded&&(i.style.display="block"),"singleFitHeight"==this.expandMode){i.style.height=Math.max(0,this.element.offsetHeight-this.headersHeight+this.items.length-2)+"px"}else i.style.height="auto";t._contentHelper.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_checkHeight:function(){var e=this;if("string"!=typeof e.width||-1===e.width.indexOf("%")){var t=0,i=(this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0)+(this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0)+2;isNaN(i)&&(i=12);for(var a=0;a<e.items.length;a++){var n=e.items[a];t+=(n.expanded?n._contentHelper.outerHeight():0)+n._headerHelper.outerHeight()}"auto"!=this.width&&"auto"!=this.height&&"singleFitHeight"!=this.expandMode&&(t>e.element.offsetHeight?(e.element.style.width=parseInt(this.width,10)+i+17+"px",this.heightFlag=!0):(e.element.style.width=parseInt(this.width,10)+i+"px",this.heightFlag=!1))}},_enabledDisabledCheck:function(){for(var e=0;e<this.items.length;e++)this.items[e].disabled=this.disabled},_updateExpandedIndexes:function(){var t=this;this.expandedIndexes=[],e.each(this.items,function(e){if(!0===this.expanded&&(t.expandedIndexes.push(e),"single"==t.expandMode||"singleFitHeight"==t.expandMode||"toggle"==t.expandMode||"none"==t.expandMode))return!1})},_keyBoard:function(){var t=this;this._focus(),this.addHandler(this.host,"keydown.navigationbar"+this.widgetID,function(i){var a=!1,n=t.items.length;return e.each(t.items,function(e){var r=this;if((!0===r.focusedH||!0===r.focusedC)&&!1===r.disabled){switch(i.keyCode){case 13:case 32:"none"!=t.toggleMode&&(!0===r.focusedH&&t._animate(e,!0),a=!0);break;case 37:0!==e?t.items[e-1]._header.focus():t.items[n-1]._header.focus(),a=!0;break;case 38:!1===i.ctrlKey?0!==e?t.items[e-1]._header.focus():t.items[n-1]._header.focus():!0===r.focusedC&&r._header.focus(),a=!0;break;case 39:e!=n-1?t.items[e+1]._header.focus():t.items[0]._header.focus(),a=!0;break;case 40:!1===i.ctrlKey?e!=n-1?t.items[e+1]._header.focus():t.items[0]._header.focus():!0===r.expanded&&r._content.focus(),a=!0;break;case 35:e!=n-1&&t.items[n-1]._header.focus(),a=!0;break;case 36:0!==e&&t.items[0]._header.focus(),a=!0}return!1}}),a&&i.preventDefault&&i.preventDefault(),!a})},_focus:function(){var t=this;this.disabled||e.each(this.items,function(){var i=this;t.addHandler(i._header,"focus.navigationbar"+this.widgetID,function(){i.focusedH=!0,e.jqx.aria(i._header,"aria-selected",!0),i._headerHelper.addClass(t.toThemeProperty("jqx-fill-state-focus")),i._header.style.zIndex=10}),t.addHandler(i._header,"blur.navigationbar"+this.widgetID,function(){i.focusedH=!1,e.jqx.aria(i._header,"aria-selected",!1),-1!==i._header.className.indexOf("jqx-expander-header-hover")?i._header.style.zIndex=5:i._header.style.zIndex=0,i._headerHelper.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(i._headerText,"focus.navigationbar"+this.widgetID,function(){i._header.focus()}),t.addHandler(i._arrow,"focus.navigationbar"+this.widgetID,function(){i._header.focus()}),t.addHandler(i._content,"focus.navigationbar"+this.widgetID,function(){i.focusedC=!0,i._contentHelper.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(i._content,"blur.navigationbar"+this.widgetID,function(){i.focusedC=!1,i._contentHelper.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})})}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxNotification","",{}),t.extend(t.jqx._jqxNotification.prototype,{defineInstance:function(){var e={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return this===t.jqx._jqxNotification.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(t){var e=this;e.render(),1==e.autoOpen&&e.open()},render:function(){var e=this;if(0==e.host.hasClass("jqx-notification")){e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-notification")),e.host.css({zIndex:e.zIndex,display:"none",opacity:e.opacity}),e._container=e._notificationContainer(),e._appendContent(),e._setHoverFunctions(),e._instances=new Array,e._instanceKey=0;var n=t.data(document.body,"jqxNotifications");void 0==n&&(n=0),t.data(document.body,"jqxNotifications",n+1)}else e.refresh()},refresh:function(t){t||this._appendContent(!0)},open:function(){var t=this;if(0==t.disabled){var e=t.host.clone();e.removeAttr("id"),e.width(t.width),e.height(t.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&e.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&e.css("height",this.height),t.appendContainer||"bottom-left"!=t.position&&"bottom-right"!=t.position?(e.css("margin-bottom",t.notificationOffset),t._container.append(e)):(e.css("margin-top",t.notificationOffset),t._container.prepend(e)),t._addHandlers(e),e.fadeIn(t.animationOpenDelay,function(){t._raiseEvent("0",{element:e})}),1==t.blink&&(e._blinkInterval=setInterval(function(){e.fadeTo(400,t.opacity/1.5,function(){e.fadeTo(400,t.opacity)})},850)),1==t.autoClose&&(e._autoCloseTimeout=setTimeout(function(){t._close(e)},t.autoCloseDelay)),e._key=t._instanceKey,t._instances[t._instanceKey]=e,t._instanceKey++}},closeAll:function(){for(var t=this,e=0;e<t._instances.length;e++)t._instances[e]&&t._close(t._instances[e])},closeLast:function(){for(var t=this,e=t._instances.length;e>=0;e--)if(t._instances[e]){t._close(t._instances[e]);break}},destroy:function(){var e=this;e.closeAll(),e.host.remove();var n=t.data(document.body,"jqxNotifications");t.data(document.body,"jqxNotifications",n-1),e._destroyContainers(n-1)},propertyChangedHandler:function(t,e,n,o){var i=this;if(o!=n)switch(e){case"width":case"height":var a=n.indexOf&&-1!=n.indexOf("%");a=void 0!=a&&a;var s=o.indexOf&&-1!=o.indexOf("%");(s=void 0!=s&&s)!=a&&(i[e]=n);break;case"appendContainer":case"position":i._container=i._notificationContainer();break;case"browserBoundsOffset":i.appendContainer||i._position(i._container);break;case"opacity":i.host.css("opacity",o);break;case"showCloseButton":case"template":case"icon":case"rtl":i._appendContent(!0)}},_raiseEvent:function(e,n){var o=this,i=o.events[e],a=new t.Event(i);a.owner=o,a.args=n;try{var s=o.host.trigger(a)}catch(t){}return s},_close:function(t){var e=this;e._instances[t._key]&&(e._instances[t._key]=!1,clearInterval(t._blinkInterval),clearTimeout(t._autoCloseTimeout),t.fadeOut(e.animationCloseDelay,function(){e._removeHandlers(t),t.remove(),e._raiseEvent("1")}))},_addHandlers:function(t){var e=this;if(e.addHandler(t,"click.notification"+e.element.id,function(n){e._raiseEvent("2"),1==e.closeOnClick&&e._close(t)}),e.addHandler(t,"mouseenter.notification"+e.element.id,function(n){t._blinkInterval||e.mouseenterFunction(t)}),e.addHandler(t,"mouseleave.notification"+e.element.id,function(n){t._blinkInterval||"none"==t.css("display")||e.mouseleaveFunction(t)}),1==e.showCloseButton){var n=t.find(".jqx-notification-close-button");e.addHandler(n,"click.notification"+e.element.id,function(n){n.stopPropagation(),e._close(t)})}},_removeHandlers:function(t){var e=this;e.removeHandler(t,"click.notification"+e.element.id),e.removeHandler(t,"click.mouseenter"+e.element.id),e.removeHandler(t,"click.mouseleave"+e.element.id);var n=t.find(".jqx-notification-close-button");n.length>0&&e.removeHandler(n,"click.notification"+e.element.id)},_appendContent:function(e){var n,o=this,i=o.host.html();e||(n=o.host.children().detach()),e&&(o.host.removeAttr("class"),o.host.addClass(o.toThemeProperty("jqx-rc-all")),o.host.addClass(o.toThemeProperty("jqx-notification")));var a=t("<table class='"+o.toThemeProperty("jqx-notification-table")+"'></table>"),s=t("<tr></tr>");a.append(s);var r=o.rtl?"jqx-notification-content-rtl":"";if(e)i=(c=o.host.find(".jqx-notification-content")).html(),n=c.detach(),o.rtl?c.addClass("jqx-notification-content-rtl"):c.removeClass("jqx-notification-content-rtl");else var c=t("<td class='"+o.toThemeProperty("jqx-notification-content")+" "+r+"'></td>");s.html(c);var l,d=function(){0==o.rtl?(l.addClass("jqx-notification-icon-ltr"),c.before(l)):(l.addClass("jqx-notification-icon-rtl"),c.after(l))};if(o.template?(o.host.addClass("jqx-widget"),o.host.addClass("jqx-popup"),o.host.addClass("jqx-notification-"+o.template),l=t("<td class='"+o.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+o.template+"'></td>"),d()):(o.host.addClass(o.toThemeProperty("jqx-widget")),o.host.addClass(o.toThemeProperty("jqx-popup")),o.host.addClass(o.toThemeProperty("jqx-fill-state-normal")),o.icon&&(l=t("<td class='"+o.toThemeProperty("jqx-notification-icon")+"'></td>"),o.icon.padding=o.icon.padding?parseInt(o.icon.padding):5,l.css({width:parseInt(o.icon.width)+o.icon.padding,height:o.icon.height,"background-image":"url('"+o.icon.url+"')"}),d())),1==o.showCloseButton){var f;f=o.template?"jqx-notification-close-button jqx-notification-close-button-"+o.template:o.toThemeProperty("jqx-icon-close")+" "+o.toThemeProperty("jqx-notification-close-button");var h=t("<td class='"+o.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+f+" "+o.element.id+"CloseButton' title='Close'></div></td>");0==o.rtl?(h.find("div").addClass("jqx-notification-close-button-ltr"),c.after(h)):(h.find("div").addClass("jqx-notification-close-button-rtl"),c.before(h))}o.host[0].innerHTML="",o.host.append(a),document.querySelectorAll("app-root").length>0?o.host.find(".jqx-notification-content").append(n.clone()):n.length>0?o.host.find(".jqx-notification-content").append(n):o.host.find(".jqx-notification-content").html(i)},_position:function(t){var e,n,o,i,a=this;switch(a.position){case"top-right":e="",n=a.browserBoundsOffset,o=a.browserBoundsOffset,i="";break;case"top-left":e=a.browserBoundsOffset,n="",o=a.browserBoundsOffset,i="";break;case"bottom-left":e=a.browserBoundsOffset,n="",o="",i=a.browserBoundsOffset;break;case"bottom-right":e="",n=a.browserBoundsOffset,o="",i=a.browserBoundsOffset}t.css({left:e,right:n,top:o,bottom:i})},_notificationContainer:function(){var e,n=this;if(n.appendContainer){if(0==(e=t(n.appendContainer)).length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+n.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else 0==(e=t("#jqxNotificationDefaultContainer-"+n.position)).length&&(t("body").append("<div id='jqxNotificationDefaultContainer-"+n.position+"' class='jqx-notification-container'></div>"),e=t("#jqxNotificationDefaultContainer-"+n.position),n.width.indexOf&&-1!=n.width.indexOf("%")&&e.addClass(n.toThemeProperty("jqx-notification-container-full-width")),n.height.indexOf&&-1!=n.height.indexOf("%")&&e.addClass(n.toThemeProperty("jqx-notification-container-full-height")),n._position(e));return e},_destroyContainers:function(e){0==e&&t(".jqx-notification-container").remove()},_setHoverFunctions:function(){var e=this,n=!1;"msie"==t.jqx.browser.browser&&"9.0"==t.jqx.browser.version&&(n=!0),0==n?(e.mouseenterFunction=function(t){t.fadeTo("fast",e.hoverOpacity)},e.mouseleaveFunction=function(t){t.fadeTo("fast",e.opacity)}):(e.mouseenterFunction=function(t){t.css("filter","alpha(opacity = "+100*e.hoverOpacity+")")},e.mouseleaveFunction=function(t){t.css("filter","alpha(opacity = "+100*e.opacity+")")})}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxNumberInput","",{}),t.extend(t.jqx._jqxNumberInput.prototype,{defineInstance:function(){var e={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===t.jqx._jqxNumberInput.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(t){var e=this.host.attr("value");void 0!=e&&(this.decimal=e),null!=this.value&&(this.decimal=this.value),this._createFromInput("jqxNumberInput"),this.render()},_createFromInput:function(e){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};if(i.field.value&&(i.decimal=parseFloat(i.field.value)),i.field.getAttribute("min")){var r=i.field.getAttribute("min");i.min=parseFloat(r)}if(i.field.getAttribute("step")){var a=i.field.getAttribute("step");i.spinButtonsStep=parseFloat(a)}if(i.field.getAttribute("max")){var n=i.field.getAttribute("max");i.max=parseFloat(n)}i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+e:s.id=t.jqx.utilities.createId()+"_"+e;var o=t("<div></div>",s);o[0].style.cssText=i.field.style.cssText,i.width||(i.width=t(i.field).width()),i.height||(i.height=t(i.field).outerHeight()),t(i.field).hide().after(o);var h=i.host.data();if(i.host=o,i.host.data(h),i.element=o[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),t(i.field).removeClass(i._className)),i.field.tabIndex){var l=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=l}}},_doTouchHandling:function(){var t=this,e=t.savedValue;if(t.parsing||(t.parsing=!0),t.parsing){t.numberInput.val()&&0==t.numberInput.val().indexOf("-")?t.setvalue("negative",!0):t.setvalue("negative",!1);for(var i=t.numberInput.val(),s=0;s<i.length-1;s++){var r=i.substring(s,s+1);if(isNaN(parseFloat(r))&&-1===t.symbol.toString().indexOf(r)&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return t.numberInput[0].value=e,void(t.parsing=!1)}t.ValueString=t.GetValueString(t.numberInput.val(),t.decimalSeparator,""!=t.decimalSeparator),t._parseDecimalInSimpleMode(),t.decimal=t.ValueString,t.getvalue("negative")&&(t.decimal="-"+t.ValueString),t.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),t.jqx.aria(this),t.jqx.aria(this,"aria-multiline",!1);r=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(t.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=t("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.numberInput.attr("placeholder",this.placeHolder);var e=this.host.attr("name");e&&this.numberInput.attr("name",e),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),(t.jqx.mobile.isTouchDevice()||!0===this.touchMode||"textbox"==this.inputMode)&&((r=this).savedValue="",this.addHandler(this.numberInput,"focus",function(){r.savedValue=r.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){r._doTouchHandling()})),t.data(this.host[0],"jqxNumberInput").jqxNumberInput=this;r=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){r.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(t,e,s,r){r?(t.numberInput.addClass(i.toThemeProperty("jqx-input-disabled")),t.numberInput.attr("disabled",!0)):(t.host.removeClass(i.toThemeProperty("jqx-input-disabled")),t.numberInput.attr("disabled",!1)),t.spinButtons&&t.host.jqxRepeatButton&&(t.upbutton.jqxRepeatButton({disabled:r}),t.downbutton.jqxRepeatButton({disabled:r}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;this.element.id,this.element;var i=this;this.oldValue=this._value(),this.items=new Array;this.value;var s=this.decimal;this._initializeLiterals(),this._render(),this.setDecimal(s);var r=this;setTimeout(function(){},100),this._addHandlers(),t.jqx.utilities.resize(this.host,function(){r._render()})},refresh:function(t){t||this._render()},wheel:function(t,e){if(e.enableMouseWheel){e.changeType="mouse";var i=0;if(t||(t=window.event),t.originalEvent&&t.originalEvent.wheelDelta&&(t.wheelDelta=t.originalEvent.wheelDelta),t.wheelDelta?i=t.wheelDelta/120:t.detail&&(i=-t.detail/3),i){var s=e._handleDelta(i);return t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),void 0!=t.stopPropagation&&t.stopPropagation(),!!s&&(s=!1,t.returnValue=s,s)}t.preventDefault&&t.preventDefault(),t.returnValue=!1}},_handleDelta:function(t){return t<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var e=this;this.addHandler(this.numberInput,"paste",function(i){var s=e._selection();i.preventDefault(),i.originalEvent.clipboardData?content=(i.originalEvent||i).clipboardData.getData("text/plain"):window.clipboardData&&(content=window.clipboardData.getData("Text")),this.selectedText=content,t.data(document.body,"jqxSelection",this.selectedText),"simple"!=e.inputMode?e._pasteSelectedText():e.val(content),setTimeout(function(){e._setSelectionStart(s.start)})}),this.addHandler(this.numberInput,"mousedown",function(t){return e._raiseEvent(2,t)}),this._mousewheelfunc=this._mousewheelfunc||function(t){if(!e.editcell)return e.wheel(t,e),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var i="";this.addHandler(this.numberInput,"focus",function(s){t.data(e.numberInput,"selectionstart",e._selection().start),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")),e.spincontainer&&e.spincontainer.addClass(e.toThemeProperty("jqx-numberinput-focus")),i=e.numberInput.val(),e._savedValue=e.decimal}),this.addHandler(this.numberInput,"blur",function(s){if("simple"==e.inputMode&&e._exitSimpleInputMode(s,e,!1,i),e.autoValidate){var r=parseFloat(e.decimal);e.getvalue("negative")&&e.decimal>0&&(r=-parseFloat(e.decimal)),r>e.max&&(e._disableSetSelection=!0,e.setDecimal(e.max),e._disableSetSelection=!1),r<e.min&&(e._disableSetSelection=!0,e.setDecimal(e.min),e._disableSetSelection=!1)}return e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.spincontainer&&e.spincontainer.removeClass(e.toThemeProperty("jqx-numberinput-focus")),e.numberInput.val()!=i&&(e._raiseEvent(7,s),t.jqx.aria(e,"aria-valuenow",e.decimal),e.element.value=e.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(t){return e._raiseEvent(3,t)}),this.addHandler(this.numberInput,"keydown",function(t){return e.changeType="keyboard",e._raiseEvent(4,t)}),this.addHandler(this.numberInput,"keyup",function(t){return e._raiseEvent(5,t)}),this.addHandler(this.numberInput,"keypress",function(t){return e._raiseEvent(6,t)})},focus:function(){try{this.numberInput.focus()}catch(t){}},_removeHandlers:function(){var e=this;this.removeHandler(this.numberInput,"mousedown"),t.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(t(document),"click."+this.element.id,e._exitSimpleInputMode,e),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=t("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=t('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=t('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=t('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));e=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(t){e.disabled||(e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(t){e.disabled||(e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(t(document),"mouseup."+this.element.id),this.addHandler(t(document),"mouseup."+this.element.id,function(t){e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-selected")),e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(i){if(!e.disabled)return t.jqx.browser.msie&&t.jqx.browser.version<9&&(e._inputSelection=e._selection()),e.downbutton.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mousedown",function(i){if(!e.disabled)return t.jqx.browser.msie&&t.jqx.browser.version<9&&(e._inputSelection=e._selection()),e.upbutton.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mouseenter",function(t){e.upbutton.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(t){e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(t){e.downbutton.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(t){e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var e=this;this._upArrow.hover(function(){e.disabled||e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){e.disabled||e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))});var i=t.jqx.mobile.isTouchDevice(),s="click";i&&(s=t.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(t){e.spinDown()}),this.addHandler(this.upbutton,"click",function(t){e.spinUp()})),this.addHandler(this.downbutton,s,function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==e._selection().start&&e._setSelectionStart(e.numberInput.val().length),t.jqx.browser.msie&&t.jqx.browser.version<9&&e._setSelectionStart(e._inputSelection.start)),e.spinDown(),!1}),this.addHandler(this.upbutton,s,function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==e._selection().start&&e._setSelectionStart(e.numberInput.val().length),t.jqx.browser.msie&&t.jqx.browser.version<9&&e._setSelectionStart(e._inputSelection.start)),e.spinUp(),!1})},spinDown:function(){var e=this,i=this.decimal;if("none"!=e.spinMode)if(null!=this.decimal){var s=(v=this.getvalue("negative"))?-1:0;if((t.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&e._doTouchHandling(),!e.disabled){var r=this._selection(),a=this.decimal;if((l=this.getDecimal())<this.min)return l=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinDown();if(l>this.max)return l=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinDown();e.spinButtonsStep<0&&(e.spinButtonsStep=1);var n=parseInt(e.decimal)-e.spinButtonsStep,o=s+(n=n.toString().length)<=e.digits;if("advanced"!=e.spinMode){if(l-e.spinButtonsStep>=e.min&&o){u=1;for(p=0;p<e.decimalDigits;p++)u*=10;g=u*l-u*e.spinButtonsStep;g/=u,g=this._parseDecimalValueToEditorValue(g),e.setDecimal(g)}}else{var h=this._getspindecimal(),l=(this._getSeparatorPosition(),parseFloat(h.decimal));e.spinButtonsStep<0&&(e.spinButtonsStep=1);var o=s+(n=(n=parseInt(l)-e.spinButtonsStep).toString().length)<=e.digits,u=1,d=h.decimal.indexOf(".");if(-1!=d){for(var c=h.decimal.length-d-1,u=1,p=0;p<c;p++)u*=10;-1==(d=(l=(l-=new Number(e.spinButtonsStep/u)).toFixed(c)).toString().indexOf("."))&&(l=l.toString()+".");var m=l.toString()+h.afterdecimal;(m=(m=new Number(m)).toFixed(e.decimalDigits))>=e.min&&(m=this._parseDecimalValueToEditorValue(m),e.setDecimal(m))}else if(l-e.spinButtonsStep>=e.min&&o){var g=u*l-u*e.spinButtonsStep;(m=(g/=u).toString()+h.afterdecimal)>=e.min&&(m=this._parseDecimalValueToEditorValue(m),e.setDecimal(m))}}if(void 0==m||"simple"!=this.inputMode)return this._setSelectionStart(r.start),e.savedValue=e.numberInput[0].value,i!=this.decimal&&(t.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void t.jqx.aria(self,"aria-valuenow",this.decimal);m=this.decimal.toString();var v=this.getvalue("negative");0==s&&v?this._setSelectionStart(r.start+1):void 0==m||void 0!=a&&a.toString().length!=m.length?v?this._setSelectionStart(r.start+1):this._setSelectionStart(r.start-1):this._setSelectionStart(r.start),i!=this.decimal&&(t.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),t.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_getspindecimal:function(){var t=this._selection(),e="",i=(this._getSeparatorPosition(),this._getVisibleItems()),s=this._getHiddenPrefixCount(),r=this.numberInput.val();this.numberInput.val().length==t.start&&0==t.length&&(this._setSelection(t.start,t.start+1),t=this._selection());for(var a="advanced"!=this.inputMode,n=0;n<t.start;n++)if(a){h=r.substring(n,n+1);(l=!isNaN(parseInt(h)))&&(e+=h),h==this.decimalSeparator&&(e+=h)}else i[n].canEdit&&i[n].character!=this.promptChar?e+=i[n].character:i[n].canEdit||-1==this.decimalSeparatorPosition||i[n]!=i[this.decimalSeparatorPosition-s]||(0==e.length&&(e="0"),e+=i[n].character);for(var o="",n=t.start;n<i.length;n++)if(a){var h=r.substring(n,n+1),l=!isNaN(parseInt(h));l&&(o+=h),h==this.decimalSeparator&&(o+=h)}else i[n].canEdit&&i[n].character!=this.promptChar?o+=i[n].character:i[n].canEdit||-1==this.decimalSeparatorPosition||i[n]!=i[this.decimalSeparatorPosition-s]||(o+=i[n].character);return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(e).toString():this._parseDecimalValue(e).toString(),afterdecimal:this._parseDecimalValue(o)}},_parseDecimalValue:function(t){if("."!=this.decimalSeparator){var e=t.toString().indexOf(this.decimalSeparator);if(e>=0)return t.toString().substring(0,e)+"."+t.toString().substring(e+1)}return t},_parseDecimalValueToEditorValue:function(t){if("."!=this.decimalSeparator){var e=t.toString().indexOf(".");if(e>=0)return t.toString().substring(0,e)+this.decimalSeparator+t.toString().substring(e+1)}return t},spinUp:function(){var e=this,i=this.decimal;if("none"!=e.spinMode)if(null!=this.decimal){(t.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&e._doTouchHandling();var s=(f=this.getvalue("negative"))?-1:0;if(!e.disabled){var r=this._selection(),a=e.decimal;if((d=e.getDecimal())<this.min)return d=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinUp();if(d>this.max)return d=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinUp();e.spinButtonsStep<0&&(e.spinButtonsStep=1);var n=parseInt(e.decimal)+e.spinButtonsStep,o=s+(n=n.toString().length)<=e.digits;if("advanced"!=e.spinMode){if(d+e.spinButtonsStep<=e.max&&o){for(var h=1,l=0;l<e.decimalDigits;l++)h*=10;m=h*d+h*e.spinButtonsStep;m/=h,m=this._parseDecimalValueToEditorValue(m),e.setDecimal(m)}}else{var u=this._getspindecimal(),d=(this._getSeparatorPosition(),parseFloat(u.decimal));e.spinButtonsStep<0&&(e.spinButtonsStep=1);var o=s+(n=(n=parseInt(d)+e.spinButtonsStep).toString().length)<=e.digits,h=1,c=u.decimal.indexOf(".");if(-1!=c){for(var p=u.decimal.length-c-1,h=1,l=0;l<p;l++)h*=10;-1==(c=(d=(d+=new Number(e.spinButtonsStep/h)).toFixed(p)).toString().indexOf("."))&&(d=d.toString()+".");g=d.toString()+u.afterdecimal;g=(g=new Number(g)).toFixed(e.decimalDigits),(v=new Number(g).toFixed(e.decimalDigits))<=e.max?(g=this._parseDecimalValueToEditorValue(g),e.setDecimal(g)):g=void 0}else if(d+e.spinButtonsStep<=e.max&&o){var m=h*d+h*e.spinButtonsStep,g=(m/=h).toString()+u.afterdecimal,v=new Number(g).toFixed(e.decimalDigits);v<=e.max?(g=this._parseDecimalValueToEditorValue(g),f&&-1==g.indexOf("-")&&"-0"!=u.decimal&&(g="-"+g),e.setDecimal(g)):g=void 0}}if(void 0==g||"simple"!=this.inputMode)return this._setSelectionStart(r.start),e.savedValue=e.numberInput[0].value,i!=this.decimal&&(t.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void t.jqx.aria(self,"aria-valuenow",this.decimal);g=this.decimal.toString();var f=this.getvalue("negative");-1!=s||f?void 0==g||void 0!=a&&a.toString().length!=g.length?f?this._setSelectionStart(r.start):this._setSelectionStart(1+r.start):this._setSelectionStart(r.start):this._setSelectionStart(-1+r.start),i!=this.decimal&&(t.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),t.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_exitSimpleInputMode:function(e,i,s,r){if(void 0==i&&(i=e.data),null!=i){if(void 0==s){if(null!=e.target&&null!=i.element&&(void 0!=e.target.id&&e.target.id.toString().length>0&&i.host.find("#"+e.target.id).length>0||e.target==i.element))return;var a=i.host.offset(),n=a.left,o=a.top,h=i.host.width(),l=i.host.height(),u=t(e.target).offset();if(u.left>=n&&u.left<=n+h&&u.top>=o&&u.top<=o+l)return}if(t.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly&&null!=t.data(i.numberInput,"simpleInputMode"))return t.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}},_getDecimalInSimpleMode:function(){e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>0)var e=e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(t){var e=this,i=e.getvalue("negative"),s=this.ValueString;if(void 0==s&&(s=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var r=s.toString().indexOf(".");r>0&&(s=s.toString().substring(0,r)+this.decimalSeparator+s.toString().substring(r+1))}var a=i?"-":"";"left"==this.symbolPosition&&(a+=this.symbol);var n=this.digits%this.groupSize;0==n&&(n=this.groupSize);var o=s.toString();o.indexOf("-")>=0&&(o=o.substring(o.indexOf("-")+1)),a+=o,"right"==this.symbolPosition&&(a+=this.symbol),0!=t&&e.numberInput.val(a)},_enterSimpleInputMode:function(e,i){void 0==i&&(i=e.data);var s=this._selection();if(null!=i){var r=i.getvalue("negative"),a=i.decimal;r&&a>0&&(a=-a),i.numberInput.val(a),t.data(i.numberInput,"simpleInputMode",!0),t.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(s.start)}},setvalue:function(t,e){void 0!==this[t]&&("decimal"==t?this._setDecimal(e):(this[t]=e,this.propertyChangedHandler(this,t,e,e)))},getvalue:function(t){return"decimal"==t&&void 0!=this.negative&&1==this.negative?-Math.abs(this[t]):t in this?this[t]:null},_getString:function(){for(var t="",e=0;e<this.items.length;e++)t+=this.items[e].character;return t},_literal:function(t,e,i,s){return{character:t,regex:e,canEdit:i,isSeparator:s}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var t=0,e=this.negativeSymbol.length,i=0;i<e;i++){var s=this.negativeSymbol.substring(i,i+1),r="",a=!1,n=null;n=this.negative?this._literal(s,r,a,!1):this._literal("",r,a,!1),this.items[t]=n,t++}var o=this.symbol.length;if("left"==this.symbolPosition)for(i=0;i<o;i++){var s=this.symbol.substring(i,i+1),r="",a=!1,n=this._literal(s,r,a,!1);this.items[t]=n,t++}var h=this.digits%this.groupSize;0==h&&(h=this.groupSize);for(i=0;i<this.digits;i++){var s=this.promptChar,r="\\d",a=!0,n=this._literal(s,r,a,!1);if(this.items[t]=n,t++,i<this.digits-1&&void 0!=this.groupSeparator&&this.groupSeparator.length>0){if(0==--h){h=this.groupSize;var l=this._literal(this.groupSeparator,"",!1,!1);this.items[t]=l,t++}}else i==this.digits-1&&(n.character=0)}if(this.decimalSeparatorPosition=-1,void 0!=this.decimalDigits&&this.decimalDigits>0){0==(s=this.decimalSeparator).length&&(s=".");n=this._literal(s,"",!1,!0);this.items[t]=n,this.decimalSeparatorPosition=t,t++;for(i=0;i<this.decimalDigits;i++){var r="\\d",u=this._literal(0,r,!0,!1);this.items[t]=u,t++}}if("right"==this.symbolPosition)for(i=0;i<o;i++){var s=this.symbol.substring(i,i+1),r="",a=!1,n=this._literal(s,r,a);this.items[t]=n,t++}}},_match:function(t,e){return new RegExp(e,"i").test(t)},_raiseEvent:function(e,i){var s=this.events[e],r={};if(r.owner=this,"none"==this.host.css("display"))return!0;var a=i.charCode?i.charCode:i.keyCode?i.keyCode:0,n=!0,o=this.readOnly,h=this;if((3==e||2==e)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(i)}if(0==e){var l=this.getvalue("decimal");this.max<l||this.min>l?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var u=new t.Event(s);u.owner=this,r.value=this.getvalue("decimal"),r.text=this.numberInput.val(),u.args=r,7==e&&(r.type=this.changeType,this.changeType=null),void 0!=s&&4!=e&&5!=e&&6!=e&&(n=this.host.trigger(u));h=this;if("textbox"==this.inputMode)return n;if("simple"!=this.inputMode){if(4==e){if(o||this.disabled)return!1;n=h._handleKeyDown(i,a)}else if(5==e)(o||this.disabled)&&(n=!1);else if(6==e){if(o||this.disabled)return!1;n=h._handleKeyPress(i,a)}}else if(4==e||5==e||6==e){if(t.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0;if(o||this.disabled)return!1;var d=String.fromCharCode(a),c=(parseInt(d),!0);if(i.ctrlKey||i.shiftKey||i.metaKey||a>=65&&a<=90&&(c=!1),6==e&&void 0!=t.jqx.browser.opera&&8==a)return!1;if(c){if(4==e&&(c=h._handleSimpleKeyDown(i,a)),189==a||45==a||109==a||173==a){var p=h._selection();4==e&&(0==h.getvalue("negative")?h.setvalue("negative",!0):h.setvalue("negative",!1),h.decimal=h.ValueString,h._parseDecimalInSimpleMode(),h._setSelectionStart(p.start),c=!1,h._raiseEvent(0,h.value),h._raiseEvent(1,h.numberInput.val()))}var m=r.ctrlKey||r.metaKey;if(!t.jqx.browser.msie){var g=i;if(m&&99==a||m&&67==a||m&&122==a||m&&90==a||m&&118==a||m&&86==a||g.shiftKey&&45==a)return(t.jqx.browser.webkit||t.jqx.browser.chrome)&&h._handleSimpleKeyDown(i,a),67==a}if(m&&97==a||m&&65==a)return!0;if(6==e&&c)return this._isSpecialKey(a)}return c}return n},GetSelectionInValue:function(t,e,s,r){var a=0;for(i=0;i<e.length&&!(i>=t);i++){var n=e.substring(i,i+1);(!isNaN(parseInt(n))||r&&e.substring(i,i+1)==s)&&a++}return a},GetSelectionLengthInValue:function(t,e,s,r){var a=0;for(i=0;i<s.length&&!(i>=t+e);i++){var n=s.substring(i,i+1),o=!isNaN(parseInt(n));(e>0&&i>=t&&o||i>=t&&s[i].toString()==r)&&a++}return a},GetInsertTypeByPositionInValue:function(t,e,i,s){var r="before",a=this.GetValueString(i,e,s);return t>this.GetDigitsToSeparator(0,a,e)&&(r="after"),r},RemoveRange:function(t,e,i,s,r,a){var n=this.digits,o=t,h=e,l=0,u=(this.decimal,this._selection(),""!=(s=this.decimalSeparator));if(0==h&&this.ValueString.length<this.decimalPossibleChars-1)return l;var d=this.GetSeparatorPositionInText(s,i);r||(d=this.GetSeparatorPositionInText(s,i)),d<0&&!u&&i.length>1&&(d=i.length),-1==d&&(d=i.length);var c=u?1:0;e<2&&1==a&&this.ValueString.length-this.decimalDigits-c==n&&t+e<d&&h++;for(var p="",m=0;m<i.length;m++)if(m<o||m>=o+h)p+=i.substring(m,m+1);else if((g=i.substring(m,m+1))!=s){g=i.substring(m,m+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(g)>=0))if(m>d)p+="0";else{var g=i.substring(m,m+1);!isNaN(parseInt(g))&&l++}}else p+=s;0==p.length&&(p="0"),r?this.numberInput.val(p):this.ValueString=p;var v=p.substring(0,1);return v==s&&isNaN(parseInt(v))&&(p="0"+p),this.ValueString=this.GetValueString(p,s,u),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(o),l},InsertDigit:function(t,e){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,s=this._selection(),r=this.getvalue("negative"),a=!1;0==s.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(s.start+1),s=this._selection(),a=!0),(r&&a||r&&!a&&0==s.start)&&(this._setSelectionStart(s.start+1),s=this._selection());var n=this.numberInput.val().substring(s.start,s.start+1),o=this.numberInput.val(),h=this.decimalSeparator,l=""!=h&&this.decimalDigits>0;if(n==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(o,h,l),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(o,h,l),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var u=this.ValueString;this.decimalDigits>0&&e>=u.length&&(e=u.length-1);var d="";e<u.length&&(d=u.substring(e,e+1));var c=!1;"after"==this.GetInsertTypeByPositionInValue(e,h,o,l)&&(c=!0);var p=l?1:0;d!=h&&this.ValueString.length-this.decimalDigits-p>=i-1&&(c=!0),"0"===d&&1===this.ValueString.length&&0===this.decimalDigits&&(c=!0);var m=l?1:0;if(!(!c&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+m)){if(c&&d!=h){if((f=u.substring(0,e)).length==u.length&&this.ValueString.length>=this.digits+this.decimalDigits+m)return;var g=t,v="";e+1<u.length&&(v=u.substring(e+1));b=f+g+v;this.ValueString=b}else{var f=u.substring(0,e),b=f+(g=t)+(v=u.substring(e));"0"==u.substring(0,1)&&u.substring(1,2)==h&&(b=g+u.substring(1),d==h&&(this._setSelectionStart(s.start-1),s=this._selection())),this.ValueString=b}this.decimal=r?-this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();var S=s.start;S+=1,this._setSelectionStart(S),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(t,e,i){var s=this.GetSeparatorPositionInText(e,t),r=t.subString(0,s);return this.GetValueString(r,e,i)},GetSeparatorPositionInText:function(t,e){var s=-1;for(i=0;i<e.length;i++)if(e.substring(i,i+1)==t){s=i;break}return s},GetValueString:function(t,e,i){for(var s="",r=0;r<t.length;r++){var a=t.substring(r,r+1);!isNaN(parseInt(a))&&(s+=a),a==e&&(s+=e)}return s},Backspace:function(){var t=this._selection(),e=this._selection(),i=this.numberInput.val();if(0!=t.start||0!=t.length){this.isBackSpace=!0;var s=i.substring[(t.start,t.start+1)];isNaN(parseInt(s));if(t.start>0&&0==t.length){this._setSelectionStart(t.start-1);t=this._selection()}this.Delete(),this._setSelectionStart(e.start-1),this.isBackSpace=!1}},Delete:function(t){var e=this._selection(),i=this.numberInput.val();if(0===e.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);var e=this._selection(),i=this.numberInput.val()}var s=e.start,r=e.length;r=Math.max(r,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),s>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&s++;var a=0;this.symbol&&("left"==this.symbolPosition&&a--,this.negative&&a--),this.RemoveRange(e.start+a,r,this.ValueString,".",!1);var n=this.ValueString.substring(0,1);!isNaN(parseInt(n))||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(s),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(t){var e=this._selection(),i=this.numberInput.val();if(!(e.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){this.decimal;var s=this.decimalSeparator;this.ValueString=this.GetValueString(i,s,""!=s);var r=this.GetSelectionInValue(e.start,i,s,""!=s),a=this.GetSelectionLengthInValue(e.start,e.length,i,s);this.GetDigitsToSeparator(0,this.ValueString,s);if(this.decimalDigits>0&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",s),this.RemoveRange(e.start,a,this.ValueString,s,!1,!0),void this.InsertDigit(t,0,e);this.RemoveRange(e.start,a,this.ValueString,s,!1,!0),this.InsertDigit(t,r,e)}},GetDigitsToSeparator:function(t,e,s){if(void 0==s&&(s="."),e.indexOf(s)<0)return e.length;for(i=0;i<e.length;i++)if(e.substring(i,i+1)==s){t=i;break}return t},_handleSimpleKeyDown:function(e,i){var s=this._selection(),r=e.ctrlKey||e.metaKey;if((8==i||46==i)&&r)return this.setDecimal(null),!1;if(s.start>=0&&s.start<this.items.length)m=String.fromCharCode(i);if(27===i&&(this.setDecimal(this._savedValue),-1!=(o=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(o),e.preventDefault()),this.rtl&&37==i){n=(a=e.shiftKey)?1:0;return a?this._setSelection(s.start+1-n,s.start+s.length+1):this._setSelection(s.start+1-n,s.start+1),!1}if(this.rtl&&39==i){var a=e.shiftKey,n=a?1:0;return a?this._setSelection(s.start-1,s.length+n+s.start-1):this._setSelection(s.start-1,s.start-1),!1}if(8==i)return this.Backspace(),!1;if(190==i||110==i){var o=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());return-1!=o&&this._setSelectionStart(o+1),!1}if(188==i){var h=this.numberInput.val();for(d=s.start;d<h.length;d++)if(h[d]==this.groupSeparator){this._setSelectionStart(1+d);break}return!1}if((r=e.ctrlKey||e.metaKey)&&99==i||r&&67==i){var s=this._selection(),l="",u=this.numberInput.val();if(s.start>0||s.length>0)for(var d=s.start;d<s.end;d++)l+=u.substring(d,d+1);if(t.data(document.body,"jqxSelection",l),t.jqx.browser.msie)window.clipboardData.setData("Text",l);else{var c=this,p=t('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');p.val(l),t("body").append(p),p.select(),setTimeout(function(){document.designMode="off",p.select(),p.remove(),c.focus()},100)}return this.savedText=l,!0}if(r&&122==i||r&&90==i)return!1;if(r&&118==i||r&&86==i||e.shiftKey&&45==i)return t.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(t.data(document.body,"jqxSelection")),!1;var m=String.fromCharCode(i),g=parseInt(m);if(i>=96&&i<=105&&(g=i-96,i-=48),!isNaN(g)){c=this;return this.insertsimple(g),!1}if(46==i)return this.Delete(),!1;if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;var v=this._isSpecialKey(i);return!t.jqx.browser.mozilla||v},_getEditRange:function(){var t=0,e=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){t=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){e=i;break}return{start:t,end:e}},_getVisibleItems:function(){var t=new Array,e=0;for(i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(t[e]=this.items[i],e++);return t},_hasEmptyVisibleItems:function(){var t=this._getVisibleItems();for(i=0;i<t.length;i++)if(t[i].canEdit&&t[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var t=this._getVisibleItems();for(i=0;i<t.length;i++)if(t[i].canEdit&&t[i].character!=this.promptChar)return i},_handleMouse:function(t,e){var i=this._selection();if(i.length<=1){var s=this._getFirstVisibleNonEmptyIndex();i.start<s&&this._setSelectionStart(s)}},_insertKey:function(e){this.numberInput[0].focus();var s=String.fromCharCode(e),r=parseInt(s);if(!isNaN(r)){var a=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&a++;var n=this._selection(),o=this;if(n.start>=0&&n.start<=this.items.length){var h=!1,l=this._getFirstVisibleNonEmptyIndex();n.start<l&&0==n.length&&(isNaN(s)&&" "!=s||(this._setSelectionStart(l),n=this._selection()));this._getFirstEditableItemIndex();var u=this._getLastEditableItemIndex(),d=this._getVisibleItems();t.each(d,function(t,e){if(!(n.start>t&&t!=d.length-1)){var i=d[t];if(t>u&&(i=d[u]),!isNaN(s)&&" "!=s&&i.canEdit){r=o._getSeparatorPosition();if(o._match(s,i.regex)){if(!h&&n.length>0){for(j=n.start+a;j<n.end+a;j++)o.items[j].canEdit&&(j>r?o.items[j].character="0":o.items[j].character=o.promptChar);S=o._getString();h=!0}var r=o._getSeparatorPosition(),l=o._hasEmptyVisibleItems();if(null==o.decimal&&(n.start=r-1,n.start<0&&(n.start=0),n.end=n.start),n.start<=r&&l){var c=t;-1==o.decimalSeparatorPosition&&n.start==r&&(c=t+1),null==o.decimal&&(c=n.start);v="";for(p=0;p<c;p++)d[p].canEdit&&d[p].character!=o.promptChar&&(v+=d[p].character);v+=s;b=o.decimal<1?1:0;for(n.start==r&&-1!=o.decimalSeparatorPosition&&(v+=o.decimalSeparator,b=0),p=c+b;p<d.length;p++)d[p].character==o.decimalSeparator&&d[p].isSeparator?v+=d[p].character:d[p].canEdit&&d[p].character!=o.promptChar&&(v+=d[p].character);"."!=o.decimalSeparator&&(v=o._parseDecimalValue(v)),v=parseFloat(v).toString(),v=(v=new Number(v)).toFixed(o.decimalDigits),"."!=o.decimalSeparator&&(v=o._parseDecimalValueToEditorValue(v)),o.setvalue("decimal",v);S=o._getString();if(n.end<r?o._setSelectionStart(n.end+b):o._setSelectionStart(n.end),n.length>=1&&o._setSelectionStart(n.end),n.length==o.numberInput.val().length){var m=o._moveCaretToDecimalSeparator(),g=o.decimalSeparatorPosition>=0?1:0;o._setSelectionStart(m-g)}}else if(n.start<r||n.start>r){if(o.numberInput.val().length==n.start&&-1!=o.decimalSeparatorPosition)return!1;if(o.numberInput.val().length==n.start&&-1==o.decimalSeparatorPosition&&!l)return!1;var v="",f=!1;for(p=0;p<t;p++)d[p].canEdit&&d[p].character!=o.promptChar&&(v+=d[p].character),d[p].character==o.decimalSeparator&&d[p].isSeparator&&(v+=d[p].character,f=!0);v+=s;var b=o.decimal<1?1:0;for(f||n.start!=r-1||(v+=o.decimalSeparator,f=!0),p=t+1;p<d.length;p++)!f&&d[p].character==o.decimalSeparator&&d[p].isSeparator?v+=d[p].character:d[p].canEdit&&d[p].character!=o.promptChar&&(v+=d[p].character);o.setvalue("decimal",v);var S=o._getString();if(o.decimalSeparatorPosition<0&&i==d[u])return o._setSelectionStart(t),!1;var _=S.indexOf(o.symbol);if(_<=(o.getvalue("negative")?1:0)&&(_=S.length),n.start<_?o._setSelectionStart(t+1):o._setSelectionStart(t),n.length,n.length==o.numberInput.val().length){m=o._moveCaretToDecimalSeparator();o._setSelectionStart(m-1)}}return!1}}}})}}},_handleKeyPress:function(e,i){var s=this._selection(),r=this,a=e.ctrlKey||e.metaKey;return!!(a&&97==i||a&&65==i)||(8==i?(s.start>0&&r._setSelectionStart(s.start),!1):46==i?(s.start<this.items.length&&r._setSelectionStart(s.start),!1):(t.jqx.browser.mozilla||45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)),t.jqx.browser.msie&&this._insertKey(i),this._isSpecialKey(i)))},_deleteSelectedText:function(){var t=this._selection(),e="",s=this._getSeparatorPosition(),r=this._getVisibleItems(),a=this._getHiddenPrefixCount();for(this.numberInput.val().length==t.start&&0==t.length&&(this._setSelection(t.start,t.start+1),t=this._selection()),i=0;i<t.start;i++)r[i].canEdit&&r[i].character!=this.promptChar?e+=r[i].character:r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-a]||(0==e.length&&(e="0"),e+=r[i].character);for(i=t.start;i<t.end;i++)i>s&&-1!=this.decimalSeparatorPosition?r[i].canEdit&&r[i].character!=this.promptChar&&(e+="0"):r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-a]||(0==e.length&&(e="0"),e+=r[i].character);for(i=t.end;i<r.length;i++)r[i].canEdit&&r[i].character!=this.promptChar?e+=r[i].character:r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-a]||(0==e.length&&(e="0"),e+=r[i].character);return this.setvalue("decimal",e),t.length>0},_restoreInitialState:function(){var t=parseInt(this.decimalDigits);for(t>0&&(t+=2),k=this.items.length-1;k>this.items.length-1-t&&this.items[k];k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"!=this.inputMode){for(var t=0;t<this.items.length;t++)this.items[t].canEdit&&(this.items[t].character=this.promptChar);this._restoreInitialState()}else this.numberInput.val()},_saveSelectedText:function(){var e=this._selection(),s="",r=this._getVisibleItems();if(e.start>0||e.length>0)for(i=e.start;i<e.end;i++)r[i].canEdit&&r[i].character!=this.promptChar?s+=r[i].character:r[i].isSeparator&&(s+=r[i].character);return t.jqx.browser.msie&&window.clipboardData.setData("Text",s),s},_pasteSelectedText:function(){var e=this._selection();if(this.selectedText=t.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text");if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||void 0==this.selectedText))return}e.start,this._getVisibleItems();if(null!=this.selectedText)for(var s=0;s<this.selectedText.length;s++){var r=parseInt(this.selectedText[s]);if(!isNaN(r)){var a=48+r;this._insertKey(a)}}},_getHiddenPrefixCount:function(){var t=0;if(this.negative||t++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&t++;return t},_getEditableItem:function(){var t=this._selection();for(i=0;i<this.items.length;i++)if(i<t.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var t=new Array,e=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(t[e]=this.items[i],e++);return t},_getValidSelectionStart:function(t){for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(t){var e=this._selection(),s=this._getHiddenPrefixCount(),r=this._getVisibleItems(),a=e.start,n=-1;for(i=0;i<a;i++)i<r.length&&r[i].canEdit&&(n=i+s);if(-1==n&&e.length>0)for(a=e.end,i=0;i<a;i++)if(i<r.length&&r[i].canEdit){n=i+s;break}return n},_getEditableItemByIndex:function(t){for(k=0;k<this.items.length;k++)if(k>t&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var t=this._getVisibleItems();for(m=0;m<t.length;m++)if(t[m].character!=this.promptChar&&t[m].canEdit&&"0"!=t[m].character)return m;return-1},_getLastEditableItemIndex:function(){var t=this._getVisibleItems();for(m=t.length-1;m>=0;m--)if(t[m].character!=this.promptChar&&t[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?(this._setSelectionStart(i+1),i):(this._setSelectionStart(i),i);return this.numberInput.val().length},_handleBackspace:function(){var t=this._selection(),e=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-e,s=this._getFirstVisibleNonEmptyIndex(),r=!1;if(this.negative&&(r=!0,(s>=i+1||0==t.start)&&(this.setvalue("negative",!1),0==t.length))){this._setSelectionStart(t.start-1);t=this._selection()}if(i>=0){0==t.length&&-1!=i&&this._setSelection(i,i+1);var a=t.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;a&&(t=this._selection());this._deleteSelectedText();if(t.length<1||a?this._setSelectionStart(t.start):t.length>=1&&this._setSelectionStart(t.end),t.length==this.numberInput.val().length||r){var n=this._moveCaretToDecimalSeparator();this._setSelectionStart(n-1)}}else this._setSelectionStart(t.start)},_handleKeyDown:function(e,s){var r=this._selection(),a=e.ctrlKey||e.metaKey;if((8==s||46==s)&&a)return this.setDecimal(null),!1;if(this.rtl&&37==s){o=(n=e.shiftKey)?1:0;return n?this._setSelection(r.start+1-o,r.start+r.length+1):this._setSelection(r.start+1-o,r.start+1),!1}if(this.rtl&&39==s){var n=e.shiftKey,o=n?1:0;return n?this._setSelection(r.start-1,r.length+o+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(a&&97==s||a&&65==s)return!0;if(a&&120==s||a&&88==s)return this.selectedText=this._saveSelectedText(e),t.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(a&&99==s||a&&67==s)return this.selectedText=this._saveSelectedText(e),t.data(document.body,"jqxSelection",this.selectedText),!1;if(a&&122==s||a&&90==s)return!1;if(a&&118==s||a&&86==s||e.shiftKey&&45==s)return this._pasteSelectedText(),!1;if(r.start>=0&&r.start<this.items.length)l=String.fromCharCode(s),this.items[r.start];if(8==s)return this._handleBackspace(),!1;if(190==s||110==s)return this._moveCaretToDecimalSeparator(),!1;if(188==s){var h=this.numberInput.val();for(i=r.start;i<h.length;i++)if(h[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==t.jqx.browser.msie){var l=String.fromCharCode(s),u=parseInt(l);if(s>=96&&s<=105&&(u=s-96,s-=48),!isNaN(u))return this._insertKey(s),!1}if(46==s){var d=this._getVisibleItems();if(r.start<d.length){o=0==d[r.start].canEdit?2:1;if(0==r.start&&this.negative&&(this.setvalue("negative",!1),0==r.length&&this._setSelectionStart(0),0==(r=this._selection()).length))return!1;0==r.length&&this._setSelection(r.start+o,r.start+o+r.length),this._handleBackspace(),new Number(this.decimal)<1||r.start>this._getSeparatorPosition()?this._setSelectionStart(r.end+o):r.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(r.end+o)}return!1}if(38==s)return this.spinUp(),!1;if(40==s)return this.spinDown(),!1;27===s&&(this.setDecimal(this._savedValue),this._setSelectionStart(r.end),e.preventDefault());var c=this._isSpecialKey(s);return t.jqx.browser.mozilla&&(45!=s&&173!=s&&109!=s&&189!=s||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1))),!t.jqx.browser.mozilla||c},_isSpecialKey:function(t){return 8==t||9==t||13==t||35==t||36==t||37==t||39==t||27==t||46==t},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var t=this.numberInput[0],e=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:t.value.length,length:0};var s=this.numberInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);e=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:e,text:i.text}}catch(t){return{start:0,end:0,length:0}}},selectAll:function(){var t=this.numberInput;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(0,t[0].value.length);else{var e=t[0].createTextRange();e.collapse(!0),e.moveEnd("character",t[0].value.length),e.moveStart("character",0),e.select()}},10)},_setSelection:function(e,i){if(1!=this._disableSetSelection&&!t.jqx.mobile.isTouchDevice()&&1!=this.touchMode)try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(e,i);else{var s=this.numberInput[0].createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",e),s.select()}}catch(t){}},_setSelectionStart:function(e){this._setSelection(e,e),t.data(this.numberInput,"selectionstart",e)},resize:function(t,e){this.width=t,this.height=e,this._render(!1)},_render:function(e){var i=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),a=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.height(this.height),this.host.width(this.width);var n=this.host.width(),o=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(r)&&(r=1),isNaN(s)&&(s=1),isNaN(a)&&(a=1),isNaN(i)&&(i=1),this.numberInput.css("text-align",this.textAlign);var h=this.numberInput.css("font-size");""==h&&(h=13),this.numberInput.css("height",parseInt(h)+4+"px"),this.numberInput.css("width",n-2);var l=o-2*r-parseInt(h)-2;isNaN(l)&&(l=0),l<0&&(l=0),this.spinButtons&&this.spincontainer&&(n-=parseInt(this.spinButtonsWidth-2),t.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),n-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",n-6),this.numberInput.css("margin-right","2px"));var u=l/2;t.jqx.browser.msie&&t.jqx.browser.version<8&&(u=l/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(u)+"px"),this.numberInput.css("padding-bottom",Math.round(u)+"px"),void 0!=e&&1!=e||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(t){return void 0===t?this._value():(this.propertyChangedHandler(this,"value",this._value,t),this._refreshValue(),this)},_value:function(){return this.numberInput.val()},val:function(t){if((void 0===t||"object"==typeof t)&&null!==t)return this.getDecimal();if(null!==t){var e=t;(e=e.toString()).indexOf(this.symbol)>-1&&(e=e.replace(this.symbol,""));e=(e=function(t,e,i){var s=t;if(e==i)return t;for(var r=s.indexOf(e);-1!=r;)r=(s=s.replace(e,i)).indexOf(e);return s}(e,this.groupSeparator,"")).replace(this.decimalSeparator,".");for(var i="",s=0;s<e.length;s++){var r=e.substring(s,s+1);"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}e=(e=i).replace(/ /g,""),e=new Number(e),this.setDecimal(e)}else this.setDecimal(null)},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(t){var e=t;if("."!=this.decimalSeparator)if(null===t)this._setDecimal(t);else{var i=t;if("number"!=typeof t){var s=(t=t.toString()).indexOf(".");if(-1!=s)i=(r=t.substring(0,s))+"."+(a=t.substring(s+1)),-1!=r.indexOf("-")&&(r=r.substring(1)),t="advanced"!=this.inputMode?r+"."+a:r+this.decimalSeparator+a;else if(-1!=(s=t.indexOf(this.decimalSeparator))){var r=t.substring(0,s),a=t.substring(s+1);i=r+"."+a,-1!=r.indexOf("-")&&(r=r.substring(1)),t="advanced"!=this.inputMode?r+"."+a:r+this.decimalSeparator+a}}i<0?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(t)}else t<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===t?this._setDecimal(t):this._setDecimal(Math.abs(t));null==e&&this.numberInput.val("")},_setDecimal:function(t){if(this.allowNull||null!=t||(this.decimal=0,t=0),null==t)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,void(this.value=null);-1!=t.toString().indexOf("e")&&(t=new Number(t).toFixed(this.decimalDigits).toString()),this.clearDecimal();var e=t.toString(),i="",s="",r=!0;0==e.length&&(e="0");for(h=0;h<e.length;h++){if("number"==typeof t){if("."==e.substring(h,h+1)){r=!1;continue}}else if(e.substring(h,h+1)==this.decimalSeparator){r=!1;continue}r?i+=e.substring(h,h+1):s+=e.substring(h,h+1)}i.length>0&&(i=parseFloat(i).toString());var a=this.digits;a<i.length&&(i=i.substr(0,a));for(var n=0,o=this._getSeparatorPosition(),h=o+=this._getHiddenPrefixCount();h>=0;h--)h<this.items.length&&this.items[h].canEdit&&n<i.length&&(this.items[h].character=i.substring(i.length-n-1,i.length-n),n++);n=0;for(h=o;h<this.items.length;h++)this.items[h].canEdit&&n<s.length&&(this.items[h].character=s.substring(n,n+1),n++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(t).toFixed(this.decimalDigits);else{var l=t.toString().indexOf(this.decimalSeparator);if(l>0){var u=t.toString().substring(0,l)+"."+t.toString().substring(l+1);this.ValueString=new Number(u).toFixed(this.decimalDigits)}else this.ValueString=new Number(t).toFixed(this.decimalDigits)}"advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString)),(t=this.val())<this.min||t>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var t=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-t:this.items.length-t},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(t,e,i){i&&i.width&&i.height&&2==Object.keys(i).length&&t._render()},propertyChangedHandler:function(e,s,r,a){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==s&&(e.upbutton.removeClass(e.toThemeProperty("jqx-"+e.template)),e.downbutton.removeClass(e.toThemeProperty("jqx-"+e.template)),e.upbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e.downbutton.addClass(e.toThemeProperty("jqx-"+e.template))),("digits"==s||"groupSize"==s||"decimalDigits"==s)&&a<0)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==s&&e.numberInput.attr("placeholder",e.placeHolder),"theme"===s&&t.jqx.utilities.setTheme(r,a,e.host),"digits"==s&&a!=r&&(e.digits=parseInt(a)),"min"!=s&&"max"!=s||(t.jqx.aria(e,"aria-value"+s,a.toString()),e._refreshValue()),"decimalDigits"==s&&a!=r&&(e.decimalDigits=parseInt(a)),"decimalSeparator"==s||"digits"==s||"symbol"==s||"symbolPosition"==s||"groupSize"==s||"groupSeparator"==s||"decimalDigits"==s||"negativeSymbol"==s){var n=e.decimal;if("decimalSeparator"==s&&""==a&&(a=" "),r!=a){o=e._selection();e.items=new Array,e._initializeLiterals(),e.value=e._getString(),e._refreshValue(),e._setDecimal(n)}}if("rtl"==s&&(e.rtl?(e.spincontainer&&(e.spincontainer.css("float","right"),e.spincontainer.css("border-right-width","1px")),e.numberInput.css("float","right")):(e.spincontainer&&(e.spincontainer.css("float","right"),e.spincontainer.css("border-right-width","1px")),e.numberInput.css("float","left"))),"spinButtons"==s&&(e.spincontainer?(a?e.spincontainer.css("display","block"):e.spincontainer.css("display","none"),e._render()):e._spinButtons()),"touchMode"===s&&(e.inputMode="textbox",e.spinMode="simple",e.render()),"negative"==s&&"advanced"==e.inputMode){var o=e._selection(),h=0;a?(e.items[0].character=e.negativeSymbol[0],h=1):(e.items[0].character="",h=-1),e._refreshValue(),e.isInitialized&&e._setSelection(o.start+h,o.end+h)}if("decimal"==s&&(e.value=a,e.setDecimal(a)),"value"===s&&(e.value=a,e.setDecimal(a),e._raiseEvent(1,a)),"textAlign"==s&&(e.textAlign=a,e._render()),"disabled"==s&&(e.numberInput.attr("disabled",a),e.disabled?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),t.jqx.aria(e,"aria-disabled",a.toString())),"readOnly"==s&&(e.readOnly=a),"promptChar"==s){for(i=0;i<e.items.length;i++)e.items[i].character==e.promptChar&&(e.items[i].character=a);e.promptChar=a}"width"==s?(e.width=a,e._render()):"height"==s&&(e.height=a,e._render())}},_value:function(){return this.value},_refreshValue:function(){var t=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),t=this.value;for(var e="",i=0;i<this.items.length;i++){var s=this.items[i];s.canEdit&&s.character!=this.promptChar&&(e+=s.character),i==this.decimalSeparatorPosition&&(e+=".")}this.decimal=e;var r=!1;this.oldValue!==t&&(this.oldValue=t,this._raiseEvent(0,t),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(t),r&&this._raiseEvent(1,t)),null==t&&this.numberInput.val("")}}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxPanel","",{}),t.extend(t.jqx._jqxPanel.prototype,{defineInstance:function(){var i={width:null,height:null,disabled:!1,scrollBarSize:t.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return this===t.jqx._jqxPanel.prototype?i:(t.extend(!0,this,i),i)},createInstance:function(t){this.render()},render:function(){15!=t.jqx.utilities.scrollBarSize&&(this.scrollBarSize=t.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));var i=t("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var e=this.host.children();this._rtl=!1,e.length>0&&"rtl"==e.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner(i);var r=this.host.find("#verticalScrollBar");r[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var s=this.host.find("#horizontalScrollBar");s[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=t.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=t.data(this.hScrollBar[0],"jqxScrollBar").instance;var l=this;this.propertyChangeMap.disabled=function(t,i,e,r){l.vScrollBar.jqxScrollBar({disabled:l.disabled}),l.hScrollBar.jqxScrollBar({disabled:l.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=l.content[0].scrollWidth,this.contentHeight=l.content[0].scrollHeight,this.autoUpdate&&l._autoUpdate(),this.propertyChangeMap.autoUpdate=function(t,i,e,r){l.autoUpdate?l._autoUpdate():(clearInterval(l.autoUpdateId),l.autoUpdateId=null)},this.addHandler(t(window),"unload",function(){null!=l.autoUpdateId&&(clearInterval(l.autoUpdateId),l.autoUpdateId=null,l.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return t.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var i=this;1==this.touchMode&&t.jqx.mobile.setMobileSimulator(this.element),this.isTouchDevice()&&(t.jqx.mobile.touchScroll(this.element,i.vScrollInstance.max,function(t,e){if("hidden"!=i.vScrollBar.css("visibility")){r=i.vScrollInstance.value;i.vScrollInstance.setPosition(r+e)}if("hidden"!=i.hScrollBar.css("visibility")){var r=i.hScrollInstance.value;i.hScrollInstance.setPosition(r+t)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var i=t.jqx.mobile.isTouchDevice();return 1==this.touchMode?i=!0:0==this.touchMode&&(i=!1),i&&0!=this.touchModeStyle&&(this.scrollBarSize=t.jqx.utilities.touchScrollBarSize),i},append:function(t){null!=t&&(this.content.append(t),this._arrange())},setcontent:function(t){this.content[0].innerHTML=t,this._arrange();var i=this;setTimeout(function(){i._arrange()},100)},prepend:function(t){null!=t&&(this.content.prepend(t),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(i){null!=i&&(t(i).remove(),this._arrange())},_autoUpdate:function(){var t=this;this.autoUpdateId=setInterval(function(){var i=t.content[0].scrollWidth,e=t.content[0].scrollHeight,r=!1;t.contentWidth!=i&&(t.contentWidth=i,r=!0),t.contentHeight!=e&&(t.contentHeight=e,r=!0),r&&t._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var i=this;this.addHandler(this.vScrollBar,"valueChanged",function(t){i._render(i)}),this.addHandler(this.hScrollBar,"valueChanged",function(t){i._render(i)}),this.addHandler(this.host,"mousewheel",function(t){i.wheel(t,i)}),this.addHandler(this.wrapper,"scroll",function(t){0!=i.wrapper[0].scrollTop&&(i.wrapper[0].scrollTop=0),0!=i.wrapper[0].scrollLeft&&(i.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(t){i.focused=!1}),this.addHandler(this.host,"focus",function(t){i.focused=!0}),this.addHandler(this.host,"blur",function(t){i.focused=!1}),this.addHandler(this.host,"mouseenter",function(t){i.focused=!0}),t.jqx.utilities.resize(this.host,function(){t.jqx.isHidden(i.host)||i._arrange(!1)})},resize:function(t,i){this.width=t,this.height=i,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(t(window),"resize."+this.element.id)},wheel:function(i,e){var r=0;if(i.originalEvent&&t.jqx.browser.msie&&i.originalEvent.wheelDelta&&(r=i.originalEvent.wheelDelta/120),i||(i=window.event),i.wheelDelta?r=i.wheelDelta/120:i.detail&&(r=-i.detail/3),r){var s=e._handleDelta(r);return s||i.preventDefault&&i.preventDefault(),!s&&s}i.preventDefault&&i.preventDefault(),i.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var t=this.vScrollInstance;return t.value+t.largestep<=t.max?(t.setPosition(t.value+t.largestep),!0):t.value+t.largestep!=t.max&&(t.setPosition(t.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var t=this.vScrollInstance;return t.value-t.largestep>=t.min?(t.setPosition(t.value-t.largestep),!0):t.value-t.largestep!=t.min&&(t.setPosition(t.min),!0)},_handleDelta:function(t){if(this.focused){var i=this.vScrollInstance.value;if(t<0?this.scrollDown():this.scrollUp(),i!=this.vScrollInstance.value)return!1}return!0},_render:function(t){void 0==t&&(t=this);var i=t.vScrollInstance.value,e=t.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(e=0==this._rtl?t.hScrollInstance.max-e:-t.hScrollInstance.value),t.content.css({left:-e+"px",top:-i+"px"})},scrollTo:function(t,i){void 0!=t&&void 0!=i&&(this.vScrollInstance.setPosition(i),this.hScrollInstance.setPosition(t))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var i=this.scrollBarSize;return isNaN(i)&&(i=parseInt(i),isNaN(i)?i="17px":i+="px"),this.isTouchDevice()&&(i=t.jqx.utilities.touchScrollBarSize),i=parseInt(i)},_getScrollArea:function(){var i=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),t.jqx.browser.msie&&t.jqx.browser.version<10&&(i=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");r=parseInt(this.content[0].scrollWidth);t.each(this.content.children(),function(){r=Math.max(r,this.scrollWidth),r=Math.max(r,t(this).outerWidth())}),t.jqx.browser.msie&&t.jqx.browser.version<10&&this.content.css("left",i);e=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),t.jqx.browser.msie&&t.jqx.browser.version<9){e=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var e=parseInt(this.content[0].scrollHeight),r=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":e=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:r,height:e}},_arrange:function(i){!1!==i&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));var e=this._getScrollSize(),r=this.host.width(),s=this.host.height(),l=this._getScrollArea(),o=l.width,h=l.height,n=h-parseInt(Math.round(this.host.height())),a=o-parseInt(Math.round(this.host.width()));void 0!=this.horizontalScrollBarMax&&(a=this.horizontalScrollBarMax),void 0!=this.verticalScrollBarMax&&(n=this.verticalScrollBarMax);var c=function(t,i){i>5?(t.vScrollBar.jqxScrollBar({max:i}),t.vScrollBar.css("visibility","inherit")):(t.vScrollBar.jqxScrollBar("setPosition",0),t.vScrollBar.css("visibility","hidden"))},d=function(i,r){r>0?t.jqx.browser.msie&&t.jqx.browser.version<8&&r-10<=e?(i.hScrollBar.css("visibility","hidden"),i.hScrollBar.jqxScrollBar("setPosition",0)):(i.hScrollBar.jqxScrollBar({max:r+4}),i.hScrollBar.css("visibility","inherit")):(i.hScrollBar.css("visibility","hidden"),i.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.width(o),this.host.height(h),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(o),this.hScrollBar.css("visibility","hidden"),c(this,n),void this._arrangeScrollbars(e,o,s);case"verticalWrap":case"verticalwrap":return this.host.height(h),this.vScrollBar.css("visibility","hidden"),d(this,a),void this._arrangeScrollbars(e,r,s)}c(this,n);"hidden"!=this.vScrollBar.css("visibility")&&void 0==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&a>0||a>0)&&(a+=e+2),d(this,a),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:n+e+2}),this._arrangeScrollbars(e,r,s)},_arrangeScrollbars:function(i,e,r){var s="hidden"!=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(this.hScrollBar.height(i),this.hScrollBar.css({top:r-i-2-2+"px",left:"0px"}),this.hScrollBar.width(e-2+"px"),this.vScrollBar.width(i),this.vScrollBar.height(parseInt(r)-2+"px"),this.vScrollBar.css({left:parseInt(e)-parseInt(i)-2-2+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var l=s?parseInt(i)+"px":0;if("rtl"!=this.content.children().css("direction")){var o=!1;t.jqx.browser.msie&&t.jqx.browser.version<8&&(o=!0),o||this.content.css("padding-left",l)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(i)+3),this.bottomRight.height(parseInt(i)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:i+2+"px"})),this.hScrollBar.width(e-1*i-2-2+"px"),this.vScrollBar.height(parseInt(r)-2-i-2+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,t.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(t(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(i,e,r){if(void 0!=this.isInitialized&&1==this.isInitialized){var s=this.events[i],l=new t.Event(s);return l.previousValue=e,l.currentValue=r,l.owner=this,this.host.trigger(l)}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(t,i,e,r){t.isInitialized&&("rtl"==i&&(this.vScrollBar.jqxScrollBar({rtl:r}),this.hScrollBar.jqxScrollBar({rtl:r}),t._arrange()),t.updating||"scrollBarSize"!=i&&"width"!=i&&"height"!=i||e!=r&&t._arrange(),"touchMode"==i&&"auto"!=r&&t._updateTouchScrolling(),"theme"==i&&(t.host.removeClass(),t.host.addClass(this.toThemeProperty("jqx-panel")),t.host.addClass(this.toThemeProperty("jqx-widget")),t.host.addClass(this.toThemeProperty("jqx-widget-content")),t.host.addClass(this.toThemeProperty("jqx-rc-all")),t.vScrollBar.jqxScrollBar({theme:this.theme}),t.hScrollBar.jqxScrollBar({theme:this.theme}),t.bottomRight.removeClass(),t.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),t.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),t.content.removeClass(),t.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){t.jqx.isHidden(this.host)||this.refresh()},refresh:function(t){this._arrange()}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxPasswordInput","",{}),e.extend(e.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,changeType:null,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};return this===e.jqx._jqxPasswordInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;e._inDOM=document.body.contains(e.element),e.render()},render:function(){var t=this,o=e.jqx.browser.browser,n=e.jqx.browser.version;this._browserCheck="msie"!=o||"7.0"!=n&&"8.0"!=n,this.widgetID=t.element.id;if("password"!=this.element.getAttribute("type"))throw"Invalid input type. Please set the type attribute of the input element to password.";t._hidden=!0,t._setTheme(),t._setAttributes(),t._showPassword(),t._showStrength(),e.jqx.utilities.resize(this.host,function(){if(!t._inDOM){var e=t.element.parentNode;return t.element.nextSibling?e.insertBefore(t.icon,t.element.nextSibling):e.appendChild(t.icon),void(t._inDOM=!0)}t.element===document.activeElement&&(t._positionIcon(),t.showStrength&&t.host.jqxTooltip("close"))})},refresh:function(t){var o=this;t||(o.removeHandler(o.host,"change.passwordinput"+o.widgetID),o.removeHandler(o.host,"focus.passwordinput"+o.widgetID),o.removeHandler(o.host,"blur.passwordinput"+o.widgetID),o.removeHandler(o.host,"click.passwordinput"+o.widgetID),o.removeHandler(o.host,"keyup.passwordinput"+o.widgetID),o.removeHandler(o.icon,"mousedown.passwordinput"+o.widgetID),o.removeHandler(e(document),"mouseup.passwordinput"+o.widgetID),o.removeHandler(e(document),"mousedown.passwordinput"+o.widgetID),o._setAttributes(),o._setTheme(),o._showPassword(),o._showStrength())},val:function(t){var o=this,n=o.element.value,s="placeholder"in o.element;if(e.isEmptyObject(t)&&""!==t)return s||n!==o.placeHolder||(n=""),n;if(!s||t!==n){if(!s){if(""===t)return void(n!==o.placeHolder&&(o.element.value=o.placeHolder,o.element.setAttribute("type","text")));o.element.setAttribute("type","password")}o.element.value=t,!0===o.showStrength&&o._evaluateStrength()}},propertyChangedHandler:function(t,o,n,s){"theme"!==o?"disabled"!=o?"placeHolder"==o?this._browserCheck&&("placeholder"in this.element?t.element.setAttribute("placeholder",t.placeHolder):""===t.element.value?(t.element.setAttribute("type","text"),t.element.value=s):t.element.value==n&&(t.element.value=s)):this.refresh():t.disabled?(t.element.setAttribute("disabled","disabled"),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeAttr("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))):e.jqx.utilities.setTheme(n,s,t.host)},resize:function(e,t){this.width=e,this.height=t,this.element.style.width=this._toPx(e),this.element.style.height=this._toPx(t)},_setAttributes:function(){var e=this,t=e.element;t.style.width=e._toPx(e.width),t.style.height=e._toPx(e.height),e.maxLength&&t.setAttribute("maxlength",e.maxLength),e.minLength&&t.setAttribute("minLength",e.minLength),e.placeHolder&&e._browserCheck&&("placeholder"in e.element?t.setAttribute("placeholder",e.placeHolder):""===t.value&&(t.setAttribute("type","text"),t.value=e.placeHolder)),e.disabled?(t.setAttribute("disabled","disabled"),t.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")):(t.removeAttribute("disabled"),e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")));var o=!1;e.addHandler(t,"change.passwordinput"+e.widgetID,function(t){o||(t.preventDefault(),t.stopPropagation(),o=!0,e._raiseEvent(),o=!1)}),e.addHandler(t,"click.passwordinput"+e.widgetID,function(){e.showPasswordIcon&&e.icon&&(e.icon.style.display="inline",e._positionIcon())}),e.interval=null,e.addHandler(t,"keydown.passwordinput"+e.widgetID,function(){if(e.changeType="keyboard",e.showPasswordIcon&&e.icon){e.interval&&clearInterval(e.interval);var t=0;e.interval=setInterval(function(){"none"!=e.icon.style.display?(e._positionIcon(),++t>5&&clearInterval(e.interval)):clearInterval(e.interval)},100)}}),e.addHandler(t,"focus.passwordinput"+e.widgetID,function(){e._focused=!0,t.className+=" "+e.toThemeProperty("jqx-fill-state-focus"),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||t.value!=e.placeHolder||(t.value="",e._hidden&&t.setAttribute("type","password")),e.val().length>0&&e.showStrength&&e.host.jqxTooltip("content")&&e.host.jqxTooltip("open"),e.showPasswordIcon&&e.icon&&(e.icon.style.display="inline",e._positionIcon())}),e.addHandler(t,"blur.passwordinput"+e.widgetID,function(){e._focused=!1,e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||""!==t.value||(e.element.value=e.placeHolder,e.element.setAttribute("type","text")),e.showPasswordIcon&&e._browserCheck&&(!1===e.rtl?e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-ltr")):e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),e.showStrength&&e.host.jqxTooltip("close"),e.showPasswordIcon&&e.icon&&(e.icon.style.display="none")})},destroy:function(){this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var e=this,t="jqx-widget jqx-widget-content jqx-input jqx-rc-all";e.rtl?(t+=" jqx-rtl",e.element.style.direction="rtl"):(e.host.removeClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="ltr"),e.element.className+=" "+e.toThemeProperty(t)},_showPassword:function(){if(this.showPasswordIcon&&this._browserCheck){var t=this,o=document.createElement("span"),n=".passwordinput"+t.widgetID;o.setAttribute("tabindex",-1),o.setAttribute("hasfocus",!1),o.setAttribute("title",t.localization.showPasswordString),o.style.position="absolute",o.style.display="none",o.className=t.toThemeProperty("jqx-passwordinput-password-icon");var s=t.element.parentNode;s&&(t.element.nextSibling?s.insertBefore(o,t.element.nextSibling):s.appendChild(o)),t.icon=o,t._positionIcon();var r=function(){t.element.setAttribute("type","password"),t._hidden=!0},i=function(){!1===t._hidden?r():t._hidden&&(t.element.setAttribute("type","text"),t._hidden=!1)};e.jqx.mobile.isTouchDevice()?t.addHandler(t.icon,"mousedown"+n,function(){return i(),!1}):(t.addHandler(t.icon,"mousedown"+n,function(){return i(),!1}),t.addHandler(e(document),"mouseup"+n,function(){return r(),!1}),t.addHandler(e(document),"mousedown"+n,function(){t._focused&&r()}))}},_positionIcon:function(){var t=this.host.offset(),o=this.element.offsetWidth,n=this.element.offsetHeight,s=e(this.icon);this.rtl?s.offset({top:parseInt(t.top+n/2-5,10),left:t.left+2}):s.offset({top:parseInt(t.top+n/2-5,10),left:t.left+o-18})},_showStrength:function(){var e=this;if(e.showStrength){if(!e.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var t,o=e.widgetID+"Strength",n=o+"Value",s=o+"Indicator";if(e.strengthTypeRenderer){var r=e.element.value;"placeholder"in e.element||!e._browserCheck||r!=e.placeHolder||(r=""),e._countCharacters();var i=e.localization.tooShort;t=e.strengthTypeRenderer(r,{letters:e.letters,numbers:e.numbers,specialKeys:e.specials},i)}else t='<div style="width: 220px;"><div><span style="font-weight: bold;">'+e.localization.passwordStrengthString+': </span><span id="'+n+'"></span></div><div id="'+s+'"></div></div>';if(e.host.jqxTooltip({theme:e.theme,position:e.showStrengthPosition,content:t,trigger:"none",autoHide:!1,rtl:e.rtl}),!e.strengthTypeRenderer){var l=document.getElementById(s);document.getElementById(n).innerHTML=e.localization.tooShort,l.className+=" jqx-passwordinput-password-strength-inicator",l.style.backgroundColor=e.strengthColors.tooShort,!1===e.rtl?l.style.float="left":l.style.float="right"}e._checkStrength()}},_checkStrength:function(){var e=this;e.addHandler(e.host,"keyup.passwordinput"+e.widgetID,function(){e._evaluateStrength()})},_raiseEvent:function(){var t=new e.Event("change");return t.args={type:this.changeType},this.changeType=null,t.owner=this,this.host.trigger(t)},_evaluateStrength:function(){var t=this,o=t.element.value,n=o.length;t._countCharacters(),n>0&&t.showStrength&&!t.host.jqxTooltip("opened")&&t.host.jqxTooltip("open");var s,r=t.letters+t.numbers+2*t.specials+t.letters*t.numbers/2+n;s=n<8?t.localization.tooShort:r<20?t.localization.weak:r<30?t.localization.fair:r<40?t.localization.good:t.localization.strong;var i;if(t.strengthTypeRenderer)i=t.strengthTypeRenderer(o,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},s),t.host.jqxTooltip({content:i});else{t.passwordStrength&&(i=t.passwordStrength(o,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},s),e.each(t.localization,function(){if(i==this)return s=i,!1})),document.getElementById(t.widgetID+"StrengthValue").innerHTML=s;var l,a,d=document.getElementById(t.widgetID+"StrengthIndicator");switch(s){case t.localization.tooShort:l="20%",a=t.strengthColors.tooShort;break;case t.localization.weak:l="40%",a=t.strengthColors.weak;break;case t.localization.fair:l="60%",a=t.strengthColors.fair;break;case t.localization.good:l="80%",a=t.strengthColors.good;break;case t.localization.strong:l="100%",a=t.strengthColors.strong}d.style.width=l,d.style.backgroundColor=a}},_countCharacters:function(){var e=this;e.letters=0,e.numbers=0,e.specials=0;for(var t=e.element.value,o=t.length,n=0;n<o;n++){var s=t.charAt(n),r=t.charCodeAt(n);r>64&&r<91||r>96&&r<123||r>127&&r<155||r>159&&r<166?e.letters+=1:!1!==isNaN(s)?-1=="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=".indexOf(s)||(e.specials+=1):e.numbers+=1}},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var o={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};return this===e.jqx._jqxPopover.prototype?o:(e.extend(!0,this,o),o)},createInstance:function(){var e=this;e._content=e.host.children()},render:function(){var o=this,t=o.element.id;if(o._content.detach(),o._toggleElement=e(o.selector),0===o._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+o.selector+'".');if(null===o._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var r=e('<div id="'+t+'" class="'+o.toThemeProperty("jqx-popover")+'"><div class="'+o.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+o.toThemeProperty("jqx-popover-title")+'"></div><div class="'+o.toThemeProperty("jqx-popover-content")+'"></div></div>');e("body").append(r);var n=o.host.data();o.host.detach(),o.host=r,o.host.data(n),o.element=r[0],o.element.id=t,o._popover=e("#"+t);var p=o._popover.find(".jqx-popover-title");p.append(o.title);var s=o._popover.find(".jqx-popover-content");if(s.append(o._content),o._popover.hide(),o._removeHandlers(),o._addHandlers(),o._popover.addClass(o.position),p.addClass(o.toThemeProperty("jqx-widget-header")),o._popover.addClass(o.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),o.showArrow?(o._popover.addClass(o.toThemeProperty("jqx-popover-arrow-"+o.position)),o._popover.find(".jqx-popover-arrow").css("display","block")):o._popover.find(".jqx-popover-arrow").css("display","none"),o.rtl&&(p.addClass(o.toThemeProperty("jqx-rtl")),p.css("direction","rtl"),s.css("direction","rtl")),o.showCloseButton){var i=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),a=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');i.append(a),p.append(i),p.css("min-height","16px"),i.addClass(o.toThemeProperty("jqx-popover-close-button")),o.closeButton=a,o.rtl&&i.addClass(o.toThemeProperty("jqx-popover-close-button-rtl"))}if(o.arrowOffsetValue)if("bottom"==o.position||"top"==o.position){var l=o._popover.find(".jqx-popover-arrow").css("margin-left");o._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(l)+o.arrowOffsetValue)}else{var d=o._popover.find(".jqx-popover-arrow").css("margin-top");o._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(d)+o.arrowOffsetValue)}(o.width||o.height)&&(o._popover.css("width",o.width),o._popover.css("height",o.height))},refresh:function(e){this.render()},destroy:function(){var e=this;0!==e.length&&(e._removeHandlers(),e._popover.remove(),e._removeModalBackground())},propertyChangedHandler:function(e,o,t,r){this.render()},_stickToToggleElement:function(){var e=this;e._popover.css("left","0px"),e._popover.css("top","0px");var o=e._toggleElement,t=o.offset(),r=o.outerHeight(),n=o.outerWidth(),p=e._popover.height(),s=e._popover.width();switch(e.position){case"left":e._popoverTop=t.top-p/2+r/2,e._popoverLeft=t.left-e._popover.outerWidth();break;case"right":e._popoverTop=t.top-p/2+r/2,e._popoverLeft=t.left+n;break;case"top":e._popoverTop=t.top-e._popover.outerHeight(),e._popoverLeft=t.left-s/2+n/2;break;case"bottom":e._popoverTop=t.top+r,e._popoverLeft=t.left-s/2+n/2}var i=e.offset?parseFloat(e.offset.left):0,a=e.offset?parseFloat(e.offset.top):0;e._popover.css("top",a+e._popoverTop),e._popover.css("left",i+e._popoverLeft)},open:function(){function e(){t._popover.show(),t._raiseEvent("0"),t._isOpen=!0}function o(){t.initContent&&!1===t._init&&(t.initContent(),t._init=!0,t._stickToToggleElement())}var t=this;if(t._stickToToggleElement(),!0===t._ie7)return e(),void o();switch(t.animationType){case"fade":t._popover.fadeIn(t.animationOpenDelay,function(){t._raiseEvent("0"),o(),t._isOpen=!0});break;case"none":e(),o()}t._makeModalBackground()},close:function(){function e(){o._popover.hide(),o._raiseEvent("1"),o._isOpen=!1}var o=this;if(o._isOpen)if(!0!==o._ie7){switch(o.animationType){case"fade":o._popover.fadeOut(o.animationCloseDelay,function(){o._raiseEvent("1"),o._isOpen=!1});break;case"none":e()}o._removeModalBackground()}else e()},_raiseEvent:function(o,t){void 0===t&&(t={owner:null});var r=this.events[o];t.owner=this;var n=new e.Event(r);return n.owner=this,n.args=t,n.preventDefault&&n.preventDefault(),this._popover.trigger(n)},_makeModalBackground:function(){var o=this;!0===o.isModal&&(o.modalBackground=e("<div></div>"),o.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(o.modalBackground),e(document.body).addClass(o.toThemeProperty("jqx-unselectable")),o.host.addClass(o.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){var o=this;!0===o.isModal&&void 0!==o.modalBackground&&(o.modalBackground.remove(),e(document.body).removeClass(o.toThemeProperty("jqx-unselectable")),o.host.removeClass(o.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var o=this,t=o.element.id;o.addHandler(e(document),"keydown.jqxPopover"+t,function(e){27==e.keyCode&&o.close()}),o.addHandler(e(document),"click.jqxPopover"+t,function(t){o.closeButton&&t.target==o.closeButton[0]&&o.close(),!0===o.autoClose&&(t.target==o.element||e(t.target).ischildof(o._popover)||o.isModal||o.close())}),o.addHandler(e(window),"resize.jqxPopover"+t,function(e){"none"!=o.element.style.display&&o._stickToToggleElement()}),o.selector&&o.addHandler(o._toggleElement,"click.jqxPopover"+t,function(e){e.stopPropagation(),"none"!=o.host.css("display")?o.close():o.open()})},_removeHandlers:function(){var o=this,t=o.element.id;o.removeHandler(e(document),"click.jqxPopover"+t),o.selector&&o.removeHandler(o._toggleElement,"click.jqxPopover"+t),o.removeHandler(e(document),"keydown.jqxPopover"+t),o.removeHandler(e(window),"resize.jqxPopover"+t)}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxProgressBar","",{}),t.extend(t.jqx._jqxProgressBar.prototype,{defineInstance:function(){var e={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===t.jqx._jqxProgressBar.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(e){var i=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),t.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):(void 0==this.width||isNaN(this.width),this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):(void 0==this.height||isNaN(this.height),this.host.height(this.height)),this.valueDiv=t("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=t("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=t("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),t.jqx.utilities.resize(this.host,function(){i.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var t="vertical"==this.orientation,e=this.colorRanges,i=e.length,s=0;s<i;s++){var h=e[s].stop,a=e[s].color;this._createColorElements(h,a,t,i-s,s)}},_refreshColorElements:function(){for(var t=this.host.outerWidth(),e=this.host.outerHeight(),i="vertical"==this.orientation,s=0;s<this.colorRanges.length;s++){var h=this.colorRanges[s].element;if(!h)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var a=this.colorRanges[s].stop;a>Math.min(this.max,this.value)&&(a=Math.min(this.max,this.value));var r=100*(a-this.min)/(this.max-this.min);size=i?e*r/100:t*r/100,size+="px",i?(h.css("height",size),"reverse"==this.layout?h.css("bottom",0):h.css("top",0)):(h.css("width",size),(this.rtl||"reverse"==this.layout)&&h.css("right","0px"))}},_createColorElements:function(e,i,s,h,a){var r;e>Math.min(this.max,this.value)&&(e=Math.min(this.max,this.value));var o=100*e/this.max;this.host.width(),this.host.height();r=s?this.host.outerHeight()*o/100:this.host.outerWidth()*o/100,r+="px";var n=t(this.valueDiv).parent()[0];if(n.style.position="relative",s=s||!1)(l=t("<div/>")).attr("class","jqx-progressbar-range"),l.css("width","100%"),l.css("height",r),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",h),"reverse"==this.layout?l.css("bottom",0):l.css("top",0),l.appendTo(n);else{var l=t("<div/>");l.attr("class","jqx-progressbar-range"),l.css("width",r),l.css("height","100%"),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",h),l.css("top","0px"),this.rtl&&l.css("right","0px"),l.appendTo(n)}this.colorRanges[a].element=l},resize:function(t,e){this.width=t,this.height=e,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(e,i,s){if(void 0!=this.isInitialized&&1==this.isInitialized){var h=this.events[e],a=new t.Event(h);return a.previousValue=i,a.currentValue=s,a.owner=this,this.host.trigger(a)}},actualValue:function(e){return void 0===e?this._value():(t.jqx.aria(this,"aria-valuenow",e),t.jqx.setvalueraiseevent(this,"value",e),this._value())},val:function(t){return 0==arguments.length||"object"==typeof t?this.actualValue():this.actualValue(t)},propertiesChangedHandler:function(t,e,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(t.host.width(i.width),t.host.height(i.height),t.refresh())},propertyChangedHandler:function(e,i,s,h){if(this.isInitialized&&s!=h&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){var a=this;"colorRanges"==i&&(e.host.find(".jqx-progressbar-range").remove(),e._addRanges()),"min"==i&&e.value<h?e.value=h:"max"==i&&e.value>h&&(e.value=h),"value"===i&&void 0!=a.value&&(a.value=h,a.oldValue=s,t.jqx.aria(e,"aria-valuenow",h),(h<a.min||h>a.max)&&a._raiseevent(1,s,h),a.refresh()),"theme"==i&&t.jqx.utilities.setTheme(s,h,e.host),"renderText"==i||"orientation"==i||"layout"==i||"showText"==i||"min"==i||"max"==i?a.refresh():"width"==i&&void 0!=a.width?void 0==a.width||isNaN(a.width)||(a.host.width(a.width),a.refresh()):"height"==i&&void 0!=a.height&&(void 0==a.height||isNaN(a.height)||(a.host.height(a.height),a.refresh())),"disabled"==i&&a.refresh()}},_value:function(){var t=this.value;if("number"!=typeof t){var e=parseInt(t);t=isNaN(e)?0:e}return Math.min(this.max,Math.max(this.min,t))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(e){var i=t("<span>"+e+"</span>");t(this.host).append(i);var s=i.width();return i.remove(),s},_textheight:function(e){var i=t("<span>"+e+"</span>");t(this.host).append(i);var s=i.height();return i.remove(),s},_initialRender:!0,refresh:function(e){if(!0!==e){var i=this.actualValue(),s=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t(this.element.children[0]).show(),!isNaN(i)&&!isNaN(s)){this.oldValue!==i&&(this._raiseevent(0,this.oldValue,i),this._raiseevent(3,this.oldValue,i),this.oldValue=i);var h=this.oldValue,a=this.host.outerHeight(),r=this.host.outerWidth();null!=this.width&&(r=parseInt(this.width)),null!=this.height&&(a=parseInt(this.height)),this._refreshColorElements();var o=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight());isNaN(s)&&(s=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")));var n=this;try{var l=this.element.children[0];if(t(l)[0].style.position="relative","horizontal"==this.orientation){t(l).toggle(i>=this.min);var r=this.host.outerWidth()*s/100,d=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(t(l)[0].style.left=this.host.width()+"px",t(l)[0].style.width=0),d=this.host.outerWidth()-r),t(l).stop(),t(l).animate({width:r,left:d+"px"},this.animationDuration,function(){n._value()===n.max&&n._raiseevent(2,h,n.max)})}else{t(l).toggle(i>=this.min);var a=this.host.height()*s/100,v=0;"reverse"==this.layout&&(this._initialRender&&(t(l)[0].style.top=this.host.height()+"px",t(l)[0].style.height=0),v=this.host.height()-a),t(l).stop(),t(l).animate({height:a,top:v+"px"},this.animationDuration,function(){var e=n._percentage();isNaN(e)&&(e=0),e.toFixed(0)==n.min&&(t(l).hide(),n._value()===n.max&&n._raiseevent(2,h,n.max))})}}catch(t){}this._initialRender=!1,this.feedbackElement.html(s.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(s.toFixed(0)+"%",s)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),this.colorRanges.length>0&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var u=this.feedbackElement.height(),p=this.feedbackElement.width(),c=Math.floor(o-parseInt(p)/2);this.feedbackElement.css({left:c,"margin-top":-parseInt(u)/2+"px"})}}}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxRadioButton","",{}),e.extend(e.jqx._jqxRadioButton.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,changeType:null,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxRadioButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this;t._createFromInput("RadioButton"),t.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};i.field.value&&(s.value=i.field.value),i.field.checked&&(s.checked=!0),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var h=i.element.nextSibling,a=!1;!h||"#text"!=h.nodeName&&"span"!=h.nodeName||(a=!0);var o=0,r=e("<div></div>",s);if(a){r.append(h);var d=e("<span>"+e(h).text()+"</span>");d.appendTo(e(document.body)),o+=d.width(),d.remove()}r[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+o+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(r);var n=i.host.data();if(i.host=r,i.host.data(n),i.element=r[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var c=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=c}}},render:function(){this.setSize();var t=this;this.propertyChangeMap.width=function(e,i,s,h){t.setSize()},this.propertyChangeMap.height=function(e,i,s,h){t.setSize()},this.radiobutton&&this.radiobutton.remove(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",s=Math.floor((parseInt(this.boxSize)-13)/2),h=s;s+="px",h+="px";var a=parseInt(this.boxSize)/2+"px";"13px"!=this.boxSize?this.radiobutton=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+s+"; top: "+h+'; width: 13px; height: 13px;"></span></div></div>'):this.radiobutton=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+a+"; height: "+a+';"></span></div></div>'),this.host.attr("role","radio"),this.host.prepend(this.radiobutton),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.radiobutton[0].firstChild.firstChild),this.box=this.radiobutton,this._supportsRC=!0,e.jqx.browser.msie&&e.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var o=this.element.getAttribute("checked");"checked"!=o&&"true"!=o&&1!=o||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),e.jqx.aria(this),this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.setSize()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var e=this;this.addHandler(this.box,"click",function(t){if(!e.disabled&&!e.enableContainerClick)return e.changeType="mouse",e.toggle("click"),t.preventDefault(),!1}),this.addHandler(this.host,"keydown",function(t){if(!e.disabled&&!e.locked&&32==t.keyCode)return e.changeType="keyboard",e.toggle("click"),t.preventDefault(),!1}),this.addHandler(this.host,"click",function(t){if(!e.disabled&&e.enableContainerClick)return e.changeType="mouse",e.toggle("click"),t.preventDefault(),!1}),this.addHandler(this.host,"selectstart",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"mouseup",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"focus",function(t){if(!e.disabled&&e.enableContainerClick&&!e.locked)return e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1}),this.addHandler(this.host,"blur",function(t){if(!e.disabled&&e.enableContainerClick&&!e.locked)return e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1}),this.addHandler(this.host,"mouseenter",function(t){if(!e.disabled&&e.enableContainerClick&&!e.locked)return e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1}),this.addHandler(this.host,"mouseleave",function(t){if(!e.disabled&&e.enableContainerClick&&!e.locked)return e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1}),this.addHandler(this.box,"mouseenter",function(){e.disabled||e.enableContainerClick||(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){e.disabled||e.enableContainerClick||(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(e){return 0==arguments.length||"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check("api"),"false"==e&&this.uncheck("api"),""==e&&this.indeterminate("api")):(1==e&&this.check("api"),0==e&&this.uncheck("api"),null==e&&this.indeterminate("api")),this.checked)},check:function(t){this.checked=!0;var i=this;this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.browser.msie?this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")):(this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var s=e.find(".jqx-radiobutton");if(null==this.groupName&&(this.groupName=""),e.each(s,function(){e(this).jqxRadioButton("groupName")==i.groupName&&this!=i.element&&e(this).jqxRadioButton("uncheck","api")}),this._raiseEvent("0"),this._raiseEvent("3",{type:t,checked:!0}),0==this.checkMark.height()){h=parseInt(this.boxSize)/2;this.checkMark.height(h),this.checkMark.width(h)}else if("13px"!=this.boxSize){var h=parseInt(this.boxSize)/2;this.checkMark.height(h),this.checkMark.width(h),this.checkMark.css("margin-left",1+h/4),this.checkMark.css("margin-top",1+h/4)}this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(t){var i=this.checked;this.checked=!1;var s=this;e.jqx.browser.msie?s.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){s.checkMark.removeClass()})),i&&(this._raiseEvent("1"),this._raiseEvent("3",{type:t,checked:!1})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(t){var i=this.checked;this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=i&&(this._raiseEvent("2"),this._raiseEvent("3",{type:t,checked:null})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined")},toggle:function(e){if(!this.disabled&&!this.locked){var t=this.checked;1==this.checked?this.checked=!this.hasTreeStates||null:this.checked=!0,t!=this.checked&&this.updateStates(e),this.input.val(this.checked)}},updateStates:function(e){this.checked?this.check(e):0==this.checked?this.uncheck(e):null==this.checked&&this.indeterminate(e)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(t,i){var s=this.events[t],h=new e.Event(s);h.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,h.args=i;try{var a=this.host.trigger(h)}catch(e){}return a},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,s,h){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if(i!=this.enableContainerClick||this.disabled||this.locked||(h?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==i&&(h?(t.box.addClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"checked"==i)switch(h){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==i&&e.jqx.utilities.setTheme(s,h,this.host),"disabled"==i&&(h?this.disable():this.enable())}}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxRangeSelector","",{}),e.extend(e.jqx._jqxRangeSelector.prototype,{defineInstance:function(){var t={width:400,height:100,min:0,max:100,range:{from:0,to:1/0,min:0,max:1/0},majorTicksInterval:10,minorTicksInterval:1,showMajorTicks:!0,showMinorTicks:!1,snapToTicks:!0,labelsFormat:null,markersFormat:null,showLabels:!0,labelsOnTicks:!0,markersPosition:"top",labelsFormatFunction:null,groupLabelsFormatFunction:null,markersFormatFunction:null,showGroupLabels:!1,showMarkers:!0,resizable:!0,moveOnClick:!0,disabled:!1,rtl:!1,padding:"auto",events:["change"]};return this===e.jqx._jqxRangeSelector.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),!e.jqx.dataAdapter)throw new Error("jqxRangeSelector: Missing reference to the following module: 'jqxdata.js'.");var r=e.jqx.isHidden(this.host);this.render();var s=this.host.width(),a=this.host.height();e.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();i.range=i.getRange(),r?(i.refresh(),r=!1):s==e&&a==t||i.refresh(),s=i.host.width(),a=i.host.height()})},render:function(){(this.host.children().length>1||this.rangeSelector)&&(this._removeHandlers(),this.rangeSelector&&this.rangeSelector.remove()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-rangeselector")),this.host.children(":eq(0)").addClass(this.toThemeProperty("jqx-rangeselector-content")),this._id=this.element.id,"string"==typeof this.min||this.min instanceof Date?this._dataType="date":this._dataType="number",this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider()},refresh:function(e){1!=e&&(this.host.children(".jqx-rangeselector-ticks-container").remove(),this._removeHandlers(),this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider())},destroy:function(){this._removeHandlers(),this.host.remove()},setRange:function(e,t){if(e>t)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var i=this._getValue();if(i.from!=e||i.to!=t){var r="The set values are in the wrong format. Please set "+("number"==this._dataType?"numeric":"date")+" values.";if("string"==typeof e||e instanceof Date){if("number"==this._dataType)throw new Error(r)}else if("date"==this._dataType)throw new Error(r);e=this._validateInput(e),t=this._validateInput(t),e>this._max&&(e=this._max),e<this._min&&(e=this._min),t>this._max&&(t=this._max),t<this._min&&(t=this._min);var s=t-e;s>this._range._max?t=e+this._range._max:s<this._range._min&&(t=e+this._range._min);var a=this._valuesArray.indexOf(e),o=this._valuesArray.indexOf(t),h=this._ticksArray[a],n=this._ticksArray[o],l=Math.abs(n-h);this.slider[0].style.width=l+"px";var d=this.rtl?n:h;if(this.slider[0].style.left=d,this._moveSlider(d),"date"==this._dataType)var e=new Date(e),t=new Date(t);this._raiseEvent("0",{type:null,from:e,to:t})}},val:function(e){if(0==arguments.length)return this.getRange();void 0!=e.from&&this.setRange(e.from,e.to)},getRange:function(){return this._getValue()},propertyChangedHandler:function(t,i,r,s){switch(i){case"showMinorTicks":1==s?e("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","visible"):e("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","hidden");break;case"showMarkers":var a=e("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");1==s?a.css("visibility","visible"):a.css("visibility","hidden");break;default:this.refresh()}},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;try{var a=this.host.trigger(s)}catch(e){}return a},_setSize:function(){this.host.width(this.width),this.host.height(this.height)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_scale:function(){var e=this.host.width(),t=this._max-this._min;this._unitPerPixel=parseFloat((t/e).toFixed(4)),this._pixelPerUnit=e/t,this._minWidth=this._roundNumber(this._range._min/this._unitPerPixel),this._maxWidth=this._roundNumber(this._range._max/this._unitPerPixel),this._minWidth=parseInt(this._minWidth),this._maxWidth=parseInt(this._maxWidth),"number"==this._dataType&&(this._majorTicksCount=t/this.majorTicksInterval,this._majorTicksCount=Math.floor(this._majorTicksCount)+1,this._majorTicksDistance=parseInt(this._roundNumber(e/(t/this.majorTicksInterval))),this._unitsCount=t/this.minorTicksInterval,this._unitsCount=Math.floor(this._unitsCount)+1,this._unitsDistance=parseInt(this._roundNumber(e/(t/this.minorTicksInterval)))),this._addTicks()},_addTicks:function(){this.host.append("<div id='"+this._id+"TicksContainer' class='jqx-rangeselector-ticks-container'></div>"),this.rangeSelector=e("#"+this._id+"TicksContainer"),this._majorTicksArray=new Array,this._ticksArray=new Array,this._valuesArray=new Array;var t=new String;e("#"+this._id+"TicksContainer").append("<div id='labelPlaceholder' style='visibility: hidden; position: absolute;'></div>");var i=this.rangeSelector.height();t="number"==this._dataType?this._addNumericTicks(i):this._addDateTicks(i);var r=0;this.showLabels&&(r+=e("#labelPlaceholder").outerHeight()+6),"number"!=this._dataType&&this.showGroupLabels&&(r+=e("#labelPlaceholder").outerHeight()+6),"auto"==this.padding&&this.host.css("padding-bottom",r),e("#labelPlaceholder").remove(),e("#"+this._id+"TicksContainer").append(t),this._ticksArray.sort(function(e,t){return e-t});for(s=1;s<this._ticksArray.length;s++)this._ticksArray[s]=this._roundNumber(this._ticksArray[s]);if(this._valuesArray.sort(function(e,t){return e-t}),"number"==this._dataType)for(s=1;s<this._valuesArray.length;s++)this._valuesArray[s]=this._roundNumber(this._valuesArray[s],"marker",!0);for(var s=1;s<this._ticksArray.length;s++)this._ticksArray[s-1]==this._ticksArray[s]&&(this._ticksArray.splice(s,1),this._valuesArray.splice(s,1));this.rtl&&(this._valuesArray=this._valuesArray.reverse())},_addNumericTicks:function(t){for(var i=this,r=new String,s=0,a=this._min,o=this._max,h=0;h<this._majorTicksCount;h++){v=this._id+"LabelTick"+(h+1);h==this._majorTicksCount-1&&(s=this.host.width());var n=i.showMajorTicks?"visible":"hidden";r+="<div id='"+v+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+n+"; left: "+s+"px;'></div>",this._ticksArray.push(s),this._majorTicksArray.push(s);var l=this._id+"Label"+(h+1),d=a;this._valuesArray.push(parseFloat(d.toFixed(4))),i.rtl&&(d=o),d=this._formatOutput(d,this.labelsFormat,this.minorTicksInterval>=1?0:2,"label"),e("#labelPlaceholder").html(d);var u=e("#labelPlaceholder").width(),m=i.showLabels?"visible":"hidden";i.labelsOnTicks&&(r+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+m+"; left: "+(s-u/2)+"px; top: "+t+"px;'>"+d+"</div>");var _=s;a+=this.majorTicksInterval,o-=this.majorTicksInterval;s=(a-i._min)/i._unitPerPixel;if(s=parseInt(s),!this.labelsOnTicks&&h<this._majorTicksCount-1){var c=Math.abs(_-s);r+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+m+"; left: "+(_+c/2-u/2)+"px; top: "+t+"px;'>"+d+"</div>"}}for(var s=0,f=this.showMinorTicks?"visible":"hidden",a=this._min,h=0;h<this._unitsCount;h++){var v=this._id+"MinorTick"+(h+1);h==this._unitsCount-1&&(s=this.host.width()),r+="<div id='"+v+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+f+"; left: "+s+"px;'></div>";var g=a;-1===this._valuesArray.indexOf(parseFloat(g.toFixed(4)))&&(this._valuesArray.push(parseFloat(g.toFixed(4))),this._ticksArray.push(s));s=((a+=this.minorTicksInterval)-i._min)/i._unitPerPixel;s=parseInt(s)}return r},_getMillisecondsByInterval:function(e){var t={};return"year"==e||e.years?(t.divisor=e.years?e.years:1,31536e6*t.divisor):"month"==e||e.months?(t.divisor=e.months?e.months:1,2592e6*t.divisor):"week"==e||e.weeks?(t.divisor=e.weeks?e.weeks:1,6048e5*t.divisor):"day"==e||e.days?(t.divisor=e.days?e.days:1,864e5*t.divisor):"hour"==e||e.hours?(t.divisor=e.hours?e.hours:1,36e5*t.divisor):"minute"==e||e.minutes?(t.divisor=e.minutes?e.minutes:1,60*t.divisor*1e3):"second"==e||e.seconds?(t.divisor=e.seconds?e.seconds:1,1e3*t.divisor):"millisecond"==e||e.milliseconds?(t.divisor=e.milliseconds?e.milliseconds:1,1*t.divisor):t},_addDateTicks:function(t){var i=this,r=new String,s=function(e){var t="majorTicksInterval"==e?i.majorTicksInterval:i.minorTicksInterval,r=new Object;return"year"==t||t.years?(r.period="year",r.interval=864e5,r.divisor=t.years?t.years:1,r.value=31536e6*r.divisor):"month"==t||t.months?(r.period="month",r.interval=864e5,r.divisor=t.months?t.months:1,r.value=2592e6*r.divisor):"week"==t||t.weeks?(r.period="week",r.interval=864e5,r.divisor=t.weeks?t.weeks:1,r.value=6048e5*r.divisor):"day"==t||t.days?(r.period="day",r.interval=36e5,r.divisor=t.days?t.days:1,r.value=864e5*r.divisor):"hour"==t||t.hours?(r.period="hour",r.interval=6e4,r.divisor=t.hours?t.hours:1,r.value=36e5*r.divisor):"minute"==t||t.minutes?(r.period="minute",r.interval=6e4,r.divisor=t.minutes?t.minutes:1,r.value=60*r.divisor*1e3):"second"==t||t.seconds?(r.period="second",r.interval=1e3,r.divisor=t.seconds?t.seconds:1,r.value=1e3*r.divisor):("millisecond"==t||t.milliseconds)&&(r.period="millisecond",r.interval=1,r.divisor=t.milliseconds?t.milliseconds:1,r.value=1*r.divisor),r},a=function(e,t){var i=new Date(e),r=i.getDate(),s="year"==t&&0==i.getMonth()&&1==r,a="month"==t&&1==r,o="week"==t&&0==i.getDay(),h="day"==t&&0==i.getHours(),n="hour"==t&&0==i.getMinutes(),l="minute"==t&&0==i.getSeconds(),d="minute"==t&&0==i.getMilliseconds(),u="millisecond"==t;return!!(s||a||o||h||n||l||d||u)},o=function(s,a,o){var h=(s-i._min)/i._unitPerPixel;i.rtl&&(s="majorTicksInterval"==a?i._dateMajorTicks[i._dateMajorTicks.length-o]:i._dateMinorTicks[i._dateMinorTicks.length-o]),h=parseInt(h);var n=s;if(-1===i._valuesArray.indexOf(n)&&(i._ticksArray.push(h),i._valuesArray.push(n),"majorTicksInterval"==a&&i._majorTicksArray.push(h)),"majorTicksInterval"==a){var l=i._id+"LabelTick"+o,d=i.showMajorTicks?"visible":"hidden";r+="<div id='"+l+"' class='"+i.toThemeProperty("jqx-rangeselector-ticks")+" "+i.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+d+"; left: "+h+"px;'></div>";var u=n;u=i._formatOutput(u,i.labelsFormat,i.labelPrecision,"label"),e("#labelPlaceholder").html(u);var m=e("#labelPlaceholder").width(),_=i._id+"Label"+o,c=i.showLabels?"visible":"hidden";if(i.labelsOnTicks)i.labelsOnTicks&&(r+="<div id='"+_+"' class='"+i.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+c+"; left: "+(h-m/2)+"px; top: "+t+"px;'>"+u+"</div>");else{var f=i._getMillisecondsByInterval(i.majorTicksInterval)/i._unitPerPixel/2;r+="<div id='"+_+"' class='"+i.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+c+"; left: "+(f+h-m/2)+"px; top: "+t+"px;'>"+u+"</div>"}}else{var d=i.showMinorTicks?"visible":"hidden",v=i._id+"MinorTick"+o;r+="<div id='"+v+"' class='"+i.toThemeProperty("jqx-rangeselector-ticks")+" "+i.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+i.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+d+"; left: "+h+"px;'></div>"}},h=function(e,t,r){for(var s=0,h=1,n=new Date(i._min).getHours(),l=864e5==t.interval,d=new Array,u=i._min;u<=i._max;u+=t.interval){if(1==l){var m=new Date(u).getHours();if(n!=m){var _;1==m?_=1:23==m&&(_=-1),u-=36e5*_,n=new Date(u).getHours()}}1==a(u,t.period)&&(s%t.divisor==0&&(r?d.push(u):o(u,e,h,t.interval),h++),s++)}return d};return i._dateMajorTicks=h("majorTicksInterval",s("majorTicksInterval"),!0),i._dateMinorTicks=h("minorTicksInterval",s("minorTicksInterval"),!0),h("majorTicksInterval",s("majorTicksInterval")),h("minorTicksInterval",s("minorTicksInterval")),1==this.showGroupLabels&&this.showLabels&&this._addGroupLabels(e("#labelPlaceholder").height()+t),r},_addGroupLabels:function(t){var i=this,r=new Date(this._min),s=new Date(this._max);if(s.getFullYear()-r.getFullYear()>0)var a="year",o=864e5;else if(s.getMonth()-r.getMonth()>0)var a="month",o=864e5;else{if(!(s.getDate()-r.getDate()>0))return;var a="day",o=36e5}for(var h=new String,n=this.toThemeProperty("jqx-rangeselector-group-labels-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal"),l=1,d=this._min;d<this._max;d+=o){var u=function(t){var r,s=new Date(t),o=s.getFullYear(),h=s.getMonth(),n=s.getDate(),l=!0;"year"==a&&0==h&&1==n?r=o:"month"==a&&1==n?(r=e.jqx.dataFormat.formatdate(s,"MMMM"),0==h&&(r=o+" "+r)):"day"==a&&0==s.getHours()?r=e.jqx.dataFormat.formatdate(s,"dddd"):l=!1;return{check:l,value:1==l&&i.groupLabelsFormatFunction?i.groupLabelsFormatFunction(r,s):r}}(d);if(1==u.check){var m=(d-this._min)/this._unitPerPixel;h+="<div class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='left: "+m+"px; top: "+t+"px;'><div class='"+n+"'></div><div id='"+this._id+"GroupLabel"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-group-labels")+"' style='margin-left: 5px;'>"+u.value+"</div></div>",l++}}e("#"+this._id+"TicksContainer").append(h)},_updateCursor:function(e,t){var i=this.element.style.cursor,r=this.slider.offset().left,s=r+parseInt(this.slider[0].style.width);e>r-5&&e<r+5||e>s-5&&e<s+5?""!=i&&"auto"!=i||(this.element.style.cursor="e-resize"):"e-resize"==i&&(this.element.style.cursor="auto")},_handleMouseMove:function(t){var i=this,r=i.slider,s=t.pageX,a=t.pageY;if(i._isTouchDevice){var o=e.jqx.position(t);s=o.left,a=o.top}var h=i._hostOffset.left,n=i._hostWidth;if(i.resizable&&!i.dragging&&"none"==i.resizeDirection&&s>=h&&s<=h+n&&a>=i._hostOffset.top&&a<=i._hostOffset.top+i._hostHeight&&this._updateCursor(s,a),!i.isMouseDown)return!0;if(i._isTouchDevice&&(a<i._hostOffset.top||a>i._hostOffset.top+i._hostHeight))return!0;var l=i._findNearestTick(i._sliderLeftOffset+s-i._mouseDownX),d=parseInt(l);if(d<0)return!0;d<0&&(d=0);var u=parseInt(r[0].style.width);if(1==i.resizable&&!i.dragging){w=d*i._unitPerPixel+i._min;if("left"==i.resizeDirection||i.isLeftMarkerCaptured){s<h-(v=i.isLeftMarkerCaptured?i.leftMarker.outerWidth():0)&&(s=h-v),s>h+n+v&&(s=h+n+v+1);var m=r[0].style.left,_=d-parseInt(m);if(!function(e){var t=parseInt(i._maxWidth);if(e<parseInt(i._minWidth)||e>t)return!1;var r=parseInt(i.rightMarker[0].style.left);return!(parseInt(i.leftMarker[0].style.left)>r)}(x=parseInt(u-_)))if(s>i._mouseDownX){if(s=i.sliderRight-i._minWidth-h,x=i._minWidth,u==x)return!0;if((d=l=i._findNearestTick(s))<0)return!0;parseInt(m),i._unitPerPixel,i._min;w=d*i._unitPerPixel+i._min}else{if(!(0!=i._maxWidth&&s<i._mouseDownX&&x>i._maxWidth))return!0;if(s=i.sliderRight-i._maxWidth-h,x=i._maxWidth,u==x)return!0;if((d=l=i._findNearestTick(s))<0)return!0;parseInt(m),i._unitPerPixel,i._min;w=d*i._unitPerPixel+i._min}i.slider[0].style.left=d+"px",m!=r[0].style.left&&(i.slider[0].style.width=x+"px");var c=i._findNearestTick(d),f=i._valuesArray[i._ticksArray.indexOf(c)];void 0!=f?(i.leftMarkerValue[0].innerHTML=i._formatOutput(f,i.markersFormat,0,"left"),d!=c&&(i.slider[0].style.left=c+"px")):i.leftMarkerValue[0].innerHTML=i._formatOutput(w,i.markersFormat,0,"left"),i.oldX=s,i.moved=!0}else if("right"==i.resizeDirection||i.isRightMarkerCaptured){var v=i.isRightMarkerCaptured?i.rightMarker.outerWidth():0,g=!1;s<h-v&&(s=h-v,!0),s>h+n+v&&(s=h+n+v,g=!0);var p=i._sliderInitialWidth,k=i._findNearestTick(p+i._sliderLeftOffset),y=i._findNearestTick(p+s-i._mouseDownX+i._sliderLeftOffset);if(y<0)return!0;var x=p-(_=k-y);x<=0&&(_=p,x=0);var T=parseInt(i.element.style.width);i.element.style.width.indexOf("%")>=0&&(T=i.host.width()),(g||i._sliderLeftOffset+x>=T)&&(x=T-i._sliderLeftOffset,boundDetected=!0),x>parseInt(this._maxWidth)&&(x=parseInt(this._maxWidth)),x<parseInt(this._minWidth)&&(x=parseInt(this._minWidth)),i.slider[0].style.width=x+"px";var w=(i._sliderLeftOffset+x)*i._unitPerPixel+i._min,M=i._findNearestTick(i._sliderLeftOffset+x),b=i._valuesArray[i._ticksArray.indexOf(M)];void 0!=b?(i._sliderLeftOffset+x!=M&&(i.slider[0].style.width=M-i._sliderLeftOffset+"px"),i.rightMarkerValue[0].innerHTML=i._formatOutput(b,i.markersFormat,0,"right")):i.rightMarkerValue[0].innerHTML=i._formatOutput(w,i.markersFormat,0,"right"),i.oldX=s}i._layoutShutter(),i._layoutMarkers(),i.moved=!0}1==i.dragging&&(i._moveSlider(d,!0),i.oldX=s)},_moveSlider:function(e,t){this.moved=!0;var i=parseInt(this.slider[0].style.width),r=parseInt(e+i),s=this._hostWidth,a=e;if(a<0&&(e=a=0),a+i>s&&(e=a=s-i),a>=0&&a+i<=s){this.slider[0].style.left=a+"px";var o=this._findNearestTick(a),h=-1!=this._majorTicksArray.indexOf(o),n=this._valuesArray[this._ticksArray.indexOf(o)];if(void 0!=n){if(this.leftMarkerValue[0].innerHTML=this._formatOutput(n,this.markersFormat,0,"left"),e!=o&&h&&t){this.slider[0].style.left=o+"px";r=parseInt(o+i)}}else this.leftMarkerValue[0].innerHTML=this._formatOutput(a*this._unitPerPixel+this._min,this.markersFormat,0,"left");var l=this._findNearestTick(r),d=this._valuesArray[this._ticksArray.indexOf(l)];if(void 0!=d){var u=-1!=this._majorTicksArray.indexOf(l);if(this.rightMarkerValue[0].innerHTML=this._formatOutput(d,this.markersFormat,0,"right"),r!=l&&u&&h&&t){var m=l-o;this.slider[0].style.width=m+"px"}}else this.rightMarkerValue[0].innerHTML=this._formatOutput((a+i)*this._unitPerPixel+this._min,this.markersFormat,0,"right")}this._layoutShutter(),this._layoutMarkers()},_initSlider:function(){var t=this,i=this.toThemeProperty("jqx-rangeselector-shutter")+" "+this.toThemeProperty("jqx-scrollbar-state-normal");e("#"+this._id+"TicksContainer").append("<div id='"+this._id+"ShutterLeft' class='"+i+"'></div><div id='"+this._id+"Slider' class='"+this.toThemeProperty("jqx-rangeselector-slider")+" "+this.toThemeProperty("jqx-scrollbar-thumb-state-normal")+"'><div class='"+this.toThemeProperty("jqx-rangeselector-inner-slider")+"'></div></div><div id='"+this._id+"ShutterRight' class='"+i+"'></div>"),this.slider=e("#"+this._id+"Slider"),this.shutterLeft=e("#"+this._id+"ShutterLeft"),this.shutterRight=e("#"+this._id+"ShutterRight"),this._hostOffset=this.rangeSelector.offset(),this._hostWidth=this.rangeSelector.width(),this._hostHeight=this.rangeSelector.height();var r=this._hostOffset,s=this._initRange(),a=s.left,o=(s.right-a)/this._unitPerPixel;this.slider[0].style.width=Math.round(o)+"px";var h=r.left+parseInt((a-this._min)/this._unitPerPixel);if(this.slider.offset({left:h}),this._layoutShutter(),this._initMarkers(),0==this.disabled){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.addHandler(this.host,"dragstart.rangeselector"+this._id,function(){return!1}),this.addHandler(e(window),"jqxReady.rangeselector",function(){return t._layoutMarkers(),!1}),this.isSliderCaptured=!1,this.resizeDirection="none",this.isLeftMarkerCaptured=!1,this.isRightMarkerCaptured=!1,this.dragging=!1,this._mouseDownX;var n,l,d="mousedown.rangeselector"+this.element.id;this._isTouchDevice&&(d=e.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+this.element.id),this.addHandler(this.host,d,function(i){t.isMouseDown=!0,t._hostOffset=t.rangeSelector.offset(),t._hostWidth=t.rangeSelector.width(),t._hostHeight=t.rangeSelector.height(),t._sliderLeftOffset=parseInt(t.slider[0].style.left);var r=i.pageX,s=i.pageY;if(t._isTouchDevice){var a=e.jqx.position(i);r=a.left,s=a.top}t._initialSliderOffset=r-t.slider.offset().left;var o=t.slider.width();t._sliderInitialWidth=o,n=t.slider.offset().left,l=t._sliderInitialWidth,t.initialOffset=n;var h=parseInt(n+l);if(t.oldX=r,t._mouseDownX=r,t.resizeDirection="none",t.sliderRight=h,r>n-5&&r<n+5&&t._heightCheck(s))t.isSliderCaptured=!1,t.dragging=!1,t.resizeDirection="left";else if(r>h-5&&r<h+5&&t._heightCheck(s))t.isSliderCaptured=!1,t.dragging=!1,t.resizeDirection="right";else if(r>=n+5&&r<=h+5&&t._heightCheck(s))t.isSliderCaptured=!0,t.dragging=!0;else if(t.isSliderCaptured=!1,t.dragging=!1,t.moveOnClick){if(t.isLeftMarkerCaptured||t.isRightMarkerCaptured)return!1;var d=t._sliderLeftOffset+t._initialSliderOffset;(d=t._findNearestTick(d))<0&&(d=0);var u=parseInt(t.slider[0].style.width);s>=t.slider.offset().top&&(r>h?t._moveSlider(d-u,!0):t._moveSlider(d,!0))}}),this.addHandler(t.leftMarker,d,function(i){if(t.leftMarkerAndArrow.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.oldLeftX=i.pageX,t._isTouchDevice){var r=e.jqx.position(i);oldLeftX=r.left}t._mouseDownX=t.oldLeftX,t.isLeftMarkerCaptured=!0}),this.addHandler(t.rightMarker,d,function(i){if(t.rightMarkerAndArrow.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.oldRightX=i.pageX,t._isTouchDevice){var r=e.jqx.position(i);oldRightX=r.left}t._mouseDownX=t.oldRightX,t.isRightMarkerCaptured=!0}),this.addHandler(e(document),"selectstart.rangeselector"+this._id,function(e){if(1==t.isSliderCaptured||1==t.isLeftMarkerCaptured||1==t.isRightMarkerCaptured||1==t.dragging)return e.preventDefault(),!1});var u="mousemove.rangeselector"+this.element.id;this._isTouchDevice&&(u=e.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+this.element.id),this.addHandler(e(document),u,function(e){t._handleMouseMove(e)});var m=function(e){try{var i=t.moved;if(t.moved=!1,t.isMouseDown=!1,t.dragging=!1,t.resizeDirection="none",1==t.isLeftMarkerCaptured&&(t.leftMarkerAndArrow.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.isLeftMarkerCaptured=!1),1==t.isRightMarkerCaptured&&(t.rightMarkerAndArrow.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.isRightMarkerCaptured=!1),i){var r=t._getValue();t._raiseEvent("0",{type:"mouse",from:r.from,to:r.to})}}catch(e){}};this.addHandler(e(document),"mouseup.rangeselector"+this._id,function(e){m()});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var _=function(e){m()},c=null;window.parent&&document.referrer&&(c=document.referrer),c&&-1!=c.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",_,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",_))}}catch(e){}}else this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._moveSlider(parseInt(t.slider[0].style.left)),this.moved=!1},_initMarkers:function(){var t=e("#"+this._id+"TicksContainer"),i=this.toThemeProperty("jqx-rangeselector-markers")+" "+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-fill-state-normal");t.append("<div id='"+this._id+"LeftMarker' class='"+i+"'></div><div id='"+this._id+"RightMarker' class='"+i+"'></div>");var r=this.toThemeProperty("jqx-rangeselector-marker-arrow")+" "+this.toThemeProperty("jqx-fill-state-normal");"bottom"==this.markersPosition?r+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-bottom"):r+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-top"),t.append("<div id='"+this._id+"LeftMarkerArrow' class='"+r+" "+this.toThemeProperty("jqx-rangeselector-marker-left-arrow")+"'></div>"),t.append("<div id='"+this._id+"RightMarkerArrow' class='"+r+" "+this.toThemeProperty("jqx-rangeselector-marker-right-arrow")+"'></div>"),e("#"+this._id+"LeftMarker").append("<div id='"+this._id+"LeftMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>"),e("#"+this._id+"RightMarker").append("<div id='"+this._id+"RightMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>");var s=e("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow"),a=e("#"+this._id+"LeftMarker, #"+this._id+"LeftMarkerArrow"),o=e("#"+this._id+"RightMarker, #"+this._id+"RightMarkerArrow");if(1==this.showMarkers?s.css("visibility","visible"):s.css("visibility","hidden"),0==this.disabled&&1==this.resizable){var h=this;this.addHandler(a,"mouseenter.rangeselector"+this._id,function(e){h.element.style.cursor="pointer",a.addClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(a,"mouseleave.rangeselector"+this._id,function(e){h.element.style.cursor="auto",a.removeClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(o,"mouseenter.rangeselector"+this._id,function(e){h.element.style.cursor="pointer",o.addClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(o,"mouseleave.rangeselector"+this._id,function(e){h.element.style.cursor="auto",o.removeClass(h.toThemeProperty("jqx-fill-state-hover"))})}this.leftMarkerAndArrow=a,this.rightMarkerAndArrow=o,this.leftMarkerArrow=e("#"+this._id+"LeftMarkerArrow"),this.rightMarkerArrow=e("#"+this._id+"RightMarkerArrow"),this.leftMarker=e("#"+this._id+"LeftMarker"),this.rightMarker=e("#"+this._id+"RightMarker"),this.leftMarkerValue=e("#"+this._id+"LeftMarkerValue"),this.rightMarkerValue=e("#"+this._id+"RightMarkerValue");var n=this._initRange();this._updateMarkersValues(n.left,n.right),this._layoutMarkers(),"auto"==this.padding?(this.host.css("padding-left",this.leftMarker[0].offsetWidth),this.host.css("padding-right",this.rightMarker[0].offsetWidth),this.host.css("padding-top",this._leftMarkerHeight+7)):this.host.css("padding",this.padding)},_layoutMarkers:function(){if(1==this.showMarkers){this._hostOffset||(this._hostOffset=this.rangeSelector.offset()),this._leftMarkerHeight||(this._leftMarkerHeight=this.leftMarker.outerHeight(),this._rightMarkerHeight=this.rightMarker.outerHeight());this._hostOffset.top;var e=parseInt(this.slider[0].style.left)+this._hostOffset.left,t=-5;"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)+4+this._rightMarkerHeight);var i=t-this._leftMarkerHeight,r=t-this._rightMarkerHeight;"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)-6);var s=this.leftMarker[0].offsetWidth,a=1+e-s-this._hostOffset.left;this.leftMarker[0].style.left=a+"px",this.leftMarker[0].style.top=i+"px",this.leftMarkerArrow[0].style.left=2+a+s+"px",this.leftMarkerArrow[0].style.top=6+t+"px";var o=e+parseInt(this.slider[0].style.width)-this._hostOffset.left;this.rightMarker[0].style.left=o+"px",this.rightMarker[0].style.top=r+"px",this.rightMarkerArrow[0].style.left=7+o+"px",this.rightMarkerArrow[0].style.top=6+t+"px"}},_updateMarkersValues:function(e,t){var i=e,r=t;this.leftMarkerValue[0].innerHTML=this._formatOutput(i,this.markersFormat,0,"left",!0),this.rightMarkerValue[0].innerHTML=this._formatOutput(r,this.markersFormat,0,"right",!0)},_removeHandlers:function(){var t=this.element.id,i=e("#"+t+"LeftMarker, #"+t+"LeftMarkerArrow"),r=e("#"+t+"RightMarker, #"+t+"RightMarkerArrow"),s="mousemove.rangeselector"+t,a="mousedown.rangeselector"+t;this._isTouchDevice&&(s=e.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+t,a=e.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+t),this.removeHandler(e(document),s),this.removeHandler(e(document),"mouseup.rangeselector"+t),this.removeHandler(this.host,a),this.removeHandler(this.host,"click.rangeselector"+t),this.removeHandler(this.host,"dragstart.rangeselector"+t),this.removeHandler(i,"mouseenter.rangeselector"+t),this.removeHandler(i,"mouseleave.rangeselector"+t),this.removeHandler(r,"mouseenter.rangeselector"+t),this.removeHandler(r,"mouseleave.rangeselector"+t),this.removeHandler(e("#"+t+"LeftMarker"),a),this.removeHandler(e("#"+t+"RightMarker"),a),this.removeHandler(e("#"+t+"LeftMarkerValue, #"+t+"RightMarkerValue"),"selectstart.rangeselector"+t)},_heightCheck:function(e){var t=this.slider,i=t.offset().top;return e>=i&&e<=i+t.height()},_checkProperties:function(){this._range._from<this._min?this._range._from=this._min:this._range._from>this._min&&this._range._from>this._max&&(this._range._from=this._min),this._range._to>this._max?this._range._to=this._max:this._range._to<this._min&&this._range._to<this._max&&(this._range._to=this._max);var e=this._max-this._min;this._range._min>e&&(this._range._min=e),this._range._max>e&&(this._range._max=e);var t=this._range._to-this._range._from;t<this._range._min?this._range._to=this._range._from+this._range._min:t>this._range._max&&(this._range._to=this._range._from+this._range._max)},_findNearestTick:function(e){for(var t=0,i=Math.abs(e-this._ticksArray[0]),r=1;r<this._ticksArray.length;r++){var s=Math.abs(e-this._ticksArray[r]);i>s&&(i=s,t=r)}return this._ticksArray[t]},_privateProperties:function(){this._min=this._validateInput(this.min),this._max=this._validateInput(this.max),this._range=new Object,this._range._from=this._validateInput(void 0!=this.range.from?this.range.from:0),this._range._to=this._validateInput(void 0!=this.range.to?this.range.to:1/0),this._range._min=this._minMaxDate(void 0!=this.range.min?this.range.min:0),this._range._max=this._minMaxDate(void 0!=this.range.max?this.range.max:1/0)},_validateInput:function(e){var t;return"number"==typeof e?t=e:"string"==typeof e?t=Date.parse(e):e instanceof Date&&(t=e.getTime()),t},_minMaxDate:function(e){if("number"!=typeof e){var t;switch(e){case"millisecond":t=1;break;case"second":t=1e3;break;case"minute":t=6e4;break;case"hour":t=36e5;break;case"day":t=864e5;break;case"week":t=6048e5;break;default:t=e.milliseconds?e.milliseconds:0+e.seconds?1e3*e.seconds:0+e.minutes?6e4*e.minutes:0+e.hours?36e5*e.hours:0+e.days?864e5*e.days:0+e.weeks?6048e5*e.weeks:0}return t}return e},_formatOutput:function(t,i,r,s,a){var o;if(this.values||(this.values=new Array),this.values[s]=t,"label"==s&&this.labelsFormatFunction)o="date"==this._dataType?this._roundDate(t):this._roundNumber(t,"label"),o=this.labelsFormatFunction(o);else if("label"!=s&&this.markersFormatFunction)"date"==this._dataType&&(o=this._roundDate(t)),o=this.markersFormatFunction(t,s);else if(i)"number"==this._dataType?o=e.jqx.dataFormat.formatnumber(t,i):(o=this._roundDate(t),o=e.jqx.dataFormat.formatdate(o,i));else{if("date"==this._dataType){var h;null==this.labelsFormat&&null==this.markersFormat?h="both labelsFormat and markersFormat":null==this.labelsFormat?h="labelsFormat":null==this.markersFormat&&(h="markersFormat");var n="When the data format is date, "+h+" should be set.";throw new Error(n)}o=t.toFixed(r)}return o},_getValue:function(e){function t(e){return"number"===i._dataType?Math.round(e/r)*r:i._roundNumber(e,"marker")}var i=this,r=i.minorTicksInterval,s=this.slider,a=s.width(),o=new Object,h=(s.offset().left-this.rangeSelector.offset().left)*this._unitPerPixel+this._min;if(o.from=t(h),o.to=t(h+a*this._unitPerPixel),!e&&1==this.snapToTicks){var n=this._findNearestTick((o.from-this._min)/this._unitPerPixel);o.from=this._valuesArray[this._ticksArray.indexOf(n)];var l=this._findNearestTick((o.to-this._min)/this._unitPerPixel);o.to=this._valuesArray[this._ticksArray.indexOf(l)]}return"date"==this._dataType&&(o.from=new Date(o.from),o.to=new Date(o.to)),o},_roundNumber:function(e,t,i){var r;return"marker"==t?(1==i&&(e=parseFloat(e)),r=parseFloat(e)):r=parseFloat(e),r},_roundDate:function(e){"number"==typeof e&&(e=new Date(e));var t=this._max-this._min;if(t>12096e5){var i=e.getDate();e.getHours()>12&&(e.setDate(i+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0))}else t>1728e5&&(e.setHours(e.getHours()+Math.round(e.getMinutes()/60)),e.setMinutes(0),e.setSeconds(0));return e},_layoutShutter:function(){var t=parseInt(this.slider[0].style.left);this.shutterLeft[0].style.width=t+"px",this.shutterLeft[0].style.left="0px",e.jqx.browser.msie&&e.jqx.browser.version<9&&(this.shutterLeft[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)",this.shutterRight[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)");var i=1+t+parseInt(this.slider[0].style.width);this.shutterRight[0].style.left=i+"px";r=parseInt(this.element.style.width);if(this.element.style.width.indexOf("%")>=0)var r=parseInt(this.host.width());var s=r-1-t-parseInt(this.slider[0].style.width);s<0&&(s=0),this.shutterRight[0].style.width=1+s+"px",i+1+s<2+r&&(this.shutterRight[0].style.width=2+s+"px"),0==s&&(this.shutterRight[0].style.width="0px")},_initRange:function(){if(this._range._from>this._range._to)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");return{left:this._range._from,right:this._range._to}}})}(jqxBaseFramework);

!function(i){i.jqx.jqxWidget("jqxRating","",{}),i.extend(i.jqx._jqxRating.prototype,{defineInstance:function(){var t={count:5,disabled:!1,value:0,height:"auto",width:"auto",precision:1,singleVote:!1,itemHeight:"20",itemWidth:"20",_itemHeight:void 0,_itemWidth:void 0,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};return this===i.jqx._jqxRating.prototype?t:(i.extend(!0,this,t),t)},createInstance:function(t){i.jqx.aria(this),this._createRating()},destroy:function(){this.host.remove()},val:function(i){return 0==arguments.length||"object"==typeof i?this.value:(this.value="string"==typeof i?parseInt(i):i,this.setValue(this.value),this.value)},_createRating:function(){this.host.css("display","none"),this.host.empty(),this._addInput(),this._validateProperties(),this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this.host.css("display","block"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable()},_addInput:function(){var t=this.host.attr("name");this.input=i("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.value.toString())},_render:function(){for(var t=1;t<=this.count;t++)this._images[t-1]=i('<div style="float:left;width:auto;height:auto; position: relative;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>'),this.host.append(this._images[t-1])},_performLayout:function(){for(var i=1;i<=this.count;i++){var t=this._images[i-1].find(this.toThemeProperty(".jqx-rating-image-backward",!0)),e=this._images[i-1].find(this.toThemeProperty(".jqx-rating-image-default",!0)),a=this._images[i-1].find(this.toThemeProperty(".jqx-rating-image-hover",!0)),s=this._getImageName(e),h=this._getImageName(a),n=this._getImageName(t);e.css("background-image","none"),a.css("background-image","none"),t.css("background-image","none"),this._appendImage(a,h,i-1),this._appendImage(t,n,i-1),this._appendImage(e,s,i-1)}},resize:function(i,t){this.width=i,this.height=t,this._setControlSize(this.width,this.height)},_setControlSize:function(i,t){this.host.css("height",this.height),this.host.css("width",this.width),this.itemHeight&&"auto"!==this.itemHeight?this._itemHeight=parseInt(this.itemHeight):this._itemHeight=t,this.itemWidth&&"auto"!==this.itemWidth?this._itemWidth=parseInt(this.itemWidth):this._itemWidth=i},_appendImage:function(t,e,a){var s=this,h=i('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+e+'" />');t.append(h);try{h.load(function(){s._initialized||(s._setControlSize(i(this).width(),i(this).height()),s._setValue(s.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s._initialized=!0),s._images[a].height(s._itemHeight),i(this).height(s._itemHeight),s._images[a].width(s._itemWidth),i(this).width(s._itemWidth)})}catch(t){h[0].onload=function(){s._initialized||(s._setControlSize(i(this).width(),i(this).height()),s._setValue(s.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s._initialized=!0),s._images[a].height(s._itemHeight),i(this).height(s._itemHeight),s._images[a].width(s._itemWidth),i(this).width(s._itemWidth)}}return h},_validateProperties:function(){try{if(this.precision<.001||this.precision>1)throw this._invalidArgumentExceptions.invalidPrecision;if("auto"!==this.height&&parseInt(this.height)<0)throw this._invalidArgumentExceptions.invalidHeight;if("auto"!==this.width&&parseInt(this.width)<0)throw this._invalidArgumentExceptions.invalidWidth;if(this.count<=0)throw this._invalidArgumentExceptions.invalidCount;if(this.value>this.count||this.value<0)throw this._invalidArgumentExceptions.invalidValue}catch(i){alert(i)}},_getImageIndex:function(i){for(var t=0;i!==this._images[t][0];)t++;return++t},_getRating:function(t,e){var a=this._getImageIndex(t);if(this.precision<1){for(var s=parseInt(e)-parseInt(i(t).position().left),h=this._itemWidth*this.precision,n=0;n<s;)n+=h;n>parseInt(this._itemWidth)-h&&(n=parseInt(this._itemWidth)),a-=1-n/i(t).width()}return a},_addEventHandlers:function(){for(var t=this,e=0;e<this.count;e++)i.jqx.mobile.isTouchDevice()||(this.addHandler(this._images[e],"mousemove",function(i){var e=t._getRating(this,i.pageX);t._setValue(e,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")}),this.addHandler(this._images[e],"mouseenter",function(i){for(var e=t._getImageIndex(this),a=0;a<e;a++)t._images[a].children(".jqx-rating-hoverWrapper").css("z-index","10"),t._images[a].children(".jqx-rating-voteWrapper").css("z-index","1"),t._images[a].children(".jqx-rating-hoverWrapper").css("visibility","visible")}),this.addHandler(this._images[e],"mouseleave",function(i){for(var e=t._getImageIndex(this),a=0;a<e;a++)t._images[a].children(".jqx-rating-voteWrapper").css("z-index","10"),t._images[a].children(".jqx-rating-hoverWrapper").css("z-index","1"),t._images[a].children(".jqx-rating-hoverWrapper").css("visibility","hidden")})),this.addHandler(this._images[e],"click",function(i){var e=t._getRating(this,i.pageX);t._setValue(e,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),t.singleVote&&t.disable(),i.stopPropagation(),t._raiseEvent(0,e)}),this.addHandler(this._images[e],"dragstart",function(i){return!1})},_removeEventHandlers:function(){for(var i=0;i<this.count;i++)this.removeHandler(this._images[i],"mousemove"),this.removeHandler(this._images[i],"mouseenter"),this.removeHandler(this._images[i],"mouseleave"),this.removeHandler(this._images[i],"click"),this.removeHandler(this._images[i],"dragstart")},_getImageName:function(i){var t=i.css("background-image");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},_setValue:function(t,e,a,s){for(var h=1;h<=this.count;h++){var n=1,r=this._images[h-1].children(e),o=r.children(a),d=r.children(s);h>t&&(n=Math.abs(h-t)<1?1-Math.abs(h-t):0),o.width(this._itemWidth*n),d.width(this._itemWidth-parseInt(o.width())),r.children(this.toThemeProperty(s)).children(0).css("margin-left",-this._itemWidth*n+"px")}i.jqx.aria(this,"aria-valuenow",t)},_raiseEvent:function(t,e){var a=new i.Event(this._events[t]);return a.owner=this,a.value=e,a.oldvalue=this.value,this.value=e,this.input&&this.input.val(this.value.toString()),this.host.trigger(a)},setValue:function(i){this._setValue(i,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),this.value=i,this._raiseEvent(0,this.value)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers(),this.disabled=!0,i.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._removeEventHandlers(),this._addEventHandlers(),this.disabled=!1,i.jqx.aria(this,"aria-disabled",!1)},propertyChangedHandler:function(i,t,e,a){"disabled"!==t?"value"===t?i.setValue(a):i._createRating():a?this.disable():this.enable()}})}(jqxBaseFramework);

!function(e){e.jqx.response=function(){this.defineInstance()},e.jqx.response.prototype={defineInstance:function(){this._handlers=new Array,this.refresh();var i=this;this.layouts=[],this.addHandler(e(document),"scroll.jqxresponse",function(){i.scroll=i.getScroll()})},refresh:function(){this.os=this.getOS(),this.browser=this.getBrowser(),this.device=this.getDevice(),this.viewPort=this.getViewPort(),this.document=this.getDocument(),this.scroll=this.getScroll(),this.media=window.matchMedia||window.msMatchMedia||function(){return{}}},refreshSize:function(){this.viewPort=this.getViewPort(),this.document=this.getDocument()},addHandler:function(e,i,n,t){switch(i){case"mousemove":if(window.addEventListener&&!t)return e[0].addEventListener("mousemove",n,!1),!1}e.on?e.on(i,n):e.bind(i,n)},removeHandler:function(e,i,n){void 0!=i?void 0==n?e.off?e.off(i):e.unbind(i):e.off?e.off(i,n):e.unbind(i,n):e.off?e.off():e.unbind()},responsive:function(i){this._counter||(this._counter=0);for(var n=this.getDevice().type,t=e(i.container),o=0;o<t.length;o++){var s=t[o];s.style.position="relative",s.style.clear="both";e(s).width();for(var r=e(s).children(),a=0;a<r.length;a++){var d=r[a];d.className;d.style.position="relative",d.style.top="0px",e(d).css("float","left"),d._className=d.className,i.colClass&&e(d).addClass(i.colClass)}}if(this.layouts.push({object:i,resize:function(){for(var o=0;o<t.length;o++){var s=t[o],a=e(s).width(),d=function(t){for(var o=e(s).children(),r=i.margin,a=i.padding,d=i.colOffsets,l=0,h=0;h<o.length;h++){var c=o[h];c.className=c._className;var m=c._className;i.colClass&&(""!=m?m+=" "+i.colClass:m=i.colClass);var u=t/o.length;if(u=i.colWidths[h]?t*i.colWidths[h]:t/o.length,!i.deviceTypes||i.deviceTypes&&i.deviceTypes.indexOf(n)>=0)for(var w=0;w<i.breakpoints.length;w++){var f=i.breakpoints[w-1],v=i.breakpoints[w];w>0&&f.width>=t&&v.width<t?f.colWidths[h]&&(u=t*f.colWidths[h],f.colClass&&(m=""!=c._className?c._className+" "+f.colClass:f.colClass,c.className=m),f.margin?r=f.margin:(f.margin={left:0,right:0,top:0,bottom:0},r=f.margin),f.padding?a=f.padding:(f.padding={left:0,right:0,top:0,bottom:0},a=f.padding),f.colOffsets?d=f.colOffsets:(f.colOffsets=new Array(o.length),d=f.colOffsets)):t<=v.width&&v.colWidths[h]&&(u=t*v.colWidths[h],v.colClass&&(m=""!=c._className?c._className+" "+v.colClass:v.colClass,c.className=m),v.margin?r=v.margin:(v.margin={left:0,right:0,top:0,bottom:0},r=v.margin),v.padding?a=v.padding:(v.padding={left:0,right:0,top:0,bottom:0},a=v.padding),v.colOffsets?d=v.colOffsets:(v.colOffsets=new Array(o.length),d=v.colOffsets))}c.className=m;var g=u;a&&(void 0==a.left&&(a.left=0),void 0==a.top&&(a.top=0),void 0==a.bottom&&(a.bottom=0),void 0==a.right&&(a.right=0),g-=a.left,g-=a.right,c.style.paddingLeft=a.left+"px",c.style.paddingRight=a.right+"px",c.style.paddingTop=a.top+"px",c.style.paddingBottom=a.bottom+"px"),c.style.marginLeft="0px",c.style.marginRight="0px",c.style.marginTop="0px",c.style.marginBottom="0px",r&&(void 0==r.left&&(r.left=0),void 0==r.top&&(r.top=0),void 0==r.bottom&&(r.bottom=0),void 0==r.right&&(r.right=0),g-=r.left,g-=r.right,c.style.marginRight=r.right+"px",c.style.marginLeft=r.left+"px",c.style.marginTop=r.top+"px",c.style.marginBottom=r.bottom+"px"),(l+=g)>=t-1&&l-t<=5&&(g--,l=0),d&&void 0!=d[h]&&(c.style.marginLeft=parseInt(c.style.marginLeft)+d[h]*t+"px"),c.style.width=g+"px"}},l=r.css("visibility");r.css("visibility","hidden"),d(a);var h=e(s).width();a!=h&&(d(h),e(window).trigger("resize")),r.css("visibility",l)}}}),1==this.layouts.length){var l=this;e(window).on("resize.response"+this._counter,function(){for(var e=0;e<l.layouts.length;e++)l.layouts[e].resize()}),e(window).on("orientationchange.response"+this._counter,function(){for(var e=0;e<l.layouts.length;e++)l.layouts[e].resize()}),e(window).on("orientationchanged.response"+this._counter,function(){for(var e=0;e<l.layouts.length;e++)l.layouts[e].resize()})}for(o=0;o<this.layouts.length;o++)this.layouts[o].resize()},destroy:function(){if(this.removeHandler(e(window),"resize.jqxresponse"),this.removeHandler(e(document),"scroll.jqxresponse"),this._counter>0)for(i=0;i<this._counter;i++)e(window).off("resize.response"+i),e(window).off("orientationchange.response"+i),e(window).off("orientationchanged.response"+i);for(var i=0;i<this._handlers.length;i++){var n=this._handlers[i];this.removeHandler(e(n),"mousedown.response"+n[0].id),this.removeHandler(e(n),"touchstart.response"+n[0].id),this.removeHandler(e(n),"mousemove.response"+n[0].id),this.removeHandler(e(n),"touchmove.response"+n[0].id),this.removeHandler(e(n),"mouseup.response"+n[0].id),this.removeHandler(e(n),"touchend.response"+n[0].id)}},resize:function(i){var n=this;this.removeHandler(e(window),"resize.jqxresponse"),this.addHandler(e(window),"resize.jqxresponse",function(t){if(i)if(e.isArray(i))for(var o=0;o<i.length;o++)i[o]();else i();n.refreshSize()}),null==i&&this.removeHandler(e(window),"resize.jqxresponse")},pointerDown:function(i,n){if(i&&n){var t=!0;if(e.jqx.mobile.isTouchDevice()){var o=e.jqx.mobile.getTouchEventName("touchstart")+".response"+i[0].id;null!=n?this.addHandler(e(i),o,function(i){var o=e.jqx.position(i),s=n(i,o,"touch");return t=!1,setTimeout(function(){t=!0},500),s}):this.removeHandler(e(i),o)}null!=n?this.addHandler(e(i),"mousedown.response"+i[0].id,function(i){var o=e.jqx.position(i);if(t)return n(i,o,"mouse")}):this.removeHandler(e(i),"mousedown.response"+i[0].id),this._handlers.push(i)}},pointerUp:function(i,n){if(i){var t=!0;if(e.jqx.mobile.isTouchDevice()){var o=e.jqx.mobile.getTouchEventName("touchend")+".response"+i[0].id;null!=n?this.addHandler(e(i),o,function(i){var o=e.jqx.position(i),s=n(i,o,"touch");return t=!1,setTimeout(function(){t=!0},500),s}):this.removeHandler(e(i),o)}null!=n?this.addHandler(e(i),"mouseup.response"+i[0].id,function(i){var o=e.jqx.position(i);if(t)return n(i,o,"mouse")}):this.removeHandler(e(i),"mouseup.response"+i[0].id),this._handlers.push(i)}},pointerMove:function(i,n){if(i){if(e.jqx.mobile.isTouchDevice()){var t=e.jqx.mobile.getTouchEventName("touchmove")+".response"+i[0].id;null!=n?this.addHandler(e(i),t,function(i){if(1==e.jqx.mobile.getTouches(i).length){var t=e.jqx.position(i);return n(i,t,"touch")}}):this.removeHandler(e(i),t)}else null!=n?this.addHandler(e(i),"mousemove.response"+i[0].id,function(i){var t=e.jqx.position(i);return n(i,t,"mouse")}):this.removeHandler(e(i),"mousemove.response"+i[0].id);this._handlers.push(i)}},isHidden:function(i){return e.jqx.isHidden(e(i))},inViewPort:function(e){var i=this.viewPort;if(e.getBoundingClientRect){var n=e.getBoundingClientRect?e.getBoundingClientRect():{};return n&&n.bottom>=0&&n.top<=i.height&&n.right>=0&&n.left<=i.width}return!1},getScroll:function(){var e={left:window.pageXOffset||document.scrollLeft,top:window.pageYOffset||document.scrollTop};return void 0==e.left&&(e.left=0),void 0==e.top&&(e.top=0),e},getDocument:function(){return{width:e(document).width(),height:e(document).height()}},getViewPort:function(){return{width:e(window).width(),height:e(window).height()}},getTouch:function(){var i="ontouchstart",n=i in window;return!!n||((n=(i="MSPointerDown")in window)||!!e.jqx.mobile.isWindowsPhone())},getDevice:function(){var e=this.os.name,i=window.location.search.match(/deviceType=(Tablet|Phone)/),n=window.deviceType,t="";return i&&i[1]?t=i[1]:"iPhone"===n?t="Phone":"iPad"===n?t="Tablet":"Android"!=e&&"iOS"!=e&&/Windows|Linux|MacOS|Mac OS|Mac OS X/.test(e)?t="Desktop":"iOS"==e&&navigator.userAgent.toLowerCase().indexOf("ipad")>=0?t="Tablet":"RIMTablet"==e?t="Tablet":"Android"==e?(t=this.os.version&&this.os.version.substring(0,1).indexOf("3")>=0?"Tablet":this.os.version&&this.os.version.substring(0,1).indexOf("4")>=0&&-1==navigator.userAgent.search(/mobile/i)?"Tablet":"Phone",navigator.userAgent.toLowerCase().indexOf("kindle fire")>=0&&(t="Tablet")):t="Phone",/Windows/.test(e)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?t="Phone":navigator.userAgent.indexOf("Touch")>=0&&(t="Tablet",this.getTouch()||(t="Desktop"))),{type:t,touch:this.getTouch(),width:window.screen.width,height:window.screen.height,availWidth:window.screen.availWidth,availHeight:window.screen.availHeight}},canvas:function(){var e=!1,i=document.createElement("canvas");return i&&i.getContext&&i.getContext("2d")&&(e=!0),e},vml:function(){if(void 0==this._vmlSupport){var e=document.body.appendChild(document.createElement("div"));e.innerHTML='<v:shape id="vml_flag1" adj="1" />';var i=e.firstChild;i.style.behavior="url(#default#VML)",this._vmlSupport=!i||"object"==typeof i.adj,e.parentNode.removeChild(e)}return this._vmlSupport},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},getBrowser:function(){var i=navigator.userAgent.toLowerCase(),n="",t=null;if(browserNames={msie:{name:"Internet Explorer",eval:/(msie) ([\w.]+)/.exec(i)},webkit:{name:"Webkit",eval:/(webkit)[ \/]([\w.]+)/.exec(i)},chrome:{name:"Chrome",eval:/(chrome)[ \/]([\w.]+)/.exec(i)},safari:{name:"Safari",eval:/(safari)[ \/]([\w.]+)/.exec(i)},edge:{name:"Edge",eval:/Edge/i.exec(i)},opera:{name:"Opera",eval:/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)},operamobile:{name:"Opera Mobile",eval:/(opera mobi)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(opera tablet)(?:.*version|)[ \/]([\w.]+)/.exec(i)},dolphin:{name:"Dolphin",eval:/(dolphin)[ \/]([\w.]+)/.exec(i)},webosbrowser:{name:"webOSBrowser",eval:/(wosbrowser)(?:.*version|)[ \/]([\w.]+)/.exec(i)},chromemobile:{name:"Chrome Mobile",eval:/(crmo)[ \/]([\w.]+)/.exec(i)},silk:{name:"Silk",eval:/(silk)[ \/]([\w.]+)/.exec(i)},firefox:{name:"Firefox",eval:/(firefox)[ \/]([\w.]+)/.exec(i)},msie11:{name:"Internet Explorer 11",eval:i.indexOf("rv:11.0")>=0&&i.indexOf(".net4.0c")>=0},winphone:{name:"Internet Explorer Mobile",eval:i.indexOf("windows phone 8.1")>=0},other:{name:"Other",eval:i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)}},e.each(browserNames,function(e,o){if(this.eval)if("Other"==this.name)t||(t=this.eval,n=this.name);else if("Internet Explorer 11"==this.name)t||(t=["","msie",11],n="Internet Explorer");else if("Edge"==this.name)t=["","edge",i.substring(i.indexOf("edge")+5)],n=this.name;else if("Internet Explorer Mobile"==this.name)t||(t=["","msie",11],n="Internet Explorer");else{if("Chrome"==n&&"Safari"==this.name)return!0;t=this.eval,n=this.name}}),t){var o={name:n,accessName:t[1]||"",version:t[2]||"0",canvas:this.canvas(),svg:this.svg(),vml:this.vml()};o[t[1]]=t[1]}else o={name:"Other",browser:"other",version:""};return o},getOS:function(){var i=null,n="",t=navigator.userAgent,o="Other",s={ios:{name:"iOS",regex:new RegExp("(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)")},android:{name:"Android",regex:new RegExp("(?:(Android |HTC_|Silk/))([^\\s;]+)")},webos:{name:"webOS",regex:new RegExp("(?:(?:webOS|hpwOS)/)([^\\s;]+)")},blackberry:{name:"BlackBerry",regex:new RegExp("(?:BlackBerry(?:.*)Version/)([^\\s;]+)")},rimTablet:{name:"RIMTablet",regex:new RegExp("(?:RIM Tablet OS )([^\\s;]+)")},chrome:{name:"Chrome OS",regex:new RegExp("CrOS")},mac:{name:"MacOS",regex:new RegExp("mac")},win:{name:"Windows",regex:new RegExp("win")},linux:{name:"Linux",regex:new RegExp("linux")},bada:{name:"Bada",regex:new RegExp("(?:Bada/)([^\\s;]+)")},other:{name:"Other"}},r="",a=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows 10|Windows NT 10)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"BB10",r:/BB10/},{s:"MeeGo",r:/MeeGo/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var d in a){var l=a[d];if(l.r.test(t)){r=l.s;break}}var h="";switch(/Windows/.test(r)&&(h=/Windows (.*)/.exec(r)[1],r="Windows"),/BB10/.test(r)&&(h="10",r="BlackBerry"),o){case"Mac OS X":h=/Mac OS X (10[\.\_\d]+)/.exec(t)[1];break;case"Android":h=/Android ([\.\_\d]+)/.exec(t)[1];break;case"iOS":h=(h=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer))[1]+"."+h[2]+"."+(0|h[3])}return""!=h&&(n=h),e.each(s,function(e,s){if(i=t.match(this.regex)||t.toLowerCase().match(this.regex))return this.name.match(/Windows|Linux|MacOS/)||(n=!i[1]||"HTC_"!=i[1]&&"Silk/"!=i[1]?i[i.length-1]:"2.3"),o={name:this.name,version:n,platform:navigator.platform},!1}),o&&"Other"==o.name&&(o.name=r),o&&""!=o.name&&""!=r&&(o.name=r),o&&""==o.version&&""!=h&&(o.version=h),o}}}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxResponsivePanel","",{}),e.extend(e.jqx._jqxResponsivePanel.prototype,{defineInstance:function(){var t={width:null,height:null,collapseBreakpoint:1e3,collapseWidth:null,toggleButton:null,toggleButtonSize:30,animationType:"fade",animationDirection:"left",animationShowDelay:"fast",animationHideDelay:"fast",autoClose:!0,initContent:null,_collapsed:!1,_opened:!1,_init:!1,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,events:["collapse","expand","open","close"]};return this===e.jqx._jqxResponsivePanel.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;e.initContent&&!1===e._init&&(e.initContent(),e._init=!0),e._render(!0)},_render:function(t){var o=this;if(!0===t&&o.toggleButton){if(o._toggleButton=e(o.toggleButton),0===o._toggleButton.length)throw new Error('jqxResponsivePanel: Invalid toggleButton selector: "'+o.toggleButton+'".');var n=e('<div class="'+o.toThemeProperty("jqx-menu-minimized-button")+" "+o.toThemeProperty("jqx-responsive-panel-button-inner")+'"></div>');o._toggleButton.append(n)}o._setSize(),o._addClasses(),!1===t&&o._removeHandlers(),o._addHandlers(),o._checkWindowSize()},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._checkWindowSize()},destroy:function(e){var t=this;t._removeHandlers(),t.host.remove(),!0!==e&&t.toggleButton&&t._toggleButton.remove()},propertyChangedHandler:function(e,t,o,n){if(n!==o&&"toggleButton"!==t&&"initContent"!==t)switch(t){case"width":case"height":e.host.css(t,n);break;case"collapseBreakpoint":e._checkWindowSize();break;case"toggleButtonSize":e.toggleButton&&e._toggleButton.css({width:n,height:n});break;default:e.render()}},open:function(){function e(){t.host.show(),t._opened=!0,t._raiseEvent("2"),t.initContent&&!1===t._init&&(t.initContent(),t._init=!0)}var t=this;if(!0===t._collapsed&&!1===t._opened){if(!0===t._ie7)return void e();switch(t.animationType){case"fade":t.host.fadeIn(t.animationShowDelay,function(){t._raiseEvent("2"),t._opened=!0,t.initContent&&!1===t._init&&(t.initContent(),t._init=!0)});break;case"slide":var o=t.animationDirection;"top"===o?o="up":"bottom"===o&&(o="down"),t._slide(t.host,{mode:"show",direction:o,duration:t.animationShowDelay});break;case"none":e()}}},close:function(){var e=this;if(!0===e._collapsed&&!0===e._opened){if(!0===e._ie7)return e.host.hide(),e._opened=!1,void e._raiseEvent("3");switch(e.animationType){case"fade":e.host.fadeOut(e.animationHideDelay,function(){e._opened=!1,e._raiseEvent("3")});break;case"slide":var t=e.animationDirection;"top"===t?t="up":"bottom"===t&&(t="down"),e._slide(e.host,{mode:"hide",direction:t,duration:e.animationHideDelay});break;case"none":e.host.hide(),e._opened=!1,e._raiseEvent("3")}}},_raiseEvent:function(t,o){void 0===o&&(o={owner:null});var n=this.events[t];o.owner=this;var i=new e.Event(n);return i.owner=this,i.args=o,i.preventDefault&&i.preventDefault(),this.host.trigger(i)},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height),e.toggleButton&&e._toggleButton.css({width:e.toggleButtonSize,height:e.toggleButtonSize})},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-responsive-panel")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.toggleButton&&(e._toggleButton.addClass(e.toThemeProperty("jqx-responsive-panel-button")),e._toggleButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._toggleButton.addClass(e.toThemeProperty("jqx-rc-all")))},isCollapsed:function(){return this._collapsed},isOpened:function(){return this._opened},_addHandlers:function(){var t=this,o=t.element.id;t.addHandler(t.host,"click.jqxResponsivePanel"+o,function(e){e.stopPropagation()}),t.addHandler(e(document),"click.jqxResponsivePanel"+o,function(){!0===t._collapsed&&!0===t.autoClose&&t.close()}),t.addHandler(e(window),"resize.jqxResponsivePanel"+o,function(){setTimeout(function(){t._checkWindowSize()},0)}),t.toggleButton&&(t.addHandler(t._toggleButton,"mouseenter.jqxResponsivePanel"+o,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mouseleave.jqxResponsivePanel"+o,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mousedown.jqxResponsivePanel"+o,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(e(document),"mouseup.jqxResponsivePanel"+o,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._toggleButton,"click.jqxResponsivePanel"+o,function(e){e.stopPropagation(),!0===t._opened?t.close():t.open()}))},_removeHandlers:function(){var t=this,o=t.element.id;t.removeHandler(t.host,"click.jqxResponsivePanel"+o),t.removeHandler(e(document),"click.jqxResponsivePanel"+o),t.removeHandler(e(window),"resize.jqxResponsivePanel"+o),t.toggleButton&&(t.removeHandler(t._toggleButton,"mouseenter.jqxResponsivePanel"+o),t.removeHandler(t._toggleButton,"mouseleave.jqxResponsivePanel"+o),t.removeHandler(t._toggleButton,"mousedown.jqxResponsivePanel"+o),t.removeHandler(e(document),"mouseup.jqxResponsivePanel"+o),t.removeHandler(t._toggleButton,"click.jqxResponsivePanel"+o))},_checkWindowSize:function(){var e=this,t=this.host.parent().width();"jqx-responsive-panel"===this.host.parent()[0].nodeName.toLowerCase()&&(t=this.host.parent().parent().width()),!1===e._collapsed&&t<=e.collapseBreakpoint?(e.toggleButton&&e._toggleButton.show(),!1===e._opened&&e.host.hide(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e._collapsed=!0,e._raiseEvent("0"),e.collapseWidth&&e.host.width(e.collapseWidth),e.host.trigger("resize")):!0===e._collapsed&&t>e.collapseBreakpoint&&(e.collapseWidth&&e.host.width(e.width),e.toggleButton&&e._toggleButton.hide(),!1===e._opened&&e.host.show(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e._collapsed=!1,e._raiseEvent("1"),e.initContent&&!1===e._init&&(e.initContent(),e._init=!0),e.host.trigger("resize"))},_slide:function(t,o){var n=this;if(n.activeAnimations||(n.activeAnimations=[]),n.activeAnimations.length>0)for(var i=0;i<n.activeAnimations.length;i++)n.activeAnimations[i].clearQueue(),n.activeAnimations[i].finish();else t.clearQueue(),t.finish();var s,a={save:function(e,t){for(var o=0;o<t.length;o++)null!==t[o]&&e.length>0&&e.data("ui-effects-"+t[o],e[0].style[t[o]])},restore:function(e,t){var o,n;for(n=0;n<t.length;n++)null!==t[n]&&(void 0===(o=e.data("ui-effects-"+t[n]))&&(o=""),e.css(t[n],o))},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var o={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(o,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){o[n]=t.css(n),isNaN(parseInt(o[n],10))&&(o[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),n.css(o).show()},removeWrapper:function(t){var o=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===o||e.contains(t[0],o))&&e(o).focus()),t}},r=["position","top","bottom","left","right","width","height"],l=o.mode,d="show"===l,p=o.direction||"left",c="up"===p||"down"===p?"top":"left",h="up"===p||"left"===p,u={};a.save(t,r),t.show(),s=o.distance||t["top"===c?"outerHeight":"outerWidth"](!0),a.createWrapper(t).css({overflow:"hidden"}),d&&t.css(c,h?isNaN(s)?"-"+s:-s:s),u[c]=(d?h?"+=":"-=":h?"-=":"+=")+s;return n.activeAnimations.push(t),t.animate(u,{duration:o.duration,easing:o.easing,complete:function(){n.activeAnimations.pop(t),"show"===l?(n._opened=!0,n._raiseEvent("2"),n.initContent&&!1===n._init&&(n.initContent(),n._init=!0)):"hide"===l&&(t.hide(),n._opened=!1,n._raiseEvent("3")),a.restore(t,r),a.removeWrapper(t)}}),function(){t.clearQueue(),t.stop(!0,!0)}}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxRibbon","",{}),e.extend(e.jqx._jqxRibbon.prototype,{defineInstance:function(){var t={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===e.jqx._jqxRibbon.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;"none"!==t.host.css("display")&&!1!==document.body.contains(t.element)||(t._initiallyHidden=!0),t._browser=e.jqx.browser,"popup"!==t.mode&&-1===t.selectedIndex&&(t.selectedIndex=0),t._originalHTML=t.element.innerHTML,t._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(t){var o=this;o._items[t]._disabled=!0,e(o._items[t]).addClass(o.toThemeProperty("jqx-fill-state-disabled")),t===o.selectedIndex&&o._clearSelection()},enableAt:function(t){var o=this;o._items[t]._disabled=!1,e(o._items[t]).removeClass(o.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){var t=this;t._items[e].style.display="none",t._checkScrollButtons(),e===t.selectedIndex?t._clearSelection():t._updatePositions()},showAt:function(e){var t=this;"horizontal"===t._orientation?t._items[e].style.display="inline-block":t._items[e].style.display="inherit",t._checkScrollButtons(),t._updatePositions()},val:function(e){var t=this;if(!e)return t.selectedIndex;t._selectAt(e)},addAt:function(t,o){var n=this,i="jqx-ribbon-item jqx-ribbon-item-"+n.position,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+n.position;n._removeHandlers();var s=document.createElement("li");s.innerHTML=o.title;var a=document.createElement("div");if("string"==typeof o.content)a.innerHTML=o.content;else if(void 0!==o.content.length)try{if(void 0!==jQuery&&o.content instanceof jQuery)e(a).append(o.content);else if(e.isArray(o.content))for(var l=0;l<o.content.length;l++)o.content[l].appendTo(a);else for(;o.content.length>0;)a.appendChild(o.content[0])}catch(e){}else a.appendChild(o.content);switch(n.position){case"top":i+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":i+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":i+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":i+=" jqx-rc-r",r+=" jqx-rc-l"}"popup"===n.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+n._orientation+"-popup"),!0===n.rtl&&(i+=" jqx-ribbon-item-rtl"),s.className=n.toThemeProperty(i),a.className=n.toThemeProperty(r),n._items.length-1>=t?(n._headerElement.insertBefore(s,n._items[t]),n._contentElement.insertBefore(a,n._contentSections[t])):(n._headerElement.appendChild(s),n._contentElement.appendChild(a)),n._updateItems(),n._addHandlers(),n._checkScrollButtons(),t<=n.selectedIndex&&n.selectedIndex<n._items.length-1&&n.selectedIndex++,n._updatePositions(),n.selectedIndex<0||(n._suppressSelectionEvents=!0,n._selectAt(n.selectedIndex,n.selectedIndex,!0))},removeAt:function(t){var o=this;t===o.selectedIndex&&o._clearSelection(),e(o._items[t]).remove(),e(o._contentSections[t]).remove(),o._updateItems(!0),o._updatePositions(),o._checkScrollButtons()},updateAt:function(e,t){var o=this,n=o._items[e];n.innerHTML=t.newTitle,o._contentSections[e].innerHTML=t.newContent,n._isInitialized=!1,o.initContent&&e===o.selectedIndex&&(o.initContent(e),n._isInitialized=!0),o._updatePositions()},setPopupLayout:function(e,t,o,n){var i=this,r=i._contentSections[e];"popup"===i.mode&&(r.getAttribute("data-width")||(r.style.width&&r.setAttribute("data-width",r.style.width),r.style.height&&r.setAttribute("data-height",r.style.height)),o&&(r.style.width=i._toPx(o)),n&&(r.style.height=i._toPx(n)),r._layout=t,i._positionContent(e))},propertiesChangedHandler:function(e,t,o){o&&o.width&&o.height&&2===Object.keys(o).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(t,o,n,i){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)&&i!==n)switch(o){case"width":case"height":t.element.style[o]=t._toPx(i),t._updateSize();break;case"position":t._render();break;case"mode":t._contentElement.style.width="auto",t._removeHandlers(null,n),t._render();break;case"selectedIndex":t._selectAt(i,n);break;case"selectionMode":t._removeHandlers(n),t._addHandlers();break;case"scrollPosition":var r=t._scrollButtonNear,s=t._scrollButtonFar;e(r).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+n+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),e(s).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+n+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),r.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+i),s.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+i),t._scrollButtonRc(r,s),t._checkScrollButtons(),t._updatePositions();break;case"disabled":!0===i?(t._removeHandlers(),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._addHandlers());break;case"theme":e.jqx.utilities.setTheme(n,i,t.host);break;case"rtl":if(!0===i){t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-rtl");for(var a=0;a<t._items.length;a++)t._items[a].className+=" "+t.toThemeProperty("jqx-ribbon-item-rtl")}else{t._header.removeClass(t.toThemeProperty("jqx-ribbon-header-rtl"));for(var l=0;l<t._items.length;l++)e(t._items[l]).removeClass(t.toThemeProperty("jqx-ribbon-item-rtl"))}t._positionSelectionToken(t.selectedIndex)}},_raiseEvent:function(t,o){var n=this.events[t],i=new e.Event(n);i.owner=this,i.args=o;var r;try{r=this.host.trigger(i)}catch(e){}return r},_render:function(t){var o=this;switch(!0!==t&&o._removeHandlers(),o._selectionTokenOffsetY=0,o._browser.browser){case"mozilla":o._browserWidthRtlFlag=0,o._browserScrollRtlFlag=1,o._selectionTokenOffsetX=1;break;case"msie":o._browserWidthRtlFlag=0,o._browserScrollRtlFlag=-1,"8.0"===o._browser.version?o._selectionTokenOffsetX=1:"7.0"===o._browser.version?(o._selectionTokenOffsetX=0,"popup"!==o.mode||"bottom"!==o.position&&"right"!==o.position||(o._selectionTokenOffsetY=2)):o._selectionTokenOffsetX=0;break;default:o._browserWidthRtlFlag=1,o._browserScrollRtlFlag=1,o._selectionTokenOffsetX=0}if(!0===t){var n=o.host.children();o._headerElement=n[0],o._header=e(n[0]),o._contentElement=n[1],o._content=e(n[1]),o._checkStructure(n)}o._headerElement.style.float="none",o._contentElement.style.padding="0px",o.element.style.width=o._toPx(o.width),o.element.style.height=o._toPx(o.height),"bottom"!==o.position&&"right"!==o.position||o.element.insertBefore(o._contentElement,o._headerElement),"top"===o.position||"bottom"===o.position?o._orientation="horizontal":o._orientation="vertical","right"===o.position?o._headerElement.style.float="right":"left"===o.position&&(o._headerElement.style.float="left"),o._contentSections=o._content.children(),e.each(o._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===t&&(o._selectionToken=document.createElement("div"),o._selectionToken.className=o.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+o.position),o.element.appendChild(o._selectionToken)),o._updateItems(),!0!==o._initiallyHidden&&o._addClasses(),!0===t&&(o._appendScrollButtons(),o._checkScrollButtons()),o._allowSelection=!0,-1!==o.selectedIndex&&(o._items[o.selectedIndex].className+=" "+o.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),o._positionSelectionToken(o.selectedIndex),o._contentSections[o.selectedIndex].style.display="block",o.initContent&&(o.initContent(o.selectedIndex),o._items[o.selectedIndex]._isInitialized=!0)),o.disabled?o.element.className+=" "+o.toThemeProperty("jqx-fill-state-disabled"):o._addHandlers(),e.jqx.utilities.resize(o.host,function(){o._initiallyHidden&&(o._initiallyHidden=!1,o._addClasses(),-1!==o.selectedIndex&&(o._items[o.selectedIndex].className+=" "+o.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),o._updateSize(!0)})},_updateSize:function(e){var t=this;if("7.0"===t._browser.version&&"msie"===t._browser.browser)if("horizontal"===t._orientation)t._header.css("width",t.host.width()-parseInt(t._header.css("padding-left"),10)-parseInt(t._header.css("padding-right"),10)-parseInt(t._header.css("border-left-width"),10)-parseInt(t._header.css("border-right-width"),10)),t._contentSections.width(t._content.width()-parseInt(t._contentSections.css("border-left-width"),10)-parseInt(t._contentSections.css("border-right-width"),10)-parseInt(t._contentSections.css("padding-left"),10)-parseInt(t._contentSections.css("padding-right"),10)),"default"===t.mode&&"string"==typeof t.height&&-1!==t.height.indexOf("%")&&t._contentSections.height(t._content.height()-t._header.height()-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("border-top-width"),10)-1);else if(t._header.css("height",t.host.height()-parseInt(t._header.css("padding-top"),10)-parseInt(t._header.css("padding-bottom"),10)-parseInt(t._header.css("border-top-width"),10)-parseInt(t._header.css("border-bottom-width"),10)),t._contentSections.height(t._content.height()-parseInt(t._contentSections.css("border-top-width"),10)-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("padding-top"),10)-parseInt(t._contentSections.css("padding-bottom"),10)),"default"===t.mode&&"string"==typeof t.width&&-1!==t.height.indexOf("%")){var o="left"===t.position?parseInt(t._contentSections.css("border-left-width"),10)+parseInt(t._contentSections.css("border-right-width"),10)+1:0;t._contentSections.width(t._content.width()-t._header.width()-o)}t._checkScrollButtons(!0),t._updatePositions(void 0,e),"popup"===t.mode&&t._positionPopup()},_stopAnimation:function(){var t=this;if(!t._allowSelection){t.selectedIndex=t._animatingIndex;var o=e(t._contentSections[t._animatingIndex]);t._initAnimate(o),o.animate("finish"),t._clearSelection(!0,t._animatingIndex),t._allowSelection=!0}},_selectAt:function(t,o,n){var i=this;if(void 0===o&&(o=i.selectedIndex),(t!==o||!0===n)&&(i._stopAnimation(),i._allowSelection)){if(i._animatingIndex=t,-1!==i.selectedIndex&&i._clearSelection(!0,o),i._allowSelection=!1,i._selecting=t,"click"===i.selectionMode&&e(i._items[t]).removeClass(i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===i.mode&&i._roundedCorners){i._header.removeClass(i.toThemeProperty("jqx-rc-all"));var r,s;switch(i.position){case"top":r="jqx-rc-t",s="jqx-rc-b";break;case"bottom":r="jqx-rc-b",s="jqx-rc-t";break;case"left":r="jqx-rc-l",s="jqx-rc-r";break;case"right":r="jqx-rc-r",s="jqx-rc-l"}i._headerElement.className+=" "+i.toThemeProperty(r);for(var a=0;a<i._items.length;a++)i._items[a].className+=" "+i.toThemeProperty(r),i._contentSections[a].className+=" "+i.toThemeProperty(s)}i._items[t].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),i._selectionToken.style.display="block",i._updatePositions(t);var l;switch(i.animationType){case"fade":l=e(i._contentSections[t]),i._initAnimate(l),"none"===l.css("display")?l.fadeIn({duration:i.animationDelay,complete:function(){i._animationComplete(t,o)}}):l.fadeOut({duration:i.animationDelay,complete:function(){i._animationComplete(t,o)}});break;case"slide":l=e(i._contentSections[t]);var c=i.position;"top"===c?c="up":"bottom"===c&&(c="down"),i.slideAnimation=i._slide(l,{mode:"show",direction:c,duration:i.animationDelay},t,o);break;case"none":i._contentSections[t].style.display="block",i._animationComplete(t,o)}}},_clearSelection:function(t,o){var n=this;if("popup"===n.mode&&n._roundedCorners&&(n._headerElement.className+=" "+n.toThemeProperty("jqx-rc-all")),n._selecting=-1,void 0===o&&(o=n.selectedIndex),e(n._items[o]).removeClass(n.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),n._selectionToken.style.display="none",!0!==t&&"none"!==n.animationType){var i=e(n._contentSections[o]);if("fade"===n.animationType)n._initAnimate(i),i.fadeOut({duration:n.animationDelay,complete:function(){n._clearSelectionComplete(o)}});else if("slide"===n.animationType){var r=n.position;"top"===r?r="up":"bottom"===r&&(r="down"),n._stopAnimation(),o=n.selectedIndex,n.slideAnimation=n._slide(i,{mode:"hide",direction:r,duration:n.animationDelay},o),n.selectedIndex=-1}}else{if(-1===o)return;n._contentSections[o].style.display="none",n._clearSelectionComplete(o,t)}},_addHandlers:function(){var t,o=this,n=o.element.id,i=!1,r=function(t){if("click"===o.popupCloseMode&&"popup"===o.mode&&-1!==o.selectedIndex){if("svg"===t.target.tagName)return;var i=o._closest(t.target,void 0,"jqx-ribbon");if(void 0!==i&&i.getAttribute("id")!==n)return void o._clearSelection();if(void 0===t.target.className||-1!==t.target.className.indexOf("jqx-ribbon-content-popup"))return void o._clearSelection();if(e(t.target).ischildof(o.host))return;var r=!1,s=[],a=function(e){e.parentElement&&(s.push(e.parentElement),a(e.parentElement))};a(t.target),e.each(s,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return r=!0,!1;if(-1!==this.className.indexOf("jqx-ribbon"))return n===this.id&&(r=!0),!1}}),r||o._clearSelection()}};if("click"===o.selectionMode){for(var s=function(e){return(o._selecting!==e&&!1===o._allowSelection||(-1===o._selecting||o.selectedIndex!==e)&&!0===o._allowSelection)&&!o._items[e]._disabled},a=0;a<o._items.length;a++){var l=o._items[a];o.addHandler(l,"click.ribbon"+n,function(e){var t=o._closest(e.target,"li"),n=t._index;o._items[n]._disabled||(n!==o.selectedIndex?o._selectAt(n):"popup"===o.mode&&"none"!==o.popupCloseMode&&(t.className+=" "+o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),o._clearSelection()))}),o.addHandler(l,"mouseenter.ribbon"+n,function(n){if(!0===o.reorder&&!0===i){for(var r=o._closest(n.target,"li")._index,a=o._items[t].innerHTML,l=o._contentSections[t].childNodes,c=[];l.length>0;)c.push(e(l[0]).detach());o._suppressSelectionEvents=!0,o._oldReorderIndex=t,o.removeAt(t),o.clearSelection(),o.addAt(r,{title:a,content:c}),o.selectAt(r),setTimeout(function(){e(o._items[r]).trigger("mousedown")},0)}else{var d=o._closest(n.target,"li");s(d._index)&&(d.className+=" "+o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}),o.addHandler(l,"mouseleave.ribbon"+n,function(t){var n=o._closest(t.target,"li");s(n._index)&&e(n).removeClass(o.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}),o.addHandler(l,"mousedown.ribbon"+n,function(e){if("#document"!==e.target.nodeName){var n=o._closest(e.target,"li");!0!==o.reorder&&!0!==o._removeByDrag||n._index!==o.selectedIndex||(i=!0,t=n._index,n.style.cursor="move")}})}if("popup"===o.mode){o.addHandler(o.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});for(var c=0;c<o._contentSections.length;c++)o.addHandler(o._contentSections[c],"mouseleave.ribbon"+n,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});o.addHandler(e(document),"mousedown.ribbon"+n,function(e){r(e)})}if(!0===o._removeByDrag)for(var d=0;d<o._items.length;d++)o._items[d].className+=" "+o.toThemeProperty("jqx-ribbon-item-docking-layout");o.addHandler(document,"mouseup.ribbon"+n,function(){i=!1;for(var e=0;e<o._items.length;e++)o._items[e].style.cursor=""}),o.addHandler(o._header,"mouseleave.ribbon"+n,function(e){!0===o._removeByDrag&&!0===i&&(o._raiseEvent("3",{draggedIndex:t,x:e.pageX,y:e.pageY}),o._items.length>1&&o.removeAt(t),i=!1,e.target.style.cursor="")})}else if("hover"===o.selectionMode){for(var h=0;h<o._items.length;h++){var _=o._items[h];o.addHandler(_,"mouseenter.ribbon"+n,function(e){var t=o._closest(e.target,"li")._index;o._items[t]._disabled||t===o.selectedIndex||o._selectAt(t)}),"popup"===o.mode&&o.addHandler(_,"click.ribbon"+n,function(e){var t=o._closest(e.target,"li")._index;o._items[t]._disabled||"popup"===o.mode&&"none"!==o.popupCloseMode&&o._clearSelection()})}if("popup"===o.mode){o.addHandler(o.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});for(var m=0;m<o._contentSections.length;m++)o.addHandler(o._contentSections,"mouseleave.ribbon"+n,function(){"mouseLeave"===o.popupCloseMode&&"popup"===o.mode&&o._clearSelection()});o.addHandler(e(document),"mousedown.ribbon"+n,function(e){r(e)})}}var p,b;e.jqx.mobile.isTouchDevice()?(p="touchstart",b="touchend"):(p="mousedown",b="mouseup"),o.addHandler(o._scrollButtonNear,p+".ribbon"+n,function(){return"horizontal"===o._orientation?o._timeoutNear=setInterval(function(){var e=o._headerElement.scrollLeft,t=o.rtl&&"msie"===o._browser.browser?-1:1;o._headerElement.scrollLeft=e-o.scrollStep*t,o._updatePositions()},o.scrollDelay):o._timeoutNear=setInterval(function(){var e=o._headerElement.scrollTop;o._headerElement.scrollTop=e-o.scrollStep,o._updatePositions()},o.scrollDelay),!1}),o.addHandler(o._scrollButtonFar,p+".ribbon"+n,function(){return"horizontal"===o._orientation?o._timeoutFar=setInterval(function(){var e=o._headerElement.scrollLeft,t=o.rtl&&"msie"===o._browser.browser?-1:1;o._headerElement.scrollLeft=e+o.scrollStep*t,o._updatePositions()},o.scrollDelay):o._timeoutFar=setInterval(function(){var e=o._headerElement.scrollTop;o._headerElement.scrollTop=e+o.scrollStep,o._updatePositions()},o.scrollDelay),!1}),o.addHandler(e(document),b+".ribbon"+n,function(){clearInterval(o._timeoutNear),clearInterval(o._timeoutFar)})},_removeHandlers:function(t,o){var n=this,i=n.element.id;t||(t=n.selectionMode),o||(o=n.mode);for(var r=0;r<n._items.length;r++){var s=n._items[r];n.removeHandler(s,"mouseenter.ribbon"+i),"click"===t&&(n.removeHandler(s,"click.ribbon"+i),n.removeHandler(s,"mouseleave.ribbon"+i),n.removeHandler(s,"mousedown.ribbon"+i))}"click"===t?(n.removeHandler(document,"mouseup.ribbon"+i),n.removeHandler(n._header,"mouseleave.ribbon"+i)):"hover"===t&&"popup"===o&&n.removeHandler(n.host,"mouseleave.ribbon"+i);var a,l;e.jqx.mobile.isTouchDevice()?(a="touchstart",l="touchend"):(a="mousedown",l="mouseup"),n.removeHandler(n._scrollButtonNear,a+".ribbon"+i),n.removeHandler(n._scrollButtonFar,a+".ribbon"+i),n.removeHandler(e(document),l+".ribbon"+i)},_checkStructure:function(e){var t=this;if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");if(t._header.children().length!==t._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var t=this,o="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+t.position,n="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+t._orientation,i="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+t._orientation,r="jqx-ribbon-item jqx-ribbon-item-"+t.position;if(t._content.removeClass(),t._header.removeClass(t.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+t._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),t.host.removeClass(),t._roundedCorners)switch(t.position){case"top":i+=" jqx-rc-t",r+=" jqx-rc-t",o+=" jqx-rc-b";break;case"bottom":i+=" jqx-rc-b",r+=" jqx-rc-b",o+=" jqx-rc-t";break;case"left":i+=" jqx-rc-l",r+=" jqx-rc-l",o+=" jqx-rc-r";break;case"right":i+=" jqx-rc-r",r+=" jqx-rc-r",o+=" jqx-rc-l"}else switch(t.position){case"top":r+=" jqx-rc-t";break;case"bottom":r+=" jqx-rc-b";break;case"left":r+=" jqx-rc-l";break;case"right":r+=" jqx-rc-r"}!0===t.rtl&&(i+=" jqx-ribbon-header-rtl",r+=" jqx-ribbon-item-rtl"),t.element.className+=" "+t.toThemeProperty("jqx-widget jqx-ribbon"),t._headerElement.className+=" "+t.toThemeProperty(i),t._contentElement.className+=" "+t.toThemeProperty(n);for(var s=0;s<t._items.length;s++){var a=e(t._contentSections[s]),l=e(t._items[s]);a.removeClass(),l.removeClass(t.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+t.position)),"popup"===t.mode&&(o+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+t.position+" jqx-ribbon-content-section-"+t._orientation+"-popup"),t._contentSections[s].className+=" "+t.toThemeProperty(o),t._items[s].className+=" "+t.toThemeProperty(r)}var c,d;if("popup"===t.mode?(-1===t.selectedIndex&&t._roundedCorners&&(t.element.className+=" "+t.toThemeProperty("jqx-rc-all"),t._headerElement.className+=" "+t.toThemeProperty("jqx-rc-all")),t.element.className+=" "+t.toThemeProperty("jqx-ribbon-popup"),t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-"+t._orientation+"-popup"),t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-popup"),t._positionPopup()):"horizontal"===t._orientation?"auto"!==t.height?(d=t._headerElement.offsetHeight,"top"===t.position?t._contentElement.style.paddingTop=t._toPx(d):t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-bottom")):t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===t._orientation&&("auto"!==t.width?(c=t._headerElement.offsetWidth,"left"===t.position?t._contentElement.style.paddingLeft=t._toPx(c):(t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-right"),t._contentElement.style.paddingRight=t._toPx(c))):(t.element.className+=" "+t.toThemeProperty("jqx-ribbon-auto"),t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-auto"),t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-auto-width"))),"7.0"===t._browser.version&&"msie"===t._browser.browser)if("horizontal"===t._orientation)t._header.css("width",t.host.width()-parseInt(t._header.css("padding-left"),10)-parseInt(t._header.css("padding-right"),10)-parseInt(t._header.css("border-left-width"),10)-parseInt(t._header.css("border-right-width"),10)),t._items.height(t._items.height()-parseInt(t._items.css("padding-top"),10)-parseInt(t._items.css("padding-bottom"),10)-parseInt(t._items.css("border-top-width"),10)-parseInt(t._items.css("border-bottom-width"),10)),t._contentSections.width(t._contentSections.width()-parseInt(t._contentSections.css("border-left-width"),10)-parseInt(t._contentSections.css("border-right-width"),10)-parseInt(t._contentSections.css("padding-left"),10)-parseInt(t._contentSections.css("padding-right"),10)),"default"===t.mode&&"auto"!==t.height&&("top"===t.position?t._contentSections.css("padding-top",d):t._contentSections.css("padding-bottom",d),t._content.css("height",t.host.height()+2),t._contentSections.css("height",t._content.height()-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("border-top-width"),10)-1));else{var h;"left"===t.position?(t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-left"),h=parseInt(t._contentSections.css("border-left-width"),10)+parseInt(t._contentSections.css("border-right-width"),10)+1):(t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-right"),h=0),t._header.css("height",t.host.height()-parseInt(t._header.css("padding-top"),10)-parseInt(t._header.css("padding-bottom"),10)-parseInt(t._header.css("border-top-width"),10)-parseInt(t._header.css("border-bottom-width"),10)),t._items.width(t._items.width()-parseInt(t._items.css("padding-left"),10)-parseInt(t._items.css("padding-right"),10)-parseInt(t._items.css("border-left-width"),10)-parseInt(t._items.css("border-right-width"),10)),t._contentSections.height(t._contentSections.height()-parseInt(t._contentSections.css("border-top-width"),10)-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("padding-top"),10)-parseInt(t._contentSections.css("padding-bottom"),10)),"default"===t.mode&&"auto"!==t.width&&("left"===t.position?t._contentSections.css("padding-left",c):t._contentSections.css("padding-right",c),t._contentSections.width(t._content.width()-t._header.width()-h))}},_positionPopup:function(){var e=this,t="7.0"===e._browser.version&&"msie"===e._browser.browser;switch(e.position){case"top":e._contentElement.style.top=e._toPx(e._headerElement.offsetHeight);break;case"bottom":e._contentElement.style.bottom=t?e._toPx(e._height(e._headerElement)):e._toPx(e._headerElement.offsetHeight);break;case"left":e._contentElement.style.left=e._toPx(e._headerElement.offsetWidth);break;case"right":e._contentElement.style.right=e._header.outerWidth()+"px"}},_appendScrollButtons:function(){function e(e,o,n){e.className=t.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+t.position+" jqx-ribbon-scrollbutton-"+t.scrollPosition+" jqx-widget-header "+o),e.innerHTML='<div class="'+t.toThemeProperty("jqx-ribbon-scrollbutton-inner "+n)+'"></div>',"horizontal"===t._orientation?e.style.height=t._toPx(t._height(t._headerElement)):e.style.width=t._toPx(t._width(t._headerElement)),t.element.appendChild(e)}var t=this,o="horizontal"===t._orientation?["left","right"]:["up","down"],n=document.createElement("div");e(n,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+o[0]);var i=document.createElement("div");if(e(i,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+o[1]),t._scrollButtonRc(n,i),t._scrollButtonNear=n,t._scrollButtonFar=i,t.roundedCorners)switch(t.position){case"top":case"bottom":n.style.marginLeft="-1px",i.style.marginRight="-1px";break;case"right":case"left":n.style.marginTop="-1px",i.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){var o=this;if(o.roundedCorners)switch(o.position){case"top":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-bl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tl")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==o.scrollPosition&&(e.className+=" "+o.toThemeProperty("jqx-rc-tr")),"near"!==o.scrollPosition&&(t.className+=" "+o.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){o._items[n]._index===o.selectedIndex&&(o.selectedIndex=n)}var o=this;o._items=o._header.children(),o._contentSections=o._content.children();for(var n=0;n<o._items.length;n++){var i=o._items[n];i.setAttribute("unselectable","on"),void 0===i._index&&(i._disabled=!1,i._isInitialized=!1,o._contentSections[n]._layout="default"),!0===e&&t(),i._index=n,!0!==e&&t(),o._contentSections[n]&&(o._contentSections[n]._index=n)}},_positionContent:function(t){var o,n,i,r,s,a,l=this,c=l._contentSections[t];"horizontal"===l._orientation?(o=l.element.offsetWidth,n=l.host.offset().left,i=l._items[t].offsetWidth,r=e(l._items[t]).offset().left,s=c.offsetWidth||parseInt(c.style.width,10),a="left"):(o=l.element.offsetHeight,n=l.host.offset().top,i=l._items[t].offsetHeight,r=e(l._items[t]).offset().top,s=c.offsetHeight||parseInt(c.style.height,10),a="top");var d=function(e){e<0?e=0:e+s>o&&(e=o-s),c.style[a]=l._toPx(e)};switch(c._layout){case"near":d(r-n);break;case"far":d(r-n-(s-i));break;case"center":d(r-n-(s-i)/2);break;default:if("right"===l.position)for(var h=0;h<l._contentSections.length;h++)l._contentSections[h].style.right="1px";else c.style[a]=""}},_checkScrollButtons:function(t){var o=this,n=0;e.each(o._items,function(){var t=e(this);"none"!==t.css("display")&&(n+="horizontal"===o._orientation?t.outerWidth(!0):t.outerHeight(!0))});var i="horizontal"===o._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],r="horizontal"===o._orientation?o._width(o._headerElement):o._height(o._headerElement);if(o._itemMargins||(o._itemMargins=[],o._itemMargins.push(e(o._items[0]).css(i[0])),o._itemMargins.push(e(o._items[o._items.length-1]).css(i[1]))),n>r){o._scrollButtonNear.style.display="block",o._scrollButtonFar.style.display="block";var s=o.rtl?o._itemMargins[0]:17,a=o.rtl?o._itemMargins[0]:17;switch(o.scrollPosition){case"near":a=0,s=34;break;case"far":a=34,s=17}o._items[0]&&(o._items[0].style[i[0]]=o._toPx(s)),o._items[o._items.length-1]&&(o._items[o._items.length-1].style[i[1]]=o._toPx(a))}else o._items[0]&&(o._items[0].style[i[0]]=o._toPx(o._itemMargins[0])),o._items[o._items.length-1]&&(o._items[o._items.length-1].style[i[1]]=o._toPx(o._itemMargins[1])),o._scrollButtonNear.style.display="none",o._scrollButtonFar.style.display="none";if(!0===t)if("horizontal"===o._orientation){var l=o._toPx(o._height(o._headerElement));o._scrollButtonNear.style.height=l,o._scrollButtonFar.style.height=l}else{var c=o._toPx(o._width(o._headerElement));o._scrollButtonNear.style.width=c,o._scrollButtonFar.style.width=c}},_positionSelectionToken:function(t){var o=this;if(-1!==t){var n=e(o._items[t]);if(0===n.length)return;var i,r,s,a,l;if("horizontal"===o._orientation){var c,d;!0===o.rtl?(c=1===o._browserWidthRtlFlag?o._headerElement.scrollWidth-o._headerElement.clientWidth:0,d=o._browserScrollRtlFlag):(c=0,d=1),s=n[0].offsetLeft+c-o._headerElement.scrollLeft*d-o._selectionTokenOffsetX+2,l=o._headerElement.offsetHeight-1;var h=o._width(n[0])+parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10);"top"===o.position?(i=l-o._selectionTokenOffsetY,r=""):(i="",r=l-o._selectionTokenOffsetY),o._selectionToken.style.top=o._toPx(i),o._selectionToken.style.bottom=o._toPx(r),o._selectionToken.style.left=o._toPx(s),o._selectionToken.style.width=o._toPx(h)}else{i=n[0].offsetTop-o._headerElement.scrollTop-o._selectionTokenOffsetX+2,l=o._headerElement.offsetWidth-1;var _=o._height(n[0])+parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10);"left"===o.position?(s=l-o._selectionTokenOffsetY,a=""):(s="",a=l-o._selectionTokenOffsetY),o._selectionToken.style.top=o._toPx(i),o._selectionToken.style.left=o._toPx(s),o._selectionToken.style.right=o._toPx(a),o._selectionToken.style.height=o._toPx(_)}}},_updatePositions:function(e,t){var o=this;if(isNaN(e)&&(e=!0===t&&null!==o._selecting&&o._selecting>=0?o._selecting:o.selectedIndex),-1!==e&&(o._positionSelectionToken(e),"popup"===o.mode&&"default"!==o._contentSections[e]._layout&&o._positionContent(e),"popup"===o.mode&&("left"===o.position||"right"===o.position))){o._contentElement.style.width="auto";var n=o._contentSections[e].style.width&&o._contentSections[e].style.width.indexOf("%")>=0;o._contentElement.style.width=n?o._toPx(o._width(o._contentSections[e])-o._width(o._headerElement)):o._toPx(o._width(o._contentSections[e]))}},_animationComplete:function(e,t){var o=this,n=-1!==t?t:null;o._contentElement.style.pointerEvents="auto",!0!==o._suppressSelectionEvents?(o._raiseEvent("0",{selectedIndex:e}),o._raiseEvent("2",{unselectedIndex:n,selectedIndex:e})):(!0!==o._suppressReorder&&void 0!==o._oldReorderIndex&&e!==o._oldReorderIndex&&o._raiseEvent("4",{newIndex:e,oldIndex:o._oldReorderIndex}),o._suppressSelectionEvents=!1,o._suppressReorder=!1),o.selectedIndex=e,o.initContent&&!1===o._items[e]._isInitialized&&(o.initContent(e),o._items[e]._isInitialized=!0),o._allowSelection=!0,o._selecting=null},_clearSelectionComplete:function(e,t){var o=this;o._selecting=null,void 0===e&&(e=o.selectedIndex),-1!==e&&(o._contentElement.style.pointerEvents="none",!0!==o._suppressSelectionEvents&&o._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(o.selectedIndex=-1)},_slide:function(t,o,n,i){var r=this;if(r.activeAnimations||(r.activeAnimations=[]),r.activeAnimations.length>0)for(var s=0;s<r.activeAnimations.length;s++)r.activeAnimations[s].clearQueue(),r.activeAnimations[s].finish();else t.clearQueue(),t.animate("finish");var a,l={save:function(e,t){for(var o=0;o<t.length;o++)null!==t[o]&&e.length>0&&e.data("ui-effects-"+t[o],e[0].style[t[o]])},restore:function(e,t){var o,n;for(n=0;n<t.length;n++)null!==t[n]&&(void 0===(o=e.data("ui-effects-"+t[n]))&&(o=""),e.css(t[n],o))},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var o={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(o,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){o[n]=t.css(n),isNaN(parseInt(o[n],10))&&(o[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),n.css(o).show()},removeWrapper:function(t){var o=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===o||e.contains(t[0],o))&&e(o).focus()),t}},c=["position","top","bottom","left","right","width","height"],d=o.mode,h="show"===d,_=o.direction||"left",m="up"===_||"down"===_?"top":"left",p="up"===_||"left"===_,b={};l.save(t,c),t.show(),a=o.distance||t["top"===m?"outerHeight":"outerWidth"](!0),l.createWrapper(t).css({overflow:"hidden"}),h&&t.css(m,p?isNaN(a)?"-"+a:-a:a),b[m]=(h?p?"+=":"-=":p?"-=":"+=")+a;return r.activeAnimations.push(t),t.animate(b,{duration:o.duration,easing:o.easing,complete:function(){r.activeAnimations.pop(t),"show"===d?r._animationComplete(n,i):"hide"===d&&(t.hide(),r._clearSelectionComplete(n)),l.restore(t,c),l.removeWrapper(t)}}),function(){t.clearQueue(),t.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(t){var o=e(t),n=o.css("border-left-width"),i=o.css("border-right-width"),r=parseInt(o.css("padding-left"),10),s=parseInt(o.css("padding-right"),10),a="none"===o.css("display");a&&(t.style.display="block"),n=-1===n.indexOf("px")?1:parseInt(n,10),i=-1===i.indexOf("px")?1:parseInt(i,10);var l=t.offsetWidth-(n+i+r+s);return a&&(t.style.display="none"),Math.max(0,l)},_height:function(t){var o=e(t),n=o.css("border-top-width"),i=o.css("border-bottom-width"),r=parseInt(o.css("padding-top"),10),s=parseInt(o.css("padding-bottom"),10);n=-1===n.indexOf("px")?1:parseInt(n,10),i=-1===i.indexOf("px")?1:parseInt(i,10);var a=t.offsetHeight-(n+i+r+s);return Math.max(0,a)},_closest:function(e,t,o){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var n=e.parentNode;null!==n&&"#document"!==n.nodeName;){if(n.nodeName.toLowerCase()===t)return n;n=n.parentNode}}if(o){if((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+o+" ")>-1)return e;for(var i=e.parentNode;null!==i&&"#document"!==i.nodeName;){if((" "+i.className+" ").replace(/[\n\t]/g," ").indexOf(" "+o+" ")>-1)return i;i=i.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return;e.initAnimate()}}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.jqxWidget("jqxScheduler","",{}),e.extend(e.jqx._jqxScheduler.prototype,{defineInstance:function(){var t={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:359,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new e.jqx.date(0),max:new e.jqx.date(9999,12,31),date:new e.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:369,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===e.jqx._jqxScheduler.prototype?t:(e.extend(!0,this,t),this.that=this,t)},createInstance:function(t){var i=this;i._views=new Array,i._view=i.view;for(o=0;o<i.views.length;o++)"string"===e.type(i.views[o])?i._views.push({type:i.views[o]}):i._views.push(i.views[o]);for(var o=0;o<i._views.length;o++)if(i._views[o].type==i.view){i._view=o;break}15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var r=i.source._source.datafields;r&&r.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-scheduler")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content jqx-disableselect")),i._testmodules()||(i.overlay=e("<div style='z-index: 999; position:absolute;'></div>"),i.overlay.hide(),i.overlay.appendTo(i.host),i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),o=e(window).height();i._hostWidth=null,i._hostHeight=null;var r=i.host.width(),n=i.host.height();i._hostWidth=r,i._hostHeight=n,i._lastHostWidth==r&&i._lastHostHeight==n||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=n),i._lastWidth=t,i._lastHeight=o,i._lastHostWidth=r,i._lastHostHeight=n}),i.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=e("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,e(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var o=i.find("button");o.jqxButton({theme:t.theme,width:"50%",height:30});var r=!1;o.mousedown(function(){r=!0,this.id.indexOf("editRecurringAppointmentOccurrence")>=0?t.editSeries(!1):t.editSeries(!0),e(i).jqxWindow("close")}),this.addHandler(e(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(e(i),"keydown",function(t){if(13==t.keyCode&&e(document.activeElement).ischildof(e(i))&&"button"==document.activeElement.nodeName.toLowerCase())return e(document.activeElement).trigger("mousedown"),e(document.activeElement).trigger("mouseup"),!0}),this.addHandler(e(i),"close",function(e){if(!r)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;r=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,o=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,o.days&&(t=o.days);break;case"weekView":case"timelineWeekView":t=7,o.days&&(t=o.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,o.days&&(t=o.days);break;case"agendaView":t=7,o.days&&(t=o.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||i>6)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){var e=this.date;e<this.min&&(e=this.min),e>this.max&&(e=this.max);var t=this._views[this._view].type;this._views[this._view];switch(e=e.clearTime(),t){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return e}var i=e.day();return e=e.addDays(1-i)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var o=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(o=!0),o?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=function(){""!=t.length&&(t+=",")};this.host.jqxScrollBar||(i(),t+=" jqxscrollbar.js"),this.host.jqxButton||(i(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(i(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(i(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(i(),t+=" jqxcalendar.js");try{Globalize||(i(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updatesize:function(t,i){if(!this._loading){var o=this,r=o.host.width(),n=o.host.height();o._oldWidth||(o._oldWidth=r),o._oldHeight||(o._oldHeight=n),void 0!=o._resizeTimer&&(clearTimeout(o._resizeTimer),o._resizeTimer=null);var s=function(){o._resizeTimer&&clearTimeout(o._resizeTimer),o.resizingGrid=!0,e.jqx.isHidden(o.host)||(o._updatecolumnwidths(),o.refresh(),o._oldWidth=r,o._oldHeight=n,o.resizingGrid=!1)};s(),o._resizeTimer=setTimeout(function(){var e=o.host.width(),t=o.host.height();o._oldWidth==e&&o._oldHeight==t||s()},300)}},resize:function(e,t){void 0!=e&&(this.width=e),void 0!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchMode?(t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t):0==this.touchMode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=t){for(var o in this.schedulerLocalization)t[o]&&(this.schedulerLocalization[o]=t[o]);t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;("auto"===i.width||null===i.width||i.autowidth)&&999999==i.maxWidth&&(t=!0);var o=i._views[i._view].type,r=i._views[i._view];if("monthView"==o&&i.resources&&"none"==i.resources.orientation&&!r.monthRowAutoHeight){l=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(l!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var n=parseInt(i.scrollBarSize),s=i.table?i.table.height():0,a=0,l=i.vScrollBar[0].style.visibility;i.hScrollBar[0].style.visibility;if(e)d=e;else var d=i.host.height();i.columnGroups?d-=i.showHeader?i.columnsheader.height():0:d-=i.showHeader?i.columnsHeight:0,i.filterable&&(d-=i.filter.height()),i.pageable&&(d-=i.pagerHeight,"both"===i.pagerPosition&&(d-=i.pagerHeight)),i.showToolbar&&(d-=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(d-=i.legendHeight);var h=!1;("auto"===i.height||null===i.height||i.autoheight)&&999999==i.maxHeight&&(h=!0),!h&&s>d&&i.getRows().length>0?(i.vScrollBar[0].style.visibility="inherit",a=4+parseInt(n),i.vScrollBar.jqxScrollBar({max:s-d})):i.vScrollBar[0].style.visibility="hidden",l!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();var c=i.table?i.table.width():0;c>4&&(c-=4);var p=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),u=p+i.host.width()-a;if(c>u&&!t){if(i.hScrollBar[0].style.visibility="inherit",i.hScrollBar.jqxScrollBar({max:2+p+c-u}),a=4+parseInt(n),0==n&&(a=0),!h&&s!=d){if(s>d-a+4&&i.getRows().length>0){i.hScrollBar.jqxScrollBar({max:p+c-u});var m="hidden"===i.vScrollBar[0].style.visibility;i.vScrollBar[0].style.visibility="inherit",i._updatecolumnwidths(),m&&i.hScrollBar.jqxScrollBar({max:c-u+p});var f=i.table?i.table.width():0;f>3&&(f-=3),f!=c&&(f<u?(i.hScrollBar.jqxScrollBar({max:p+f-u}),i.hScrollBar[0].style.visibility="hidden",a=0):m?f>u&&i.hScrollBar.jqxScrollBar({max:p+f-u}):i.hScrollBar.jqxScrollBar({max:c-u+p-n}))}s-d>0?i.vScrollBar.jqxScrollBar({max:s-d+a}):i.vScrollBar[0].style.visibility="hidden"}}else i.hScrollBar[0].style.visibility="hidden";0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var o=i.outerWidth()+20;return i.remove(),o},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this._hostHeight=null,this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showLegend&&this._resources.length>0?this.legendHeight:0,i+=this.showToolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var o=this.filter.find(".filterrow"),r=1;this.filter.find(".filterrow-hidden").length>0&&(r=0),i+=this.filterHeight-1+this.filterHeight*o.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var o=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==o?o=this._measureElementWidth(this.columns.records[i].text):o)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&this._resources.length>0&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.legendHeight;0==this._resources.length&&(e=0);var t=this._hostWidth?this._hostWidth:this.host.width(),i=this._hostHeight?this._hostHeight:this.host.height(),o=i;this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var r=0;if(this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition){this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=r+"px"&&(this.legendbartop[0].style.top=r+"px");var n=r+e+"px";r+=e,this.content[0].style.top!=n&&(this.content[0].style.top=r+"px")}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(o);var s=parseInt(this.scrollBarSize),a=2,l=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(l=s+4),"hidden"!=this.hScrollBar[0].style.visibility&&(a=s+4+2),0==s&&(a=0,l=0),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var d=this._arrangeAutoHeight(a-2),h=this._arrangeAutoWidth(l+1);if((d||h)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),d){var c=this._measureTopAndHeight();r=c.top,i=c.height}}var p=0;this.showLegend&&"bottom"==this.legendPosition?(a+=e,p+=e):this.showLegend&&(a+=e),this.hScrollBar[0].style.height!=s+"px"&&(this.hScrollBar[0].style.height=parseInt(s)+"px"),this.hScrollBar[0].style.top==r+i-4-s-p+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-s-p-1+"px",this.hScrollBar[0].style.left="0px");var u=this.hScrollBar[0].style.width,m=!1,f=!1;0==l?u!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",m=!0):u!=t-s-4+"px"&&(this.hScrollBar[0].style.width=t-s-4+"px",m=!0),this.vScrollBar[0].style.width!=s+"px"&&(this.vScrollBar[0].style.width=s+"px",f=!0),this.vScrollBar[0].style.height!=parseInt(i)-a+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-a+"px",f=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(s)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(s)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:s+2}));var g=this.vScrollInstance;g.disabled=this.disabled;var w=this.hScrollInstance;w.disabled=this.disabled,m&&w.refresh(),f&&g.refresh();!function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(s)+3+"px",e.bottomRight[0].style.height=parseInt(s)+4+"px"):e.bottomRight[0].style.visibility="hidden"}(this),this.content[0].style.width!=t-l+"px"&&(this.content[0].style.width=t-l+"px"),this.content[0].style.height!=i-a+3+"px"&&(this.content[0].style.height=i-a+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&this.content.css("left",l),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",r-1+i-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=o;var v=this.schedulercontent.coord();this._tableOffset=v}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)var t=e.left,e=e.top;null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,o){if(!0!==this.loadingstate){var r=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var n=this;null==t&&(t={}),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);null!=t&&(void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new e.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,this.dataview.scheduler=this,this.resourcesDataView.scheduler=this,this._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var s=1;this.resources&&this.resources.source&&(s=2);var a=0,l=function(){if(a==s){n._resourcesBinding=!1;var t=n._resources.length>1?n._resources.length:1;if(n.resources&&"horizontal"===n.resources.orientation?(n.tableColumns=t,n.tableRows=1):n.resources&&"vertical"===n.resources.orientation?(n.tableRows=t,n.tableColumns=1):(n.tableColumns=1,n.tableRows=1),n._render(),n.autoShowLoadElement&&!n._loading&&(e(n.dataloadelement).css("visibility","hidden"),e(n.dataloadelement).css("display","none")),n._updateTouchScrolling(),n._raiseEvent("bindingComplete"),o&&o(),!n.initializedcall){if(n.initializedcall=!0,n.isInitialized=!0,(null!=n.width&&-1!=n.width.toString().indexOf("%")||null!=n.height&&-1!=n.height.toString().indexOf("%"))&&n._updatesize(!0),n.ready&&n.ready(),n._rendercelltexts&&n._rendercelltexts(),n._gridRenderElement){e(n._gridRenderElement).show("slow");var i=6e3+Math.floor(4e3*Math.random()+1),l=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(l)](function(){e(n._gridRenderElement).hide("slow",function(){e(n._gridRenderElement).remove()})},i)}if("hidden"==n.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==n.vScrollBar.css("visibility")&&n.vScrollBar.css("visibility","inherit"),"visible"==n.hScrollBar.css("visibility")&&n.hScrollBar.css("visibility","inherit"),n._intervalTimer=setInterval(function(){"visible"==n.host.css("visibility")&&(n._updatesize(!0),clearInterval(n._intervalTimer))},100)}}}};this._resourcesBinding=!1,this.dataview.update=function(t){n._loading=!1,n.appointmentsByKey=new Array,n.appointments=new Array,n.uiappointments=new Array;n.source._source.datafields;for(var i=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],o=new Array,r=0;r<n.source.records.length;r++){var s=n.source.records[r],d={};for(var h in n.appointmentDataFields){v=s[n.appointmentDataFields[h]];if("from"!=h&&"to"!=h||(v=new e.jqx.date(v)),"style"==h&&v){var c=n.getAppointmentColors(v);d.color=c.color,d.background=c.background,d.borderColor=c.border}if("recurrencePattern"==h&&v&&((v=new e.jqx.scheduler.recurrencePattern(v)).timeZone=s.timeZone||n.timeZone),"recurrenceException"==h){var p=new Array;if(v){v.indexOf("EXDATE:")>=0&&(v=v.substring(v.indexOf("EXDATE:")+7));var u=new Array;v.indexOf(",")>=0?u=v.split(","):u.push(v);for(var m=0;m<u.length;m++){var f=u[m];if(f.indexOf(";")>=0){var g=f.split(";")[1];f=f.split(";")[0],g.toLowerCase().indexOf("display")>=0&&g.toLowerCase().indexOf("none")&&(d.hidden=!0)}try{"Invalid Date"!=(b=e.jqx.scheduler.utilities.untilStringToDate(f))&&(b=d.timeZone?new e.jqx.date(b,d.timeZone):n.timeZone?b.toTimeZone(n.timeZone):new e.jqx.date(b))}catch(t){b=new e.jqx.date(f,n.timeZone)}p.push(b)}}v=p}d[h]=v}for(var w in i)if(void 0==d[h=i[w]]){var v="";if("originalData"==h)continue;"ownerId"==h&&(v=null),"timeZone"==h&&(v=null),"recurrencePattern"==h&&(v=null),"recurrenceException"==h&&(v=null),"allDay"==h&&(v=!1),"draggable"==h&&(v=!0),"resizable"==h&&(v=!0),"hidden"==h&&(v=!1),"resourceId"==h&&(v=null),"from"==h&&(v=new e.jqx.date),"to"==h&&(v=(new e.jqx.date).addHours(1)),d[h]=v}d.originalData=s,n.resources&&!n.resources.source&&(n._resourcesBinding||-1==o.indexOf(d.resourceId)&&o.push(d.resourceId)),n.appointmentsByKey[s.uid]=d,n.appointments.push(d);var y=new e.jqx.scheduler.appointment(d);if(d.timeZone&&(y.from=y.from.toTimeZone(d.timeZone),y.to=y.to.toTimeZone(d.timeZone)),n.timeZone?(d.timeZone||(y.timeZone=n.timeZone),y.from=y.from.toTimeZone(n.timeZone),y.to=y.to.toTimeZone(n.timeZone)):(y.from=y.from.toTimeZone(null),y.to=y.to.toTimeZone(null)),d.jqxAppointment=y,d.recurrenceException)for(var x=0;x<d.recurrenceException.length;x++){var b=y.recurrenceException[x],A=y.clone();A.occurrenceFrom=b;var T=y.duration();n.allDay&&(T=new e.jqx.timeSpan(1e4*(n.to-n.from))),A.from=b,A.to=b.add(T),A.rootAppointment=y,A.hidden=!0,y.exceptions.push(A)}y.boundAppointment=d,y.scheduler=n,n.uiappointments.push(y)}n._resourcesBinding||(n._resources=o),a++,l()},this.resourcesDataView.update=function(e){if(n.resources.dataField){n._resources=new Array;for(var t=0;t<e.length;t++)n._resources.indexOf(e[t][n.resources.dataField])>=0||e[t][n.resources.dataField]&&n._resources.push(e[t][n.resources.dataField])}else n._resources=e;void 0==n.resources.orientation&&(n.resources.orientation="none"),a++,l()},this.dataview.databind(t),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source))}},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var o=t,r=i;r.owner=this;var n=new e.Event(o);n.owner=this,n.args=r;var s=this.host.trigger(n);return i=n.args,s},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!t)return!1;var i=this.getViewStart(),o=this.getViewEnd();if(!e.jqx.scheduler.utilities.rangeIntersection(t.from,t.to,i,o))return this.navigateTo(t.from),this._ensureAppointmentVisible(t);var r=t.id,n=e('[data-key="'+r+'"]');if(n.length>0)s=n[0];else{if(!(t.elements&&t.elements.length>0))return!1;var s=t.elements[0].element}var a=this.vScrollInstance.value,l=this.hScrollInstance.value;if(this.rtl)l=this.hScrollInstance.max-l;var d=this.element.clientHeight,h=this.element.clientWidth,c=0;this.columnGroups?c+=this.showHeader?this.columnsheader.height():0:c+=this.showHeader?this.columnsHeight:0;var p=this._views[this._view].type,u=this._views[this._view],m=0;if("dayView"==p||"weekView"==p){var f=this.showAllDayRow;!u.timeRuler||"dayView"!==p&&"weekView"!==p||void 0!=u.timeRuler.showAllDayRow&&(f=u.timeRuler.showAllDayRow),f&&(m=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var g=t.duration().days()>=1||t.allDay;if(g&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(c+=this.toolbarHeight),d-=c,this.showLegend&&this._resources.length>0&&(d-=this.legendHeight);var w=a-0,v=d+w-m,y=l-0,x=h+y,b=s,A=((b=e(b))[0].clientHeight,b.position().top-m);if(A<=w)(T=A)<0&&(T=0),(!g||g&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",T);else if(A>=v){var T=A;T<0&&(T=0),(!g||g&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",T-2)}var _=b.position().left;_=Math.round(_),b.outerWidth();if(0===Math.round(b.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),_<=y){var S=_-b.outerWidth()+0;S<0&&(S=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-_):this.hScrollBar.jqxScrollBar("setPosition",_)}_>x&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-_):this.hScrollBar.jqxScrollBar("setPosition",_))},ensureVisible:function(t,i){for(var o=this,r="date"==e.type(t)?t:t.toDate(),n=0;n<o.rows.length;n++)for(var s=0;s<o.rows[n].cells.length;s++){var a=o.rows[n].cells[s];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date");if((0,o._getDateByString)(l).valueOf()==r.valueOf())return o._ensureVisible(a)}}},_ensureVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var i=this.vScrollBar.jqxScrollBar("value"),o=this.hScrollBar.jqxScrollBar("value");this.rtl&&(o=this.hScrollBar.jqxScrollBar("max")-o);var r=this._hostHeight,n=this._hostWidth,s=0;this.columnGroups?s+=this.showHeader?this.columnsheader.height():0:s+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(s+=this.toolbarHeight),r-=s,this.showLegend&&this._resources.length>0&&(r-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var a=this._views[this._view].type,l=this._views[this._view],d=0;if("dayView"==a||"weekView"==a){var h=this.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||void 0!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow),h&&(d=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight)}var c=i-0,p=r+c-d,u=o-0,m=n+u,f=t,g=(f=e(f)).position().top-d,w=g+f.outerHeight(),v=f.position().left,y=(v=Math.round(v))+f.outerWidth();if(0===Math.round(f.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),v<=u){var x=v-f.outerWidth()+0;x<0&&(x=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-x):this.hScrollBar.jqxScrollBar("setPosition",x)}y>=m&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+y-n)):this.hScrollBar.jqxScrollBar("setPosition",2+y-n));var b=f.parent().index();if(this.tableRows>0&&b--,0===Math.round(f.position().top)||0===b)return this.vScrollBar.jqxScrollBar("setPosition",0);var A=this.table[0].rows.length-1;if(this.table[0].rows[A][0]===f.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(g<=c){var T=g;return T<0&&(T=0),this.vScrollBar.jqxScrollBar("setPosition",T)}return w>=p?this.vScrollBar.jqxScrollBar("setPosition",4+w-r+d):void 0},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var o=this.getColumn(e);if(null!=o){o[t];o[t]=i;var r=this.getColumn(e);switch(null!=r&&(r[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(o._width=null,o._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){var i=this;if(e.jqx.isHidden(i.host))return;i.table[0].style.top="0px",i.vScrollInstance.setPosition(0),i._renderrows(),i._arrange(),i._renderhorizontalscroll(),i._updateTouchScrolling(),i._refreshToolBar(),i._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],o=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||void 0!=i.timeRuler.showAllDayRow&&(o=i.timeRuler.showAllDayRow),!o||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){e.focusedCell=null;for(var r=0;r<this.rows.length;r++){for(var n=0;n<this.rows[r].cells.length;n++){var s=this.rows[r].cells[n];if(-1==s.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=s;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),o=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.schedulercontent&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,o+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(!t.dragOrResize){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date}},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var o=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=o.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var n=this.source.datafields;if(null==n&&this.source._source&&(n=this.source._source.datafields),n)for(var s=0;s<this.columns.length;s++){var a=this.columns[s];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<n.length;l++)if(n[l].name==a.datafield&&!n[l].format){n[l].format=a.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var d=this,h=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.schedulercontent&&(d.schedulercontent[0].scrollLeft=0,d.schedulercontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return h(),!1}),!0!==t&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.schedulerDataCollection(t.element):t._initializeColumns(),t.host.height(t.height),t.host.width(t.width),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.schedulercontent=t.schedulercontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.schedulercontent.remove();var i=t.columnsHeight;i=t._preparecolumnGroups(),t.columnsheader.height(i),t.content.append(t.columnsheader),t.content.append(t.schedulercontent),t._rendercolumnheaders(),t.tableheight=null,t.schedulercontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),null!=t.pinnedtable&&(t.pinnedtable.remove(),t.pinnedtable=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.pinnedtable=e('<div id="contenttable2'+t.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),t.schedulercontent.addClass(t.toTP("jqx-grid-content")),t.schedulercontent.addClass(t.toTP("jqx-widget-content")),t.schedulercontent.append(t.table),1==t.tableRows&&t.schedulercontent.append(t.pinnedtable),t._renderrows(),t._arrange(),t._resourcesElements=new Array;var o=function(i,o){i.children().remove();var i=e("<div style='margin:5px; position: relative;'></div>").appendTo(i);t._resourcesElements[o]=new Array,e.each(t._resources,function(r){var n=t.getColors(r),s=this.toString(),a=e("<div data-toggle='on' style='border-color: "+n.border+"; background: "+n.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>");a.appendTo(i);var l=e("<div class='"+t.toThemeProperty("jqx-scheduler-legend-label")+"'>"+s+"</div>");l.appendTo(i),t._resourcesElements[o][s]=a;var d=function(){"on"==a.attr("data-toggle")?t.hideAppointmentsByResource(s):t.showAppointmentsByResource(s)};t.addHandler(a,"mousedown",function(){return d(),!1}),t.addHandler(l,"mousedown",function(){return d(),!1})})};o(t.legendbarbottom,"bottom"),o(t.legendbartop,"top"),"top"==t.legendPosition?t.legendbarbottom.hide():t.legendbartop.hide(),0==t._resources.length&&(t.legendbarbottom.hide(),t.legendbartop.hide()),t.renderToolBar?t.renderToolBar(t.toolbar):t._renderToolBar(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._addHandlers(),t.clearSelection();var r=t._views[t._view].type,n=t._views[t._view],s=t.showAllDayRow;!n.timeRuler||"dayView"!==r&&"weekView"!==r||void 0!=n.timeRuler.showAllDayRow&&(s=n.timeRuler.showAllDayRow),t.focusedCell=!s||"dayView"!=r&&"weekView"!=r?t.rows[0].cells[0]:t.rows[1].cells[0],t._lastSelectedCell=t.focusedCell,t._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;e.className.indexOf("jqx-scheduler-appointment")>=0&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,o=0;o<4&&i.parentNode;o++)i.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t=this,i=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");if(i.indexOf(".")>=0)var o=i.substring(0,i.indexOf(".")),r=(i.substring(i.indexOf(".")+1),(n=t.appointmentsByKey[o]).jqxAppointment.renderedAppointments[i]);else var n=t.appointmentsByKey[i],r=n.jqxAppointment;return r},_renderToolBar:function(){var t=this,i=e('<div style="width: 100%; height: 100%; position: relative;"></div>'),o=(this.toolbarHeight-20)/2;i.css("top",o),t.toolbarLeftButton=e('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-left: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarRightButton=e('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.attr("title",t.schedulerLocalization.toolBarPreviousButtonString),t.toolbarRightButton.attr("title",t.schedulerLocalization.toolBarNextButtonString),t.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.dateTimeInput=e('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),t.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var r=e("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(t.toThemeProperty("jqx-icon-arrow-left")),t.toolbarLeftButton.wrapInner(r);var n=e("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");n.addClass(t.toThemeProperty("jqx-icon-arrow-right")),t.toolbarRightButton.wrapInner(n),t.rtl&&(t.toolbarLeftButton.css("float","right"),t.toolbarRightButton.css("float","right"),t.dateTimeInput.css("float","right")),t.addHandler(t.toolbarRightButton,"mouseenter",function(){n.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseenter",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mouseleave",function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseleave",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mousedown",function(){n.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarRightButton,"mouseup",function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarLeftButton,"mousedown",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarLeftButton,"mouseup",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(e(document),"mouseup.pagerbuttons"+t.element.id,function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarRightButton,"click",function(){t.toolbarRightButton.jqxButton("disabled")||(t.rtl?t.navigateBackward():t.navigateForward(),t.focus())}),t.addHandler(t.toolbarLeftButton,"click",function(){t.toolbarLeftButton.jqxButton("disabled")||(t.rtl?t.navigateForward():t.navigateBackward(),t.focus())}),t.toolbar.children().remove(),t.toolbar.append(i),t.rtl?(i.append(t.toolbarRightButton),i.append(t.dateTimeInput),i.append(t.toolbarLeftButton)):(i.append(t.toolbarLeftButton),i.append(t.dateTimeInput),i.append(t.toolbarRightButton)),t.toolbarDetails=e('<div class="'+t.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),t.toolbarViews=e('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),t.rtl&&(t.toolbarDetails.css("float","right"),t.toolbarDetails.css("margin-left","0px"),t.toolbarDetails.css("margin-right","7px"),t.toolbarViews.css("margin-left","10px"),t.toolbarViews.css("margin-right","0px"),t.toolbarViews.css("float","left"));var s=new Array;t.rtl?(s.push(t.toolbarRightButton),s.push(t.dateTimeInput),s.push(t.toolbarLeftButton)):(s.push(t.toolbarLeftButton),s.push(t.dateTimeInput),s.push(t.toolbarRightButton));var a=t._views.length-1;e.each(t._views,function(i){var o="",r=i;if(t.rtl&&(r=a-i),void 0!=t._views[r].text)o=t._views[r].text;else switch(t._views[r].type){case"dayView":o=t.schedulerLocalization.dayViewString;break;case"weekView":o=t.schedulerLocalization.weekViewString;break;case"monthView":o=t.schedulerLocalization.monthViewString;break;case"agendaView":o=t.schedulerLocalization.agendaViewString;break;case"timelineDayView":o=t.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":o=t.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":o=t.schedulerLocalization.timelineMonthViewString}var n='<span data-type="'+t._views[r].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+o+"</span>",l=e(n);l.addClass(t.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),s.push(l),0==r&&(t.rtl?l.addClass(t.toTP("jqx-rc-r")):l.addClass(t.toTP("jqx-rc-l"))),r==t._views.length-1&&(t.rtl?l.addClass(t.toTP("jqx-rc-l")):l.addClass(t.toTP("jqx-rc-r"))),r===t._view&&l.addClass(t.toTP("jqx-fill-state-pressed")),l.mouseenter(function(){l.addClass(t.toTP("jqx-fill-state-hover"))}),l.mouseleave(function(){l.removeClass(t.toTP("jqx-fill-state-hover"))}),l.mousedown(function(){t._setView(r),t.focus()}),e(t.toolbarViews).append(l)}),i.append(t.toolbarDetails),i.append(t.toolbarViews),t._views.length<2&&t.toolbarViews.hide(),t.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:t.rtl,localization:t._getDateTimeInputLocalization(),firstDayOfWeek:t.schedulerLocalization.firstDay,todayString:t.schedulerLocalization.todayString,clearString:t.schedulerLocalization.clearString,showFooter:!0,height:19,width:18,renderMode:"simple"}),t.addHandler(t.dateTimeInput,"change",function(i){t.fromNavigate||(t.navigateTo(new e.jqx.date(i.args.date,t.timeZone)),t.focus())}),t.tabKeyElements=s;var l=t._views[t._view].type,d=function(i){var o=e.jqx.formatDate(t.getViewStart().toDate(),i,t.schedulerLocalization),r=e.jqx.formatDate(t.getViewEnd().toDate(),i,t.schedulerLocalization);"dayView"===l||"timelineDayView"===l?t.toolbarDetails.html(o):t.toolbarDetails.html(o+" - "+r),t.rtl?(t.toolbarDetails.addClass("jqx-rtl"),t.toolbarDetails.html("<span style='direction:rtl;'>"+r+"<span> - <span style='direction:rtl;'>"+o+"</span>")):t.toolbarDetails[0].style.direction="ltr"};d(t.toolBarRangeFormat);var h=t.toolbarViews.width()+t.toolbarDetails.width()+120;t.toolBarRangeFormat;h>t.host.width()?(d(t.toolBarRangeFormatAbbr),(h=t.toolbarViews.width()+t.toolbarDetails.width()+120)>t.host.width()&&(t.toolbarDetails.hide(),(h=t.toolbarViews.width()+120)>t.host.width()&&t.toolbarViews.hide())):t.currentToolbarFormat=t.toolBarRangeFormat},_setView:function(t){var i=this;if(i.toolbarViews.find(".jqx-fill-state-pressed").removeClass(i.toTP("jqx-fill-state-pressed")),i.rtl?e(i.toolbarViews.children()[i._views.length-1-t]).addClass(i.toTP("jqx-fill-state-pressed")):e(i.toolbarViews.children()[t]).addClass(i.toTP("jqx-fill-state-pressed")),i._view!==t){i.vScrollBar[0].style.visibility&&(i._scrollPosition||(i._scrollPosition=new Array),i._scrollPosition[i._view]=i.vScrollInstance.value);var o=i.hScrollBar[0].style.visibility;o&&(i._hscrollPosition||(i._hscrollPosition=new Array),i._hscrollPosition[i._view]=i.hScrollInstance.value);var r=i._views[i._view].type,n=i._views[t].type;i._view=t,i._refreshColumns(),i.refresh(),o!==i.hScrollBar[0].style.visibility&&(i._renderrows(),i._updateTouchScrolling()),i._scrollPosition[i._view]&&i.vScrollInstance.setPosition(i._scrollPosition[i._view]),i._hscrollPosition[i._view]&&i.hScrollInstance.setPosition(i._hscrollPosition[i._view]),i.selectedJQXAppointment&&i._ensureAppointmentVisible(i.selectedJQXAppointment);var s=i.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("viewChange",{date:i.date,from:s,to:a,oldViewType:r,newViewType:n})}},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var t=this,i=this._views[this._view].type,o=this._views[this._view],r=new e.jqx.date(this.date,t.timeZone);switch(i){case"dayView":case"timelineDayView":r=r.addDays(1),r=function(){for(;(0==r.dayOfWeek()||6==r.dayOfWeek())&&!1===o.showWeekends;)r=r.addDays(1);return r}();break;case"weekView":case"timelineWeekView":r=r.addDays(7);break;case"monthView":case"timelineMonthView":r.day();var n=r.month(),s=r.year(),a=new e.jqx.date(s,n,1);a.timeZone=t.timeZone,r=a.addMonths(1);break;case"agendaView":r=o.days?r.addDays(o.days):r.addDays(7)}return this.navigateTo(r)},navigateBackward:function(){var t=this,i=this._views[this._view].type,o=this._views[this._view],r=new e.jqx.date(this.date,t.timeZone);switch(i){case"dayView":case"timelineDayView":r=r.addDays(-1),r=function(){for(;(0==r.dayOfWeek()||6==r.dayOfWeek())&&!1===o.showWeekends;)r=r.addDays(-1);return r}();break;case"weekView":case"timelineWeekView":r=r.addDays(-7);break;case"monthView":case"timelineMonthView":r.day();var n=r.month(),s=r.year(),a=new e.jqx.date(s,n,1);a.timeZone=t.timeZone,r=a.addMonths(-1);break;case"agendaView":r=o.days?r.addDays(-o.days):r.addDays(-7)}return this.navigateTo(r)},_refreshToolBar:function(t){var i=this,o=i.getViewStart(),r=i.getViewEnd(),n=function(t){var n=e.jqx.formatDate(o.toDate(),t,i.schedulerLocalization),s=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization),a=i._views[i._view].type;if(!1===i._views[i._view].showWeekends){0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(1)),0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1));var n=e.jqx.formatDate(o.toDate(),t,i.schedulerLocalization),s=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization)}"dayView"===a||"timelineDayView"===a?i.toolbarDetails.html(n):i.toolbarDetails.html(n+" - "+s),i.rtl?(i.toolbarDetails.addClass("jqx-rtl"),i.toolbarDetails.html("<span style='direction:rtl;'>"+s+"<span> - <span style='direction:rtl;'>"+n+"</span>")):i.toolbarDetails[0].style.direction="ltr"};if(t)n(i._lastFormatString||i.toolBarRangeFormat);else{n(i.toolBarRangeFormat),i.toolbarDetails.show(),i.toolbarViews.show();var s=i.toolbarViews.width()+i.toolbarDetails.width()+120;s>i.host.width()&&(n(i.toolBarRangeFormatAbbr),(s=i.toolbarViews.width()+i.toolbarDetails.width()+120)>i.host.width()&&(i.toolbarDetails.hide(),(s=i.toolbarViews.width()+120)>i.host.width()&&i.toolbarViews.hide()))}},navigateTo:function(t){var i=this;if("date"==e.type(t)&&(t=new e.jqx.date(t)),!(t<this.min||t>this.max)){t.timeZone=i.timeZone,i.date=t,i._refreshToolBar(!0),i.fromNavigate=!0,i.dateTimeInput.val(t.toDate()),i.fromNavigate=!1,i._refreshColumnTitles(),i._renderrows(),i._updateFocusedCell();var o=i.getViewStart(),r=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("dateChange",{date:t,from:o,to:r})}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var o=function(e){for(var i=0;i<t.columnGroups.length;i++){var o=t.columnGroups[i];if(o.name===e)return o}return null},i=0;i<this.columnGroups.length;i++)(d=this.columnGroups[i]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(r=o(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d));for(i=0;i<this.columns.records.length;i++)if((d=this.columns.records[i]).columngroup){var r=o(d.columngroup);r&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}for(var n=0,i=0;i<this.columns.records.length;i++){s=d=this.columns.records[i];for(d.level=0;s.parent;)s=s.parent,d.level++;var s=d,a=d.level;for(n=Math.max(n,d.level);s.parent;)(s=s.parent)&&(s.level=--a)}for(var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var o=l(e.groups[i]),r=0;r<o.length;r++)t.push(o[r]);return t},i=0;i<this.columnGroups.length;i++){var d=this.columnGroups[i],h=l(d);d.columns=h;for(var c=new Array,p=0,u=0;u<h.length;u++)c.push(this.columns.records.indexOf(h[u])),h[u].pinned&&p++;if(0!=p)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var o=t._handleDelta(i);return o&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!o&&(o=!1,e.returnValue=o,o)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=(i=this.vScrollInstance.value))return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},_removeHandlers:function(){var t=this;t._mousewheelfunc&&t.removeHandler(this.host,"mousewheel",t._mousewheelfunc),t.removeHandler(e(document),"keydown.scheduler"+t.element.id),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"selectstart."+t.element.id),t.removeHandler(e(window),"jqxReady."+t.element.id),t.removeHandler(t.host,"mousewheel",t._mousewheelfunc);var i="mousedown";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown")),t.table&&t.removeHandler(t.table,"mouseleave");var o="mousemove.scheduler"+t.element.id,r="mouseup.scheduler"+t.element.id;if(t.isTouchDevice()&&!0!==t.touchMode&&(o=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+t.element.id,r=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+t.element.id),t.removeHandler(e(document),o),t.removeHandler(e(document),r),!t.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=null;window.parent&&document.referrer&&(n=document.referrer),n&&-1!=n.indexOf(document.location.host)&&t.removeHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id)}}catch(e){}t.removeHandler(t.host,o),t.removeHandler(e(document),"keydown.jqxscheduler"+t.element.id),t.removeHandler(t.host,"keydown"),t.table&&(t.removeHandler(t.table,"dblclick"),t.removeHandler(t.pinnedtable,i),t.removeHandler(t.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(t,i,o){if(t){var r=this;r.selectedAppointment&&r.clearAppointmentsSelection();var n=t.id,s=e('[data-key="'+n+'"]');if(s.length>0){r.selectedJQXAppointment=t,r.selectedAppointment=e(i?i:s[0]);var a=r._views[r._view].type;r._views[r._view];if("agendaView"==a)return void r.clearSelection();switch(s.addClass(r.toTP("jqx-scheduler-selected-appointment")),t.resizable&&s.find(".jqx-scheduler-appointment-resize-indicator").show(),a){case"dayView":e(s).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e(s).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":s.length>1&&e.each(s,function(t){r.rtl?(t>0&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),t<s.length-1&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(t>0&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),t<s.length-1&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==o)return void r.clearSelection()}r.clearSelection()}},clearAppointmentsSelection:function(){var t=this;if(t.selectedAppointment){var i=t.selectedAppointment.attr("data-key"),o=e('[data-key="'+i+'"]');o.removeClass(t.toTP("jqx-scheduler-selected-appointment")),o.find(".jqx-scheduler-appointment-resize-indicator").hide(),t.selectedAppointment=null,t.selectedJQXAppointment=null}},selectCell:function(e,t,i){for(var o=this,r=e.toDate(),n=0;n<o.rows.length;n++)for(var s=0;s<o.rows[n].cells.length;s++){var a=o.rows[n].cells[s];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),d=(0,o._getDateByString)(l);if(t&&a.getAttribute("data-end-date")){if(d.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(d.valueOf()==r.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}}o._updateCellsSelection()},selectRange:function(e,t,i,o){var r=this;e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var n=e.toDate(),s=t.toDate(),a=!1,l=0;l<r.rows.length;l++)for(var d=0;d<r.rows[l].cells.length;d++){var h=r.rows[l].cells[d];if(!o||h.getAttribute("data-view")===o){var c=h.getAttribute("data-date"),p=(0,r._getDateByString)(c);if(i&&h.getAttribute("data-end-date"))p.valueOf()>=n.valueOf()&&p.valueOf()<=s.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;p.valueOf()>=n.valueOf()&&p.valueOf()<=s.valueOf()&&(h.setAttribute("data-selected","true"),a||(r._lastSelectedCell=h,r.focusedCell=h,a=!0))}}r._updateCellsSelection()},_selectRange:function(t,i){var o=this;if("agendaView"!=o._views[o._view].type){var r=t,n=i.getAttribute("data-view");if(t.getAttribute("data-view")===n){var s=i.getAttribute("data-date"),a=r.getAttribute("data-date");if(null!=s&&null!=a){var l=i.getAttribute("data-end-date"),d=r.getAttribute("data-end-date"),h=null!=l||null!=d,c=null!=l&&null!=d,p=o._getDateByString,u=p(s),m=p(a);u<this.min.toDate()&&(u=this.min.toDate()),m<this.min.toDate()&&(m=this.min.toDate()),u>this.max.toDate()&&(u=this.max.toDate()),m>this.max.toDate()&&(m=this.max.toDate());var f=Math.min(u,m),g=Math.max(u,m),w=o.rows,v=0,y=0;v>0&&o.rtl&&(v=0,y=1);var x=w.length;if(h&&(x=1,null==t.getAttribute("data-end-date"))){m.setHours(0,0,0,0);var b=new e.jqx.date(m,o.timeZone).toString();e(r).parent().index();e.each(w[0].cells,function(){if(this.getAttribute("data-date")===b){t=this,c=null!=i.getAttribute("data-end-date")&&null!=t.getAttribute("data-end-date");var e=i.getAttribute("data-date"),o=t.getAttribute("data-date"),r=p(e),n=p(o);return f=Math.min(r,n),g=Math.max(r,n),!1}})}for(var A=0;A<x;A++){var T=w[A];if(h&&this.tableRows>1){var _=(-1+parseInt(t.getAttribute("data-view")))*(w.length/o.tableRows);S=w[_],T=w[_]}for(var S=T.cells,D=v;D<S.length-y;D++)if(S[D].getAttribute("data-view")===n&&(S[D].removeAttribute("data-selected"),c||!S[D].getAttribute("data-end-date"))){var j=S[D].getAttribute("data-date"),q=p(j).valueOf();f<=q&&q<=g&&S[D].setAttribute("data-selected","true")}}o._updateCellsSelection()}}}},findCell:function(e,t){var i=this,o=null;if(!i._tableOffset){var r=i.schedulercontent.coord();i._tableOffset=r}var n=i._tableOffset,s=n.top,a=n.left;if(t<s)return null;if(e<a)return null;if(t>s+i._hostHeight)return null;if(e>a+i._hostWidth)return null;for(var l=!1,d=i.rows,h=i._views[i._view],c=h.type,p=i.vScrollInstance.value,u=i.hScrollInstance.value,m=0;m<d.length&&!l;m++){var f=d[m].cells,g=!1;(0==m&&"dayView"==c||"weekView"==c)&&(g=i.showAllDayRow,!h.timeRuler||"dayView"!==c&&"weekView"!==c||void 0!=h.timeRuler.showAllDayRow&&(g=h.timeRuler.showAllDayRow),g&&i._allDayRowFullHeight);for(var w=0;w<f.length;w++){var v=f[w];if(0!=w||!v.getAttribute("data-time-slot")){if(v._left)var y=v._left,x=v._top,b=v._width,A=v._height;else{var y=v.offsetLeft+a,x=v.offsetTop+s,b=v.offsetWidth,A=v.offsetHeight;v._left=y,v._top=x,v._width=b,v._height=A}if(v._left=y,v._top=x,v._width=b,v._height=A,0!==b&&0!==A){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(y-=i.hScrollInstance.max-u):y-=u,x-=p,0==m&&g&&(x+=p),!(x<=t&&t<x+A))break;if(y<=e&&e<y+b){o=v,l=!0;break}}}}}return o},_removeFeedbackAndStopResize:function(){var t=this;if(t.feedback){if(t.feedback.remove(),t.feedback=null,t.pinnedfeedback.remove(),t.pinnedfeedback=null,t.feedbacks)for(var i=0;i<t.feedbacks.length;i++)t.feedbacks[i].remove();t._resizeDays=0,t._resizeStep=0,t._lastX=null,t.feedbacks=new Array,t.leftResize=!1,t.rightResize=!1,t.topResize=!1,t.bottomResize=!1,t.overlay.hide(),t.resizing=!1,t.resizeFrom=null,t._dragCell=null,t._dragStartCell=null,t.resizeTo=null,t.dragOrResize=!1,t.isMouseDown=!1,t.selectedJQXAppointment&&e('[data-key="'+t.selectedJQXAppointment.id+'"]').removeClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(t,i,o,r){var n=this;if(!1===t)if(i.isException()){for(var s=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,a=0;a<s.length;a++)if(s[a].occurrenceFrom.equals(i.occurrenceFrom)){s[a]=i;break}}else i.rootAppointment.recurrenceException||(i.rootAppointment.recurrenceException=new Array),null!=i.rootAppointment?(i.rootAppointment.exceptions.push(i),i.rootAppointment.recurrenceException.push(i.occurrenceFrom)):(i.exceptions.push(i),i.recurrenceException.push(i.occurrenceFrom));else if(!0===t){if(i.isException())for(var s=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,a=0;a<s.length;a++)if(s[a].occurrenceFrom.equals(i.occurrenceFrom)){for(var l=0;l<i.rootAppointment.recurrenceException.length;l++)if(i.rootAppointment.recurrenceException[l].equals(s[a].occurrenceFrom)){i.from;c=new e.jqx.date(s[a].occurrenceFrom.year(),s[a].occurrenceFrom.month(),s[a].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());i.rootAppointment.recurrenceException[l]=c;break}s[a]=i;i.from;c=new e.jqx.date(s[a].occurrenceFrom.year(),s[a].occurrenceFrom.month(),s[a].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());s[a].occurrenceFrom=c;break}if(null!=i.rootAppointment){i.rootAppointment.recurrencePattern=i.rootAppointment.recurrencePattern.createNewPattern();var d=i.rootAppointment.from,h=i.rootAppointment.duration(),c=null;switch(i.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":c=new e.jqx.date(d.year(),d.month(),d.day(),i.from.hour(),i.from.minute(),i.from.second())}r?(i.rootAppointment.from=d,i.rootAppointment.to=d.add(i.duration())):(i.rootAppointment.from=c,i.rootAppointment.to=c.add(h)),i.rootAppointment.allDay=i.allDay,i.rootAppointment.resourceId=i.resourceId,i.rootAppointment.color=i.color,i.rootAppointment.borderColor=i.borderColor,i.rootAppointment.background=i.background,i.rootAppointment.timezone=i.timezone,i.rootAppointment.subject=i.subject,i.rootAppointment.description=i.description,i.rootAppointment.location=i.location,i.rootAppointment.category=i.category,i.rootAppointment.status=i.status,n.resizing?i.rootAppointment.recurrencePattern.setFrom(d):i.rootAppointment.recurrencePattern.setFrom(c)}else i.recurrencePattern=i.recurrencePattern.createNewPattern(),i.recurrencePattern.setFrom(i.from);var p=e(o).attr("data-view"),u=n._resources[parseInt(p)-1];null!=u&&(null!=i.rootAppointment?i.rootAppointment.resourceId=u:i.resourceId=u)}},_handleMouseUp:function(t,i,o){var r=this;clearInterval(r._verticalIntervalDragVelocity),clearInterval(r._horizontalIntervalDragVelocity),clearInterval(r._intervalDrag),clearInterval(r._horizontalIntervalDrag);var n=t,s=!1;if(o?r.resizeTo?n.to.equals(r.resizeTo)&&(s=!0):r.resizeFrom&&n.from.equals(r.resizeFrom)&&(s=!0):r._dragStartCell==i&&(s=!0),s)return e('[data-key="'+t.id+'"]').removeClass(r.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void r._removeFeedbackAndStopResize();var a=n.duration(),l=n.duration().days()>=1||n.allDay,d=function(t,n){if(n.allDay||l)var s=r.getMaxAllDayAppointments(r.appointmentsToRender);if(o)r.resizeTo?(r.resizeTo>r.max&&(r.resizeTo=r.max),r.resizeTo<r.min&&(r.resizeTo=r.min),n.to=r.resizeTo):r.resizeFrom&&(r.resizeFrom>r.max&&(r.resizeFrom=r.max),r.resizeFrom<r.min&&(r.resizeFrom=r.min),n.from=r.resizeFrom),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else{var d=r._views[r._view].type,h=r._views[r._view],c=e(i).attr("data-date"),p=null!=e(i).attr("data-end-date"),u=new e.jqx.date(c,r.timeZone);if(u<r.min&&(u=r.min),u>r.max&&(u=r.max),r.rtl&&l&&p)n.to=e.jqx.scheduler.utilities.getEndOfDay(u);else if(!r.rtl||"monthView"!=d&&"timelineMonthView"!=d)if(!r.rtl||"timelineDayView"!=d&&"timelineWeekView"!=d)n.from=u;else{f=r.getMinutesPerScale();n.to=u.addMinutes(f)}else n.to=e.jqx.scheduler.utilities.getEndOfDay(u);if("dayView"===d||"weekView"===d)if(l||p){if(!l&&p)n.to=e.jqx.scheduler.utilities.getEndOfDay(u),n.allDay=!0;else if(l&&p&&!r.rtl)n.to=u.add(a),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else if(l&&p&&r.rtl)n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a))),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else if(l&&!p){var m=30;switch(h.timeRuler&&h.timeRuler.scale){case"sixtyMinutes":case"hour":m=60;break;case"fifteenMinutes":case"quarterHour":m=15;break;case"tenMinutes":m=10;break;case"fiveMinutes":m=5}n.to=u.addMinutes(m),n.allDay=!1}}else n.to=u.add(a),n.allDay=!1;else if("monthView"===d)r.rtl?n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a))):n.to=u.add(a);else if("timelineDayView"===d||"timelineWeekView"===d||"timelineMonthView"===d)if(r.rtl)if("timelineMonthView"==d)n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a)));else{var f=r.getMinutesPerScale();n.from=u.addMinutes(f).add(new e.jqx.timeSpan(-a))}else n.to=u.add(a)}r._saveChangesAfterDragOrResize(t,n,i,r.resizing);var d=e(i).attr("data-view"),g=r._resources[parseInt(d)-1];null!=g&&(n.resourceId=g),r.resizing=!1,r.resizeFrom=null,r._dragCell=null,r.resizeTo=null;var w={},v={};for(var y in r.appointmentDataFields){var x=r.appointmentDataFields[y],b=n[y];w[y]=b,"from"!=y&&"to"!=y||(b=b.toDate()),v[x]=b}if(w.jqxAppointment=n,w.originalData=v,n.boundAppointment=w,r._raiseEvent("appointmentChange",{appointment:n.boundAppointment}),r.changedAppointments[n.id]={type:"Update",appointment:n.boundAppointment},r.table.find(".jqx-icon-arrow-down").hide(),"monthView"==r._views[r._view].type&&r._views[r._view].monthRowAutoHeight)r._renderrows();else if("weekView"!=r._views[r._view].type&&"dayView"!=r._views[r._view].type||!n.allDay&&!l){var A=r.getViewStart(),T=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(A,T),r._renderAppointments(A,T)}else if(r.tableRows>1)r._renderrows();else{var A=r.getViewStart(),T=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(A,T),r._renderAppointments(A,T);var _=r.getMaxAllDayAppointments(r.appointmentsToRender);if(_!=s){var S=_*(r._defaultRowHeight-2);S=r.isTouchDevice()?Math.max(22+r._defaultRowHeight,17+S):Math.max(3*r._defaultRowHeight,17+S),1==r.tableRows?e(e(r.table[0].rows[0]).find("td")).css("height",S+"px"):e(e(r.table[0].rows[1]).find("td")).css("height",S+"px"),e(r.oldRow).find("td").css("height",S+"px"),e(r.pinnedTableRow).find("td").css("height",S+"px"),r.pinnedtable.height(S),r._updateScrollbars(r._hostHeight?r._hostHeight:r.host.height())}}r._removeFeedbackAndStopResize()};n.isRecurrentAppointment()?d(!1,n):d(null,n)},_handleDayWeekViewResize:function(t,i,o,r,n){var s=this,a=(s._views[s._view].type,s._views[s._view]);if(n.duration().days()>=1||n.allDay||o.getAttribute("data-end-date")){var l=function(e){return!(e<s.cellWidth-10)},d=a.appointmentsRenderMode&&"exactTime"==a.appointmentsRenderMode;if(n.allDay||!d){if(s.leftResize)s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2?l(p=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left-s.cellWidth)&&(s.feedback.css("left",5+r.left+s.cellWidth),s.feedback.width(p-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+r.left+s.cellWidth),s.pinnedfeedback.width(p-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)).addDays(-1):s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(1)):t<s._lastResizeX-e(o).width()/2&&l(p=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left)&&(s.feedback.css("left",5+r.left),s.feedback.width(p-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+r.left),s.pinnedfeedback.width(p-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)):s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone));else if(s.rightResize){s._lastResizeX||(s._lastResizeX=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left);var h=e(o).width()/2;if(t>s._lastResizeX+h){c=e(o).width()+r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;l(p=s.selectedAppointmentTableBounds.width+c)&&(s.feedback.hide(),s.feedback.width(p-6),s.feedback.css("left",5+r.left),s.pinnedfeedback.width(p-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+c+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))}else if(t<s._lastResizeX-h){var c=r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,p=s.selectedAppointmentTableBounds.width+c;l(p)&&(s.feedback.hide(),s.feedback.css("left",5+r.left),s.feedback.width(p-6),s.pinnedfeedback.width(p-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+c+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(1):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(-1)))}}}else{var u=new Array,m=new Array,f=-1,g=-1,w=this.host.coord().left,v=0,y=s.hScrollInstance.value;if(s.rtl)y=s.hScrollInstance.max-s.hScrollInstance.value;"hidden"==s.hScrollBar[0].style.visibility&&(y=0);for(var x=t+y,b=0;b<this.columns.records.length;b++)this.columns.records[b].timeColumn&&(s.rtl||(w+=this.columns.records[b].width,v++));for(var A=s.getViewStart(),T=s.getViewEnd(),b=0;b<this._getColumnsLengthPerView();b++){_=this.columns.records[b+v].width;s.leftResize?(s.rtl||(u.push(w),m.push(A.addDays(b)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&w<s.selectedAppointmentTableBounds.left&&w+_>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),m.push(n.from),f=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&w<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&w+_>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),m.push(n.to),g=u.length-1)),s.rtl&&(u.push(w),m.push(T.addDays(-b-1)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&w<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&w+_>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),m.push(n.from),f=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&w<s.selectedAppointmentTableBounds.left&&w+_>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),m.push(n.to),g=u.length-1)),w+=_):s.rtl?((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&w<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&w+_>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),m.push(n.from),f=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&w<s.selectedAppointmentTableBounds.left&&w+_>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),m.push(n.to),g=u.length-1),w+=_,u.push(w),m.push(T.addDays(-b-1))):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&w<s.selectedAppointmentTableBounds.left&&w+_>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),m.push(n.from),f=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&w<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&w+_>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),m.push(n.to),g=u.length-1),w+=_,u.push(w),m.push(A.addDays(b)))}if(s.leftResize){for(b=0;b<u.length;b++){r=u[b];if((B=u[b+1])||(B=r),R=b<u.length-1?x>=r&&x<=B:x>=r){var _=-r+s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width,S=s.pinnedfeedback.width(),D=s.pinnedfeedback.css("left"),j=s.resizeTo,q=s.resizeFrom;_>0&&(s.pinnedfeedback.css("left",r),s.pinnedfeedback.width(_),b==f?s.rtl?s.resizeTo=n.from:s.resizeFrom=n.from:b==g?s.rtl?s.resizeTo=n.to:s.resizeFrom=n.to:s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(m[b]):s.resizeFrom=m[b])}}var C=s.resizeFrom,k=s.resizeTo;s.rtl?C=n.from:k=n.to,(z=new e.jqx.timeSpan(1e4*(k-C))).days()<1&&(s.pinnedfeedback.css("left",D),s.pinnedfeedback.width(S),s.resizeFrom=q,s.resizeTo=j)}else if(s.rightResize){for(b=0;b<u.length;b++){var r=u[b],B=u[b+1];B||(B=r);var R=b<u.length-1?t>=r-this.cellWidth/3&&t<=B-this.cellWidth/3:t>=r-this.cellWidth/3;if(R){var _=r-s.selectedAppointmentTableBounds.left-15,S=s.pinnedfeedback.width();s.pinnedfeedback.width(_);var j=s.resizeTo,q=s.resizeFrom;if(b==f){s.rtl?s.resizeFrom=n.from:s.resizeTo=n.from;_=r-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(_);break}if(b==g){s.rtl?s.resizeFrom=n.to:s.resizeTo=n.to;_=r-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(_);break}s.rtl?s.resizeFrom=m[b]:s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(m[b]);break}}var C=s.resizeFrom,k=s.resizeTo;s.rtl?k=n.to:C=n.from;var z=new e.jqx.timeSpan(1e4*(k-C));z.days()<1&&(s.pinnedfeedback.width(S),s.resizeFrom=q,s.resizeTo=j)}}}else{var H=function(e){return!(e<10)},P=s.findCell(s.feedback.coord().left,i);if(s.topResize)if(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),i>s._lastResizeY+e(o).height()/2){if(H(V=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-r.top-e(o).height()-3)){s.feedback.css("top",2+r.top+e(o).height()),s.feedback.height(V),s._lastResizeY=s.feedback.coord().top;var M=new e.jqx.date(P.getAttribute("data-date"),s.timeZone);s.resizeFrom=M.addMinutes(s.getMinutesPerScale())}}else i<s._lastResizeY-e(o).height()/2&&H(V=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-r.top-3)&&(s.feedback.css("top",2+r.top),s.feedback.height(V),s._lastResizeY=s.feedback.coord().top,s.resizeFrom=new e.jqx.date(P.getAttribute("data-date"),s.timeZone));else if(s.bottomResize)if(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),i>s._lastResizeY+e(o).height()/2){c=-5+e(o).height()+r.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top;H(V=s.selectedAppointmentTableBounds.height+c)&&(s.feedback.height(V),s._lastResizeY=s.selectedAppointmentTableBounds.height+c+s.feedback.coord().top,s.resizeTo=new e.jqx.date(P.getAttribute("data-date"),s.timeZone).addMinutes(s.getMinutesPerScale()))}else if(i<s._lastResizeY-e(o).height()/2){var c=-5+r.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top,V=s.selectedAppointmentTableBounds.height+c;H(V)&&(s.feedback.height(V),s._lastResizeY=s.selectedAppointmentTableBounds.height+c+s.feedback.coord().top,s.resizeTo=new e.jqx.date(P.getAttribute("data-date"),s.timeZone))}}},_handleTimelineMonthViewResize:function(t,i,o,r,n){var s=this,a=(s._views[s._view].type,s._views[s._view],function(e){return!(e<10)}),l=s.findCell(t,s.feedback.coord().top);if(n.allDay){if(s.leftResize)s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2?a(h=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left-e(o).width())&&(s.feedback.css("left",r.left+e(o).width()),s.feedback.width(h),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(-1)):s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(1)):t<s._lastResizeX-e(o).width()/2&&a(h=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left)&&(s.feedback.css("left",r.left),s.feedback.width(h),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone)):s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone));else if(s.rightResize)if(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2){d=e(o).width()+r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;a(h=s.selectedAppointmentTableBounds.width+d-5)&&(s.feedback.width(h),s._lastResizeX=s.selectedAppointmentTableBounds.width+d+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone)))}else if(t<s._lastResizeX-e(o).width()/2){var d=r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,h=s.selectedAppointmentTableBounds.width+d-5;a(h)&&(s.feedback.width(h),s._lastResizeX=s.selectedAppointmentTableBounds.width+d+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(1):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(-1)))}}else{for(var c=new Array,p=new Array,u=-1,m=-1,f=this.host.coord().left,g=0,w=0;w<this.columns.records.length;w++)this.columns.records[w].timeColumn&&(f+=this.columns.records[w].width,g++);v=s.hScrollInstance.value;if(s.rtl)var v=s.hScrollInstance.max-s.hScrollInstance.value;"hidden"==s.hScrollBar[0].style.visibility&&(v=0);for(var y=t+v,x=s.getViewStart(),b=s.getViewEnd(),w=(this._getColumnsLengthPerView(),0);w<this._getColumnsLengthPerView();w++){A=this.columns.records[w+g].width;s.leftResize?(c.push(f),s.rtl?p.push(b.addDays(-w)):p.push(x.addDays(w)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<s.selectedAppointmentTableBounds.left&&f+A>s.selectedAppointmentTableBounds.left&&(c.push(s.selectedAppointmentTableBounds.left),p.push(n.from),u=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&f+A>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(c.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),p.push(n.to),m=c.length-1),f+=A):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<s.selectedAppointmentTableBounds.left&&f+A>s.selectedAppointmentTableBounds.left&&(c.push(s.selectedAppointmentTableBounds.left),p.push(n.from),u=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&f+A>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(c.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width),p.push(n.to),m=c.length-1),f+=A,c.push(f),s.rtl?p.push(b.addDays(-w-1)):p.push(x.addDays(w)))}if(s.leftResize){for(w=0;w<c.length;w++){C=c[w];if((k=c[w+1])||(k=C),B=w<c.length-1?y>=C&&y<=k:y>=C){var A=-C+s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width,T=s.feedback.width(),_=s.feedback.css("left"),S=s.resizeTo,D=s.resizeFrom;s.feedback.css("left",C),s.feedback.width(A),w==u?s.rtl?s.resizeTo=n.from:s.resizeFrom=n.from:w==m?s.rtl?s.resizeTo=n.to:s.resizeFrom=n.to:s.rtl?s.resizeTo=p[w]:s.resizeFrom=p[w]}}var j=s.resizeFrom,q=s.resizeTo;s.rtl?j=n.from:q=n.to;new e.jqx.timeSpan(1e4*(q-j));s.feedback.width()<20&&(s.feedback.css("left",_),s.feedback.width(T),s.resizeFrom=D,s.resizeTo=S)}else if(s.rightResize){for(w=0;w<c.length;w++){var C=c[w],k=c[w+1];k||(k=C);var B=w<c.length-1?y>=C-this.cellWidth/3&&y<=k-this.cellWidth/3:y>=C-this.cellWidth/3;if(B){var A=C-s.selectedAppointmentTableBounds.left-12,T=s.feedback.width();s.feedback.width(A);var S=s.resizeTo,D=s.resizeFrom;if(w==u){s.rtl?s.resizeFrom=n.from:s.resizeTo=n.from;A=C-s.selectedAppointmentTableBounds.left;s.feedback.width(A);break}if(w==m){s.rtl?s.resizeFrom=n.to:s.resizeTo=n.to;A=C-s.selectedAppointmentTableBounds.left;s.feedback.width(A);break}s.rtl?s.resizeFrom=p[w]:s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(p[w]);break}}var j=s.resizeFrom,q=s.resizeTo;s.rtl?q=n.to:j=n.from;new e.jqx.timeSpan(1e4*(q-j));s.feedback.width()<20&&(s.feedback.width(T),s.resizeFrom=D,s.resizeTo=S)}}},_handleMonthViewResize:function(t,i,o,r,n){var s=this;if(s.selectedJQXAppointment){s._views[s._view].type;var a=s._views[s._view],l=-5;s.tableColumns>1&&(l=parseInt(-5/s.tableColumns));for(T=0;T<s.columns.records.length/s.tableColumns;T++)s.columns.records[T].timeColumn||(l+=s.columns.records[T].width);var d=s.selectedJQXAppointment.resourceId,h=s._resources.indexOf(d);s.resources&&"none"==s.resources.orientation&&(h=-1);var c="0px";-1!=h&&1==s.tableRows&&(c=l*h+"px"),a.showWeekNumbers&&(s.rtl||(c=parseInt(c)+s.columns.records[0].width+"px"));var p=o.offsetWidth,u=(o.offsetHeight,18);s.isTouchDevice()&&(u=2);for(T=0;T<6;T++)s.feedbacks[T][0].style.left=c,s.feedbacks[T][0].style.width=l+"px",s.feedbacks[T][0].style.display="block",s.feedbacks[T][0].style.top=parseInt(s.rows[T].top)+u+"px",s.tableRows>1&&(s.feedbacks[T][0].style.top=parseInt(s.rows[6*h+T].top)+u+"px"),e(s.feedbacks[T][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var m=s.selectedJQXAppointment.elements,f=(m[0].cells[0].cell,m[m.length-1]),g=f.lastCellY,w=f.lastCellX,v=m[0].cellY,y=m[0].cellX,x=parseInt(r.top),b=parseInt(r.left);if(s.rtl){if(s.leftResize){for(var A=!1,T=0;T<6;T++){var _=s.feedbacks[T],S=parseInt(_[0].style.top)-u;parseInt(_[0].style.left);if(S<x)_[0].style.width=l+"px";else for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.width=m[R].width+"px",_[0].style.top=m[R].y+"px");var D=m[0],j=parseInt(D.x);if(S==v?(_[0].style.left=j+"px",x==v?(_[0].style.left=1+r.left+"px",_[0].style.width=-1+D.x+D.width-r.left+"px",r.left>D.x+D.width&&(_[0].style.width=D.width+"px",_[0].style.left=D.x+"px"),"exactTime"!=a.appointmentsRenderMode||s.selectedJQXAppointment.allDay||t-(C=s.host.coord().left)>=D.x-10&&t-C<=D.cellX+s.cellWidth&&(_[0].style.width=D.width+"px",_[0].style.left=D.x+"px",A=!0)):x<v?(_[0].style.left=j+"px",_[0].style.width=D.width+"px"):x>v&&(_[0].style.left=c,_[0].style.width=D.x+D.width-parseInt(c)+"px")):S==x&&(_[0].style.width=l-r.left+parseInt(c)+"px",_[0].style.left=r.left+"px"),S<v&&(_[0].style.display="none"),S>x&&(_[0].style.display="none"),x<v)for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.display="block",_[0].style.width=m[R].width+"px",_[0].style.left=m[R].x+"px");if(x==v)for(R=0;R<m.length;R++){z=m[R].cellY;(x<v||x==v)&&z==S&&v!=g&&(_[0].style.left=1+r.left+parseInt(c)+"px",1+r.left+parseInt(c)>D.x+D.width&&(_[0].style.left=D.x+"px"),_[0].style.width=-1+D.x+D.width-r.left+"px")}}(k=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!A?s.resizeTo=k:s.resizeTo=s.selectedJQXAppointment.to}else if(s.rightResize){for(var q=!1,T=0;T<6;T++){var _=s.feedbacks[T],S=parseInt(_[0].style.top)-u;parseInt(_[0].style.left);S<x&&(_[0].style.width=l+"px");for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.top=m[R].y+"px");var D=m[0],j=parseInt(D.x);if(S==v)if(_[0].style.left=j+"px",x==v)if(b>=y){if(_[0].style.width=b+p-j-5+"px","exactTime"==a.appointmentsRenderMode&&!s.selectedJQXAppointment.allDay){var C=s.host.coord().left;t-C>=D.lastCellX&&t-C<=D.x+D.width+15&&(_[0].style.width=D.width+"px",q=!0)}}else _[0].style.width=D.width+"px";else x>v?(_[0].style.left=j+"px",_[0].style.width=D.width+"px"):x<v&&(_[0].style.left=j+"px",_[0].style.width=l-j+parseInt(c)+"px");else S==x&&(_[0].style.width=b+p-5-parseInt(c)+"px");if(S>g&&(_[0].style.display="none"),S<x&&(_[0].style.display="none"),x>g)for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.display="block"),S==g&&(_[0].style.width=m[R].width+"px",_[0].style.left=m[R].x+"px");if(x<=g&&S==g)for(R=0;R<m.length;R++){z=m[R].cellY;S!=x&&z==S&&v!=g?(_[0].style.width=m[R].width+"px",_[0].style.left=m[R].x+"px"):S==x&&z==S&&v!=g&&(_[0].style.left=m[R].x+"px",_[0].style.width=b+p-5-parseInt(c)-m[R].x+"px")}}var k=new e.jqx.date(o.getAttribute("data-date"),s.timeZone);k<s.selectedJQXAppointment.to&&!q?s.resizeFrom=k:s.resizeFrom=s.selectedJQXAppointment.from}}else if(s.leftResize){for(var q=!1,T=0;T<6;T++){var _=s.feedbacks[T],S=parseInt(_[0].style.top)-u;parseInt(_[0].style.left);if(S<x){_[0].style.width=l+"px";for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.top=m[R].y+"px")}else for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.width=m[R].width+"px",_[0].style.top=m[R].y+"px");var D=m[0],j=parseInt(D.x);if(S==v)if(_[0].style.left=j+"px",x==v){if(_[0].style.left=1+r.left+"px",_[0].style.width=-1+D.x+D.width-r.left+"px","exactTime"==a.appointmentsRenderMode&&!s.selectedJQXAppointment.allDay){var B=s.cellWidth-(D.x-y);t-(C=s.host.coord().left)>=D.x&&t-C<=D.x+B+2&&(_[0].style.left=j+"px",_[0].style.width=D.width+"px",q=!0)}}else x>v?(_[0].style.left=j+"px",_[0].style.width=D.width+"px"):x<v&&(_[0].style.left=c,_[0].style.width=D.x+D.width-parseInt(c)+"px");else S==x&&(_[0].style.width=l-r.left+parseInt(c)+"px",_[0].style.left=r.left+"px");if(S>g&&(_[0].style.display="none"),S<x&&(_[0].style.display="none"),x>=g)for(R=0;R<m.length;R++){z=m[R].cellY;x>g||x==g&&b>w?z==S&&(_[0].style.display="block",_[0].style.width=m[R].width+"px",_[0].style.left=m[R].x+"px"):x==g&&b<=w&&v!=g&&(_[0].style.width=m[R].width-r.left+parseInt(c)+"px")}}(k=new e.jqx.date(o.getAttribute("data-date"),s.timeZone))<s.selectedJQXAppointment.to&&!q?s.resizeFrom=k:s.resizeFrom=s.selectedJQXAppointment.from}else if(s.rightResize){for(var A=!1,T=0;T<6;T++){var _=s.feedbacks[T],S=parseInt(_[0].style.top)-u;parseInt(_[0].style.left);S<x&&(_[0].style.width=l+"px");for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.top=m[R].y+"px");var D=m[0],j=parseInt(D.x);if(S==v?(_[0].style.left=j+"px",x==v?b>=y?(_[0].style.width=b+p-j-5+"px","exactTime"!=a.appointmentsRenderMode||s.selectedJQXAppointment.allDay||t-(C=s.host.coord().left)>=w&&t-C<=D.x+D.width+15&&(_[0].style.width=D.width+"px",A=!0)):_[0].style.width=D.width+"px":x<v?(_[0].style.left=j+"px",_[0].style.width=D.width+"px"):x>v&&(_[0].style.left=j+"px",_[0].style.width=l-j+parseInt(c)+"px")):S==x&&(_[0].style.width=b+p-5-parseInt(c)+"px"),S<v&&(_[0].style.display="none"),S>x&&S>v&&(_[0].style.display="none"),x<=v)for(var R=0;R<m.length;R++){var z=m[R].cellY;(x<v||x==v&&b<y)&&z==S&&(_[0].style.display="block",_[0].style.width=m[R].width+"px")}}(k=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!A?s.resizeTo=k:s.resizeTo=s.selectedJQXAppointment.to}for(var H=new Array,T=0;T<6;T++)"block"==(_=s.feedbacks[T])[0].style.display&&H.push(_);e.each(H,function(t){s.rtl?(t>0&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(t>0&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(t,i,o,r,n){var s=this,a=(s._views[s._view].type,s._views[s._view],s.getMinutesPerScale()),l=function(e){return!(e<10)},d=s.findCell(t,s.feedback.coord().top);if(s.leftResize)s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2?l(c=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left-e(o).width())&&(s.feedback.css("left",2+r.left+e(o).width()),s.feedback.width(c),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone):s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a)):t<s._lastResizeX-e(o).width()/2&&l(c=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left)&&(s.feedback.css("left",2+r.left),s.feedback.width(c),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a):s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone));else if(s.rightResize)if(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2){h=e(o).width()+r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;l(c=s.selectedAppointmentTableBounds.width+h)&&(s.feedback.width(c),s._lastResizeX=s.selectedAppointmentTableBounds.width+h+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone):s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a))}else if(t<s._lastResizeX-e(o).width()/2){var h=r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,c=s.selectedAppointmentTableBounds.width+h;l(c)&&(s.feedback.width(c),s._lastResizeX=s.selectedAppointmentTableBounds.width+h+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a):s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone))}},_handleResize:function(t,i,o,r,n){var s=this,a=s._views[s._view].type,l=s._views[s._view];"dayView"===a||"weekView"===a?s._handleDayWeekViewResize(t,i,o,r,n):"timelineMonthView"===a?s._handleTimelineMonthViewResize(t,i,o,r,n):"monthView"===a?s._handleMonthViewResize(t,i,o,r,n):"timelineDayView"!==a&&"timelineWeekView"!==a||s._handleTimelineDayWeekViewResize(t,i,o,r,n),"timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a?(clearInterval(s._horizontalIntervalDrag),s._horizontalIntervalDrag=setInterval(function(){var e=s.host.width(),i=s.host.coord().left+25,o=e+i-45;s.rtl?t>o?s.hScrollInstance.setPosition(s.hScrollInstance.value-5):t<i&&s.hScrollInstance.setPosition(s.hScrollInstance.value+5):t<i?s.hScrollInstance.setPosition(s.hScrollInstance.value-5):t>o&&s.hScrollInstance.setPosition(s.hScrollInstance.value+5)},5)):"dayView"!==a&&"weekView"!==a||(clearInterval(s._intervalDrag),s._intervalDrag=setInterval(function(){var t=s.host.height(),o=0;s.columnGroups?o+=s.showHeader?s.columnsheader.height():0:o+=s.showHeader?s.columnsHeight:0,s.showToolbar&&(o+=s.toolbarHeight),t-=o;var r=s.legendHeight;0==s._resources.length&&(r=0),s.showLegend&&(t-=r);var d=o+s.host.coord().top,h=s.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||void 0!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow);var c=n.duration().days()>=1||n.allDay;h&&c?d-=20:h&&s.resizing&&(d+=e(s.table[0].rows[0]).height(),t-=e(s.table[0].rows[0]).height());var p=d+25,u=t+p-45;i<p?s.vScrollInstance.setPosition(s.vScrollInstance.value-5):i>u&&s.vScrollInstance.setPosition(s.vScrollInstance.value+5)},5)),s.resizing=!0},_startTimers:function(t,i,o){var r=this,n=r.host.coord(),s=0,a=0;"hidden"!=r.hScrollInstance.element.style.visibility&&(clearInterval(r._horizontalIntervalDragVelocity),r._horizontalIntervalDragVelocity=setInterval(function(){++s>40&&(s=40)},100),clearInterval(r._horizontalIntervalDrag),r._horizontalIntervalDrag=setInterval(function(){var e=r._hostWidth,i=n.left+30,o=e+i-60;r.rtl?t<i?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+s):t>o?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-s):s=0:t<i?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-s):t>o?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+s):s=0},10)),"hidden"!=r.vScrollInstance.element.style.visibility&&(clearInterval(r._verticalIntervalDragVelocity),r._verticalIntervalDragVelocity=setInterval(function(){++a>40&&(a=40)},100),clearInterval(r._intervalDrag),r._intervalDrag=setInterval(function(){var t=r._hostHeight,s=0;r.columnGroups?s+=r.showHeader?r.columnsheader.height():0:s+=r.showHeader?r.columnsHeight:0;var l=r._views[r._view].type,d=r._views[r._view];r.showToolbar&&(s+=r.toolbarHeight),t-=s,r.showLegend&&r._resources.length>0&&(t-=r.legendHeight);var h=n.top,c=s+h;if("dayView"==l||"weekView"==l){var p=r.showAllDayRow;!d.timeRuler||"dayView"!==l&&"weekView"!==l||void 0!=d.timeRuler.showAllDayRow&&(p=d.timeRuler.showAllDayRow);var u=o.duration().days()>=1||o.allDay;p&&u?c-=20:p&&r.resizing&&(c+=e(r.table[0].rows[0]).height())}var m=h+t+s-30;i<c+30?r.vScrollInstance.setPosition(r.vScrollInstance.value-10-a):i>m?r.vScrollInstance.setPosition(r.vScrollInstance.value+10+a):a=0},10))},_hoverCell:function(e){var t=this;return!t.enableHover||(t._resources.length>0&&e.className.indexOf("pinned")>=0||(e.className.indexOf("time-column")>=0||(e.className.indexOf("jqx-scheduler-disabled-cell")>=0||(!(!e||e!=t.hoveredCell)||(t.hoveredCell=e,!e||(t._removeHoveredCell(),t.hoveredCell=e,e.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e=this;if(e.hoveredCell){var t=e.hoveredCell;!function(i){var o=t.className;o=(o=(o=o.replace(" "+e.toTP("jqx-fill-state-hover"),"")).replace(" "+e.toTP("jqx-grid-cell-hover"),"")).replace(" "+e.toTP("jqx-scheduler-cell-hover"),""),t.className=o,t.jqxClassName=o}()}e.hoveredCell=null},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.focused=!1;var i=!1;this.addHandler(e(document),"keydown.scheduler"+t.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!t.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(o){if(!t.focusedCell||t.selectedAppointment||i||e(t.focusedCell).addClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!0,i)if(t.appointmentsToRender.length>0){var r=t.appointmentsToRender[t.appointmentsToRender.length-1];t._selectAppointment(r),t._lastSelectedAppointment=r}else if(t.focusedCell){if(t.focusedCell&&-1==t.focusedCell.className.indexOf("-focus"))return t._updateCellsSelection(),!1}else t._updateFocusedCell()}),this.addHandler(this.host,"blur",function(i){if(t.focusedCell){if(document.activeElement==t.element)return!0;if(e(document.activeElement).ischildof(t.host))return!0;e(t.focusedCell).removeClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.showToolBar||!e(i.target).ischildof(t.toolbar))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||void 0!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var o=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),o?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){t._htimer&&clearTimeout(t._htimer),o?t.table&&t._renderhorizontalscroll():t._htimer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},1)};var r="mousedown";this.isTouchDevice()&&(r=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(r="mousedown")),this.addHandler(this.table,"mouseleave",function(e){t._removeHoveredCell()}),t.isTouchDevice()&&(t.enableHover=!1);var n="mousemove.scheduler"+this.element.id,s="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&!0!==this.touchMode&&(n=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(e(document),n,function(i){var o=i.pageX,r=i.pageY;if(t.isTouchDevice()&&(o=(g=e.jqx.position(i)).left,r=g.top,(isNaN(o)||isNaN(r))&&(o=(g=e.jqx.position(i.originalEvent)).left,r=g.top)),t.disabled||3===i.which)return!0;if(!t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hostWidth){var n=t.host.coord();if(n.left+t._hostWidth<o||o<n.left)return!0;if(n.top+t._hostHeight<r||r<n.top)return!0}if(t.mouseDownPosition&&(Math.abs(t.mouseDownPosition.left-o)>=3&&Math.abs(t.mouseDownPosition.left-o)<=10||Math.abs(t.mouseDownPosition.top-r)>=3&&Math.abs(t.mouseDownPosition.top-r)<=10)&&(t.dragOrResize=!0),t.selectedAppointment&&t.dragOrResize){var s=null;if(t._hasOpenedMenu)return!0;if(t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var a=t._views[t._view].type,l=t._views[t._view],d=!1;if("td"===i.target.nodeName.toLowerCase())h=i.target;else var h=t.findCell(o,r);if(!h)return!0;if(void 0!=h.getAttribute("data-time-slot"))return!0;if(h.className.indexOf("jqx-grid-cell-pinned")>=0)return!0;if(!t.feedback){if(!(s=t.getJQXAppointmentByElement(t.selectedAppointment)).draggable&&!s.resizable)return s=null,!0;if(t.beginDrag&&!(z=t.beginDrag(s)))return!0;var c=e('[data-key="'+s.id+'"]'),p=t.selectedAppointment.position();t.feedback=t.selectedAppointment.clone(!0),t.pinnedfeedback=t.selectedAppointment.clone(!0);var u=!("row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing),m=function(e){u&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),c.addClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(t.toTP("jqx-scheduler-feedback-appointment")),e.addClass(t.toTP("jqx-scheduler-feedback-drag-appointment")),u?e.css("z-index",401):e.css("z-index",400)};if(m(t.feedback),m(t.pinnedfeedback),"monthView"!=t._views[t._view].type||u){if(t.table.append(t.feedback),1==t.tableRows?t.pinnedtable.append(t.pinnedfeedback):t.table.append(t.pinnedfeedback),t.feedback.css("left",p.left),t.feedback.css("top",p.top),t.pinnedfeedback.css("left",p.left),t.pinnedfeedback.css("top",p.top),"monthView"==t._views[t._view].type&&t.isTouchDevice()){t.feedbacks=new Array;for(f=0;f<6;f++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[f]).hide(),t.table.append(e(t.feedbacks[f]))}}else{t.feedbacks=new Array;for(var f=0;f<6;f++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[f]).hide(),t.table.append(e(t.feedbacks[f]))}}if(t.dragging&&!1===(z=t.dragging(s,h,t.feedback)))return!0;var g=e(h).position();if(t.endDrag)var w=t.feedback.css("left"),v=t.feedback.css("top"),y=t.feedback.width(),x=t.feedback.height;s||(s=t.selectedJQXAppointment),s||(t.selectAppointment(t.uiappointments[0].id),s=t.selectedJQXAppointment);var b=s.resourceId,A=t._resources.indexOf(b);t.resources&&"none"==t.resources.orientation&&(A=-1);var T=!1,_=t.isTouchDevice();if(_&&!0!==t.touchMode&&null==t._dragCell&&!(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing))switch(a){case"dayView":case"weekView":(d=s.duration().days()>=1||s.allDay)?(o>=t.selectedAppointmentBounds.left-15&&o<=t.selectedAppointmentBounds.left+15&&(T=!0,t.leftResize=!0),o>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&o<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(T=!0,t.rightResize=!0)):(r>=t.selectedAppointmentBounds.top-15&&r<=t.selectedAppointmentBounds.top+15&&(T=!0,t.topResize=!0),r>=t.selectedAppointmentBounds.top-15+t.selectedAppointmentBounds.height&&r<=t.selectedAppointmentBounds.top+t.selectedAppointmentBounds.height+15&&(T=!0,t.bottomResize=!0));break;default:o>=t.selectedAppointmentBounds.left-15&&o<=t.selectedAppointmentBounds.left+15&&(T=!0,t.leftResize=!0),o>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&o<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(T=!0,t.rightResize=!0)}if(_&&(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing)||T){if(h.getAttribute("data-view")!=A+1&&t._resources.length>0&&"none"!=t.resources.orientation)return!0;if((S=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||S>t.max.toDate())return;t._handleResize(o,r,h,g,s),t._oldResizeTD=h}else if(!_&&"row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing){if(h.getAttribute("data-view")!=A+1&&t._resources.length>0&&t.resources&&"none"!=t.resources.orientation)return!0;if((S=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||S>t.max.toDate())return;t._handleResize(o,r,h,g,s),t._oldResizeTD=h}else{if(!s.draggable)return t._removeFeedbackAndStopResize(),!0;if(t._dragCell==h)return t._startTimers(o,r,s),t.isTouchDevice()&&!0!==t.touchMode?(i.stopPropagation(),!1):void 0;var S=t._getDateByString(h.getAttribute("data-date"));if(S<t.min.toDate()||S>t.max.toDate())return;var D=s.duration();if(a.indexOf("month")>=0&&new e.jqx.date(S).add(D)>t.max)return;var j="hidden"==t.vScrollBar[0].style.visibility?0:6+t.vScrollBar.outerWidth();if(t._dragCell=h,t.feedback[0].style.left=2+g.left+"px",t.feedback[0].style.top=2+g.top+"px","dayView"===a||"weekView"===a){t.pinnedfeedback.css("left",2+g.left),t.pinnedfeedback.css("top",2+g.top);var q=0;if(h.getAttribute("data-end-date")){var C=t.appointmentsMinHeight;if(t.isTouchDevice()&&(C=t.touchAppointmentsMinHeight),l.appointmentHeight&&(C=l.appointmentHeight),d=s.duration().days()>=1||s.allDay,t.feedback.css("top",2+g.top+C),t.pinnedfeedback.css("top",2+g.top+18),"dayView"==a){var k=t.selectedAppointment.coord().left-9;t.feedback.css("left",k),t.pinnedfeedback.css("left",k)}d?(t.pinnedfeedback.css("top",s.elements[0].y),q=t.selectedAppointment.width(),2+g.left+q>t.host.width()-j&&(q-=2+g.left+q-t.host.width()+j+6),t.feedback.width(q),t.feedback.height(C),t.pinnedfeedback.width(q),t.pinnedfeedback.height(C)):(q=e(h).width()-4,t.feedback.width(q),t.feedback.height(C),t.pinnedfeedback.width(q),t.pinnedfeedback.height(C)),t.feedback.hide(),t.pinnedfeedback.show()}else{t.feedback.show(),t.pinnedfeedback.hide();switch(l.timeRuler&&l.timeRuler.scale){case"sixtyMinutes":case"hour":1;break;case"thirtyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}q=e(h).width()-4,t.feedback.width(q),(d=s.duration().days()>=1||s.allDay)?t.feedback.height(e(h).height()-6):t.feedback.height(t.selectedAppointment.height())}t._startTimers(o,r,s)}else if("monthView"===a){t.feedback.css("left",1+g.left);B=t.selectedAppointmentTableBounds;(R=parseInt(B.top))>g.top&&R<g.top+h.offsetHeight?t.feedback.css("top",R+"px"):t.feedback.css("top",t.selectedAppointment.height()+g.top-2),t.isTouchDevice()&&t.feedback.css("top",g.top+2),q=t.selectedAppointment.width(),t.feedback.width(q),t.feedback.height(t.selectedAppointment.height()),t._startTimers(o,r,s)}else if("timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a){var B=t.selectedAppointmentTableBounds,R=parseInt(B.top);R>g.top&&R<g.top+h.offsetHeight&&t.feedback.css("top",R+"px"),t._startTimers(o,r,s)}}if(t.endDrag){var z=t.endDrag(s,h,t.feedback);return z||t.feedback.width(y),t.feedback.height(x),t.feedback.css("top",v),t.feedback.css("left",w),!0}if(t.isTouchDevice()&&!0!==t.touchMode)return i.stopPropagation(),!1}});var a=function(e){if(t.isMouseDown=!1,t.dragOrResize=!1,t.contextMenu&&t.menu&&3!==e.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),3===e.which)return!0;if(t.selectedAppointment&&t.feedback){if(t.editRecurrenceDialog.jqxWindow("isOpen"))return;t._handleMouseUp(t.selectedJQXAppointment,t._dragCell,t.resizing)}};if(this.addHandler(e(document),s,function(e){return a(e)}),!this.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var l=null;if(window.parent&&document.referrer&&(l=document.referrer),l&&-1!=l.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id,function(e){if(!t.disabled)return a(e)})}}}catch(e){}this.addHandler(this.host,n,function(i){var o=i.pageX,r=i.pageY;if(t.disabled||3===i.which)return!0;if(t.selectedAppointment&&t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hasOpenedMenu)return!0;if("none"!==t.overlay[0].style.display)return!0;var n=null;i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(n=i.target);for(var s=i.target,a=0;a<4&&s.parentNode;a++)s.className.indexOf("jqx-scheduler-appointment")>=0&&-1==s.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(n=s),s=s.parentNode;if(n){var l=t._views[t._view].type,d=(t._views[t._view],t.getJQXAppointmentByElement(n));if(d.resizable){var h=d.duration(),c=d.allDay||h.days()>=1||23==h.hours()&&59==h.minutes&&59==h.seconds,p=e(n).coord(),u=e(n).position();t.selectedAppointmentBounds={top:p.top,left:p.left,width:e(n).width(),height:e(n).height()},t.selectedAppointmentTableBounds={top:u.top,left:u.left,width:e(n).width(),height:e(n).height()};g=t.selectedAppointmentBounds;if("weekView"==l||"dayView"==l)c?"dayView"!=l?o>=g.left-3&&o<=g.left+6?(n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):o>=g.left+g.width-6&&o<=g.left+g.width+3?(n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):n.style.cursor="pointer":n.style.cursor="pointer":r>=g.top-3&&r<=g.top+6?(n.style.cursor="row-resize",t.topResize=!0,t.bottomResize=!1):r>=g.top+g.height-6&&r<=g.top+g.height+3?(n.style.cursor="row-resize",t.topResize=!1,t.bottomResize=!0):n.style.cursor="pointer";else if("monthView"==l&&d.elements.length>1)for(var m=t.table.coord(),a=0;a<d.elements.length;a++){var f=d.elements[a],g={top:m.top+f.y,left:m.left+f.x,width:f.width,height:f.height};if(0==a&&!t.rtl||a==d.elements.length-1&&t.rtl)if(o>=g.left-3&&o<=g.left+6){if(r>=g.top&&r<=g.top+g.height){n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1,t.selectedAppointment=e(n);break}n.style.cursor="pointer"}else n.style.cursor="pointer";else if(a==d.elements.length-1&&!t.rtl||0==a&&t.rtl)if(o>=g.left+g.width-6&&o<=g.left+g.width+3){if(r>=g.top&&r<=g.top+g.height){n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0,t.selectedAppointment=e(n);break}n.style.cursor="pointer"}else n.style.cursor="pointer"}else o>=g.left-3&&o<=g.left+6?(n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):o>=g.left+g.width-6&&o<=g.left+g.width+3?(n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):n.style.cursor="pointer"}}if(!t.enableHover)return!0;if("td"===i.target.nodeName.toLowerCase())w=i.target;else var w=t.findCell(o,r);if(!w)return!0;if(t._removeHoveredCell(),t.renderedRecords&&0===t.renderedRecords.length)return!0;if(t.isMouseDown){if(Math.abs(t.mousecaptureposition.left-o)>3||Math.abs(t.mousecaptureposition.top-r)>3){if(0===t.mousecaptureposition.clickedcell.length)return void(t.selectionarea[0].style.visibility="hidden");t.lastHoveredCell!=w&&(t._selectRangeTimer&&clearTimeout(t._selectRangeTimer),t._selectRangeTimer=setTimeout(function(){"agendaView"!=t._views[t._view].type&&t._selectRange(w,t.mousecaptureposition.clickedcell[0])},1)),t.lastHoveredCell=w}}else if(!n){if(1==t.rows.length&&1==t.rows[0].cells.length)return!0;t._hoverCell(w)}return!0}),this.addHandler(e(document),"keydown.jqxscheduler"+t.element.id,function(e){if(t.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)});var d=function(i){i.target;n=null;if(t.disabled)return!0;t.menu||3!=i.which||t._initMenu();t.table.coord();var o=i.pageX,r=i.pageY;e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(o=arguments[1].pageX,r=arguments[1].pageY),t.isTouchDevice()&&(o=(w=e.jqx.position(i)).left,r=w.top,(isNaN(o)||isNaN(r))&&(o=(w=e.jqx.position(i.originalEvent)).left,r=w.top)),t.mouseDown={top:r,left:o};n=t.findCell(o,r);if("td"===i.target.nodeName.toLowerCase())n=i.target;else var n=t.findCell(o,r);var s=t._views[t._view].type,a=t._views[t._view];if("monthView"===s&&a.weekViewNavigation&&n&&n.getAttribute("data-time-slot")){var l=t._getDateByString(n.getAttribute("data-date")),d=new e.jqx.date(l);t.date=d,t.setView("weekView")}if("monthView"===s&&a.dayViewNavigation){var h=e(n).coord().top;if(n&&r>=h&&h+16>=r){var l=t._getDateByString(n.getAttribute("data-date")),d=new e.jqx.date(l);t.date=d,t.setView("dayView")}}if("span"===i.target.nodeName.toLowerCase()&&(i.target.className.indexOf("jqx-icon-arrow-down")>=0||i.target.className.indexOf("jqx-icon-close")>=0))return i.target.mousedown&&i.target.mousedown(),!0;var c=e(n).parent(),p=c.attr("data-key");t.mousecaptureposition={left:i.pageX,top:i.pageY,clickedrow:e(c).index(),clickedcell:e(n)},3!==i.which?(t.isMouseDown=!0,t.isMouseDownDate=new Date):t.isMouseDown=!1,t.contextMenu&&t.menu&&3!==i.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);var u=function(e){if(3===i.which&&t.contextMenu&&t.menu){e?t.menu.find("li:first").show():t.menu.find("li:first").hide();var o=t.menu.coord();if("block"==t.menu.css("display")&&o.left==i.pageX&&o.top==i.pageY)return t._hasOpenedMenu=!0,i.preventDefault(),void i.stopPropagation();t.menuOpening=!0,t.menu.jqxMenu("open",i.pageX,i.pageY),t.menuOpening=!1,t._hasOpenedMenu=!0,i.preventDefault(),i.stopPropagation(),setTimeout(function(){t.menu.jqxMenu("focus")},50)}},m=function(){for(var e=0;e<T.length;e++)for(var t=T[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")},f=i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")?e(i.target):e(i.target).parents(".jqx-scheduler-appointment");if(0==f.length&&(f=null),f&&-1==f[0].className.indexOf("feedback")){if(f.parents(".jqx-scheduler-month-cell-popup").length>0)return!0;t.mouseDownPosition={top:r,left:o};var g=e(f).coord();t.selectedAppointmentBounds={top:g.top,left:g.left,width:e(f).width(),height:e(f).height()};var w=e(f).position();t.selectedAppointmentTableBounds={top:w.top,left:w.left,width:e(f).width(),height:e(f).height()},t._dragStartCell||(t._dragStartCell=t.findCell(g.left,g.top));x=t.getJQXAppointmentByElement(f);t._selectAppointment(x,f,"mouse"),t._raiseEvent("appointmentClick",{appointment:x.boundAppointment}),t.clearSelection();var v=(new Date).getTime(),y=300;return e.jqx.browser.msie&&e.jqx.browser.version<9&&(y=1e3),t.clickTime||(t.clickTime=new Date),v-t.clickTime.getTime()<y&&t._lastSelectedAppointment&&x.id==t._lastSelectedAppointment.id&&3!=i.which?(x.readOnly||t.editRecurrenceDialog.jqxWindow("isOpen")||t._editDialog&&(!t._editDialog||t._editDialog.jqxWindow("isOpen"))||!1!==(b=t._initDialog(x))&&t._openDialog(),t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:x.boundAppointment})):x.readOnly||3!==i.which&&t.focus(),t._lastSelectedAppointment=x,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,void(x.readOnly||3==i.which&&u(!0))}if(3===i.which)if(null!==t.getSelection())u(!1);else{t.clearAppointmentsSelection(),n.setAttribute("data-selected","true"),t._lastSelectedCell=n,t.focusedCell=n,t._updateCellsSelection(n),u(!1);A=new e.jqx.date(n.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:n,date:A})}else 3!=i.which&&t.clearAppointmentsSelection();if("agendaView"==t.view&&(f=-1!=i.target.className.indexOf("jqx-scheduler-agenda-appointment"))){f=i.target;var x=t.getJQXAppointmentByElement(f);t._selectAppointment(x,f,"mouse"),t._raiseEvent("appointmentClick",{appointment:x.boundAppointment});var v=(new Date).getTime(),y=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(y=1e3),t.clickTime||(t.clickTime=new Date),v-t.clickTime.getTime()<y&&t._lastSelectedAppointment&&x.id==t._lastSelectedAppointment.id&&3!=i.which){if(!x.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen"))){var b=t._initDialog(x);!1!==b&&t._openDialog()}t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:x.boundAppointment})}t._lastSelectedAppointment=x,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,x.readOnly||3==i.which&&u(!0)}if(void 0!==p&&3!=i.which){t.clickedTD=n;A=new e.jqx.date(n.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:n,date:A});if(t.rowinfo[p]){var v=(new Date).getTime(),y=300;if(t.clickTime||(t.clickTime=new Date),t.focus(),t._lastSelectedCell&&"true"==t._lastSelectedCell.getAttribute("data-selected")&&"true"===n.getAttribute("data-selected")&&v-t.clickTime.getTime()<y){var A=new e.jqx.date(n.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellDoubleClick",{cell:n,date:A}),!0,t._initDialog(),t._openDialog(),i.preventDefault&&i.preventDefault()}}var T=t.rows;if("true"!=n.getAttribute("data-selected")||i.shiftKey||v-t.clickTime.getTime()>y){if("true"==n.getAttribute("data-time-slot"))return;i.shiftKey||(t.shiftSelectedCell=null),i.shiftKey&&t._lastSelectedCell&&"agendaView"!=s&&(t.shiftSelectedCell||(t.shiftSelectedCell=t._lastSelectedCell),n.getAttribute("data-view")===t.shiftSelectedCell.getAttribute("data-view")&&m(),t._selectRange(n,t.shiftSelectedCell)),i.shiftKey||(m(),(l=t._getDateByString(n.getAttribute("data-date")))>=t.min.toDate()&&l<=t.max.toDate()?n.setAttribute("data-selected","true"):n.setAttribute("data-selected","false")),e('[data-key="'+p+'"]').removeClass(t.toTP("jqx-scheduler-selected-appointment")),t.selectedAppointment=null,(l=t._getDateByString(n.getAttribute("data-date")))>=t.min.toDate()&&l<=t.max.toDate()&&(t._lastSelectedCell=n,t.focusedCell=n),t._updateCellsSelection(n),t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}t.clickTime=new Date,i.stopPropagation&&i.stopPropagation()}};this.addHandler(this.pinnedtable,r,function(e){var t=d(e);if(void 0!=t)return t}),this.addHandler(this.table,r,function(e){var t=d(e);if(void 0!=t)return t})},moveAppointment:function(t,i,o,r,n){var s=this,a=r.getAttribute("data-end-date");if(t){if(s.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(s._verticalIntervalDragVelocity),clearInterval(s._horizontalIntervalDragVelocity),clearInterval(s._intervalDrag),clearInterval(s._horizontalIntervalDrag);var l=t.duration(),d=t.duration().days()>=1||t.allDay,h=function(h){if(!n){var c=s._views[s._view].type,p=s._views[s._view],u=i;if(t.from=u,"dayView"===c||"weekView"===c)if(d||a){if(!d&&a)t.to=e.jqx.scheduler.utilities.getEndOfDay(u),t.allDay=!0;else if(d&&a)t.to=u.add(l);else if(d&&!a){var m=30;switch(p.timeRuler&&p.timeRuler.scale){case"sixtyMinutes":case"hour":m=60;break;case"fifteenMinutes":case"quarterHour":m=15;break;case"tenMinutes":m=10;break;case"fiveMinutes":m=5}t.to=u.addMinutes(m),t.allDay=!1}}else t.to=u.add(l),t.allDay=!1;else"monthView"===c?t.to=u.add(l):"timelineDayView"!==c&&"timelineWeekView"!==c&&"timelineMonthView"!==c||(t.to=u.add(l))}if(s._saveChangesAfterDragOrResize(h,t,r,n),null!=o&&(t.resourceId=o),s.table.find(".jqx-icon-arrow-down").hide(),t.allDay||d)s._renderrows();else{var f=s.getViewStart(),g=e.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(f,g),s._renderAppointments(f,g)}s._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),s.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},s._ensureAppointmentVisible(s.selectedJQXAppointment)};h(t.isRecurrentAppointment()?!1:null)}},getAppointmentProperty:function(e,t){var i=null;if(this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i)return i[t]},setAppointmentProperty:function(t,i,o){var r=this,n=null;if(this.appointmentsByKey[t]&&(n=this.appointmentsByKey[t].jqxAppointment),n)switch(n[i]=o,r.changedAppointments[t]={type:i,appointment:n.boundAppointment},t){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var s=r.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(s,a),r._renderAppointments(s,a);break;case"hidden":case"timeZone":if(n.isAllDayAppointment())r._renderrows();else{var s=r.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(s,a),r._renderAppointments(s,a)}break;default:r._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,o=0;o<i.length;o++)if(i[o].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[o]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var r=e.id;delete t.appointmentsByKey[r];for(var n=-1,o=0;o<t.appointments.length;o++)if(t.appointments[o]==e.boundAppointment||t.appointments[o].id==e.boundAppointment.id){n=o;break}-1!=n&&t.appointments.splice(n,1),n=-1;for(o=0;o<t.uiappointments.length;o++)if(t.uiappointments[o]==e||t.uiappointments[o].id==e.id){n=o;break}-1!=n&&t.uiappointments.splice(n,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[n+1]?t.selectAppointment(t.uiappointments[n+1].id):t.uiappointments[n-1]?t.selectAppointment(t.uiappointments[n-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[r]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(t){var i=this;if(t.scheduler||(t.scheduler=this),!t.duration)if((t.from||t.to)&&t.appointmentObject){var o=new e.jqx.scheduler.appointment;for(var r in t)o[r]=t[r];t=o}else{var n=t,s={},a=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var r in i.appointmentDataFields){x=n[y=i.appointmentDataFields[r]];if("from"!=r&&"to"!=r||(x=new e.jqx.date(x)),"style"==r&&x){var l=i.getAppointmentColors(x);s.color=l.color,s.background=l.background,s.borderColor=l.border}if("recurrencePattern"==r&&x&&((x=new e.jqx.scheduler.recurrencePattern(x)).timeZone=n.timeZone||i.timeZone),"recurrenceException"==r){var d=new Array;if(x){x.indexOf("EXDATE:")>=0&&(x=x.substring(x.indexOf("EXDATE:")+7));var h=new Array;x.indexOf(",")>=0?h=x.split(","):h.push(x);for(var c=0;c<h.length;c++){var p=h[c];if(p.indexOf(";")>=0){var u=p.split(";")[1];p=p.split(";")[0],u.toLowerCase().indexOf("display")>=0&&u.toLowerCase().indexOf("none")&&(s.hidden=!0)}try{"Invalid Date"!=(m=e.jqx.scheduler.utilities.untilStringToDate(p))&&(m=s.timeZone?new e.jqx.date(m,s.timeZone):i.timeZone?m.toTimeZone(i.timeZone):new e.jqx.date(m))}catch(t){var m=new e.jqx.date(p,i.timeZone)}d.push(m)}}x=d}s[r]=x}for(var f in a)if(void 0==s[r=a[f]]){x="";if("originalData"==r)continue;"ownerId"==r&&(x=null),"timeZone"==r&&(x=null),"recurrencePattern"==r&&(x=null),"recurrenceException"==r&&(x=null),"allDay"==r&&(x=!1),"draggable"==r&&(x=!0),"resizable"==r&&(x=!0),"hidden"==r&&(x=!1),"resourceId"==r&&(x=null),"from"==r&&(x=new e.jqx.date),"to"==r&&(x=(new e.jqx.date).addHours(1)),s[r]=x}s.originalData=n,s.scheduler=this;var t=new e.jqx.scheduler.appointment(s);s.timeZone&&(t.from=t.from.toTimeZone(s.timeZone),t.to=t.to.toTimeZone(s.timeZone)),i.timeZone?(s.timeZone||(t.timeZone=i.timeZone),t.from=t.from.toTimeZone(i.timeZone),t.to=t.to.toTimeZone(i.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null))}r=i.dataview.generatekey();t.id=r,i.appointmentsByKey[r]=t,i.appointments.push(t);var g={},w={};for(var v in i.appointmentDataFields){var y=i.appointmentDataFields[v],x=t[v];g[v]=x,"from"!=v&&"to"!=v||(x=x.toDate?x.toDate():new e.jqx.date(x).toDate()),w[y]=x}g.originalData=w,t.boundAppointment=g,g.jqxAppointment=t,t.jqxAppointment=t,i._raiseEvent("appointmentAdd",{appointment:t.boundAppointment}),i.uiappointments.push(t),i.changedAppointments[r]={type:"Add",appointment:t.boundAppointment},i.hiddenResources&&i.hiddenResources[t.resourceId]?i.hideAppointmentsByResource(t.resourceId):i._renderrows(),i._selectAppointment(t),i._lastSelectedAppointment=t},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,o=0;i>0&&e.rtl&&(i=0,o=1);for(var r=0;r<t.length;r++)for(var n=t[r].cells,s=i;s<n.length-o;s++){var a=n[s];if("true"==a.getAttribute("data-selected")){if((l=a.jqxClassName||a.className).indexOf("jqx-fill-state-pressed")>=0){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l=l+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l}else{var l=a.jqxClassName||a.className;if(-1==l.indexOf("jqx-fill-state-pressed")){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l),l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l,a.removeAttribute("data-selected")}}},_getuikey:function(t,i){var o=null,r=this.table[0].rows;if(o=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var n=e(r[t]);if("next"==i){for(;n;)if((n=n.next())&&!(s=n.attr("data-role")))return o=n.attr("data-key")}else if("prev"==i)for(;n;)if(n=n.prev()){var s=n.attr("data-role");if(!s)return o=n.attr("data-key")}return null}return o},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var o=24,r=this.showAllDayRow;if(t.timeRuler&&("dayView"===e||"weekView"===e)){var n=0,s=23;if(void 0!=t.timeRuler.scaleStartHour)n=parseInt(t.timeRuler.scaleStartHour);if(void 0!=t.timeRuler.scaleEndHour)s=parseInt(t.timeRuler.scaleEndHour);n<0&&(n=0),s<0&&(s=23),n>23&&(n=0),s>23&&(s=23),o=s-n+1,void 0!=t.timeRuler.showAllDayRow&&(r=t.timeRuler.showAllDayRow)}var a=new Array,l=0;switch(e){case"dayView":case"weekView":default:l=2*o;if("hour"===i||"sixtyMinutes"===i)l=o;else if("quarterHour"===i||"fifteenMinutes"===i)l=4*o;else if("tenMinutes"===i)l=6*o;else if("fiveMinutes"===i)l=12*o;r&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){var t=e.split(" "),i=t[0].split("-"),o=t[1].split(":"),r=parseInt(i[0],10),n=parseInt(i[1],10)-1,s=parseInt(i[2],10),a=parseInt(o[0],10),l=parseInt(o[1],10),d=parseInt(o[2],10),h=new Date(r,n,s,a,l,d);return r<1970&&h.setFullYear(r,n,s),h},_getCellByDate:function(e,t,i){var o=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var r=0;r<o.length;r++){var n=o[r];if(!n.element.getAttribute("data-group-row"))for(var s=0;s<n.cells.length;s++){var a=n.cells[s];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){var t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),o=String.fromCharCode(72,84,84,80,58,47,47),r=document.createElement(i);r.id=e.jqx.utilities.createId(),r.innerHTML=t,r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#909090",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="none",r.style.fontSize="9px",r.onmousedown=function(){open(o+t)},this.content[0].appendChild(r),this._gridRenderElement=r}},_handleKey:function(t){if(this._loading)return!0;var i=t.shiftKey,o=t.ctrlKey||t.metaKey,r=this,n=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(r._hasOpenedMenu)return 27==n?r.closeMenu():r.menu.jqxMenu("focus"),!0;if(13===n||r.selectedAppointment&&46==n){if(r.editRecurrenceDialog&&r.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(r._editDialog&&r._editDialog.jqxWindow("isOpen"))return!0;if(r.selectedAppointment){if(!(m=r.getJQXAppointmentByElement(r.selectedAppointment)).readOnly)if(46==n)!1!==(s=r._initDialog(m,"delete"))&&r._openDialog();else{var s=r._initDialog(m);!1!==s&&r._openDialog()}}else r._initDialog(),r._openDialog()}if(27===n&&r.dragOrResize){r.table.find(".jqx-icon-arrow-down").hide();var a=r.getViewStart(),l=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());return r._prepareAppointmentsInView(a,l),r._renderAppointments(a,l),r._removeFeedbackAndStopResize(),!1}var d=function(t){var n=r.selectedAppointment,s=r.getJQXAppointmentByElement(n),a=s.elements[0].cells[0].cell,l=s.elements[s.elements.length-1].cells[s.elements[s.elements.length-1].cells.length-1].cell,d=r.rows[r.rows.length-1].cells[r.rows[r.rows.length-1].cells.length-1];!i&&(i||o||"down"!=t&&"right"!=t)||(a=l);var h=r._views[r._view].type,c=(r._views[r._view],a);switch(t){case"left":(p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a))>0&&!i?c=m.cells[p-1]:"monthView"!=h||i||(u=m.aboveRow)&&(c=u.cells[u.cells.length-1]);break;case"right":(p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a))<m.cells.length-1?c=m.cells[p+1]:"monthView"==h&&(f=m.belowRow)&&(c=f.cells[0]),"monthView"==h&&!i&&o&&l==d&&(c=a);break;case"up":var p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a),u=m.aboveRow;u&&!i&&(c=u.cells[p]);break;case"down":var m=r.rowByCell[a.getAttribute("data-key")],p=m.indexOf(a),f=m.belowRow;f&&(c=f.cells[p])}var g=c.getAttribute("data-date"),w=new e.jqx.date(g,r.timeZone),h=e(c).attr("data-view"),v=r._resources[parseInt(h)-1];if(i){var h=r._views[r._view].type,y=(r._views[r._view],!1);"dayView"===h||"weekView"===h?a.getAttribute("data-end-date")?"left"==t&&(s.elements[0].cells.length>1||r.rtl)?(r.rtl?s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(1)):s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(-1)),y=!0):"right"==t&&((!r.rtl||r.rtl&&s.elements[0].cells.length>1)&&(s.to=e.jqx.scheduler.utilities.getEndOfDay(w)),y=!0):"up"==t&&s.elements[0].cells.length>1?(s.to=w,y=!0):"down"==t&&(s.to=w.addMinutes(r.getMinutesPerScale()),y=!0):h.indexOf("month")>=0?"left"==t&&(s.elements[0].cells.length>1||s.elements.length>1)?(s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(-1)),y=!0):"right"==t&&(s.to=e.jqx.scheduler.utilities.getEndOfDay(w),y=!0):!r.rtl&&"left"==t&&s.elements[0].cells.length>1||r.rtl&&"right"==t&&s.elements[0].cells.length>1?(s.to=w,r.rtl&&(s.to=w.addMinutes(r.getMinutesPerScale())),y=!0):(!r.rtl&&"right"==t||r.rtl&&"left"==t)&&(s.to=w.addMinutes(r.getMinutesPerScale()),r.rtl&&(s.to=s.to.addMinutes(r.getMinutesPerScale())),y=!0),y&&r.moveAppointment(s,w,v,c,!0)}else if(o)r.moveAppointment(s,w,v,c);else{r.clearAppointmentsSelection();var x=!0;"down"==t&&(x=!1),r.selectCell(w,x,h),r._ensureVisible(c)}if(r.selectedAppointment){r.selectedAppointment.removeClass(r.toTP("jqx-scheduler-selected-appointment"));var b=r.selectedAppointment.attr("data-key");e('[data-key="'+b+'"]').addClass(r.toTP("jqx-scheduler-selected-appointment")),r.clearSelection()}};if(t.altKey&&r._resourcesElements&&r._resources&&r._resources.length>0){var h=function(e){"on"==r._resourcesElements.bottom[e].attr("data-toggle")?r.hideAppointmentsByResource(e):r.showAppointmentsByResource(e)},c=n>=49&&n<=58?c=n-48:-1;if(c>=1)return e.each(r._resources,function(e,t){if(e==c-1)return h(t),!1}),!1}if(t.ctrlKey){if(!r.selectedAppointment){if(37==n)return r.toolbarLeftButton.trigger("click"),r._ensureVisible(r.focusedCell),!1;if(39==n)return r.toolbarRightButton.trigger("click"),r._ensureVisible(r.focusedCell),!1}if(49==n)return r._setView(0),!1;if(50==n)return r._setView(1),!1;if(51==n)return r._setView(2),!1;if(52==n)return r._setView(3),!1;if(53==n)return r._setView(4),!1;if(54==n)return r._setView(5),!1;if(68==n)return r.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==n)return r.openMenu(),!1}if(9==n)if(t.shiftKey)if(r.selectedAppointment){r.clearSelection();u=r.selectedAppointment;if(m=r.getJQXAppointmentByElement(u)){var p=r.tabKeyAppointments.indexOf(m);return p>0?(m=r.tabKeyAppointments[p-1],r._selectAppointment(m),r._lastSelectedAppointment=m,r._ensureAppointmentVisible(m),!1):(r.clearAppointmentsSelection(),r.focusedCell?!r.focusedCell||-1!=r.focusedCell.className.indexOf("-focus")||(r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1):(r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1))}}else if(r.focusedCell){if(r.focusedCell&&-1==r.focusedCell.className.indexOf("-focus"))return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}else r._updateFocusedCell(),r._ensureVisible(r.focusedCell);else{if(r.selectedAppointment){r.clearSelection();var u=r.selectedAppointment,m=r.getJQXAppointmentByElement(u);return(p=r.tabKeyAppointments.indexOf(m))<r.tabKeyAppointments.length-1?(m=r.tabKeyAppointments[p+1],r._selectAppointment(m),r._lastSelectedAppointment=m,r._ensureAppointmentVisible(m),!1):(r.clearAppointmentsSelection(),!0)}if(m=r.tabKeyAppointments[0])return r._selectAppointment(m),r._lastSelectedAppointment=m,r._ensureAppointmentVisible(m),!1;if(!r.focusedCell)return r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1;if(r.focusedCell&&-1==r.focusedCell.className.indexOf("-focus"))return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}if(r.selectedAppointment){if(37==n?d("left"):38==n?d("up"):40==n?d("down"):39==n&&d("right"),n>=37&&n<=40)return!1}else{var f=this._lastSelectedCell;if(f){e(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],f=this._lastSelectedCell);this.rows;var g=this._views[this._view].type,w=this._views[this._view],v="halfHour";w.timeRuler&&w.timeRuler.scale&&(v=w.timeRuler.scale);var y=function(i,o){switch(v){case"sixtyMinutes":case"hour":60;break;case"thirtyMinutes":case"halfHour":30;break;case"fifteenMinutes":case"quarterHour":15;break;case"tenMinutes":10;break;case"fiveMinutes":5}var n=i.getAttribute("data-date"),s=function(e,i,o){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==g)&&null==e.getAttribute("data-time-slot")){if(o<r.min||o>r.max)return;var n=r.rows,s=r._lastSelectedCell;if(r._lastSelectedCell=e,t.shiftKey&&r._lastSelectedCell?r.shiftSelectedCell||(r.shiftSelectedCell=f):t.shiftKey||(r.shiftSelectedCell=null),r.shiftSelectedCell)e.getAttribute("data-end-date")&&r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=e,r._selectRange(e,r.shiftSelectedCell)):e.getAttribute("data-end-date")||r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=s,r._lastSelectedCell=s):(r.focusedCell=e,r._selectRange(e,r.shiftSelectedCell));else{for(var a=0;a<n.length;a++){var l=n[a];if(!l.element.getAttribute("data-group-row"))for(var d=0;d<l.cells.length;d++)l.cells[d].removeAttribute("data-selected","false")}e.setAttribute("data-selected","true"),r.focusedCell=e}r._ensureVisible(r.focusedCell)}};new e.jqx.date(n,r.timeZone),i.getAttribute("data-view");switch(o){case"left":if((d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i))>0)var a=u.cells[d-1],l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone);s(a,0,l);break;case"right":if((d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i))<u.cells.length-1)var a=u.cells[d+1],l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone);s(a,0,l);break;case"up":var d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i),h=u.aboveRow;if(h){a=h.cells[d];if(0==d&&a.getAttribute("rowspan"))for(var c=-1+r.rows.indexOf(u),a=i;c>=0;){if(r.rows[c].cells[0]!=a){a=r.rows[c].cells[0];break}c--}s(a,0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}break;case"down":var d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i),p=u.belowRow;if(p){a=p.cells[d];if(0==d&&a.getAttribute("rowspan"))for(var c=1+r.rows.indexOf(u),a=i;c<r.rows.length;){if(r.rows[c].cells[0]!=a){a=r.rows[c].cells[0];break}c++}s(a,0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}break;case"home":d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i);s(a=r.rows[0].cells[d],0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone));break;case"end":var u=r.rowByCell[i.getAttribute("data-key")],d=u.indexOf(i);s(a=r.rows[r.rows.length-1].cells[d],0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}r._updateCellsSelection()};return 36==n||o&&38==n?(y(f,"home"),!1):35==n||o&&40==n?(y(f,"end"),!1):37==n?(r.selectedAppointment?d(f):y(f,"left"),!1):38==n?(r.selectedAppointment?d(f):y(f,"up"),!1):40==n?(r.selectedAppointment?d(f):y(f,"down"),!1):39==n?(r.selectedAppointment?d(f):y(f,"right"),!1):void 0}}},getSelectedCells:function(){for(var e=this,t=e.rows,i=t.length,o=new Array,r=0;r<i;r++)for(var n=t[r].cells,s=0;s<n.length;s++)n[s].getAttribute("data-selected")&&o.push(n[s]);return o.sort(function(t,i){return e._sortByDate(t,i)})},getSelection:function(){var t=this,i=t.getSelectedCells();if(0==i.length)return null;var o=i[0].getAttribute("data-date"),r=i[i.length-1].getAttribute("data-date"),n=t.getMinutesPerScale();(s=t._views[t._view].type).toLowerCase().indexOf("month")>=0&&(n=0),i[0].getAttribute("data-end-date")&&(n=0),r=new e.jqx.date(r,t.timeZone).addMinutes(n);var s=parseInt(i[0].getAttribute("data-view"))-1,a=t._resources[s];return t._views[t._view].type.toLowerCase().indexOf("month")>=0?{from:new e.jqx.date(o,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(r),resourceId:a}:{from:new e.jqx.date(o,t.timeZone),to:r,resourceId:a}},clearSelection:function(){for(var e=this,t=e.rows,i=t.length,o=0;o<i;o++)for(var r=t[o].cells,n=0;n<r.length;n++)r[n].removeAttribute("data-selected");e._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,o,r){this.rtl&&(e=this.hScrollInstance.max-e);var n=0,s=-1,a=i+o;if(this.autorowheight)return{start:0,end:i+o};if(!r)for(var l=0;l<i+o;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),n>=e&&-1==s&&(s=l),n>t+e){a=l;break}}return++a>i+o&&(a=i+o),-1==s&&(s=0),{start:s,end:a}},_renderhorizontalscroll:function(){var t=this,i=t.hScrollInstance,o=i.value;"hidden"===t.hScrollBar[0].style.visibility&&(i.value=0,o=0);var r=parseInt(o);if(null!=t.table){for(var n=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},s=t._getvirtualcolumnsindexes(r,t._hostWidth,0,t.columns.records.length,!1),a=s.start,l=s.end,d=(t.rows,0);d<a;d++){h=d;n(c=t.columns.records[h].element[0])&&c.parentNode.removeChild(c)}for(d=l;d<t.columns.records.length;d++){var h=d,c=t.columns.records[h].element[0];n(c)&&c.parentNode.removeChild(c)}for(d=a;d<l;d++){h=d;n(c=t.columns.records[h].element[0])||t.columnsrow[0].appendChild(c)}var p=t.columnsrow;t.columns.records.length,t.columns.records,t.source.records.length;if(t.rtl&&"hidden"!=t.hScrollBar.css("visibility")&&(r=i.max-r),t.table[0].style.left=-r+"px","block"==t.pinnedtable[0].style.display&&(t.pinnedtable[0].style.left=-r+"px"),t._resources.length>0&&t.tableRows>0)for(var u=0;u<this.table[0].rows.length;u++){var m=this.table[0].rows[u];m.getAttribute("data-group-row")&&e(m).find("span").css("left",5+r)}p[0].style.marginLeft=-r+"px"}},_getDayName:function(e,t){e>=7&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var t=this._views[this._view].type,i=this._views[this._view];if(i.timeSlotWidth&&(i.timeSlotWidth=Math.max(i.timeSlotWidth,30),i.columnWidth=i.timeSlotWidth),i.columnWidth&&i.columnWidth<30&&(i.columnWidth=30),this.columns&&this.columns.records)for(_=0;_<this.columns.records.length;_++)this._removecolumnhandlers(this.columns.records[_]);this.columns=new Array;for(var o=new Array,r=this,n=function(t,o){var n="halfHour";i.timeRuler&&i.timeRuler.scale&&(n=i.timeRuler.scale);var s=24,a=0,l=23;if(i.timeRuler){if(void 0!=i.timeRuler.scaleStartHour)a=parseInt(i.timeRuler.scaleStartHour);if(void 0!=i.timeRuler.scaleEndHour)l=parseInt(i.timeRuler.scaleEndHour);a<0&&(a=0),l<0&&(l=23),a>23&&(a=0),l>23&&(l=23),s=l-a+1}var d=2;if(n)switch(n){case"sixtyMinutes":case"hour":d=1;break;case"thirtyMinutes":case"halfHour":d=2;break;case"fifteenMinutes":case"quarterHour":d=4;break;case"tenMinutes":d=6;break;case"fiveMinutes":d=12}new Array;var h="auto";i.timeRuler&&i.timeRuler.formatString&&(h=i.timeRuler.formatString);var c=a,p=s,u=t.addHours(c),m="auto";m=i.columnWidth?d*i.columnWidth:80*d;for(var f=0;f<p;f++){var g=u.toDate();if("auto"===h)if(0==g.getHours()&&0==g.getMinutes()||12==g.getHours()&&0==g.getMinutes())w="hh tt";else w="hh:mm";else if(e.isFunction(h))var w=h(g);else w=h;e.jqx.dataFormat.isDate(g)&&(g=e.jqx.dataFormat.formatdate(g,w,r.schedulerLocalization)),u=u.addMinutes(60,!1),r.columns.push({columnGroup:o,text:g,minwidth:30,width:m})}},s=0;s<this.tableColumns;s++){if(this.tableColumns>1){f=r._resources[s]?r._resources[s]:"Resource"+s;o.push({text:f,name:f})}var a="left";switch(this.rtl&&(a="right"),t){case"dayView":var l=this.getViewStart();!1===i.showWeekends&&(0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1)),0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1)));p="auto";i&&i.columnWidth&&(p=i.columnWidth);f=r._resources[s]?r._resources[s]:"Resource"+s;this.columns.push({align:a,width:p,columnGroup:f,text:this._getDayName(l.dayOfWeek())});break;case"weekView":case"monthView":for(_=0;_<7;_++){c=this.schedulerLocalization.firstDay+_;if(!1!==i.showWeekends||0!==_&&6!==_){p="auto";i&&i.columnWidth&&(p=i.columnWidth);f=r._resources[s]?r._resources[s]:"Resource"+s;this.columns.push({align:"weekView"==t?a:"center",width:p,columnGroup:f,text:this._getDayName(c)})}}break;case"timelineDayView":f=r._resources[s]?r._resources[s]:"Resource"+s;n(r.getViewStart(),f);break;case"timelineWeekView":for(_=0;_<7;_++){c=this.schedulerLocalization.firstDay+_;if(!1!==i.showWeekends||0!==_&&6!==_){f=r._resources[s]?r._resources[s]:"Resource"+s;o.push({align:r.rtl?"right":"left",parentGroup:f,name:this._getDayName(c)+s,text:this._getDayName(c)}),n(r.getViewStart().addDays(_),this._getDayName(c)+s)}}break;case"timelineMonthView":var d=r.getViewStart(),h="auto";i.timeRuler&&i.timeRuler.formatString&&(h=i.timeRuler.formatString);for(_=0;_<41;_++){var c=d.dayOfWeek();if(!1!==i.showWeekends||0!==c&&6!==c){var p="auto";p=i.columnWidth?i.columnWidth:100;var u=d.toDate();if("auto"===h){m="dd";1===(u=d.toDate()).getDate()&&(m="MMM dd")}else if(e.isFunction(h))var m=h(u);else m=h;e.jqx.dataFormat.isDate(u)&&(u=e.jqx.dataFormat.formatdate(u,m,r.schedulerLocalization)),d=d.addDays(1);var f=r._resources[s]?r._resources[s]:"Resource"+s;r.columns.push({minwidth:30,columnGroup:f,text:u,width:p})}}break;case"agendaView":var g=i.dateColumnWidth,w=i.timeColumnWidth,v=i.appointmentColumnWidth;v||(v="70%"),w||(w="auto"),g||(g="auto"),r.columns.push({text:r.schedulerLocalization.agendaDateColumn,width:g}),r.columns.push({text:r.schedulerLocalization.agendaTimeColumn,width:w}),r.columns.push({text:r.schedulerLocalization.agendaAppointmentColumn,width:v})}}o.length>0&&(this.columnGroups=o);var r=this,y=new e.jqx.schedulerDataCollection(this.element),x=0;this._columns=this.columns;var b="left",A=new e.jqx.scheduler.column(r,this);A.visibleindex=x++,A.text="",A.width=r.timeRulerWidth,A.editable=!1,A.timeColumn=!0,b="left",A.text="",A.hidden=!1,A.width=r.timeRulerWidth;!i.timeRuler||"dayView"!==t&&"weekView"!==t?"dayView"!==t&&"weekView"!==t&&(A.hidden=!0):(A._text=i.timeRuler.text||"",b=i.timeRuler.position||"left",A.hidden=i.timeRuler.hidden||!1,A.width=i.timeRuler.width||r.timeRulerWidth,i.timeRuler.timeZones);var T=function(o){var n=new e.jqx.scheduler.column(r,r);n.visibleindex=x++,n.text="",n.width=r.timeRulerWidth,n.editable=!1,n.timeColumn=!0,b="left",n.text="",n.hidden=!1,n.timeZone=i.timeRuler.timeZones[o].id,n.width=r.timeRulerWidth,!i.timeRuler||"dayView"!==t&&"weekView"!==t||(n._text=i.timeRuler.timeZones[_].text||"",n.hidden=i.timeRuler.hidden||!1,n.width=i.timeRuler.width||r.timeRulerWidth,y.add(n))};if("left"===b&&("dayView"===t||"weekView"===t)){if(i.timeRuler&&i.timeRuler.timeZones)for(_=0;_<i.timeRuler.timeZones.length;_++)T(_);y.add(A)}"left"===b&&"monthView"===t&&i.showWeekNumbers&&(A.hidden=!1,y.add(A));new Array;if(e.each(this.columns,function(t){if(void 0!=r.columns[t]){var i=new e.jqx.scheduler.column(r,this);i.visibleindex=x++,y.add(i)}}),"right"===b&&("dayView"===t||"weekView"===t)){if(i.timeRuler)for(var _=0;_<i.timeRuler.timeZones.length;_++)T(_);y.add(A)}"right"===b&&"monthView"===t&&i.showWeekNumbers&&(A.hidden=!1,y.add(A)),this.rtl&&y.records.reverse(),this.columns=y},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},_renderagenda:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=t.getViewStart(),r=e.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd().addDays(-1));t._prepareAppointmentsInView(o,r);for(var n=t.appointmentsToRender.length,s=new Array,a=0;a<t.appointmentsToRender.length;a++)for(var l=t.appointmentsToRender[a],d=l.from.clearTime();d<e.jqx.scheduler.utilities.getEndOfDay(l.to);){var h=d.toString();s[h]?(s[h].appointments.push(l),0):(s[h]={date:d,appointments:new Array},s[h].appointments.push(l),s[s.length]=s[h],0),d=d.addDays(1).clearTime()}var c=0,p=0;t.rows=new Array;for(var u=e.jqx.browser.msie&&e.jqx.browser.version<8,m=0,f=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",g=0,w="<table cellspacing='0' cellpadding='0' class='"+t.toTP("jqx-grid-table")+f+"' id='table"+t.element.id+"'><colgroup>",v=t.columns.records.length,y=0;y<v;y++){var x=t.columns.records[y];if(x.hidden)m++,nonHiddenColumns--;else{if((H=x.width)<x.minwidth&&(H=x.minwidth),H>x.maxwidth&&(H=x.maxwidth),(H-=0)<0&&(H=0),u){var b=H;y==m&&b++,w+="<col style='max-width: "+b+"px; width: "+b+"px;'>"}else w+="<col style='max-width: "+H+"px; width: "+H+"px;'>";g+=H}}if(w+="</colgroup>",0==n){var A='<tr role="row">',T=this.host.height(),_=0;t.columnGroups?_+=t.showHeader?t.columnsheader.height():0:_+=t.showHeader?t.columnsHeight:0,t.showToolbar&&(_+=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(_+=t.legendHeight),T-=_;var S='<td data-date="'+o.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+T+"px; height: "+T+"px; max-width:"+g+"px; width:"+g+"px;",D=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");S+='" class="'+(D+=" "+this.toTP("jqx-center-align"))+'">',S+=this.schedulerLocalization.emptyDataString,A+=S+="</td>",w+=A+="</tr>",this.table[0].style.width=g+2+"px",p=g}var j=t.rowsHeight;t.isTouchDevice()&&(j=t.touchRowsHeight);for(a=0;a<s.length;a++)for(var q=a,d=s[a],C=0;C<d.appointments.length;C++){var k=0,A='<tr data-key="'+q+'" role="row">';c=0;for(var B=d.appointments[C],y=0;y<v;y++){var R=t.columns.records[y],z=y;t.rtl&&(z=v-1-y);var H=R.width;H<R.minwidth&&(H=R.minwidth),H>R.maxwidth&&(H=R.maxwidth),(H-=0)<0&&(H=0);D=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");t.rtl&&(D+=" "+t.toTP("jqx-cell-rtl"));var q=t.dataview.generatekey(),P=d.date,T=j+"px",S='<td data-key="'+q+'" data-view="'+-1+'" data-date="'+P.toString()+'" role="gridcell"  style="max-width:'+H+"px; width:"+H+"px; height: "+T+"; min-height: "+j+"px;";if(0==z&&0==C){S='<td rowspan="'+d.appointments.length+'" data-key="'+q+'" data-view="'+-1+'" data-date="'+P.toString()+'" role="gridcell"  style="max-width:'+H+"px; width:"+H+"px;  min-height: "+j+"px;";D+=" "+t.toTP("jqx-center-align")}else if(0==z){c++;continue}t.rtl&&1==z&&(D+=" "+t.toTP("jqx-right-align")),R.hidden?(S+="display: none;",t._hiddencolumns=!0):(k+=0+H,0!=c||t.rtl?S+="border-left-width: 1px;":S+="border-left-width: 0px;",c++),S+='" class="'+D+'">';var M="";if(0==z&&0==C){var V=P.toString("dddd",t.schedulerLocalization),F=P.toString("MMMM, yyyy",t.schedulerLocalization),I=t.toTP("jqx-scheduler-agenda-date"),E=t.toTP("jqx-scheduler-agenda-day"),O=t.toTP("jqx-scheduler-agenda-week");M='<div class="'+I+'"><strong class="'+E+'">'+P.day()+'</strong><br/><em class="'+O+'">'+V+'</em><br/><span class="'+I+'">'+F+"</span></div>"}if(1==z){var W="auto",i=this._views[this._view],N=B.from,L=B.to;i.timeRuler&&i.timeRuler.formatString&&(W=i.timeRuler.formatString);var Z=W,U=W;if("auto"===W){if(0==N.hour()&&0==N.minute()||12==N.hour()&&0==N.minute())Z="hh tt";else Z="hh:mm";if(0==L.hour()&&0==L.minute()||12==L.hour()&&0==L.minute())U="hh tt";else U="hh:mm"}I=t.toTP("jqx-scheduler-agenda-time");M=B.allDay?"<span class='"+I+"'>"+t.schedulerLocalization.agendaAllDayString+"</span>":t.rtl?"<span class='"+I+"'>"+L.toString(U,t.schedulerLocalization)+" - "+N.toString(Z,t.schedulerLocalization)+"</span>":"<span class='"+I+"'>"+N.toString(Z,t.schedulerLocalization)+" - "+L.toString(U,t.schedulerLocalization)+"</span>"}else if(2==z){B.resourceId&&e.each(t._resources,function(e,i){if(B.resourceId==i){var o=t.getColors(e),r=(this.toString(),t.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"));if(t.rtl)r=t.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var n="<div data-key='"+B.id+"' class='"+r+"' style='margin-right: 5px; border-color: "+o.border+"; background: "+o.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>";M=n}});var X=B.subject?B.subject:"(No Title)",G=B.location,J=B.description,K=B.status?t.schedulerLocalization.editDialogStatuses[B.status]:"",Q=B.isRecurrentAppointment(),Y=(B.isException(),t.schedulerLocalization.editDialogSubjectString+": "+X);G&&(Y+="\n"+t.schedulerLocalization.editDialogLocationString+": "+G),J&&(Y+="\n"+t.schedulerLocalization.editDialogDescriptionString+": "+J),K&&(Y+="\n"+t.schedulerLocalization.editDialogStatusString+": "+K),Q&&(Y+="\n"+t.schedulerLocalization.editDialogRepeatString+": "+Q);I=t.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(t.rtl)I=t.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");M+="<span data-key='"+B.id+"' title='"+Y+"' class='"+I+"'>"+X+"</span>"}S+=M,A+=S+="</td>"}0==p&&(t.table[0].style.width=k+2+"px",t.pinnedtable[0].style.width=k+2+"px",p=k),w+=A+="</tr>"}w+="</table>",t.table[0].innerHTML=w,t.pinnedtable[0].innerHTML=w,t.pinnedtable[0].style.display="none";var $=e(t.table[0].firstChild),ee=e(t.pinnedtable[0].firstChild);t._table=$,t._pinnedtable=ee,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=p+"px",t._pinnedtable[0].style.width=p+"px"),0===n&&(t._table[0].style.width=2+p+"px",t._pinnedtable[0].style.width=2+p+"px",t._pinnedtable[0].style.display="none"),t._pinnedtable[0].style.display="none",t._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),t.table[0].rows=t.table[0].firstChild.rows,t.rowByCell=new Array,t.columnCells=new Array,t.cellWidth=0,t.cellHeight=0;for(var te=t.table[0].rows.length,a=0;a<te;a++){var ie=t.table[0].rows[a];if(!ie.getAttribute("data-group-row")){var oe=new function(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e};oe.aboveRow=null,oe.belowRow=null,t.rows.length>0&&(oe.aboveRow=t.rows[t.rows.length-1],t.rows[t.rows.length-1].belowRow=oe),oe.element=ie,t.rows.push(oe);for(var re=!1,y=0;y<ie.cells.length;y++){if(ie.cells.length<t.columns.records.length&&!re)for(var ne=a;ne>=0;){var se=t.table[0].rows[ne];if(t.table[0].rows[ne].cells.length==t.columns.records.length){var ae=se.cells[0];t.columnCells[oe.cells.length]||(t.columnCells[oe.cells.length]=new Array),t.columnCells[oe.cells.length].push(ae),0==t.cellWidth&&(t.cellWidth=ae.clientWidth),0==t.cellHeight&&(1==te||a>1)&&(t.cellHeight=ae.clientHeight),oe.cells.push(ae),re=!0;break}ne--}"none"!==(ae=ie.cells[y]).style.display&&(ae.className.indexOf("jqx-grid-cell-pinned")>=0||(t.columnCells[oe.cells.length]||(t.columnCells[oe.cells.length]=new Array),t.columnCells[oe.cells.length].push(ae),0==t.cellWidth&&(t.cellWidth=ae.clientWidth),0==t.cellHeight&&(1==te||a>1)&&(t.cellHeight=ae.clientHeight),oe.cells.push(ae),t.rowByCell[ae.getAttribute("data-key")]=oe))}}}0===n&&(t._table[0].style.tableLayout="auto"),t._updateScrollbars(t.host.height()),t._arrange(),t.rendered&&t.rendered(),t.renderedTime=new Date},_renderrows:function(){var t=this;if(!t._loading&&!t._updating&&!t._appupdating){t.rendering&&t.rendering();var i=(t=this)._views[t._view].type,o=t._views[t._view];if("agendaView"!=i){var r=1,n=t.getViewStart(),s=e.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd());t._prepareAppointmentsInView(n,s);var a=new Array;if("weekView"===i||"dayView"===i)r=t.getMaxAllDayAppointments(t.appointmentsToRender);else"monthView"===i&&o.monthRowAutoHeight&&t.rows&&6==t.rows.length&&(a=t._getMonthAppointmentsPerWeek());t.tableRows>1&&t.tableRows;var l,d="halfHour",h=null;o.rowHeight&&(h=o.rowHeight),o&&o.allDayRowHeight&&(l=o.allDayRowHeight),o.timeRuler&&o.timeRuler.scale&&(d=o.timeRuler.scale);var c=0;t.table[0].rows=new Array,t.rows=new Array;R=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content");t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl"));var p=t.columns.records.length,u=t._getColumnsLengthPerView(),m=e.jqx.browser.msie&&e.jqx.browser.version<8;m&&t.host.attr("hideFocus","true"),t._lastSelectedCell=null,t.focusedCell=null;new Array;var f=t.source.records;f=t.dataview.evaluate(f),t.dataViewRecords=f,t.cells=new Array;t.dataViewRecords;t.renderedRecords=t.getRows();t.tableZIndex;var g=t.getRows().length,w=0,v=0;if(m)for(j=0;j<p;j++){(ge=(q=t.columns.records[j]).width)<q.minwidth&&(ge=q.minwidth),ge>q.maxwidth&&(ge=q.maxwidth);B=e('<table><tr><td role="gridcell" style="max-width: '+ge+"px; width:"+ge+'px;" class="'+R+'"></td></tr></table>');e(document.body).append(B);var y=B.find("td");w=1+parseInt(y.css("padding-left"))+parseInt(y.css("padding-right")),B.remove();break}var x=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",b="<table cellspacing='0' cellpadding='0' class='"+t.toTP("jqx-grid-table")+x+"' id='table"+t.element.id+"'><colgroup>",A=0,T=2,_=30;switch(d){case"sixtyMinutes":case"hour":_=60,T=1;break;case"thirtyMinutes":case"halfHour":_=30,T=2;break;case"fifteenMinutes":case"quarterHour":_=15,T=4;break;case"tenMinutes":_=10,T=6;break;case"fiveMinutes":_=5,T=12}var S=1;"timelineDayView"===i||"timelineWeekView"===i?(S=T,u=(p*=T)/t.tableColumns):"timelineMonthView"===i?u=p/t.tableColumns:"monthView"===i&&(u=o.showWeekNumbers?(p-t.tableColumns)/t.tableColumns:p/t.tableColumns);for(var D=function(e){var i=t.columns.records[e];if(i)return i;for(;e>=t.columns.records.length;)e-=t.columns.records.length;return i=t.columns.records[e]},j=0;j<p;j++){var q=D(j);if(q.hidden)A++,0;else{if((ge=q.width/S)<q.minwidth&&(ge=q.minwidth/S),ge>q.maxwidth&&(ge=q.maxwidth/S),(ge-=w)<0&&(ge=0),"monthView"==i&&t.rtl&&q.timeColumn&&ge++,m){K=ge;j==A&&K++,b+="<col style='max-width: "+K+"px; width: "+K+"px;'>"}else b+="<col style='max-width: "+ge+"px; width: "+ge+"px;'>";v+=ge}}if(b+="</colgroup>",t._hiddencolumns=!1,0===g){var C='<tr role="row">',k=t.host.height();t.pageable&&(k-=t.pagerHeight,"both"===t.pagerPosition&&(k-=t.pagerHeight)),k-=t.columnsHeight,t.showLegend&&t._resources.length>0&&(k-=t.legendHeight),k<25&&(k=25),"hidden"!=t.hScrollBar[0].style.visibility&&(k-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(k=300);var B='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border: none; min-height: '+k+"px; height: "+k+"px; max-width:"+v+"px; width:"+v+"px;",R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl")),B+='" class="'+(R+=" "+t.toTP("jqx-center-align"))+'">',B+=t.schedulerLocalization.emptyDataString,b+=C+=B+="</td>",t.table[0].style.width=v+2+"px",c=v}var z=t.getRows(),n=t.getViewStart(),k=t._hostHeight?t._hostHeight:t.host.height(),H=0;t.columnGroups?H+=t.showHeader?t.columnsheader.height():0:H+=t.showHeader?t.columnsHeight:0,t.showToolbar&&(H+=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(H+=t.legendHeight);var P=t.showAllDayRow,M=23;o.resourceHeaderRowHeight&&(M=o.resourcesRowHeight),M+=2,void 0!=o.showAllDayRow&&(P=o.showAllDayRow);var V=t._columnswidth>t._hostWidth?3+t.scrollBarSize:0,F=t.tableRows>1?t.resources.unitsInView:1;if(void 0==F&&(F=t._resources.length),t.resources&&t.resources.resourceRowHeight&&(h=t.resources.resourceRowHeight),null==h||"auto"==h){var I=t.rowsHeight,E=3*I;if(t.isTouchDevice())E=22+(I=t.touchRowsHeight);1==t.tableRows?(h=k>0?k-H:I,t.columns.records.length>10&&(h=k>0?k-t.scrollBarSize-5-H:I)):(h=k>0?(k-H-M)/g:I,t.columns.records.length>10&&(h=k>0?(k-t.scrollBarSize-5-H-F*M)/(F*g):I)),"dayView"===i||"weekView"===i?P&&(null==l||"auto"==l?l=h=k>0?(k-H)/(t.tableRows*g):E:h=k>0?(k-H-l-F*M)/(F*(g-1)):I):"monthView"===i&&("hidden"==t.hScrollBar[0].style.visibility&&(V=0),h=1==t.tableRows?k>0?(k-H-V)/g:I:k>0?(k-H-M-V)/g:I),h=Math.max(I,h),l||(l=E),l=Math.max(E,l),t._allDayRowHeight=l,t._defaultRowHeight=I,l=r*(I-2),l=Math.max(E,17+l),t._allDayRowFullHeight=l,o.allDayRowHeight&&(t._allDayRowHeight=o.allDayRowHeight,l=r*(o.allDayRowHeight-2),t._allDayRowFullHeight=l)}var O=new Array;if(t.resources&&t.resources.colorScheme){for(var W=0;W<t.colorSchemes.length;W++)if(t.colorSchemes[W].name==t.resources.colorScheme){O=t.colorSchemes[W].colors;break}for(;t._resources.length>O.length-1;){var N=parseInt(t.resources.colorScheme.substring(6));N>=27&&(N=0),O=O.concat(t.colorSchemes[N].colors),N++}}for(var L=0;L<t.tableRows;L++){var Z=0,U=23;if(o.timeRuler&&void 0!=o.timeRuler.scaleStartHour)Z=parseInt(o.timeRuler.scaleStartHour);if(o.timeRuler&&void 0!=o.timeRuler.scaleEndHour)U=parseInt(o.timeRuler.scaleEndHour);var X=n;!1===o.showWeekends&&(0!=X.dayOfWeek()&&6!=X.dayOfWeek()||(X=X.addDays(1)));var G=new Array,J="monthView"!=i&&"timelineDayView"!=i&&"timelineWeekView"!=i&&"timelineMonthView"!=i&&P?1:0;if(t.tableRows>1){var C='<tr data-group-row="true" role="row">',R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl")),m)R+=" "+t.toTP("jqx-grid-cell-pinned");else{R+=" "+t.toTP("jqx-grid-cell-pinned"),we+=' colspan="'+p+'"';for(var K=0,Q=0;Q<p;Q++){var Y=D(Q),$=Y.width/S;$<Y.minwidth&&(ge=Y.minwidth/S),$>Y.maxwidth&&(ge=Y.maxwidth/S),($-=w)<0&&($=0),Y.hidden||(K+=$)}ge=K}B='<td style="height:'+M+"px;";if(j!=p-1||1!=p||t.rtl||(B+="border-right-color: transparent;"),t._resources.length>0&&t.resources.colorScheme&&"none"!=t.resources.orientation){var ee="",te="",ie="";ee=O[L],ee=t.hexToRgba(O[L],.7).toString(),ie=function(e){return 255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White"}(t.hexToRgba(O[L],.7)),B+="background: "+ee+";",B+="border-color: "+(te=O[L])+";",B+="color: "+ie+";"}B+='" class="'+R+'" role="gridcell" '+we,B+="><span style='position: relative;'>"+t._resources[L]+"</span>",b+=C+=B+="</td>"}for(Pe=0;Pe<g;Pe++){var oe={},re="jqx"+t.element.id+"_"+Pe;oe.uid=re;var C='<tr data-key="'+re+'" role="row">',ne=0,se=0;if(G[0]&&Pe>J){_=30;if("monthView"!=i){switch(d){case"sixtyMinutes":case"hour":_=60;break;case"thirtyMinutes":case"halfHour":_=30;break;case"fifteenMinutes":case"quarterHour":_=15;break;case"tenMinutes":_=10;break;case"fiveMinutes":_=5}for(ae=0;ae<p;ae++)G[ae]=G[ae].addMinutes(_,!1)}else for(var ae=0;ae<p;ae++)G[ae]=G[ae].addDays(7,!1)}var le=0,de=1,he=0;o.showWeekends||void 0==o.showWeekends?(he=t.columns.records.length/(7*t.tableColumns),he*=T):(he=t.columns.records.length/(5*t.tableColumns),he*=T);var ce=0;t.rtl&&(ce=1);for(var pe=0,j=0;j<p;j++){var ue=D(j);if(le>=u&&(le=0,pe=0,ce=0,t.rtl&&(ce=1),de++),!G[j])if(t.rtl){if(i.toString().indexOf("timelineDayView")>=0){me=1+j;G[j]=X.addHours(1+U).addMinutes(-me*_,!1)}else i.toString().indexOf("timelineWeekView")>=0?o.showWeekends||void 0==o.showWeekends?G[j]=X.addDays(6-pe).addHours(1+U,!1).addMinutes(-ce*_,!1):G[j]=X.addDays(4-pe).addHours(1+U,!1).addMinutes(-ce*_,!1):"dayView"==i||"monthView"==i||"weekView"==i?o.showWeekends||void 0==o.showWeekends?G[j]=X.addDays(6-le).addHours(Z,!1):G[j]=X.addDays(4-le).addHours(Z,!1):G[j]=X.addDays(u-le-1).addHours(Z,!1);t.timeZone&&(G[j].timeZone=t.timeZone)}else{if(i.toString().indexOf("timelineDayView")>=0){var me=j;G[j]=X.addHours(Z).addMinutes(me*_,!1)}else i.toString().indexOf("timelineWeekView")>=0?G[j]=X.addDays(pe).addHours(Z,!1).addMinutes(ce*_,!1):G[j]=X.addDays(le).addHours(Z,!1);t.timeZone&&(G[j].timeZone=t.timeZone)}++ce>=he&&(ce=0,pe++),ue.timeColumn||"dayView"!==i&&"weekView"!==i?!ue.timeColumn&&"monthView"===i&&o.showWeekNumbers?le++:"monthView"===i&&!o.showWeekNumbers||"timelineMonthView"===i?le++:"timelineDayView"!=i&&"timelineWeekView"!=i||le++:le++;var fe=G[j],ge=ue.width/S;ge<ue.minwidth&&(ge=ue.minwidth/S),ge>ue.maxwidth&&(ge=ue.maxwidth/S),(ge-=w)<0&&(ge=0);R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");ue.pinned&&(R+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===ue.displayfield&&(R+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&Pe%2!=0&&(R+=" "+t.toTP("jqx-grid-cell-alt")),0!=Pe||!P||"dayView"!==i&&"weekView"!==i||(R+=" "+t.toTP("jqx-grid-cell-alt")),(fe>t.max||fe<t.min)&&(R+=" "+t.toTP("jqx-scheduler-disabled-cell")),t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl"));var we="",re=t.dataview.generatekey(),ve=L+de;t.resources&&"none"==t.resources.orientation&&(ve=-1),0==t._resources.length&&(ve=-1);B='<td data-key="'+re+'" data-view="'+ve+'" data-date="'+fe.toString()+'" role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px;  height:"+h+"px;";if(0==Pe&&P&&("dayView"===i||"weekView"===i))B='<td  data-key="'+re+'" data-view="'+ve+'" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(fe).toString()+'" data-date="'+fe.clearTime().toString()+'" role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px; height:"+l+"px;";if("monthView"==i&&o.monthRowAutoHeight&&a.length>0&&a[Pe]&&"auto"!=a[Pe]&&h<a[Pe])B='<td data-key="'+re+'" data-view="'+ve+'" data-date="'+fe.toString()+'" role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px;  height:"+a[Pe]+"px;";if(t.resources&&t._resources.length>0&&t.resources.colorScheme&&"none"!==t.resources.orientation){var ee="",te="";if(ee=O[L+de-1],ee=0!=Pe||!P||"dayView"!==i&&"weekView"!==i?t.hexToRgba(O[L+de-1],.3).toString():t.shadeColor(O[L+de-1],.3).toString(),(0!=Pe||!P||"dayView"!==i&&"weekView"!==i)&&-1==i.indexOf("month")&&!ue.timeColumn&&!1!==o.showWorkTime){var ye=1,xe=5,be=8,Ae=18;if(o.workTime)var ye=o.workTime.fromDayOfWeek?o.workTime.fromDayOfWeek:0,xe=o.workTime.toDayOfWeek?o.workTime.toDayOfWeek:0,be=o.workTime.fromHour?o.workTime.fromHour:8,Ae=o.workTime.toHour?o.workTime.toHour:8;fe.dayOfWeek()>=ye&&fe.dayOfWeek()<=xe&&fe.hour()>=be&&fe.hour()<Ae&&(ee=t.hexToRgba(O[L+de-1],.1).toString())}B+="background: "+ee+";",B+="border-color: "+(te=O[de+L-1])+";"}if(j!=p-1||1!=p||t.rtl||(B+="border-right-color: transparent;"),ue.timeColumn&&!ue.hidden&&"monthView"===i){R=t.toTP("jqx-scheduler-time-column")+" "+t.toTP("jqx-widget-header")+" "+t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(R+=" "+t.toTP("jqx-scheduler-week-number-column"),t.tableRows>1)R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl")),0!==fe.minute()){se++;continue}B='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+fe.toString()+'" role="gridcell" style="max-width:'+ge+"px; width:"+ge+"px;";j!=p-1||1!=p||t.rtl?t.rtl&&0==j&&(B+="border-left-color: transparent;"):B+="border-right-color: transparent;",j==p-1&&t.rtl&&(B+="border-right-color: transparent;")}if(!ue.timeColumn||ue.hidden||"dayView"!==i&&"weekView"!==i){if(Pe>0){var Te="border-left-width: 1px;";t.rtl&&0==j&&"monthView"==i&&o.showWeekNumbers&&(Te="border-left-width: 0px;"),B+=Te}}else{R=t.toTP("jqx-scheduler-time-column")+" "+t.toTP("jqx-widget-header")+" "+t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.tableRows>1)R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl")),Pe>0){if(0!==fe.minute()){se++;continue}B='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+fe.toString()+'" rowspan='+T+' role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px;";j!=p-1||1!=p||t.rtl?t.rtl&&0==j&&(B+="border-left-color: transparent;"):B+="border-right-color: transparent;"}else{if(t.resources&&"none"==t.resources.orientation&&(ve=-1),0==Pe&&P&&("dayView"===i||"weekView"===i))B='<td data-view="'+ve+'" data-time-slot="true" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(fe).toString()+'" data-date="'+fe.toString()+'" role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px;";j!=p-1||1!=p||t.rtl?0==j&&1==p&&t.rtl&&(B+="border-right-color: transparent;"):B+="border-right-color: transparent;",t.rtl&&(B+="border-left-width: 1px;"),t.tableRows>1&&(B+="background: "+ee+";",B+="border-color: "+te+";")}}if("left"!=ue.cellsalign&&("right"===ue.cellsalign?R+=" "+t.toTP("jqx-right-align"):R+=" "+t.toTP("jqx-center-align")),ue.timeColumn||t.rowinfo[oe.uid]&&t.rowinfo[oe.uid].selected&&t.editKey!==oe.uid&&"none"!==t.selectionMode&&(R+=" "+t.toTP("jqx-grid-cell-selected"),R+=" "+t.toTP("jqx-fill-state-pressed"),R+=" "+t.toTP("jqx-scheduler-cell-selected")),ue.hidden?(B+="display: none;",t._hiddencolumns=!0):(ne+=w+ge,0!=se||t.rtl||(B+="border-left-width: 0px;"),se++),(0!=Pe||!P||"dayView"!==i&&"weekView"!==i)&&-1==i.indexOf("month")&&(R+=" "+t.toTP("jqx-grid-cell-nowrap"),Pe%2!=1||ue.timeColumn||(R+=" "+t.toTP("jqx-scheduler-middle-cell")),!ue.timeColumn&&!1!==o.showWorkTime)){var ye=1,xe=5,be=8,Ae=18;if(o.workTime)var ye=o.workTime.fromDayOfWeek?o.workTime.fromDayOfWeek:0,xe=o.workTime.toDayOfWeek?o.workTime.toDayOfWeek:0,be=o.workTime.fromHour?o.workTime.fromHour:8,Ae=o.workTime.toHour?o.workTime.toHour:8;fe.dayOfWeek()>=ye&&fe.dayOfWeek()<=xe&&fe.hour()>=be&&fe.hour()<Ae?R+=" "+t.toTP("jqx-scheduler-work-time-cell"):R+=" "+t.toTP("jqx-scheduler-not-work-time-cell")}var _e="";if("monthView"===i){t.touchDevice||ue.timeColumn||(R+=" "+t.toTP("jqx-top-align"));var Se="dd";_e=fe.toDate();var De=t.toTP("jqx-scheduler-month-outer-cell")+" ",je=t.toTP("jqx-scheduler-month-weekend-cell");t.date.month()==fe.month()&&(De=""),fe.isWeekend()?R+=" "+je:je="",1===_e.getDate()&&(Se="MMM dd"),_e=t.touchDevice?h>16?"<div class='"+De+t.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(_e,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+De+t.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(_e,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":h>16?"<div class='"+De+t.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(_e,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+De+t.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(_e,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>"}else"timelineWeekView"!==i&&"timelineDayView"!==i&&"timelineMonthView"!==i||(R+=" "+t.toTP("jqx-right-align jqx-bottom-align"),_e="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span>");0!=Pe||!P||"dayView"!==i&&"weekView"!==i||ue.timeColumn||(R+=" "+t.toTP("jqx-top-align"),R+=" "+t.toTP("jqx-scheduler-all-day-cell"),t.rtl&&(R+=" "+t.toTP("jqx-rtl")),_e=fe.toDate(),_e="<span>"+e.jqx.dataFormat.formatdate(_e,"dd",t.schedulerLocalization)+"</span>");var qe=ue.cellsFormat;if(ue.timeColumn&&!ue.hidden){_e=fe.toDate(),ue.timeZone&&(_e=(_e=fe.clone().toTimeZone(ue.timeZone)).toDate());o.timeRuler&&o.timeRuler.formatString?qe=o.timeRuler.formatString:ue.timeColumn.format||(qe=0==_e.getHours()||12==_e.getHours()?"hh tt":"hh:mm"),e.jqx.dataFormat.isDate(_e)&&(_e=e.jqx.dataFormat.formatdate(_e,qe,t.schedulerLocalization)),Pe<J&&(t.rtl?R+=" "+t.toTP("jqx-scheduler-time-column-header-cell-rtl"):R+=" "+t.toTP("jqx-scheduler-time-column-header-cell"),_e=""),Pe<J&&(ue._text&&(R+=" "+t.toTP("jqx-bottom-align")),o.timeRuler&&o.timeRuler.timeZones&&o.timeRuler.timeZones.length>0&&j<o.timeRuler.timeZones.length&&(_e=ue._text)),"monthView"==i&&(_e=fe.weekOfYear(t.schedulerLocalization.firstDay))}else""!=qe&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(_e)?_e=e.jqx.dataFormat.formatdate(_e,qe,t.schedulerLocalization):(e.jqx.dataFormat.isNumber(_e)||!isNaN(parseFloat(_e))&&isFinite(_e))&&(_e=e.jqx.dataFormat.formatnumber(_e,qe,t.schedulerLocalization)));if(""!=ue.cellclassname&&ue.cellclassname)if("string"==typeof ue.cellclassname)R+=" "+ue.cellclassname;else{var Ce=ue.cellclassname(Pe,ue.datafield,_e,oe);Ce&&(R+=" "+Ce)}if(""!=ue.cellsRenderer&&ue.cellsRenderer){var ke=z.indexOf(oe);_e=ue.cellsRenderer(ke,ue.datafield,_e,oe)}B+='" class="'+R+'">',B+=_e,C+=B+="</td>"}0==c&&(t.table[0].style.width=ne+2+"px",t.pinnedtable[0].style.width=ne+2+"px",c=ne),b+=C+="</tr>",t.rowinfo[oe.uid]?"row"in t.rowinfo[oe.uid]||(t.rowinfo[oe.uid].row=oe):t.rowinfo[oe.uid]={row:oe}}}b+="</table>",t.table[0].innerHTML=b,t.pinnedtable[0].innerHTML=b,t.table[0].rows=t.table[0].firstChild.rows;var Be=e.jqx.browser.msie&&e.jqx.browser.version<9,Re=null;if(!P||"dayView"!==i&&"weekView"!==i||1!=t.tableRows)t.pinnedtable[0].style.display="none";else if(t.pinnedtable[0].style.display="block",t.pinnedtable[0].style.zIndex="400",t.pinnedtable[0].style.position="absolute",t.pinnedtable[0].style.top="0px",t.pinnedtable[0].style.height=l+"px",!Be)if(1==t.tableRows){t.oldRow=t.table[0].rows[0];try{t.table[0].rows[0]=t.pinnedtable.find("tr")[0]}catch(e){}Re=t.pinnedtable.find("tr")[0],t.pinnedTableRow=Re}else{t.oldRow=t.table[0].rows[1];try{t.table[0].rows[1]=t.pinnedtable.find("tr")[1]}catch(e){}Re=t.pinnedtable.find("tr")[1],t.pinnedTableRow=Re}var Q=e(t.table[0].firstChild),ze=e(t.pinnedtable[0].firstChild);t._table=Q,t._pinnedtable=ze,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=c+"px",t._pinnedtable[0].style.width=c+"px"),0===g&&(t._table[0].style.width=2+c+"px",t._pinnedtable[0].style.width=2+c+"px"),t._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),t._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),t.rowByCell=new Array,t.columnCells=new Array,t.cellWidth=0,t.cellHeight=0;for(var He=t.table[0].rows.length,Pe=0;Pe<He;Pe++){var Me=t.table[0].rows[Pe];if(0==Pe&&Re&&(Me=Re),!Me.getAttribute("data-group-row")){(oe=new function(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}).aboveRow=null,oe.belowRow=null,t.rows.length>0&&(oe.aboveRow=t.rows[t.rows.length-1],t.rows[t.rows.length-1].belowRow=oe),oe.element=Me,t.rows.push(oe);for(j=0;j<Me.cells.length;j++){var Ve=Me.cells[j];Ve.getAttribute("data-time-slot")||"none"!==Ve.style.display&&(Ve.className.indexOf("jqx-grid-cell-pinned")>=0||(t.columnCells[oe.cells.length]||(t.columnCells[oe.cells.length]=new Array),t.columnCells[oe.cells.length].push(Ve),0==t.cellWidth&&(t.cellWidth=Ve.clientWidth),0==t.cellHeight&&(1==He||Pe>1)&&(t.cellHeight=Ve.clientHeight),"monthView"==t._views[t._view].type&&void 0==oe.top&&(oe.top=parseInt(e(Ve).position().top)),oe.cells.push(Ve),t.rowByCell[Ve.getAttribute("data-key")]=oe))}}}0===g&&(t._table[0].style.tableLayout="auto"),t._renderAppointments(n,s),("none"!=t.pinnedtable[0].style.display||("dayView"==i||"weekView"==i)&&t.tableRows>1)&&t._updateScrollbars(t.host.height()),"monthView"===i&&o.monthRowAutoHeight&&(0==a.length?t._renderrows():t._updateScrollbars(t.host.height())),t.rendered&&t.rendered(),t.renderedTime=new Date}else t._renderagenda()}},showAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!1,o.hiddenByResourceId=!1,o.exceptions))for(var r=0;r<o.exceptions.length;r++)o.exceptions[r].hiddenByResourceId=!1,o.exceptions[r].hidden=!1}if(t._resourcesElements){var n=t.getColors(t._resources.indexOf(e));t._resourcesElements.top[e].attr("data-toggle","on"),t._resourcesElements.top[e].css("background",n.background),t._resourcesElements.bottom[e].attr("data-toggle","on"),t._resourcesElements.bottom[e].css("background",n.background)}t.hiddenResources&&delete t.hiddenResources[e],t._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!0,o.hiddenByResourceId=!0,o.exceptions))for(var r=0;r<o.exceptions.length;r++)o.exceptions[r].hiddenByResourceId=!0,o.exceptions[r].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(t,i){var o=this;if(!o._appupdating){for(var r=new Array,n=0;n<this.uiappointments.length;n++){var s=this.uiappointments[n];if(!s.hidden||null!=s.recurrencePattern){e.jqx.scheduler.utilities.rangeIntersection(s.from,s.to,t,i)&&!s.recurrencePattern&&r.push(s),s.renderedAppointments=new Array;var a=!1;if(s.recurrencePattern){for(var l=s.getOccurrences(t,i),d=s.exceptions,h=0;h<l.length;h++){var c=l[h];if(!c.hidden){for(var p=!0,u=0;u<d.length;u++){f=(m=d[u]).occurrenceFrom?m.occurrenceFrom:m;if(o.selectedJQXAppointment&&o.selectedJQXAppointment.rootAppointment&&!a&&o.selectedJQXAppointment.occurrenceFrom.clearTime().equals(f.clearTime())&&(o.selectedJQXAppointment=m,a=!0),f.clearTime().equals(c.from.clearTime())){p=!1;break}}p&&(o.selectedJQXAppointment&&o.selectedJQXAppointment.rootAppointment&&!a&&o.selectedJQXAppointment.occurrenceFrom.clearTime().equals(c.occurrenceFrom.clearTime())&&(o.selectedJQXAppointment=c,a=!0),s.renderedAppointments[c.id]=c,r.push(c))}}for(u=0;u<d.length;u++){var m=d[u],f=m.occurrenceFrom?m.from:m,g=s.createOccurrence(f);m.occurrenceFrom&&(m.cloneAppointmentAttributes(g),m.hidden)||g!=s&&(r.push(m),s.renderedAppointments[m.id]=m)}}}}var w=new Array;this.tabKeyAppointments=new Array;for(n=0;n<r.length;n++){var v=r[n];w.push(v),this.tabKeyAppointments.push(v)}w.sort(this._sortAppointmentsByFrom),this._resources.length>0?this.tabKeyAppointments.sort(function(e,t){return o._sortAppointmentsByResourceId(e,t,o)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=w}},_renderDayWeekAppointments:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=new Array,n=this.rows,s=t.showAllDayRow,a=t.getMinutesPerScale();i.timeRuler&&void 0!=i.timeRuler.showAllDayRow&&(s=i.timeRuler.showAllDayRow);for(var l=0;l<this.appointmentsToRender.length;l++){var d=this.appointmentsToRender[l],h=d.from,c=d.to,p=e.jqx.scheduler.utilities.getEndOfDay(c),u=h.day(),m=(d.allDay,t._getDateByString),f=new Array,g=new Array,w=d.resourceId,v=t._resources.indexOf(w);t.resources&&"none"==t.resources.orientation&&(v=-1);var y=h.toDate().valueOf(),x=c.toDate().valueOf(),b=(p.toDate().valueOf(),function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});if(!d.allDay&&d.duration().days()<1||!s){0==(z=c.toDate()).getHours()&&0==z.getMinutes()&&!0;for(j=0;j<t.columnCells.length;j++)if(t.columnCells[j]){P=t.columnCells[j];t.rtl&&(P=t.columnCells[t.columnCells.length-1-j]);for(Z=0;Z<P.length;Z++)if(!P[Z].getAttribute("data-end-date")){var A=m(M=P[Z].getAttribute("data-date")),T=m(M);T.setMinutes(T.getMinutes()+a-1);var _=A.valueOf(),S=T.valueOf();if(!(_>c)&&(y<=_&&_<x||y<=S&&S<x||y>=_&&S>=x)){if(-1!=v&&1+v!=P[Z].getAttribute("data-view"))continue;u!=A.getDate()&&(f.sort(b),g.push(f),f=new Array,u=h.addDays(1).day()),f.push({cell:P[Z],date:A})}}}f.sort(b),g.push(f);for(var D=new Array,j=0;j<g.length;j++)if(0!=(P=g[j]).length){var q=t.cellWidth,C=P[P.length-1].cell.offsetTop+t.cellHeight,k=P[0].cell.offsetLeft,B=P[0].cell.offsetTop,R=t.getMinutesPerScale(),z=new e.jqx.date(P[P.length-1].date,t.timeZone).addMinutes(R),H={cells:P,x:k,y:B,height:C-B,width:q,appointment:d,from:new e.jqx.date(P[0].date,t.timeZone),to:z};D.push(H),o.push(H)}d.elements=D,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}else{var P=n[0].cells;this.tableRows>1&&(P=n[v*(n.length/t.tableRows)].cells);for(Z=0;Z<P.length;Z++){var M=P[Z].getAttribute("data-date"),V=m(M),A=new e.jqx.date(V,t.timeZone);if(!((_=(A=e.jqx.scheduler.utilities.getEndOfDay(A)).toDate().valueOf())>p)&&(h<=A&&A<=p)){if(-1!=v&&1+v!=P[Z].getAttribute("data-view"))continue;0==f.length&&(A=e.jqx.scheduler.utilities.getStartOfDay(A)),f.push({cell:P[Z],date:A})}}f.sort(b),g.push(f);for(var D=new Array,j=0;j<g.length&&0!=(P=g[j]).length;j++){var F=e(P[0].cell).position(),q=e(P[P.length-1].cell).position().left+this.cellWidth-F.left,C=e(P[P.length-1].cell).position().top,k=F.left,B=F.top;if(this.rtl)var k=(F=e(P[P.length-1].cell).position()).left,q=e(P[0].cell).position().left+this.cellWidth-F.left;var I=P[P.length-1].date;I=new e.jqx.date(e.jqx.scheduler.utilities.getEndOfDay(I),t.timeZone);H={cells:P,x:k,y:B,height:C-B+this.cellHeight,width:q,appointment:d,from:e.jqx.scheduler.utilities.getStartOfDay(new e.jqx.date(P[0].date,t.timeZone)),to:I};D.push(H),r.push(H)}d.elements=D,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}}var E=this.getViewStart(),O=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var W=new Array,N=E,L=0;N<O;){W[L]=new Array;for(j=0;j<o.length;j++)(X=o[j]).from.day()==N.day()&&(X.column=-1,X.columnSpan=1,W[L].push(X));L++,N=N.addDays(1)}for(j=0;j<W.length;j++)this._renderAppointmentsInDay(W[j]);this._renderAllDayAppointments(r)}else for(var Z=0;Z<this._resources.length;Z++){for(var U=this._resources[Z],W=new Array,N=E,L=0;N<O;){W[L]=new Array;for(j=0;j<o.length;j++){var X=o[j];X.from.day()==N.day()&&(X.column=-1,X.columnSpan=1,X.appointment.resourceId==U&&W[L].push(X))}L++,N=N.addDays(1)}for(j=0;j<W.length;j++)this._renderAppointmentsInDay(W[j]);for(var G=new Array,j=0;j<r.length;j++)r[j].appointment.resourceId==U&&G.push(r[j]);this._renderAllDayAppointments(G)}},_renderAllDayAppointments:function(t){var i=this,o=this.showAllDayRow;if((R=this._views[this._view]).timeRuler&&void 0!=R.timeRuler.showAllDayRow&&(o=R.timeRuler.showAllDayRow),o&&0!=t.length){var r=t,n=1;if(n=this.getMaxAllDayAppointments(t),1==this.tableRows)this.table[0].rows[0].clientHeight;else this.table[0].rows[1].clientHeight;for(var s=0;s<t.length;s++){(u=t[s]).row=-1,(m=this.getCollisionAppointments(u,t)).sort(this._sortAppointmentsByFrom);var a=m.indexOf(u);if(a>=0)for(y=a;y<m.length;y++)m[y].row=-1;for(p=0;p<n;p++){var l=p;for(var d in m){if("indexOf"==d)break;if(-1==(x=m[d]).row&&!this.isBusyRow(l,m)){x.row=l;var h=n,c=this.getMaxAllDayAppointments(m);h>c&&(h=c),x.rowsCount=h}}}}for(var p=0;p<r.length;p++){var u=r[p],m=this.getCollisionAppointments(u,r);m.sort(this._sortAppointmentsByFrom);var f=1;for(var d in m){if("indexOf"==d)break;var g=m[d];f=Math.max(f,g.rowsCount)}for(var d in m){if("indexOf"==d)break;(g=m[d]).rowsCount=f}if(1==m.length)u.rowSpan=f;else{for(var w=0,v=!0,y=u.row;y<f;y++){for(var d in m){if("indexOf"==d)break;var x=m[d];x!=u&&(x.row==y&&(v=!1))}if(!v)break;w++}u.rowSpan=w}}b=i.appointmentsMinHeight+2;if(i.isTouchDevice())var b=i.touchAppointmentsMinHeight+2;for(q=0;q<r.length;q++){var A=b;(u=r[q]).height=b;var T=A*u.row;if(u.y=18+u.y+T+4*u.row,u.x+=3,u.width-=8,0!=u.appointment.from.hour()||23!=u.appointment.to.hour()){var _=this.getViewStart(),S=this.getViewEnd();if(i.rtl){var D=parseFloat(i.cellWidth/24)*u.appointment.to.hour()+parseFloat(i.cellWidth/48)*(u.appointment.to.minute()/30),j=parseFloat(i.cellWidth/24)*u.appointment.from.hour()+parseFloat(i.cellWidth/48)*(u.appointment.from.minute()/30);D>0&&(D=i.cellWidth-D),u.appointment.from<_&&(j=0),u.appointment.to>S&&(D=0),"exactTime"==R.appointmentsRenderMode&&(u.x+=D,u.width-=D,u.width-=j),u.appointment.duration().days()<1&&u.width<15&&(u.width=15),u.timewidth=u.width,"exactTimeStatus"==R.appointmentsRenderMode&&(u.timewidth-=D,u.timewidth-=j),u.timex=D}else{D=parseFloat(i.cellWidth/24)*u.appointment.from.hour()+parseFloat(i.cellWidth/48)*(u.appointment.from.minute()/30);u.appointment.from<_&&(D=0),u.timewidth=u.width,u.timex=D;j=parseFloat(i.cellWidth/24)*u.appointment.to.hour()+parseFloat(i.cellWidth/48)*(u.appointment.to.minute()/30);u.appointment.to>S&&(j=0),u.timewidth-=D,j>0&&(u.timewidth-=i.cellWidth,u.timewidth+=j),"exactTime"==R.appointmentsRenderMode&&(u.width=u.timewidth,u.x+=D)}}}for(var q=0;q<r.length;q++){var C=r[q],k="",B="auto",R=this._views[this._view],z=C.appointment.from,H=C.appointment.to;R.timeRuler&&R.timeRuler.formatString&&(B=R.timeRuler.formatString);P=B;if("auto"===B){if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else var P="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())M="hh tt";else var M="hh:mm"}var V=z.toString(P),F=H.toString(M),I=C.appointment.duration(),E=C.appointment.allDay||23===I.hours&&59===I.minutes&&59===I.seconds,O=C.appointment.background,W=C.appointment.subject?C.appointment.subject:"(No Title)",N=C.appointment.color,L=C.appointment.resourceId,Z=i.getColors(i._resources.indexOf(L)),U=" data-resourceId='"+L+"' ",X=C.appointment.borderColor,G=C.appointment.location;G.length>0&&(G=", "+G),O||(O=Z.background),X||(X=Z.border),N||(N=Z.color);var J=C.appointment.isRecurrentAppointment(),K=C.appointment.isException();E&&(V="",F="");var Q="",Y=i.toTP("jqx-scheduler-appointment-status"),$="",ee=i.statuses[C.appointment.status],te=!1;ee&&("transparent"==ee?te=!1:($="<div style='background: "+ee+"; border-right-color: "+X+"' class='"+Y+"'></div>","tentative"==ee&&($="<div style='background-color: "+X+"; border-right-color: "+X+"' class='"+(Y=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),te=!0));var ie=i.toTP("jqx-scheduler-appointment-duration-status"),oe="<div style='width: "+C.timewidth+"px; left: "+C.timex+"px;' class='"+ie+"'></div>";E&&(oe="");var re="";"exactTimeStatus"!=R.appointmentsRenderMode&&(oe=""),i.rtl&&($="<div style='background: "+ee+"; border-left-color: "+X+"' class='"+(Y=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==ee&&($="<div style='background-color: "+X+"; border-left-color: "+X+"' class='"+(Y=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),re=$,$="");var ne="",se=W+G;if(E||(se=W+G+oe),i.renderAppointment){var ae=i.renderAppointment({appointment:C.appointment.boundAppointment,textColor:N,background:O,borderColor:X,html:se,cssClass:"",style:"",width:C.width,height:C.height,view:i._views[i._view].type});ae&&((k=ae.html)!=se&&(se=k),N=ae.textColor,O=ae.background,X=ae.borderColor,ae.cssClass&&(ne=ae.cssClass+" "),""!=ae.style&&(O=(Z=i.getAppointmentColors(ae.style)).background,X=Z.border,N=Z.color))}if(""===Q)if(te)Q="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+$+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+se+"</div>"+re+"</div>";else Q="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+se+"</div></div>";var le="";if(i.rtl&&(le=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),K){var de="white"==N.toLowerCase()?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception");k="<div data-key='"+C.appointment.id+"'"+U+"class='"+le+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'><div class='"+de+"'></div>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(J){var he="white"==N.toLowerCase()?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence");k="<div data-key='"+C.appointment.id+"'"+U+"class='"+le+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'><div class='"+he+"'></div>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else k="<div data-key='"+C.appointment.id+"'"+U+"class='"+le+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var ce=e(k);if(1==this.tableRows?ce.appendTo(this.pinnedtable):ce.appendTo(this.table),C.element=ce,this.appointmentTooltips)if(C.appointment.tooltip)ce[0].setAttribute("title",C.appointment.tooltip);else{var pe=C.appointment.subject;V&&(pe=V+" - "+F+" "+pe),pe&&((G=C.appointment.location)&&(pe+="\n"+G),ce[0].setAttribute("title",pe))}}}},_renderAppointmentsInDay:function(t,i){if(0!=t.length){var o=this,r=this._views[this._view],n=t,s=(this.getViewStart(),this.getViewEnd(),1),a=0;if(r.timeRuler?(a=this.columns.records[1].width,r.timeRuler.timeZones&&(a=this.columns.records[1+r.timeRuler.timeZones.length].width)):a=this.columns.records[1].width,!(a/(s=this.getMaxColumnsInADay(t))<0)){for(var l=0;l<t.length;l++){(f=t[l]).column=-1,(g=this.getCollisionAppointments(f,t)).sort(this._sortAppointmentsByFrom);var d=g.indexOf(f);if(d>=0)for(b=d;b<g.length;b++)g[b].column=-1;for(m=0;m<s;m++){var h=m;for(var c in g){if("indexOf"==c)break;if(-1==(A=g[c]).column&&!this.isBusyColumn(h,g)){A.column=h;var p=s,u=this.getMaxColumnsInADay(g);p>u&&(p=u),A.columnsCount=p}}}}for(var m=0;m<n.length;m++){var f=n[m],g=this.getCollisionAppointments(f,n);g.sort(this._sortAppointmentsByFrom);var w=1;for(var c in g){if("indexOf"==c)break;void 0!=(v=g[c]).columnsCount&&(w=Math.max(w,v.columnsCount))}for(var c in g){if("indexOf"==c)break;var v=g[c];v.columnsCount=w}if(1==g.length)f.columnSpan=w;else{for(var y=0,x=!0,b=f.column;b<w;b++){for(var c in g){if("indexOf"==c)break;var A=g[c];void 0!=A.column&&(A!=f&&A.column==b&&(x=!1))}if(!x)break;y++}f.columnSpan=y}}for(C=0;C<n.length;C++){var T=a/n[C].columnsCount;(f=n[C]).width=T*f.columnSpan-5;var _=T*f.column;if(f.x=2+f.x+_,f.height-=5,f.y+=1,"exactTime"==r.appointmentsRenderMode){var S=o.getMinutesPerScale();if(f.appointment.from.minute()%S!=0)var D=f.appointment.from.minute()%S,j=parseFloat(o.cellHeight/S)*D;else j=0;if(f.appointment.to.minute()%S!=0){var D=f.appointment.to.minute()%S,q=o.cellHeight-parseFloat(o.cellHeight/S)*D;f.to.day()!==f.appointment.to.day()&&(q=0)}else q=0;f.y+=j,f.height-=j,f.height-=q}}for(var C=0;C<n.length;C++){var k=n[C],B="",R="auto",r=this._views[this._view],z=k.appointment.from,H=k.appointment.to;r.timeRuler&&r.timeRuler.formatString&&(R=r.timeRuler.formatString);P=R;if("auto"===R){if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else var P="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())M="hh tt";else var M="hh:mm"}z.toString(P),H.toString(M);var V=k.appointment.background,F=k.appointment.subject?k.appointment.subject:"(No Title)",I=k.appointment.location?k.appointment.location:"",E=k.appointment.color,O=k.appointment.resourceId,W=o.getColors(o._resources.indexOf(O)),N=" data-resourceId='"+O+"' ",L=k.appointment.borderColor;V||(V=W.background),L||(L=W.border),E||(E=W.color);var Z=k.appointment.isRecurrentAppointment(),U=k.appointment.isException(),X="",G=o.toTP("jqx-scheduler-appointment-status"),J="",K=o.statuses[k.appointment.status],Q=!1;K&&("transparent"==K?Q=!1:(J="<div style='background: "+K+"; border-right-color: "+L+"' class='"+G+"'></div>","tentative"==K&&(J="<div style='background-color: "+L+"; border-right-color: "+L+"' class='"+(G=o.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Q=!0));var Y="";o.rtl&&(J="<div style='background: "+K+"; border-left-color: "+L+"' class='"+(G=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==K&&(J="<div style='background-color: "+L+"; border-left-color: "+L+"' class='"+(G=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Y=J,J="");var $="",ee=F+"<br/>"+I;if(!I)ee=F;if(o.renderAppointment){var te=o.renderAppointment({appointment:k.appointment.boundAppointment,textColor:E,background:V,borderColor:L,html:ee,cssClass:"",style:"",width:k.width,height:k.height,view:o._views[o._view].type});te&&((B=te.html)!=ee&&(ee=B),E=te.textColor,V=te.background,L=te.borderColor,te.cssClass&&($=te.cssClass+" "),""!=te.style&&(V=(W=o.getAppointmentColors(te.style)).background,L=W.border,E=W.color))}if(""===X)if(Q)X="<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'>"+J+"<div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div>"+Y+"</div>";else X="<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'><div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div></div>";var ie="";if(o.rtl&&(ie=o.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),U){var oe="white"==E.toLowerCase()?o.toTP("jqx-icon-recurrence-exception-white"):o.toTP("jqx-icon-recurrence-exception");B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'><div class='"+oe+"'></div>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(Z){var re="white"==E.toLowerCase()?o.toTP("jqx-icon-recurrence-white"):o.toTP("jqx-icon-recurrence");B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'><div class='"+re+"'></div>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var ne=e(B);if(ne.appendTo(this.table),k.element=ne,this.appointmentTooltips)if(k.appointment.tooltip)ne[0].setAttribute("title",k.appointment.tooltip);else{var se=k.appointment.subject;se&&((I=k.appointment.location)&&(se+="\n"+I),ne[0].setAttribute("title",se))}}}}},getCollisionAppointments:function(t,i){for(var o=new Array,r=t.from,n=t.to,s=0;s<i.length;s++){var a=i[s],l=a.from,d=a.to;e.jqx.scheduler.utilities.rangeIntersection(r,n,l,d)&&o.push(a)}return o},getAllDayCollisionAppointments:function(t,i){for(var o=new Array,r=e.jqx.scheduler.utilities.getStartOfDay(t.from),n=e.jqx.scheduler.utilities.getEndOfDay(t.to),s=0;s<i.length;s++){var a=i[s],l=e.jqx.scheduler.utilities.getStartOfDay(a.from),d=e.jqx.scheduler.utilities.getEndOfDay(a.to);e.jqx.scheduler.utilities.rangeIntersection(r,n,l,d)&&o.push(a)}return o},_renderAppointments:function(e,t){var i=this;if(!i._appupdating){i.table.find(".jqx-scheduler-appointment").remove(),i.pinnedtable.find(".jqx-scheduler-appointment").remove();var o=i._views[i._view].type;"dayView"===o||"weekView"===o?i._renderDayWeekAppointments(e,t):"monthView"===o?i._renderMonthAppointments(e,t):"timelineWeekView"!==o&&"timelineDayView"!==o&&"timelineMonthView"!==o||i._renderTimelineAppointments(e,t),i.selectedJQXAppointment&&i._selectAppointment(i.selectedJQXAppointment)}},_renderTimelineAppointments:function(t,i){for(var o=this,r=o._views[o._view].type,n=o._views[o._view],s=new Array,a=(this.rows,this.cellHeight),l=this.cellWidth,d=o.getMinutesPerScale(),h=0;h<this.appointmentsToRender.length;h++){var c=this.appointmentsToRender[h],p=c.from,u=c.to,m=o._getDateByString,f=new Array,g=p.toDate().valueOf(),w=u.toDate().valueOf();"timelineMonthView"===r&&(g=p.clearTime().toDate().valueOf());var v=o.rows[0],y=c.resourceId,x=o._resources.indexOf(y);if(o._resources.length>0&&"horizontal"!==o.resources.orientation&&x>=1&&(v=o.rows[x]),o.resources&&"none"==o.resources.orientation){x=-1;v=o.rows[0]}for(var b=v.cells,A=0;A<b.length;A++){var T=b[A].getAttribute("data-date");b[A].appointments=new Array;var _=m(T),S=_.valueOf(),D=m(T);D.setMinutes(D.getMinutes()+d-1);var j=D.valueOf();if(!(S>u)&&(g<=S&&S<w||g<=j&&j<w)){if(-1!=x&&1+x!=b[A].getAttribute("data-view"))continue;f.push({cell:b[A],date:_}),v=I}}f.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var q=new Array;if(0==(b=f).length)break;var C=o.appointmentsMinHeight;o.isTouchDevice()&&(C=o.touchAppointmentsMinHeight),n.appointmentHeight&&(C=n.appointmentHeight);var k=e(b[0].cell).position(),B=C,R=e(b[b.length-1].cell).position().left-k.left+l,z=k.left,H=k.top;if(o.rtl)var k=e(b[b.length-1].cell).position(),R=e(b[0].cell).position().left-k.left+l,z=k.left,H=k.top;P=new e.jqx.date(b[b.length-1].date,o.timeZone).addMinutes(d);if("timelineMonthView"===r)var P=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(b[b.length-1].date,o.timeZone));var M={cellX:z,cellY:H,cellHeight:a,cells:b,x:z,y:H,height:B,width:R,appointment:c,from:new e.jqx.date(b[0].date,o.timeZone),to:P};q.push(M),s.push(M),c.elements=q,c.rootAppointment&&(c.rootAppointment.elements=c.rootAppointment.elements.concat(c.elements))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(s,t,i);else for(A=0;A<this._resources.length;A++){for(var V=this._resources[A],F=new Array,I=0;I<s.length;I++)s[I].appointment.resourceId==V&&F.push(s[I]);this._renderUITimelineAppointments(F,t,i)}},_renderUITimelineAppointments:function(t,i,o){(a=this)._views[a._view].type;var r=a._views[a._view],n=t,s=1,a=this,l=new Array;s=a.getMaxTimelineAppointments(t,l,i,o);var d=a.appointmentsMinHeight;a.isTouchDevice()&&(d=a.touchAppointmentsMinHeight),r.appointmentHeight&&(d=r.appointmentHeight);for(var h=0;h<t.length;h++){(w=t[h]).row=-1,(v=a.getCollisionAppointments(w,t)).sort(a._sortAppointmentsByFrom);var c=v.indexOf(w);if(c>=0)for(T=c;T<v.length;T++)v[T].row=-1;for(g=0;g<s;g++){var p=g;for(var u in v){if("indexOf"==u)break;if(-1==(_=v[u]).row&&!a.isBusyRow(p,v)){_.row=p;var m=s,f=a.getMaxTimelineAppointments(v,l,i,o);m>f&&(m=f),_.rowsCount=m}}}}for(var g=0;g<n.length;g++){var w=n[g],v=a.getCollisionAppointments(w,n);v.sort(a._sortAppointmentsByFrom);var y=1;for(var u in v){if("indexOf"==u)break;var x=v[u];y=Math.max(y,x.rowsCount)}for(var u in v){if("indexOf"==u)break;(x=v[u]).rowsCount=y}if(1==v.length)w.rowSpan=y;else{for(var b=0,A=!0,T=w.row;T<y;T++){for(var u in v){if("indexOf"==u)break;var _=v[u];_!=w&&(_.row==T&&(A=!1))}if(!A)break;b++}w.rowSpan=b}}for(ne=0;ne<n.length;ne++){var S=d;(w=n[ne]).height=S;var D=2+(3+S)*w.row;w.y=w.y+D,w.x+=1,w.width-=5;var j=a._views[a._view].type,r=a._views[a._view];if("timelineMonthView"==j&&r.appointmentsRenderMode){if(0!=w.appointment.from.hour()||23!=w.appointment.to.hour())if(a.rtl){var q=parseFloat(a.cellWidth/24)*w.appointment.to.hour()+parseFloat(a.cellWidth/48)*(w.appointment.to.minute()/30),C=parseFloat(a.cellWidth/24)*w.appointment.from.hour()+parseFloat(a.cellWidth/48)*(w.appointment.from.minute()/30);q>0&&(q=a.cellWidth-q),"exactTime"==r.appointmentsRenderMode&&(w.x+=q,w.width-=q,w.width-=C),w.appointment.duration().days()<1&&w.width<15&&(w.width=15),w.timewidth=w.width,w.timex=q}else{var q=parseFloat(a.cellWidth/24)*w.appointment.from.hour()+parseFloat(a.cellWidth/48)*(w.appointment.from.minute()/30),C=parseFloat(a.cellWidth/24)*w.appointment.to.hour()+parseFloat(a.cellWidth/48)*(w.appointment.to.minute()/30);if(w.timewidth=w.width,w.timex=q,w.timewidth-=q,w.timewidth-=a.cellWidth,w.timewidth+=C,"exactTime"==r.appointmentsRenderMode&&(w.width=w.timewidth,w.x+=q,w.appointment.duration().days()<1&&w.width<15&&(w.width=15,q+15>a.cellWidth))){var k=a.cellWidth-q-15;w.x+=k}}}else if(r.appointmentsRenderMode&&"exactTime"==r.appointmentsRenderMode){var B=a.getMinutesPerScale();if(w.appointment.from.minute()%B!=0){var R=w.appointment.from.minute()%B,q=parseFloat(a.cellWidth/B)*R;if(a.rtl)q=parseFloat(a.cellWidth/B)*R}else q=0;if(w.appointment.to.minute()%B!=0){var R=w.appointment.to.minute()%B,C=a.cellWidth-parseFloat(a.cellWidth/B)*R;if(a.rtl)C=a.cellWidth-parseFloat(a.cellWidth/B)*R}else C=0;a.rtl?(w.x+=C,w.width-=q,w.width-=C):(w.x+=q,w.width-=q,w.width-=C)}}for(ne=0;ne<n.length;ne++){var z=n[ne],H="",r=a._views[a._view];z.appointment.from,z.appointment.to;r.timeRuler&&r.timeRuler.formatString&&r.timeRuler.formatString;var P=z.appointment.background,M=z.appointment.subject?z.appointment.subject:"(No Title)",V=z.appointment.location;V&&V.length>1&&(V=", "+V);var F=z.appointment.color,I=z.appointment.resourceId,E=a.getColors(a._resources.indexOf(I)),O=" data-resourceId='"+I+"' ",W=z.appointment.borderColor;P||(P=E.background),W||(W=E.border),F||(F=E.color);var N=z.appointment.isRecurrentAppointment(),L=z.appointment.isException(),Z="",U=a.toTP("jqx-scheduler-appointment-status"),X="",G=a.statuses[z.appointment.status],J=!1;G&&("transparent"==G?J=!1:(X="<div style='background: "+G+"; border-right-color: "+W+"' class='"+U+"'></div>","tentative"==G&&(X="<div style='background-color: "+W+"; border-right-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),J=!0));var K="";a.rtl&&(X="<div style='background: "+G+"; border-left-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==G&&(X="<div style='background-color: "+W+"; border-left-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),K=X,X="");var Q="",Y=M+"<br/>"+V;if(a.renderAppointment){var $=a.renderAppointment({appointment:z.appointment.boundAppointment,textColor:F,background:P,borderColor:W,html:Y,cssClass:"",style:"",width:z.width,height:z.height,view:a._views[a._view].type});$&&((H=$.html)!=Y&&(Y=H),F=$.textColor,P=$.background,W=$.borderColor,$.cssClass&&(Q=$.cssClass+" "),""!=$.style&&(P=(E=a.getAppointmentColors($.style)).background,W=E.border,F=E.color))}if(""===Z)if(J)Z="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'>"+X+"<div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Y+"</div>"+K+"</div>";else Z="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'><div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Y+"</div></div>";var ee="";if(a.rtl&&(ee=a.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),L){var te="white"==F.toLowerCase()?a.toTP("jqx-icon-recurrence-exception-white"):a.toTP("jqx-icon-recurrence-exception");H="<div data-key='"+z.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+z.x+"px; top: "+z.y+"px; width: "+z.width+"px; height: "+z.height+"px; line-height: "+z.height+"px; border-color:"+W+"; color:"+F+"; background:"+P+";'><div class='"+te+"'></div>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(N){var ie="white"==F.toLowerCase()?a.toTP("jqx-icon-recurrence-white"):a.toTP("jqx-icon-recurrence");H="<div data-key='"+z.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+z.x+"px; top: "+z.y+"px; width: "+z.width+"px; height: "+z.height+"px; line-height: "+z.height+"px; border-color:"+W+"; color:"+F+"; background:"+P+";'><div class='"+ie+"'></div>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else H="<div data-key='"+z.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+z.x+"px; top: "+z.y+"px; width: "+z.width+"px; height: "+z.height+"px; line-height: "+z.height+"px; border-color:"+W+"; color:"+F+"; background:"+P+";'>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";if(H,(se=e(H)).appendTo(this.table),z.element=se,this.appointmentTooltips)if(z.appointment.tooltip)se[0].setAttribute("title",z.appointment.tooltip);else{var oe=z.appointment.subject;oe&&((V=z.appointment.location)&&(oe+="\n"+V),se[0].setAttribute("title",oe))}}for(var re=a.table.find(".jqx-scheduler-appointment"),ne=0;ne<n.length;ne++){var z=n[ne],se=e(function(e){for(var t=0;t<re.length;t++)if(re[t].getAttribute("data-key")==e)return re[t]}(z.appointment.id));e.each(z.cells,function(t){var i=e(this.cell),o=z.cellY,r=(z.cellX,z.cellHeight);if(i[0].appointments||(i[0].appointments=new Array),i[0].appointments.push({ui:se,appointment:z}),se=se,z.y+z.height>=o+r-12){se[0].style.visibility="hidden";var n=i.find(".jqx-icon-arrow-down");n.length>0&&(n[0].style.display="block",n[0].mousedown=function(){a.openedMonthCellPopup&&a.openedMonthCellPopup.remove();var t=e("<div></div>"),n=(new e.jqx.date(i.attr("data-date"),a.timeZone),e("<div class='"+a.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+a.toTP("jqx-icon-close")+"'></span></div>"));n.height(16),n.find("span")[0].mousedown=function(){t.remove()},n.addClass(a.toTP("jqx-widget-header")),t.addClass(a.toTP("jqx-widget")),t.addClass(a.toTP("jqx-window")),t.addClass(a.toTP("jqx-scheduler-month-cell-popup")),t.addClass(a.toTP("jqx-popup"));var s=e("<div></div>");t.append(n),t.append(s),s.addClass(a.toTP("jqx-widget-content"));for(var l=i.width(),d=21,h=0;h<i[0].appointments.length;h++){var c=i[0].appointments[h].ui.clone(!0);c.css("left","3px"),c.css("top","0px"),c.css("margin-top","2px"),c.css("position","relative"),c.css("visibility","visible"),c.width(l-6),c.click(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));a._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),c.dblclick(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));t.readOnly||a.editRecurrenceDialog.jqxWindow("isOpen")||a._editDialog&&(!a._editDialog||a._editDialog.jqxWindow("isOpen"))||!1!==a._initDialog(t)&&a._openDialog(),a._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})}),d+=c.outerHeight()+4,s.append(c)}t.css("overflow","hidden"),t.css("position","absolute");var p=a.table.height()-o-25;p<r&&(p=r),t.css("max-height",p),t.height(d),t.width(l),t.css("z-index","9999");var u=i.position();t.css("top",u.top),t.css("left",u.left),a.table.append(t),a.openedMonthCellPopup=t})}})}},_renderMonthAppointments:function(){for(var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=(this.rows,e(".jqx-scheduler-month-cell:first").height()),n=0;n<this.appointmentsToRender.length;n++){var s=this.appointmentsToRender[n],a=e.jqx.scheduler.utilities.getStartOfDay(s.from),l=e.jqx.scheduler.utilities.getEndOfDay(s.to),d=(s.allDay,t._getDateByString),h=new Array,c=new Array,p=a.toDate().valueOf(),u=l.toDate().valueOf(),m=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},f=-1,g=s.resourceId,w=t._resources.indexOf(g);t.resources&&"none"==t.resources.orientation&&(w=-1);for(T=0;T<t.rows.length;T++)for(var v=t.rows[T].cells,y=0;y<v.length;y++){var x=d(v[y].getAttribute("data-date")),b=x.valueOf();b>l||(v[y].appointments=new Array,-1!=w&&1+w!=v[y].getAttribute("data-view")||p<=b&&b<u&&(f!=T&&-1!=f&&(h.sort(m),c.push(h),h=new Array),h.push({cell:v[y],date:x}),f=T))}h.sort(m),c.push(h);for(var A=new Array,T=0;T<c.length&&0!=(v=c[T]).length;T++){var _=t.appointmentsMinHeight;t.isTouchDevice()&&(_=t.touchAppointmentsMinHeight),i.appointmentHeight&&(_=i.appointmentHeight);var S=_,D=e(v[v.length-1].cell).position().left,j=D-e(v[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=D-e(v[0].cell).position().left+t.columns.records[1].width;var q=e(v[0].cell).position(),C=q.left,k=q.top+r,B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(v[v.length-1].date,t.timeZone)),R=new e.jqx.date(v[0].date,t.timeZone);if(t.rtl){var B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(v[0].date,t.timeZone)),R=new e.jqx.date(v[v.length-1].date,t.timeZone),C=(q=e(v[v.length-1].cell).position()).left,k=q.top+r,j=(D=e(v[0].cell).position().left)-e(v[v.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=D-e(v[v.length-1].cell).position().left+t.columns.records[1].width}var z={cells:v,cellY:parseInt(q.top),cellX:parseInt(q.left),lastCellY:parseInt(q.top),lastCellX:D,x:C,y:k,height:S,width:j,appointment:s,from:R,to:B};A.push(z),o.push(z)}s.elements=A,s.rootAppointment&&(s.rootAppointment.elements=s.rootAppointment.elements.concat(s.elements))}var H=this.getViewStart(),P=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var M=new Array,V=H,F=0;V<P;){M[F]=new Array;for(T=0;T<o.length;T++)V<=(E=o[T]).from&&E.to<V.addDays(7)&&(E.row=-1,E.rowSpan=1,M[F].push(E));F++,V=V.addDays(7)}for(T=0;T<M.length;T++)M[T].length>0&&this._renderUIMonthAppointments(M[T])}else for(y=0;y<this._resources.length;y++){for(var I=this._resources[y],M=(new Array,new Array),V=H,F=0;V<P;){M[F]=new Array;for(T=0;T<o.length;T++){var E=o[T];V<=E.from&&E.to<V.addDays(7)&&(E.row=-1,E.rowSpan=1,E.appointment.resourceId==I&&M[F].push(E))}F++,V=V.addDays(7)}for(T=0;T<M.length;T++)M[T].length>0&&this._renderUIMonthAppointments(M[T])}},_getMonthAppointmentsPerWeek:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=(this.rows,e(".jqx-scheduler-month-cell:first").height());if(!t.rows)return new Array;for(var n=this.getViewStart(),s=this.getViewEnd(),a=0;a<this.appointmentsToRender.length;a++){var l=this.appointmentsToRender[a],d=e.jqx.scheduler.utilities.getStartOfDay(l.from),h=e.jqx.scheduler.utilities.getEndOfDay(l.to),c=(l.allDay,t._getDateByString,new Array),p=new Array,u=d.toDate().valueOf(),m=h.toDate().valueOf(),f=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},g=-1,w=l.resourceId,v=t._resources.indexOf(w);t.resources&&"none"==t.resources.orientation&&(v=-1);for(_=0;_<t.rows.length;_++)for(var y=t.rows[_].cells,x=0;x<y.length;x++){y[x].getAttribute("data-date");var b=n.addDays(7*_+x).toDate(),A=b.valueOf();A>h||(-1!=v&&1+v!=y[x].getAttribute("data-view")||u<=A&&A<m&&(g!=_&&-1!=g&&(c.sort(f),p.push(c),c=new Array),c.push({cell:y[x],date:b}),g=_))}c.sort(f),p.push(c);for(var T=new Array,_=0;_<p.length&&0!=(y=p[_]).length;_++){I=t.appointmentsMinHeight;t.isTouchDevice()&&(I=t.touchAppointmentsMinHeight),i.appointmentHeight&&(I=i.appointmentHeight);var S=I,D=e(y[y.length-1].cell).position().left,j=D-e(y[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=D-e(y[0].cell).position().left+t.columns.records[1].width;var q=e(y[0].cell).position(),C=q.left,k=q.top+r,B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[y.length-1].date,t.timeZone)),R=new e.jqx.date(y[0].date,t.timeZone);if(t.rtl){var B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[0].date,t.timeZone)),R=new e.jqx.date(y[y.length-1].date,t.timeZone),C=(q=e(y[y.length-1].cell).position()).left,k=q.top+r,j=(D=e(y[0].cell).position().left)-e(y[y.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=D-e(y[y.length-1].cell).position().left+t.columns.records[1].width}var z={cells:y,cellY:parseInt(q.top),cellX:parseInt(q.left),lastCellY:parseInt(q.top),lastCellX:D,x:C,y:k,height:S,width:j,appointment:l,from:R,to:B};T.push(z),o.push(z)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var H=new Array,P=n,M=0;P<s;){H[M]=new Array;for(_=0;_<o.length;_++)P<=(O=o[_]).from&&O.to<P.addDays(7)&&(O.row=-1,O.rowSpan=1,H[M].push(O));M++,P=P.addDays(7)}for(var V=new Array,_=0;_<H.length;_++)if(H[_].length>0){var F=this.getMaxMonthAppointments(H[_]),I=t.appointmentsMinHeight;t.isTouchDevice()&&(I=t.touchAppointmentsMinHeight),i.appointmentHeight&&(I=i.appointmentHeight),V.push(F*(I+3)+22)}else V.push("auto");return V}for(var V=new Array,x=0;x<this._resources.length;x++){for(var E=this._resources[x],H=(new Array,new Array),P=n,M=0;P<s;){H[M]=new Array;for(_=0;_<o.length;_++){var O=o[_];P<=O.from&&O.to<P.addDays(7)&&(O.row=-1,O.rowSpan=1,O.appointment.resourceId==E&&H[M].push(O))}M++,P=P.addDays(7)}for(_=0;_<H.length;_++)if(H[_].length>0){F=this.getMaxMonthAppointments(H[_]);V.push(F*(I+3)+22)}else V.push("auto");return V}},_renderUIMonthAppointments:function(t){var i=this._views[this._view],o=t,r=(this.getViewStart(),this.getViewEnd(),1),n=this;r=this.getMaxMonthAppointments(t);var s=n.appointmentsMinHeight;n.isTouchDevice()&&(s=n.touchAppointmentsMinHeight),i.appointmentHeight&&(s=i.appointmentHeight);var a=this._sortAppointmentsByFrom;this.rtl&&(a=this._sortAppointmentsByTo);for(var l=0;l<t.length;l++){(f=t[l]).row=-1,(g=this.getCollisionAppointments(f,t)).sort(a);var d=g.indexOf(f);if(d>=0)for(b=d;b<g.length;b++)g[b].row=-1;for(m=0;m<r;m++){var h=m;for(var c in g){if("indexOf"==c)break;if(-1==(A=g[c]).row&&!this.isBusyRow(h,g)){A.row=h;var p=r,u=this.getMaxMonthAppointments(g);p>u&&(p=u),A.rowsCount=p}}}}for(var m=0;m<o.length;m++){var f=o[m],g=this.getCollisionAppointments(f,o);g.sort(a);var w=1;for(var c in g){if("indexOf"==c)break;var v=g[c];w=Math.max(w,v.rowsCount)}for(var c in g){if("indexOf"==c)break;(v=g[c]).rowsCount=w}if(1==g.length)f.rowSpan=w;else{for(var y=0,x=!0,b=f.row;b<w;b++){for(var c in g){if("indexOf"==c)break;var A=g[c];A!=f&&(A.row==b&&(x=!1))}if(!x)break;y++}f.rowSpan=y}}for(q=0;q<o.length;q++){var T=s;(f=o[q]).height=T;var _=2+(3+T)*f.row;if(f.y=f.y+_,f.x+=1,f.width-=5,0!=f.appointment.from.hour()||23!=f.appointment.to.hour())if(n.rtl){var S=parseFloat(n.cellWidth/24)*f.appointment.to.hour()+parseFloat(n.cellWidth/48)*(f.appointment.to.minute()/30),D=parseFloat(n.cellWidth/24)*f.appointment.from.hour()+parseFloat(n.cellWidth/48)*(f.appointment.from.minute()/30);f.appointment.elements.length>1?f==f.appointment.elements[0]?D>0?"exactTime"==i.appointmentsRenderMode?(f.width-=n.cellWidth-S,f.width-=D):f.timewidth=f.width-n.cellWidth+S-D:(f.timewidth=f.width,f.timex=0):f==f.appointment.elements[f.appointment.elements.length-1]&&("exactTime"==i.appointmentsRenderMode&&(f.x+=n.cellWidth,f.x-=S,f.width+=S,f.width-=n.cellWidth),f.timewidth=f.width-n.cellWidth+S,f.timex=n.cellWidth-S):("exactTime"==i.appointmentsRenderMode&&(f.x+=n.cellWidth,f.x-=S,f.width-=n.cellWidth-S,f.width-=D),f.appointment.duration().days()<1&&f.width<15&&(f.width=15),f.timewidth=f.width-n.cellWidth+S-D,f.timex=n.cellWidth-S)}else{S=parseFloat(n.cellWidth/24)*f.appointment.from.hour()+parseFloat(n.cellWidth/48)*(f.appointment.from.minute()/30);f.timewidth=f.width,f.from.clearTime().toString()==f.appointment.from.clearTime().toString()?f.timex=S:S=0,f.appointment.elements.length>1&&f.appointment.elements[0]!=f&&(S=0);D=parseFloat(n.cellWidth/24)*f.appointment.to.hour()+parseFloat(n.cellWidth/48)*(f.appointment.to.minute()/30);if(f.appointment.elements.length>1&&f.appointment.elements[f.appointment.elements.length-1]!=f&&(D=0),f.timewidth-=S,D>0&&(f.timewidth-=n.cellWidth,f.timewidth+=D),"exactTime"==i.appointmentsRenderMode&&(f.from.clearTime().toString()==f.appointment.from.clearTime().toString()&&(f.x+=S),f.width=f.timewidth,f.appointment.duration().days()<1&&f.width<15&&(f.width=15,S+15>n.cellWidth))){var j=n.cellWidth-S-15;f.x+=j}}}for(var q=0;q<o.length;q++){var C=o[q],k="",B="auto",i=this._views[this._view],R=C.appointment.from,z=C.appointment.to,B="auto",i=this._views[this._view],R=C.appointment.from,z=C.appointment.to;i.timeRuler&&i.timeRuler.formatString&&(B=i.timeRuler.formatString);var H=B,P=B;if("auto"===B){if(0==R.hour()&&0==R.minute()||12==R.hour()&&0==R.minute())H="hh tt";else H="hh:mm";if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else P="hh:mm"}var M=R.toString(H),V=z.toString(P),F=C.appointment.duration(),I=C.appointment.allDay||23===F.hours&&59===F.minutes&&59===F.seconds,E=C.appointment.background,O=C.appointment.subject?C.appointment.subject:"(No Title)",W=C.appointment.color,N=C.appointment.resourceId,L=n.getColors(n._resources.indexOf(N)),Z=" data-resourceId='"+N+"' ",U=C.appointment.borderColor,X=C.appointment.location;X&&X.length>1&&(X=", "+X),E||(E=L.background),U||(U=L.border),W||(W=L.color);var G=C.appointment.isRecurrentAppointment(),J=C.appointment.isException(),K="",Q=n.toTP("jqx-scheduler-appointment-status"),Y="",$=n.statuses[C.appointment.status],ee=!1;$&&("transparent"==$?ee=!1:(Y="<div style='background: "+$+"; border-right-color: "+U+"' class='"+Q+"'></div>","tentative"==$&&(Y="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+(Q=n.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),ee=!0));var te=n.toTP("jqx-scheduler-appointment-duration-status"),ie="<div style='width: "+C.timewidth+"px; left: "+C.timex+"px;' class='"+te+"'></div>";I&&(ie=""),"exactTimeStatus"!=i.appointmentsRenderMode&&(ie="");var oe="";n.rtl&&(Y="<div style='background: "+$+"; border-left-color: "+U+"' class='"+(Q=n.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==$&&(Y="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+(Q=n.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),oe=Y,Y="");var re="",ne=O+X;if(I||(ne=O+X+ie),n.renderAppointment){var se=n.renderAppointment({appointment:C.appointment.boundAppointment,textColor:W,background:E,borderColor:U,html:ne,cssClass:"",style:"",width:C.width,height:C.height,view:n._views[n._view].type});se&&((k=se.html)!=ne&&(ne=k),W=se.textColor,E=se.background,U=se.borderColor,se.cssClass&&(re=se.cssClass+" "),""!=se.style&&(E=(L=n.getAppointmentColors(se.style)).background,U=L.border,W=L.color))}if(""===K)if(ee)K="<div style='white-space:nowrap;' class='"+n.toTP("jqx-scheduler-appointment-content")+"'>"+Y+"<div class='"+n.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div>"+oe+"</div>";else K="<div style='white-space:nowrap;' class='"+n.toTP("jqx-scheduler-appointment-content")+"'><div class='"+n.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div></div>";var ae="";if(n.rtl&&(ae=n.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),J){var le="white"==W.toLowerCase()?n.toTP("jqx-icon-recurrence-exception-white"):n.toTP("jqx-icon-recurrence-exception");k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+ae+re+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+le+"'></div>"+K+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(G){var de="white"==W.toLowerCase()?n.toTP("jqx-icon-recurrence-white"):n.toTP("jqx-icon-recurrence");k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+ae+re+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+de+"'></div>"+K+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+ae+re+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'>"+K+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var he=e(k);if(he.appendTo(this.table),C.element=he,this.appointmentTooltips)if(C.appointment.tooltip)he[0].setAttribute("title",C.appointment.tooltip);else{var ce=C.appointment.subject;M&&!I&&(ce=M+" - "+V+" "+ce),ce&&((X=C.appointment.location)&&(ce+="\n"+X),he[0].setAttribute("title",ce))}e.each(C.cells,function(){var t=e(this.cell),i=t.position();if(t[0].appointments||(t[0].appointments=new Array),t[0].appointments.push({ui:he,appointment:C}),C.y+C.height+2>=i.top+t.height()){he.css("visibility","hidden");var o=t.find(".jqx-icon-arrow-down");o.show(),o[0]&&(o[0].mousedown=function(){n.openedMonthCellPopup&&n.openedMonthCellPopup.remove();var o=e("<div></div>"),r=t.find("div").clone(!0);r.find("span").removeClass().addClass(n.toTP("jqx-icon-close")),r.find("span")[0].mousedown=function(){o.remove()},r.addClass(n.toTP("jqx-widget-header")),o.addClass(n.toTP("jqx-widget")),o.addClass(n.toTP("jqx-window")),o.addClass(n.toTP("jqx-scheduler-month-cell-popup")),o.addClass(n.toTP("jqx-popup"));var s=e("<div></div>");o.append(r),o.append(s),s.addClass(n.toTP("jqx-widget-content jqx-disableselect"));for(var a=t.width(),l=5+t.find("div").outerHeight(),d=0;d<t[0].appointments.length;d++){var h=t[0].appointments[d].ui.clone(!0);h.css("left","3px"),h.css("top","0px"),h.css("margin-top","2px"),h.css("position","relative"),h.css("visibility","visible"),h.width(a-6),l+=h.outerHeight()+4,s.append(h),h.click(function(e){var t=n.getJQXAppointmentByElement(n.getAppointmentElement(e.target));n._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),h.dblclick(function(e){var t=n.getJQXAppointmentByElement(n.getAppointmentElement(e.target));t.readOnly||n.editRecurrenceDialog.jqxWindow("isOpen")||n._editDialog&&(!n._editDialog||n._editDialog.jqxWindow("isOpen"))||!1!==n._initDialog(t)&&n._openDialog(),n._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})})}o.css("overflow","hidden"),o.css("position","absolute"),o.height(l),o.width(a),o.css("z-index","9999"),o.css("top",i.top),o.css("left",i.left),n.table.append(o),n.openedMonthCellPopup=o})}})}},_sortByDate:function(e,t){var i=e.getAttribute("data-date");i=this._getDateByString(i);var o=t.getAttribute("data-date");return o=this._getDateByString(o),i<o?-1:i>o?1:i==o?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.equals(t.from)){var i=e.to-e.from;if(1e4*i>1e4*(i=t.to-t.from))return-1}return e.from<t.from?-1:e.from>t.from?1:e.from==t.from?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=e.to-e.from;if(1e4*i>1e4*(i=t.to-t.from))return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){var o=i._resources.indexOf(e.resourceId),r=i._resources.indexOf(t.resourceId);return o==r?0:o<r?-1:o>r?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++)if(t[i].row==e)return!0;return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++)if(t[i].column==e)return!0;return!1},getMaxTimelineAppointments:function(t,i,o,r){if(0==t.length)return 1;var n=this,s=n._views[n._view].type,a=(n._views[n._view],1),l=o,d=this.getMinutesPerScale(),h=null,c=null,p="";for(var u in t){if("indexOf"==u)break;var m=t[u];h||(h=m.from),c||(c=m.to),h=Math.min(m.from,h),c=Math.max(m.to,c),p+=m.appointment.id}if(p+=h,p+=c,i[p])return i[p];h=new e.jqx.date(h,n.timeZone),c=new e.jqx.date(c,n.timeZone);for(l=h;h<c;){var f=l;if("timelineMonthView"===s)g=f.addDays(1);else var g=f.addMinutes(d);var w=0;for(var u in t){if("indexOf"==u)break;var v=(m=t[u]).from,y=m.to;e.jqx.scheduler.utilities.rangeIntersection(f,g,v,y)&&w++}a=Math.max(w,a),l="timelineMonthView"===s?l.addDays(1,!1):l.addMinutes(d,!1)}return i[p]=a,a},getMaxMonthAppointments:function(t){this._views[this._view].type,this._views[this._view];if(0==t.length)return 1;for(var i=1,o=this.getViewStart().clone(),r=this.getViewEnd();o<r;){var n=o,s=e.jqx.scheduler.utilities.getEndOfDay(n),a=0;for(var l in t){if("indexOf"==l)break;var d=t[l],h=d.from,c=d.to;e.jqx.scheduler.utilities.rangeIntersection(n,s,h,c)&&a++}i=Math.max(a,i),o=o.addDays(1,!1)}return i},getMaxAllDayAppointments:function(t){this._views[this._view].type,this._views[this._view];var i=this;if(0==t.length)return 1;var o=function(t){for(var o=1,r=i.getViewStart(),n=i.getViewEnd();r<n;){var s=r,a=e.jqx.scheduler.utilities.getEndOfDay(s),l=0;for(var d in t){if("indexOf"==d)break;var h=t[d],c=h;if(h.appointment&&(c=h.appointment),1!=c.hidden&&c.duration&&(c.allDay||c.duration().days()>=1)){var p=h.from,u=h.to;e.jqx.scheduler.utilities.rangeIntersection(s,a,p,u)&&l++}}o=Math.max(l,o),r=r.addDays(1,!1)}return o};if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)d=o(t);else{for(var r=1,n=0;n<this._resources.length;n++){for(var s=this._resources[n],a=new Array,l=0;l<t.length;l++)t[l].appointment&&t[l].appointment.resourceId==s?a.push(t[l]):void 0!=t[l].resourceId&&t[l].resourceId==s&&a.push(t[l]);var d=o(a);r=Math.max(r,d)}d=r}return d},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(t){this._views[this._view].type;var i=this._views[this._view],o=30,r="halfHour";switch(i.timeRuler&&i.timeRuler.scale&&(r=i.timeRuler.scale),r){case"sixtyMinutes":case"hour":o=60;break;case"thirtyMinutes":case"halfHour":o=30;break;case"fifteenMinutes":case"quarterHour":o=15;break;case"tenMinutes":o=10;break;case"fiveMinutes":o=5}if(0==t.length)return 1;for(var n=1,s=t[0].from.clone(),a=s.addMinutes(o),l=e.jqx.scheduler.utilities.getEndOfDay(s);s<l;){var d=s,h=a,c=0;for(var p in t){if("indexOf"==p)break;var u=t[p];if(u.from||u.to){var m=u.from,f=u.to;e.jqx.scheduler.utilities.rangeIntersection(d,h,m,f)&&c++}}n=Math.max(c,n),s=s.addMinutes(o,!1),a=a.addMinutes(o,!1)}return n},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updatecolumnwidths:function(){var t=this,i=this._hostWidth,o=i;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(i-=parseInt(this.scrollBarSize)+6,this.rtl&&(i+=3),o=i);var r="";if(void 0!=this.columns&&void 0!=this.columns.records){var t=this,n=!1,s=new Array;e.each(this.columns.records,function(e,n){if(!this.hidden){if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var n=0;"hidden"==t.vScrollBar[0].style.visibility||t.scrollBarSize;0==t.scrollBarSize&&0,n=parseFloat(this.width)*o/100,void 0!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*o/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),i-=Math.round(n)}else"auto"==this.width||this._width?r+=this.text:i-=this.width;"auto"==this._width&&(s[s.length]=this)}});var a=this.columnsheader.find("#columntable"+this.element.id);if(0!=a.length){var l=0,d=(a.find(".jqx-grid-column-header"),0);e.each(this.columns.records,function(r,a){var h=this.element,c=!1,p=this.width,u=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(p=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,p=Math.round(p),c=!0),"auto"==this.width||this._width||c)if(c)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),parseInt(h[0].style.width)!=p&&(h.width(p),this.width=p);else{var m=t.columns.records.length,f=t._views[t._view].type;if("dayView"===f||"weekView"===f){var g=t._views[t._view];g.timeRuler?(g.timeRuler.timeZones&&(m-=g.timeRuler.timeZones.length),m--):m--}else"monthView"===f&&t._views[t._view].showWeekNumbers&&m--;var w=Math.floor(i*(1/m));if(t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?w=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(w=Math.round((2+i)*(1/t._getColumnsLengthPerView()))),(l+=i*(1/m)-w)>=1&&(l-=1,w++),l>=.5&&r==t.columns.records.length-1&&w++,"agendaView"==f&&(w=i/s.length,w++),w<0){var v=e("<span>"+this.text+"</span>");e(document.body).append(v),w=10+v.width(),v.remove()}w<this.minwidth&&(w=this.minwidth),w>this.maxwidth&&(w=this.maxwidth),this._width="auto",this.width=parseInt(w),h.width(this.width)}else parseInt(h[0].style.width)!=this.width&&h.width(this.width);parseInt(h[0].style.left)!=d&&h.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,u!==this.width&&(n=!0)}),this.columnsheader.width(2+d),a.width(this.columnsheader.width()),this._resizecolumnGroups(),n&&(this._renderrows(),t._arrange())}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){var i=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var o=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');o[0].cells=new Array;var r=0,n="";this._hostWidth||(this._hostWidth=this.host.width());var s=this._hostWidth,a=s,l=this.getRows().length,d=this.rowsHeight;this.isTouchDevice()&&(d=this.touchRowsHeight),l*d>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(s-=parseInt(this.scrollBarSize)+6,this.rtl&&(s+=3),a=s);var h=new Array,c=new Array;if(e.each(this.columns.records,function(e,t){if(!this.hidden)if("auto"==this.width||this._width)n+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)s-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)s-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var t=0;(t=parseFloat(this.width)*a/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),s-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),s-=this.width;null!=this.width&&"auto"!=this.width||(c[c.length]=this),h[h.length]=this}),this.rtl)for(var p=0;p<h.length;p++)this.columns.replace(p,h[p]);var u=this.headerZIndex,m=t.columnsHeight,f=function(e,i){var o=t.columnGroupslevel*t.columnsHeight;return o-=i.level*t.columnsHeight},g=0,w=document.createDocumentFragment();e.each(this.columns.records,function(n,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=f(this.datafield,this),m=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var h=t.rtl?u++:u--,p=document.createElement("div");p.setAttribute("role","columnheader"),p.style.position="absolute",p.style.zIndex=h,p.style.height="100%",p.className=d;var v=e(p);t.rtl&&0===n&&(v[0].style.borderLeftColor="transparent"),t.columnGroups?(v[0].style.height=m+"px",v[0].style.bottom="0px"):this.timeColumn||(v[0].style.height=-1+m+"px"),this.uielement=v,this.element=v,""!=this.classname&&this.classname&&v.addClass(this.classname);var y=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(y=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,y=Math.round(y),x=!0),"auto"==this.width||this._width||x)if(x)y<this.minwidth&&"auto"!=this.minwidth&&(y=this.minwidth),y>this.maxwidth&&"auto"!=this.maxwidth&&(y=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),v.width(y),this.width=y;else{var b=t.columns.records.length,A=t._views[t._view].type;if("dayView"===A||"weekView"===A){var T=t._views[t._view];T.timeRuler?(T.timeRuler.timeZones&&(b-=T.timeRuler.timeZones.length),b--):b--}else"monthView"===A&&t._views[t._view].showWeekNumbers&&b--;var _=Math.floor(s*(1/b));t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?_=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(_=Math.round((2+s)*(1/t._getColumnsLengthPerView()))),(g+=s*(1/b)-_)>=1&&(g-=1,_++),g>=.5&&n==t.columns.records.length-1&&_++,isNaN(_)&&(_=this.minwidth),"agendaView"==A&&(_=s/c.length,_++),_<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),_=10+$element.width(),$element.remove()),_<this.minwidth&&(_=this.minwidth),_>this.maxwidth&&(_=this.maxwidth),this._width="auto",this.width=parseInt(_),y=this.width,v.width(this.width)}else y<this.minwidth&&"auto"!=this.minwidth&&(y=this.minwidth),y>this.maxwidth&&"auto"!=this.maxwidth&&(y=this.maxwidth),v[0].style.width=parseInt(y)+"px";this.timeColumn&&(v.css("border-bottom-color","transparent"),i.timeRuler&&i.timeRuler.timeZones&&n<i.timeRuler.timeZones.length&&v.css("border-right-color","transparent"),1==this.tableRows&&v.addClass(t.toTP("jqx-scheduler-time-column"))),this.hidden&&v.css("display","none");e(v.children()[0]);o[0].cells[n]=v[0];var S=t._rendercolumnheader(this.text,this.align,m,t);v[0].innerHTML=S,w.appendChild(v[0]);v[0].style.left=r+"px",this.hidden||(r+=y)}),o[0].appendChild(w),this.columnsheader[0].style.width=r>0?2+r+"px":r+"px",this._columnswidth=r,this.columnsrow=o,t.columnsheader.append(o),o[0].style.width=r+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var t=this.headerZIndex+this.columns.records.length,i=this,o=i.toTP("jqx-grid-column-header")+" "+i.toTP("jqx-grid-columngroup-header")+" "+i.toTP("jqx-widget-header");i.rtl&&(o+=" "+i.toTP("jqx-grid-columngroup-header-rtl"));var r=this.columnsheader.find("#columntable"+this.element.id);r.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(var s=0;s<this.columnGroups.length;s++){var a=this.columnGroups[s],l=a.level;if(l===n){var d=l*this.columnsHeight,h=99999;if(a.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=c(o):o.hidden||(t+=o.width,h=Math.min(parseInt(o.element[0].style.left),h))}return t};a.width=c(a),a.left=h;var p=this.columnsHeight,u=t--,m=e('<div role="columnheader" style="z-index: '+u+';position: absolute;" class="'+o+'"></div>'),f=e(this._rendercolumnheader(a.text,a.align,this.columnsHeight,this));a.renderer&&a.renderer(m,a.text),m.append(f),m[0].style.left=h+"px",0===h&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=p+"px",m[0].style.width=-1+a.width+"px",r.append(m),a.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,o=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=r(n):(t+=n.width,o=Math.min(parseInt(n.element[0].style.left),o))}return t};t.width=r(t),t.left=o;var n=this.columnsHeight,s=t.element;s[0].style.left=o+"px",s[0].style.top=i+"px",s[0].style.height=n+"px",s[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,o=e(t.element);if(o.length>0){i.removeHandler(o,"mouseenter"),i.removeHandler(o,"mouseleave");var r=e(t.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(o,"click")}},destroy:function(){var t=this;t._removeHandlers(),t._editDialog&&t._editDialog.jqxWindow("destroy"),t.menu&&t.menu.jqxMenu("destroy"),t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("destroy"),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(t,i,o,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==o)if("filterable"==i)t._render();else if("view"==i)t.setView(r);else if("views"==i){t._columns=null,t._views=new Array,t._view=t.view;for(n=0;n<t.views.length;n++)"string"===e.type(t.views[n])?t._views.push({type:t.views[n]}):t._views.push(t.views[n]);for(var n=0;n<t._views.length;n++)if(t._views[n].type==t.view){t._view=n;break}t._render()}else if("height"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("resources"==i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchMode"==i)t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t.refresh(),t._addHandlers();else{if("enableHover"==i)return;"showLegend"==i?(t.legendbartop.show(),t.legendbarbottom.show(),t.refresh()):"disabled"==i?(r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer")):"columnsHeight"==i?t._render():"localization"==i?(t._render(),t.editRecurrenceDialog&&(t.editRecurrenceDialog.jqxWindow("destroy"),t.createEditRecurrenceDialog())):"theme"==i?(e.jqx.utilities.setTheme(o,r,t.host),t._editDialog&&e.jqx.utilities.setTheme(o,r,t._editDialog),t.editRecurrenceDialog&&e.jqx.utilities.setTheme(o,r,t.editRecurrenceDialog),t.menu&&t.menu.jqxMenu({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.refresh()):"date"===i?t.navigateTo(r):t.refresh()}},_rendercolumnheader:function(e,t,i,o){var r="4px";o.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px");var n='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var s=this.columnRenderer(e,t,i,n);if(void 0!=s)return s}return n}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()},areWeekDaysIncluded:function(t,i){var r=!1;return e.each(t,function(e,t){if(t===i)return r=!0,!1}),r},getStartOfDay:function(t){var i=new e.jqx.date(t.year(),t.month(),t.day(),0,0,0);return i.timeZone=t.timeZone,i},getEndOfDay:function(t){var i=new e.jqx.date(t.year(),t.month(),t.day(),23,59,59);return i.timeZone=t.timeZone,i},getDaysCount:function(e,t){for(var i=1;e<t;)e.day()!=t.day()&&i++,e=e.addDays(1);return i},getStartOfWeek:function(e,t){var i=e.dayOfWeek(),r=t.firstDay;i<r&&(i+=7);var n=i-r;return e.addDays(-n).date()},getEndOfWeek:function(e,t,i){return that.getStartOfWeek(e,dateTimeFormat,i).addDays(7)},getEndOfMonth:function(t,i){var r=t.daysInMonth(),n=new e.jqx.date(t.year(),t.month(),r,23,59,59);return n.timeZone=t.timeZone,n},rangeIntersection:function(e,t,i,r){var n=e.valueOf(),a=i.valueOf(),o=t.valueOf(),l=r.valueOf();if(a>=n&&a<o)return!0;if(a<n&&l>n)return!0;if(n==a||o==l)return!0;if(n<a){if(o>a&&o<l)return!0;if(o>l)return!0}else{if(l>n&&l<o)return!0;if(l>o)return!0}return!1},rangeContains:function(e,t,i,r){return e<=i&&r<=t},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:864e5,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(t){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((i-new Date(t.getFullYear(),0,1))/e.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(e){return e instanceof Date&&(e=e.getFullYear()),e%4==0&&e%100!=0||e%400==0},tzOffset:function(e){return 60*e.getTimezoneOffset()*1e3},monthRange:function(t,i){var r=new Date(t,i,1);return[e.jqx.scheduler.utilities.getWeekday(r),e.jqx.scheduler.utilities.getMonthDays(r)]},getMonthDays:function(t){var i=t.getMonth();return 1==i&&e.jqx.scheduler.utilities.isLeapYear(t)?29:e.jqx.scheduler.utilities.monthDays[i]},getWeekday:function(e){return[6,0,1,2,3,4,5][e.getDay()]},combine:function(e,t){return t=t||e,new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},sort:function(e){e.sort(function(e,t){return e.getTime()-t.getTime()})},timeToUntilString:function(e){for(var t,i=new Date(e),r=[i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate(),"T",i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),"Z"],n=0;n<r.length;n++)t=r[n],!/[TZ]/.test(t)&&t<10&&(r[n]="0"+String(t));return r.join("")},untilStringToDate:function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},Time:function(e,t,i){this.hour=e,this.minute=t,this.second=i,this.that=this,this.getHours=function(){return that.hour},this.getMinutes=function(){return that.minute},this.getSeconds=function(){return that.second},this.getTime=function(){return 1e3*(60*that.hour*60+60*that.minute+that.second)}}},e.jqx.scheduler.appointment=function(){var t=this;if(t.from=new e.jqx.date,t.to=(new e.jqx.date).addHours(1),t.subject="",t.description="",t.location="",t.tooltip="",t.hidden=!1,t.resourceId=null,t.id="",t.background=null,t.color=null,t.borderColor=null,t.status="busy",t.style=null,t.exceptions=new Array,t.exceptionDates=new Array,t.recurrencePattern=null,t.recurrenceException=new Array,t.occurrenceEnumerator=null,t.rootAppointment=null,t.hiddenByResourceId=!1,t.draggable=!0,t.resizable=!0,t.recurrentAppointment=!1,t.allDay=!1,t.readOnly=!1,t.showStatus=!0,t.timeZone=null,t.scheduler=null,t.elements=new Array,t.appointmentObject=!0,t.duration=function(){var i=1e4*(t.to-t.from);return new e.jqx.timeSpan(i)},t.toJSON=function(e){var i=function(e){return(e<10?"0":"")+e},r=function(e,t){return e?t?e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"Z":e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+"Z":""},n={};return n.id=t.id,n.from=r(t.from.toDate(),e),n.to=r(t.to.toDate(),e),n.subject=t.subject,n.status=t.status,n.location=t.location,n.description=t.description,n.title=t.title,n.resourceId=t.resourceId,t.recurrencePattern?n.recurrencePattern=t.recurrencePattern.toString():n.recurrencePattern="",t.recurrenceException&&t.recurrenceException.length>0?n.recurrenceException=function(){for(var e="",i=0;i<t.recurrenceException.length;i++)e+=t.recurrenceException[i].toString(),i<t.recurrenceException.length-1&&(e+=",");return e}():n.recurrenceException="",n.dtstamp=r(new Date,e),JSON.stringify(n)},t.toString=function(e){var i=function(e){for(var t="";e.length>75;)t+=e.substr(0,75)+"\n",e=" "+e.substr(75);return t+=e},r=function(e){return(e<10?"0":"")+e},n=function(e,t){return e?t?""+e.getFullYear()+r(e.getMonth()+1)+r(e.getDate())+"T"+r(e.getHours())+r(e.getMinutes())+r(e.getSeconds()):""+e.getUTCFullYear()+r(e.getUTCMonth()+1)+r(e.getUTCDate())+"T"+r(e.getUTCHours())+r(e.getUTCMinutes())+r(e.getUTCSeconds())+"Z":""},a=t.status;return a||(a="CONFIRMED"),"busy"==a.toLowerCase()&&(a="CONFIRMED"),"tentative"==a.toLowerCase()&&(a="TENTATIVE"),"free"==a.toLowerCase()&&(a="CANCELLED"),"outOfOffice"==a.toLowerCase()&&(a="CANCELLED"),"BEGIN:VEVENT\nUID:"+t.id+"\nDTSTAMP:"+n(new Date,e)+"\n"+i("TITLE:"+t.subject)+"\nDTSTART:"+n(t.from.toDate(),e)+"\nDTEND:"+n(t.to.toDate(),e)+"\n"+(t.recurrencePattern?"RRULE:"+t.recurrencePattern.toString()+"\n":"")+(t.recurrenceException&&t.recurrenceException.length>0?"EXDATE:"+function(){for(var i="",r=0;r<t.recurrenceException.length;r++)i+=n(t.recurrenceException[r].toDate(),e),r<t.recurrenceException.length-1&&(i+=",");return i}()+"\n":"")+(t.subject?i("SUMMARY:"+t.subject)+"\n":"")+"TRANSP:OPAQUE\n"+(t.status?i("STATUS:"+a)+"\n":"")+(t.description?i("DESCRIPTION:"+t.description)+"\n":"")+(t.location?i("LOCATION:"+t.location)+"\n":"")+"END:VEVENT"},t.range=function(){return t.allDay?{from:e.jqx.scheduler.utilities.getStartOfDay(t.from),to:e.jqx.scheduler.utilities.getEndOfDay(t.to)}:{from:t.from,to:t.to}},t.clearRecurrence=function(){t.recurrencePattern&&(t.exceptions=new Array,t.exceptionDates=new Array,t.recurrencePattern=null,t.recurrenceException=new Array,t.hidden=!1)},t.isAllDayAppointment=function(){return this.duration().days()>=1||this.allDay},t.cloneAppointmentAttributes=function(e){e.subject=t.subject,e.description=t.description,e.location=t.location,e.tooltip=t.tooltip,e.resourceId=t.resourceId,e.category=t.category,e.status=t.status,e.rootAppointment=t,e.color=t.color,e.borderColor=t.borderColor,e.background=t.background,e.hidden=t.hidden,e.timezone=t.timeZone,e.style=t.style,e.hiddenByResourceId=t.hiddenByResourceId},t.createOccurrence=function(i){if(null==i)return null;var r=new e.jqx.scheduler.appointment;r.allDay=t.allDay;var n=t.duration();return t.allDay&&(n=new e.jqx.timeSpan(1e4*(t.to-t.from))),r.from=i,r.to=i.add(n),r.occurrenceFrom=i.clone(),r.subject=t.subject,r.description=t.description,r.location=t.location,r.tooltip=t.tooltip,r.resourceId=t.resourceId,r.category=t.category,r.status=t.status,r.rootAppointment=t,r.color=t.color,r.draggable=t.draggable,r.resizable=t.resizable,r.borderColor=t.borderColor,r.background=t.background,r.recurrentAppointment=!0,r.timeZone=t.timeZone,r.style=t.style,r.hiddenByResourceId=t.hiddenByResourceId,r.boundAppointment=t.boundAppointment,t.hiddenByResourceId&&(r.hidden=!0),r.id=t.id+"."+e.jqx.scheduler.utilities.guid(),t.hidden=!0,t.occurrenceIndex++,r},t.clone=function(){var i=new e.jqx.scheduler.appointment;return i.allDay=t.allDay,i.from=t.from.clone(),i.to=t.to.clone(),i.subject=t.subject,i.description=t.description,i.location=t.location,i.tooltip=t.tooltip,i.resourceId=t.resourceId,i.category=t.category,i.status=t.status,i.color=t.color,i.borderColor=t.borderColor,i.background=t.background,i.style=t.style,i.timeZone=t.timeZone,i.hiddenByResourceId=t.hiddenByResourceId,t.hiddenByResourceId&&(i.hidden=!0),i.id=t.id+"."+e.jqx.scheduler.utilities.guid(),i},t.isRecurrentAppointment=function(){return t.recurrentAppointment||null!=t.recurrencePattern},t.anyExceptions=function(){return null!=t.exceptions&&t.exceptions.length>0},t.anyOccurrences=function(){return null!=t.occurrenceEnumerator&&t.occurrenceEnumerator.getNextAppointment()},t.isException=function(){var e=t.rootAppointment||this;if(!e.recurrenceException)return!1;for(var i=0;i<e.recurrenceException.length;i++){var r=e.recurrenceException[i];if(t.occurrenceFrom&&r.equals(t.occurrenceFrom))return!0}return!1},t.getOccurrences=function(i,r){t.occurrenceIndex=0;var n=null!==i?i:t.from,a=new e.jqx.scheduler.recurrentAppointmentsList(t,t.calendar,n,r,t.scheduler);return t.occurrences=a.list,a.list},1===arguments.length)if("object"==e.type(arguments[0]))for(var i in arguments[0]){var r=arguments[0][i];void 0!==this[i]&&(this[i]=r)}else t.from=arguments[0],t.to=new e.jqx.date(t.from).addHours(1);else 2===arguments.length?(t.from=arguments[0],t.to=arguments[1]):3===arguments.length?(t.from=arguments[0],t.to=arguments[1],t.subject=arguments[2]):3===arguments.length&&(t.from=arguments[0],t.to=arguments[1],t.subject=arguments[2],t.description=arguments[3]);null!=t.recurrencePattern&&t.recurrencePattern.setFrom(t.from)},e.jqx.scheduler.recurrentAppointmentsList=function(){var t=this;return t.recurrentAppointment=null,t.currentTime=null,t.calendar=e.jqx.scheduler.calendar,t.from=new e.jqx.date(0),t.to=new e.jqx.date(9999,12,31),t.foundItems=0,t.list=new Array,t.scheduler=null,t.getOccurrences=function(i,r,n){return void 0==i?t.list:new e.jqx.scheduler.recurrentAppointmentsList(i,t.calendar,r,n).list},t.current=function(){return t.recurrentAppointment.createOccurrence(t.currentTime)},t.fillList=function(){t.currentTime=null,t.foundItems=0,t.list=new Array;var e=t.recurrentAppointment.recurrencePattern;if(e.step=0,e.current=0,e.currentYearDay=0,null==e)return!1;for(;t.getNextAppointment(e);){var i=t.current();i&&t.list.push(i)}},t.getNextAppointment=function(e){if(null==t.recurrentAppointment)return!1;this.scheduler._views[this.scheduler._view].type;var i=this.scheduler._views[this.scheduler._view],r=0;switch(e.freq){case"weekly":r=7;break;case"monthly":r=31;break;case"yearly":r=365}for(var n=0;n<4294967295;n++){var a=e.getNewOccurenceDate();if(e.currentTime=a,e.to<a&&e.to.addDays(r)>=a||t.to<a&&t.to.addDays(r)>=a)return t.currentTime=null,!0;if(e.to.addDays(r)<a||t.to.addDays(r)<a)return t.currentTime=null,!1;var o=!0;if(o=t.getCanSetTime(e,a,o),e.canCreateNewOccurence(a,t.calendar)){var l=!0;!1===i.showWeekends&&(6!=a.dayOfWeek()&&0!=a.dayOfWeek()||(l=!1)),l&&t.foundItems++}if(o)return t.currentTime=a,!(t.foundItems>e.count)}return!1},t.getCanSetTime=function(e,i,r){return e.canCreateNewOccurence(i,t.calendar)||(r=!1),i<t.from&&i.add(t.recurrentAppointment.duration())<=t.from&&(r=!1),t.to<=i&&(r=!1),r},t.isException=function(e,i,r){for(var n=t.recurrentAppointment.exceptions,a=0;a<n.length;a++)if(r.isDateInExceptionAppointment(e,i,n[a])&&-1===r.newExceptions.indexOf(n[a]))return!0;return!1},arguments&&arguments.length>0&&(t.recurrentAppointment=arguments[0],arguments[1]&&(t.calendar=arguments[1]),arguments[2]&&(t.from=arguments[2]),arguments[3]&&(t.to=arguments[3]),arguments[4]&&(t.scheduler=arguments[4]),void 0===arguments[2]&&(t.from=new e.jqx.date(0),t.to=new e.jqx.date(9999,12,31)),t.fillList()),t},e.jqx.scheduler.recurrencePattern=function(){var t=this,i={from:new e.jqx.date(0),to:new e.jqx.date(9999,12,31),count:1e3,interval:1,exceptions:new Array,newExceptions:new Array,month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:!0,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};return e.extend(!0,t,i),t.getNewOccurenceDate=function(){var i=function(e,t){var i=0,r=[];if(e instanceof Array)for(;i<t;i++)r[i]=[].concat(e);else for(;i<t;i++)r[i]=e;return r},r=function(e,t){var i=e%t;return i*t<0?i+t:i},n=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],r=e;r<t;r++)i.push(r);return i},a=[0,31,60,91,121,152,182,213,244,274,305,335,366],o=[0,31,59,90,120,151,181,212,243,273,304,334,365],l=[6,0,1,2,3,4,5],d=function(e){t.yearlen=e%4!=0||e%100==0&&e%400!=0?365:366,t.nextyearlen=(1+e)%4!=0||(1+e)%100==0&&(1+e)%400!=0?365:366;new Date(e,0,1);var i=l[new Date(e,0,1).getDay()],r=function(){for(var e=[],t=0;t<55;t++)e=e.concat(n(7));return e}();365==t.yearlen?(t.wdaymask=r.slice(i),t.mrange=[].concat(o)):(t.wdaymask=r.slice(i),t.mrange=[].concat(a))};switch(d(t.from.year()),t.freq){case"daily":default:x=t.from.add(new e.jqx.timeSpan(t.step*t.interval,0,0,0));return t.step++,x;case"weekly":if(t.byweekday){if(x=(x=new e.jqx.date(t.from,t.timeZone)).addDays(t.step*t.interval*7),t.step>=1)s=(x=x.addDays(-t.from.dayOfWeek())).addDays(7);else var s=x.addDays(7-t.from.dayOfWeek());for(var c=x,u=0;u<7&&l[c.dayOfWeek()]!==t.byweekday[t.current]&&!(c>=s);u++)c=c.addDays(1);x=c,t.current++,void 0==t.byweekday[t.current]&&(t.current=0,t.step++)}return x;case"monthly":if(t.bynweekday.length>0){(x=new e.jqx.date(t.from.year(),t.from.month(),1,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,d((x=x.addMonths(t.step*t.interval)).year());var h=x.month(),p=(g=[t.mrange.slice(h-1,h+1)][0])[0],y=g[1];y-=1,t.nwdaymask=i(0,t.yearlen),t.step++;for(m=0;m<t.bynweekday.length;m++){f=t.bynweekday[m][0];(v=t.bynweekday[m][1])<0?(u=y+7*(v+1),u-=r(t.wdaymask[u]-f,7)):(u=p+7*(v-1),u+=r(7-t.wdaymask[u]+f,7)),p<=u&&u<=y&&(t.nwdaymask[u]=1)}b=(D=u+1)-p;(x=new e.jqx.date(t.from.year(),t.from.month(),b,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addMonths((t.step-1)*t.interval)}else t.bymonthday.length>0?((x=new e.jqx.date(t.from.year(),t.from.month(),t.bymonthday[t.current],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addMonths(t.step*t.interval),t.current++,t.bymonthday[t.current]||(t.current=0,t.step++)):((x=new e.jqx.date(t.from.year(),t.from.month(),t.day,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addMonths(t.step*t.interval),t.step++);return x;case"yearly":if(t.bymonth&&t.bymonth.length>0)if(t.bynweekday.length>0){(x=new e.jqx.date(t.from.year(),t.bymonth[t.current],1,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,d((x=x.addYears(t.step*t.interval)).year());var h=x.month(),g=[t.mrange.slice(h-1,h+1)][0],p=g[0],y=g[1];y-=1,t.nwdaymask=i(0,t.yearlen);for(var m=0;m<t.bynweekday.length;m++){var f=t.bynweekday[m][0],v=t.bynweekday[m][1];v<0?(u=y+7*(v+1),u-=r(t.wdaymask[u]-f,7)):(u=p+7*(v-1),u+=r(7-t.wdaymask[u]+f,7)),p<=u&&u<=y&&(t.nwdaymask[u]=1)}var D=u+1,b=D-p;(x=new e.jqx.date(x.year(),t.bymonth[t.current],b,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,t.step++}else t.byyearday.length>0?((x=new e.jqx.date(t.from.year(),t.bymonth[t.current],t.byyearday[t.currentYearDay],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addYears(t.step*t.interval),t.currentYearDay++,t.byyearday[t.currentYearDay]||(t.currentYearDay=0,t.current++,t.bymonth[t.current]||(t.current=0,t.step++))):((x=new e.jqx.date(t.from.year(),t.bymonth[t.current],t.from.day(),t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addYears(t.step*t.interval),t.current++,t.bymonth[t.current]||(t.current=0,t.step++));else if(t.byyearday&&t.byyearday.length>0)(x=new e.jqx.date(t.from.year(),t.from.month(),t.byyearday[t.current],t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addYears(t.step*t.interval),t.current++,t.byyearday[t.current]||(t.current=0,t.step++);else if(null!=t.byweekno){var x=t.from.addYears(t.step*t.interval);if(x=function(i,r){var n=1,a=new e.jqx.date(r.year(),1,1,r.hour(),r.minute(),r.second());for(a.timeZone=t.timeZone;n!=i&&(a=a.addDays(7),!(++n>53)););for(;e.jqx.scheduler.utilities.getWeekday(a.toDate())!=t.wkst;)a=a.addDays(1);return a}(t.byweekno[t.current],x),t.byweekday){for(var c=x,u=0;u<7&&l[c.dayOfWeek()]!==t.byweekday[t.currentYearDay];u++)c=c.addDays(1);x=c,t.currentYearDay++,t.byweekday[t.currentYearDay]||(t.currentYearDay=0,t.current++,t.byweekno[t.current]||(t.current=0,t.step++))}else t.current++,t.byweekno[t.current]||(t.current=0,t.step++)}else(x=new e.jqx.date(t.from.year(),t.month,t.day,t.from.hour(),t.from.minute(),t.from.second())).timeZone=t.timeZone,x=x.addYears(t.step*t.interval),t.step++;return x}},t.isDateInExceptionAppointment=function(e,i,r){switch(t.freq){case"daily":case"weekly":default:return e.year()==r.from.year()&&e.dayOfYear()==r.from.dayOfYear()}},t.createNewPattern=function(){if(t.ical)return i=new e.jqx.scheduler.recurrencePattern(t.ical);var i=new e.jqx.scheduler.recurrencePattern;return i.from=t.from,i.to=t.to,i.count=t.count,i.interval=t.interval,i.exceptions=t.exceptions,i.newExceptions=t.newExceptions,i.weekDays=t.weekDays,i.isEveryWeekDay=t.isEveryWeekDay,i.month=t.month,i.day=t.day,i.current=t.current,i.currentYearDay=t.currentYearDay,i.step=t.step,i.days=t.days,i.bynweekday=t.bynweekday,i.bymonth=t.bymonth,i.bymonthday=t.bymonthday,i.byyearday=t.byyearday,i.byweekno=t.byweekno,i.byweekday=t.byweekday,i.freq=i.freq,i.timeZone=i.timeZone,i},t.equals=function(e){return t.from==e.from&&t.to==e.to&&t.count===e.count&&t.interval===e.interval&&t.day===e.day&&t.month===e.month},t.isDayOfWeekIncluded=function(i){var r=i.dayOfWeek();return e.jqx.scheduler.utilities.areWeekDaysIncluded(t.weekDays,r)},t.getWeekIndexFromDate=function(i,r){var n=r.firstDay,a=e.jqx.scheduler.utilities.getStartOfWeek(t.from,r,n),o=new e.jqx.timeSpan(i.subtract(a));return parseInt(o.days()/7)},t.canCreateNewOccurence=function(e,i){e.toDate();switch(t.freq){case"daily":default:return(!t.bymonth||-1!=t.bymonth.indexOf(e.month()))&&(!t.isEveryWeekDay||!!t.isDayOfWeekIncluded(e,i));case"weekly":var r=t.getWeekIndexFromDate(e,i);if(t.bymonth&&-1==t.bymonth.indexOf(e.month()))return!1;if(r%t.interval!=0)return!1;if(t.weekDays=={}){if(t.from.dayOfWeek()!=start.dayOfWeek())return!1}else if(!t.isDayOfWeekIncluded(e,i))return!1;break;case"monthly":case"yearly":if(t.bymonth&&-1==t.bymonth.indexOf(e.month()))return!1;if(e<t.from)return!1}return!0},t.toString=function(){var t={};t.dtstart=this.from.toDate(),t.until=this.to?this.to.toDate():null,t.count=this.count;var i={};i.YEARLY=0,i.MONTHLY=1,i.WEEKLY=2,i.DAILY=3,i.HOURLY=4,i.MINUTELY=5,i.SECONDLY=6,t.freq=i[this.freq.toUpperCase()],"YEARLY"==t.freq&&(t.bymonth=this.bymonth?this.bymonth:(new Array).push(this.month)),t.byweekday=new Array;var r=["MO","TU","WE","TH","FR","SA","SU"];return e.each(this.weekDays,function(){var e=this;--e<0&&(e=6),t.byweekday.push(e)}),void 0!=this.byyearday&&(t.byyearday=this.byyearday),void 0!=this.byweekno&&(t.byweekno=this.byweekno),t.bymonthday=this.bymonthday,t.wkst=r[this.wkst],t.interval=this.interval,new e.jqx.ICalRule(t).toString()},t.init=function(i){var r=new e.jqx.ICalRule(t.ical,i),n=r.options;if(t.from=n.dtstart?new e.jqx.date(n.dtstart,t.timeZone):t.from,t.count=void 0!=n.count?n.count:t.count,t.freq=r.FREQUENCIES[n.freq].toLowerCase(),t.interval=void 0!=n.interval?n.interval:t.interval,t.to=n.until?new e.jqx.date(n.until,t.timeZone):t.to,t.wkst=n.wkst,t.bymonth=n.bymonth,t.bymonth&&t.bymonth.length>0?t.month=t.bymonth[0]:t.month=t.from.month(),t.day=t.from.day(),void 0!=n.byweekday){t.weekDays={};for(var a=0;a<n.byweekday.length;a++)switch(n.byweekday[a]){case 0:t.weekDays.Monday=1;break;case 1:t.weekDays.Tuesday=2;break;case 2:t.weekDays.Wednesday=3;break;case 3:t.weekDays.Thursday=4;break;case 4:t.weekDays.Friday=5;break;case 5:t.weekDays.Saturday=6;break;case 6:t.weekDays.Sunday=0}t.byweekday=n.byweekday}return t.byweekno=n.byweekno,n.bynweekday&&(t.bynweekday=n.bynweekday),void 0!=n.bymonthday&&(t.bymonthday=n.bymonthday.sort(),t.bymonthday[0]&&(t.day=t.bymonthday[0])),void 0!=n.byyearday&&(t.day=n.byyearday[0],t.byyearday=n.byyearday.sort()),n},t.setFrom=function(e){t.from=e.clone(),t.ical&&t.init(e)},1==arguments.length&&(t.ical=arguments[0],t.init()),t},e.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},e.jqx.ICalRule=function(t,i){var r=this,n=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],r=e;r<t;r++)i.push(r);return i},a=function(e,t){var i=0,r=[];if(e instanceof Array)for(;i<t;i++)r[i]=[].concat(e);else for(;i<t;i++)r[i]=e;return r},o=function(e){return!(e instanceof Array&&0==e.length)&&Boolean(e)},l=function(e,t){return-1!=e.indexOf(t)},d=([].concat(a(1,31),a(2,28),a(3,31),a(4,30),a(5,31),a(6,30),a(7,31),a(8,31),a(9,30),a(10,31),a(11,30),a(12,31),a(1,7)),[].concat(a(1,31),a(2,29),a(3,31),a(4,30),a(5,31),a(6,30),a(7,31),a(8,31),a(9,30),a(10,31),a(11,30),a(12,31),a(1,7)),n(1,29)),s=n(1,30),c=n(1,31),u=n(1,32);[].concat(u,s,u,c,u,c,u,u,c,u,c,u,u.slice(0,7)),[].concat(u,d,u,c,u,c,u,u,c,u,c,u,u.slice(0,7));d=n(-28,0),s=n(-29,0),c=n(-30,0),u=n(-31,0);[].concat(u,s,u,c,u,c,u,u,c,u,c,u,u.slice(0,7)),[].concat(u,d,u,c,u,c,u,u,c,u,c,u,u.slice(0,7)),function(){for(var e=[],t=0;t<55;t++)e=e.concat(n(7))}();var h=function(e,t){var i=this;if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t,this.nth=function(e){return i.n==e?i:new h(i.weekday,e)},this.equals=function(e){return i.weekday==e.weekday&&i.n==e.n},this.toString=function(){var e=["MO","TU","WE","TH","FR","SA","SU"][i.weekday];return this.n&&(e=(i.n>0?"+":"")+String(i.n)+e),e},this.getJsWeekday=function(){return 6==i.weekday?0:i.weekday+1}};this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],this.YEARLY=0,this.MONTHLY=1,this.WEEKLY=2,this.DAILY=3,this.HOURLY=4,this.MINUTELY=5,this.SECONDLY=6,this.MO=new h(0),this.TU=new h(1),this.WE=new h(2),this.TH=new h(3),this.FR=new h(4),this.SA=new h(5),this.SU=new h(6);var p={freq:null,dtstart:null,interval:1,wkst:r.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};this._string=null,this.toString=function(){var t,i,n,a,o,d=this.origOptions,s=[];i=Object.keys(d),n=Object.keys(p);for(g=0;g<i.length;g++)if(l(n,i[g])&&(t=i[g].toUpperCase(),a=d[i[g]],o=[],!(null===a||a instanceof Array&&!a.length))){switch(t){case"FREQ":a=r.FREQUENCIES[d.freq];break;case"WKST":a||(a=0),a=a.toString();break;case"BYWEEKDAY":t="BYDAY",a instanceof Array||(a=[a]);for(var c,u=0;u<a.length;u++)(c=a[u])instanceof h||(c=c instanceof Array?new h(c[0],c[1]):new h(c)),o[u]=c.toString();a=o;break;case"DTSTART":case"UNTIL":a=e.jqx.scheduler.utilities.timeToUntilString(a);break;default:if(a instanceof Array){for(u=0;u<a.length;u++)o[u]=String(a[u]);a=o}else a=String(a)}s.push([t,a])}for(var y=[],g=0;g<s.length;g++){var m=s[g];y.push(m[0]+"="+m[1].toString())}return y.join(";")},this.parseString=function(t){if(!(t=t.replace(/^\s+|\s+$/,"")).length)return null;var i,n,a,o,l,d=t.split(";"),s={};for(i=0;i<d.length;i++)if(l=d[i].split("="),a=l[0],o=l[1],""!=a)switch(a){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(-1!=o.indexOf(","))for(o=o.split(","),n=0;n<o.length;n++)/^[+-]?\d+$/.test(o[n])&&(o[n]=Number(o[n]));else/^[+-]?\d+$/.test(o)&&(o=Number(o));s[a=a.toLowerCase()]=o;break;case"BYDAY":var c,u,p,y=o.split(",");for(s.byweekday=[],n=0;n<y.length;n++)2==(p=y[n]).length?(u=r[p],s.byweekday.push(u)):(p=p.match(/^([+-]?\d)([A-Z]{2})$/),c=Number(p[1]),u=p[2],u=r[u].weekday,s.byweekday.push(new h(u,c)));break;case"FREQ":s.freq=r[o];break;case"WKST":s.wkst=r[o];break;case"DTSTART":s.dtstart=e.jqx.scheduler.utilities.untilStringToDate(o);break;case"UNTIL":s.until=e.jqx.scheduler.utilities.untilStringToDate(o);break;case"BYEASTER":s.byeaster=Number(o);break;default:throw new Error("Unknown ICalRule property '"+a+"'")}return r.options=s,s},"string"===e.type(t)?this.options=this.parseString(t):this.options=t||{};var t=this.options;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,r;if(null==this)throw new TypeError(" this is null or not defined");var n=Object(this),a=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(i=t),r=0;r<a;){var o;r in n&&(o=n[r],e.call(i,o,r,n)),r++}}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=i.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var a,o,l=[];for(a in n)e.call(n,a)&&l.push(a);if(t)for(o=0;o<r;o++)e.call(n,i[o])&&l.push(i[o]);return l}}()),this.origOptions={};var y=[],g=Object.keys(this.options),m=Object.keys(p);if(g.forEach(function(e){this.origOptions[e]=this.options[e],l(m,e)||y.push(e)},this),y.length)throw new Error("Invalid options: "+y.join(", "));if(!r.FREQUENCIES[this.options.freq]&&null===t.byeaster)throw new Error("Invalid Frequency: "+String(t.freq));m.forEach(function(e){l(g,e)||(t[e]=p[e])});var f=this.options;if(null!==f.byeaster&&(f.freq=this.YEARLY),f.dtstart||(f.dtstart=new Date,f.dtstart.setMilliseconds(0)),i&&(f.dtstart=i.toDate()),null===f.wkst?f.wkst=this.MO.weekday:"number"==typeof f.wkst||(null==f.wkst?f.wkst=this.MO.weekday:f.wkst=f.wkst.weekday),null!==f.bysetpos){"number"==typeof f.bysetpos&&(f.bysetpos=[f.bysetpos]);for(var v=0;v<f.bysetpos.length;v++)if(0==(x=f.bysetpos[v])||!(-366<=x&&x<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(o(f.byweekno)||o(f.byyearday)||o(f.bymonthday)||null!==f.byweekday||null!==f.byeaster))switch(f.freq){case this.YEARLY:f.bymonth||(f.bymonth=f.dtstart.getMonth()+1),f.bymonthday=f.dtstart.getDate();break;case this.MONTHLY:f.bymonthday=f.dtstart.getDate();break;case this.WEEKLY:f.byweekday=e.jqx.scheduler.utilities.getWeekday(f.dtstart)}if(null===f.bymonth||f.bymonth instanceof Array||(f.bymonth=[f.bymonth]),null===f.byyearday||f.byyearday instanceof Array||(f.byyearday=[f.byyearday]),null===f.bymonthday)f.bymonthday=[],f.bynmonthday=[];else if(f.bymonthday instanceof Array){var D=[],b=[];for(v=0;v<f.bymonthday.length;v++){var x=f.bymonthday[v];x>0?D.push(x):x<0&&b.push(x)}f.bymonthday=D,f.bynmonthday=b}else f.bymonthday<0?(f.bynmonthday=[f.bymonthday],f.bymonthday=[]):(f.bynmonthday=[],f.bymonthday=[f.bymonthday]);if(null===f.byweekno||f.byweekno instanceof Array||(f.byweekno=[f.byweekno]),null===f.byweekday)f.bynweekday=null;else if("number"==typeof f.byweekday)f.byweekday=[f.byweekday],f.bynweekday=null;else if(f.byweekday instanceof h)!f.byweekday.n||f.freq>this.MONTHLY?(f.byweekday=[f.byweekday.weekday],f.bynweekday=null):(f.bynweekday=[[f.byweekday.weekday,f.byweekday.n]],f.byweekday=null);else{var w=[],q=[];for(v=0;v<f.byweekday.length;v++){var j=f.byweekday[v];"number"==typeof j?w.push(j):!j.n||f.freq>this.MONTHLY?w.push(j.weekday):q.push([j.weekday,j.n])}f.byweekday=o(w)?w:null,f.bynweekday=o(q)?q:null}if(null===f.byhour?f.byhour=f.freq<this.HOURLY?[f.dtstart.getHours()]:null:"number"==typeof f.byhour&&(f.byhour=[f.byhour]),null===f.byminute?f.byminute=f.freq<this.MINUTELY?[f.dtstart.getMinutes()]:null:"number"==typeof f.byminute&&(f.byminute=[f.byminute]),null===f.bysecond?f.bysecond=f.freq<this.SECONDLY?[f.dtstart.getSeconds()]:null:"number"==typeof f.bysecond&&(f.bysecond=[f.bysecond]),f.freq>=this.HOURLY)this.timeset=null;else{if(this.timeset=[],f.byhour)for(v=0;v<f.byhour.length;v++)for(var k=f.byhour[v],A=0;A<f.byminute.length;A++)for(var T=f.byminute[A],F=0;F<f.bysecond.length;F++){var S=f.bysecond[F];this.timeset.push(new e.jqx.scheduler.utilities.Time(k,T,S))}e.jqx.scheduler.utilities.sort(this.timeset)}return this}}(jqxBaseFramework),function(e){"use strict";e.extend(e.jqx._jqxScheduler.prototype,{_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var r=parseInt(i[0].substring(5)),n=parseInt(i[1]),a=parseInt(i[2]),o=parseInt(i[3].substring(1,4)),l={r:r,g:n,b:a},d=this._rgbToHex(l);return 0==r&&0==n&&0==a&&0==o?"#ffffff":"#"+d}l={r:r=parseInt(i[0].substring(4)),g:n=parseInt(i[1]),b:a=parseInt(i[2].substring(1,4))};return"#"+(d=this._rgbToHex(l))}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},exportData:function(t){a=this;if(!e.jqx.dataAdapter.ArrayExporter)throw"jqxScheduler: Missing reference to jqxdata.export.js!";var i=this.exportSettings.serverURL,r=this.exportSettings.characterSet,n=this.exportSettings.fileName;void 0===n&&(n="jqxScheduler");var a=this;if("ical"!=t&&"ics"!=t){var o=this.getDataAppointments(),l=new Array,d={},s={},c=this.host.find(".jqx-grid-cell:first");c.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),c.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var u="cell",h=1,p="column",y=1,g=e(this.columns.records[0].element),m=0;e.each(this.appointmentDataFields,function(e,i){if(d[i]={},d[i].text=i,d[i].width=100,d[i].formatString="",d[i].localization=a.schedulerLocalization,"from"==e||"to"==e?(d[i].type="date",d[i].formatString=a.exportSettings.dateTimeFormatString):d[i].type="string",d[i].cellsAlign="left",l.push(d[i]),u="cell"+h,p="column"+y,"html"==t||"xls"==t||"pdf"==t){var r=function(e,r,n,o,l,c,u,h,p){s[e]={},void 0!=r&&(s[e]["font-size"]=r.css("font-size"),s[e]["font-weight"]=r.css("font-weight"),s[e]["font-style"]=r.css("font-style"),s[e]["background-color"]=a._getexportcolor(r.css("background-color")),s[e].color=a._getexportcolor(r.css("color")),s[e]["border-color"]=a._getexportcolor(r.css("border-top-color")),n?s[e]["text-align"]="left":(s[e]["text-align"]="left",s[e].formatString="",s[e].dataType="string","from"!=u&&"to"!=u||(s[e].dataType="date",s[e].formatString=a.exportSettings.dateTimeFormatString)),"html"!=t&&"pdf"!=t||(s[e]["border-top-width"]=r.css("border-top-width"),s[e]["border-left-width"]=r.css("border-left-width"),s[e]["border-right-width"]=r.css("border-right-width"),s[e]["border-bottom-width"]=r.css("border-bottom-width"),s[e]["border-top-style"]=r.css("border-top-style"),s[e]["border-left-style"]=r.css("border-left-style"),s[e]["border-right-style"]=r.css("border-right-style"),s[e]["border-bottom-style"]=r.css("border-bottom-style"),n?(0==m&&(s[e]["border-left-width"]=r.css("border-right-width")),s[e]["border-top-width"]=r.css("border-right-width"),s[e]["border-bottom-width"]=r.css("border-bottom-width")):(0==m&&(s[e]["border-left-width"]="1px"),s[e]["border-right-width"]="1px")),n&&(d[i].style=e),d[i].cellStyle=e)};r(p,g,!0,0,0,0,e),y++,r(u,c,!1,0,0,0,e),h++}m++});var f=e.jqx.dataAdapter.ArrayExporter(o,d,s,i);if(null==n){this._renderrows();var v=f.exportTo(t);return setTimeout(function(){a.exporting=!1},50),v}f.exportToFile(t,n,i,r),this._renderrows(),setTimeout(function(){a.exporting=!1},50)}else if(a._resources.length>1&&n&&a.resourcesInMultipleICSFiles)for(var o=this.getAppointments(),D=0;D<a._resources.length;D++){for(var b=a._resources[D],x=new Array,w=0;w<o.length;w++){var q=o[w];q.resourceId==b&&x.push(q)}for(var j="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",k=0;k<x.length;k++)j+=x[k].jqxAppointment.toString(),k<x.length-1&&(j+="\n");for(var A=(j+="\nEND:VCALENDAR").length,T=new Uint8Array(new ArrayBuffer(A)),k=0;k<A;k++)T[k]=j.charCodeAt(k);F=new Blob([T],{type:"application/calendar"});saveAs(F,n+"_"+b+".ics")}else{for(var o=this.getAppointments(),j="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",D=0;D<o.length;D++)j+=o[D].jqxAppointment.toString(),D<o.length-1&&(j+="\n");var A=(j+="\nEND:VCALENDAR").length,T=new Uint8Array(new ArrayBuffer(A));for(D=0;D<A;D++)T[D]=j.charCodeAt(D);var F=new Blob([T],{type:"application/calendar"});if(!n)return j;saveAs(F,n+".ics")}},shadeColor:function(e,t){var i=parseInt(e.slice(1),16),r=t<0?0:255,n=t<0?-1*t:t,a=i>>16,o=i>>8&255,l=255&i;return"#"+(16777216+65536*(Math.round((r-a)*n)+a)+256*(Math.round((r-o)*n)+o)+(Math.round((r-l)*n)+l)).toString(16).slice(1)},hexToRgba:function(t,i){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),n=function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<10;return void 0==this.alpha||t?"rgb("+this.r+", "+this.g+", "+this.b+")":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")};return void 0==i?r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),toString:n}:null:(i>1?i=1:i<0&&(i=0),r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),alpha:i,toString:n}:null)},getAppointmentColors:function(e){var t="",i="",r="";t=this.hexToRgba(e,this.appointmentOpacity).toString(),i=e;return r=function(e){return 255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White"}(this.hexToRgba(e,.7)),{background:t,color:r,border:i}},getColors:function(e){-1==e&&(e=0);var t="",i="",r="",n=this.resources?this.resources.colorScheme:null;n||(n="scheme01");for(var a=new Array,o=0;o<this.colorSchemes.length;o++)if(this.colorSchemes[o].name==n){a=this.colorSchemes[o].colors;break}for(;e>a.length-1;){var l=parseInt(n.substring(6));l>=27&&(l=0),a=a.concat(this.colorSchemes[l].colors),l++}t=a[e],t=this.hexToRgba(a[e],.7).toString(),i=a[e];return r=function(e){return 255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White"}(this.hexToRgba(a[e],.7)),{background:t,color:r,border:i}},getAppointments:function(){for(var e=this.uiappointments,t=new Array,i=0;i<e.length;i++){var r=e[i].boundAppointment;r.toString=r.jqxAppointment.toString,t.push(r)}return t},getDataAppointments:function(){for(var t=this.uiappointments,i=new Array,r=0;r<t.length;r++){var n=t[r].boundAppointment,a={};e.each(this.appointmentDataFields,function(t,i){if(a[i]=n[t],"from"!=t&&"to"!=t||"date"!=e.type(n[t])&&(a[i]=n[t].toDate()),"recurrencePattern"==t&&n[t]&&(a[i]=n[t].toString()),"recurrenceException"==t&&n[t]){a[i]="";for(var r=0;r<n[t].length;r++)a[i]+=n[t][r].toString(),r<n[t].length-1&&(a[i]+=",")}try{JSON&&(a.toString=function(){return JSON.stringify(a)})}catch(e){}}),i.push(a)}return i},_refreshColumns:function(){this._initializeColumns(),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.children().remove();var t=this.columnsHeight;t=this._preparecolumnGroups(),this.columnsheader.height(t),this._rendercolumnheaders()},_refreshColumnTitles:function(){var t=this._views[this._view].type,i=this._views[this._view],r=this,n=new Array;if(r.columns.records[0].timeColumn&&n.push({}),i.timeRuler&&i.timeRuler.timeZones)for(y=0;y<i.timeRuler.timeZones.length;y++)n.push({});for(var a=function(t,a,o){var l="halfHour";i.timeRuler&&i.timeRuler.scale&&(l=i.timeRuler.scale);var d=24,s=0,c=23;if(i.timeRuler){if(void 0!=i.timeRuler.scaleStartHour)s=parseInt(i.timeRuler.scaleStartHour);if(void 0!=i.timeRuler.scaleEndHour)c=parseInt(i.timeRuler.scaleEndHour);s<0&&(s=0),c<0&&(c=23),s>23&&(s=0),c>23&&(c=23),d=c-s+1}if(l)switch(l){case"sixtyMinutes":case"hour":1;break;case"thirdyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}new Array;var u="auto";i.timeRuler&&i.timeRuler.formatString&&(u=i.timeRuler.formatString);var h=s,p=d,y=t.addHours(h);if(r.rtl)y=t.addHours(c);for(var g=0;g<p;g++){var m=y.toDate();if("auto"===u)if(0==m.getHours()&&0==m.getMinutes()||12==m.getHours()&&0==m.getMinutes())f="hh tt";else f="hh:mm";else if(e.isFunction(u))var f=u(m);else f=u;e.jqx.dataFormat.isDate(m)&&(m=e.jqx.dataFormat.formatdate(m,f,r.schedulerLocalization)),y=r.rtl?y.addMinutes(-60):y.addMinutes(60),n.push({}),r.columns.records[n.length-1].text=m}},o=(this.tableColumns,0);o<this.tableColumns;o++)switch(t){case"dayView":var l=this.getViewStart();!1===i.showWeekends&&(0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1)),0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1))),n.push({}),this.columns.records[n.length-1].text=this._getDayName(l.dayOfWeek());break;case"weekView":case"monthView":for(y=0;y<7;y++){c=this.schedulerLocalization.firstDay+y;(!1!==i.showWeekends||0!==y&&6!==y)&&(n.push({}),r.rtl&&(c=6-c),this.columns.records[n.length-1].text=this._getDayName(c))}break;case"timelineDayView":r._resources[o]&&r._resources[o];a(r.getViewStart());break;case"timelineWeekView":for(y=0;y<7;y++){c=this.schedulerLocalization.firstDay+y;(!1!==i.showWeekends||0!==y&&6!==y)&&(r.rtl&&(c=6-c),a(r.getViewStart().addDays(y),this._getDayName(c)))}break;case"timelineMonthView":var d=r.getViewStart(),s="auto";i.timeRuler&&i.timeRuler.formatString&&(s=i.timeRuler.formatString);for(y=0;y<41;y++){var c=d.dayOfWeek();if(!1!==i.showWeekends||0!==c&&6!==c){r.rtl&&(c=6-c);var u=d.toDate();if("auto"===s){h="dd";1===(u=d.toDate()).getDate()&&(h="MMM dd")}else if(e.isFunction(s))var h=s(u);else h=s;e.jqx.dataFormat.isDate(u)&&(u=e.jqx.dataFormat.formatdate(u,h,r.schedulerLocalization)),d=d.addDays(1),n.push({}),r.columns.records[n.length-1].text=u}}}for(var p=r.columnsHeight,y=0;y<this.columns.records.length;y++){var g=this.columns.records[y];if(!g.timeColumn){r.columnGroups&&r.columnGroups.length&&(p=function(e,t){var i=r.columnGroupslevel*r.columnsHeight;return i-=t.level*r.columnsHeight}(g.datafield,g));var m=null!=g.renderer?g.renderer(g.text,g.align,p):r._rendercolumnheader(g.text,g.align,p,g);null==m&&(m=r._rendercolumnheader(g.text,g.align,p,r)),null!=g.renderer&&(m=e(m)),e(g.element).html(m)}}},initRepeatPanels:function(t,i,r){var n=this,a=e("<div></div>");i.append(a);var o=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(a),l=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),d=e("<div></div>").appendTo(l),s=e("<div></div>");i.append(s);var c=e("<div></div>");s.append(c);c.detach(),n.editDialogFields.repeatEndPanel={},n.editDialogFields.repeatEndPanelContainer=c,function(t,i){var a=e("<div></div>").appendTo(t),o=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(a),l=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),d=e("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+n.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(l);d.jqxRadioButton({rtl:n.rtl,groupName:"end"+i,theme:n.theme,width:200,height:25,checked:!0}),n.editDialogFields[i].repeatEndNever=d,n.editDialogFields[i].repeatEndNeverLabel=o;var s=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(a),c=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),u=e("<div style='position:relative;  float:left;'><span style='margin-left:2px;'>"+n.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(c);u.jqxRadioButton({rtl:n.rtl,groupName:"end"+i,theme:n.theme,width:60,height:25,checked:!1});var h=e("<div style='margin-left: 3px; float:left;'></div>").appendTo(c);h.jqxNumberInput({rtl:n.rtl,decimal:10,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(c);n.editDialogFields[i].repeatEndAfter=u,n.editDialogFields[i].repeatEndAfterValue=h,n.editDialogFields[i].repeatEndAfterLabel=s;var p=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(a),y=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),g=e("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+n.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(y);g.jqxRadioButton({rtl:n.rtl,groupName:"end"+i,theme:n.theme,width:60,height:25,checked:!1});var m=e("<div style='margin-left: 3px; float:left;'></div>").appendTo(y);m.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:n.rtl,localization:n._getDateTimeInputLocalization(),firstDayOfWeek:n.schedulerLocalization.firstDay,todayString:n.schedulerLocalization.todayString,clearString:n.schedulerLocalization.clearString,value:r,formatString:n.editDialogDateFormatString,height:25,width:150,theme:n.theme});m.jqxDateTimeInput("getInstance");n.editDialogFields[i].repeatEndOn=g,n.editDialogFields[i].repeatEndOnValue=m,n.editDialogFields[i].repeatEndOnLabel=p}(c,"repeatEndPanel");var u=function(){var t=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),i=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(t),r=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(t),a=e("<div style='float:left;'></div>").appendTo(r);a.jqxNumberInput({rtl:n.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(r);n.editDialogFields.daily={},n.editDialogFields.daily.repeatDayInterval=a,n.editDialogFields.daily.repeatDayLabel=i,n.editDialogFields.daily.panel=t,t.detach(),n.editDialogFields.weekly={};var o=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),l=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(o),d=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),s=e("<div style='float:left;'></div>").appendTo(d);s.jqxNumberInput({rtl:n.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(d);n.editDialogFields.weekly.repeatWeekInterval=s,n.editDialogFields.weekly.repeatWeekIntervalLabel=l;var c=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(o),u=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),h=e("<div style='float:left;'></div>").appendTo(u);n.editDialogFields.weekly.repeatDaysLabel=c,n.editDialogFields.weekly.repeatDays=new Array;for(M=0;M<7;M++){var p=n._getDayName(M,"firstTwoLetters"),y=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+p+"</span></div>");h.append(y);var g=1==M;y.jqxCheckBox({rtl:n.rtl,height:25,checked:g,width:50,theme:n.theme}),n.editDialogFields.weekly.repeatDays.push(y)}n.editDialogFields.weekly.panel=o,o.detach(),n.editDialogFields.monthly={};var m=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),f=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(m),v=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(m),D=e("<div style='float:left;'></div>").appendTo(v);D.jqxNumberInput({rtl:n.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(v);n.editDialogFields.monthly.repeatMonth=D,n.editDialogFields.monthly.repeatMonthLabel=f;var b=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(m),x=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(m),w=e("<div style='float:left;'></div>").appendTo(x),q=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+n.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(w);q.jqxRadioButton({rtl:n.rtl,groupName:"month",height:25,width:60,checked:!0,theme:n.theme});var j=e("<div style='float:left;'></div>").appendTo(w);j.jqxNumberInput({rtl:n.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme}),n.editDialogFields.monthly.repeatMonthDay=j,n.editDialogFields.monthly.repeatMonthDayBool=q,n.editDialogFields.monthly.repeatMonthDayLabel=b;var k=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(m),A=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(m),T=e("<div style='float:left;'></div>").appendTo(A),F=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(T);F.jqxRadioButton({groupName:"month",height:25,width:25,checked:!1,theme:n.theme});var S=e("<div style='float:left;'></div>").appendTo(T),E=new Array;E.push(n.schedulerLocalization.editDialogRepeatFirstString),E.push(n.schedulerLocalization.editDialogRepeatSecondString),E.push(n.schedulerLocalization.editDialogRepeatThirdString),E.push(n.schedulerLocalization.editDialogRepeatFourthString),E.push(n.schedulerLocalization.editDialogRepeatLastString),S.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:E,autoDropDownHeight:!0,height:25,width:"auto",theme:n.theme});for(var L=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(T),O=new Array,M=0;M<7;M++){p=n._getDayName(M);O.push(p)}L.jqxDropDownList({rtl:n.rtl,dropDownWidth:150,autoDropDownHeight:!0,selectedIndex:1,source:O,height:25,width:"auto",theme:n.theme}),n.editDialogFields.monthly.repeatDayOfWeekBool=F,n.editDialogFields.monthly.repeatDayOfWeek=L,n.editDialogFields.monthly.repeatDayOfWeekLabel=k,n.editDialogFields.monthly.repeatDayOfWeekType=S,n.editDialogFields.monthly.panel=m,m.detach(),n.editDialogFields.yearly={};var _=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),C=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(_),I=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(_),R=e("<div style='float:left;'></div>").appendTo(I);R.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+n.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(I);n.editDialogFields.yearly.repeatYear=R,n.editDialogFields.yearly.repeatYearLabel=C;var B=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(_),W=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(_),H=e("<div style='float:left;'></div>").appendTo(W),z=e("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(H);z.jqxRadioButton({rtl:n.rtl,groupName:"year",height:25,width:25,checked:!0,theme:n.theme}),n.editDialogFields.yearly.repeatYearBool=z,n.editDialogFields.yearly.repeatYearBoolLabel=B;for(var N=e("<div style='float:left;'></div>").appendTo(H),P=new Array,M=0;M<12;M++){ee=n.schedulerLocalization.months.names[M];P.push(ee)}N.jqxDropDownList({selectedIndex:0,height:25,dropDownWidth:150,width:"auto",source:P,theme:n.theme}),n.editDialogFields.yearly.repeatYearMonth=N;var Y=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(H);Y.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:n.theme}),n.editDialogFields.yearly.repeatYearDay=Y;var Z=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(_),U=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(_),V=e("<div style='float:left;'></div>").appendTo(U),J=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(V);J.jqxRadioButton({rtl:n.rtl,groupName:"year",height:25,width:25,checked:!1,theme:n.theme});var Q=e("<div style='float:left;'></div>").appendTo(V);n.editDialogFields.yearly.repeatDayOfWeekBool=J,n.editDialogFields.yearly.repeatDayOfWeekType=Q,n.editDialogFields.yearly.repeatDayOfWeekLabel=Z;var K=new Array;K.push(n.schedulerLocalization.editDialogRepeatFirstString),K.push(n.schedulerLocalization.editDialogRepeatSecondString),K.push(n.schedulerLocalization.editDialogRepeatThirdString),K.push(n.schedulerLocalization.editDialogRepeatFourthString),K.push(n.schedulerLocalization.editDialogRepeatLastString),Q.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:K,autoDropDownHeight:!0,height:25,width:"auto",theme:n.theme});var X=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(V);n.editDialogFields.yearly.repeatDayOfWeek=X;for(var G=new Array,M=0;M<7;M++){p=n._getDayName(M);G.push(p)}X.jqxDropDownList({rtl:n.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:!0,source:G,height:25,width:"auto",theme:n.theme});for(var P=new Array,$=(e("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+n.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(V),e("<div style='margin-left: 5px; float:left;'></div>").appendTo(V)),M=0;M<12;M++){var ee=n.schedulerLocalization.months.names[M];P.push(ee)}n.editDialogFields.yearly.repeatDayOfWeekMonth=$,$.jqxDropDownList({rtl:n.rtl,dropDownWidth:150,selectedIndex:0,source:P,height:25,width:"auto",theme:n.theme}),n.editDialogFields.yearly.panel=_,_.detach()};n.editAppointment&&n.editAppointment.rootAppointment,u();var h=e("<div></div>");i.append(h);var p=e("<div class='jqx-scheduler-edit-dialog-label'>"+n.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(h),y=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(h),g=e("<div style='position:relative; top:2px;'>"+n.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(y);g.jqxCheckBox({height:25,width:"100%",theme:n.theme}),h.hide(),n.editDialogFields.resetExceptions=g,n.editDialogFields.resetExceptionsLabel=p,n.editDialogFields.resetExceptionsContainer=h;var m=new Array;m.push(n.schedulerLocalization.editDialogRepeatNeverString),m.push(n.schedulerLocalization.editDialogRepeatDailyString),m.push(n.schedulerLocalization.editDialogRepeatWeeklyString),m.push(n.schedulerLocalization.editDialogRepeatMonthlyString),m.push(n.schedulerLocalization.editDialogRepeatYearlyString),d.jqxDropDownList({rtl:n.rtl,width:"100%",height:25,autoDropDownHeight:!0,theme:n.theme,source:m,selectedIndex:0}),n.editDialogFields.repeat=d,n.editDialogFields.repeatLabel=o,n.editDialogFields.repeatContainer=a,n.editDialogFields.repeatPanel=s,this.addHandler(d,"change",function(e){var r=e.args.item.index;!function(){switch(s.children().detach(),r){case 0:break;case 1:n.editDialogFields.daily.panel.css("visibility","visible"),s.append(n.editDialogFields.daily.panel);break;case 2:n.editDialogFields.weekly.panel.css("visibility","visible"),s.append(n.editDialogFields.weekly.panel);break;case 3:n.editDialogFields.monthly.panel.css("visibility","visible"),s.append(n.editDialogFields.monthly.panel);break;case 4:n.editDialogFields.yearly.panel.css("visibility","visible"),s.append(n.editDialogFields.yearly.panel)}s.append(c),0==r?n.editDialogFields.repeatEndPanelContainer.hide():n.editDialogFields.repeatEndPanelContainer.show(),n.isTouchDevice()||(t.jqxWindow({height:150}),t.jqxWindow({height:i[0].scrollHeight+40}))}()})},_initMenu:function(){var t=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu)return;this.removeHandler(this.menu,"keydown"),this.removeHandler(this.menu,"closed"),this.removeHandler(this.menu,"itemclick"),this.menu.jqxMenu("destroy"),this.menu.removeData(),this.menu.remove()}this.menuitemsarray=new Array,this.menu=e('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>'),this.host.append(this.menu),this.addHandler(e(window),"orientationchange.jqxscheduler"+this.element.id,function(){t.menu.jqxMenu("close"),t._hasOpenedMenu=!1}),this.addHandler(e(window),"orientationchanged.jqxscheduler"+this.element.id,function(){t.menu.jqxMenu("close"),t._hasOpenedMenu=!1}),this.removeHandler(this.menu,"keydown"),this.addHandler(this.menu,"keydown",function(e){27==e.keyCode&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1,t.focus())}),this.addHandler(this.menu,"open",function(e){t.contextMenuOpen&&t.contextMenuOpen(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e),t._raiseEvent("contextMenuOpen",{menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),t._removeFeedbackAndStopResize()}),this.addHandler(this.menu,"close",function(e){t.contextMenuClose&&t.contextMenuClose(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e),t._hasOpenedMenu=!1,document.activeElement&&document.activeElement.className.indexOf("jqx-menu")>=0&&!t.menuOpening&&t.focus(),t._raiseEvent("contextMenuClose",{menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),this.addHandler(this.host,"contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.menu,"itemclick",function(e){var i=t.menu.jqxMenu("getItem",e.args.id);if(t._raiseEvent("contextMenuItemClick",{item:i,menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),t.contextMenuItemClick&&1==(n=t.contextMenuItemClick(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e)))return new Date-t.renderedTime>500&&t._renderrows(),t.menu.jqxMenu("close"),void(t._hasOpenedMenu=!1);if("createAppointment"==i.id)t._initDialog(),t._openDialog(),"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);else{if("editAppointment"!=i.id)return"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),!0;var r=t.getJQXAppointmentByElement(t.selectedAppointment);if(!r.readOnly){var n=t._initDialog(r);!1!==n&&t._openDialog()}"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1)}});var i=new Array;i.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"}),i.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"});var r={rtl:this.rtl,keyboardNavigation:!0,source:i,popupZIndex:999999,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0};t.contextMenuCreate&&t.contextMenuCreate(t.menu,r),t._raiseEvent("contextMenuCreate",{menu:t.menu,settings:r}),this.menu.jqxMenu(r)}},_initDialog:function(t,i){var r=this,n=null;if(t&&t.isRecurrentAppointment()&&!r.editRecurrenceDialog.jqxWindow("isOpen")){var a=(l=r.host.coord()).top+r.host.height()/2-r.editRecurrenceDialog.height()/2,o=l.left+r.host.width()/2-r.editRecurrenceDialog.width()/2;r.editRecurrenceDialog.find("button:first").focus(),setTimeout(function(){r.editRecurrenceDialog.find("button:first").focus()},25),r.editRecurrenceDialog.jqxWindow("move",o,a),r.editRecurrenceDialog.jqxWindow("open"),r.editSeries=function(e){e?(r._initDialog(t.rootAppointment),r._openDialog()):(r._initDialog(t),r._openDialog())},r.overlay.show(),r.overlay.width(r.host.width()),r.overlay.height(r.host.height());var l=r.host.coord();return r.overlay.offset(l),r._editDialog||r._initDialog(),!1}if(r.editAppointment=t,t||(n=r.getSelection())||(r.focus(),r.focusedCell&&(r.focusedCell.setAttribute("data-selected","true"),r._lastSelectedCell=r.focusedCell,r._updateCellsSelection(r.focusedCell),n=r.getSelection())),n||t){var d=n?n.from:t.from,s=n?n.to:t.to,c=r.getSelectedCells();c.length>0&&c[c.length-1].getAttribute("data-end-date")&&(s=e.jqx.scheduler.utilities.getEndOfDay(s)),r._editStart=d,r._editEnd=s}if(r.editDialogFields&&r.editDialogFields.resourceContainer&&r._resources.length>0){for(var u=new Array,h=0;h<r._resources.length;h++)u.push(r._resources[h]);var p=!0;u.length>10&&(p=!1),r.editDialogFields.resource.jqxDropDownList({source:u,selectedIndex:0,autoDropDownHeight:p}),t||r.editDialogFields.resource.val(n.resourceId)}if(r.editDialogFields&&r.editDialogFields.repeatContainer&&(t&&t.rootAppointment?(r.editDialogFields.repeatContainer.hide(),r.editDialogFields.repeatPanel.hide()):(r.editDialogFields.repeatContainer.show(),r.editDialogFields.repeatPanel.show())),null==r._editDialog){r._editDialog=null;var y=null==t?r.schedulerLocalization.editDialogCreateTitleString:r.schedulerLocalization.editDialogTitleString,g=e("<div><div>"+y+"</div><div id='dialog"+this.element.id+"'></div></div>");e(g).jqxWindow({rtl:r.rtl,zIndex:99999,autoFocus:!1,autoOpen:!1,animationType:"none",theme:r.theme,width:530,maxHeight:800,minHeight:110,resizable:!1,initContent:function(){r.editDialogFields={},null==d&&null==s&&r._editStart&&r._editEnd&&(d=r._editStart,s=r._editEnd),g.jqxWindow("setTitle",y);var i=e(g.children()[1]),a=e("<div></div>");i.append(a);var o=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(a),l=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a),c=e("<input type='text'/>").appendTo(l);c.jqxInput({rtl:r.rtl,width:"100%",height:25,theme:r.theme}),c.css("box-sizing","border-box"),r.editDialogFields.subject=c,r.editDialogFields.subjectLabel=o,r.editDialogFields.subjectContainer=a;var u=e("<div></div>");i.append(u);var h=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogLocationString+"</div>").appendTo(u),p=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(u),m=e("<input type='text'/>").appendTo(p);m.jqxInput({rtl:r.rtl,width:"100%",height:25,theme:r.theme}),m.css("box-sizing","border-box"),r.editDialogFields.location=m,r.editDialogFields.locationLabel=h,r.editDialogFields.locationContainer=u;var f=e("<div></div>");i.append(f);var v=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogFromString+"</div>").appendTo(f),D=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),b=e("<div></div>").appendTo(D),x=null;d?x=d.toDate():((T=new Date).setHours(9,0,0),x=T),b.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,value:x,formatString:r.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:r.theme}),r.editDialogFields.from=b,r.editDialogFields.fromLabel=v,r.editDialogFields.fromContainer=f;var w=e("<div></div>");i.append(w);var q=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogToString+"</div>").appendTo(w),j=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(w),k=e("<div></div>").appendTo(j),A=null;if(s)A=s.toDate();else{var T=new Date;T.setHours(10,0,0),A=T}k.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,value:A,formatString:r.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:r.theme}),r.editDialogFields.to=k,r.editDialogFields.toLabel=q,r.editDialogFields.toContainer=w,r._changeFromUser=!0,r.addHandler(b,"change",function(t){if(r._changeFromUser){t.args;var i=t.args.oldValue,n=k.val("date"),a=new e.jqx.date(n)-new e.jqx.date(i);if(a>0){var o=1e4*a,l=e.jqx.timeSpan(o),d=new e.jqx.date(t.args.newValue).add(l);k.val(d.toDate())}}}),r.addHandler(k,"change",function(e){if(r._changeFromUser){e.args;var t=e.args.oldValue,i=k.val("date");b.val("date")>=i&&k.val(t)}});var F=e("<div></div>");i.append(F);var S=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(F),E=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(F),L=e("<div style='position:relative;'></div>").appendTo(E);L.jqxCheckBox({rtl:r.rtl,height:25,width:25,theme:r.theme}),r.editDialogFields.allDay=L,r.editDialogFields.allDayLabel=S,r.editDialogFields.allDayContainer=F,r.addHandler(F,"change",function(e){e.args.checked?(k.jqxDateTimeInput({showTimeButton:!1,formatString:r.editDialogDateFormatString}),b.jqxDateTimeInput({showTimeButton:!1,formatString:r.editDialogDateFormatString})):(k.jqxDateTimeInput({showTimeButton:!0,formatString:r.editDialogDateTimeFormatString}),b.jqxDateTimeInput({showTimeButton:!0,formatString:r.editDialogDateTimeFormatString}))}),e.jqx.scheduler.utilities.getStartOfDay(d).equals(d)&&e.jqx.scheduler.utilities.getEndOfDay(s).equals(s)&&r.editDialogFields.allDay.val(!0),(r._views[r._view].type.indexOf("month")>=0||d&&d.equals(s)||s&&s.equals(e.jqx.scheduler.utilities.getEndOfDay(s)))&&r.editDialogFields.allDay.val(!0);var O=e("<div></div>");i.append(O);var M=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(O),_=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(O),C=e("<div></div>").appendTo(_),I=new Array;I.push({displayName:r.schedulerLocalization.editDialogSelectTimeZoneString,id:null}),I=I.concat(r.timeZones);for(re=0;re<I.length;re++){var R=I[re],B=R.displayName.indexOf(")");if(B>=0)W=R.displayName.substring(2+B);else var W=R.displayName;R.searchName=W}C.jqxDropDownList({rtl:r.rtl,placeHolder:r.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",height:25,theme:r.theme,searchMember:"searchName",source:I,displayMember:"displayName",valueMember:"id"}),r.editDialogFields.timeZone=C,r.editDialogFields.timeZoneLabel=M,r.editDialogFields.timeZoneContainer=O,r.initRepeatPanels(g,i,s.toDate()),r.editDialogFields&&r.editDialogFields.repeatContainer&&(r.editAppointment&&r.editAppointment.rootAppointment?(r.editDialogFields.repeatContainer.hide(),r.editDialogFields.repeatPanel.hide()):(r.editDialogFields.repeatContainer.show(),r.editDialogFields.repeatPanel.show()));var H=e("<div></div>");i.append(H);var z=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo(H),N=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(H),P=e("<textarea type='text' resizable='off' style='position:relative; top: 3px; padding:3px;'></textarea>").appendTo(N);P.jqxInput({rtl:r.rtl,height:40,width:"100%",theme:r.theme}),P.css("box-sizing","border-box"),r.editDialogFields.description=P,r.editDialogFields.descriptionLabel=z,r.editDialogFields.descriptionContainer=H;var Y=e("<div></div>");i.append(Y);var Z=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogColorString+"</div>").appendTo(Y),U=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(Y),V=e("<div></div>").appendTo(U);V.jqxDropDownList({rtl:r.rtl,selectedIndex:-1,placeHolder:r.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:function(e,t){if(t<0)return e.css("top","4px"),e.css("position","relative"),e[0].outerHTML;var i="";return i+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+r.colors[t]+"; margin-left: 2%;'></div>"},renderer:function(e){if(-1==e)return"";var t="",t="";return t+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+r.colors[e]+"; margin-left: 2%;'></div>"},source:r.colors,height:25,width:"100%",theme:r.theme}),r.editDialogFields.color=V,r.editDialogFields.colorLabel=Z,r.editDialogFields.colorContainer=Y;var J=e("<div></div>");i.append(J);var Q=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogStatusString+"</div>").appendTo(J),K=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(J),X=e("<div></div>").appendTo(K);X.jqxDropDownList({rtl:r.rtl,selectedIndex:2,autoDropDownHeight:!0,source:r.schedulerLocalization.editDialogStatuses,height:25,width:"100%",theme:r.theme}),r.editDialogFields.status=X,r.editDialogFields.statusLabel=Q,r.editDialogFields.statusContainer=J;var G=e("<div></div>");i.append(G);for(var $=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(G),ee=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(G),te=e("<div></div>").appendTo(ee),ie=new Array,re=0;re<r._resources.length;re++)ie.push(r._resources[re]);var ne=!0;ie.length>10&&(ne=!1),te.jqxDropDownList({rtl:r.rtl,source:ie,selectedIndex:0,autoDropDownHeight:ne,height:25,width:"100%",theme:r.theme}),r.editDialogFields.resource=te,r.editDialogFields.resourceLabel=$,r.editDialogFields.resourceContainer=G,0==ie.length&&G.hide(),!t&&n&&r.editDialogFields.resource.val(n.resourceId);var ae=e("<div></div>");i.append(ae);var oe=e("<div style='width:100%;' class='jqx-scheduler-edit-dialog-field'></div>").appendTo(ae),le=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogCancelString+"</button>").appendTo(oe),de=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(oe),se=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(oe),ce=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(oe),ue=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogSaveString+"</button>").appendTo(oe),he=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(oe),pe=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(oe),ye=25;r.isTouchDevice()&&(ye=null),de.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),se.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),ce.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),ue.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),le.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),he.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),pe.jqxButton({rtl:r.rtl,theme:r.theme,height:ye}),he.hide(),pe.hide(),r.editDialogFields.saveOccurrenceButton=pe,r.editDialogFields.saveSeriesButton=he,r.editDialogFields.saveButton=ue,r.editDialogFields.cancelButton=le,r.editDialogFields.deleteButton=de,r.editDialogFields.deleteSeriesButton=se,r.editDialogFields.deleteExceptionsButton=ce,r.editDialogFields.buttons=oe,r.addHandler(de,"click",function(){g.jqxWindow("close"),r.overlay.hide(),r._deleteAppointment(r.editAppointment)}),r.addHandler(le,"click",function(){g.jqxWindow("close"),r.overlay.hide()}),r.addHandler(pe,"click",function(){if(r.editAppointment.isException()){for(var e=r.editAppointment.rootAppointment?r.editAppointment.rootAppointment.exceptions:r.editAppointment.exceptions,t=0;t<e.length;t++)if(e[t].occurrenceFrom.equals(r.editAppointment.occurrenceFrom)){e[t]=r.editAppointment;break}}else null!=r.editAppointment.rootAppointment?(r.editAppointment.rootAppointment.exceptions.push(r.editAppointment),r.editAppointment.rootAppointment.recurrenceException.push(r.editAppointment.occurrenceFrom)):(r.editAppointment.exceptions.push(r.editAppointment),r.editAppointment.recurrenceException.push(r.editAppointment.occurrenceFrom));r._setAppointmentPropertiesFromDialog(r.editAppointment,"occurrence")&&(r.changedAppointments[r.editAppointment.id]={type:"Update",appointment:r.editAppointment.boundAppointment},r._raiseEvent("appointmentChange",{appointment:r.editAppointment.boundAppointment}),r._renderrows(),g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(he,"click",function(){var e=r.editAppointment;e.rootAppointment&&(e=e.rootAppointment),r._setAppointmentPropertiesFromDialog(e,"series")&&(r.changedAppointments[e.id]={type:"Update",appointment:e.boundAppointment},r._raiseEvent("appointmentChange",{appointment:e.boundAppointment}),r._renderrows(),g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(ue,"click",function(){var t=!0;if(null==r.editAppointment){var i=new e.jqx.scheduler.appointment;(t=r._setAppointmentPropertiesFromDialog(i,"none"))&&r.addAppointment(i)}else r.editAppointment.rootAppointment?(pe.trigger("click"),t=!1):r.editAppointment.isRecurrentAppointment()?(he.trigger("click"),t=!1):(t=r._setAppointmentPropertiesFromDialog(r.editAppointment,"none"))&&(r.changedAppointments[r.editAppointment.id]={type:"Update",appointment:r.editAppointment?r.editAppointment.boundAppointment:null},r._raiseEvent("appointmentChange",{appointment:r.editAppointment.boundAppointment}),r._renderrows());t&&(g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(g,"close",function(e){r.overlay.hide(),r.focus(),r.editDialogClose&&r.editDialogClose(g,r.editDialogFields,r.editAppointment?r.editAppointment.boundAppointment:null),r._raiseEvent("editDialogClose",{dialog:g,fields:r.editDialogFields,appointment:r.editAppointment?r.editAppointment.boundAppointment:null})}),r.editDialogCreate&&r.editDialogCreate(g,r.editDialogFields,r.editAppointment),r._raiseEvent("editDialogCreate",{dialog:g,fields:r.editDialogFields,appointment:r.editAppointment?r.editAppointment.boundAppointment:null}),g.jqxWindow({height:i[0].scrollHeight+40})}}),r._editDialog=g}r.dialogOpenings||(r.dialogOpenings=0),r.removeHandler(r._editDialog,"open"),r.addHandler(r._editDialog,"open",function(a){if(!r.editDialogOpen||!r.editDialogFields||1!=r.editDialogOpen(g,r.editDialogFields,r.editAppointment?r.editAppointment.boundAppointment:null)){r.rtl&&(r._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(r.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl")),r._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(r.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl")),r.editDialogFields.saveOccurrenceButton.css("float","left"),r.editDialogFields.saveSeriesButton.css("float","left"),r.editDialogFields.saveButton.css("float","left"),r.editDialogFields.cancelButton.css("float","left"),r.editDialogFields.deleteButton.css("float","left"),r.editDialogFields.deleteSeriesButton.css("float","left"),r.editDialogFields.deleteExceptionsButton.css("float","left"),r.editDialogFields.buttons.css("width","auto"),r.editDialogFields.allDay.css("float","right")),setTimeout(function(){var e=r.editAppointment?r.editAppointment.boundAppointment:null;r.editAppointment&&r.editAppointment.rootAppointment&&(e=r.editAppointment.rootAppointment.boundAppointment),r._raiseEvent("editDialogOpen",{dialog:r._editDialog,fields:r.editDialogFields,appointment:e})});var o=function(){setTimeout(function(){i?r.editDialogFields.deleteButton.focus():(r.editDialogFields.subject.focus(),r.editDialogFields.subject.select())},1)},l=null==r.editAppointment?r.schedulerLocalization.editDialogCreateTitleString:r.schedulerLocalization.editDialogTitleString;if(r._editDialog.jqxWindow({title:l}),0==r.dialogOpenings&&!t)return r.dialogOpenings++,r.isTouchDevice()||(r._editDialog.jqxWindow({height:150}),r._editDialog.jqxWindow({height:e(r._editDialog.children())[1].scrollHeight+40})),r.editDialogFields.deleteButton.hide(),void o();r.editDialogFields&&(r.editDialogFields.subject.val(""),r.editDialogFields.location.val(""),o(),r.editDialogFields.resetExceptions.val(!1),r.editDialogFields.description.val(""),t||r.editDialogFields.deleteButton.hide(),t?(r.dialogOpenings++,r.editDialogFields.deleteButton.show(),r.editDialogFields.subject.val(t.subject),r.editDialogFields.location.val(t.location),r.editDialogFields.description.val(t.description),r.editDialogFields.timeZone.val(t.timeZone),r.colors.indexOf(t.borderColor)>=0?r.editDialogFields.color.val(t.borderColor):r.editDialogFields.color.jqxDropDownList("clearSelection"),r.editDialogFields.allDay.val(t.allDay),r.editDialogFields.resource.val(t.resourceId),r.editDialogFields.status.val(t.status),t.timeZone&&(t.from=t.from.toTimeZone(t.timeZone),t.to=t.to.toTimeZone(t.timeZone)),d=t.from,s=t.to,e.jqx.scheduler.utilities.getStartOfDay(d).equals(d)&&e.jqx.scheduler.utilities.getEndOfDay(s).equals(s)&&r.editDialogFields.allDay.val(!0),r._setAppointmentPropertiesToDialog(t,d,s,n?n.resourceId:null)):(r.editDialogFields.saveButton.show(),r._setAppointmentPropertiesToDialog(null,d,s,n?n.resourceId:null)),d&&s&&(r._changeFromUser=!1,r.editDialogFields.from.val(d.toDate()),r.editDialogFields.to.val(s.toDate()),r._changeFromUser=!0),r.isTouchDevice()||(r._editDialog.jqxWindow({height:150}),r._editDialog.jqxWindow({height:e(r._editDialog.children())[1].scrollHeight+40})))}}),r.removeHandler(r._editDialog,"keydown"),r.addHandler(r._editDialog,"keydown",function(i){if(r.editDialogKeyDown){var n=r.editDialogKeyDown(g,r.editDialogFields,r.editAppointment,i);if(void 0!=n)return n}if(13==i.keyCode){if(e(document.activeElement).ischildof(r._editDialog)){if("button"==document.activeElement.nodeName.toLowerCase())return!0;t?t.isException()||t.rootAppointment?r.editDialogFields.saveOccurrenceButton.trigger("click"):t.isRecurrentAppointment()?r.editDialogFields.saveSeriesButton.trigger("click"):r.editDialogFields.saveButton.trigger("click"):r.editDialogFields.saveButton.trigger("click")}}else 27==i.keyCode&&r.editDialogFields.cancelButton.trigger("click")})},openMenu:function(t,i){var r=this;r.menu||r._initMenu();r._views[r._view].type;if(r.contextMenu&&r.menu){if(r.selectedAppointment?r.menu.jqxMenu("showItem","editAppointment"):r.menu.jqxMenu("hideItem","editAppointment"),arguments.length<2){if(r.selectedAppointment)t=(n=r.selectedAppointment.coord()).left,i=n.top;else if(r.focusedCell)var n=e(r.focusedCell).coord();t=n.left,i=n.top}r.menu.jqxMenu("open",t,i),r._hasOpenedMenu=!0}},closeMenu:function(){var e=this;e.contextMenu&&e.menu&&setTimeout(function(){e.menu.jqxMenu("close")})},closeDialog:function(){this._editDialog.jqxWindow("close")},openDialog:function(e,t){var i=this;i._views[i._view].type;i.selectedJQXAppointment?!1!==i._initDialog(i.selectedJQXAppointment)&&i._openDialog(e,t):(null==i.getSelection()&&(i.focus(),i.focusedCell.setAttribute("data-selected","true"),i._lastSelectedCell=i.focusedCell,i._updateCellsSelection(i.focusedCell)),i._initDialog(),i._openDialog(e,t))},_openDialog:function(e,t){var i=this;i._views[i._view].type;if(i.editDialog){var r=i.host.coord();if(i.overlay.show(),i.overlay.css("z-index",9999999),i.overlay.width(i.host.width()),i.overlay.height(i.host.height()),i.overlay.offset(r),i.isTouchDevice())i._editDialog.jqxWindow("move",r.left,r.top),i._editDialog.jqxWindow({draggable:!1,maxWidth:i.host.width(),maxHeight:i.host.height()}),i._editDialog.jqxWindow({width:i.host.width(),height:i.host.height()}),i._editDialog.jqxWindow("open"),i._editDialog.jqxWindow("move",r.left,r.top);else if(void 0!=e&&void 0!=t)i._editDialog.jqxWindow("move",e,t),i._editDialog.jqxWindow("open");else{var n=i._editDialog.height();n<400&&(n=400);var a=r.top+i.host.height()/2-n/2,o=r.left+i.host.width()/2-i._editDialog.width()/2;i._editDialog.jqxWindow("move",o,a),i._editDialog.jqxWindow("open")}setTimeout(function(){i.overlay.css("z-index",999)},50)}},_setAppointmentPropertiesFromDialog:function(t,i){var r=this;return function(t){var n=r._views[r._view].type,a=(r._views[r._view],r.editDialogFields.from.val("date"));if(a>(c=r.editDialogFields.to.val("date")))return r.editDialogFields.from.jqxDateTimeInput("focus"),!1;if(a==c)return n.indexOf("month")>=0;if(t.resourceId=r.editDialogFields.resource.val(),"none"==r.editDialogFields.resourceContainer.css("display")&&(t.resourceId=""),t.description=r.editDialogFields.description.val(),t.allDay=r.editDialogFields.allDay.val(),t.status=r.editDialogFields.status.val(),t.location=r.editDialogFields.location.val(),t.timeZone=r.editDialogFields.timeZone.val(),""==t.timeZone&&""!=r.timeZone&&(t.timeZone=r.timeZone),t.from=new e.jqx.date(a,t.timeZone),t.to=new e.jqx.date(c,t.timeZone),r.timeZone?(t.from=t.from.toTimeZone(r.timeZone),t.to=t.to.toTimeZone(r.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null)),t.allDay&&(t.from=e.jqx.scheduler.utilities.getStartOfDay(t.from),t.to=e.jqx.scheduler.utilities.getEndOfDay(t.to)),r.editDialogFields.color.val()){var o=r.getAppointmentColors(r.editDialogFields.color.val());t.color=o.color,t.background=o.background,t.borderColor=o.border}t.subject=r.editDialogFields.subject.val();var l=r.editDialogFields.repeat.jqxDropDownList("selectedIndex"),d=new e.jqx.scheduler.recurrencePattern,s=r.editDialogFields.repeatEndPanel;if(d.timeZone=r.timeZone,d.from=t.from.clone(),"occurrence"==i&&t.rootAppointment&&(d.from=t.rootAppointment.from.clone()),r.editDialogFields.resetExceptions.val()&&(t.exceptions=new Array,t.recurrenceException=new Array),s.repeatEndNever.val())d.count=1e3,d.to=new e.jqx.date(9999,12,31);else if(s.repeatEndAfter.val())d.count=s.repeatEndAfterValue.val(),d.to=new e.jqx.date(9999,12,31);else if(s.repeatEndOn.val()){d.count=1e3;var c=new e.jqx.date(s.repeatEndOnValue.jqxDateTimeInput("getDate"),r.timeZone);d.to=c}switch(l){case 0:default:t.clearRecurrence();break;case 1:h=r.editDialogFields.daily.repeatDayInterval.val();d.interval=h,d.freq="daily";break;case 2:var u=r.editDialogFields.weekly,h=u.repeatWeekInterval.val(),p=[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}],y=u.repeatDays,g=new Array;d.weekDays={};for(var m=0;m<7;m++)y[m].val()&&(0==m?g.push(6):g.push(m-1),e.extend(d.weekDays,p[m]));d.freq="weekly",d.byweekday=g,d.interval=h;break;case 3:var f=r.editDialogFields.monthly,h=f.repeatMonth.val();if(f.repeatMonthDayBool.val())d.day=f.repeatMonthDay.val(),d.bymonthday=new Array,d.bymonthday.push(d.day);else{var v=f.repeatDayOfWeek.jqxDropDownList("selectedIndex"),D=new Array;0==v?v=6:v--;w="";switch(x=f.repeatDayOfWeekType.jqxDropDownList("selectedIndex")){case 0:w=1;break;case 1:w=2;break;case 2:w=3;break;case 3:w=4;break;case 4:w=-1}D.push([v,w]),d.bynweekday=D}d.freq="monthly",d.interval=h;break;case 4:var b=r.editDialogFields.yearly,h=b.repeatYear.val();if(b.repeatYearBool.val())d.day=b.repeatYearDay.val(),d.month=b.repeatYearMonth.jqxDropDownList("selectedIndex"),d.bymonth=new Array,d.bymonth.push(1+d.month),d.byyearday=new Array,d.byyearday.push(d.day);else{d.month=b.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex"),d.bymonth=new Array,d.bymonth.push(1+d.month);var v=b.repeatDayOfWeek.jqxDropDownList("selectedIndex"),D=new Array;0==v?v=6:v--;var x=b.repeatDayOfWeekType.jqxDropDownList("selectedIndex"),w="";switch(x){case 0:w=1;break;case 1:w=2;break;case 2:w=3;break;case 3:w=4;break;case 4:w=-1}D.push([v,w]),d.bynweekday=D}d.freq="yearly",d.interval=h}t.rootAppointment?t.rootAppointment.recurrencePattern=d:l>0&&(t.recurrencePattern=d);var q={},j={};for(var k in r.appointmentDataFields){var A=r.appointmentDataFields[k],T=t[k];q[k]=T,"from"!=k&&"to"!=k||(T=T.toDate()),j[A]=T}return q.originalData=j,q.jqxAppointment=t,t.boundAppointment=q,!0}(t)},_setAppointmentPropertiesToDialog:function(t,i,r,n){var a=this;if(function(){var e=a.editDialogFields.repeatEndPanel;e.repeatEndNever.jqxRadioButton({checked:!0}),e.repeatEndAfter.jqxRadioButton({checked:!1}),e.repeatEndAfterValue.val(1),e.repeatEndOnValue.val(t);var t=r.toDate();if(a.editDialogFields.daily&&a.editDialogFields.daily.repeatDayInterval.val(1),a.editDialogFields.weekly){for(var i=a.editDialogFields.weekly,n=0;n<i.repeatDays.length;n++)1==n?i.repeatDays[n].jqxCheckBox({checked:!0}):i.repeatDays[n].jqxCheckBox({checked:!1});i.repeatWeekInterval.val(1)}if(a.editDialogFields.monthly){var o=a.editDialogFields.monthly;o.repeatDayOfWeek.jqxDropDownList("selectIndex",1),o.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),o.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),o.repeatMonthDayBool.jqxRadioButton({checked:!0}),o.repeatMonthDay.val(1),o.repeatMonth.val(1)}if(a.editDialogFields.yearly){var l=a.editDialogFields.yearly;l.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0),l.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),l.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),l.repeatDayOfWeek.jqxDropDownList("selectIndex",1),l.repeatYear.val(1),l.repeatYearMonth.jqxDropDownList("selectIndex",0),l.repeatYearDay.val(1),l.repeatYearBool.val(!0)}}(),t&&t.isRecurrentAppointment()?t.rootAppointment?a.editDialogFields.resetExceptionsContainer.hide():a.editDialogFields.resetExceptionsContainer.show():t&&(a.editDialogFields.resetExceptionsContainer.hide(),a.editDialogFields.repeat.jqxDropDownList("selectIndex",0)),!t)return a.editDialogFields.timeZone.jqxDropDownList("clearSelection"),n?a.editDialogFields.resource.val(n):a.editDialogFields.resource.jqxDropDownList("selectIndex",0),a.editDialogFields.allDay.val(!1),(a._views[a._view].type.indexOf("month")>=0||i&&i.equals(r)||r&&r.equals(e.jqx.scheduler.utilities.getEndOfDay(r)))&&a.editDialogFields.allDay.val(!0),a.editDialogFields.color.jqxDropDownList("clearSelection"),a.editDialogFields.description.val(""),a.editDialogFields.subject.val(""),void a.editDialogFields.repeat.jqxDropDownList("selectIndex",0);!function(e){t=e.recurrencePattern;if(e.rootAppointment)var t=e.rootAppointment.recurrencePattern;if(null!=t){var i=t.freq,r=0;"daily"==i&&(r=1),"weekly"==i&&(r=2),"monthly"==i&&(r=3),"yearly"==i&&(r=4);var n=a.editDialogFields.repeatEndPanel;switch(1e3!=t.count?(n.repeatEndNever.jqxRadioButton({checked:!1}),n.repeatEndAfter.jqxRadioButton({checked:!0}),n.repeatEndAfterValue.val(t.count)):9999!=t.to.year()?(n.repeatEndOn.jqxRadioButton({checked:!0}),n.repeatEndOnValue.val(t.to.toDate())):n.repeatEndNever.jqxRadioButton({checked:!0}),a.editDialogFields.repeat.jqxDropDownList("selectIndex",r),r){case 1:o=t.interval,a.editDialogFields.daily.repeatDayInterval.val(o);break;case 2:var o=t.interval,l=a.editDialogFields.weekly;l.repeatWeekInterval.val(o);for(var d=t.byweekday,s=0;s<7;s++)(c=l.repeatDays[s]).val(!1);for(s=0;s<d.length;s++){var c=d[s];6==c?l.repeatDays[0].val(!0):l.repeatDays[c+1].val(!0)}break;case 3:var u=a.editDialogFields.monthly;if(u.repeatMonth.val(t.interval),t.bymonthday&&t.bymonthday.length>0)u.repeatMonthDayBool.jqxRadioButton({checked:!0}),u.repeatMonthDay.val(t.day);else{switch(u.repeatDayOfWeekBool.jqxRadioButton({checked:!0}),y=(p=t.bynweekday)[0][0],7==++y&&(y=0),u.repeatDayOfWeek.jqxDropDownList("selectIndex",y),m="",g=p[0][1]){case 1:m=0;break;case 2:m=1;break;case 3:m=2;break;case 4:m=3;break;case-1:m=4}u.repeatDayOfWeekType.jqxDropDownList("selectIndex",m)}break;case 4:var h=a.editDialogFields.yearly;if(t.byyearday&&t.byyearday.length>0&&(h.repeatYearDay.val(t.byyearday[0]),h.repeatYearBool.val(!0)),t.bymonth&&t.bymonth.length>0&&(h.repeatYearMonth.val(t.bymonth[0]),h.repeatYearBool.val(!0)),!t.byyearday||t.byyearday&&0==t.byyearday.length){h.repeatDayOfWeekMonth.val(t.bymonth[0]),h.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var p=t.bynweekday,y=p[0][0];7==++y&&(y=0),h.repeatDayOfWeek.jqxDropDownList("selectIndex",y);var g=p[0][1],m="";switch(g){case 1:m=0;break;case 2:m=1;break;case 3:m=2;break;case 4:m=3;break;case-1:m=4}h.repeatDayOfWeekType.jqxDropDownList("selectIndex",m)}}}}(t)}}),e.jqx.scheduler.column=function(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="center",this.cellsalign="center",this.width="auto",this.minwidth=60,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var n in i)if(!r.hasOwnProperty(n)&&!r.hasOwnProperty(n.toLowerCase()))throw t.host.remove(),new Error("jqxScheduler: Invalid property name - "+n+".")}},this._initfields(i),this},e.jqx.schedulerDataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&void 0!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.scheduler.dataView=function(t){return this.that=this,this.scheduler=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(i,r){l=this;if(e.isArray(i))l.update(i);else{var n=!!i._source,a=null;this._sortData=null,this._sortHierarchyData=null,n?(a=i,i=i._source):a=new e.jqx.dataAdapter(i,{autoBind:!1});var o=function(e){e.originaldata=a.originaldata,e.records=a.records,e.hierarchy=a.hierarchy,e.scheduler.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,a.hierarchy=new Array),a._source.totalrecords?e.totalrecords=a._source.totalrecords:a._source.totalRecords?e.totalrecords=a._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=a.cachedrecords};!function(e){a.recordids=[],a.records=new Array,a.cachedrecords=new Array,a.originaldata=new Array,a._options.totalrecords=e.totalrecords,a._options.originaldata=e.originaldata,a._options.recordids=e.recordids,a._options.cachedrecords=new Array,a._options.pagenum=e.pagenum,a._options.pageable=e.pageable,void 0!=i.type&&(a._options.type=i.type),void 0!=i.formatdata&&(a._options.formatData=i.formatdata),void 0!=i.contenttype&&(a._options.contentType=i.contenttype),void 0!=i.async&&(a._options.async=i.async),void 0!=i.updaterow&&(a._options.updaterow=i.updaterow),void 0!=i.addrow&&(a._options.addrow=i.addrow),void 0!=i.deleterow&&(a._options.deleterow=i.deleterow),0==e.pagesize&&(e.pagesize=10),a._options.pagesize=e.pagesize}(this),this.source=i,void 0!==r&&(uniqueId=r);var l=this;switch(i.datatype){case"local":case"array":default:null==i.localdata&&(i.localdata=[]),null!=i.localdata&&(a.unbindBindingUpdate(t+l.scheduler.element.id),(!l.scheduler.autoBind&&l.scheduler.isInitialized||l.scheduler.autoBind)&&a.dataBind(),(c=function(){o(l),l.update(a.records)})(),a.bindBindingUpdate(t+l.scheduler.element.id,c));break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=i.localdata)return a.unbindBindingUpdate(t+l.scheduler.element.id),(!l.scheduler.autoBind&&l.scheduler.isInitialized||l.scheduler.autoBind)&&a.dataBind(),(c=function(e){o(l),l.update(a.records)})(),void a.bindBindingUpdate(t+l.scheduler.element.id,c);var d={},s=a._options.data;a._options.data?e.extend(a._options.data,d):(i.data&&e.extend(d,i.data),a._options.data=d);var c=function(){var t=function(){o(l),l.update(a.records)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()};a.unbindDownloadComplete(t+l.scheduler.element.id),a.bindDownloadComplete(t+l.scheduler.element.id,c),a._source.loaderror=function(e,t,i){c()},(!l.scheduler.autoBind&&l.scheduler.isInitialized||l.scheduler.autoBind)&&a.dataBind(),a._options.data=s}}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this._compare=function(t,i,r){var i=i;if(void 0===(t=t)&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){if(this.scheduler.serverProcessing)return e;var t=new Array;if(this.filters.length){var i=new Array,r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];n._visible=!0;for(var a=void 0,o=0;o<this.filters.length;o++){var l=this.filters[o].filter,d=n[this.filters[o].datafield],s=l.evaluate(d);a=void 0==a?s:"or"==l.operator?a||s:a&&s}n._visible=!1,(a||n.aggregate)&&(n._visible=!0,t.push(n),i[n.uid]=n)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.scheduler.source.hierarchy&&this.scheduler.source.hierarchy.length>0){var n=new Array,a=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];n.push(r),r.records&&r.records.length>0&&a(r,r.records)}};a(null,e),r.call(this,n,t);for(var o=0;o<t.length;o++)for(var l=t[o];l.parent;){var d=l.parent;i[d.uid]||(d._visible=!0,i[d.uid]=d),l=d}t=e}else r.call(this,e,t);this._filteredData=t,this.rows=t}}else this.rows=e;return this.rows},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&void 0!=t&&this.rows.length>0){null==(a=this.rows[this.rows.length-1][t])&&(a=null);for(l=1;l<=100;l++)if(!(o=this.scheduler.appointmentsByKey[l+a])){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(o=this.scheduler.appointmentsByKey["jqx"+a+l])continue;return"jqx"+a+l}return a+l}}if(void 0!=t&&t.toString().length>0){var n=e(i).attr(t);if(null!=n&&n.toString().length>0)return this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords?"jqx"+n:n}if(this.rows&&this.rows.length>0&&(o=this.scheduler.appointmentsByKey[r])){var a=this.rows[this.rows.length-1][t];null==a&&(a="");for(l=1;l<=1e3;l++)if(!(o=this.scheduler.appointmentsByKey[l+a])){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){if(o=this.scheduler.appointmentsByKey["jqx"+a+l])continue;return"jqx"+a+l}return a+l}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var o=this.scheduler.appointmentsByKey["jqx"+r];if(!o)return"jqx"+r;for(var l=r+1;l<=100;l++)if(!(o=this.scheduler.appointmentsByKey["jqx"+l])){if(o=this.scheduler.appointmentsByKey["jqx"+l])continue;return"jqx"+l}}return r},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxScrollBar","",{}),t.extend(t.jqx._jqxScrollBar.prototype,{defineInstance:function(){var e={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===t.jqx._jqxScrollBar.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(t){this.render()},render:function(){this._mouseup=new Date;var e=this,s="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(t.jqx.utilities&&"hidden"==t.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),e.WinJS?MSApp.execUnsafeLocalFunction(function(){e.host.html(s)}):this.element.innerHTML=s,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var i=this;t.jqx.utilities.resize(this.host,function(){i._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=t(this.element.firstChild),this.scrollWrap=t(this.scrollOuterWrap[0].firstChild),this.btnUp=t(this.scrollWrap[0].firstChild),this.areaUp=t(this.btnUp[0].nextSibling),this.btnThumb=t(this.areaUp[0].nextSibling),this.arrowUp=t(this.btnUp[0].firstChild),this.areaDown=t(this.btnThumb[0].nextSibling),this.btnDown=t(this.areaDown[0].nextSibling),this.arrowDown=t(this.btnDown[0].firstChild);var r=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=t.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=t.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(t,e,s,i){isNaN(i)||s!=i&&t.setPosition(parseFloat(i),!0)},this.propertyChangeMap.width=function(t,e,s,i){void 0!=t.width&&parseInt(t.width)>0&&(t.host.width(parseInt(t.width)),t._arrange())},this.propertyChangeMap.height=function(t,e,s,i){void 0!=t.height&&parseInt(t.height)>0&&(t.host.height(parseInt(t.height)),t._arrange())},this.propertyChangeMap.theme=function(t,e,s,i){t.setTheme()},this.propertyChangeMap.max=function(t,e,s,i){isNaN(i)||s!=i&&(t.max=parseInt(i),t.min>t.max&&(t.max=t.min+1),t._arrange(),t.setPosition(t.value))},this.propertyChangeMap.min=function(t,e,s,i){isNaN(i)||s!=i&&(t.min=parseInt(i),t.min>t.max&&(t.max=t.min+1),t._arrange(),t.setPosition(t.value))},this.propertyChangeMap.disabled=function(t,e,s,i){s!=i&&(i?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.btnUp.jqxRepeatButton("disabled",t.disabled),t.btnDown.jqxRepeatButton("disabled",t.disabled),t.btnThumb.jqxButton("disabled",t.disabled))},this.propertyChangeMap.touchMode=function(t,e,s,i){s!=i&&(t._updateTouchBehavior(),!0===i?(t.showButtons=!1,t.refresh()):!1===i&&(t.showButtons=!0,t.refresh()))},this.propertyChangeMap.rtl=function(t,e,s,i){s!=i&&t.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(t,e){this.width=t,this.height=e,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=t.jqx.mobile.isTouchDevice(),1==this.touchMode){if(t.jqx.browser.msie&&t.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,t.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var e=this,s=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(s=!0,this._touchSupport=!0)}catch(t){}if((e.isTouchDevice||s)&&(this.addHandler(this.btnThumb,t.jqx.mobile.getTouchEventName("touchend"),function(t){var s=e.vertical?e.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):e.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),i=e.toThemeProperty("jqx-fill-state-pressed");return e.btnThumb.removeClass(s),e.btnThumb.removeClass(i),e.disabled||e.handlemouseup(e,t),!1}),this.addHandler(this.btnThumb,t.jqx.mobile.getTouchEventName("touchstart"),function(t){if(!e.disabled){if(1==e.touchMode)t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY;else{var s=t;s.originalEvent.touches&&s.originalEvent.touches.length?(t.clientX=s.originalEvent.touches[0].clientX,t.clientY=s.originalEvent.touches[0].clientY):(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)}e.handlemousedown(t),t.preventDefault&&t.preventDefault()}}),t.jqx.mobile.touchScroll(this.element,e.max,function(t,s,i,r,o){if("visible"==e.host.css("visibility")){if(1==e.touchMode)o.clientX=o.originalEvent.clientX,o.clientY=o.originalEvent.clientY;else{var a=o;a.originalEvent.touches&&a.originalEvent.touches.length?(o.clientX=a.originalEvent.touches[0].clientX,o.clientY=a.originalEvent.touches[0].clientY):(o.clientX=o.originalEvent.clientX,o.clientY=o.originalEvent.clientY)}var n=e.vertical?e.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):e.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");e.btnThumb.addClass(n),e.btnThumb.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e.thumbCapture=!0,e.handlemousemove(o)}},e.element.id,e.host,e.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i=null;if(window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var r=function(t){e.disabled||e.handlemouseup(e,t)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(t){}this.addHandler(this.btnDown,"click mouseup mousedown",function(t){var s=e.step;switch(Math.abs(e.max-e.min)<=s&&(s=1),e.rtl&&!e.vertical&&(s=-e.step),t.type){case"click":e.buttonDownCapture&&!e.isTouchDevice?e.disabled||e.setPosition(e.value+s):!e.disabled&&e.isTouchDevice&&e.setPosition(e.value+s);break;case"mouseup":if(!e.btnDownInstance.base.disabled&&e.buttonDownCapture)return e.buttonDownCapture=!1,e.btnDown.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.btnDown.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._removeArrowClasses("pressed","down"),e.handlemouseup(e,t),e.setPosition(e.value+s),!1;break;case"mousedown":if(!e.btnDownInstance.base.disabled)return e.buttonDownCapture=!0,e.btnDown.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e.btnDown.addClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed")),e._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,"click mouseup mousedown",function(t){var s=e.step;switch(Math.abs(e.max-e.min)<=s&&(s=1),e.rtl&&!e.vertical&&(s=-e.step),t.type){case"click":e.buttonUpCapture&&!e.isTouchDevice?e.disabled||e.setPosition(e.value-s):!e.disabled&&e.isTouchDevice&&e.setPosition(e.value-s);break;case"mouseup":if(!e.btnUpInstance.base.disabled&&e.buttonUpCapture)return e.buttonUpCapture=!1,e.btnUp.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.btnUp.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._removeArrowClasses("pressed","up"),e.handlemouseup(e,t),e.setPosition(e.value-s),!1;break;case"mousedown":if(!e.btnUpInstance.base.disabled)return e.buttonUpCapture=!0,e.btnUp.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e.btnUp.addClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed")),e._addArrowClasses("pressed","up"),!1}})}var o="click";if(this.isTouchDevice&&(o=t.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,o,function(t){if(!e.disabled){var s=e.largestep;return e.rtl&&!e.vertical&&(s=-e.largestep),e.setPosition(e.value-s),!1}}),this.addHandler(this.areaDown,o,function(t){if(!e.disabled){var s=e.largestep;return e.rtl&&!e.vertical&&(s=-e.largestep),e.setPosition(e.value+s),!1}}),this.addHandler(this.areaUp,"mousedown",function(t){if(!e.disabled)return e.areaUpCapture=!0,!1}),this.addHandler(this.areaDown,"mousedown",function(t){if(!e.disabled)return e.areaDownCapture=!0,!1}),this.addHandler(this.btnThumb,"mousedown dragstart",function(t){if("dragstart"===t.type)return!1;e.disabled||e.handlemousedown(t),t.preventDefault&&t.preventDefault()}),this.addHandler(t(document),"mouseup."+this.element.id,function(t){e.disabled||e.handlemouseup(e,t)}),!this.isTouchDevice&&(this.mousemoveFunc=function(t){e.disabled||e.handlemousemove(t)},this.addHandler(t(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(t(document),"mouseleave."+this.element.id,function(t){e.disabled||e.handlemouseleave(t)}),this.addHandler(t(document),"mouseenter."+this.element.id,function(t){e.disabled||e.handlemouseenter(t)}),!e.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(t){"mouseenter"===t.type?e.disabled||e.btnUpInstance.base.disabled||1==e.touchMode||(e.btnUp.addClass(e.toThemeProperty("jqx-scrollbar-button-state-hover")),e.btnUp.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._addArrowClasses("hover","up")):e.disabled||e.btnUpInstance.base.disabled||1==e.touchMode||(e.btnUp.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-hover")),e.btnUp.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._removeArrowClasses("hover","up"))});var a=e.toThemeProperty("jqx-scrollbar-thumb-state-hover");e.vertical||(a=e.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(t){"mouseenter"===t.type?e.disabled||1==e.touchMode||(e.btnThumb.addClass(a),e.btnThumb.addClass(e.toThemeProperty("jqx-fill-state-hover"))):e.disabled||1==e.touchMode||(e.btnThumb.removeClass(a),e.btnThumb.removeClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(t){"mouseenter"===t.type?e.disabled||e.btnDownInstance.base.disabled||1==e.touchMode||(e.btnDown.addClass(e.toThemeProperty("jqx-scrollbar-button-state-hover")),e.btnDown.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._addArrowClasses("hover","down")):e.disabled||e.btnDownInstance.base.disabled||1==e.touchMode||(e.btnDown.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-hover")),e.btnDown.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._removeArrowClasses("hover","down"))})}},destroy:function(){var e=this.btnUp,s=this.btnDown,i=this.btnThumb,r=(this.scrollWrap,this.areaUp),o=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,o.removeClass(),r.removeClass(),s.removeClass(),e.removeClass(),i.removeClass(),e.jqxRepeatButton("destroy"),s.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),o.jqxRepeatButton("destroy"),i.jqxButton("destroy");var a=t.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,a&&delete a.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(t(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(t(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(t(document),"mousemove."+this.element.id),this.removeHandler(t(document),"mouseleave."+this.element.id),this.removeHandler(t(document),"mouseenter."+this.element.id)},_addArrowClasses:function(t,e){"pressed"==t&&(t="selected"),""!=t&&(t="-"+t),this.vertical?("up"!=e&&void 0!=e||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+t)),"down"!=e&&void 0!=e||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+t))):("up"!=e&&void 0!=e||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+t)),"down"!=e&&void 0!=e||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+t)))},_removeArrowClasses:function(t,e){"pressed"==t&&(t="selected"),""!=t&&(t="-"+t),this.vertical?("up"!=e&&void 0!=e||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+t)),"down"!=e&&void 0!=e||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+t))):("up"!=e&&void 0!=e||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+t)),"down"!=e&&void 0!=e||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+t)))},setTheme:function(){var e=this.btnUp,s=this.btnDown,i=this.btnThumb,r=this.scrollWrap,o=(this.areaUp,this.areaDown,this.arrowUp),a=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var n=this.toThemeProperty("jqx-reset");this.areaDown[0].className=n,this.areaUp[0].className=n;var h=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(h),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),s[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),e[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var l="";if(this.vertical?(o[0].className=n+" "+this.toThemeProperty("jqx-icon-arrow-up"),a[0].className=n+" "+this.toThemeProperty("jqx-icon-arrow-down"),l=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(o[0].className=n+" "+this.toThemeProperty("jqx-icon-arrow-left"),a[0].className=n+" "+this.toThemeProperty("jqx-icon-arrow-right"),l=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),l+=" "+this.toThemeProperty("jqx-fill-state-normal"),i[0].className=l,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var d=t.jqx.cssroundedcorners("top");d=this.toThemeProperty(d),e.addClass(d);var u=t.jqx.cssroundedcorners("bottom");u=this.toThemeProperty(u),s.addClass(u)}else{var p=t.jqx.cssroundedcorners("left");p=this.toThemeProperty(p),e.addClass(p);var m=t.jqx.cssroundedcorners("right");m=this.toThemeProperty(m),s.addClass(m)}else{c=t.jqx.cssroundedcorners(this.roundedCorners);c=this.toThemeProperty(c),elBtnUp.addClass(c),elBtnDown.addClass(c)}var c=t.jqx.cssroundedcorners(this.roundedCorners);c=this.toThemeProperty(c),i.hasClass(c)||i.addClass(c),"none"===e.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0!=this.thumbCapture&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&void 0!=this.areaDownCapture&&void 0!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var t,e,s,i;e=(t=Date.now())-this.timestamp,this.timestamp=t,s=this.offset-this.frame,this.frame=this.offset,i=1e3*s/(1+e),this.velocity=.2*i+.2*this.velocity},handlemousedown:function(e){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var s=this.btnThumb;null!=s&&(s.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var i=this;this.thumbCapture&&t.jqx.scrollAnimation&&(i.reference=parseInt(i.btnThumb[0].style.top),i.offset=parseInt(i.btnThumb[0].style.top),i.vertical||(i.reference=parseInt(i.btnThumb[0].style.left),i.offset=parseInt(i.btnThumb[0].style.left)),i.velocity=i.amplitude=0,i.frame=i.offset,i.timestamp=Date.now(),clearInterval(i.ticker),i.ticker=setInterval(function(){i.track()},100)),this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value},toggleHover:function(t,e){},refresh:function(){this._arrange()},_setElementPosition:function(t,e,s){isNaN(e)||parseInt(t[0].style.left)!=parseInt(e)&&(t[0].style.left=e+"px"),isNaN(s)||parseInt(t[0].style.top)!=parseInt(s)&&(t[0].style.top=s+"px")},_setElementTopPosition:function(t,e){isNaN(e)||(t[0].style.top=e+"px")},_setElementLeftPosition:function(t,e){isNaN(e)||(t[0].style.left=e+"px")},handlemouseleave:function(t){var e=this.btnUp,s=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(e.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),s.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var i=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");i.removeClass(r),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(t){var e=this.btnUp,s=this.btnDown;if(this.buttonUpCapture&&(e.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(s.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),s.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var i=this.btnThumb;this.vertical?i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(t){var e=this.btnUp,s=this.btnDown;if(null!=s&&null!=e){if(null!=e&&null!=s&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&0==t.which?(s.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==t.which&&(e.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var i=this.btnThumb;if(0==t.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return i.removeClass(r),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),void 0!=t.stopPropagation&&t.stopPropagation();var o=0;try{o=this.vertical?t.clientY-this.dragStartY:t.clientX-this.dragStartX;var a=this._btnAndThumbSize;this._btnAndThumbSize||(a=this.vertical?e.height()+s.height()+i.height():e.width()+s.width()+i.width());var n=(this.max-this.min)/(this.scrollBarSize-a);if("auto"!=this.thumbStep){if(o*=n,Math.abs(this.dragStartValue+o-this.value)>=parseInt(this.thumbStep)){h=Math.round(parseInt(o)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-h):this.setPosition(this.dragStartValue+h),!1}return!1}var h=o*=n;this.rtl&&!this.vertical&&(h=-o),this.setPosition(this.dragStartValue+h),this.offset=parseInt(i[0].style.left),this.vertical&&(this.offset=parseInt(i[0].style.top))}catch(t){alert(t)}return!1}},handlemouseup:function(e,s){function i(){var t,e;if(n.amplitude)if(t=Date.now()-n.timestamp,(e=-n.amplitude*Math.exp(-t/325))>.5||e<-.5){o=r=(s=(n.max-n.min)/(n.scrollBarSize-n._btnAndThumbSize))*(n.target+e);n.rtl&&!n.vertical&&(o=-r),n.setPosition(n.dragStartValue+o),requestAnimationFrame(i)}else{var s=(n.max-n.min)/(n.scrollBarSize-n._btnAndThumbSize),r=s*(n.target+e),o=r;n.rtl&&!n.vertical&&(o=-r),n.setPosition(n.dragStartValue+o)}}var r=!1;if(this.thumbCapture){this.thumbCapture=!1;var o=this.btnThumb,a=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(o.removeClass(a),o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r=!0,this._mouseup=new Date,t.jqx.scrollAnimation){var n=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(i))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var h=this.btnUp,l=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,h.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),h.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),r=!0,this._mouseup=new Date}r&&(void 0!=s.preventDefault&&s.preventDefault(),null!=s.originalEvent&&(s.originalEvent.mouseHandled=!0),void 0!=s.stopPropagation&&s.stopPropagation())},setPosition:function(e,s){this.element;if(void 0!=e&&NaN!=e||(e=this.min),e>=this.max&&(e=this.max),e<this.min&&(e=this.min),this.value!==e||1==s){if(e==this.max){var i=new t.Event("complete");this.host.trigger(i)}var r=this.value;if(this._triggervaluechanged){var o=new t.Event("valueChanged");o.previousValue=this.value,o.currentValue=e}this.value=e,this._positionelements(),this._triggervaluechanged&&this.host.trigger(o),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return e},val:function(t){return function(e){for(var s in e)if(e.hasOwnProperty(s))return!1;return"number"!=typeof t&&"date"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t}(t)||0==arguments.length?this.value:(this.setPosition(t),t)},_getThumbSize:function(t){var e=this.max-this.min,s=0;return e>1?s=t/(e+t)*t:1==e?s=t-1:0==e&&(s=t),this.thumbSize>0&&(s=this.thumbSize),s<this.thumbMinSize&&(s=this.thumbMinSize),Math.min(s,t)},_positionelements:function(){this.element;var t=this.areaUp,e=this.areaDown,s=(this.btnUp,this.btnDown,this.btnThumb),i=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),o=this.vertical?r:i;this.showButtons||(o=0);var a=this.vertical?i:r;this.scrollBarSize=a;var n=this._getThumbSize(a-2*o);(n=Math.floor(n))<this.thumbMinSize&&(n=this.thumbMinSize),(NaN==i||i<10)&&(i=10),(NaN==r||r<10)&&(r=10),o+=2,this.btnSize=o;h=this._btnAndThumbSize;if(!this._btnAndThumbSize){var h=this.vertical?2*this.btnSize+s.outerHeight():2*this.btnSize+s.outerWidth();h=Math.round(h)}var l=(a-h)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(l=(a-h)/(this.max-this.min)*(this.max-this.value-this.min)),(l=Math.round(l))<0&&(l=0),this.vertical){var d=a-l-h;d<0&&(d=0),e[0].style.height=d+"px",t[0].style.height=l+"px",this._setElementTopPosition(t,o),this._setElementTopPosition(s,o+l),this._setElementTopPosition(e,o+l+n)}else t[0].style.width=l+"px",e[0].style.width=a-l-h>=0?a-l-h+"px":"0px",this._setElementLeftPosition(t,o),this._setElementLeftPosition(s,o+l),this._setElementLeftPosition(e,2+o+l+n)},_arrange:function(){var t=this;if(t._initialLayout)t._initialLayout=!1;else{if(t.min>t.max){var e=t.min;t.min=t.max,t.max=e}if(t.min<0){var s=t.max-t.min;t.min=0,t.max=s}t.element;var i=t.areaUp,r=t.areaDown,o=t.btnUp,a=t.btnDown,n=t.btnThumb,h=t.scrollWrap,l=parseInt(t.element.style.height),d=parseInt(t.element.style.width);if(t.isPercentage)var l=t.host.height(),d=t.host.width();isNaN(l)&&(l=0),isNaN(d)&&(d=0),t._width=d,t._height=l;var u=t.vertical?d:l;t.showButtons||(u=0),o[0].style.width=u+"px",o[0].style.height=u+"px",a[0].style.width=u+"px",a[0].style.height=u+"px",t.vertical?h[0].style.width=d+2+"px":h[0].style.height=l+2+"px",t._setElementPosition(o,0,0);var p=u+2;t.vertical?t._setElementPosition(a,0,l-p):t._setElementPosition(a,d-p,0);var m=t.vertical?l:d;t.scrollBarSize=m;var c=t._getThumbSize(m-2*p);(c=Math.floor(c-2))<t.thumbMinSize&&(c=t.thumbMinSize);var b=!1;t.isTouchDevice&&0!=t.touchModeStyle&&(b=!0),t.vertical?(n[0].style.width=d+"px",n[0].style.height=c+"px",b&&0!==t.thumbTouchSize&&(n.css({width:t.thumbTouchSize+"px"}),n.css("margin-left",(t.host.width()-t.thumbTouchSize)/2))):(n[0].style.width=c+"px",n[0].style.height=l+"px",b&&0!==t.thumbTouchSize&&(n.css({height:t.thumbTouchSize+"px"}),n.css("margin-top",(t.host.height()-t.thumbTouchSize)/2))),(NaN==l||l<10)&&(l=10),(NaN==d||d<10)&&(d=10),t.btnSize=u;var v=t.vertical?2*p+(2+parseInt(n[0].style.height)):2*p+(2+parseInt(n[0].style.width));v=Math.round(v),t._btnAndThumbSize=v;var w=(m-v)/(t.max-t.min)*(t.value-t.min);if(t.rtl&&!t.vertical&&(w=(m-v)/(t.max-t.min)*(t.max-t.value-t.min)),w=Math.round(w),(isNaN(w)||w<0||w===-1/0||w===1/0)&&(w=0),t.vertical){var x=m-w-v;x<0&&(x=0),r[0].style.height=x+"px",r[0].style.width=d+"px",i[0].style.height=w+"px",i[0].style.width=d+"px";var f=parseInt(t.element.style.height);t.isPercentage&&(f=t.host.height()),n[0].style.visibility="inherit",(f-3*parseInt(u)<0||f<v)&&(n[0].style.visibility="hidden"),t._setElementPosition(i,0,p),t._setElementPosition(n,0,p+w),t._setElementPosition(r,0,p+w+c)}else{w>0&&(i[0].style.width=w+"px"),l>0&&(i[0].style.height=l+"px");var y=m-w-v;y<0&&(y=0),r[0].style.width=y+"px",r[0].style.height=l+"px";var g=parseInt(t.element.style.width);t.isPercentage&&(g=t.host.width()),n[0].style.visibility="inherit",(g-3*parseInt(u)<0||g<v)&&(n[0].style.visibility="hidden"),t._setElementPosition(i,p,0),t._setElementPosition(n,p+w,0),t._setElementPosition(r,p+w+c,0)}}}})}(jqxBaseFramework);

!function(t){var e=0;t.jqx.jqxWidget("jqxScrollView","",{}),t.extend(t.jqx._jqxScrollView.prototype,{defineInstance:function(){var e={width:320,height:320,buttonsOffset:[0,0],moveThreshold:.5,currentPage:0,animationDuration:300,showButtons:!0,bounceEnabled:!0,slideShow:!1,slideDuration:3e3,disabled:!1,_mouseDown:!1,_movePermited:!1,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:t.jqx.mobile.getTouchEventName("touchstart"),mouseup:t.jqx.mobile.getTouchEventName("touchend"),mousemove:t.jqx.mobile.getTouchEventName("touchmove")}};return this===t.jqx._jqxScrollView.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){e+=1,this._instanceId=e,this._isTouchDevice=t.jqx.mobile.isTouchDevice();var s=this;t.jqx.utilities.resize(this.host,function(){s.refresh()})},resize:function(t,e){this.width=t,this.height=e,this.refresh()},refresh:function(){if(this.host.width(this.width),this.host.height(this.height),this._render(),this._performLayout(),this.moveThreshold.toString().indexOf("%")>=0&&(this.moveThreshold=parseInt(this.moveThreshold,10)/100),this._refreshPages(),this._refreshButtons(),this._removeEventListeners(),this._addEventListeners(),this._changePage(this.currentPage,!1,0),this.slideShow){var t=this;this.slideShowTimer=setInterval(function(){t.currentPage>=t._pages.length-1?t._changePage(0,!0,t.animationDuration):t._changePage(t.currentPage+1,!0,t.animationDuration)},this.slideDuration)}else void 0!=this.slideShowTimer&&clearInterval(this.slideShowTimer)},destroy:function(){this.host.remove()},_getEvent:function(t){return this._isTouchDevice?this._eventsMap[t]:t},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper),this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace()),this.removeHandler(t(document),this._getEvent("mouseup")+this._eventNamespace())},_getCoordinate:function(e,s){if(this._isTouchDevice){var i=t.jqx.position(e);if("pageX"==s)return i.left;if("pageY"==s)return i.top;if(e.originalEvent.touches)return e.originalEvent.touches[0][s]}return e[s]},_draggedRight:function(){if(this.currentPage>0){var e=this.currentPage-1,s=t(this._pages[e]);if(s.offset().left+s.outerWidth()-this.host.offset().left>=this.host.width()*this.moveThreshold)return this.changePage(e),!0}return!1},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var e=this.currentPage+1,s=t(this._pages[e]);if(this.host.width()-(s.offset().left-this.host.offset().left)>=this.host.width()*this.moveThreshold)return this.changePage(e),!0}return!1},_dropTarget:function(){(this._movedLeft?this._draggedLeft():this._draggedRight())||this.changePage(this.currentPage,!1)},_scrollEnabled:function(t){return!!this._mouseDown&&(this._movePermited||Math.abs(this._getCoordinate(t,"pageX")-this._startX)>=15&&(this._movePermited=!0),this._movePermited)},_setMoveDirection:function(t){this._lastOffset>t?this._movedLeft=!0:this._movedLeft=!1},_getBounceOffset:function(t){var e=-(this._innerWrapper.width()-this.host.width());return t>0?t=0:t<e&&(t=e),t},_addEventListeners:function(){var e=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(t){e._mouseDown=!0,e._startX=e._getCoordinate(t,"pageX"),e._startOffset=e._lastOffset=parseInt(e._innerWrapper.css("margin-left"),10)}),this.addHandler(this.host,"dragstart",function(){return!1}),this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(t){if(e._scrollEnabled(t)){var s=e._startOffset+e._getCoordinate(t,"pageX")-e._startX;return e.bounceEnabled||(s=e._getBounceOffset(s)),e._innerWrapper.css("margin-left",s),e._setMoveDirection(s),e._lastOffset=s,t.preventDefault(),!1}return!0}),this.addHandler(t(document),this._getEvent("mouseup")+this._eventNamespace(),function(t){e._movePermited&&e._dropTarget(),e._movePermited=!1,e._mouseDown=!1});try{if((""!=document.referrer||window.frameElement)&&(null!=window.top&&window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var s=function(t){e._movePermited&&e._dropTarget(),e._movePermited=!1,e._mouseDown=!1};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}catch(t){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview")),this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){this._innerWrapper||(this._innerWrapper=t("<div/>"),this.host.wrapInner(this._innerWrapper),this._innerWrapper=this.host.children().first()),this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper")),this._innerWrapper.height(this.host.height())},_refreshPage:function(t){t.addClass(this.toThemeProperty("jqx-scrollview-page")),this._performPageLayout(t)},_refreshPages:function(){var e=this,s=0;this._renderPages(),this._pages=this._innerWrapper.children(),this._pages.each(function(){e._refreshPage(t(this)),s+=t(this).outerWidth(!0)}),this._innerWrapper.width(s)},_performPageLayout:function(t){t.css("float","left"),t.width(this.host.width()),t.height(this.host.height())},_refreshButtons:function(){this._renderButtons(),this._removeButtonsEventListeners(),this._addButtonsEventListeners(),this._performButtonsLayout()},_removeButtonsEventListeners:function(){var e=this;this._buttonsContainer.children().each(function(){e.removeHandler(t(this))})},_addButtonsEventListeners:function(){var e=this;this._buttonsContainer.children().each(function(s){e.addHandler(t(this),"click",function(){e.changePage(s)})})},_performButtonsLayout:function(){var t=(this.host.width()-this._buttonsContainer.width())/2,e=0!=this._buttonsContainer.outerHeight()?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:t+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*e+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){this._buttonsContainer&&this._buttonsContainer.remove();var e;this._buttons=[],this._buttonsContainer=t("<span/>");for(var s=0;s<this._pages.length;s+=1)e=t('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>'),this._buttonsContainer.append(e),this._buttons[s]=e;this._buttonsContainer.appendTo(this.host),this.showButtons||this._buttonsContainer.hide()},_raiseEvent:function(e,s){var i=new t.Event(this._events[e]);return i.args=s,this.host.trigger(i)},_swapButtons:function(t,e){this._buttons[t].removeClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[t].removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._buttons[e].addClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[e].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(e,s,i){if(!this.disabled){var n=t(this._pages[e]),r=(this.host.width()-n.width())/2,o=n.offset().left-this._innerWrapper.offset().left-r,h=this.currentPage,a=this;void 0===i&&(i=this.animationDuration),this._innerWrapper.stop(),this._swapButtons(this.currentPage,e),this.currentPage=e,this._innerWrapper.animate({marginLeft:-o},i,function(){s&&a._raiseEvent(0,{currentPage:e,oldPage:h})})}},propertyChangedHandler:function(t,e,s,i){if("currentPage"===e)t.currentPage=s,t.changePage(i);else if(/(buttonsOffset|width|height)/.test(e))t.refresh();else{if("showButtons"===e)return void(i?t._buttonsContainer.css("display","block"):t._buttonsContainer.css("display","none"));"slideShow"==e&&t.refresh()}},changePage:function(t){if(t>=this._pages.length||t<0)throw new Error("Invalid index!");this._changePage(t,!0)},forward:function(){this.currentPage+1<this._pages.length&&this.changePage(this.currentPage+1)},back:function(){this.currentPage-1>=0&&this.changePage(this.currentPage-1)}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxSlider","",{}),e.extend(e.jqx._jqxSlider.prototype,{defineInstance:function(){var t={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxSlider.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){var i,r,n,o,l,a,s=this;if("input"===s.element.nodeName.toLowerCase()&&(s.field=s.element,s.field.className&&(s._className=s.field.className),i={title:s.field.title},s.field.value&&(i.value=s.field.value),s.field.id.length?i.id=s.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t,s.field.getAttribute("min")&&(r=s.field.getAttribute("min"),s.min=parseFloat(r)),s.field.getAttribute("step")&&(n=s.field.getAttribute("step"),s.step=parseFloat(n)),s.field.getAttribute("max")&&(o=s.field.getAttribute("max"),s.max=parseFloat(o)),l=document.createElement("div"),void 0!==i.id&&l.setAttribute("id",i.id),void 0!==i.value&&l.setAttribute("value",i.value),l.style.cssText=s.field.style.cssText,s.width||(s.width=s.field.offsetWidth),s.height||(s.height=s.field.offsetHeight),s.field.style.display="none",s.field.parentNode&&s.field.parentNode.insertBefore(l,s.field.nextSibling),a=s.host.data(),s.host=e(l),s.host.data(a),s.element=l,s.element.id=s.field.id,s.field.id=i.id,s._helpers.element=new jqxHelper(s.element),s._helpers.field=new jqxHelper(s.field),s._className&&(s._helpers.element.addClass(s._className),s._helpers.field.removeClass(s._className)),s.field.tabIndex)){var d=s.field.tabIndex;s.field.tabIndex=-1,s.element.tabIndex=d}},createInstance:function(t){var i=this;window.jqxHelper||(window.jqxHelper=e),i._createFromInput("jqxSlider"),i._isTouchDevice=e.jqx.mobile.isTouchDevice();if(i.element.innerHTML="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>",i._leftButton=i.element.firstChild,i._contentWrapper=i._leftButton.nextSibling,i._rightButton=i._contentWrapper.nextSibling,i.element.className=i.toThemeProperty("jqx-slider jqx-widget"),i._topTicks=i._contentWrapper.firstChild,i._track=i._topTicks.nextSibling,i._bottomTicks=i._track.nextSibling,i._leftButton.className=i.toThemeProperty("jqx-slider-left"),i._rightButton.className=i.toThemeProperty("jqx-slider-left"),i._helpers.leftButton=new jqxHelper(i._leftButton),i._helpers.rightButton=new jqxHelper(i._rightButton),i._helpers.element=new jqxHelper(i.element),i._helpers.track=new jqxHelper(i._track),!i.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");if(e.jqx.aria(this),"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._values64=[(new e.jqx.math).fromString(i.values[0].toString(),10),(new e.jqx.math).fromString(i.values[1].toString(),10)],i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10),i._step64=(new e.jqx.math).fromString(i.step.toString(),10),i._ticksFrequency64=(new e.jqx.math).fromString(i.ticksFrequency.toString(),10),i._minorTicksFrequency64=(new e.jqx.math).fromString(i.minorTicksFrequency.toString(),10)}else if("u"===i.int64){try{new BigNumber(i.value)}catch(e){throw new Error("jqxSlider: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._values64=[new BigNumber(i.values[0]),new BigNumber(i.values[1])],i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max),i._step64=new BigNumber(i.step),i._ticksFrequency64=new BigNumber(i.ticksFrequency),i._minorTicksFrequency64=new BigNumber(i.minorTicksFrequency)}i._helpers.element.width(i.width),i._helpers.element.height(i.height),i._helpers.element.isRendered?i._helpers.element.isRendered()?(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()):(i._helpers.element.sizeChanged(function(){e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()}),i._helpers.element.sizeStyleChanged(function(){var e=i._helpers.element.getSizeFromStyle();e.width&&(i.width=e.width),e.height&&(i.height=e.height),i.__trackSize=null,i.__thumbSize=null,i._performLayout(),i._initialSettings()})):(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render())},render:function(){var t=this;t._setPaddingValues(),t._rendering=!0,t._refresh(),t._raiseEvent(4,{value:t.getValue()}),t._addInput(),null==t.element.getAttribute("tabindex")&&t.element.setAttribute("tabindex",0),e.jqx.utilities.resize(t.host,function(){t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()}),"vertical"===t.orientation&&(t.element.style.minWidth="96px"),t._rendering=!1},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){var t=this;t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.removeHandler(e(document),t._getEvent("mouseup")+"."+t.element.id),t.removeHandler(e(document),t._getEvent("mousemove")+"."+t.element.id),e.jqx.utilities.resize(this.host,null,!0),t.host.remove(),t._helpers=[]},_addInput:function(){var e=this,t=e.element.getAttribute("name"),i=document.createElement("input");i.setAttribute("type","hidden"),e.element.appendChild(i),t&&i.setAttribute("name",t),e.rangeSlider?e.values&&(i.value=e.value.rangeStart.toString()+"-"+e.value.rangeEnd.toString()):i.value=e.value.toString(),e.input=i},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){var e=this;e._render(),e._performLayout(),e._removeEventHandlers(),e._addEventHandlers(),e._initialSettings()},_render:function(){var e=this;e._addTrack(),e._addSliders(),e._addTickContainers(),e._updateButtonsVisibility(),e._addRangeBar()},_addTrack:function(){var e=this,t=e._track;e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track")),t.setAttribute("style",""),e._helpers.track.removeClass(e.toThemeProperty("jqx-slider-track-"+e._getSetting("opposite"))),e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track-"+e.orientation)),e._helpers.track.addClass(e.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){var e=this;if(null===e._slider||e._slider.length<1){e._slider={};var t=document.createElement("div"),i=document.createElement("div");t.className=e.toThemeProperty("jqx-slider-slider"),i.className=e.toThemeProperty("jqx-slider-slider"),e._slider.left=t,e._track.appendChild(t),e._slider.right=i,e._track.appendChild(i),e._helpers.track=new jqxHelper(e._track),e._helpers.left=new jqxHelper(e._slider.left),e._helpers.right=new jqxHelper(e._slider.right),e.template&&(e._helpers.left.addClass(e.toThemeProperty("jqx-"+e.template)),e._helpers.right.addClass(e.toThemeProperty("jqx-"+e.template)))}e._helpers.left.removeClass(e.toThemeProperty("jqx-slider-slider-"+e._getSetting("opposite"))),e._helpers.left.addClass(e.toThemeProperty("jqx-slider-slider-"+e.orientation)),e._helpers.right.removeClass(e.toThemeProperty("jqx-slider-slider-"+e._getSetting("opposite"))),e._helpers.right.addClass(e.toThemeProperty("jqx-slider-slider-"+e.orientation)),e._helpers.right.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._helpers.left.addClass(e.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){var e=this;e._bottomTicks.className=e.toThemeProperty("jqx-slider-tickscontainer"),e._topTicks.className=e.toThemeProperty("jqx-slider-tickscontainer");var t="visible";e.showTicks||(t="hidden"),e._bottomTicks.style.visibility=t,e._topTicks.style.visibility=t},_updateButtonsVisibility:function(){var e=this,t="block";e.showButtons&&!e.rangeSlider||(t="none"),e._rightButton.style.display=t,e._leftButton.style.display=t},_getNiceInterval:function(t){function i(e){return Math.log(parseFloat(e))/Math.LN10}var r,n=this,o="Width";"vertical"===n.orientation&&(o="Height");var l=document.createElement("span");if(l.className=n.toThemeProperty("jqx-widget jqx-slider-label"),l.style.position="absolute",l.style.visibility="hidden",n.tickLabelStyleSettings){var a=n.tickLabelStyleSettings;l.style.fontSize=a.fontSize,l.style.fontFamily=a.fontFamily,l.style.fontWeight=a.fontWeight,l.style.fontStyle=a.fontStyle}var s,d;s=n._formatLabel(n.min),d=n._formatLabel(n.max);var h=e.jqx.browser.msie?0:1;document.body.appendChild(l),l.innerHTML=s;var u=l["scroll"+o]+h;l.innerHTML=d;var m=l["scroll"+o]+h;l.parentNode.removeChild(l);var p=Math.max(m,u),_=0;p>105&&(_=(p-105)/100),p*=1.5+_;var g=n._getTrackSize();g>64&&!1===n.showButtons&&(g-=64);var c,f,v,y,x,b=Math.round(g/p);return 0===b&&(b=1),!0===t&&(b*=4),!1===n.int64?(c=n.max-n.min,f=Math.floor(i(c)-i(b)),x=(r=c<2*(y=b*(v=Math.pow(10,f)))?1:c<3*y?2:c<7*y?5:10)*v):(c=new BigNumber(n.max).subtract(new BigNumber(n.min)),f=Math.floor(i(c.toString())-i(b)),v=new BigNumber(10).pow(new BigNumber(f)),y=new BigNumber(b).multiply(v),r=-1===c.compare(new BigNumber(2*y))?1:-1===c.compare(new BigNumber(3*y))?2:-1===c.compare(new BigNumber(7*y))?5:10,-1===(x=new BigNumber(r).multiply(v)).compare(1)&&(x=new BigNumber(1)),"s"===n.int64&&(x=(new e.jqx.math).fromString(x.toString()))),x},_formatLabel:function(t,i){var r,n=this,o=!0!==i?n.tickLabelFormatFunction:n.tooltipFormatFunction,l=!0!==i?n.tickLabelFormatSettings:n.tooltipFormatSettings;return o?r=o(t):l?void 0!==l.radix?r=(new e.jqx.math).getRadixValue(t,n.int64,l.radix):void 0!==l.outputNotation&&"default"!==l.outputNotation&&"decimal"!==l.outputNotation?r=(new e.jqx.math).getDecimalNotation(t,l.outputNotation,l.decimalDigits,l.digits):void 0!==l.decimalDigits?r=Number(t).toFixed(l.decimalDigits):void 0!==l.digits&&(r=Number(Number(t).toPrecision(l.digits)).toString()):r=t,r},_addTicks:function(t,i){var r=this;if(r.showTicks){var n,o,l,a,s,d,h,u,m,p,_,g,c,f=parseInt(t.style[r._getSetting("size")],10),v="normal"===r.layout&&"horizontal"===r.orientation&&!1===r.rtl||"reverse"===r.layout&&"vertical"===r.orientation,y="";!1===r.int64?(s=r.max-r.min,"default"===r.tickMode?(r.niceInterval?(l=r._getNiceInterval(),a=r._getNiceInterval(!0)):(l=r.ticksFrequency,a=r.minorTicksFrequency),d=Math.round(s/l),h=Math.round(s/a)):"tickNumber"===r.tickMode&&(d=r.tickNumber,h=r.minorTickNumber,l=Math.round(s/d)),m=r.min,p=r.max):"s"===r.int64?(s=r._max64.subtract(r._min64),"default"===r.tickMode?(r.niceInterval?(l=r._getNiceInterval(),a=r._getNiceInterval(!0)):(l=r._ticksFrequency64,a=r._minorTicksFrequency64),d=s.div(l).toNumber(),h=s.div(a).toNumber()):"tickNumber"===r.tickMode&&(d=r.tickNumber,h=r.minorTickNumber,l=s.div((new e.jqx.math).fromNumber(d))),m=r._min64.toString(),p=r._max64.toString()):"u"===r.int64&&(s=r._max64.subtract(r._min64),"default"===r.tickMode?(r.niceInterval?(l=r._getNiceInterval(),a=r._getNiceInterval(!0)):(l=r._ticksFrequency64,a=r._minorTicksFrequency64),d=parseInt(s.divide(l).toString(),10),h=parseInt(s.divide(a).toString(),10)):"tickNumber"===r.tickMode&&(d=r.tickNumber,h=r.minorTickNumber,l=s.divide(new BigNumber(d)).intPart()),m=r._min64.toString(),p=r._max64.toString());var x=f/d;u=f/h,t.innerHTML="",o=v?r._formatLabel(m):r._formatLabel(p);var b=document.createElement("span");if(b.style.visibility="hidden",b.className=r.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),r.tickLabelStyleSettings){var S=r.tickLabelStyleSettings;b.style.fontSize=S.fontSize,b.style.fontFamily=S.fontFamily,b.style.fontWeight=S.fontWeight,b.style.fontStyle=S.fontStyle}document.body.appendChild(b),b.innerHTML="0";var w={width:b.offsetWidth,height:b.offsetHeight};b.parentNode.removeChild(b);var T=parseInt(t.style[r._getSetting("oSize")],10),B="horizontal"===r.orientation?r.padding.left:0;y+=r._addTick(t,B,r.min,T,o,w,!1,i);var j=document.createElement("span");j.className=r.toThemeProperty("jqx-widget"),j.style.position="absolute",j.style.visibility="hidden",document.body.appendChild(j),j.innerHTML=r.min.toString(),_="horizontal"===r.orientation?j.offsetWidth:j.offsetHeight;var q=0,k=0;if("default"===r.tickMode&&!0===r.niceInterval){var z,N;if(!1===r.int64)k=(q=v?(N=(z=r.min)-z%l+l)-z:(z=r.max)-(N=z-z%l))/l*x;else{var H=new BigNumber(l.toString());v?q=(N=(z=new BigNumber(r.min)).subtract(z.mod(H)).add(H)).subtract(z):(N=(z=new BigNumber(r.max)).subtract(z.mod(H)),q=z.subtract(N)),k=parseFloat(q.divide(H).multiply(x).toString())}var P=!0;if(_>=k&&(P=!1),N.toString()!==r.max.toString()&&k<f){var C=r._formatLabel(N.toString());y+=r._addTick(t,k+B,N,T,C,w,!1,i,P)}}for(g=1;g<d;g++){n=g*x+k,n=Math.floor(n);var E;!1===r.int64?E=v?r.min+l*g+q:r.max-l*g-q:"s"===r.int64?E=v?r._min64.add(l.multiply((new e.jqx.math).fromString(g.toString(),10))).add((new e.jqx.math).fromString(q.toString(),10)).toString():r._max64.subtract(l.multiply((new e.jqx.math).fromString(g.toString(),10))).subtract((new e.jqx.math).fromString(q.toString(),10)).toString():"u"===r.int64&&(E=v?r._min64.add(l.multiply(g)).add(q).toString():r._max64.subtract(l.multiply(g)).subtract(q).toString()),E.toString()!==r.max.toString()&&(o=r._formatLabel(E.toString()),c=!0,"default"===r.tickMode&&!0===r.niceInterval&&(j.innerHTML=o,n+(_="horizontal"===r.orientation?j.offsetWidth:j.offsetHeight)>=d*x&&(c=!1)),y+=r._addTick(t,n+B,g,T,o,w,!1,i,c))}if(r.showMinorTicks)for(g=1;g<h;g++)n=g*u,n=Math.floor(n),o="",y+=r._addTick(t,n+B,g,T,o,w,!0,i);o=v?r._formatLabel(p):r._formatLabel(m),y+=r._addTick(t,d*x+B,r.max,T,o,w,!1,i),t.innerHTML=y,j.parentNode.removeChild(j)}},_addTick:function(e,t,i,r,n,o,l,a,s){var d,h=this,u="";u=h.toThemeProperty("jqx-slider-tick"),u+=" "+h.toThemeProperty("jqx-fill-state-pressed"),h.template&&(u+=" "+h.toThemeProperty("jqx-"+h.template));var m,p=h._getSetting("top"),_="2px",g=h.tickSize;if(l&&(g=h.minorTickSize),e!==h._bottomTicks&&(_=r-g-2+"px"),"horizontal"===h.orientation){if(m='<div style="'+p+": "+_+"; "+h._getSetting("oSize")+":  "+g+"px; float: left; position:absolute; left:"+t+'px;" class="'+h.toThemeProperty("jqx-slider-tick-horizontal")+" "+u+'"></div>',h.showTickLabels){_=e!==h._bottomTicks?r-g-o.height-2+"px":2+g+"px";var c=o.width*n.toString().length;if(c/=2,d=t-c,!1!==s){var f="",v="",y="",x="";if(h.tickLabelStyleSettings){var b=h.tickLabelStyleSettings;b.fontSize&&(f=b.fontSize),b.fontFamily&&(v=b.fontFamily),b.fontWeight&&(y=b.fontWeight),b.fontStyle&&(x=b.fontStyle)}m+='<div class="'+h.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+p+": "+_+"; float: left; position:absolute; left:"+d+"px; white-space: nowrap; font-size: "+f+"; font-family: "+v+"; font-weight: "+y+"; font-style: "+x+'">'+n+"</div>"}}}else if(m='<div style="'+p+": "+_+"; "+h._getSetting("oSize")+":  "+g+"px; float: none; position:absolute; top:"+t+'px;" class="'+h.toThemeProperty("jqx-slider-tick-vertical")+" "+u+'"></div>',h.showTickLabels){_=e!==h._bottomTicks?r-g-n.toString().length*o.width-6+"px":6+g+"px";var S=o.height;d=t-(S/=2),!1!==s&&(m+='<div class="'+h.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+p+": "+_+"; float: none; position:absolute; top:"+d+'px;">'+n+"</div>")}return m},_addRangeBar:function(){var e=this;(null===e._rangeBar||e._rangeBar.length<1)&&(e._rangeBar=document.createElement("div"),e._rangeBar.className=e.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),e.template&&(e._rangeBar.className+=" "+e.toThemeProperty("jqx-"+e.template)),e._helpers.rangeBar=new jqxHelper(e._rangeBar),e._track.appendChild(e._rangeBar)),e.showRange?e._rangeBar.style.display="block":e._rangeBar.style.display="none",e._thumbSize=e._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){var e=this;null!==e.width&&-1!==e.width.toString().indexOf("px")?e.element.style.width=parseInt(e.width,10)+"px":void 0===e.width||isNaN(e.width)||(e.element.style.width=parseInt(e.width,10)+"px"),null!==e.height&&-1!==e.height.toString().indexOf("px")?e.element.style.height=parseInt(e.height,10)+"px":void 0===e.height||isNaN(e.height)||(e.element.style.height=parseInt(e.height,10)+"px");null!==e.width&&-1!==e.width.toString().indexOf("%")&&(!0,e._helpers.element.width(e.width)),null!==e.height&&-1!==e.height.toString().indexOf("%")&&(!0,e._helpers.element.height(e.height));var t=e._helpers.element.innerHeight();"width"===e._getSetting("size")&&(t=e._helpers.element.innerWidth()),e._performButtonsLayout(),e._performTrackLayout(t-6),e._contentWrapper.style[e._getSetting("size")]=e._track.style[e._getSetting("size")],e._contentWrapper.style[e._getSetting("oSize")]=e.element.style[e._getSetting("oSize")],e._performTicksLayout(),e._performRangeBarLayout();var i=e.padding;if("horizontal"===e.orientation){if(e._contentWrapper.style.position="absolute",e._contentWrapper.style.left="0px",e._contentWrapper.style.top="0px",e.showButtons&&!e.rangeSlider&&(e._contentWrapper.style.left=1+e._helpers.leftButton.outerWidth(!0)+"px",e._leftButton.style.left=i.left+"px",e._rightButton.style.right=i.right+"px","left"===e.buttonsPosition?(e._contentWrapper.style.left=2+2*e._helpers.leftButton.innerWidth()+e._helpers.left.innerWidth()/2+"px",e._rightButton.style.left=1+e._helpers.leftButton.innerWidth()+"px"):"right"===e.buttonsPosition&&(e._contentWrapper.style.left=e._helpers.left.innerWidth()/2+"px",e._leftButton.style.left="",e._leftButton.style.right=1+i.right+e._helpers.leftButton.innerWidth()+"px",e._rightButton.style.right=e._leftButton.style.right-e._helpers.leftButton.innerWidth()+"px")),!e.showButtons||e.rangeSlider){r=2+Math.ceil(e.sliderButtonSize/2);e._contentWrapper.style.left=r+"px"}}else if(e._contentWrapper.style.position="absolute",e._contentWrapper.style.left="0px",e._contentWrapper.style.top="0px",e.showButtons&&!e.rangeSlider&&(e._contentWrapper.style.top=1+e._helpers.leftButton.outerHeight(!0)+"px",e._leftButton.style.top="0px",e._rightButton.style.bottom="0px",e._leftButton.style.left="",e._leftButton.style.right="",e._rightButton.style.left="",e._rightButton.style.right="","left"===e.buttonsPosition?(e._contentWrapper.style.top=2+2*e._helpers.leftButton.innerHeight()+e._helpers.left.innerHeight()/2+"px",e._rightButton.style.top=1+e._helpers.leftButton.innerHeight()+"px"):"right"===e.buttonsPosition&&(e._contentWrapper.style.top=e._helpers.left.innerHeight()/2+"px",e._leftButton.style.top="",e._leftButton.style.bottom=1+e._helpers.leftButton.innerHeight()+"px",e._rightButton.style.bottom=e._leftButton.style.bottom-e._helpers.leftButton.innerHeight()+"px")),!e.showButtons||e.rangeSlider){var r=2+Math.ceil(e.sliderButtonSize/2);e._contentWrapper.style.top=r+"px"}if(e.rangeSlider?e._slider.left.style.visibility="visible":e._slider.left.style.visibility="hidden",e._refreshRangeBar(),"vertical"===e.orientation&&e.showButtons){e._leftButton.offsetWidth,e._track.offsetWidth;e._track.style.marginLeft="1px"}e._editableLabels()},_performTrackLayout:function(e){var t=this,i=e;t.showButtons&&!t.rangeSlider&&("horizontal"===t.orientation?i-=t._helpers.leftButton.innerWidth()+t._helpers.rightButton.innerWidth()+4:i-=t._helpers.leftButton.innerHeight()+t._helpers.rightButton.innerHeight()+4),!t.rangeSlider&&t.showButtons||(i=e-2*(2+Math.ceil(t.sliderButtonSize/2))),"horizontal"===t.orientation?(i-=t.padding.left+t.padding.right,i-=t._helpers.left.outerWidth()-2):i-=t._helpers.left.outerHeight()-2,t._track.style[t._getSetting("size")]=i+"px",t._track.style.left=t.padding.left+"px",t._slider.left.style.left="0px",t._slider.left.style.top="0px",t._slider.right.style.left="0px",t._slider.right.style.top="0px"},_performTicksLayout:function(){var e=this;e._performTicksContainerLayout(),e._addTicks(this._topTicks,"top"),e._addTicks(this._bottomTicks,"bottom"),e._topTicks.style.visibility="hidden",e._bottomTicks.style.visibility="hidden","top"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._topTicks.style.visibility="visible"),"bottom"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var e,t=this;"horizontal"===t.orientation?(t._topTicks.style.width=t._track.style.width,t._bottomTicks.style.width=t._track.style.width,e=(parseInt(t.element.style.height,10)-t._helpers.track.outerHeight())/2-2,t._topTicks.style.height=e+"px",t._bottomTicks.style.height=e+"px",t._topTicks.style.float="none",t._track.style.float="none",t._bottomTicks.style.float="none"):(t._topTicks.style.height=t._track.style.height,t._bottomTicks.style.height=t._track.style.height,e=(parseInt(t.element.style.width,10)-t._helpers.track.outerWidth())/2-2,t._topTicks.style.width=e+"px",t._bottomTicks.style.width=e+"px",t._topTicks.style.float="left",t._track.style.float="left",t._bottomTicks.style.float="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(e){var t=new jqxHelper(e);e.style.marginLeft="0px",e.style.marginTop="0px",e.style.marginRight="0px",e.style.marginBottom="0px";var i=(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(t[this._getSetting("outerOSize")]()))/2;return"horizontal"===this.orientation?(e.style.marginLeft="0px",e.style.marginTop=i+"px"):(e.style.marginTop="0px;",e.style.marginLeft=i+"px"),e},_updateButtonsVisibilityStyles:function(){var e=this;e._leftButton.style.backgroundPosition="center",e._rightButton.style.backgroundPosition="center","vertical"===e.orientation&&(e._leftButton.style.float="none",e._rightButton.style.float="none"),e._leftButton.style.position="absolute",e._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var e=this,t={prev:"left",next:"right"};"vertical"===e.orientation&&(t={prev:"up",next:"down"}),e._helpers.leftButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._helpers.rightButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._leftArrow=e._leftButton.firstChild,e._rightArrow=e._rightButton.firstChild,e._helpers.leftArrow=new jqxHelper(e._leftArrow),e._helpers.rightArrow=new jqxHelper(e._rightArrow),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-left")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-right")),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev)),e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next))},_updateButtonsVisibilityHover:function(){var t=this,i={prev:"left",next:"right"};"vertical"===t.orientation&&(i={prev:"up",next:"down"}),t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.addHandler(e(document),"mouseup.arrow"+t.element.id,function(){t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t.sliderTooltip?(t.sliderTooltipTimer&&clearTimeout(t.sliderTooltipTimer),t.sliderTooltipTimer=setTimeout(function(){t.sliderTooltipObj.fadeOut("fast"),t._mouseDown=!1},t.tooltipHideDelay)):t._mouseDown=!1}),t.removeHandler(t._leftButton,"mousedown."+t.element.id),t.removeHandler(t._leftButton,"mouseup."+t.element.id),t.removeHandler(t._leftButton,"mouseenter."+t.element.id),t.removeHandler(t._leftButton,"mouseleave."+t.element.id),t.removeHandler(t._rightButton,"mousedown."+t.element.id),t.removeHandler(t._rightButton,"mouseup."+t.element.id),t.removeHandler(t._rightButton,"mouseenter."+t.element.id),t.removeHandler(t._rightButton,"mouseleave."+t.element.id),t.addHandler(t._leftButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._mouseDown=!0)}),t.addHandler(t._leftButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),t.addHandler(t._leftButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._leftButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._rightButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t._mouseDown=!0)}),t.addHandler(t._rightButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),t.addHandler(t._rightButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))}),t.addHandler(t._rightButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))})},_layoutButtons:function(){var e=this;"horizontal"===e.orientation?e._horizontalButtonsLayout():e._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=this,t=2+Math.ceil(e.sliderButtonSize/2);"left"===e.buttonsPosition?(e._leftButton.style.marginRight="0px",e._rightButton.style.marginRight=t+"px"):"right"===e.buttonsPosition?(e._leftButton.style.marginLeft=2+t+"px",e._rightButton.style.marginRight="0px"):(e._leftButton.style.marginRight=t+"px",e._rightButton.style.marginLeft=t+"px")},_verticalButtonsLayout:function(){var e=this,t=2+Math.ceil(e.sliderButtonSize/2);"left"===e.buttonsPosition?(e._leftButton.style.marginBottom="0px",e._rightButton.style.marginBottom=t+"px"):"right"===e.buttonsPosition?(e._leftButton.style.marginTop=2+t+"px",e._rightButton.style.marginBottom="0px"):(e._leftButton.style.marginBottom=t+"px",e._rightButton.style.marginTop=2+t+"px");var i=parseInt(e._leftButton.style.marginLeft,10);e._leftButton.style.marginLeft=i-1+"px",e._rightButton.style.marginLeft=i-1+"px"},_performRangeBarLayout:function(){var e=this;e._rangeBar.style[e._getSetting("oSize")]=e._helpers.track[e._getSetting("oSize")]()+"px",e._rangeBar.style[e._getSetting("size")]=e._helpers.track[e._getSetting("size")]()+"px",e._rangeBar.style.position="absolute",e._rangeBar.style.left="0px",e._rangeBar.style.top="0px"},_raiseEvent:function(t,i){var r=this,n=r._events[t],o=new e.Event(n,this.element);return!1===r._triggerEvents||(!!r._rendering||(o.args=i,0===t&&(o.args.type=r.changeType,r.changeType=null),1===t&&(o.args.cancel=!1,r._slideEvent=o),r._lastValue[t]=i.value,o.owner=this,r.host.trigger(o)))},_initialSettings:function(){var e=this;!1===e.int64?e.rangeSlider?"number"!=typeof e.value?e.setValue(e.value):e.setValue(e.values):(void 0===e.value&&(e.value=0),e.setValue(e.value)):!1===e.rangeSlider||!0===Array.isArray(e._value64)?e.setValue(e._value64):e.setValue(e._values64),e.disabled&&e.disable()},_addEventHandlers:function(){var t=this;t.addHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(e(document),t._getEvent("mouseup")+"."+t.element.id,function(){t._stopDrag()});try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var i=function(){t._stopDrag()},r=null;window.parent&&document.referrer&&(r=document.referrer),r&&-1!==r.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i))}}catch(e){}t.addHandler(e(document),t._getEvent("mousemove")+"."+t.element.id,t._performDrag,{that:this}),t.addHandler(t._slider.left,"mouseenter",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseenter",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mouseleave",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseleave",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mousedown",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mousedown",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.left,"mouseup",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mouseup",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler,{that:this}),t.addHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler,{that:this}),t.addHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler,{that:this}),t.addHandler(t.host,"focus",function(){t._helpers.track.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.host,"blur",function(){t._helpers.track.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.element.onselectstart=function(){return!1},t._addMouseWheelListeners(),t._addKeyboardListeners()},_addMouseWheelListeners:function(){var t=this;t.addHandler(t.host,"mousewheel",function(i){if(t.disabled)return!0;if(t.changeType="mouse",document.activeElement&&!e(document.activeElement).ischildof(t.host))return!0;var r=i.wheelDelta;i.originalEvent&&i.originalEvent.wheelDelta&&(i.wheelDelta=i.originalEvent.wheelDelta),"wheelDelta"in i||(r=-40*i.detail),r>0?t.incrementValue():t.decrementValue(),i.preventDefault()})},_addKeyboardListeners:function(){var e=this;e.addHandler(e.host,"keydown",function(t){if(!0!==e._editingLabels)switch(e.changeType="keyboard",t.keyCode){case 40:case 37:return"normal"!==e.layout||e.rtl?e.incrementValue():e.decrementValue(),!1;case 38:case 39:return"normal"!==e.layout||e.rtl?e.decrementValue():e.incrementValue(),!1;case 36:return e.rangeSlider?e.setValue([e.values[0],e.max]):e.setValue(e.min),!1;case 35:return e.rangeSlider?e.setValue([e.min,e.values[1]]):e.setValue(e.max),!1}})},_trackMouseDownHandler:function(t){var i=t.data.that,r=e.jqx.mobile.getTouches(t)[0],n=parseInt(i._slider.left.style[i._getSetting("size")],10);isNaN(n)&&(n=0);var o=(i._isTouchDevice?r:t)[i._getSetting("page")]-n/2,l=i._getClosest(o),a=i._getValueByPosition(o);i._mouseDown=!0,i.changeType="mouse",i._setValue(a,l),i.input&&e.jqx.aria(i,"aria-valuenow",i.input.value)},_getClosest:function(e){var t=this;return t.rangeSlider?(e=e-t._helpers.track.offset()[t._getSetting("left")]-t._helpers.left[t._getSetting("size")]()/2,Math.abs(parseInt(t._slider.left.style[t._getSetting("left")],10)-e)<Math.abs(parseInt(t._slider.right.style[t._getSetting("left")],10)-e)?t._slider.left:t._slider.right):t._slider.right},_removeEventHandlers:function(){var t=this;t.removeHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag),t.removeHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag),t.removeHandler(e(document),t._getEvent("mouseup")+"."+t.host.attr("id"),t._stopDrag),t.removeHandler(e(document),t._getEvent("mousemove")+"."+t.host.attr("id"),t._performDrag),t.removeHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler),t.removeHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler),t.removeHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler),t.element.onselectstart=null,t.removeHandler(t.host,t._getEvent("mousewheel")),t.removeHandler(t.host,t._getEvent("keydown"))},_rightButtonClick:function(){var e=this;e.changeType="mouse","horizontal"!==e.orientation||e.rtl?e.decrementValue():e.incrementValue()},_leftButtonClick:function(){var e=this;e.changeType="mouse","horizontal"!==e.orientation||e.rtl?e.incrementValue():e.decrementValue()},_rightButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(t){var i=t.data.that;i.changeType="mouse",i._capturedElement=t.target;var r=new jqxHelper(t.target).offset();i._startX=r.left,i._startY=r.top;var n=e.jqx.position(t);if(i._mouseStartX=n.left,i._mouseStartY=n.top,i._mouseDown=!0,t.stopPropagation(),i.tooltip&&i._showTooltip(i._capturedElement,i.value),i._isTouchDevice)return!1},_stopDrag:function(){var t=this;t._slideStarted&&t._raiseEvent(2,{value:t.getValue()}),t._slideStarted&&null!==t._capturedElement?(t.input&&e.jqx.aria(this,"aria-valuenow",t.input.value),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._slideStarted=!1,t._capturedElement=null,t.sliderTooltip&&t.sliderTooltipObj.fadeOut("fast")):t._capturedElement=null},_performDrag:function(t){var i=t.data.that;if(null!==i._capturedElement){if(0===t.which&&e.jqx.browser.msie&&e.jqx.browser.version<9)return i._stopDrag(),!1;var r=e.jqx.position(t),n="horizontal"===i.orientation?r.left:r.top;if(i._isDragged(n),i._slideStarted||i._isTouchDevice)return i._dragHandler(n)}},_isDragged:function(e){var t=this;Math.abs(e-this[t._getSetting("mouse")])>2&&!t._slideStarted?(t._slideStarted=!0,t._valueChanged(3)&&t._raiseEvent(3,{value:t.getValue()})):null==t._capturedElement&&(t._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")];var t=this._getValueByPosition(e);if(this.rangeSlider){var i=this._helpers.right,r=this._helpers.left,n=this._getSetting("left");this._capturedElement===r?parseFloat(e)>i.offset()[n]&&(e=i.offset()[n]):parseFloat(e)<r.offset()[n]&&(e=r.offset()[n])}return this._setValue(t,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(t){var i,r,n,o,l=this,a=t-l._helpers.track.offset()[l._getSetting("left")]+l._slider.left.offsetWidth/2,s=a/l._helpers.track[l._getSetting("size")]();return a<0&&(a=0),!1===l.int64?i=(l.max-l.min)*s+l.min:"s"===l.int64?(o=(new e.jqx.math).fromNumber(l._helpers.track[l._getSetting("size")](),10),r=l._max64.subtract(l._min64),n=l._divide64(r,o)*a,i=(new e.jqx.math).fromNumber(n,10).add(l._min64)):"u"===l.int64&&(o=new BigNumber(l._helpers.track[l._getSetting("size")]()),r=l._max64.subtract(l._min64),n=l._divide64(r,o)*a,i=new BigNumber(n).add(l._min64)),"normal"===l.layout?"horizontal"!==l.orientation||l.rtl?!1===l.int64?l.max+l.min-i:l._max64.add(l._min64).subtract(i):i:"horizontal"===l.orientation?!1===l.int64?l.max+l.min-i:l._max64.add(l._min64).subtract(i):i},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var e=this._helpers.left[this._getSetting("size")]();return this.__thumbSize=e,e},_getTrackSize:function(){var e=this;if(e.__trackSize)return e.__trackSize;var t=parseInt(e._helpers.track[e._getSetting("size")](),10);return e.__trackSize=t,t},_getFixedValueByPosition:function(t){var i,r,n,o,l,a,s,d=this,h=d._getTrackSize(),u=d._getThumbSize(),m={number:-1,distance:Number.MAX_VALUE};if(!1===d.int64)for(o=d.step,l=h/(a=(d.max-d.min)/o),s=d._helpers.track.offset()[d._getSetting("left")]-u/2,r=d.max+d.step,"fixedRange"===d.mode&&(r=d.max),n=d.min;n<=r;n+=d.step)Math.abs(m.distance-t)>Math.abs(s-t)&&(m.distance=s,m.number=n),s+=l;else if("s"===d.int64)for(o=d._step64,a=d._max64.subtract(d._min64).div(d._step64),l=d._divide64((new e.jqx.math).fromNumber(h,10),a),s=d._helpers.track.offset()[d._getSetting("left")]-u/2,m={number:(new e.jqx.math).fromString(d._min64.toString(),10),distance:s},i=(new e.jqx.math).fromString(d._min64.toString(),10);"fixedRange"!==d.mode?i.lessThanOrEqual(d._max64.add(d._step64)):i.lessThanOrEqual(d._max64);i=i.add(d._step64))Math.abs(m.distance-t)>Math.abs(s-t)&&(m.distance=s,m.number=(new e.jqx.math).fromString(i.toString(),10)),s+=l;else if("u"===d.int64){o=d._step64,a=d._max64.subtract(d._min64).divide(d._step64),l=parseFloat(new BigNumber(h).divide(a).toString()),s=d._helpers.track.offset()[d._getSetting("left")]-u/2,m={number:new BigNumber(d._min64.toString()),distance:s};var p="fixedRange"!==d.mode?d._max64.add(d._step64):d._max64;for(i=new BigNumber(d._min64.toString());1!==i.compare(p);i=i.add(d._step64))Math.abs(m.distance-t)>Math.abs(s-t)&&(m.distance=s,m.number=new BigNumber(i.toString())),s+=l}return"normal"===d.layout?"horizontal"!==d.orientation||d.rtl?!1===d.int64?d.max+d.min-m.number:d._max64.add(d._min64).subtract(m.number):m.number:"horizontal"===d.orientation?!1===d.int64?d.max+d.min-m.number:d._max64.add(d._min64).subtract(m.number):m.number},_setValue:function(e,t,i){var r=this;if(!r._slideEvent||!r._slideEvent.args.cancel){if(e=r._handleValue(e,t),r._setSliderPosition(e,t,i),r._fixZIndexes(),r._valueChanged(1)&&r._raiseEvent(1,{value:r.getValue()}),r._valueChanged(0)&&r._raiseEvent(0,{value:r.getValue()}),!r.input)return;r.rangeSlider?r.values&&void 0!==r.value.rangeEnd&&void 0!==r.value.rangeStart&&(r.input.value=r.value.rangeStart.toString()+"-"+r.value.rangeEnd.toString()):r.input.value=r.value.toString()}},_valueChanged:function(e){var t=this.getValue();return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){var i=this;return e=i._validateValue(e,t),t===i._slider.left&&(!1===i.int64?i.values[0]=e:(i.values[0]=e.toString(),i._value64[0]=e)),t===i._slider.right&&(!1===i.int64?i.values[1]=e:(i.values[1]=e.toString(),i._values64[1]=e)),i.rangeSlider?(i.value={rangeStart:i.values[0],rangeEnd:i.values[1]},!1!==i.int64&&(i._value64={rangeStart:i._values64[0],rangeEnd:i._values64[1]})):!1===i.int64?i.value=e:(i.value=e.toString(),i._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var t,i=this._helpers.left,r=this._helpers.right,n=this._helpers.track,o=this._getSetting("left"),l=this._getSetting("size"),a=this.rtl&&"horizontal"===this.orientation;if("normal"===this.layout){t=i.position()[o];e(i[0]).position()[o];("vertical"===this.orientation||a)&&(t=r.position()[o])}else t=r.position()[o],"vertical"===this.orientation&&(t=i.position()[o]);this.rangeSlider?this._rangeBar.style[o]=t+"px":"horizontal"!==this.orientation||!a&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[o]=t-n.position().top+i.innerHeight()/2+"px"):this._rangeBar.style[o]=t-n.position().left+i.innerWidth()/2+"px",this._rangeBar.style[l]=Math.abs(r.position()[o]-i.position()[o])+"px"},_validateValue:function(e,t){return!1===this.int64?(e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.rangeSlider&&(t===this._slider.left?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):"s"===this.int64?(e.greaterThan(this._max64)&&(e=this._max64),e.lessThan(this._min64)&&(e=this._min64)):"u"===this.int64&&(1===e.compare(this._max64)&&(e=this._max64),-1===e.compare(this._min64)&&(e=this._min64)),e},_setSliderPosition:function(t,i,r){var n,o,l,a,s=parseInt(this._helpers.track[this._getSetting("size")](),10);r&&(r-=this._helpers.track.offset()[this._getSetting("left")]);var d=parseInt(this._helpers.left[this._getSetting("size")](),10);isNaN(d)&&(d=0),"s"===this.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(this._max64)&&(t=(new e.jqx.math).fromString(this._max64.toString(),10)),t.lessThan(this._min64)&&(t=(new e.jqx.math).fromString(this._min64.toString(),10)),a=1-(l=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(n=l,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(n=a)):(n=a,"horizontal"!==this.orientation&&(n=l)),o=s*n-d/2,i.style[this._getSetting("left")]=o+"px"):"u"===this.int64?("number"!=typeof t&&"string"!=typeof t||(t=new BigNumber(t)),1===t.compare(this._max64)&&(t=new BigNumber(this._max64)),-1===t.compare(this._min64)&&(t=new BigNumber(this._min64)),a=1-(l=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(n=l,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(n=a)):(n=a,"horizontal"!==this.orientation&&(n=l)),o=s*n-d/2,i.style[this._getSetting("left")]=o+"px"):!1===this.int64&&("normal"===this.layout?(n=(t-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(n=1-(t-this.min)/(this.max-this.min))):(n=1-(t-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(n=(t-this.min)/(this.max-this.min))),o=s*n-d/2,i.style[this._getSetting("left")]=o+"px"),this.tooltip&&this._showTooltip(i,this.value),this._refreshRangeBar()},_divide64:function(e,t){var i,r,n,o;if(i=e.toString(),(n=t.toString()).length>15){var l=n.length-15;if(n=n.slice(0,15)+"."+n.slice(15),o=parseFloat(n),i.length>l){var a=i.length-l;i=i.slice(0,a)+"."+i.slice(a)}else if(i.length===l)i="0."+i;else{for(var s="0.",d=0;d<l-i.length;d++)s+="0";i=s+""+i}r=parseFloat(i)}else"s"===this.int64?(r=e.toNumber(),o=t.toNumber()):(r=parseFloat(e.toString()),o=parseFloat(t.toString()));return r/o},_showTooltip:function(e,t){var i=this;if(i._slideStarted||null!=i._capturedElement||i._mouseDown){if(t=i._formatLabel(t,!0),!i.toolTipCreated){var r="tooltip"+i.element.id,n=document.createElement("div");n.style.display="none",n.style.position="absolute",n.style.visibility="hidden",n.style.boxShadow="none",n.style.top="0px",n.style.left="0px",n.style.zIndex=99999,n.setAttribute("id",r),document.body.appendChild(n);var o=document.createElement("div");o.setAttribute("id",r+"Main"),n.appendChild(o);var l=document.createElement("div");l.setAttribute("id",r+"Text"),o.appendChild(l);var a=document.createElement("div");a.setAttribute("id",r+"Arrow"),a.style.top="0px",a.style.left="0px",n.appendChild(a),i.sliderTooltip=n,i.sliderTooltipObj=new jqxHelper(i.sliderTooltip),i.sliderTooltipObj.initAnimate&&i.sliderTooltipObj.initAnimate(),l.innerHTML=t,i.sliderTooltip.className=i.toThemeProperty("jqx-tooltip jqx-popup"),o.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),l.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),a.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),i.sliderTooltipContent=l,i.sliderTooltipArrow=a,i.sliderTooltipMain=o,i.sliderTooltipArrowObj=new jqxHelper(i.sliderTooltipArrow),i.arrowSize=5,i.toolTipCreated=!0,i.rangeSlider&&(i.sliderTooltipArrow.style.visibility="hidden")}var s=new jqxHelper(e).offset();i.sliderTooltip.style.display="block",i.sliderTooltip.style.visibility="visible";var d=i.sliderButtonSize+i.tickSize;if(i.rangeSlider){var h=i.value?i.value.rangeStart:"",u=i.value?i.value.rangeEnd:"";""!==h?i.sliderTooltipContent.innerHTML=h+" - "+u:(i.sliderTooltip.style.display="none",i.sliderTooltip.style.visibility="hidden")}else i.sliderTooltipContent.innerHTML=t.toString();var m,p,_,g=i.sliderTooltip.offsetWidth;if("horizontal"===i.orientation)switch(p=s.left+i.sliderButtonSize/2-g/2,i.rangeSlider&&(_=(i._helpers.right.offset().left-i._helpers.left.offset().left-i._thumbSize)/2,p=i._helpers.left.offset().left-g/2+_+i._thumbSize),i.tooltipPosition){case"far":m=s.top+d+i.arrowSize,i.sliderTooltipObj.offset({top:m,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-t-b")),i.sliderTooltipArrow.style.borderTopWidth="0px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:m-i.arrowSize,left:p-i.arrowSize/2-1+g/2});break;case"near":m=s.top-i.arrowSize-i.sliderTooltipObj.innerHeight()-1,i.sliderTooltipObj.offset({top:m,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-t-b")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth="0px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:m+i.sliderTooltipObj.innerHeight(),left:p-i.arrowSize/2-1+g/2})}else{var c=i.sliderTooltipObj.innerHeight();switch(p=s.left-g-i.arrowSize-i.tickSize,m=s.top+i._thumbSize/2-c/2-1,i.rangeSlider&&(_=(i._helpers.right.offset().top-i._helpers.left.offset().top-i._thumbSize)/2,m=i._helpers.left.offset().top-c/2+_+i._thumbSize),i.tooltipPosition){case"far":p=s.left+i._thumbSize+i.arrowSize+i.tickSize,i.sliderTooltipObj.offset({top:m,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-l-r")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth="0px",i.sliderTooltipArrowObj.offset({top:m+i.sliderTooltipObj.innerHeight()/2-i.arrowSize/2-2,left:p-i.arrowSize});break;case"near":i.sliderTooltipObj.offset({top:m,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-l-r")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth="0px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:m+i.sliderTooltipObj.innerHeight()/2-i.arrowSize/2-2,left:p+g+2})}}}},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(t,i,r,n){if(t.__trackSize=null,t.__thumbSize=null,!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length))switch(i){case"template":t.template&&(t._helpers.left.removeClass(t.toThemeProperty("jqx-"+r)),t._helpers.right.removeClass(t.toThemeProperty("jqx-"+r)),t._helpers.rangeBar.removeClass(t.toThemeProperty("jqx-"+r)),t._helpers.left.addClass(t.toThemeProperty("jqx-"+t.template)),t._helpers.right.addClass(t.toThemeProperty("jqx-"+t.template)),e(t._leftButton).jqxRepeatButton({template:n}),e(t._rightButton).jqxRepeatButton({template:n}),t._helpers.rangeBar.addClass(t.toThemeProperty("jqx-"+t.template)));break;case"theme":e.jqx.utilities.setTheme(r,n,t.host),e(t._leftButton).jqxRepeatButton({theme:n}),e(t._rightButton).jqxRepeatButton({theme:n});break;case"disabled":n?(t.disabled=!0,t.disable()):(t.disabled=!1,t.enable());break;case"width":case"height":t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings();break;case"min":case"max":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(n.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(n)),t._performLayout(),t.__trackSize=null,t.__thumbSize=null,t._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":t._performLayout(),t._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(n.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(n)),t._performLayout(),t._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":t._render(),t._performLayout(),t._initialSettings(),"orientation"===i&&(t.element.style.minWidth="vertical"===n?"96px":"");break;case"buttonsPosition":t._refresh();break;case"rangeSlider":t.value=n?{rangeEnd:t.value,rangeStart:t.value}:t.value.rangeEnd,t._render(),t._performLayout(),t._initialSettings();break;case"value":var o=n;"s"===t.int64?(o=(new e.jqx.math).fromString(n.toString(),10),t._value64=o):"u"===t.int64?(o=new BigNumber(n),t._value64=o):!1===t.int64&&(t.rangeSlider||(t.value=parseFloat(n))),t.setValue(o);break;case"values":var l=n;"s"===t.int64?(l=[(new e.jqx.math).fromString(n[0].toString(),10),(new e.jqx.math).fromString(n[1].toString(),10)],t._values64=l):"u"===t.int64&&(l=[new BigNumber(n[0]),new BigNumber(n[1])],t._values64=l),t.setValue(l);break;case"tooltip":break;case"step":"s"===t.int64?t._step64=(new e.jqx.math).fromString(n.toString(),10):"u"===t.int64&&(t._step64=new BigNumber(n));break;case"editableLabels":t._performLayout(),t._initialSettings();break;case"tickLabelStyleSettings":t._setPaddingValues(!0),t._performLayout(),t._initialSettings();break;default:t._refresh()}},incrementValue:function(t){var i,r=this;!1===r.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=r.step),r.rangeSlider?r.values[1]<r.max&&r._setValue(r.values[1]+t,r._slider.right):r.values[1]>=r.min&&r.values[1]<r.max&&r._setValue(r.values[1]+t,r._slider.right)):"s"===r.int64?(t=void 0===t||isNaN(parseFloat(t))?r._step64:(new e.jqx.math).fromString(t.toString(),10),(i=r._values64[1].add(t)).lessThan(r._values64[1])&&(i=r._max64),r.rangeSlider?r._values64[1].lessThan(r._max64)&&r._setValue(i,r._slider.right):r._values64[1].greaterThanOrEqual(r._min64)&&r._values64[1].lessThan(r._max64)&&r._setValue(i,r._slider.right)):"u"===r.int64&&(t=void 0===t||isNaN(parseFloat(t))?r._step64:new BigNumber(t),-1===(i=r._values64[1].add(t)).compare(r._values64[1])&&(i=r._max64),r.rangeSlider?-1===r._values64[1].compare(r._max64)&&r._setValue(i,r._slider.right):-1!==r._values64[1].compare(r._min64)&&-1===r._values64[1].compare(r._max64)&&r._setValue(i,r._slider.right)),r.input&&e.jqx.aria(this,"aria-valuenow",r.input.value)},decrementValue:function(t){var i,r=this;!1===r.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=r.step),r.rangeSlider?r.values[0]>r.min&&r._setValue(r.values[0]-t,r._slider.left):r.values[1]<=r.max&&r.values[1]>r.min&&r._setValue(r.values[1]-t,r._slider.right)):"s"===r.int64?(t=void 0===t||isNaN(parseFloat(t))?r._step64:(new e.jqx.math).fromString(t.toString(),10),r.rangeSlider?((i=r._values64[0].subtract(t)).greaterThan(r._values64[0])&&(i=r._min64),r._values64[0].greaterThan(r._min64)&&r._setValue(i,r._slider.left)):((i=r._values64[1].subtract(t)).greaterThan(r._values64[1])&&(i=r._min64),r._values64[1].lessThanOrEqual(r._max64)&&r._values64[1].greaterThan(r._min64)&&r._setValue(i,r._slider.right))):"u"===r.int64&&(t=void 0===t||isNaN(parseFloat(t))?r._step64:new BigNumber(t),r.rangeSlider?(1===(i=r._values64[0].subtract(t)).compare(r._values64[0])&&(i=r._min64),1===r._values64[0].compare(r._min64)&&r._setValue(i,r._slider.left)):(1===(i=r._values64[1].subtract(t)).compare(r._values64[1])&&(i=r._min64),1!==r._values64[1].compare(r._max64)&&1===r._values64[1].compare(r._min64)&&r._setValue(i,r._slider.right))),r.input&&e.jqx.aria(this,"aria-valuenow",r.input.value)},val:function(t){var i,r=this;if(0===arguments.length||!e.isArray(t)&&"object"==typeof t)return r.getValue();!1===r.int64?r.setValue(t):"s"===r.int64?(i=(new e.jqx.math).fromString(t.toString(),10),r.setValue(i)):"u"===r.int64&&(i=new BigNumber(t),r.setValue(i))},setValue:function(t){var i=this;if(!1===i.int64||"string"!=typeof t&&"number"!=typeof t||("s"===i.int64?"string"==typeof t?t=(new e.jqx.math).fromString(t,10):"number"==typeof t&&(t=(new e.jqx.math).fromNumber(t,10)):"u"===i.int64&&(t=new BigNumber(t))),i.rangeSlider){var r,n;arguments.length<2?t instanceof Array?(r=t[0],n=t[1]):"object"==typeof t&&void 0!==t.rangeStart&&void 0!==t.rangeEnd&&(r=t.rangeStart,n=t.rangeEnd):(r=arguments[0],n=arguments[1]),i._triggerEvents=!1,i._setValue(n,i._slider.right),i._triggerEvents=!0,i._setValue(r,i._slider.left)}else{i._triggerEvents=!1;var o;o=!1===i.int64?i.min:i._min64,i._setValue(o,i._slider.left),i._triggerEvents=!0,i._setValue(t,i._slider.right)}i.input&&e.jqx.aria(this,"aria-valuenow",i.input.value)},getValue:function(){var e=this.value;return!1!==this.int64&&(e=this._value64.toString()),e},_enable:function(t){var i=this;t?(i._addEventHandlers(),i.disabled=!1,i._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(i._removeEventHandlers(),i.disabled=!0,i._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),e(i._leftButton).jqxRepeatButton({disabled:this.disabled}),e(i._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),e.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(t){function i(e){var t,i,r;return!0===o.showButtons?(t=27,i=0):(t=0,i=8),r=Math.ceil(e/2)+1-t,r=Math.max(r,i)}var r,n,o=this,l=document.createElement("span");if(l.className=o.toThemeProperty("jqx-widget jqx-slider-label"),l.style.position="absolute",l.visibility="hidden",o.tickLabelStyleSettings){var a=o.tickLabelStyleSettings;l.style.fontSize=a.fontSize,l.style.fontFamily=a.fontFamily,l.style.fontWeight=a.fontWeight,l.style.fontStyle=a.fontStyle}"normal"===o.layout?(r=o._formatLabel(o.min),n=o._formatLabel(o.max)):(r=o._formatLabel(o.max),n=o._formatLabel(o.min)),document.body.appendChild(l),l.innerHTML=r;var s="horizontal"===o.orientation?l.offsetWidth:l.offsetHeight;l.innerHTML=n;var d="horizontal"===o.orientation?l.offsetWidth:l.offsetHeight;l.parentNode.removeChild(l),(!0===t||!0!==t&&(void 0===o.padding||e.isEmptyObject(o.padding)))&&("horizontal"===o.orientation?o.padding={left:i(s),right:i(d)}:o.padding={bottom:i(s),top:i(d)})},_editableLabels:function(){function t(e){var t=document.createElement("span");t.className=n.toThemeProperty("jqx-widget jqx-slider-label"),t.style.position="absolute",t.style.visibility="hidden",document.body.appendChild(t),t.innerHTML=e;var i={width:t.scrollWidth,height:t.scrollHeight};return t.parentNode.removeChild(t),i}function i(i,r){if(!n.disabled){var a=t(n._formatLabel(r));l.offset(e(i).offset()),o.style.width=a.width+10+"px",o.style.height=a.height+"px",o.style.visibility="visible",o.value=r,o.select(),n._editingLabels=!0}}function r(t,i,r,o){if(t===n[i].toString())return!1;if("s"===n.int64){var l=(new e.jqx.math).fromString(t,10);if("min"===i&&-1!==l.compare(n["_"+o+"64"])||"max"===i&&1!==l.compare(n["_"+o+"64"]))return!1;n[r]=l,n[i]=t}else if("u"===n.int64){var a=new BigNumber(t);if(-1===a.compare(0)||"min"===i&&-1!==a.compare(n["_"+o+"64"])||"max"===i&&1!==a.compare(n["_"+o+"64"]))return!1;n[r]=a,n[i]=t}else{if("min"===i&&t>=n[o]||"max"===i&&t<=n[o])return!1;n[i]=parseFloat(t)}}var n=this;if(n.showTickLabels&&n.editableLabels){var o,l,a=n.element.id,s=n.element.getElementsByClassName("jqx-slider-label-top"),d=n.element.getElementsByClassName("jqx-slider-label-bottom"),h=n.ticksPosition,u=/^-?\d+\.?\d*$/;if("both"===h||"top"===h){var m,p,_=s[0],g=s[s.length-1];"horizontal"===n.orientation&&"normal"===n.layout&&!1===n.rtl||"vertical"===n.orientation&&"reverse"===n.layout?(m=_,p=g):(m=g,p=_),n.addHandler(e(m),"dblclick.jqxSlider"+a,function(){i(this,n.min),n._editedProperty="min"}),n.addHandler(e(p),"dblclick.jqxSlider"+a,function(){i(this,n.max),n._editedProperty="max"})}if("both"===h||"bottom"===h){var c,f,v=d[0],y=d[d.length-1];"horizontal"===n.orientation&&"normal"===n.layout&&!1===n.rtl||"vertical"===n.orientation&&"reverse"===n.layout?(c=v,f=y):(c=y,f=v),n.addHandler(e(c),"dblclick.jqxSlider"+a,function(){i(this,n.min),n._editedProperty="min"}),n.addHandler(e(f),"dblclick.jqxSlider"+a,function(){i(this,n.max),n._editedProperty="max"})}!0!==n._labelInputCreated?((o=document.createElement("input")).className="jqx-slider-label-input",n.element.appendChild(o)):o=n.element.querySelector(".jqx-slider-label-input"),l=e(o),!0!==n._labelInputCreated&&(n.addHandler(l,"blur.jqxGauge"+n.element.id,function(){var e=this.value;if(o.style.visibility="hidden",u.test(e)){if("min"===n._editedProperty){if(!1===r(e,"min","_min64","max"))return}else if(!1===r(e,"max","_max64","min"))return;n._refresh(),n._editingLabels=!1}}),n._labelInputCreated=!0)}}})}(jqxBaseFramework);

!function(t){t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(s){return!!t.data(s,e)}}):function(e,s,i){return!!t.data(e,i[3])}}),t.jqx.jqxWidget("jqxSortable","",{}),t.extend(t.jqx._jqxSortable.prototype,{defineInstance:function(){var e={appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,maxItems:9999,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholderShow:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:999999,element:null,defaultElement:"<div>",mouseHandled:!1,cancel:"input,textarea,button,select,option",distance:1,delay:0,widgetName:"widget",widgetEventPrefix:"",disabled:!1,create:null,_touchEvents:{mousedown:t.jqx.mobile.getTouchEventName("touchstart"),click:t.jqx.mobile.getTouchEventName("touchstart"),mouseup:t.jqx.mobile.getTouchEventName("touchend"),mousemove:t.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["activate","beforeStop","change","deactivate","out","over","receive","remove","sort","start","stop","update","create"]};return this===t.jqx._jqxSortable.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){this._render()},_render:function(){var e=this;this._isTouchDevice=t.jqx.mobile.isTouchDevice(),this.containerCache={};var s=t(s||e.defaultElement||this)[0];e.document=t(s.style?s.ownerDocument:s.document||s),e.window=t(e.document[0].defaultView||e.document[0].parentWindow),e.host.addClass(e.toThemeProperty("jqx-widget jqx-sortable")),e.refresh(),e.floating=!!e.itemsArray.length&&("x"===e.axis||e._isFloating(e.itemsArray[0].item)),e.offset=e.host.offset(),e._handleMouse(),e._cancelSelect(),e.ready=!0},_isOverAxis:function(t,e,s){return t>=e&&t<e+s},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_getEvent:function(t){return this._isTouchDevice?this._touchEvents[t]+".jqxSortable"+this.element.id:t+".jqxSortable"+this.element.id},_handleMouse:function(){var e=this;e.addHandler(this.host,this._getEvent("mousedown"),function(t){return e._mouseDown(t)}),e.addHandler(e.host,this._getEvent("click"),function(s){if(!0===t.data(s.target,e.widgetName+".preventClickEvent"))return t.removeData(s.target,e.widgetName+".preventClickEvent"),s.stopImmediatePropagation(),!1}),e.started=!1},widget:function(){return this.host},_mouseDestroy:function(){var e=this;e.host.off("."+this.widgetName),e._mouseMoveDelegate&&(e.removeHandler(t(document),this._getEvent("mousemove")),e.removeHandler(t(document),this._getEvent("mouseup")))},_mouseDown:function(e){var s=this;if(!s.mouseHandled){if(s._mouseMoved=!1,s._isTouchDevice){var i=t.jqx.position(e);e.pageX=i.left,e.pageY=i.top}s._mouseStarted&&s._mouseUp(e),s._mouseDownEvent=e,this._isTouchDevice&&(e.which=1);var r=1===e.which,o=!("string"!=typeof this.cancel||!e.target.nodeName)&&t(e.target).closest(this.cancel).length;if(this._isTouchDevice&&(r=!0),!r||o||!this._mouseCapture(e))return!0;if(s.mouseDelayMet=!s.delay,s.mouseDelayMet||(s._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},s.delay)),s._mouseDistanceMet(e)&&s._mouseDelayMet(e)&&(s._mouseStarted=!1!==s._mouseStart(e),!s._mouseStarted))return e.preventDefault(),!0;!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),s._mouseMoveDelegate=function(t){return s._mouseMove(t)},s._mouseUpDelegate=function(t){return s._mouseUp(t)},s.addHandler(t(document),this._getEvent("mousemove"),s._mouseMoveDelegate),s.addHandler(t(document),this._getEvent("mouseup"),s._mouseUpDelegate);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=function(t){s._mouseUp(t)},h=null;window.parent&&document.referrer&&(h=document.referrer),h&&-1!=h.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n))}}catch(t){}return e.preventDefault(),mouseHandled=!0,!0}},_mouseMove:function(e){var s=this;if(this._isTouchDevice){e.which=1;var i=t.jqx.position(e);e.pageX=i.left,e.pageY=i.top}if(s._mouseMoved)if(t.jqx.browser.msie&&t.jqx.browser.version>11){if(!e.which)return s._mouseUp(e)}else{if(t.jqx.browser.msie&&(!document.documentMode||document.documentMode<9)&&!e.button)return s._mouseUp(e);if(!e.which)return s._mouseUp(e)}return(e.which||e.button)&&(s._mouseMoved=!0),s._mouseStarted?(s._mouseDrag(e),e.preventDefault()):(s._mouseDistanceMet(e)&&s._mouseDelayMet(e)&&(s._mouseStarted=!1!==s._mouseStart(s._mouseDownEvent,e),s._mouseStarted?s._mouseDrag(e):s._mouseUp(e)),!s._mouseStarted)},_mouseUp:function(e){var s=this;try{s.removeHandler(t(document),this._getEvent("mousemove")),s.removeHandler(t(document),this._getEvent("mouseup")),s._mouseStarted&&(s._mouseStarted=!1,e.target===s._mouseDownEvent.target&&t.data(e.target,s.widgetName+".preventClickEvent",!0),s._mouseStop(e)),mouseHandled=!1}catch(t){}return!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.distance},_mouseDelayMet:function(){return this.mouseDelayMet},scrollParent:function(e){var s=this.css("position"),i="absolute"===s,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==s&&o.length?o:t(this[0].ownerDocument||document)},destroy:function(){this.host.removeClass("jqx-sortable jqx-sortable-disabled").find(".jqx-sortable-handle").removeClass("jqx-sortable-handle"),this._mouseDestroy();for(var t=this.itemsArray.length-1;t>=0;t--)this.itemsArray[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,s){var i=null,r=!1,o=this;return!o.reverting&&(!o.disabled&&"static"!==o.type&&(o._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(o.handle&&!s&&(t(o.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(o.currentItem=i,o._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,s,i){var r,o,n=this;if(n.currentContainer=this,n._currentContainer=this,n.refreshPositions(),n.helper=n._utility(e),n._cacheHelperProportions(),n._storeMargins(),n.scrollParent=n.helper.scrollParent(),n.offset=n.currentItem.offset(),n.offset={top:n.offset.top-n.margins.top,left:n.offset.left-n.margins.left},t.extend(n.offset,{click:{left:e.pageX-n.offset.left,top:e.pageY-n.offset.top},parent:n._getParentOffset(),relative:n._getRelativeOffset()}),n.helper.css("position","absolute"),n.cssPosition=n.helper.css("position"),n.originalPosition=n._generatePosition(e),n.originalPageX=e.pageX,n.originalPageY=e.pageY,n.cursorAt&&n._adjustOffsetFromHelper(n.cursorAt),n.domPosition={prev:n.currentItem.prev()[0],parent:n.currentItem.parent()[0]},n.helper[0]!==n.currentItem[0]&&n.currentItem.hide(),n._createPlaceholder(),n.containment&&n._setContainment(),n.cursor&&"auto"!==n.cursor&&(o=n.document.find("body"),n.storedCursor=o.css("cursor"),o.css("cursor",n.cursor),n.storedStylesheet=t("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(o)),n.opacity&&(n.helper.css("opacity")&&(n._storedOpacity=n.helper.css("opacity")),n.helper.css("opacity",n.opacity)),n.zIndex&&(n.helper.css("zIndex")&&(n._storedZIndex=n.helper.css("zIndex")),n.helper.css("zIndex",n.zIndex)),n.scrollParent[0]!==n.document[0]&&"HTML"!==n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset()),n._raiseEvent("9",n._uiHash()),n._preserveHelperProportions||n._cacheHelperProportions(),!i)for(r=n.owners.length-1;r>=0;r--)n.owners[r]._raiseEvent("0",n._uiHash(this));return t.jqx.ddmanager&&(t.jqx.ddmanager.current=this),t.jqx.ddmanager&&!n.dropBehaviour&&t.jqx.ddmanager.prepareOffsets(this,e),n.dragging=!0,n.helper.addClass("jqx-sortable-helper"),n._mouseDrag(e),!0},_mouseDrag:function(e){var s,i,r,o,n=this,h=!1,a=this;for(a.position=a._generatePosition(e),a.positionAbs=a._convertPositionTo("absolute"),a.lastPositionAbs||(a.lastPositionAbs=a.positionAbs),a.scroll&&(a.scrollParent[0]!==a.document[0]&&"HTML"!==a.scrollParent[0].tagName?(a.overflowOffset.top+a.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?a.scrollParent[0].scrollTop=h=a.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-a.overflowOffset.top<n.scrollSensitivity&&(a.scrollParent[0].scrollTop=h=a.scrollParent[0].scrollTop-n.scrollSpeed),a.overflowOffset.left+a.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?a.scrollParent[0].scrollLeft=h=a.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-a.overflowOffset.left<n.scrollSensitivity&&(a.scrollParent[0].scrollLeft=h=a.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-a.document.scrollTop()<n.scrollSensitivity?h=a.document.scrollTop(a.document.scrollTop()-n.scrollSpeed):a.window.height()-(e.pageY-a.document.scrollTop())<n.scrollSensitivity&&(h=a.document.scrollTop(a.document.scrollTop()+n.scrollSpeed)),e.pageX-a.document.scrollLeft()<n.scrollSensitivity?h=a.document.scrollLeft(a.document.scrollLeft()-n.scrollSpeed):a.window.width()-(e.pageX-a.document.scrollLeft())<n.scrollSensitivity&&(h=a.document.scrollLeft(a.document.scrollLeft()+n.scrollSpeed))),!1!==h&&t.jqx.ddmanager&&!n.dropBehaviour&&t.jqx.ddmanager.prepareOffsets(this,e)),a.positionAbs=a._convertPositionTo("absolute"),a.axis&&"y"===a.axis||(a.helper[0].style.left=a.position.left+"px"),a.axis&&"x"===a.axis||(a.helper[0].style.top=a.position.top+"px"),s=a.itemsArray.length-1;s>=0;s--)if(i=a.itemsArray[s],r=i.item[0],(o=a._intersectsWithPointer(i))&&i.instance===a.currentContainer&&!(r===a.currentItem[0]||a.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(a.placeholder[0],r)||"semi-dynamic"===a.type&&t.contains(a.host[0],r))){if(a.direction=1===o?"down":"up","pointer"!==a.tolerance&&!a._intersectsWithSides(i))break;a._rearrange(e,i),a._raiseEvent("2",a._uiHash());break}return a._contactOwners(e),t.jqx.ddmanager&&t.jqx.ddmanager.drag(this,e),a._raiseEvent("8",a._uiHash()),a.lastPositionAbs=a.positionAbs,!1},_mouseStop:function(e,s){var i=this;if(e){if(t.jqx.ddmanager&&!this.dropBehaviour&&t.jqx.ddmanager.drop(this,e),i.revert){var r=(i=this).placeholder.offset(),o=i.axis,n={};o&&"x"!==o||(n.left=r.left-i.offset.parent.left-i.margins.left+(i.offsetParent[0]===i.document[0].body?0:i.offsetParent[0].scrollLeft)),o&&"y"!==o||(n.top=r.top-i.offset.parent.top-i.margins.top+(i.offsetParent[0]===i.document[0].body?0:i.offsetParent[0].scrollTop)),i.reverting=!0,t(this.helper).animate(n,parseInt(this.revert,10)||500,function(){i._clear(e)})}else i._clear(e,s);return!1}},cancelSort:function(){var e=this;if(e.dragging){e._mouseUp({target:null}),"original"===e.helper?e.currentItem.css(e._storedCSS).removeClass("jqx-sortable-helper"):e.currentItem.show();for(var s=e.owners.length-1;s>=0;s--)e.owners[s]._raiseEvent("3",e._uiHash(this)),e.owners[s].containerCache.over&&(e.owners[s]._raiseEvent("4",e._uiHash(this)),e.owners[s].containerCache.over=0)}return e.placeholder&&(e.placeholder[0].parentNode&&e.placeholder[0].parentNode.removeChild(e.placeholder[0]),"original"!==e.helper&&e.helper&&e.helper[0].parentNode&&e.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),e.domPosition.prev?t(e.domPosition.prev).after(e.currentItem):t(e.domPosition.parent).prepend(e.currentItem)),this},serialize:function(e){var s=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(s).each(function(){var s=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);s&&i.push((e.key||s[1]+"[]")+"="+(e.key&&e.expression?s[1]:s[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var s=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},s.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,s=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,n=o+t.width,h=t.top,a=h+t.height,c=this.offset.click.top,l=this.offset.click.left,u="x"===this.axis||i+c>h&&i+c<a,f="y"===this.axis||e+l>o&&e+l<n,d=u&&f;return"pointer"===this.tolerance||this.forcePointerForowners||"pointer"!==this.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&s-this.helperProportions.width/2<n&&h<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e="x"===this.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&s,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&s||"left"===r&&!s:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var s,i,r,o,n=[],h=[],a=this._connectWith();if(a&&e)for(s=a.length-1;s>=0;s--)for(i=(r=t(a[s],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName).instance)&&o!==this&&!o.disabled&&h.push([t.isFunction(o.items)?o.items.call(o.host):t(o.items,o.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),o]);for(h.push([t.isFunction(this.items)?this.items.call(this.host,null,{options:this,item:this.currentItem}):t(this.items,this.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(function(){n.push(this)});return t(n)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.itemsArray=t.grep(this.itemsArray,function(t){for(var s=0;s<e.length;s++)if(e[s]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.itemsArray=[],this.owners=[this];var s,i,r,o,n,h,a,c,l=this.itemsArray,u=[[t.isFunction(this.items)?this.items.call(this.host[0],e,{item:this.currentItem}):t(this.items,this.host),this]],f=this._connectWith();if(f&&this.ready)for(s=f.length-1;s>=0;s--)for(i=(r=t(f[s],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetName))&&o!==this&&!o.instance.disabled&&(u.push([t.isFunction(o.instance.items)?o.items.call(o.instance.host[0],e,{item:this.currentItem}):t(o.instance.items,o.instance.host),o.instance]),this.owners.push(o.instance));for(s=u.length-1;s>=0;s--)for(n=u[s][1],i=0,c=(h=u[s][0]).length;i<c;i++)(a=t(h[i])).data(this.widgetName+"-item",n),l.push({item:a,instance:n,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var s,i,r,o;for(s=this.itemsArray.length-1;s>=0;s--)(i=this.itemsArray[s]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.toleranceElement?t(this.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.custom&&this.custom.refreshowners)this.custom.refreshowners.call(this);else for(s=this.owners.length-1;s>=0;s--)o=this.owners[s].host.offset(),this.owners[s].containerCache.left=o.left,this.owners[s].containerCache.top=o.top,this.owners[s].containerCache.width=this.owners[s].host.outerWidth(),this.owners[s].containerCache.height=this.owners[s].host.outerHeight();return this},_cancelSelect:function(){that=this,that.host.addClass("jqx-disableselect")},_createPlaceholder:function(e){var s,i=e=e||this;i.placeholderShow&&i.placeholderShow.constructor!==String||(s=i.placeholderShow,i.placeholderShow={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(s||e.currentItem[0].className+" jqx-sortable-placeholder").removeClass("jqx-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",e.currentItem.attr("src")),s||r.css("visibility","hidden"),r},update:function(t,r){s&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholderShow.element.call(e.host,e.currentItem)),e.currentItem.after(e.placeholder),e.placeholderShow.update(e,e.placeholder)},_contactOwners:function(e){var s,i,r,o,n,h,a,c,l,u,f=null,d=null;for(s=this.owners.length-1;s>=0;s--)if(!t.contains(this.currentItem[0],this.owners[s].host[0]))if(this._intersectsWith(this.owners[s].containerCache)){if(f&&t.contains(this.owners[s].host[0],f.host[0]))continue;f=this.owners[s],d=s}else this.owners[s].containerCache.over&&(this.owners[s]._raiseEvent("4",this._uiHash(this)),this.owners[s].containerCache.over=0);if(f)if(1===this.owners.length)this.owners[d].containerCache.over||(this.owners[d]._raiseEvent("5",this._uiHash(this)),this.owners[d].containerCache.over=1);else{r=1e4,o=null,n=(l=f.floating||this._isFloating(this.currentItem))?"left":"top",h=l?"width":"height",u=l?"clientX":"clientY";var p=this.itemsArray;for(i=p.length-1;i>=0;i--)t.contains(this.owners[d].host[0],p[i].item[0])&&p[i].item[0]!==this.currentItem[0]&&(a=p[i].item.offset()[n],c=!1,e[u]-a>p[i][h]/2&&(c=!0),Math.abs(e[u]-a)<r&&(r=Math.abs(e[u]-a),o=p[i],this.direction=c?"up":"down"));if(!o&&!this.dropOnEmpty)return;if(this.currentContainer===this.owners[d])return void(this.currentContainer.containerCache.over||(this.owners[d]._raiseEvent("5",this._uiHash()),this.currentContainer.containerCache.over=1));if(this.owners[d].host.children().length+1>this.owners[d].maxItems)return this.currentContainer=this._currentContainer,o=this._rearrange(e,null,this.currentContainer.host,!0),this._currentContainer.containerCache.over=1,void this.placeholderShow.update(this.currentContainer,this.placeholder);o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.owners[d].host,!0),this._raiseEvent("2",this._uiHash()),this.owners[d]._raiseEvent("2",this._uiHash(this)),this.currentContainer=this.owners[d],this.placeholderShow.update(this.currentContainer,this.placeholder),this.owners[d]._raiseEvent("5",this._uiHash(this)),this.owners[d].containerCache.over=1}},_utility:function(e){var s=this,i=t.isFunction(s.helper)?t(s.helper.apply(this.host[0],[e,this.currentItem])):"clone"===s.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==s.appendTo?s.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!s.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!s.forceHelperSize||i.height(this.currentItem.height()),i.scrollParent=function(e){var s=this.css("position"),i="absolute"===s,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==s&&o.length?o:t(this[0].ownerDocument||document)},i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.jqx.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_storeMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this;"parent"===t.containment&&(t.containment=this.helper[0].parentNode),"document"!==t.containment&&"window"!==t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===t.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===t.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,s){s||(s=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:s.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:s.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var s,i,r=this,o=e.pageX,n=e.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),r.grid&&(s=this.originalPageY+Math.round((n-this.originalPageY)/r.grid[1])*r.grid[1],n=this.containment?s-this.offset.click.top>=this.containment[1]&&s-this.offset.click.top<=this.containment[3]?s:s-this.offset.click.top>=this.containment[1]?s-r.grid[1]:s+r.grid[1]:s,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(t,e,s,i){s?s[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_delay:function(t,e){var s=this;return setTimeout(function(){return("string"==typeof t?s[t]:t).apply(s,arguments)},e||0)},_clear:function(t,e){function s(t,e,s){return function(i){var r=this._events.indexOf(t);s._raiseEvent(r,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("jqx-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._raiseEvent("6",this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".jqx-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._raiseEvent("11",this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._raiseEvent("7",this._uiHash())}),r.push(function(t){return function(e){t._raiseEvent("6",this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._raiseEvent("11",this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.owners.length-1;i>=0;i--)e||r.push(s("deactivate",this,this.owners[i])),this.owners[i].containerCache.over&&(r.push(s("out",this,this.owners[i])),this.owners[i].containerCache.over=0);return this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._raiseEvent("1",this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),e||this._raiseEvent("10",this._uiHash()),this.fromOutside=!1,!this.cancelHelperRemoval},disable:function(){that=this,that.disabled=!0},enable:function(){that=this,that.disabled=!1},instance:function(){return that=this,that},_uiHash:function(e){var s=e||this;return{helper:s.helper,placeholder:s.placeholder||t([]),position:s.position,originalPosition:s.originalPosition,offset:s.positionAbs,item:s.currentItem,sender:e?e.host:null}},_raiseEvent:function(e,s){that=this;var i=t.Event(that._events[e]);return i.args=s,that.host.trigger(i)},propertyChangedHandler:function(t,e,s,i){if(that=this,i!==s)switch(e){case"disabled":that.disabled=i}}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxSplitter","",{}),t.extend(t.jqx._jqxSplitter.prototype,{defineInstance:function(){var e={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:t.jqx.mobile.getTouchEventName("touchstart"),mouseup:t.jqx.mobile.getTouchEventName("touchend"),mousemove:t.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return this===t.jqx._jqxSplitter.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){this.render()},_initOverlay:function(e){if(this.overlay||"undefined"==e)this.overlay.remove(),this.overlay=null;else if(1==e){this.overlay=t("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(t(document.body));this.host.coord();this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(t(window).width()),this.overlay.height(t(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(e){return!(e.target!=this.splitBarButton[0]&&!this.disabled)||(!(!this.panels[0].collapsed&&!this.panels[1].collapsed&&this.resizable)||(null!=this.overlay||(this._dragging=!0,this._initOverlay(!0),this._dragStart=t.jqx.position(e),!1)))},_drag:function(e){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var s="horizontal"==this.orientation?"top":"left",i="vertical"==this.orientation?"width":"height";if(this._position=t.jqx.position(e),this.overlay&&!this._splitBarClone&&Math.abs(this._position[s]-this._dragStart[s])>=3){var a=this.splitBar.coord();return this._cloneStart={left:a.left,top:a.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var l,r,n=this.host[i](),h=n/100,o=this._splitBarClone[i]()+2,p=parseInt(this.host.coord()[s]),d=this._position[s]-this._dragStart[s]+this._cloneStart[s]-p;return 0>d&&(d=0),d>n+0-o&&(d=n+0-o),l=this.panels[0].min,-1!=(r=this.panels[1].min).toString().indexOf("%")&&(r=parseFloat(r)*h),-1!=l.toString().indexOf("%")&&(l=parseFloat(l)*h),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),d<l&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),d=l),d>n+0-o-r&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),d=n+0-o-r),this._splitBarClone.css(s,d),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}return!0},resize:function(t,e){this.width=t,this.height=e,this._arrange()},_resize:function(){var t="horizontal"==this.orientation?"height":"width",e="horizontal"==this.orientation?"top":"left",s=this._splitBarClone.css(e),i=this.host[t](),a=1/(i/100);-1!=this.panels[0].size.toString().indexOf("%")?(this.panels[0].size=parseFloat(s)*a+"%",this.panels[1].size=100-parseFloat(s)*a+"%"):(this.panels[0].size=parseFloat(s),this.panels[1].size=i-parseFloat(s)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var t=this.splitBar.clone();return t.fadeTo(0,.7),t.css("z-index",99999),"vertical"==this.orientation?t.css("cursor","col-resize"):t.css("cursor","row-resize"),this.host.append(t),t},_eventName:function(t){return this._isTouchDevice?this._eventsMap[t]:t},_addHandlers:function(){var e=this;if(t.jqx.utilities.resize(this.host,function(){e._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(t){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var t=function(t){t.collapsed?e.expand():e.collapse()};e.panels[0].collapsible?t(e.panels[0]):e.panels[1].collapsible&&t(e.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){e.splitBarButton.addClass(e.toThemeProperty("jqx-splitter-collapse-button-hover")),e.splitBarButton.addClass(e.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){e.splitBarButton.removeClass(e.toThemeProperty("jqx-splitter-collapse-button-hover")),e.splitBarButton.removeClass(e.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(t(document),this._eventName("mousemove")+"."+this.element.id,function(t){return e._drag(t)}),this.addHandler(t(document),this._eventName("mouseup")+"."+this.element.id,function(){return e._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(t){return e._startDrag(t)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){e.resizable&&!e.disabled&&(e.splitBar.addClass(e.toThemeProperty("jqx-splitter-splitbar-hover")),e.splitBar.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){e.resizable&&!e.disabled&&(e.splitBar.removeClass(e.toThemeProperty("jqx-splitter-splitbar-hover")),e.splitBar.removeClass(e.toThemeProperty("jqx-fill-state-hover")))}),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var i=function(t){e._stopDrag()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}},_removeHandlers:function(){this.removeHandler(t(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(t(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(t(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var e=this.host.children();if(2!=e.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==e.length){var s=e[0].className.split(" "),i=e[1].className.split(" ");if(-1!=s.indexOf("jqx-reset")&&-1!=s.indexOf("jqx-splitter")&&-1!=s.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=i.indexOf("jqx-reset")&&-1!=i.indexOf("jqx-splitter")&&-1!=i.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(this.host.parent().length>0&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=t.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=t("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return t.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){if(2!=(e=this.host.children()).length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:void 0==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var e=this.host.children();this.panel1=this.panels[0].element=t(e[0]),this.panel2=this.panels[1].element=t(e[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",t.each(this.panels,function(){void 0==this.min&&(this.min=0),void 0==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),void 0==this.collapsible&&(this.collapsible=!0),void 0==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var t=this.width;"string"!=typeof t&&(t=parseInt(this.width)+"px"),this.host.css("width",t)}if(null!=this.height){var e=this.height;"string"!=typeof e&&(e=parseInt(this.height)+"px"),this.host.css("height",e)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var s="horizontal"==this.orientation?"width":"height";this.splitBar.css(s,"100%"),this.panel1.css(s,"100%"),this.panel2.css(s,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var t=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?t=0:this.panels[1].collapsible&&(t=1),-1!=t&&(this.panels[t].collapsed=!0,this.panels[t].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:t,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var t=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?t=0:this.panels[1].collapsible&&(t=1),-1!=t&&(this.panels[t].collapsed=!1,this.panels[t].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:t,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(t){1!=t&&this._arrange()},propertyChangedHandler:function(e,s,i,a){"panels"!==s&&"orientation"!==s&&"showSplitBar"!==s?("touchMode"===s&&(e._isTouchDevice=a),"disabled"===s?a?e.disable():e.enable():"theme"===s?t.jqx.utilities.setTheme(i,a,e.host):e.refresh()):e.render()},_layoutPanels:function(){var t,e,s,i,a=this,l="horizontal"==this.orientation?"height":"width",r="horizontal"==this.orientation?"top":"left",n=parseInt(this._splitBarSize)+2;this.showSplitBar||(n=0);var h=this.host[l](),o=h/100,p=1/o,d=p*n,c=this.panel1,u=this.panel2,m=this.panels[0].size;this.panels[0].collapsed&&(s=!0),this.panels[1].collapsed&&(i=!0),t=this.panels[0].min,-1!=(e=this.panels[1].min).toString().indexOf("%")&&(e=parseFloat(e)*o),-1!=t.toString().indexOf("%")&&(t=parseFloat(t)*o),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(c.width(this.host.width()),u.width(this.host.width())):(c.height(this.host.height()),u.height(this.host.height())));if(s){v=Math.max(e,h-n);c[l](0),u[l](v)}else if(i){var v=Math.max(t,h-n);u[l](0),c[l](v)}else if(-1!=m.toString().indexOf("%")){B=100-parseFloat(m);if(c.css(l,parseFloat(m)+"%"),B-=d,u.css(l,B+"%"),(x=u[l]())<e){f=(v=x-e)*p;m=parseFloat(m)+parseFloat(f);var B=100-parseFloat(m);c.css(l,parseFloat(m)+"%"),B-=d,u.css(l,B+"%")}if(c[l]()<t){var f=t*p;c.css(l,parseFloat(f)+"%")}}else{var x=h-m-n;c[0].style[l]!=m+"px"&&c[l](m),u[0].style[l]!=x+"px"&&u[l](x),x<e&&(m+=x-e,u[l](e),c[l](m)),m<t&&c[l](t)}!function(){var t=a.panel1[l]();if(a.splitBar[0].style[r]!=t+"px"){var e=t;"vertical"==a.orientation?(a.splitBar[0].style.borderLeftColor="",a.splitBar[0].style.borderRightColor="",a.splitBarButton[0].style.width=parseInt(a._splitBarSize)+"px",a.splitBarButton[0].style.left="0px"):(a.splitBar[0].style.borderTopColor="",a.splitBar[0].style.borderBottomColor="",a.splitBarButton[0].style.height=parseInt(a._splitBarSize)+"px",a.splitBarButton[0].style.top="0px"),a._hasBorder&&(h-n==t?"vertical"==a.orientation?(a.splitBar[0].style.borderRightColor="transparent",a.splitBarButton[0].style.width=parseInt(a._splitBarSize+1)+"px"):(a.splitBar[0].style.borderBottomColor="transparent",a.splitBarButton[0].style.height=parseInt(a._splitBarSize+1)+"px"):0==t&&("vertical"==a.orientation?(a.splitBar[0].style.borderLeftColor="transparent",a.splitBarButton[0].style.width=parseInt(a._splitBarSize+1)+"px",a.splitBarButton[0].style.left="-1px"):(a.splitBar[0].style.borderTopColor="transparent",a.splitBarButton[0].style.height=parseInt(a._splitBarSize+1)+"px",a.splitBarButton[0].style.top="-1px"))),a.splitBar[0].style[r]=e+"px"}a.panel2[0].style[r]!=t+n+"px"&&(a.panel2[0].style[r]=t+n+"px")}(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),t.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(e,s){var i=new t.Event(this._events[e]);i.owner=this,i.args=s;this.orientation;var a=new Array;return a[0]={},a[1]={},a[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,a[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,a[0].min=this.panels[0].min,a[1].min=this.panels[1].min,a[0].collapsible=this.panels[0].collapsible,a[1].collapsible=this.panels[1].collapsible,a[0].collapsed=this.panels[0].collapsed,a[1].collapsed=this.panels[1].collapsed,i.args.panels=a,this.host.trigger(i)}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxSwitchButton","",{}),t.extend(t.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var e={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return this===t.jqx._jqxSwitchButton.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(e){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),t.jqx.aria(this),this.render();var i=this;i.element.tabIndex||i.host.attr("tabindex",0),t.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},_createFromInput:function(){var e=this;if("input"==e.element.nodeName.toLowerCase()){e.field=e.element,e.field.className&&(e._className=e.field.className);var i={title:e.field.title};e.field.value&&(i.value=e.field.value),e.field.checked&&(i.checked=!0),e.field.id.length?i.id=e.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":i.id=t.jqx.utilities.createId()+"_jqxSwitchButton";var s=t("<div></div>",i);s[0].style.cssText=e.field.style.cssText,e.width||(e.width=t(e.field).width()),e.height||(e.height=t(e.field).outerHeight()),t(e.field).hide().after(s);var h=e.host.data();if(e.host=s,e.host.data(h),e.element=s[0],e.element.id=e.field.id,e.field.id=i.id,e._className&&(e.host.addClass(e._className),t(e.field).removeClass(e._className)),e.field.tabIndex){var o=e.field.tabIndex;e.field.tabIndex=-1,e.element.tabIndex=o}}},resize:function(t,e){this.width=t,this.height=e,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var e=t.data(document.body,"jqx-switchbutton")||1;this._idHandler(e),t.data(document.body,"jqx-draggables",++e),this._isTouchDevice=t.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(t){this._onLabel.html('<div style="display: inline-block;">'+t+"</div>"),this._centerLabels()},setOffLabel:function(t){this._offLabel.html('<div style="display: inline-block;">'+t+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(t){return 0==arguments.length||null!=t&&"object"==typeof t?this.checked:("string"==typeof t?("true"==t&&this.check(),"false"==t&&this.uncheck(),""==t&&this.indeterminate()):(1==t&&this.check(),0==t&&this.uncheck(),null==t&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),t.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),t.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(t){if(!this.element.id){var e="jqx-switchbutton-"+t;this.element.id=e}},_dir:function(t){return this._dimensions[this.orientation][t]},_getEvent:function(e){if(this._isTouchDevice){var i=this._touchEvents[e];return t.jqx.mobile.getTouchEventName(i)}return e},_render:function(){this._thumb=t("<div/>"),this._onLabel=t("<div/>"),this._offLabel=t("<div/>"),this._wrapper=t("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var t=this._thumb,e=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),t.addClass(this.toThemeProperty("jqx-fill-state-normal")),t.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),e.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),e.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var t,e=this.host,i=this._dir("opSize"),s=this._dir("size"),h=this._wrapper;if(e.css({width:this.width,height:this.height}),h.css(i,e[i]()),this._thumbLayout(),this._labelsLayout(),t=this._borders[this._dir("opposite")],h.css(s,e[s]()+this._offLabel[this._dir("oSize")]()+t),h.css(i,e[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){this._thumb;var o=this._onLabel,a=this._offLabel;o.css("position","relative"),o.css("top","1px"),o.css("margin-left","1px"),a.css("position","relative"),a.css("top","1px"),a.css("left","-2px"),a.css("margin-right","1px"),a.height(o.height()-2),a.width(o.width()-3),o.height(o.height()-2),o.width(o.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](e[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var t=this.thumbSize,e=this.host;t.toString().indexOf("%")>=0&&(t=e[this._dir("size")]()*parseInt(t,10)/100),this._thumb[this._dir("size")](t),this._thumb[this._dir("opSize")](e[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var t=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-t/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-t/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var t=this.host,e=this._thumb,i=this._dir("opSize"),s=this._dir("size"),h=this._dir("oSize"),o=t[s]()-e[h](),a=this._borders[this._dir("opposite")]/2;this._onLabel[s](o+a),this._offLabel[s](o+a),this.rtl&&this._onLabel[s](o+2*a),this._onLabel[i](t[i]()),this._offLabel[i](t[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var t="left";this.rtl&&(t="right"),this._onLabel.css("float",t),this._thumb.css("float",t),this._offLabel.css("float",t)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var t=this._onLabel.children("div"),e=this._offLabel.children("div"),i=t.parent().height(),s=t.outerHeight(),h=this._borders[this.orientation]/2||0;0==s&&(s=14);var o=Math.floor((i-s)/2)+h;t.css("margin-top",o),e.css("margin-top",o)},_removeEventHandlers:function(){var e="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+e,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+e,this._mouseDown),this.removeHandler(t(document),this._getEvent("mouseup")+e,this._mouseUp),this.removeHandler(t(document),this._getEvent("mousemove")+e,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+e),this.removeHandler(this._thumb,"mouseleave"+e),this.removeHandler(this._wrapper,"focus"+e),this.removeHandler(this._wrapper,"blur"+e)},_addEventHandles:function(){var e="."+this.element.id,i=this;this.addHandler(this.host,"focus"+e,function(t){return i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+e,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+e,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+e,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+e,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+e,this._mouseDown,{self:this}),this.addHandler(t(document),this._getEvent("mouseup")+e,this._mouseUp,{self:this}),this.addHandler(t(document),this._getEvent("mousemove")+e,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,t.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,t.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(t){var e=t.data.self;"click"!==e.toggleMode&&"default"!==e.toggleMode||e.disabled||e._isDistanceTraveled||e._dragged||(e._wrapper.stop(),e.toggle()),e._thumb.removeClass(e.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(t){var e=t.data.self,i=e._wrapper;e.metroMode&&(e.host.css("overflow","hidden"),e._onLabel.css("visibility","visible"),e._offLabel.css("visibility","visible")),e._mouseStartPosition=e._getMouseCoordinates(t),e._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},e.disabled||"slide"!==e.toggleMode&&"default"!==e.toggleMode||(e._wrapper.stop(),e._isMouseDown=!0,e._isDistanceTraveled=!1,e._dragged=!1),e._thumb.addClass(e.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(t){var e=t.data.self;if(e.metroMode,e._isMouseDown=!1,e._thumb.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._isDistanceTraveled){var i=e._wrapper,s=parseInt(i.css("margin-"+e._dir("pos")),10)||0;e._dropHandler(s)?e._switchButton(!e.checked):e._switchButton(e.checked,null,!0),e._isDistanceTraveled=!1}},_mouseMove:function(t){var e=t.data.self,i=e._getMouseCoordinates(t);if(e._isMouseDown&&e._distanceTraveled(i)){var s=e._dir("pos"),h=e._wrapper,o=e._buttonStartPosition[s]+i[s]-e._mouseStartPosition[s],o=e._validatePosition(o);return e._dragged=!0,h.css("margin-"+e._dir("pos"),o),e._onLabel.css("visibility","visible"),e._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(t){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var e=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(t.left-e.left)>=i||Math.abs(t.top-e.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(t){var e=this._borders[this._dir("opposite")],i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-e;return 0<t?0:i>t?i:t},_dropHandler:function(t){var e=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),i=Math.abs(e-0);return Math.abs(t-this._buttonStartPosition[this._dir("pos")])>=i*(this.switchRatio/100)},_switchButton:function(t,e,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),t?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var s=this._wrapper,h=this,o={},a=this._borders[this._dir("opposite")],r=0;void 0===e&&(e=this.animationEnabled?this.animationDuration:0),this.rtl?t?(r=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+a,this.metroMode&&(r+=5)):this.metroMode&&(r-=3):t||(r=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+a),o["margin-"+this._dir("pos")]=-r,t?h.host.addClass(h.toThemeProperty("jqx-switchbutton-on")):h.host.removeClass(h.toThemeProperty("jqx-switchbutton-on")),s.animate(o,e,function(){t?(h._onLabel.css("visibility","visible"),h._offLabel.css("visibility","hidden")):(h._onLabel.css("visibility","hidden"),h._offLabel.css("visibility","visible")),h.checked=t,i||h._handleEvent(!t)})},_handleEvent:function(t){t!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),t?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var e=this.host.find("*");t.each(e,function(e,i){i.onselectstart=function(){return!1},t(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(t){return this._isTouchDevice&&t.originalEvent.touches?{left:t.originalEvent.touches[0].pageX,top:t.originalEvent.touches[0].pageY}:{left:t.pageX,top:t.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(e,i){var s=t.Event(this._events[e]);return s.args=i,this.host.trigger(s)},_themeChanger:function(e,i,s){if(e){void 0===s&&(s=this.host);for(var h=s[0].className.split(" "),o=[],a=[],r=s.children(),n=0;n<h.length;n+=1)h[n].indexOf(e)>=0&&(o.push(h[n]),a.push(h[n].replace(e,i)));this._removeOldClasses(o,s),this._addNewClasses(a,s);for(n=0;n<r.length;n+=1)this._themeChanger(e,i,t(r[n]))}},_removeOldClasses:function(t,e){for(var i=0;i<t.length;i+=1)e.removeClass(t[i])},_addNewClasses:function(t,e){for(var i=0;i<t.length;i+=1)e.addClass(t[i])},propertiesChangedHandler:function(t,e,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(t._wrapper.css("margin-left","0px"),t._wrapper.css("margin-top","0px"),t._performLayout(),t._wrapper.css("left","0px"),t._wrapper.css("top","0px"),t._switchButton(this.checked,0,!0))},propertyChangedHandler:function(e,i,s,h){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length))switch(i){case"disabled":h?e.disable():e.enable();break;case"switchRatio":e.switchRatio=parseInt(e.switchRatio,10);break;case"checked":h?e.check():e.uncheck();break;case"onLabel":e.setOnLabel(h);break;case"offLabel":e.setOffLabel(h);break;case"theme":t.jqx.utilities.setTheme(s,h,e.host);break;case"width":case"height":case"thumbSize":case"orientation":e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework);

!function(t){"use strict";t.jqx.jqxWidget("jqxTabs","",{}),t.extend(t.jqx._jqxTabs.prototype,{defineInstance:function(){var e={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};return this===t.jqx._jqxTabs.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){this._IE8=t.jqx.browser.msie&&t.jqx.browser.version<9,t.jqx.aria(this),this.element.className+=" "+this.toThemeProperty("jqx-tabs jqx-widget jqx-widget-content"),this.element.setAttribute("role","tablist");for(var e=this.host.children(),i=0;i<e.length;i++){var s=e[i];"ul"===s.nodeName.toLowerCase()?this._unorderedList=s:"div"===s.nodeName.toLowerCase()&&this._contentList.push(s)}this._unorderedListHelper=t(this._unorderedList),this._unorderedListHelper.initAnimate&&this._unorderedListHelper.initAnimate(),this._closeButtonList=[],this._selectedItem=this.selectedItem,this._isTouchDevice=t.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1),this._titleList=this._unorderedListHelper.children();for(var r=this._titleList.length;r;)r--,this._titleList[r].setAttribute("role","tab"),this._titleList[r].getAttribute("id")||this._titleList[r].setAttribute("id",this.element.id+"Tab"+r),this._contentList[r].setAttribute("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){var e=this;if("none"===e.host.css("display"))return!0;var i=!1;return t.each(e.host.parents(),function(){if("none"===t(this).css("display"))return i=!0,!1}),i},_enableWindowResize:function(){var e=this,i=t.jqx.isHidden(e.host);t.jqx.utilities.resize(this.host,function(){i?(e._uiRefresh(!0),i=!1):e.refresh()})},resize:function(e,i){this.width=e,this.height=i;var s=t.jqx.isHidden(this.host);s?(this._uiRefresh(!0),s=!1):this.refresh()},refresh:function(t){!0===t&&void 0!==t||this._setSize()},_seletionTrackerBrowserCheck:function(){var e="Browser CodeName: "+navigator.appCodeName;return e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,-1===(e+="User-agent header: "+navigator.userAgent).indexOf("IEMobile")&&(-1===e.indexOf("Windows Phone OS")&&!(t.jqx.browser.msie&&t.jqx.browser.version<=7))},render:function(){this._refresh()},_uiRefresh:function(e){if(this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),e&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!==t(this._rightArrow).css("visibility")){var i=2*this.arrowButtonSize,s=this._width(this.element)-parseInt(this._width(this._unorderedList)+i+parseInt(this._unorderedListHelper.css("margin-left"),10),10);this._unorderedList.style.left=s+"px"}},_refresh:function(){t.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.className+=" "+this.toThemeProperty("jqx-tabs-title-container"),this._unorderedList.style.outline="none",this._unorderedList.style.whiteSpace="nowrap",this._unorderedList.style.marginTop="0px",this._unorderedList.style.marginBottom="0px",this._unorderedList.style.padding="0px",this._unorderedList.style.background="transparent",this._unorderedList.style.border="none",this._unorderedList.style.borderStyle="none",this._unorderedList.style.textIndent="0px";for(var t=this.length();t;){t--;var e=this._titleList[t],i="jqx-tabs-title jqx-item";switch(e.style.padding="","bottom"===this.position&&(i+=" jqx-tabs-title-bottom"),e.disabled&&(i+=" jqx-tabs-title-disable jqx-fill-state-disabled"),this.position){case"top":i+=" jqx-rc-t",this._removeClass(this._contentList[t],this.toThemeProperty("jqx-rc-t")),this._contentList[t].className+=" "+this.toThemeProperty("jqx-rc-b");break;case"bottom":i+=" jqx-rc-b",this._removeClass(this._contentList[t],this.toThemeProperty("jqx-rc-b")),this._contentList[t].className+=" "+this.toThemeProperty("jqx-rc-t")}e.className="jqx-reset jqx-disableselect "+this.toThemeProperty(i)}if(this.selectionTracker)switch(this.position){case"top":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-b")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-t");break;case"bottom":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-t")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-b")}},_raiseEvent:function(e,i){var s=new t.Event(this._events[e]);s.owner=this,s.args=i,6!==e&&7!==e||(s.cancel=!1,this._currentEvent=s);var r="";try{if(r=this.host.trigger(s),1===e){var n=this;if(this.selectionTracker||"none"!==this.animationType)setTimeout(function(){n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0);var e=new t.Event("loadContent");e.owner=this,n._contentList.length>0&&n._contentList[n.selectedItem]&&t(n._contentList[n.selectedItem]).trigger(e)},50+n.selectionTrackerAnimationDuration);else{var o=new t.Event("loadContent");n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0),o.owner=this;var l=new t.Event("resize");this.host.trigger(l)}}}catch(t){t&&console&&console.log(t)}return r},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var t=this.arrowButtonSize,e=this.arrowButtonSize;return"left"===this.scrollPosition?t+e:"both"===this.scrollPosition?t:0},_scrollRight:function(e){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var i,s,r,n=parseInt(this._width(this._unorderedList)+parseInt(this._unorderedListHelper.css("margin-left"),10),10),o=this._width(this.element),l=parseInt(this._unorderedListHelper.css("left"),10),a=this._getArrowsDisplacement(),h=0;this.scrollable?(i=this._leftArrow.offsetWidth,s=this._rightArrow.offsetWidth):(i=0,s=0),e=this.enableScrollAnimation?e:0,this._width(this._headerWrapper)>parseInt(this._unorderedListHelper.css("margin-left"),10)+this._width(this._unorderedList)?h=a:Math.abs(l)+this.scrollStep<Math.abs(o-n)+i+s+a?(h=l-this.scrollStep,r=l-this.scrollStep+parseInt(t(this._titleList[this._selectedItem]).position().left,10)):(h=o-n-(2*this.arrowButtonSize-a))<parseInt(this._unorderedListHelper.css("left"),10)-4&&h>parseInt(this._unorderedListHelper.css("left"),10)+4&&(r=o-n-i-s+parseInt(t(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(h,r,e)},_scrollLeft:function(e){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var i,s=parseInt(this._unorderedListHelper.css("left"),10),r=this._getArrowsDisplacement(),n=0;e=this.enableScrollAnimation?e:0,this._width(this._headerWrapper)>=this._width(this._unorderedList)?n=r:s+this.scrollStep<r?(n=s+this.scrollStep,i=s+this.scrollStep+parseInt(t(this._titleList[this._selectedItem]).position().left,10)):(n=r)<parseInt(this._unorderedListHelper.css("left"),10)-4&&n>parseInt(this._unorderedListHelper.css("left"),10)+4&&(i=parseInt(t(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(n,i,e)},_performScrollAnimation:function(t,e,i){var s=this;void 0!==e&&this._moveSelectionTrack(this._selectedItem,0,e),this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:t},i,function(){s._moveSelectionTrack(s.selectedItem,0),s._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var e=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(i){if(!e._activeAnimation()){var s=e._selectedItem,r=e.selectionTracker,n=e.getContentAt(s);if(t(i.target).ischildof(n))return!0;switch(i.keyCode){case 37:return e.rtl?e.next():e.previous(),!1;case 39:return e.rtl?e.previous():e.next(),!1;case 36:return e.first(),!1;case 35:return e.last(),!1;case 27:e._tabCaptured&&(e._cancelClick=!0,e._uncapture(null,e.selectedItem),e._tabCaptured=!1)}e.selectionTracker=r}return!0})},_addScrollHandlers:function(){var e=this;this.addHandler(this._leftArrow,"mousedown",function(){e._startScrollRepeat(!0,e.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){e._startScrollRepeat(!1,e.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(e._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(e._scrollTimeout)}),this.addHandler(t(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(t(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(t){var e=t.data;e._scrollTimeout&&clearTimeout(e._scrollTimeout)},_mouseUpScrollDocumentHandler:function(t){var e=t.data;clearTimeout(e._scrollTimeout)},_mouseUpDragDocumentHandler:function(t){var e=t.data;e._tabCaptured&&e._dragStarted&&e._uncapture(t),e._tabCaptured=!1},_addReorderHandlers:function(){var e=this;e.addHandler(t(document),"mousemove.tab"+e.element.id,e._moveElement,e),e.addHandler(t(document),"mouseup.tab"+e.element.id,e._mouseUpDragDocumentHandler,e)},_addEventHandlers:function(){for(var e=this.length();e;)e--,this._addEventListenerAt(e);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var i=this;try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var s=null;window.parent&&document.referrer&&(s=document.referrer),s&&-1!==s.indexOf(document.location.host)&&window.top.document&&this.addHandler(t(window.top.document),"mouseup",function(){i._tabCaptured&&(i._cancelClick=!0,i._uncapture(null,i.selectedItem),i._tabCaptured=!1)})}}catch(t){}},focus:function(){try{this.host.focus();var t=this;setTimeout(function(){t.host.focus()},25)}catch(t){}},_getFocusedItem:function(e){for(var i=this.length();i;){i--;var s=this._titleList[i],r=this._outerWidth(s,!0),n=parseInt(t(s).offset().left,10);if(n<=e&&n+r>=e&&s!==this._capturedElement&&!this._titleList[i].locked&&!0!==this._titleList[i].disabled)return i}return-1},_uncapture:function(t){var e=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var i=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.style.bottom="0px";break;case"bottom":this._capturedElement.style.top="0px"}var s;t&&(s=this._getFocusedItem(t.clientX)),-1!==s&&t?(this._raiseEvent(10,{item:i,dropIndex:s}),this._reorderItems(s,i)):this._capturedElement.style.left="0px";for(var r=0;r<this._titleList.length;r++)this._titleList[r].style.position="static";this._reorderHeaderElements(),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._prepareTabs(),-1!==s&&t?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=i,this._moveSelectionTrack(i,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.selectionTracker=e}},_reorderItems:function(e,i){var s=this._titleList[this.selectedItem],r=this._titleList[i];void 0===this._capturedElement&&(this._capturedElement=r),t(r).remove(),i<e?this._titleList[e+1]?this._unorderedList.insertBefore(r,this._titleList[e+1]):this._unorderedList.appendChild(r):this._unorderedList.insertBefore(r,this._titleList[e]),this._reorderElementArrays(e,i),this._getSelectedItem(s),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(t,e){var i=this._contentList[e];if(e<t){for(var s=e;s<=t;s++)this._titleList[s]=this._titleList[s+1],this._contentList[s]=this._contentList[s+1];this._contentList[t]=i,this._titleList[t]=this._capturedElement}else{for(var r=e;r>=t;r--)this._titleList[r]=this._titleList[r-1],this._contentList[r]=this._contentList[r-1];this._contentList[t]=i,this._titleList[t]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(t){for(var e=this.length();e;)if(e--,this._titleList[e]===t){this._selectedItem=this.selectedItem=e;break}},_moveElement:function(t){var e=t.data;if(e._tabCaptured)if(document.selection&&document.selection.clear(),e._dragStarted)e._performDrag(t),clearTimeout(e._scrollTimeout);else{var i=-parseInt(e._unorderedListHelper.css("left"),10);(t.clientX+i>e._startX+3||t.clientX+i<e._startX-3)&&(e._prepareTabForDragging(),e._dragStarted=!0)}},_performDrag:function(t){var e=this.getZoomFactor(),i=-parseInt(this._unorderedListHelper.css("left"),10);this._capturedElement.style.left=this._toPx(i+t.clientX/e-this._startX/e),this._lastX=t.clientX/e,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var t=1;if(document.body.getBoundingClientRect){var e=document.body.getBoundingClientRect(),i=e.right-e.left,s=document.body.offsetWidth;t=Math.round(i/s*100)/100}return t},_prepareTabForDragging:function(){switch(this._capturedElement.style.position="relative",this._capturedElement.style.left="0px",this._capturedElement.style.top="0px",this._capturedElement.style.zIndex=300,this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.style.bottom=this._toPx(t(this._capturedElement).css("top"));break;case"bottom":this._capturedElement.style.top=this._toPx(t(this._capturedElement).css("top"))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(e){var i=parseInt(this._unorderedListHelper.css("left"),10),s=this,r=t(s._headerWrapper);e.clientX<=r.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(t(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-i):e.clientX>r.offset().left+s._width(this._headerWrapper)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(t(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-i):(s._stop(s._unorderedListHelper),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout)),this._scrollTimeout=setTimeout(function(){s._dragScroll(e)},this.scrollAnimationDuration),this._lastUnorderedListPosition=i},_captureElement:function(t,e){if(!this._tabCaptured&&!this._titleList[e].locked&&!0!==this._titleList[e].disabled&&!this._activeAnimation()){var i=-parseInt(this._unorderedListHelper.css("left"),10);this._startX=i+t.clientX,this._startY=t.clientY,this._lastX=t.clientX,this._lastY=t.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[e]}},_titleInteractionTrigger:function(t){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==t?(this.select(this._titleList[t],"toggle"),this._titleList[t].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.style.visibility="visible":this._contentWrapper.style.display="block")):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var t=this._selectedItem,e=this;this.isCollapsed=!0,"auto"!==e.height?e._contentWrapper.style.visibility="hidden":e._contentWrapper.style.display="none",e._raiseEvent(13,{item:t}),"top"===this.position?(e._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed"),e.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed")):(e._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed-bottom"),e.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed-bottom"))},expand:function(){var t=this._selectedItem,e=this;this.isCollapsed=!1,this._select(t,e.contentTransitionDuration,null,!1,!0),"auto"!==e.height?e._contentWrapper.style.visibility="visible":e._contentWrapper.style.display="block",e._raiseEvent(14,{item:t}),"top"===this.position?(e._removeClass(e._headerWrapper,e.toThemeProperty("jqx-tabs-header-collapsed")),e._removeClass(e.element,e.toThemeProperty("jqx-tabs-collapsed"))):(e._removeClass(e._headerWrapper,e.toThemeProperty("jqx-tabs-header-collapsed-bottom")),e._removeClass(e.element,e.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(t){var e=this;this.addHandler(this._titleList[t],"selectstart",function(){return!1}),this.addHandler(this._titleList[t],this.toggleMode,function(t){return function(){return e._raiseEvent("15",{item:t}),e._tabCaptured||e._cancelClick||e._titleInteractionTrigger(t),!0}}(t))},_addDragDropHandlers:function(t){var e=this;this.addHandler(this._titleList[t],"mousedown",function(i){return e._captureElement(i,t),!1}),this.addHandler(this._titleList[t],"mouseup",function(i){return e._tabCaptured&&e._dragStarted?(e._cancelClick=!0,e._uncapture(i,t)):e._cancelClick=!1,e._tabCaptured=!1,!1})},_removeHoverStates:function(){var e=this;t.each(this._titleList,function(){e._removeClass(this,e.toThemeProperty("jqx-tabs-title-hover-top jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(t){var e=this,i=this._titleList[t];this.addHandler(i,"mouseenter mouseleave",function(s){if(t!==e._selectedItem){var r="jqx-fill-state-hover";if("top"===e.position?r+=" jqx-tabs-title-hover-top":r+=" jqx-tabs-title-hover-bottom","mouseenter"===s.type?i.className+=" "+e.toThemeProperty(r):e._removeClass(i,e.toThemeProperty(r)),e.showCloseButtons){var n=e._closeButtonList[t];"mouseenter"===s.type?n.className+=" "+e.toThemeProperty("jqx-tabs-close-button-hover",!0):e._removeClass(n,e.toThemeProperty("jqx-tabs-close-button-hover",!0))}}})},_addEventListenerAt:function(t){var e=this;if(!this._titleList[t].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(t),this._addSelectHandler(t),this.enabledHover&&this._addHoverHandlers(t);var i=e._closeButtonList[t];this.removeHandler(i,"click"),this.addHandler(i,"click",function(){return e.removeAt(t),!1})}},_removeEventHandlers:function(){for(var e=this,i=e.length();i;)i--,e._removeEventListenerAt(i);e.scrollable&&(e.removeHandler(e._leftArrow,"mousedown"),e.removeHandler(e._rightArrow,"mousedown")),e.removeHandler(t(document),"mousemove.tab"+e.element.id,e._moveElement),e.removeHandler(t(document),"mouseup.tab"+e.element.id,e._mouseUpScrollDocumentHandler),e.removeHandler(t(document),"mouseup.tab"+e.element.id,e._mouseUpDragDocumentHandler),e.removeHandler(e.host,"keydown")},_removeEventListenerAt:function(t){var e=this;e.removeHandler(e._titleList[t],e.toggleMode),e.removeHandler(e._titleList[t],"mouseenter"),e.removeHandler(e._titleList[t],"mouseleave"),e.removeHandler(e._titleList[t],"mousedown"),e.removeHandler(e._titleList[t],"mouseup"),e.removeHandler(e._closeButtonList[t],"click")},_moveSelectionTrack:function(e,i,s){var r=this;if(-1!==e&&0!==this._titleList.length&&!(e>=this._titleList.length)){var n=this._titleList[e],o=t(n);if(this.selectionTracker&&this._selectionTracker){var l;r._stop(r._selectionTrackerHelper),this._unlockAnimation("selectionTracker"),void 0===s?(l=parseInt(o.position().left,10),isNaN(parseInt(this._unorderedListHelper.css("left"),10))||(l+=parseInt(this._unorderedListHelper.css("left"),10)),isNaN(parseInt(this._unorderedListHelper.css("margin-left"),10))||(l+=parseInt(this._unorderedListHelper.css("margin-left"),10)),isNaN(parseInt(o.css("margin-left"),10))||(l+=parseInt(o.css("margin-left"),10)),isNaN(parseInt(o.css("margin-right"),10))):l=s;"top"===this.position&&(this._height(r._headerWrapper)-n.offsetHeight,this.autoHeight||parseInt(o.css("margin-top"),10)),this._lockAnimation("selectionTracker");var a=parseInt(o.css("padding-left"),10)+parseInt(o.css("padding-right"),10),h="top"===this.position?0:1,d=parseInt(t(this._headerWrapper).css("padding-top"),10),c=parseInt(o.css("padding-top"),10)+parseInt(o.css("padding-bottom"),10);this._selectionTracker.style.visibility="visible",this._moveSelectionTrackerContainer.style.visibility="visible";var _=parseInt(o.css("margin-top"),10);isNaN(_)&&(_=0),r._selectionTrackerHelper.animate({top:d+_-h,left:l+"px",height:parseInt(this._height(n)+c,10),width:r._width(n)+a},i,function(){r._unlockAnimation("selectionTracker"),r._selectionTracker.style.visibility="hidden",r._addSelectStyle(e,!0),r._moveSelectionTrackerContainer.style.visibility="hidden"})}}},destroy:function(){t.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_switchTabs:function(t,e){if(t!==e&&!this._activeAnimation()&&!this._tabCaptured){var i=this;return this._raiseEvent(7,{item:e}),this._raiseEvent(6,{item:t}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(e,null,!0),this._select(t,i.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(var t in this._isAnimated)if(this._isAnimated.hasOwnProperty(t)&&this._isAnimated[t])return!0;return!1},_indexOf:function(t){for(var e=this.length();e;)if(e--,this._titleList[e]===t||this._contentList[e]===t)return e;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width,10)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height,10)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0===this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(t){try{console.log(t)}catch(t){}}},_startScrollRepeat:function(t,e){var i=this;t?this._scrollLeft(e):this._scrollRight(e),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){i._startScrollRepeat(t,i.scrollAnimationDuration)},e)},_performLayout:function(){for(var t=this.length();t;)t--,"top"!==this.position&&"bottom"!==this.position||(this.rtl?this._titleList[t].style.float="right":this._titleList[t].style.float="left");this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_setSize:function(){var t=this;t._fitToSize(),t._positionArrows(t._totalItemsWidth),t._totalItemsWidth>t.element.offsetWidth?t._unorderedList.style.width=t._toPx(t._totalItemsWidth):t._unorderedList.style.width=t.element.offsetWidth-2+"px",t._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(t(this._leftArrow).remove(),t(this._rightArrow).remove()),this._leftArrow=document.createElement("div"),this._leftArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span>',this._leftArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._leftArrow.style.zIndex=30,this._leftArrow.style.display="none",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.height="100%",this._rightArrow=document.createElement("div"),this._rightArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span>',this._rightArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._rightArrow.style.zIndex=30,this._rightArrow.style.display="none",this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.height="100%",this._headerWrapper.appendChild(this._leftArrow),this._headerWrapper.appendChild(this._rightArrow)},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var e=this.length();return t.each(this._titleList,function(){var t=this.attr("hasclosebutton");void 0!==t&&null!==t&&("false"!==t&&!1!==t||e--)}),e},_calculateTitlesSize:function(){function e(t,e){t&&(t.style.display=e?"block":"none")}var i=this,s=0,r=0,n=this.length();for(this.rtl&&t.jqx.browser.msie&&t.jqx.browser.version<8&&(this._measureItem=document.createElement("span"),this._measureItem.style.position="relative",this._measureItem.style.visibility="hidden",document.body.appendChild(this._measureItem));n;){n--;var o=this._titleList[n],l=i._closeButtonList[n];this._measureItem&&(this._measureItem.innerHTML=o.innerHTML,this._measureItem.html(this._titleList[n].html()),o.style.width=i._toPx(i._width(this._measureItem))),o.style.position="static",e(l,!1),r+=i._outerWidth(o,!0);var a=i._outerHeight(o,!0);if(s<a&&(s=a),0===i._height(o)){var h=o.cloneNode(!0);document.body.appendChild(h),s=i._outerHeight(h,!0),document.body.removeChild(h)}var d,c=o.getAttribute("hasCloseButton");void 0!==c&&null!==c?(d=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[n]&&(e(l,!1),d=!0),d||("true"===c||!0===c?(r+=this.closeButtonSize,e(l,!0)):"false"!==c&&!1!==c||e(l,!1))):this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)&&(d=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[n]&&(e(l,!1),d=!0),d||(r+=this.closeButtonSize,e(l,!0))),o.style.height=this._toPx(i._height(o))}return this._measureItem&&t(this._measureItem).remove(),{height:s,width:10+r}},_reorderHeaderElements:function(){if(this.selectionTracker&&(this._moveSelectionTrackerContainer.style.position="absolute",this._moveSelectionTrackerContainer.style.height="100%",this._moveSelectionTrackerContainer.style.top="0px",this._moveSelectionTrackerContainer.style.left="0px",this._moveSelectionTrackerContainer.style.width="100%"),this._headerWrapper.style.position="relative",this._headerWrapper.style.left="0px",this._headerWrapper.style.top="0px",this.scrollable){this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.position="absolute",this._rightArrow.style.top="0px",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.position="absolute",this._leftArrow.style.top="0px";var t=this.theme&&-1!==this.theme.indexOf("ui-")?3:0;t>0&&(this._rightArrow.className+=" "+this.toThemeProperty("jqx-rc-r"),this._leftArrow.className+=" "+this.toThemeProperty("jqx-rc-l"));var e=this.scrollPosition;switch(this.rtl&&("left"===e&&(e="right"),"right"===e&&(e="left")),e){case"both":this._rightArrow.style.right="0px",this._leftArrow.style.left="0px";break;case"left":this._rightArrow.style.left=this._toPx(this.arrowButtonSize),this._leftArrow.style.left="0px";break;case"right":this._rightArrow.style.right=this._toPx(-t),this._leftArrow.style.right=this._toPx(parseInt(this.arrowButtonSize,10)-t)}}},_positionArrows:function(t){t>=this._headerWrapper.offsetWidth&&this.scrollable?(this._needScroll=!0,0===this._unorderedListHelper.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.style.display="block",this._rightArrow.style.display="block"):(this._needScroll=!1,this._leftArrow.style.display="none",this._rightArrow.style.display="none",this._unorderedList.style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var e=this._calculateTitlesSize(),i=e.height,s=e.width;this._headerWrapper.style.height=this._toPx(i),this._unorderedList.style.height=this._toPx(i),null!==this.headerHeight&&"auto"!==this.headerHeight&&(this._headerWrapper.style.height=this._toPx(this.headerHeight),this._unorderedList.style.height=this._toPx(this.headerHeight));var r=this._width(this.element);this._unorderedList.style.width=s>r?this._toPx(s):this._toPx(r),t.jqx.browser.msie&&t.jqx.browser.version<8&&(this._unorderedList.style.position="relative",this._unorderedList.style.overflow="hidden"),this._reorderHeaderElements(),s+=parseInt(this._unorderedListHelper.css("margin-left"),10),this._totalItemsWidth=s,this._positionArrows(s),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){for(var e=this.length();e;){e--;var i=this._titleList[e],s=t(i),r=s.children()[0],n=this._closeButtonList[e],o=parseInt(s.css("padding-top"),10);if(o||(o=0),this.autoHeight){var l=parseInt(s.css("padding-top"),10),a=parseInt(s.css("padding-bottom"),10),h=s.css("border-top-width"),d=s.css("border-bottom-width");h=-1===h.indexOf("px")?1:parseInt(h,10),d=-1===d.indexOf("px")?1:parseInt(d,10),i.style.height=this._toPx(this._outerHeight(this._unorderedList,!0)-(l+a+h+d))}else if("top"===this.position){var c=this._height(this._unorderedList)-parseInt(this._outerHeight(i,!0),10);parseInt(s.css("margin-top"),10)!==c&&0!==c&&(i.style.marginTop=this._toPx(c))}else i.style.height=this._toPx(this._height(i));r.style.height="100%";var _=this._height(i);if(n){var u=_/2-this._height(n)/2;n.style.marginTop=this._toPx(1+u)}var p=_/2-this._height(r)/2;r.style.marginTop=this._toPx(p)}if(this.scrollable){var m=(parseInt(this._headerWrapper.offsetHeight,10)-this.arrowButtonSize)/2;t(this._rightArrow).children()[0].style.marginTop=this._toPx(m),this._rightArrow.style.height="100%",t(this._leftArrow).children()[0].style.marginTop=this._toPx(m),this._leftArrow.style.height="100%"}},_getImageUrl:function(t){var e=t.css("background-image");return e=e.replace('url("',""),e=e.replace('")',""),e=e.replace("url(",""),e=e.replace(")","")},_fitToSize:function(){var t=!1,e=!1,i=this;null!==i.width&&-1!==i.width.toString().indexOf("%")&&(t=!0),null!==i.height&&-1!==i.height.toString().indexOf("%")&&(e=!0),t?(this.element.style.width=this.width,this._contentWrapper.style.width="100%"):(i.element.style.width=i._toPx(i.width),"auto"!==this.width&&(this._contentWrapper.style.width="100%"));var s;e?(this.element.style.height=this.height,this._contentWrapper.style.width="100%",this._contentWrapper.style.height="auto",s=this.element.offsetHeight-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=s+"px"):"auto"!==this.height?(i.element.style.height=i._toPx(i.height),s=this._height(i.element)-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=i._toPx(s)):this._contentWrapper.style.height="auto"},_maxHeightTab:function(){for(var t=this.length(),e=-1;t;)t--,-1<this._outerHeight(this._titleList[t],!0)&&(e=t);return e},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&t(this._moveSelectionTrackerContainer).remove(),this._moveSelectionTrackerContainer=document.createElement("div"),this._moveSelectionTrackerContainer.className=this.toThemeProperty("jqx-tabs-selection-tracker-container"),this._selectionTracker=document.createElement("div"),this._selectionTracker.className=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position),this._selectionTracker.style.color="inherit",this._selectionTracker.style.position="absolute",this._selectionTracker.style.zIndex=10,this._selectionTracker.style.left="0px",this._selectionTracker.style.top="0px",this._selectionTracker.style.display="inline-block",this._moveSelectionTrackerContainer.appendChild(this._selectionTracker),this._headerWrapper.appendChild(this._moveSelectionTrackerContainer),this._selectionTrackerHelper=t(this._selectionTracker),this._selectionTrackerHelper.initAnimate&&this._selectionTrackerHelper.initAnimate()},_addContentWrapper:function(){var t=null===this._contentWrapper;t&&(this._contentWrapper=document.createElement("div"),this._contentWrapper.className=this.toThemeProperty("jqx-tabs-content jqx-widget-content"),this._contentWrapper.style.float="none");for(var e=this.length();e;)e--,this._contentList[e].className+=" "+this.toThemeProperty("jqx-tabs-content-element");if(t){"top"===this.position?this.element.appendChild(this._contentWrapper):this.element.insertBefore(this._contentWrapper,this.element.firstChild);for(var i=0;i<this._contentList.length;i++)this._contentWrapper.appendChild(this._contentList[i])}this.roundedCorners&&("top"===this.position?this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-b"):this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-t"),this.element.className+=" "+this.toThemeProperty("jqx-rc-all"))},_addHeaderWrappers:function(){var e=this.length();void 0!==this._headerWrapper&&t(this._headerWrapper).remove(),this._headerWrapper=document.createElement("div"),this._headerWrapper.style.outline="none","top"===this.position?this.element.insertBefore(this._headerWrapper,this.element.firstChild):this.element.appendChild(this._headerWrapper),this._headerWrapper.appendChild(this._unorderedList);var i="jqx-tabs-headerWrapper jqx-tabs-header jqx-widget-header";for("bottom"===this.position&&(i+=" jqx-tabs-header-bottom"),this.roundedCorners&&("top"===this.position?i+=" jqx-rc-t":i+=" jqx-rc-b"),this._headerWrapper.className=this.toThemeProperty(i);e;){e--;var s=this._titleList[e];if(null===s.querySelector(".jqx-tabs-titleWrapper")){var r=document.createElement("div");r.className="jqx-tabs-titleWrapper",r.style.outline="none",r.style.position="relative",r.style.zIndex=15;var n=t(s).children();r.appendChild(n[0]),r.appendChild(n[1]),s.appendChild(r)}}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(e,i){var s=document.createElement("div"),r=this._titleList[e];s.className="jqx-tabs-titleContentWrapper jqx-disableselect";var n="left";this.rtl&&(n="right"),t(r).find(".jqx-tabs-close-button").length>0&&t(r).find(".jqx-tabs-close-button").remove(),s.style.float=n,s.innerHTML=r.innerHTML,r.innerHTML="";var o=document.createElement("div");o.className=this.toThemeProperty("jqx-tabs-close-button"),o.style.height=this._toPx(this.closeButtonSize),o.style.width=this._toPx(this.closeButtonSize),o.style.float=n,o.style.fontSize="1px",r.appendChild(s),r.appendChild(o),!0===i?this._closeButtonList[e]=o:this._closeButtonList.splice(e,0,o),this.showCloseButtons?this.hiddenCloseButtons&&1===this.hiddenCloseButtons[e]&&(o.style.display="none"):o.style.display="none"},_addCloseButtons:function(){for(var t=this.length();t;)t--,this._addCloseButton(t,!0)},_prepareTabs:function(){var t=this.length(),e=this.selectionTracker;for(this.selectionTracker=!1;t;)t--,this._selectedItem!==t&&this._unselect(t,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=e,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(t){return t>=0&&t<this.length()},_removeSelectStyle:function(){for(var t=this.length();t;){t--;var e=this._titleList[t];if(this.showCloseButtons){var i=this._closeButtonList[t];this._removeClass(i,this.toThemeProperty("jqx-tabs-close-button-selected"))}var s="jqx-fill-state-pressed";"top"===this.position?s+=" jqx-tabs-title-selected-top":s+=" jqx-tabs-title-selected-bottom",this._removeClass(e,this.toThemeProperty(s))}},_addSelectStyle:function(t,e){if(this._removeSelectStyle(),!this.selectionTracker||void 0!==e&&e){var i=this._titleList[t];if(t>=0&&void 0!==i){var s=null;this.showCloseButtons&&(s=this._closeButtonList[t],this.hiddenCloseButtons&&1===this.hiddenCloseButtons[t]&&(s=null));var r="jqx-fill-state-hover",n=" jqx-fill-state-pressed";"top"===this.position?(r+=" jqx-tabs-title-hover-top",n+=" jqx-tabs-title-selected-top"):(r+=" jqx-tabs-title-hover-bottom",n+=" jqx-tabs-title-selected-bottom"),this._removeClass(i,this.toThemeProperty(r)),i.className+=this.toThemeProperty(n),null!==s&&(s.className+=" "+this.toThemeProperty("jqx-tabs-close-button-selected"))}}},_addItemTo:function(t,e,i){if(e<t.length){for(var s,r,n=e;n+1<t.length;n++)void 0===s?(s=t[n+1],t[n+1]=t[n]):(r=t[n+1],t[n+1]=s,s=r);void 0===s&&(s=t[e]),t[e]=i,t.push(s)}else t.push(i)},_select:function(e,i,s,r,n){if(!this._tabCaptured){this.host.attr("hideFocus","true");var o=this;void 0===n?this._addSelectStyle(e):this._addSelectStyle(e,n);var l=t(o._titleList[e]),a=o._titleList[e].getAttribute("id"),h=t(o._contentList[e]);if(this.isCollapsed&&this.collapsible)return h[0].style.display="none",void this._selectCallback(e,s,r);switch(this.animationType){case"none":if(o.selectionTracker)setTimeout(function(){h[0].style.display="block",t.jqx.aria(l,"aria-selected",!0),t.jqx.aria(h,"aria-hidden",!1),t.jqx.aria(o,"aria-activedescendant",a)},this.selectionTrackerAnimationDuration);else{for(var d=0;d<this._contentList.length;d++)e!==d&&"block"===t(o._contentList[d]).css("display")&&(o._contentList[d].style.display="none",t.jqx.aria(t(o._titleList[d]),"aria-selected",!1),t.jqx.aria(t(o._contentList[d]),"aria-hidden",!0));h[0].style.display="block",t.jqx.aria(l,"aria-selected",!0),t.jqx.aria(h,"aria-hidden",!1),t.jqx.aria(this,"aria-activedescendant",a)}this._selectCallback(e,s,r);break;case"fade":this._lockAnimation("contentListSelect"),o._selectCallback(e,s,r),h.initAnimate&&void 0===h.fadeIn&&h.initAnimate(),h.fadeIn({duration:1e3,complete:function(){o._unlockAnimation("contentListSelect"),t.jqx.aria(l,"aria-selected",!0),t.jqx.aria(h,"aria-hidden",!1),t.jqx.aria(o,"aria-activedescendant",a)}})}}},_selectCallback:function(t,e,i){this._selectedItem=t,this.selectedItem=this._selectedItem,e&&e(),i&&this._raiseEvent(1,{item:t})},_unselect:function(e,i,s){if(e>=0&&!this._tabCaptured){var r=this,n=r._contentList[e],o=t(n),l=r._titleList[e],a=t(l);o.initAnimate&&void 0===o.animate&&o.initAnimate(),r._stop(o),"fade"===this.animationType?(n.style.display="none",t.jqx.aria(a,"aria-selected",!1),t.jqx.aria(o,"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){n.style.display="none",t.jqx.aria(a,"aria-selected",!1),t.jqx.aria(o,"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(n.style.display="none",t.jqx.aria(a,"aria-selected",!1),t.jqx.aria(o,"aria-hidden",!0)),this._unselectCallback(e,i,s),this.selectionTracker||r._removeClass(l,r.toThemeProperty("jqx-tabs-title-selected jqx-fill-state-pressed"))}},_unselectCallback:function(t,e,i){i&&this._raiseEvent(8,{item:t}),e&&e()},disable:function(){for(var t=this.length();t;)t--,this.disableAt(t)},enable:function(){for(var t=this.length();t;)t--,this.enableAt(t)},getEnabledTabsCount:function(){var e=0;return t.each(this._titleList,function(){this.disabled||e++}),e},getDisabledTabsCount:function(){var e=0;return t.each(this._titleList,function(){this.disabled&&e++}),e},removeAt:function(e){if(this._isValidIndex(e)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var i=this,s=i._outerWidth(this._titleList[e],!0),r=this.getTitleAt(e);this._unorderedList.style.width=i._toPx(i._width(this._unorderedList)-s),t(this._titleList[e]).remove(),t(this._contentList[e]).remove(),this._titleList.splice(e,1),this._contentList.splice(e,1),i._closeButtonList.splice(e,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:e,title:r}),this._isAnimated={};var n;if(this.selectedItem>0?(this._selectedItem=-1,this.selectedItem>=e?(n=this._getPreviousIndex(this.selectedItem),this.select(n)):this.select(i.selectedItem)):(this._selectedItem=-1,n=this._getNextIndex(this.selectedItem),this.select(n)),parseInt(this._unorderedListHelper.css("left"),10)>this._getArrowsDisplacement()&&(this._unorderedList.style.left=i._toPx(this._getArrowsDisplacement())),i._width(this._unorderedList)<=i._width(this._headerWrapper)){var o=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:0},o,function(){i._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(e){var i=this._titleList[e];if(!i.disabled||void 0===i.disabled){if(this.selectedItem===e){var s=this.next();s||(s=this.previous())}i.disabled=!0,this.removeHandler(i,this.toggleMode),this.enabledHover&&t(i).off("mouseenter").off("mouseleave"),this._removeEventListenerAt(e),i.className+=" "+this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled"),this._raiseEvent(5,{item:e})}},enableAt:function(t){var e=this._titleList[t];e.disabled&&(e.disabled=!1,this._addEventListenerAt(t),this._removeClass(e,this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled")),this._raiseEvent(4,{item:t}))},addAt:function(t,e,i){if(t>=0&&t<=this.length()){this._removeHoverStates();var s=document.createElement("li");s.innerHTML=e,s.className=this.toThemeProperty("jqx-tabs-title jqx-item");var r=document.createElement("div");r.innerHTML=i,r.className=this.toThemeProperty("jqx-tabs-content-element"),"bottom"===this.position&&(s.className+=" "+this.toThemeProperty("jqx-tabs-title-bottom"));0===this._titleList.length?this._unorderedList.appendChild(s):t<this.length()&&t>=0?this._unorderedList.insertBefore(s,this._titleList[t]):this._unorderedList.appendChild(s),this._contentWrapper.appendChild(r),this._addItemTo(this._titleList,t,s),this._addItemTo(this._contentList,t,r),this._addCloseButton(t),this._selectedItem>t&&this._selectedItem++,this._switchTabs(t,this._selectedItem),this._selectedItem=t,this._uiRefresh(!1),this._raiseEvent(2,{item:t}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(t,e){this.addAt(0,t,e)},addLast:function(t,e){this.addAt(this.length(),t,e)},val:function(t){return 0===arguments.length||"object"==typeof t?this._selectedItem:(this.select(t),this._selectedItem)},select:function(t){"object"==typeof t&&(t=this._indexOf(t));var e=!(t>=0&&t<this._titleList.length)||this._titleList[t].getAttribute("canselect");void 0!==e&&null!==e&&"true"!==e&&!0!==e||t!==this._selectedItem&&this._isValidIndex(t)&&(this._activeAnimation()||this._titleList[t].disabled||this._switchTabs(t,this._selectedItem)&&this.ensureVisible(t))},previous:function(t){var e=this._selectedItem;for(void 0===t||isNaN(t)||(e=t);e>0&&e<this._titleList.length;)if(e--,!this._titleList[e].disabled)return this.select(e),!0;return!1},_getPreviousIndex:function(t){if(void 0===t||isNaN(t))return 0;for(var e=t;t>0&&t<=this._titleList.length;)if(t--,!this._titleList[t].disabled)return t;return e},_getNextIndex:function(t){if(void 0===t||isNaN(t))return 0;for(var e=t;t>=0&&t<this._titleList.length;){if(!this._titleList[t].disabled)return t;t++}return e},next:function(t){var e=this._selectedItem;for(void 0===t||isNaN(t)||(e=t);e>=0&&e<this._titleList.length-1;)if(e++,!this._titleList[e].disabled)return this.select(e),!0;return!1},first:function(){this._titleList[0].disabled?this.next(0):this.select(0)},last:function(){var t=this._titleList.length-1;this._titleList[t].disabled?this.previous(t):this.select(t)},length:function(){return this._titleList.length},lockAt:function(t){!this._isValidIndex(t)||this._titleList[t].locked&&void 0!==this._titleList[t].locked||(this._titleList[t].locked=!0,this._raiseEvent(11,{item:t}))},unlockAt:function(t){this._isValidIndex(t)&&this._titleList[t].locked&&(this._titleList[t].locked=!1,this._raiseEvent(12,{item:t}))},lockAll:function(){for(var t=this.length();t;)t--,this.lockAt(t)},unlockAll:function(){for(var t=this.length();t;)t--,this.unlockAt(t)},showCloseButtonAt:function(t){this._isValidIndex(t)&&(this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader()),this._closeButtonList[t].style.display="block",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[t]=0)},hideCloseButtonAt:function(t){this._isValidIndex(t)&&(this._closeButtonList[t].style.display="none",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[t]=1)},hideAllCloseButtons:function(){for(var t=this.length();t;)t--,this.hideCloseButtonAt(t)},showAllCloseButtons:function(){for(var t=this.length();t;)t--,this.showCloseButtonAt(t)},getTitleAt:function(e){return this._titleList[e]?t(this._titleList[e]).text():null},getContentAt:function(t){return this._contentList[t]?this._contentList[t]:null},setTitleAt:function(e,i){this._titleList[e]&&(t(this._titleList[e]).text(i),this.showCloseButtons&&(this._addCloseButton(e),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(e,i){this._contentList[e]&&t(this._contentList[e]).html(i)},ensureVisible:function(e){var i=this;if(void 0!==e&&-1!==e&&null!==e||(e=this.selectedItem),!this._isValidIndex(e))return!1;var s,r,n=this._titleList[e],o=parseInt(t(n).position().left,10)+parseInt(this._unorderedListHelper.css("margin-left"),10),l=parseInt(this._unorderedListHelper.css("left"),10),a=this._outerWidth(this._headerWrapper,!0),h=this._outerWidth(n,!0),d=l-this._getArrowsDisplacement(),c=a-this._getArrowsDisplacement()-d;if(o<-d)s=-o+this._getArrowsDisplacement(),r=this._getArrowsDisplacement();else{if(!(o+h>c-this._getArrowsDisplacement()))return this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration),!0;s=-o+a-h-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),r=a-h-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:s},this.scrollAnimationDuration,function(){return i._unlockAnimation("unorderedList"),i._moveSelectionTrack(i._selectedItem,0),!0}),this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration,r),!0},isVisibleAt:function(e){var i=this;if(void 0!==e&&-1!==e&&null!==e||(e=i.selectedItem),!i._isValidIndex(e))return!1;var s=i._titleList[e],r=parseInt(t(s).position().left,10)+parseInt(i._unorderedListHelper.css("margin-left"),10),n=parseInt(i._unorderedListHelper.css("left"),10),o=i._outerWidth(i._headerWrapper,!0),l=i._outerWidth(s,!0),a=n-i._getArrowsDisplacement(),h=o-i._getArrowsDisplacement()-a;return!(r<-a)&&!(r+l>h)},isDisabled:function(t){return this._titleList[t].disabled},_lockAnimation:function(t){this._isAnimated&&(this._isAnimated[t]=!0)},_unlockAnimation:function(t){this._isAnimated&&(this._isAnimated[t]=!1)},propertiesChangedHandler:function(t,e,i){i&&i.width&&i.height&&2===Object.keys(i).length&&t._setSize()},propertyChangedHandler:function(e,i,s,r){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2===Object.keys(e.batchUpdate).length)){switch(this._validateProperties(),i){case"touchMode":r&&(e.enabledHover=!1,e.keyboardNavigation=!1);break;case"width":case"height":return void e._setSize();case"disabled":return void(r?this.disable():this.enable());case"showCloseButtons":return r?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._performHeaderLayout();case"selectedItem":return void(this._isValidIndex(r)&&this.select(r));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(r?(this._refresh(),this.select(this._selectedItem)):this._selectionTracker&&this._selectionTrackerHelper.remove());case"scrollable":return void(r?(this._refresh(),this.select(this._selectedItem)):(t(this._leftArrow).remove(),t(this._rightArrow).remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void t.jqx.utilities.setTheme(s,r,this.host)}this._unorderedList.style.left="0px",this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}},_toPx:function(t){return"number"==typeof t?t+"px":t},_removeClass:function(e,i){t(e).removeClass(i)},_width:function(e){var i=t(e),s=i.css("border-left-width"),r=i.css("border-right-width"),n=parseInt(i.css("padding-left"),10),o=parseInt(i.css("padding-right"),10);return s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10),e.offsetWidth-(s+r+n+o)},_outerWidth:function(e,i){var s=e.offsetWidth;if(i){var r=t(e);s+=parseInt(r.css("margin-left"),10)+parseInt(r.css("margin-right"),10)}return s},_height:function(e){var i=t(e),s=i.css("border-top-width"),r=i.css("border-bottom-width"),n=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);return s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10),e.offsetHeight-(s+r+n+o)},_outerHeight:function(e,i){var s=e.offsetHeight;if(i){var r=t(e);s+=parseInt(r.css("margin-top"),10)+parseInt(r.css("margin-bottom"),10)}return s},_stop:function(t){t.stop?t.stop():t.animate("stop",!0)}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxTagCloud","",{}),e.extend(e.jqx._jqxTagCloud.prototype,{defineInstance:function(){var r={width:null,height:null,source:null,disabled:!1,rtl:!1,valueMember:"value",displayMember:"label",urlMember:"url",urlBase:"",autoBind:!0,takeTopWeightedItems:!1,displayLimit:null,minValueToDisplay:0,maxValueToDisplay:0,minFontSize:10,maxFontSize:24,fontSizeUnit:"px",displayValue:!1,sortBy:"none",alterTextCase:"none",sortOrder:"ascending",textColor:null,minColor:null,maxColor:null,tagRenderer:null};return this===e.jqx._jqxTagCloud.prototype?r:(e.extend(!0,this,r),r)},createInstance:function(){var e=this;e.render(),e.dataBind(e.source,!0)},dataBind:function(r,t){var a=this;a.records=[];var i;!!r._source?(i=r,r=r._source):(r.datafields=[{name:a.displayMember},{name:a.valueMember},{name:a.urlMember}],i=new e.jqx.dataAdapter(r,{autoBind:!0}));var n=function(e){e._setSourceData(i),e._raiseEvent(1,{records:e.records}),e._renderTags()};switch(void 0!==r.type&&(i._options.type=r.type),void 0!==r.formatdata&&(i._options.formatData=r.formatdata),void 0!==r.contenttype&&(i._options.contentType=r.contenttype),void 0!==r.async&&(i._options.async=r.async),r.datatype){case"local":case"array":default:(null!=r.localdata||e.isArray(r))&&(i.unbindBindingUpdate(a.element.id),(a.autoBind||!a.autoBind&&!t)&&i.dataBind(),n(a),i.bindBindingUpdate(a.element.id,function(e){n(a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=r.localdata)return i.unbindBindingUpdate(a.element.id),(a.autoBind||!a.autoBind&&!t)&&i.dataBind(),n(a),void i.bindBindingUpdate(a.element.id,function(){n(a)});var d={};i._options.data?e.extend(i._options.data,d):(r.data&&e.extend(d,r.data),i._options.data=d);i.unbindDownloadComplete(a.element.id),i.bindDownloadComplete(a.element.id,function(){n(a)}),(a.autoBind||!a.autoBind&&!t)&&i.dataBind()}a._raiseEvent(2,{records:a.records})},destroy:function(){var e=this;e.removeHandler(e._el,"keydown"),e.removeHandler(e._el,"click"),e.host.empty(),e.host.remove()},findTagIndex:function(e){for(var r=this,t=0;t<r.records.length;t++)if(r.records[t][r.displayMember]===e)return r.records[t].index;return-1},getHiddenTagsList:function(){return this.hiddenList.slice()},getRenderedTags:function(){return this.renderedData.slice()},getTagsList:function(){return this.records.slice()},insertAt:function(e,r){var t=this;if(r.index=e,void 0===r[this.displayMember])throw new Error("jqxTagCloud: Insert tag requires a valid displayMember field to be supplied in the parameter");var a=void 0!==r[t.valueMember]?parseFloat(r[t.valueMember]):0;if(r[t.valueMember]=isNaN(a)?0:a,t.source.insertTag&&"function"==typeof t.source.insertTag)t.source.insertTag(e,r,function(a){if(a){t.records.splice(e,0,r);for(var i=e+1;i<t.records.length;i++)t.records[i].index+=1;for(i=0;i<t.hiddenList.length;i++)t.hiddenList[i]>=e&&t.hiddenList[i]++;t._renderTags()}});else{t.records.splice(e,0,r);for(var i=e+1;i<t.records.length;i++)t.records[i].index+=1;for(i=0;i<t.hiddenList.length;i++)t.hiddenList[i]>=e&&t.hiddenList[i]++;t._renderTags()}},updateAt:function(r,t){var a=this;if(void 0===t[this.displayMember])throw new Error("jqxTagCloud: Update tag requires a valid displayMember field to be supplied in the parameter");t.index=r,t.uid=a.records[r].uid,a.source.updateTag&&"function"==typeof a.source.updateTag?a.source.updateTag(r,t,function(i){i&&(e.each(t,function(e,t){a.records[r][e]=t}),a._renderTags())}):(e.each(t,function(e,t){a.records[r][e]=t}),a._renderTags())},removeAt:function(e){var r=this;if(r.source.deleteTag&&"function"==typeof r.source.deleteTag)r.source.deleteTag(e,function(t){if(t){r.records.splice(e,1);for(var a=e;a<r.records.length;a++)r.records[a].index-=1;for(a=0;a<r.hiddenList.length;a++)r.hiddenList[a]>e?r.hiddenList[a]--:r.hiddenList[a]===e&&r.hiddentList.splice(e,1)}});else{r.records.splice(e,1);for(var t=e;t<r.records.length;t++)r.records[t].index-=1;for(t=0;t<r.hiddenList.length;t++)r.hiddenList[t]>e?r.hiddenList[t]--:r.hiddenList[t]===e&&r.hiddentList.splice(e,1)}r._renderTags()},hideItem:function(r){var t=this;if("number"==typeof r&&-1===t.hiddenList.indexOf(r)){t.hiddenList.push(r);for(var a=-1,i=0;i<t.renderedData.length;i++)t.renderedData[i].index===r&&(a=i);-1!==a&&(e(t._el).find("li")[a].style.display="none")}},showItem:function(r){var t=this;if(-1!==t.hiddenList.indexOf(r)){for(var a=-1,i=0;i<t.renderedData.length;i++)t.renderedData[i].index===r&&(a=i);-1!==a&&(e(t._el).find("li")[a].style.display=""),t.hiddenList.splice(t.hiddenList.indexOf(r),1)}},render:function(){var r=this;r._updateSize(),r.renderedData=[],r._el=e("<ul>"),r.host.addClass(r.toThemeProperty("jqx-widget jqx-tag-cloud")),r._setRtl(),r.host.append(r._el),r.focusedItem=null,r.minColor=r._parseColor(r.minColor),r.maxColor=r._parseColor(r.maxColor),r.displayLimit=parseInt(r.displayLimit),r.disabled&&r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),r.addHandler(r._el,"click",function(t){e(document.activeElement).parents("#"+r._el[0].parentElement.id).length||(null!=r.focusedItem?e(r.focusedItem).focus():(e(r._el).find("a")[0].focus(),r.focusedItem=document.activeElement)),r.disabled&&t.preventDefault(),"a"===t.target.tagName.toLowerCase()&&(t.target.focus(),r.focusedItem=document.activeElement),"li"===t.target.tagName.toLowerCase()&&(e(t.target).find("a").focus(),r.focusedItem=document.activeElement);var a=e(t.target).closest("li").index();-1!==a&&r._raiseEvent(0,{label:r.renderedData[a][r.displayMember],url:r.renderedData[a][r.urlMember],value:r.renderedData[a][r.valueMember],visibleIndex:a,index:r.renderedData[a].index,target:e(t.target).closest("li")[0],originalEvent:t})}),r._addKeyboardSupport()},resize:function(e,r){var t=this;t.width=e,t.height=r,t._updateSize()},propertyChangedHandler:function(e,r,t,a){var i=this;"source"===r&&i.dataBind(e.source),"displayLimit"===r&&(i[r]=parseInt(a)),"minColor"!==r&&"maxColor"!==r||(i[r]=i._parseColor(a)),"rtl"!==r?"width"!==r&&"height"!==r?"textColor"!==r||i.minColor&&i.maxColor?i._renderTags():i._updateColor():i._updateSize():i._setRtl()},_alterCase:function(e){var r=this;if("none"!==r.alterTextCase)switch(r.alterTextCase){case"allLower":for(var t=0;t<e.length;t++)e[t][r.displayMember]=e[t][r.displayMember].toString().toLowerCase();break;case"allUpper":for(t=0;t<e.length;t++)e[t][r.displayMember]=e[t][r.displayMember].toString().toUpperCase();break;case"firstUpper":for(t=0;t<e.length;t++)e[t][r.displayMember]=e[t][r.displayMember].toString().toLowerCase(),e[t][r.displayMember]=e[t][r.displayMember].substr(0,1).toUpperCase()+e[t][r.displayMember].substr(1);break;case"titleCase":for(t=0;t<e.length;t++)e[t][r.displayMember]=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}(e[t][r.displayMember].toString());break;default:throw new Error("jqxTagCloud: Invalid alterTextCase value. Possible values: 'none', 'allLower', 'allUpper', 'firstUpper', 'titleCase'")}return e},_addKeyboardSupport:function(){var r=this;r.addHandler(r._el,"keydown",function(t){39==t.keyCode&&(e("a:focus").closest("li").next().find("a").focus(),r.focusedItem=document.activeElement),37==t.keyCode&&(e("a:focus").closest("li").prev().find("a").focus(),r.focusedItem=document.activeElement)})},_renderTags:function(){var r=this,t=r.records.slice();if(e.each(r.records,function(e,t){if(void 0===t[r.displayMember])throw new Error("jqxTagCloud: 'label' property must be specified for every element.")}),t=r._filter(t),t=r._sort(t),t=r._alterCase(t),r._el.empty(),0!==t.length){for(var a=r._getMaxValue(t),i=r._getMinValue(t),n=a-i,d=0;d<t.length;d++){var o=r._prepareTag(t[d],i,n);r._el.append(o),-1!=r.hiddenList.indexOf(t[d].index)&&(o[0].style.display="none")}r.renderedData=t,r.focusedItem=null}},_prepareTag:function(r,t,a){var i=this;a||(a=1);var n=e("<li>"),d="";d=null!==i.tagRenderer&&"function"==typeof i.tagRenderer?i.tagRenderer.apply(i,arguments):r[i.displayMember]+(i.displayValue?"("+r[i.valueMember]+")":""),d=e('<a rel="tag">').append(d);var o="javascript:void(0)";void 0!==r[i.urlMember]&&(o=(null!=i.urlBase?i.urlBase:"")+r[i.urlMember]),d.attr("href",o),n.append(d),n.addClass(i.toThemeProperty("jqx-tag-cloud-item"));var s=+i.minFontSize+(i.maxFontSize-i.minFontSize)*((r[i.valueMember]-t)/a);if(n[0].style.fontSize=s+i.fontSizeUnit,i.minColor&&i.maxColor){var l=i.minColor.split("(")[1].split(")")[0];l=l.split(",");var f=parseInt(l[0]),u=parseInt(l[1]),c=parseInt(l[2]),p=parseFloat(l[3]);l=(l=i.maxColor.split("(")[1].split(")")[0]).split(",");var m=parseInt(l[0]),b=parseInt(l[1]),h=parseInt(l[2]),g=parseFloat(l[3]);f+=Math.floor((r[i.valueMember]-t)/a*(m-f)),u+=Math.floor((r[i.valueMember]-t)/a*(b-u)),c+=Math.floor((r[i.valueMember]-t)/a*(h-c)),p+=(r[i.valueMember]-t)/a*(g-p),n[0].style.color="rgba("+f+","+u+","+c+","+p+")",n.find("a")[0].style.color="inherit"}else null!==i.textColor&&(n[0].style.color=i.textColor,n.find("a")[0].style.color="inherit");return n},_parseColor:function(r){var t,a,i;if("rgba"===(r=e("<span>").css("color",r).css("color")).substr(0,4))return r;if("rgb"===r.substr(0,3)){var n=r.split("(")[1].split(")")[0];return n=n.split(","),t=parseInt(n[0]),a=parseInt(n[1]),i=parseInt(n[2]),"rgba("+t+","+a+","+i+",1)"}return"#"===r.substr(0,1)&&7===r.length?(t=parseInt(r.substr(1,2),16),a=parseInt(r.substr(3,2),16),i=parseInt(r.substr(5,2),16),"rgba("+t+","+a+","+i+",1)"):"#"===r.substr(0,1)&&4===r.length?(t=parseInt(r.substr(1,1)+r.substr(1,1),16),a=parseInt(r.substr(2,1)+r.substr(2,1),16),i=parseInt(r.substr(3,1)+r.substr(3,1),16),"rgba("+t+","+a+","+i+",1)"):(r=function(e){var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==r[e.toLowerCase()]&&r[e.toLowerCase()]}(r))?(t=parseInt(r.substr(1,2),16),a=parseInt(r.substr(3,2),16),i=parseInt(r.substr(5,2),16),"rgba("+t+","+a+","+i+",1)"):r},_events:["itemClick","bindingUpdateComplete","bindingComplete"],_raiseEvent:function(r,t){var a=this._events[r],i=e.Event(a);return i.args=t,this.host.trigger(i)},_filter:function(e){var r=this;if(0!=r.minValueToDisplay)for(t=0;t<e.length;)e[t][r.valueMember]<r.minValueToDisplay?e.splice(t,1):t++;if(0!=r.maxValueToDisplay)for(var t=0;t<e.length;)e[t][r.valueMember]>r.maxValueToDisplay?e.splice(t,1):t++;return null==r.displayLimit||isNaN(r.displayLimit)||(!0===r.takeTopWeightedItems?(e.sort(function(e,t){return e[r.valueMember]<t[r.valueMember]?1:e[r.valueMember]>t[r.valueMember]?-1:0}),(e=e.slice(0,r.displayLimit)).sort(function(e,r){return e.index<r.index?-1:e.index>r.index?1:0})):e=e.slice(0,r.displayLimit)),e},_sort:function(e){var r=this;if("none"!==r.sortBy){if("label"===r.sortBy)e.sort(function(e,t){return e[r.displayMember]<t[r.displayMember]?-1:e[r.displayMember]>t[r.displayMember]?1:0});else{if("value"!==r.sortBy)throw new Error("jqxTagCloud: sortBy option needs to be either 'none' or 'label' or 'value'");e.sort(function(e,t){return e[r.valueMember]<t[r.valueMember]?-1:e[r.valueMember]>t[r.valueMember]?1:0})}if("ascending"===r.sortOrder)return e;if("descending"===r.sortOrder)return e.reverse();throw new Error("jqxTagCloud: sortOrder option needs to be either 'ascending' or 'descending'")}return e},_getMaxValue:function(e){for(var r=this,t=e[0][r.valueMember],a=0;a<e.length;a++)t<e[a][r.valueMember]&&(t=e[a][r.valueMember]);return t},_getMinValue:function(e){for(var r=this,t=e[0][r.valueMember],a=0;a<e.length;a++)t>e[a][r.valueMember]&&(t=e[a][r.valueMember]);return t},_setSourceData:function(e){var r=this;r.records=e.records;for(var t=0;t<r.records.length;t++){var a=void 0!==r.records[t][r.valueMember]?parseFloat(r.records[t][r.valueMember]):0;r.records[t][r.valueMember]=isNaN(a)?0:a,r.records[t].index=t}r.hiddenList=[]},_updateColor:function(){var r=this;r.textColor&&e(r._el).find("li").css("color",r.textColor)},_updateSize:function(){var e=this;e.width&&e.host.width(e.width),e.height&&e.host.height(e.height)},_setRtl:function(){var e=this;e.rtl?e.host.addClass(e.toThemeProperty("jqx-rtl")):e.host.removeClass(e.toThemeProperty("jqx-rtl"))}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxTextArea","",{}),e.extend(e.jqx._jqxTextArea.prototype,{defineInstance:function(){var t=this,r={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,rtl:!1,displayMember:"",valueMember:"",popupZIndex:2e4,items:8,minLength:1,maxLength:null,scrollBarSize:e.jqx.utilities.scrollBarSize,query:"",changeType:null,events:["change","select","open","close"]};return this===e.jqx._jqxTextArea.prototype?r:(e.extend(!0,t,r),r)},createInstance:function(){var t=this;t._textareaWidthFix=0,e.jqx.browser.chrome?t._textareaWidthFix=6:e.jqx.browser.msie&&(t._textareaWidthFix=3),!1===document.body.contains(t.element)&&(t._notInDOM=!0),t._popupHelper=e(t.$popup),t.render(),t.isInitialized=!0},render:function(){var t=this;if(!0!==t.isInitialized){15!==e.jqx.utilities.scrollBarSize&&(t.scrollBarSize=e.jqx.utilities.scrollBarSize);var r=document.createElement("div");r.style.overflow="hidden",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="transparent",r.style["-webkit-appearance"]="none",r.style.outline="none",r.style.align="left",r.style.border="0px",r.style.padding="0px",r.style.margin="0px",r.style.left="0px",r.style.top="0px",r.style.valign="top",r.style.position="relative";var a=document.createElement("div");if(a.style.align="left",a.style.valign="top",a.style.left="0px",a.style.top="0px",a.style.position="absolute",t._baseHost=t.host,e.jqx.utilities.resize(t._baseHost,function(){if(t._notInDOM)return t._notInDOM=!1,void("textarea"===t.element.nodeName.toLowerCase()&&(t.isInitialized=!1,t.render()));t._ttimer=setTimeout(function(){t.textarea.style.width="",t._arrange()},100)},!1,!0),"div"===t.element.tagName.toLowerCase()){t.element.appendChild(r);var l=document.createElement("textarea");l.className=t.toThemeProperty("jqx-text-area-element"),t.textarea=l,r.appendChild(l),r.appendChild(a),t.wrapper=t.element}else if("textarea"===t.element.tagName.toLowerCase()){if(t._notInDOM)return;t.textarea=t.element;var s=document.createElement("div");t.element.parentNode.insertBefore(s,t.element),s.appendChild(r),r.appendChild(t.element),r.appendChild(a);var i=t.host.data();t.host=e(s),t.host.data(i),s.style.cssText=t.element.style.cssText,t.element.style.cssText="",t.element.className=t.toThemeProperty("jqx-text-area-element"),t.wrapper=s,s.setAttribute("id",t.element.id),t.element=s,t.textarea.setAttribute("id",t.element.id+"TextArea")}var n=t.host;if(t._addClasses(),!n.jqxButton)throw new Error("jqxTextArea: Missing reference to jqxbuttons.js.");if(!n.jqxScrollBar)throw new Error("jqxTextArea: Missing reference to jqxscrollbar.js.");null===t.width&&t.element.style&&null!==t.element.style.width&&(t.width=t.element.style.width),null===t.height&&t.element.style&&null!==t.element.style.height&&(t.height=t.element.style.height),t._setSize(),t.vScrollBar=e(a),t.vScrollBar.jqxScrollBar({vertical:!0,width:15,height:"100%",max:t.height,theme:t.theme}),""===e.trim(t.textarea.value)&&(t.textarea.value=""),t.textarea.setAttribute("placeholder",t.placeHolder),null!==t.maxLength&&t.textarea.setAttribute("maxlength",t.maxLength),e.jqx.browser.msie&&e.jqx.browser.version<10&&""===t.textarea.value&&(t.textarea.value=t.placeHolder),(t.source instanceof Array&&t.source.length||t.source._source||e.isFunction(t.source))&&(t._oldsource=t.source,t._updateSource(),t._addPopupClasses(),e.jqx.aria(t,"aria-haspopup",!0)),t._arrange(),t._addHandlers()}else t.refresh()},refresh:function(e){if(!0!==e){var t=this;t._setSize(),t._arrange(),t._removeHandlers(),t._addHandlers(),!0===t.opened&&t.open()}},_arrange:function(){var e=this,t=e.textarea,r=t.scrollHeight-e._height(t),a=Math.max(0,r);e.vScrollBar.jqxScrollBar({max:a,value:t.scrollTop}),r<5?(t.style.width=this._toPx(e._width(e.element)),e.vScrollBar[0].style.visibility="hidden"):(t.style.width=this._toPx(e._width(e.element)-e.scrollBarSize-e._textareaWidthFix),e.vScrollBar[0].style.visibility="visible",e._arrangeScrollbars(e.scrollBarSize))},val:function(t){var r,a=this,l=a.textarea,s=l.value;if(e.jqx.browser.msie&&e.jqx.browser.version<10&&s===a.placeHolder&&(s=""),0===arguments.length||"object"==typeof t&&!0===e.isEmptyObject(t))return""!==a.displayMember&&""!==a.valueMember&&a.selectedItem?""===s?"":a.selectedItem:s;if(t&&t.label){if(a.selectedItem&&t.label===a.selectedItem.label&&t.value===a.selectedItem.value)return t.label;a.selectedItem={label:t.label,value:t.value},a.element.setAttribute("data-value",t.value),a.element.setAttribute("data-label",t.label),l.value=t.label,r=t.label}else{if(s===t)return t;l.value=t,a.element.setAttribute("data-value",t),a.element.setAttribute("data-label",t),r=t}return a._arrange(),a._raiseEvent("0"),r},focus:function(){this.textarea.focus()},selectAll:function(){var e=this.textarea;setTimeout(function(){if("selectionStart"in e)e.focus(),e.setSelectionRange(0,e.value.length);else{var t=e.createTextRange();t.collapse(!0),t.moveEnd("character",e.value.length),t.moveStart("character",0),t.select()}},10)},_arrangeScrollbars:function(e){var t=this,r=t._width(t.element),a=t._height(t.element),l=t.vScrollBar,s=l[0],i="hidden"!==s.style.visibility;l.jqxScrollBar({width:e,height:parseInt(a,10)-2}),s.style.left=r-e-2-2+"px",s.style.top="0px";var n=t._width(t.element)-t.vScrollBar.outerWidth();if(t.rtl){s.style.left="0px";var o=i?parseInt(e,10)+3+"px":0;t.textarea.style.paddingLeft=t._toPx(o),t.textarea.style.width=t._toPx(n-4)}else"hidden"!==l.css("visibility")&&(t.textarea.style.width=this._toPx(n-t._textareaWidthFix));l.jqxScrollBar("refresh")},destroy:function(){var e=this;e._popupHelper.remove(),e.vScrollBar.jqxScrollBar("destroy"),e._removeHandlers(),e.host.remove()},propertiesChangedHandler:function(e,t,r){r&&r.width&&r.height&&2==Object.keys(r).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._arrange())},propertyChangedHandler:function(t,r,a,l){if(void 0!==t.isInitialized&&!1!==t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&l!==a)switch(r){case"theme":t.vScrollBar.jqxScrollBar({theme:t.theme});break;case"width":case"height":t.element.style[r]=t._toPx(l),t._arrange();break;case"source":t._oldsource=l,t._updateSource();break;case"displayMember":case"valueMember":t.source=t._oldsource,t._updateSource();break;case"opened":!0===l?t.open():t.close();break;case"maxLength":t.textarea.setAttribute("maxlength",l);break;case"placeHolder":t.textarea.setAttribute("placeholder",l),e.jqx.browser.msie&&e.jqx.browser.version<10&&t.textarea.value===a&&(t.textarea.value=l);break;case"scrollBarSize":t._arrange();break;case"dropDownWidth":t.$popup.style.width=t._toPx(l);break;case"roundedCorners":!0===l?(t.element.className+=" "+t.toThemeProperty("jqx-rc-all"),t.$popup.className+=" "+t.toThemeProperty("jqx-rc-all")):(t.host.removeClass(t.toThemeProperty("jqx-rc-all")),t._popupHelper.removeClass(t.toThemeProperty("jqx-rc-all")));break;case"disabled":t.vScrollBar.jqxScrollBar({disabled:l}),!0===l?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t.textarea.setAttribute("disabled","disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.textarea.removeAttribute("disabled")),e.jqx.aria(t,"aria-disabled",l);break;case"rtl":!0===l?t.textarea.className+=" "+t.toThemeProperty("jqx-text-area-element-rtl"):e(t.textarea).removeClass(t.toThemeProperty("jqx-text-area-element-rtl")),t._arrange();break;default:t.refresh()}},_raiseEvent:function(t,r){var a=this;void 0===r&&(r={owner:null});var l=a.events[t];r.owner=a;var s=new e.Event(l);s.owner=a,0===t&&(r.type=this.changeType,this.changeType=null),s.args=r,s.preventDefault&&s.preventDefault();return("change"===l||"div"===a._baseHost[0].tagName.toLowerCase()?a.host:a._baseHost).trigger(s)},_addHandlers:function(){var t=this,r=t.element.id,a=t.host,l=t.textarea,s=e.jqx.browser.mozilla?"wheel":"mousewheel";t.addHandler(a,s+".jqxTextArea"+r,function(e){t.wheel(e,t)}),t.addHandler(a,"mouseenter.jqxTextArea"+r,function(){t.focused=!0}),t.addHandler(a,"mouseleave.jqxTextArea"+r,function(){t.focused=!1}),t.addHandler(a,"focus.jqxTextArea"+r,function(){t.focused=!0}),t.addHandler(a,"blur.jqxTextArea"+r,function(){t.focused=!1}),t.addHandler(t.wrapper,"scroll.jqxTextArea"+r,function(){0!==t.wrapper.scrollTop&&(t.wrapper.scrollTop=0),0!==t.wrapper.scrollLeft&&(t.wrapper.scrollLeft=0)}),t.addHandler(l,"change.jqxTextArea"+r,function(e){e.stopPropagation(),e.preventDefault(),t._arrange(),t._raiseEvent("0")}),t.addHandler(l,"select.jqxTextArea"+r,function(e){e.stopPropagation(),e.preventDefault()}),t.addHandler(l,"scroll.jqxTextArea"+r,function(){var e=Math.max(0,l.scrollHeight-t._height(l));t.vScrollBar.jqxScrollBar({max:e,value:l.scrollTop})}),t.addHandler(l,"focus.jqxTextArea"+r,function(){t.element.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),e.jqx.browser.msie&&e.jqx.browser.version<10&&l.value===t.placeHolder&&(l.value="")}),t.addHandler(l,"blur.jqxTextArea"+r,function(){if(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.jqx.browser.msie&&e.jqx.browser.version<10){var r=t.textarea.value;""===r?t.textarea.value=t.placeHolder:null!==t.maxLength&&r.length>t.maxLength&&(t.textarea.value=r.substr(0,t.maxLength))}}),t.addHandler(l,"keydown.jqxTextArea"+r,function(r){t._suppressKeyPressRepeat=~e.inArray(r.keyCode,[40,38,9,13,27]),t.changeType="keyboard",t._move(r)}),t.addHandler(l,"keypress.jqxTextArea"+r,function(r){if(null!==t.maxLength&&e.jqx.browser.msie&&e.jqx.browser.version<10&&l.value.length>t.maxLength)return!1;t._suppressKeyPressRepeat||t._move(r)}),t.addHandler(l,"keyup.jqxTextArea"+r,function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!t.opened)return;t._select();break;case 27:if(!t.opened)return;t.close();break;default:t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t._suggest()},300)}e.preventDefault(),t._arrange()}),t.addHandler(t.vScrollBar,"valueChanged.jqxTextArea"+r,function(e){l.scrollTop=e.currentValue}),t.addHandler(t.$popup,"mousedown.jqxTextArea"+r,function(e){e.stopPropagation(),e.preventDefault(),t.changeType="mouse",t._select()})},_removeHandlers:function(){var t=this,r=t.element.id,a=t.host,l=t.textarea;e.jqx.utilities.resize(t._baseHost,null,!0),t.removeHandler(a,"mousewheel.jqxTextArea"+r),t.removeHandler(a,"mouseenter.jqxTextArea"+r),t.removeHandler(a,"mouseleave.jqxTextArea"+r),t.removeHandler(a,"focus.jqxTextArea"+r),t.removeHandler(a,"blur.jqxTextArea"+r),t.removeHandler(t.wrapper,"scroll.jqxTextArea"+r),t.removeHandler(l,"change.jqxTextArea"+r),t.removeHandler(l,"select.jqxTextArea"+r),t.removeHandler(l,"scroll.jqxTextArea"+r),t.removeHandler(l,"focus.jqxTextArea"+r),t.removeHandler(l,"blur.jqxTextArea"+r),t.removeHandler(l,"keydown.jqxTextArea"+r),t.removeHandler(l,"keypress.jqxTextArea"+r),t.removeHandler(l,"keyup.jqxTextArea"+r),t.removeHandler(t.vScrollBar,"valueChanged.jqxTextArea"+r),t.removeHandler(t.$popup,"mousedown.jqxTextArea"+r)},_itemHandler:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},wheel:function(t,r){var a=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(a=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?a=t.wheelDelta/120:t.detail?a=-t.detail/3:t.originalEvent.wheelDelta?a=t.originalEvent.wheelDelta/120:t.originalEvent.detail?a=-t.originalEvent.detail/3:t.originalEvent.deltaY&&(a=-t.originalEvent.deltaY/3),a){var l=r._handleDelta(a);return l||t.preventDefault&&t.preventDefault(),!l&&l}t.preventDefault&&t.preventDefault(),t.returnValue=!1},_handleDelta:function(e){var t=this,r=t.vScrollBar.jqxScrollBar("getInstance");if(t.focused){var a=r.value;if(e<0?t.scrollDown():t.scrollUp(),a!==r.value)return!1}return!0},scrollDown:function(){var e=this;if("hidden"===e.vScrollBar.css("visibility"))return!1;var t=e.vScrollBar.jqxScrollBar("getInstance"),r=Math.min(t.value+t.largestep,t.max);return t.setPosition(r),e._arrange(),!0},scrollUp:function(){var e=this;if("hidden"===e.vScrollBar.css("visibility"))return!1;var t=e.vScrollBar.jqxScrollBar("getInstance"),r=Math.max(t.value-t.largestep,t.min);return t.setPosition(r),e._arrange(),!0},_setSize:function(){var e=this;e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height)},_addClasses:function(){var t=this,r="jqx-panel jqx-widget jqx-widget-content jqx-text-area";t.textarea.className+=" "+t.toThemeProperty("jqx-widget jqx-widget-content"),!0===t.roundedCorners&&(r+=" jqx-rc-all"),!0===t.disabled?(r+=" jqx-fill-state-disabled",t.textarea.setAttribute("disabled","disabled"),e.jqx.aria(t,"aria-disabled",!0)):e.jqx.aria(t,"aria-disabled",!1),!0===t.rtl&&(t.textarea.className+=" "+t.toThemeProperty("jqx-text-area-element-rtl")),t.element.className+=" "+t.toThemeProperty(r)},_addPopupClasses:function(){var t=this,r="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";e.jqx.browser.msie&&(r+=" jqx-noshadow"),t.roundedCorners&&(r+=" jqx-rc-all"),t.$popup.className+=" "+t.toThemeProperty(r)},_updateSource:function(){var t=this,r=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var r="",a="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(r=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(a=e[t.valueMember]),""===r&&(r=e.label),""===a&&(a=e.value),{label:r,value:a}}return e},a=function(e){for(var t=[],a=0;a<e.length;a++)t[a]=r(e[a]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=a(t.adapter.records)});else{var l={};this.adapter._options.data?e.extend(t.adapter._options.data,l):(this.source._source.data&&e.extend(l,this.source._source.data),this.adapter._options.data=l),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=a(t.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=a(this.source))},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var r=this.element.id+"_popup";this.$popup.id=r,e.jqx.aria(this,"aria-owns",r),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block";var a=0,l=this._popupHelper.children();return e.each(l,function(){a+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(a),this.opened=!0,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("3",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},_suggest:function(){var t,r=this;return r.query=r.textarea.value,!r.query||r.query.length<r.minLength?r.opened?r.close():r:(t=e.isFunction(r.source)?r.source(r.query,e.proxy(r._load,this)):r.source)?r._load(t):r},_load:function(t){var r=this;return t=e.grep(t,function(e){return r.filter(e)}),(t=r.sort(t)).length?r._render(t.slice(0,r.items)).open():r.opened?r.close():r},_filter:function(t){var r=this,a=r.query,l=t;switch(void 0!==t.label?l=t.label:r.displayMember&&(l=t[r.displayMember]),r.searchMode){case"none":break;case"contains":return e.jqx.string.contains(l,a);case"equals":return e.jqx.string.equals(l,a);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(l,a);case"startswith":return e.jqx.string.startsWith(l,a);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(l,a);case"endswith":return e.jqx.string.endsWith(l,a);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(l,a);default:return e.jqx.string.containsIgnoreCase(l,a)}},_sort:function(e){for(var t=this,r=[],a=[],l=[],s=0;s<e.length;s++){var i=e[s],n=i;i.label?n=i.label:t.displayMember&&(n=i[t.displayMember]),0===n.toString().toLowerCase().indexOf(t.query.toString().toLowerCase())?r.push(i):n.toString().indexOf(t.query)>=0?a.push(i):n.toString().toLowerCase().indexOf(t.query.toString().toLowerCase())>=0&&l.push(i)}return r.concat(a,l)},_render:function(t){var r=this,a=r._popupHelper.children();if(a.length>0)for(var l=0;l<a.length;l++)e(a[l]).remove();var s=function(e,t){var a,l,s=e,i=document.createElement("li"),n=document.createElement("a");n.setAttribute("href","#"),i.appendChild(n),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(a=e.label,l=e.value):(a=e.value,l=e.value):void 0!==e.label&&null!==e.label?(a=e.label,l=e.label):void 0!==r.displayMember&&""!==r.displayMember?(a=e[r.displayMember],l=e[r.valueMember]):(a=e,l=e),i.setAttribute("data-value",l),i.setAttribute("data-name",a),e.label?s=e.label:r.displayMember&&(s=e[r.displayMember]),n.innerHTML=r.highlight(s);var o="";r.rtl&&(o=" jqx-rtl"),0===t&&(o+=" jqx-fill-state-pressed"),i.className=r.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+o),r.$popup.appendChild(i),r.addHandler(i,"mouseenter",function(e){r._itemHandler(e)})};return function(e){for(var t=0;t<e.length;t++)s(e[t],t)}(t),this.dropDownWidth?this.$popup.style.width=r._toPx(r.dropDownWidth):this.$popup.style.width=r._toPx(r.element.offsetWidth-6),this},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var r=new RegExp("("+t+")","ig");return e.replace(r,function(e,t){return"<b>"+t+"</b>"})},_select:function(){var e=this._find("jqx-fill-state-pressed",this._popupHelper),t=e.getAttribute("data-value"),r=e.getAttribute("data-name");return this.textarea.value=this.renderer(r,this.textarea.value),this.selectedItem={label:r,value:t},this.element.setAttribute("data-value",t),this.element.setAttribute("data-label",r),this._raiseEvent("1",{item:{label:r,value:t}}),this._arrange(),this.textarea.scrollTop=this.textarea.scrollHeight,this._raiseEvent("0"),this.close()},_renderer:function(e){return e},_move:function(e){var t=this;if(t.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),t._prev());break;case 40:e.shiftKey||(e.preventDefault(),t._next())}e.stopPropagation()}},_next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),r=t.nextSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r||(r=this.$popup.firstChild),r.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),r=t.previousSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r||(r=this.$popup.lastChild),r.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var r=t.children(),a=0;a<r.length;a++){var l=r[a];if(-1!==l.className.indexOf(e))return l}},_width:function(t){var r=e(t),a=r.css("border-left-width"),l=r.css("border-right-width"),s=parseInt(r.css("padding-left"),10),i=parseInt(r.css("padding-right"),10);a=-1===a.indexOf("px")?1:parseInt(a,10),l=-1===l.indexOf("px")?1:parseInt(l,10);var n=t.offsetWidth-(a+l+s+i);return n>0?n:""},_height:function(t){var r=e(t),a=r.css("border-top-width"),l=r.css("border-bottom-width"),s=parseInt(r.css("padding-top"),10),i=parseInt(r.css("padding-bottom"),10);a=-1===a.indexOf("px")?1:parseInt(a,10),l=-1===l.indexOf("px")?1:parseInt(l,10);var n=t.offsetHeight-(a+l+s+i);return n>0?n:""}})}(jqxBaseFramework);

!function(e){"use strict";e.jqx.jqxWidget("jqxToolBar","",{}),e.extend(e.jqx._jqxToolBar.prototype,{defineInstance:function(){var t={width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:!1,rtl:!1,events:["open","close"]};return this===e.jqx._jqxToolBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;"none"!==e.host.css("display")&&!1!==document.body.contains(e.element)||(e._initiallyHidden=!0),e._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"},e._toolChanges=[],e.render()},render:function(){var t=this,o=!0;t.element.innerHTML="",t.element.className.length>0&&t._removeClass(t.element,t.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled")),t._setSize(),t._destroyTools(!1),t._toolWidgets&&(o=!1,e(t._minimizeButton).remove(),e(t._minimizePopup).remove()),t._appendMinimizeButton(),t._addClasses(),t._initiallyHidden||t._createTools(),!0===t.disabled&&(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t._disableTools(!0)),t._initiallyHidden||t._minimize(),t._removeHandlers(),t._addHandlers(),!1===o&&t._toolChanges.length>0&&t._restoreChanges()},refresh:function(e){!0!==e&&this.render()},getTools:function(){return this._toolWidgets},destroy:function(){var e=this;e._removeHandlers(),e._destroyTools(),e.host.remove()},_destroyTools:function(e){var t=this;if(!1!==e&&(e=!0),t._toolWidgets)for(var o=t._toolWidgets.length-1;o>=0;o--)t._destroyTool(o,e,!0)},_destroyTool:function(t,o,i){var l=this;t=parseInt(t,10);var n=l._toolWidgets[t];if(n){var r=n.type,a=n.tool,s=n.menuTool;"custom"!==r?(a[l._toolToWidgetMapping[r]]("destroy"),s&&s[l._toolToWidgetMapping[r]]("destroy")):(a.remove(),s&&s.remove()),n.menuSeparator&&e(n.menuSeparator).remove(),l._toolWidgets.splice(t,1),l._checkType(r)&&l._refreshButtonGroups(),!0!==i&&l._minimize(),!1!==o&&l._toolChanges.push({action:"destroyTool",index:t})}},destroyTool:function(e){this._destroyTool(e,!0)},addTool:function(e,t,o,i){var l,n,r,a,s=this;l="first"===t?0:s._toolWidgets.length,s._toolWidgets[l-1]&&(n=s._toolWidgets[l-1].tool,r=s._toolWidgets[l-1].separatorAfterWidget?"|":s._toolWidgets[l-1].type),!0===o?a="|":s._toolWidgets[l+1]&&(a=s._toolWidgets[l+1].type);var d=s._initializeTool(l,e,n,r,a,i,!1);"first"===t?s._toolWidgets.splice(0,0,d):s._toolWidgets.push(d),s._removeHandlers(),s._addHandlers(),s._checkType(e)&&s._refreshButtonGroups(),"first"!==t&&s._minimizedTools>0?s._minimizeTool(!0):s._minimize(),s._toolChanges.push({action:"addTool",type:e,position:t,separator:o,initCallback:i})},_disableTools:function(e){for(var t=this,o=0;o<t._toolWidgets.length;o++)t.disableTool(o,e)},disableTool:function(e,t){var o=this;e=parseInt(e,10);var i=o._toolWidgets[e];if(i){var l=i.type;"custom"!==l&&(i.tool[o._toolToWidgetMapping[l]]({disabled:t}),i.menuTool[o._toolToWidgetMapping[l]]({disabled:t})),o._toolChanges.push({action:"disableTool",index:e,disable:t})}},propertyChangedHandler:function(t,o,i,l){if("initTools"!==o&&l!==i)switch(o){case"theme":""!==i&&(t._removeClass(t.element,t.toThemeProperty("jqx-widget-"+i+" jqx-fill-state-normal-"+i+" jqx-rc-all-"+i+" jqx-toolbar-"+i)),t._removeClass(t._minimizePopup,"jqx-popup-"+i+" jqx-fill-state-normal-"+i+" jqx-rc-b-"+i+" jqx-toolbar-minimized-popup-"+i)),t._addClasses(),t._minimizePopup.className+=" "+t.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup");for(var n=0;n<t._toolWidgets.length;n++){var r=t._toolWidgets[n];"custom"!==r.type&&(r.menuTool&&(r.menuSeparator&&(""!==i&&t._removeClass(r.menuSeparator,"jqx-fill-state-pressed-"+i+" jqx-toolbar-minimized-popup-separator-"+i),r.menuSeparator.className+=" jqx-fill-state-pressed-"+l+" jqx-toolbar-minimized-popup-separator-"+l),r.menuTool[t._toolToWidgetMapping[t._toolWidgets[n].type]]({theme:l})),r.tool[t._toolToWidgetMapping[t._toolWidgets[n].type]]({theme:l}))}e.jqx.utilities.setTheme(i,l,t.host);break;case"width":t.element.style.width=t._toPx(l),t._minimize();break;case"minWidth":t.element.style.minWidth=t._toPx(l),t._minimize();break;case"maxWidth":t.element.style.maxWidth=t._toPx(l),t._minimize();break;case"height":var a,s=!1;if(t.element.style.height=t._toPx(l),"string"==typeof l&&-1!==l.indexOf("%")){if("string"==typeof i&&-1!==i.indexOf("%"))return void t.host.trigger("resize");s=!0}else a=parseInt(l,10),a-=t._getComputedStyle(t.element,"paddingTop")+t._getComputedStyle(t.element,"paddingBottom")+t._getComputedStyle(t.element,"borderTopWidth")+t._getComputedStyle(t.element,"borderBottomWidth");for(var d=0;d<t._toolWidgets.length;d++){var m=t._toolWidgets[d],p=m.type;"button"===p||"toggleButton"===p||"repeatButton"===p||"linkButton"===p?(m.tool[0].style.height=s?"100%":t._toPx(a),m.menuTool&&(m.menuTool[0].style.height=s?"100%":t._toPx(a))):"dropdownlist"!==p&&"combobox"!==p&&"input"!==p||(m.tool[t._toolToWidgetMapping[p]]({height:s?"100%":a-2}),m.menuTool&&m.menuTool[t._toolToWidgetMapping[p]]({height:s?"100%":a-2}))}break;case"tools":t._removeHandlers(),t._destroyTools(),t._createTools(),t._addHandlers(),t._minimize();break;case"minimizeWidth":if(!0===t._isOpen){var u=t._getComputedStyle(t._minimizePopup,"left")-(l-i);t._minimizePopup.style.width=t._toPx(l),t._minimizePopup.style.left=t._toPx(u)}else t._minimizePopup.style.width=t._toPx(l);break;case"rtl":t.render();break;case"disabled":!0===l?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t._disableTools(!0)):(t._removeClass(t.element,t.toThemeProperty("jqx-fill-state-disabled")),t._disableTools(!1))}},_raiseEvent:function(t,o){void 0===o&&(o={owner:null});var i=this.events[t];o.owner=this;var l=new e.Event(i);return l.owner=this,l.args=o,l.preventDefault&&l.preventDefault(),this.host.trigger(l)},_addClasses:function(){var e=this,t="jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar";!0===e.rtl&&(t+=" jqx-toolbar-rtl"),e.element.className+=" "+e.toThemeProperty(t)},_checkType:function(e){return"button"===e||"toggleButton"===e||"repeatButton"===e||"linkButton"===e},_refreshButtonGroups:function(){function t(t,i,l,n,r,a){var s=t.tool[0],d=t.menuTool[0],m={add:"",remove:""};m[i]+=" jqx-toolbar-tool-inner-button",m[l]+=" jqx-rc-all",m[n]+=" jqx-rc-l",m[r]+=" jqx-rc-r",""!==m.add&&(s.className+=" "+o.toThemeProperty(e.trim(m.add)),d&&(d.className+=" "+o.toThemeProperty(e.trim(m.add)))),""!==m.remove&&(o._removeClass(s,o.toThemeProperty(e.trim(m.remove))),d&&o._removeClass(d,o.toThemeProperty(e.trim(m.remove)))),s.style.borderLeftWidth=a+"px",d&&(d.style.borderLeftWidth=a+"px")}for(var o=this,i=0;i<o._toolWidgets.length;i++){var l=o._toolWidgets[i];if(o._checkType(l.type)){var n,r,a=l.tool,s=l.menuTool;i>0&&(n=o._toolWidgets[i-1].separatorAfterWidget?"|":o._toolWidgets[i-1]),l.separatorAfterWidget?r="|":i<o._toolWidgets.length-1&&(r=o._toolWidgets[i+1]);var d=n&&o._checkType(n.type),m=!1===l.separatorAfterWidget&&r&&o._checkType(r.type);d||m?!d&&m?t(l,"remove","remove","add","remove",1):d&&m?t(l,"add","remove","remove","remove",0):d&&!m&&t(l,"remove","remove","remove","add",0):t(l,"remove","add","remove","remove",1);var p=o.rtl?"rtl":"ltr";m?(o._removeClass(a[0],o.toThemeProperty("jqx-toolbar-tool-separator-"+p)),o._removeClass(a[0],o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)),s&&(o._removeClass(s[0],o.toThemeProperty("jqx-toolbar-tool-separator-"+p)),o._removeClass(s[0],o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)))):l.separatorAfterWidget?(o._removeClass(a[0],o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)),a[0].className+=" "+o.toThemeProperty("jqx-toolbar-tool-separator-"+p),s&&(o._removeClass(s[0],o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)),s[0].className+=" "+o.toThemeProperty("jqx-toolbar-tool-separator-"+p))):(o._removeClass(a[0],o.toThemeProperty("jqx-toolbar-tool-separator-"+p)),a[0].className+=" "+o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p),s&&(o._removeClass(s[0],o.toThemeProperty("jqx-toolbar-tool-separator-"+p)),s[0].className+=" "+o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)))}}},_addHandlers:function(){var t=this,o=t.element.id;e.jqx.utilities.resize(t.host,function(){if(t._initiallyHidden)return t._createTools(),t._minimize(),void(t._initiallyHidden=!1);!0===t._isOpen&&(t._minimizePopup.style.display="none",t._isOpen=!1,t._raiseEvent("1")),t._minimize()}),t.addHandler(document,"click.jqxToolbar"+o,function(){!0===t._isOpen&&t._openMinimizePopup()}),t.addHandler(t._minimizeButton,"click.jqxToolbar"+o,function(e){e.stopPropagation(),t._openMinimizePopup()}),t.addHandler(e(".jqx-popup"),"click.jqxToolbar"+o,function(e){-1===e.target.className.indexOf("jqx-window-content")&&e.stopPropagation()})},_removeHandlers:function(){var t=this,o=t.element.id;t.removeHandler(document,"click.jqxToolbar"+o),t.removeHandler(t._minimizeButton,"click.jqxToolbar"+o),t.removeHandler(e(".jqx-popup"),"click.jqxToolbar"+o)},_setSize:function(){var e=this,t=e.element.style;t.width=e._toPx(e.width),t.height=e._toPx(e.height),e.minWidth&&(t.minWidth=e._toPx(e.minWidth)),e.maxWidth&&(t.maxWidth=e._toPx(e.maxWidth))},_createTools:function(){var t=this,o=t.tools.split(" "),i=e.trim(t.tools.replace(/\|/g,""));i=(i=i.replace(/\s+/g," ")).split(" "),t._toolWidgets=[];for(var l=0,n=0;n<i.length;n++){i[n]!==o[n+l]&&l++;var r,a=n+l;t._toolWidgets[n-1]&&(r=t._toolWidgets[n-1].tool);var s=o[a],d=o[a-1],m=o[a+1],p=t.initTools;if(""===s)return!0;var u=t._initializeTool(n,s,r,d,m,p,!0);t._toolWidgets.push(u)}t._minimizePopup.style.display="none",t._minimizePopup.style.visibility="visible"},_initializeTool:function(e,t,o,i,l,n,r){var a,s,d=this,m=d._initializeWidget(t,a,s,o);a=m.tool,s=m.menuTool;var p,u=a[0],_="jqx-toolbar-tool",h=s[0],c=!0;if(!0===d.rtl&&(_+=" jqx-toolbar-tool-rtl"),d.initTools){var g;!(g=!0===r?d.initTools(t,e,a,!1):n(t,a,!1))||!1!==g.minimizable&&!1!==g.menuTool?(!0===r?d.initTools(t,e,s,!0):n(t,s,!0),s&&(p="jqx-toolbar-tool-minimized")):("custom"!==t?s[d._toolToWidgetMapping[t]]("destroy"):s.remove(),!1===g.minimizable&&(c=!1),s=!1)}var f=!1;s&&(h.style.display="none");var x,y=d.rtl?"rtl":"ltr",b=["button","toggleButton","repeatButton","linkButton"],v={button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};return"|"===l?(f=!0,_+=" jqx-toolbar-tool-separator-"+y,s&&(p+=" jqx-toolbar-tool-separator-"+y),s&&((x=document.createElement("div")).className=d.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator"),d._minimizePopup.appendChild(x))):(-1===b.indexOf(t)||-1!==b.indexOf(t)&&-1===b.indexOf(l))&&(_+=" jqx-toolbar-tool-no-separator-"+y,s&&(p+=" jqx-toolbar-tool-no-separator-"+y)),-1===b.indexOf(i)&&-1!==b.indexOf(t)&&-1!==b.indexOf(l)?!1===d.rtl?(a[v[t]]({roundedCorners:"left"}),s&&s[v[t]]({roundedCorners:"left"})):(a[v[t]]({roundedCorners:"left"}),u.style.borderLeftWidth="0px",s&&(s[v[t]]({roundedCorners:"left"}),h.style.borderLeftWidth="0px")):-1!==b.indexOf(i)&&-1!==b.indexOf(t)&&-1!==b.indexOf(l)?(_+=" jqx-toolbar-tool-inner-button",u.style.borderLeftWidth="0px",s&&(p+=" jqx-toolbar-tool-inner-button",h.style.borderLeftWidth="0px")):-1!==b.indexOf(i)&&-1!==b.indexOf(t)&&-1===b.indexOf(l)&&(!1===d.rtl?(a[v[t]]({roundedCorners:"right"}),u.style.borderLeftWidth="0px",s&&(s[v[t]]({roundedCorners:"right"}),h.style.borderLeftWidth="0px")):(a[v[t]]({roundedCorners:"left"}),s&&s[v[t]]({roundedCorners:"left"}))),u.className+=" "+d.toThemeProperty(_),s&&(h.className+=" "+d.toThemeProperty(p)),{type:t,tool:a,separatorAfterWidget:f,minimizable:c,minimized:!1,menuTool:s,menuSeparator:x}},_initializeWidget:function(t,o,i,l){var n,r,a=this,s=a._toolToWidgetMapping[t],d=!1;if("string"==typeof a.height&&-1!==a.height.indexOf("%"))d=!0;else{var m=window.getComputedStyle?window.getComputedStyle(a.element):a.element.currentStyle;r=a.element.offsetHeight-(parseInt(m.paddingTop,10)+parseInt(m.paddingBottom,10)+parseInt(m.borderTopWidth,10)+parseInt(m.borderBottomWidth,10))}if("custom"!==t&&void 0===a.host[s]){var p=a._toolToWidgetMapping[t].toLowerCase();throw new Error("jqxToolBar: Missing reference to "+p+".js")}switch(t){case"button":case"toggleButton":o=document.createElement("button"),i=document.createElement("button"),n={theme:a.theme,height:d?"100%":r,disabled:a.disabled,rtl:a.rtl};break;case"dropdownlist":case"combobox":o=document.createElement("div"),i=document.createElement("div"),n={theme:a.theme,autoDropDownHeight:!0,height:d?"100%":r-2,disabled:a.disabled,rtl:a.rtl};break;case"input":(o=document.createElement("input")).setAttribute("type","text"),(i=document.createElement("input")).setAttribute("type","text"),n={theme:a.theme,height:d?"100%":r-2,disabled:a.disabled,rtl:a.rtl};break;case"custom":o=document.createElement("div"),i=document.createElement("div")}return function(){var t=a.host.children(),n=e(a._minimizePopup).children();l||1===t.length&&0===n.length?(a.element.appendChild(o),a._minimizePopup.appendChild(i)):(a.element.insertBefore(o,t[1]),a._minimizePopup.insertBefore(i,n[0]))}(),o=e(o),i=e(i),"custom"!==t&&(o[s](n),i[s](n)),{tool:o,menuTool:i}},_appendMinimizeButton:function(){var e=this;e._minimizedTools=0;var t=document.createElement("div"),o="jqx-menu-minimized-button jqx-toolbar-minimized-button",i=document.createElement("div"),l="jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup";i.setAttribute("id",e.element.id+"Popup"),!0===e.rtl&&(o+=" jqx-toolbar-minimized-button-rtl",l+=" jqx-toolbar-minimized-popup-rtl"),t.className=e.toThemeProperty(o),i.className=e.toThemeProperty(l),e.element.appendChild(t),document.body.appendChild(i),e._isOpen=!1,i.style.width=e._toPx(e.minimizeWidth),e._minimizeButton=t,e._minimizePopup=i},_openMinimizePopup:function(){var t=this;if(!1===t._isOpen){var o=t.host.offset(),i=o.left;!1===t.rtl&&(i+=t.element.offsetWidth-parseInt(t.minimizeWidth,10)-(t._getComputedStyle(t._minimizePopup,"paddingLeft")+t._getComputedStyle(t._minimizePopup,"paddingRight")+t._getComputedStyle(t._minimizePopup,"borderLeftWidth")+t._getComputedStyle(t._minimizePopup,"borderRightWidth")));var l=o.top+t.element.offsetHeight-1;t._minimizePopup.style.left=i+"px",t._minimizePopup.style.top=l+"px",e(t._minimizePopup).slideDown("fast",function(){t._isOpen=!0,t._raiseEvent("0")})}else e(t._minimizePopup).slideUp("fast"),t._isOpen=!1,t._raiseEvent("1")},_minimize:function(){var t=this,o=0;t._minimizedTools>0&&(o=t._minimizeButton.offsetWidth+t._getComputedStyle(t._minimizeButton,"marginLeft"));var i=t.element.offsetWidth-t._getComputedStyle(t.element,"paddingLeft")-t._getComputedStyle(t.element,"paddingRight")-o-10;if(!(i<0)){for(var l,n=0,r=0;r<t._toolWidgets.length;r++){var a=t._toolWidgets[r].tool;!1===t._toolWidgets[r].minimized?n+=a[0].offsetWidth+t._getComputedStyle(a[0],"marginLeft")+t._getComputedStyle(a[0],"marginRight"):void 0===l&&(l=function(o){var i,l=o.cloneNode(!0);return l.style.visibility="hidden",l.style.display="block",l.style.position="absolute",document.body.appendChild(l),i=l.offsetWidth+t._getComputedStyle(l,"marginLeft")+t._getComputedStyle(l,"marginRight"),e(l).remove(),i}(a[0]))}n>i?(t._minimizeTool(!0),t._minimize()):void 0!==l&&n+l<i&&(t._minimizeTool(!1),t._minimize())}},_minimizeTool:function(e){var t,o,i=this;if(!0===e){for(var l=i._toolWidgets.length-1;l>=0;l--)if(!1!==(t=i._toolWidgets[l]).minimizable&&!1===t.minimized){o=i._getToolValue(t.tool,t.type),t.tool[0].style.display="none",t.menuTool&&(t.menuTool[0].style.display="block",i._setToolValue(o,t.menuTool,t.type)),t.menuSeparator&&(t.menuSeparator.style.display="block"),i._toolWidgets[l].minimized=!0,i._minimizedTools++,1===i._minimizedTools&&(i._minimizeButton.style.display="block");break}}else for(var n=0;n<i._toolWidgets.length;n++)if(!0===(t=i._toolWidgets[n]).minimized){t.menuTool&&(o=i._getToolValue(t.menuTool,t.type),t.menuTool[0].style.display="none"),t.menuSeparator&&(t.menuSeparator.style.display="none"),t.tool.show(),t.menuTool&&i._setToolValue(o,t.tool,t.type),i._toolWidgets[n].minimized=!1,i._minimizedTools--,0===i._minimizedTools&&(i._minimizeButton.style.display="none");break}},_getToolValue:function(e,t){var o;switch(t){case"button":case"custom":o=void 0;break;case"toggleButton":var i=-1!==e[0].className.indexOf("jqx-fill-state-pressed");o={text:e[0].innerHTML,toggled:i};break;case"dropdownlist":case"combobox":var l=this._toolToWidgetMapping[t];o=e[l]("checkboxes")?e[l]("val"):e[l]("getSelectedIndex");break;case"input":o=e.val()}return o},_setToolValue:function(e,t,o){if(void 0!==e)switch(o){case"button":case"custom":break;case"toggleButton":t[0].innerHTML=e.text,-1!==t[0].className.indexOf("jqx-fill-state-pressed")!==e.toggled&&t.jqxToggleButton("toggle");break;case"dropdownlist":case"combobox":var i=this._toolToWidgetMapping[o];if(t[i]("checkboxes")){if(t[i]("uncheckAll"),""===e)return;for(var l=e.split(","),n=0;n<l.length;n++)t[i]("checkItem",l[n])}else e=t[i]("selectIndex",e);break;case"input":t.val(e)}},_restoreChanges:function(){var t=this;e.each(t._toolChanges,function(e,o){"addTool"===o.action?t.addTool(o.type,o.position,o.separator,o.initCallback):"destroyTool"===o.action?t._destroyTool(o.index):"disableTool"===o.action&&t.disableTool(o.index,o.disable)})},_removeClass:function(t,o){e(t).removeClass(o)},_toPx:function(e){return"number"==typeof e?e+"px":e},_getComputedStyle:function(e,t){var o;return window.getComputedStyle?o=window.getComputedStyle(e):e.currentStyle&&(o=e.currentStyle),"string"==typeof o[t]&&-1===o[t].indexOf("px")?0:parseInt(o[t],10)}})}(jqxBaseFramework);

!function(t){"use strict";t.jqx.jqxWidget("jqxTooltip","",{}),t.extend(t.jqx._jqxTooltip.prototype,{defineInstance:function(){var o={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:t.jqx.mobile.getTouchEventName("touchstart"),mouseup:t.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===t.jqx._jqxTooltip.prototype?o:(t.extend(!0,this,o),o)},createInstance:function(){this._isTouchDevice=t.jqx.mobile.isTouchDevice();var o=t.data(document.body,"_tooltipIDArray"+this.name);o?this.IDArray=o:(this.IDArray=[],t.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var i="jqxtooltip"+this._generatekey();this.IDArray.push({tooltipID:i,tooltipHost:this.host});var e=document.createElement("div");e.setAttribute("id",i),e.innerHTML='<div id="'+i+'Main"><div id="'+i+'Text"></div></div><div id="'+i+'Arrow"></div>',t.jqx.browser.msie&&(e.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(e),this._tooltip=e,this._tooltipHelper=t(e),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),e.style.visibility="hidden",e.style.display="none",e.style.opacity=0,e.style.zIndex=99999;var s=document.getElementById(i+"Arrow");this._arrow=s,!1===this.showArrow&&(s.style.visibility="hidden",s.style.display="none"),this._main=document.getElementById(i+"Main"),this._text=document.getElementById(i+"Text"),this._setTheme(),this._setSize(),this._setContent(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),!1===this.disabled&&"removed"!==this._id())if("mouse"===this.position||"mouseenter"===this.position){var t=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=t}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(o){var i=this,e=t.jqx.browser.msie&&t.jqx.browser.version<9;"object"==typeof o&&t.isEmptyObject(o)&&(o=this.animationHideDelay);var s=parseFloat(i._tooltip.style.opacity),h=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),i._tooltipHelper.animate({opacity:0},o,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._raiseEvent("1"),i._isOpen=!1})};!1!==this._isOpen||0===s?!0===this._isOpen&&(!e&&s===this.opacity||e)&&h():h()},destroy:function(){var t=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var o=0;o<t;o++)if(this.IDArray[o].tooltipHost===this.host){this.IDArray.splice(o,1);break}this.host.removeData("jqxTooltip")},refresh:function(t){if(!0!==t){var o=this;this.rtl&&(o._text.className+=" "+o.toThemeProperty("jqx-rtl"),o._text.style.direction="rtl");var i=parseFloat(o._tooltip.style.opacity);"removed"!==this._id()&&(!0===this.disabled&&!0===this._isOpen&&i===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){o._tooltip.style.visibility="hidden",o._tooltip.style.display="none",o._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(t,o,i,e){"content"===o&&(this.changeContentFlag=!0),t.refresh()},_raiseEvent:function(o,i){var e=this.events[o],s=new t.Event(e);s.owner=this,s.args=i;var h;try{h=this.host.trigger(s)}catch(t){}return h},_generatekey:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()},_id:function(){for(var t,o=this.IDArray.length,i=0;i<o;i++)if(this.IDArray[i].tooltipHost===this.host){t="#"+this.IDArray[i].tooltipID;break}return void 0===t&&(t="removed"),t},_setPosition:function(o){var i=this,e=i._tooltip;if(!1===this._isOpen&&0===parseFloat(e.style.opacity)||!0===this.changeContentFlag){if(!o&&("mouse"===this.position||"mouseenter"===this.position))return;e.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=i.element.offsetWidth,this.hostHeight=i.element.offsetHeight,this.tooltipWidth=e.offsetWidth,this.tooltipHeight=e.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=i._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var s,h=i._arrow,r=t(h),l=i._main,f=t(l),p=l.offsetWidth,a=l.offsetHeight;switch(this.arrowSize=5,this.tooltipMainOffset=f.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(p/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(p/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":s=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(s.borderLeftWidth,10)+parseInt(s.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-t-b")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),h.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=f.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+p,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a/2-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-t-b")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),h.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+l.offsetHeight/2-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+p-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+p-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":i._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),h.style.borderWidth="0px";break;case"mouse":if(!1===this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){i.tooltipOffset.left=o.pageX+10,i.tooltipOffset.top=o.pageY+10,i._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=o.pageX+10,this.tooltipOffset.top=o.pageY+10,this._detectBrowserBounds()}else{var n=o.pageX,d=o.pageY;if(o.originalEvent){var c;o.originalEvent.touches&&o.originalEvent.touches.length?c=o.originalEvent.touches[0]:o.originalEvent.changedTouches&&o.originalEvent.changedTouches.length&&(c=o.originalEvent.changedTouches[0]),void 0!==c&&(n=c.pageX,d=c.pageY)}this.tooltipOffset.left=n+10,this.tooltipOffset.top=d+10,this._detectBrowserBounds()}h.style.borderWidth="0px";break;case"mouseenter":var u={top:o.pageY,left:o.pageX};u.top<this.hostOffset.top+10&&u.top>this.hostOffset.top-10?(this.tooltipOffset.left=u.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(p/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):u.top<this.hostOffset.top+this.hostHeight+10&&u.top>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=u.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(p/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):u.left<this.hostOffset.left+10&&u.left>this.hostOffset.left-10?(s=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(s.borderLeftWidth,10)+parseInt(s.borderRightWidth,10)),this.tooltipOffset.top=u.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-t-b")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),h.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=f.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+p,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a/2-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):u.left<this.hostOffset.left+this.hostWidth+10&&u.left>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=u.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-t-b")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),h.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=f.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a/2-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=f.offset(),i._removeClass(h,i.toThemeProperty("jqx-tooltip-arrow-l-r")),h.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),h.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,r.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var o=parseFloat(this._tooltip.style.opacity);if(!1===this._isOpen&&0===o){var i=this;if(i._tooltip.style.visibility="visible",i._tooltip.style.display="block",i._tooltip.style.opacity=0,this.opening&&!1===this.opening(this))return;i._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0,i.openedTooltip=i,t.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&!0===i.autoHide&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var o=this,i=this.host;if(this.selector&&(i=t("#"+this.selector)),!1===this._isTouchDevice)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(i,"mousemove.tooltip",function(t){1===o._enterFlag&&(o._raiseEvent("2"),o._setPosition(t),clearTimeout(o.hoverShowTimeout),o.hoverShowTimeout=setTimeout(function(){o._animateShow(),o._enterFlag=0},o.showDelay))}),this.addHandler(i,"mouseenter.tooltip",function(){0!==o._leaveFlag&&(o._enterFlag=1)}),this.addHandler(i,"mouseleave.tooltip",function(t){o._leaveFlag=1,clearTimeout(o.hoverShowTimeout);var i=o._tooltipHelper.offset(),e=o._tooltip.offsetWidth,s=o._tooltip.offsetHeight;(parseInt(t.pageX,10)<parseInt(i.left,10)||parseInt(t.pageX,10)>parseInt(i.left,10)+e)&&o.close(),(parseInt(t.pageY,10)<parseInt(i.top,10)||parseInt(t.pageY,10)>parseInt(i.top,10)+s)&&o.close()}),this.addHandler(o._tooltipHelper,"mouseleave.tooltip",function(t){o._checkBoundariesAuto(t),0!==o._clickFlag&&0!==o._autoFlag?o._leaveFlag=0:(o._leaveFlag=1,o.close())})):(this.addHandler(i,"mouseenter.tooltip",function(t){clearTimeout(o.hoverShowTimeout),o.hoverShowTimeout=setTimeout(function(){o._raiseEvent("2"),o._setPosition(t),o._animateShow()},o.showDelay)}),this.addHandler(i,"mouseleave.tooltip",function(t){if(o._leaveFlag=1,clearTimeout(o.hoverShowTimeout),o.autoHide){var i=t.pageX,e=t.pageY,s=o._tooltipHelper.offset(),h=s.left,r=s.top,l=o._tooltip.offsetWidth,f=o._tooltip.offsetHeight;(parseInt(i,10)<parseInt(h,10)||parseInt(i,10)>parseInt(h,10)+l||parseInt(e,10)<parseInt(r,10)||parseInt(e,10)>parseInt(r,10)+f)&&o.close()}}),this.addHandler(o._tooltipHelper,"mouseleave.tooltip",function(t){o._checkBoundariesAuto(t),0!==o._clickFlag&&0!==o._autoFlag?o._leaveFlag=0:(o._leaveFlag=1,o.autoHide&&o.close())}));break;case"click":this.addHandler(i,"click.tooltip",function(t){"mouseenter"===o.position&&(o.position="mouse"),o._raiseEvent("2"),o._setPosition(t),o._animateShow()})}else"none"!==this.trigger&&this.addHandler(i,"touchstart.tooltip",function(t){"mouseenter"===o.position&&(o.position="mouse"),o._raiseEvent("2"),o._setPosition(t),o._animateShow()})}},_autoHide:function(){var t=this,o=parseFloat(t._tooltip.style.opacity);!0===this.autoHide&&!0===this._isOpen&&o>=this.opacity&&(t._raiseEvent("3"),t._tooltipHelper.animate({opacity:0},t.animationHideDelay,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._raiseEvent("1"),t._isOpen=!1}))},_clickHide:function(){var t=this;this.addHandler(t._tooltipHelper,"click.tooltip",function(o){t._checkBoundariesClick(o),t.close()})},_setSize:function(){var t=this;t._tooltip.style.width=t._toPx(t.width),t._tooltip.style.height=t._toPx(t.height)},resize:function(){this._setSize()},_setTheme:function(){var t=this;-1===t._tooltip.className.indexOf("jqx-tooltip")&&(t._tooltip.className+=" "+t.toThemeProperty("jqx-tooltip jqx-popup"),t._main.className+=" "+t.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),t._text.className+=" "+t.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),t._arrow&&(t._arrow.className+=" "+t.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow")))},_initialPosition:function(){var t=this.position;this.position="default",this._setPosition(),this.position=t},_detectBrowserBounds:function(){var t=this._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?t.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?t.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?t.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?t.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?t.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?t.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?t.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?t.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):t.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):t.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(t){return t.pageX>=this.hostOffset.left&&t.pageX<=this.hostOffset.left+this.hostWidth&&t.pageY>=this.hostOffset.top&&t.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(t){this._checkBoundaries(t)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(t){this._checkBoundaries(t)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var t=0;t<this.IDArray.length;t++){var o=this.IDArray[t].tooltipID,i=document.getElementById(o);i!==this._tooltip&&(i.style.opacity=0,i.style.visibility="hidden",i.style.display="none",this._isOpen=!1)}},_toPx:function(t){return"number"==typeof t?t+"px":t},_removeClass:function(o,i){t(o).removeClass(i)}})}(jqxBaseFramework);

!function(e){e.jqx.jqxWidget("jqxTree","",{}),e.extend(e.jqx._jqxTree.prototype,{defineInstance:function(){var t={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,itemsMember:"",displayMember:"",valueMember:"",enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:13,toggleIndicatorSize:16,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxTree.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(t,s,r,n){i.disabled?i.host.addClass(i.toThemeProperty("jqx-tree-disabled")):i.host.removeClass(i.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(i,"aria-disabled",n)},null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL")&&(r=this.host.find("ul:first")).length>0&&(this.createTree(r[0]),this.createdTree=!0),null!=this.source){var s=this.loadItems(this.source);this.element.innerHTML=s,(r=this.host.find("ul:first")).length>0&&(this.createTree(r[0]),this.createdTree=!0)}if(this._itemslength=this.items.length,!this.createdTree&&0==this.host.find("ul").length){this.host.append(e("<ul></ul>"));var r=this.host.find("ul:first");r.length>0&&(this.createTree(r[0]),this.createdTree=!0),this.createdTree=!0}1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(t,i){var s=this;if(null!=t){var r=0,n=!1,l=0;if(l=(h=e(t.element).find("li")).length,e.each(h,function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&(n=!0),r++)}),t!=i)r==l?this.checkItem(t.element,!0,"tree"):r>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree");else{var a=i.checked,h=e(i.element).find("li");e.each(h,function(){s.itemMapping["id"+this.id].item;s.checkItem(this,a,"tree")})}this.checkItems(this._parentItem(t),i)}else{var a=i.checked,h=e(i.element).find("li");e.each(h,function(){s.itemMapping["id"+this.id].item;s.checkItem(this,a,"tree")})}},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;for(var s=this.items,r=new Array,n=0;n<s.length;n++)this._isVisible(s[n])&&!s[n].disabled&&r.push(s[n]);s=r,void 0!=i&&(s=s.slice(i));var l=new Array;return e.each(s,function(i){var s=this.label;s||(s=""),e.jqx.string.startsWithIgnoreCase(s.toString(),t)&&l.push({id:this.id,element:this.element})}),l},_handleKeys:function(){var t=this;this.addHandler(this.host,"keydown",function(i){var s=i.keyCode;if((t.keyboardNavigation||t.enableKeyboardNavigation)&&null!=t.selectedItem){var r=t.selectedItem.element;if(t.incrementalSearch&&!(s>=33&&s<=40)){t._searchString||(t._searchString=""),(8==s||46==s)&&t._searchString.length>=1&&(t._searchString=t._searchString.substr(0,t._searchString.length-1));var n=String.fromCharCode(s),l=!isNaN(parseInt(n));if(s>=65&&s<=97||l||8==s||32==s||46==s){if(i.shiftKey||(n=n.toLocaleLowerCase()),8!=s&&32!=s&&46!=s&&(t._searchString.length>0&&t._searchString.substr(0,1)==n||(t._searchString+=n)),32==s&&(t._searchString+=" "),t._searchTime=new Date,m=t.selectedItem){for(var a=m.id,h=-1,o=0;o<t.items.length;o++)if(t.items[o].id==a){h=o+1;break}if(0==(d=t._getMatches(t._searchString,h)).length||d.length>0&&d[0].id==a)d=t._getMatches(t._searchString)}else var d=t._getMatches(t._searchString);if(d.length>0){var m=t.selectedItem;t.selectedItem&&t.selectedItem.id!=d[0].id&&(t.clearSelection(),t.selectItem(d[0].element,"keyboard")),t._lastSearchString=t._searchString}}void 0!=t._searchTimer&&clearTimeout(t._searchTimer),27!=s&&13!=s||(t._searchString="",t._lastSearchString=""),t._searchTimer=setTimeout(function(){t._searchString="",t._lastSearchString=""},500)}switch(s){case 32:if(t.checkboxes){t.fromKey=!0;var c=e(t.selectedItem.checkBoxElement).jqxCheckBox("checked");return t.checkItem(t.selectedItem.element,!c,"tree"),t.hasThreeStates&&t.checkItems(t.selectedItem,t.selectedItem),!1}return!0;case 33:for(var u=t._getItemsOnPage(),p=t.selectedItem,o=0;o<u;o++)p=t._prevVisibleItem(p);return null!=p?(t.selectItem(p.element,"keyboard"),t.ensureVisible(p.element)):(t.selectItem(t._firstItem().element,"keyboard"),t.ensureVisible(t._firstItem().element)),!1;case 34:for(var u=t._getItemsOnPage(),v=t.selectedItem,o=0;o<u;o++)v=t._nextVisibleItem(v);return null!=v?(t.selectItem(v.element,"keyboard"),t.ensureVisible(v.element)):(t.selectItem(t._lastItem().element,"keyboard"),t.ensureVisible(t._lastItem().element)),!1;case 37:case 39:if(37==s&&!t.rtl||39==s&&t.rtl)if(t.selectedItem.hasItems&&t.selectedItem.isExpanded)t.collapseItem(r);else{var f=t._parentItem(t.selectedItem);null!=f&&(t.selectItem(f.element,"keyboard"),t.ensureVisible(f.element))}return(39==s&&!t.rtl||37==s&&t.rtl)&&t.selectedItem.hasItems&&(t.selectedItem.isExpanded?null!=(v=t._nextVisibleItem(t.selectedItem))&&(t.selectItem(v.element,"keyboard"),t.ensureVisible(v.element)):t.expandItem(r)),!1;case 13:return t.selectedItem.hasItems&&(t.selectedItem.isExpanded?t.collapseItem(r):t.expandItem(r)),!1;case 36:return t.selectItem(t._firstItem().element,"keyboard"),t.ensureVisible(t._firstItem().element),!1;case 35:return t.selectItem(t._lastItem().element,"keyboard"),t.ensureVisible(t._lastItem().element),!1;case 38:return null!=(p=t._prevVisibleItem(t.selectedItem))&&(t.selectItem(p.element,"keyboard"),t.ensureVisible(p.element)),!1;case 40:return null!=(v=t._nextVisibleItem(t.selectedItem))&&(t.selectItem(v.element,"keyboard"),t.ensureVisible(v.element)),!1}}})},_firstItem:function(){var t=null,s=this,r=this.host.find("ul:first"),n=e(r).find("li");for(i=0;i<=n.length-1;i++){var l=n[i];if(t=this.itemMapping["id"+l.id].item,s._isVisible(t))return t}return null},_lastItem:function(){var t=null,s=this,r=this.host.find("ul:first"),n=e(r).find("li");for(i=n.length-1;i>=0;i--){var l=n[i];if(t=this.itemMapping["id"+l.id].item,s._isVisible(t))return t}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){if(this.element==i)return s=this,!1}),s},_nextVisibleItem:function(e){if(null==e||void 0==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e||void 0==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var t=0,i=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),s=0,r=this._firstItem();if(parseInt(e(r.element).height())>0)for(;s<=i;)s+=parseInt(e(r.element).outerHeight()),t++;return t},_isElementVisible:function(t){return null!=t&&("none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility"))},refresh:function(t){if(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.panel){if(null!=this.width&&-1!=this.width.toString().indexOf("%")){i=this;this.panel.jqxPanel("width","100%"),i.removeHandler(e(window),"resize.jqxtree"+i.element.id),i.addHandler(e(window),"resize.jqxtree"+i.element.id,function(){i._calculateWidth()})}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),e.jqx.isHidden(this.host)){var i=this;this._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){e.jqx.isHidden(i.host)||(clearInterval(i._hiddenTimer),i._calculateWidth())},100)}1!=t&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(t){if(null!=t){var i=this;this.items=new Array;var s="<ul>";return e.map(t,function(e){if(void 0==e)return null;s+=i._parseItem(e)}),s+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label,s=e.value;!e.label&&e.html&&(i=e.html),void 0!=this.displayMember&&""!=this.displayMember&&(i=e[this.displayMember]),void 0!=this.valueMember&&""!=this.valueMember&&(s=e[this.valueMember]),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;void 0!=e.expanded&&e.expanded&&(r=!0);var n=!1;void 0!=e.locked&&e.locked&&(n=!0);var l=!1;void 0!=e.selected&&e.selected&&(l=!0);var a=!1;void 0!=e.disabled&&e.disabled&&(a=!0);var h=!1;void 0!=e.checked&&e.checked&&(h=!0);var o=e.icon,d=e.iconsize;t+="<li",r&&(t+=' item-expanded="true" '),n&&(t+=' item-locked="true" '),a&&(t+=' item-disabled="true" '),l&&(t+=' item-selected="true" '),d&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=o&&void 0!=o&&(t+=' item-icon="'+o+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=s&&(t+=' item-value="'+s+'" '),void 0!=e.checked&&(t+=' item-checked="'+h+'" ');var m="";return void 0!=e.id?t+=' id="'+(m=e.id)+'" ':t+=' id="'+(m=this.createID())+'" ',t+=">"+i,e.items?t+=this.loadItems(e.items):void 0!=this.itemsMember&&""!=this.itemsMember&&e[this.itemsMember]&&(t+=this.loadItems(e[this.itemsMember])),this._valueList||(this._valueList=new Array),this._valueList[m]=e.value,t+="</li>"},ensureVisible:function(t){if(null!=t&&void 0!=t&&this.panel){var i=this.panel.jqxPanel("getVScrollPosition"),s=this.panel.jqxPanel("getHScrollPosition"),r=parseInt(this.host.height()),n=e(t).position().top;(n<=i||n>=r+i)&&this.panel.jqxPanel("scrollTo",s,n-r+e(t).outerHeight())}},_syncItems:function(t){this._visibleItems=new Array;var i=this;e.each(t,function(){var t=e(this);if("none"!=t.css("display")){var s=t.outerHeight();if(t.height()>0){var r=parseInt(t.offset().top);i._visibleItems[i._visibleItems.length]={element:this,top:r,height:s,bottom:r+s}}}})},hitTest:function(t,i){var s=this,r=null,n=this.host.find(".jqx-item");if(this._syncItems(n),s._visibleItems){var l=parseInt(s.host.offset().left),a=s.host.outerWidth();e.each(s._visibleItems,function(n){if(t>=l&&t<l+a&&this.top+5<i&&i<this.top+this.height){var h=e(this.element).parents("li:first");if(h.length>0&&null!=(r=s.getItem(h[0])))return r.height=this.height,r.top=this.top,!1}})}return r},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(t,i,s,r){var n=this,l=new Array;i&&void 0!=i.treeInstance&&(i=i.element),e.isArray(t)?l=t:l[0]=t;var a="",h=this;e.each(l,function(){a+=h._parseItem(this)});var o=e(a);if(n.element.innerHTML.indexOf("UL"))var d=n.host.find("ul:first");void 0==i&&null==i?d.append(o):s?e(i).before(o):e(i).after(o);for(var m=o,c=0;c<m.length;c++){this._createItem(m[c]);var u=e(m[c]).find("li");if(u.length>0)for(var p=0;p<u.length;p++)this._createItem(u[p])}var v=function(t){h._refreshMapping(!1),h._updateItemsNavigation(),t&&h.allowDrag&&h._enableDragDrop&&h._enableDragDrop(),null!=h.selectedItem&&(e(h.selectedItem.titleElement).addClass(h.toThemeProperty("jqx-fill-state-pressed")),e(h.selectedItem.titleElement).addClass(h.toThemeProperty("jqx-tree-item-selected")))};if(0==r)return v(!0),void this._raiseEvent("4",{items:this.getItems()});v(!1),h._render(),this._raiseEvent("4",{items:this.getItems()}),h.checkboxes&&h._updateCheckLayout(null)},addTo:function(t,i,s){var r=this,n=new Array;i&&void 0!=i.treeInstance&&(i=i.element),e.isArray(t)?n=t:n[0]=t;var l="",a=this;e.each(n,function(){l+=a._parseItem(this)});var h=e(l);if(r.element.innerHTML.indexOf("UL"))var o=r.host.find("ul:first");if(void 0==i&&null==i)o.append(h);else{var d=(i=e(i)).find("ul:first");if(0==d.length){ulElement=e("<ul></ul>"),e(i).append(ulElement),d=i.find("ul:first");var m=r.itemMapping["id"+i[0].id].item;m.subtreeElement=d[0],m.hasItems=!0,d.addClass(r.toThemeProperty("jqx-tree-dropdown")),a.rtl&&d.addClass(r.toThemeProperty("jqx-tree-dropdown-rtl")),d.append(h);var c=d.find("li:first");m.parentElement=c}else d.append(h)}for(var u=h,p=0;p<u.length;p++){this._createItem(u[p]);var v=e(u[p]).find("li");if(v.length>0)for(var f=0;f<v.length;f++)this._createItem(v[f])}var g=function(t){a._refreshMapping(!1),a._updateItemsNavigation(),t&&a.allowDrag&&a._enableDragDrop&&a._enableDragDrop(),null!=a.selectedItem&&(e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-fill-state-pressed")),e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-tree-item-selected")))};if(0==s)return g(!0),void this._raiseEvent("4",{items:this.getItems()});g(!1),a._render(),a.checkboxes&&a._updateCheckLayout(null),this._raiseEvent("4",{items:this.getItems()})},updateItem:function(t,i){if(!(r=void 0!=t.treeInstance?t:this.getItem(t))){var s=t;t=i,i=s;var r=void 0!=t.treeInstance?t:this.getItem(t)}if(r){if("string"==typeof i&&(i={label:i}),i.value&&(r.value=i.value),i.label&&(r.label=i.label,e.jqx.utilities.html(e(r.titleElement),i.label),e.jqx.browser.msie&&e.jqx.browser.version<8)){e(document.body).append(this._measureItem),this._measureItem.html(e(r.titleElement).text());var n=this._measureItem.width();r.icon&&(n+=20),e(e(r.titleElement).find("img")).length>0&&(n+=20),e(r.titleElement).css("max-width",n+"px"),this._measureItem.remove()}if(i.icon)if(e(r.element).children(".itemicon").length>0)e(r.element).find(".itemicon")[0].src=i.icon;else{var l=i.iconsize;l||(l=16);var a=e('<img width="'+l+'" height="'+l+'" style="float: left;" class="itemicon" src="'+i.icon+'"/>');e(r.titleElement).prepend(a),a.css("margin-right","4px"),this.rtl&&(a.css("margin-right","0px"),a.css("margin-left","4px"),a.css("float","right"))}return i.expanded&&this.expandItem(r),i.disabled&&this.disableItem(r),i.selected&&this.selectItem(r),!0}return!1},removeItem:function(t,i){if(void 0!=t&&null!=t){void 0!=t.treeInstance&&(t=t.element);var s=this,r=(t.id,this.getItem(t));r&&-1!=this.items.indexOf(r)&&function t(i){var s=-1;-1!=(s=this.items.indexOf(i))&&this.items.splice(s,1);var r=e(i.element).find("li"),n=r.length,l=this,a=new Array;if(n>0){e.each(r,function(e){var t=l.itemMapping["id"+this.id].item;a.push(t)});for(var h=0;h<a.length;h++)t.apply(this,[a[h]])}}.apply(this,[r]),this.host.find("#"+t.id).length>0&&e(t).remove(),0!=i?(s._updateItemsNavigation(),s.allowDrag&&s._enableDragDrop?s._render(!0,!1):s._render(),null!=s.selectedItem&&s.selectedItem.element==t&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=null),this._raiseEvent("5"),s.checkboxes&&s._updateCheckLayout(null)):this._raiseEvent("5")}},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");e.length>0&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var s=this;if(s.element==t)return s.disabled=!0,e(s.titleElement).addClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).addClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!0}),!1})},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var e=this.selectItem.value;null==e&&(e=this.selectedItem.label),this.input.val(e)}if(this.checkboxes){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",s=0;s<t.length;s++){var r=t[s].value;null==r&&(r=t[s].label),s==t.length-1?i+=r:i+=r+","}this.input.val(i)}}}},getCheckedItems:function(){var t=new Array,i=this;return e.each(i.items,function(){var e=this;e.checked&&t.push(e)}),t},getUncheckedItems:function(){var t=new Array,i=this;return e.each(i.items,function(){var e=this;e.checked||t.push(e)}),t},checkAll:function(){var t=this;e.each(t.items,function(){var t=this;t.disabled||(t.checked=!0,e(t.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){var t=this;e.each(t.items,function(){var t=this;t.disabled||(t.checked=!1,e(t.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(t,i,s){if(null==t)return!1;void 0===i&&(i=!0),void 0!=t.treeInstance&&(t=t.element);var r=this,n=!1,l=null;e.each(r.items,function(){var s=this;if(s.element==t&&!s.disabled)return n=!0,s.checked=i,l=s,e(s.checkBoxElement).jqxCheckBox({checked:i}),!1}),n&&(this._raiseEvent("6",{element:t,checked:i}),this._updateInputSelection()),void 0==s&&l&&this.hasThreeStates&&this.checkItems(l,l)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var s=this;if(s.element==t)return s.disabled=!1,e(s.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!1}),!1})},enableAll:function(){var t=this;e.each(t.items,function(){var i=this;i.disabled=!1,e(i.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),e(i.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.checkboxes&&i.checkBoxElement&&e(i.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(t){if(null==t)return!1;var i=this;e.each(i.items,function(){var e=this;if(e.element==t)return e.locked=!0,!1})},unlockItem:function(t){if(null==t)return!1;var i=this;e.each(i.items,function(){var e=this;if(e.element==t)return e.locked=!1,!1})},getItems:function(){return this.items},getItem:function(e){return null==e||void 0==e?null:this.itemMapping["id"+e.id]?this.itemMapping["id"+e.id].item:null},isExpanded:function(e){if(null==e||void 0==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t.isExpanded},isSelected:function(e){if(null==e||void 0==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t==this.selectedItem},getPrevItem:function(e){var t=this.getItem(e);return void 0!=e.treeInstance&&(t=e),this._prevVisibleItem(t)},getNextItem:function(e){var t=this.getItem(e);return void 0!=e.treeInstance&&(t=e),this._nextVisibleItem(t)},getSelectedItem:function(e){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;if("string"==typeof e){var t=this.host.find("#"+e);if(t.length>0){i=this.getItem(t[0]);this.selectItem(i)}}else{var i=this.getItem(e);this.selectItem(i)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(t,i){if(!this.disabled){var s=this;if(t&&void 0!=t.treeInstance&&(t=t.element),null!=t&&void 0!=t){if(null==this.selectedItem||this.selectedItem.element!=t){var r=null!=this.selectedItem?this.selectedItem.element:null;r&&e(r).removeAttr("aria-selected"),e.each(s.items,function(){var i=this;this.selected=!1,i.disabled||i.element==t&&(null==s.selectedItem||null!=s.selectedItem&&s.selectedItem.titleElement!=i.titleElement)&&(null!=s.selectedItem&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected"))),e(i.titleElement).addClass(s.toThemeProperty("jqx-fill-state-pressed")),e(i.titleElement).addClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=i,this.selected=!0,e(i.element).attr("aria-selected","true"),e.jqx.aria(s,"aria-activedescendant",i.element.id))}),this._updateInputSelection(),i||(i=null),this._raiseEvent("2",{element:t,prevElement:r,type:i})}}else null!=s.selectedItem&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=null)}},collapseAll:function(){this.isUpdating=!0;var t=this,i=t.items,s=this.animationHideDuration;this.animationHideDuration=0,e.each(i,function(){var e=this;1==e.isExpanded&&t._collapseItem(t,e)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationHideDuration),this.animationHideDuration=s},expandAll:function(){var t=this;this.isUpdating=!0;var i=this.animationShowDuration;this.animationShowDuration=0,e.each(this.items,function(){var e=this;e.hasItems&&t._expandItem(t,e)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationShowDuration),this.animationShowDuration=i},collapseItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;return e.each(this.items,function(){var e=this;if(1==e.isExpanded&&e.element==t)return i._collapseItem(i,e),!1}),!0},expandItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;return e.each(i.items,function(){var e=this;0!=e.isExpanded||e.element!=t||e.disabled||e.locked||(i._expandItem(i,e),e.parentElement&&i.expandItem(e.parentElement))}),!0},_getClosedSubtreeOffset:function(t){var i=e(t.subtreeElement),s=-i.outerHeight();i.outerWidth();return 0,{left:0,top:s}},_collapseItem:function(t,i,s,r){if(null==t||null==i)return!1;if(i.disabled)return!1;if(t.disabled)return!1;if(t.locked)return!1;var n=e(i.subtreeElement),l=this._getClosedSubtreeOffset(i);l.top,l.left;$treeElement=e(i.element);t.animationHideDelay;null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var a=function(){if(i.isExpanded=!1,t.checkboxes){var s=n.find(".chkbox");s.stop(),s.css("opacity",1),n.find(".chkbox").animate({opacity:0},50)}var r=e(i.arrow);t._arrowStyle(r,"",i.isExpanded),n.slideUp(t.animationHideDuration,function(){i.isCollapsing=!1,t._calculateWidth();var s=e(i.arrow);t._arrowStyle(s,"",i.isExpanded),n.hide(),t._raiseEvent("1",{element:i.element})})};a()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=e(i.subtreeElement);null!=s.data("timer")&&null!=s.data("timer").hide&&clearTimeout(s.data("timer").hide);e(i.element);if(0!=parseInt(s.css("top"))){var r=e(i.arrow);if(t._arrowStyle(r,"",i.isExpanded),t.checkboxes){var n=s.find(".chkbox");n.stop(),n.css("opacity",0),n.animate({opacity:1},t.animationShowDuration)}if(s.slideDown(t.animationShowDuration,t.easing,function(){var s=e(i.arrow);i.isExpanded=!0,t._arrowStyle(s,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()}),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement)){var l=e(i.subtreeElement).find("li");e.each(l,function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)})}}else i.isExpanded=!0},_calculateWidth:function(){var t=this,i=this.checkboxes?20:0,s=0;if(!this.isUpdating){if(e.each(this.items,function(){if(0!=e(this.element).height()){var t=e(this.titleElement).outerWidth()+10+i+20*(1+this.level);if(s=Math.max(s,t),this.hasItems){var r=parseInt(e(this.titleElement).css("padding-top"));isNaN(r)&&(r=0),r*=2;var n=((r+=2)+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?e(this.arrow).css("margin-top","3px"):parseInt(n)>=0&&e(this.arrow).css("margin-top",parseInt(n)+"px")}}}),this.toggleIndicatorSize>16&&(s=s+this.toggleIndicatorSize-16),t.panel)if(s>this.host.width()){var r=s-this.host.width();r+="hidden"!==t.panel.jqxPanel("vScrollBar").css("visibility")?10:0,t.panel.jqxPanel({horizontalScrollBarMax:r})}else t.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").width(s);var n=this.host.width()-30;n>0&&this.host.find("ul:first").css("min-width",n),t.panel&&t.panel.jqxPanel("_arrange")}},_arrowStyle:function(e,t,i){var s=this;if(e.length>0){e.removeClass();var r="";"hover"==t&&(r="-"+t);var n="jqx-tree-item-arrow"+(l=i?"-expand":"-collapse")+r;if(e.addClass(s.toThemeProperty(n)),!this.rtl){l=i?"-down":"-right";e.addClass(s.toThemeProperty("jqx-icon-arrow"+l))}if(this.rtl){e.addClass(s.toThemeProperty(n+"-rtl"));var l=i?"-down":"-left";e.addClass(s.toThemeProperty("jqx-icon-arrow"+l))}}},_initialize:function(t,i){var s=this;this.host.addClass(s.toThemeProperty("jqx-widget")),this.host.addClass(s.toThemeProperty("jqx-widget-content")),this.host.addClass(s.toThemeProperty("jqx-tree")),this._updateDisabledState();var r=e.jqx.browser.msie&&e.jqx.browser.version<8;e.each(this.items,function(){var t=this;$element=e(t.element);var i=null;if(s.checkboxes&&!t.hasItems&&t.checkBoxElement&&e(t.checkBoxElement).css("margin-left","0px"),r)!t.hasItems&&e(t.element).find("ul").length>0&&e(t.element).find("ul").remove();else{if(!t.hasItems)return s.rtl?t.element.style.marginRight=parseInt(s.toggleIndicatorSize)+"px":t.element.style.marginLeft=parseInt(s.toggleIndicatorSize)+"px",(n=e(t.arrow)).length>0&&(n.remove(),t.arrow=null),!0;s.rtl?t.element.style.marginRight="0px":t.element.style.marginLeft="0px"}var n=e(t.arrow);n.length>0&&n.remove(),(i=e('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>')).prependTo($element),s.rtl?i.css("float","right"):i.css("float","left"),i.css("clear","both"),i.width(s.toggleIndicatorSize),s._arrowStyle(i,"",t.isExpanded);var l=parseInt(e(this.titleElement).css("padding-top"));isNaN(l)&&(l=0),l*=2;var a=((l+=2)+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?i.css("margin-top","3px"):parseInt(a)>=0&&i.css("margin-top",parseInt(a)+"px"),$element.addClass(s.toThemeProperty("jqx-disableselect")),i.addClass(s.toThemeProperty("jqx-disableselect"));var h="click",o=s.isTouchDevice();o&&(h=e.jqx.mobile.getTouchEventName("touchend")),s.addHandler(i,h,function(){return t.isExpanded?s._collapseItem(s,t):s._expandItem(s,t),!1}),s.addHandler(i,"selectstart",function(){return!1}),s.addHandler(i,"mouseup",function(){if(!o)return!1}),t.hasItems=e(t.element).find("li").length>0,t.arrow=i[0],t.hasItems||i.css("visibility","hidden"),$element.css("float","none")})},_getOffset:function(t){var i=e(window).scrollTop(),s=e(window).scrollLeft(),r=e.jqx.mobile.isSafariMobileBrowser(),n=e(t).offset(),l=n.top,a=n.left;return null!=r&&r?{left:a-s,top:l-i}:e(t).offset()},_renderHover:function(t,i,s){var r=this;if(!s){var n=e(i.titleElement);r.addHandler(n,"mouseenter",function(){i.disabled||!r.enableHover||r.disabled||(n.addClass(r.toThemeProperty("jqx-fill-state-hover")),n.addClass(r.toThemeProperty("jqx-tree-item-hover")))}),r.addHandler(n,"mouseleave",function(){i.disabled||!r.enableHover||r.disabled||(n.removeClass(r.toThemeProperty("jqx-fill-state-hover")),n.removeClass(r.toThemeProperty("jqx-tree-item-hover")))})}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(t,i){if(e.jqx.browser.msie&&e.jqx.browser.version<8){s=this;e.each(this.items,function(){var t=e(this.element),i=t.parent(),s=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;t.css("min-width",s);var r=parseInt(i.css("min-width"));isNaN(r)&&(r=0);var n=t.css("min-width");r<parseInt(t.css("min-width"))&&i.css("min-width",n),this.titleElement[0].style.width=null})}var s=this;if(e.data(s.element,"animationHideDelay",s.animationHideDelay),e.data(document.body,"treeel",this),this._initialize(),this.isTouchDevice()&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),void 0!=t&&1!=t||e.each(this.items,function(){s._updateItemEvents(s,this)}),this.allowDrag&&this._enableDragDrop&&(void 0==i||1==i)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var r=this.host.find("div:first"),n="fixed";null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),r.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:n}),e.jqx.browser.msie&&e.jqx.browser.version<8&&r.jqxPanel("content").css("left","0px"),r.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var l=e.data(r[0],"jqxPanel").instance;null!=l&&(this.vScrollInstance=l.vScrollInstance,this.hScrollInstance=l.hScrollInstance),this.panelInstance=l,e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),r[0].className="",this.panel=r}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var s=this.isTouchDevice();s&&(this.toggleMode=e.jqx.mobile.getTouchEventName("touchend"));var r=e(i.element);t.enableRoundedCorners&&r.addClass(t.toThemeProperty("jqx-rc-all"));var n=s?e.jqx.mobile.getTouchEventName("touchend"):"mousedown";!0===t.touchMode&&t.removeHandler(e(i.checkBoxElement),"mousedown"),t.removeHandler(e(i.checkBoxElement),n),t.addHandler(e(i.checkBoxElement),n,function(e){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1});var l=e(i.titleElement);t.removeHandler(r),this.allowDrag&&this._enableDragDrop?(t.removeHandler(l,"mousedown.item"),t.removeHandler(l,"click"),t.removeHandler(l,"dblclick"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave")):t.removeHandler(l),t._renderHover(r,i,s);var a=e(i.subtreeElement);if(a.length>0){var h=i.isExpanded?"block":"none";a.css({overflow:"hidden",display:h}),a.data("timer",{})}t.addHandler(l,"selectstart",function(e){return!1}),e.jqx.browser.opera&&t.addHandler(l,"mousedown.item",function(e){return!1}),"click"!=t.toggleMode&&t.addHandler(l,"click",function(e){t.selectItem(i.element,"mouse"),null!=t.panel&&t.panel.jqxPanel({focused:!0}),l.focus(),t._raiseEvent("9",{element:i.element})}),t.addHandler(l,t.toggleMode,function(e){if(a.length>0&&clearTimeout(a.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element,"mouse"),void 0==i.isExpanding&&(i.isExpanding=!1),void 0==i.isCollapsing&&(i.isCollapsing=!1),a.length>0)return i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1})},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),this._isTouchDevice=t,t},createID:function(){return e.jqx.utilities.createId()},createTree:function(t){if(null!=t){var i=this,s=e(t).find("li");this.items=new Array,this.itemMapping=new Array,e(t).addClass(i.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&e(t).addClass(i.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),e(document.body).append(this._measureItem)),e.jqx.browser.msie&&e.jqx.browser.version;for(var r=0;r<s.length;r++)this._createItem(s[r]);(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(t){var i=this;this.checkboxes&&e.each(this.items,function(){this.level!=t&&void 0!=t||i._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(t){if(this.checkboxes&&"none"!=e(t.titleElement).css("display")){var i=e(t.checkBoxElement),s=e(t.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;i.css("margin-top",s),this.rtl||(e.jqx.browser.msie&&e.jqx.browser.version<8?t.titleElement.css("margin-left",parseInt(this.checkSize)+25):t.hasItems&&i.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var t=this;t.hasThreeStates?e.each(this.items,function(){t._updateCheckState(this)}):e.each(this.items,function(){null==this.checked&&t.checkItem(this.element,!1,"tree")})},_updateCheckState:function(t){if(null!=t&&void 0!=t){var i=this,s=0,r=!1,n=0,l=e(t.element).find("li");n=l.length,t.checked&&n>0&&e.each(l,function(e){var t=i.itemMapping["id"+this.id].item,s=t.element.getAttribute("item-checked");void 0!=s&&null!=s&&"true"!=s&&1!=s||i.checkItem(t.element,!0,"tree")}),e.each(l,function(e){var t=i.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&(r=!0),s++)}),n>0&&(s==n?this.checkItem(t.element,!0,"tree"):s>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var t=this.host.find("ul:first"),i=e(t).find("li"),s=0;s<i.length;s++){var r=i[s];if(this.itemMapping["id"+r.id]){var n=this.itemMapping["id"+r.id].item;if(!n)continue;n.prevItem=null,n.nextItem=null,s>0&&this.itemMapping["id"+i[s-1].id]&&(n.prevItem=this.itemMapping["id"+i[s-1].id].item),s<i.length-1&&this.itemMapping["id"+i[s+1].id]&&(n.nextItem=this.itemMapping["id"+i[s+1].id].item)}}},_applyTheme:function(t,i){var s=this;this.host.removeClass("jqx-tree-"+t),this.host.removeClass("jqx-widget-"+t),this.host.removeClass("jqx-widget-content-"+t),this.host.addClass(s.toThemeProperty("jqx-tree")),this.host.addClass(s.toThemeProperty("jqx-widget"));var r=this.host.find("ul:first");e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var n=e(r).find("li"),l=0;l<n.length;l++){var a=n[l];e(a).children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown")),s.rtl&&(e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-rtl-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown-rtl"))),!1})}e.each(this.items,function(){var r=this,n=e(r.element);n.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),n.addClass(s.toThemeProperty("jqx-tree-item-li")),this.rtl&&(n.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),n.addClass(s.toThemeProperty("jqx-tree-item-li"))),e(r.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-"+t)),e(r.titleElement).addClass(s.toThemeProperty("jqx-tree-item")),e(r.titleElement).removeClass("jqx-item-"+t),e(r.titleElement).addClass(s.toThemeProperty("jqx-item"));var l=e(r.arrow);l.length>0&&s._arrowStyle(l,"",r.isExpanded),r.checkBoxElement&&e(r.checkBoxElement).jqxCheckBox({theme:i}),s.enableRoundedCorners&&(n.removeClass("jqx-rc-all-"+t),n.addClass(s.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:i})},_refreshMapping:function(t,i){for(var s=this.host.find("li"),r=new Array,n=new Array,l=e.data(document.body,"treeItemsStorage"),a=this,h=0;h<s.length;h++){var o=s[h],d=e(o),m=l[o.id];if(null!=m){n[n.length]=m,void 0!=t&&1!=t||this._updateItemEvents(this,m),m.level=d.parents("li").length,m.treeInstance=this;var c=null,u=null;-1!=m.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(e(m.titleElement).removeClass(a.toThemeProperty("jqx-fill-state-pressed")),e(m.titleElement).removeClass(a.toThemeProperty("jqx-tree-item-selected"))),d.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return m.subtreeElement=this,e(this).addClass(a.toThemeProperty("jqx-tree-dropdown")),a.rtl&&e(this).addClass(a.toThemeProperty("jqx-tree-dropdown-rtl")),!1}),d.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return u=this.id,c=this,!1}),m.parentElement=c,m.parentId=u,m.hasItems=e(m.element).find("li").length>0,null!=m&&(r[h]={element:o,item:m},r["id"+o.id]=r[h])}}this.itemMapping=r,this.items=n},_createItem:function(t){if(null!=t&&void 0!=t){var i=t.id;i||(i=this.createID());var s=t,r=e(t);s.id=i;var n=e.data(document.body,"treeItemsStorage");void 0==n&&(n=new Array);var l=this.items.length;this.items[l]=new e.jqx._jqxTree.jqxTreeItem,this.treeElements[i]=this.items[l],n[s.id]=this.items[l],e.data(document.body,"treeItemsStorage",n),l=this.items.length;var a=0,h=this,o=null;r.attr("role","treeitem"),r.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return h.items[l-1].subtreeElement=this,e(this).addClass(h.toThemeProperty("jqx-tree-dropdown")),h.rtl&&(e(this).addClass(h.toThemeProperty("jqx-tree-dropdown-rtl")),e(this).css("clear","both")),!1}),r.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return a=this.id,o=this,!1});var d=t.getAttribute("item-expanded");d=null!=d&&void 0!=d&&("true"==d||1==d),s.removeAttribute("item-expanded");var m=t.getAttribute("item-locked");m=null!=m&&void 0!=m&&("true"==m||1==m),s.removeAttribute("item-locked");var c=t.getAttribute("item-selected");c=null!=c&&void 0!=c&&("true"==c||1==c),s.removeAttribute("item-selected");var u=t.getAttribute("item-disabled");u=null!=u&&void 0!=u&&("true"==u||1==u),s.removeAttribute("item-disabled");var p=t.getAttribute("item-checked");p=null!=p&&void 0!=p&&("true"==p||1==p);var v=t.getAttribute("item-title");(null==v||void 0==v||"true"!=v&&1!=v)&&(v=!1),s.removeAttribute("item-title");var f=t.getAttribute("item-icon"),g=t.getAttribute("item-iconsize"),x=t.getAttribute("item-label"),I=t.getAttribute("item-value");s.removeAttribute("item-icon"),s.removeAttribute("item-iconsize"),s.removeAttribute("item-label"),s.removeAttribute("item-value");var b=this.items[l-1];b.id=i,void 0==b.value&&(this._valueList&&this._valueList[i]?b.value=this._valueList[i]:b.value=I),b.icon=f,b.iconsize=g,b.parentId=a,b.disabled=u,b.parentElement=o,b.element=t,b.locked=m,b.selected=c,b.checked=p,b.isExpanded=d,b.treeInstance=this,this.itemMapping[l-1]={element:s,item:b},this.itemMapping["id"+s.id]=this.itemMapping[l-1];if(!1,this.rtl&&(e(b.element).css("float","right"),e(b.element).css("clear","both")),e(s.firstChild).length>0){if(b.icon){(g=b.iconsize)||(g=16);f=e('<img width="'+g+'" height="'+g+'" style="float: left;" class="itemicon" src="'+b.icon+'"/>');e(s).prepend(f),f.css("margin-right","4px"),this.rtl&&(f.css("margin-right","0px"),f.css("margin-left","4px"),f.css("float","right"))}var _=s.innerHTML.indexOf("<ul");if(-1==_&&(_=s.innerHTML.indexOf("<UL")),-1==_)b.originalTitle=s.innerHTML,s.innerHTML='<div style="display: inline-block;">'+s.innerHTML+"</div>",b.titleElement=e(e(s)[0].firstChild);else{var w=s.innerHTML.substring(0,_);w=e.trim(w),b.originalTitle=w,w=e('<div style="display: inline-block;">'+w+"</div>");var y=e(s).find("ul:first");y.remove(),s.innerHTML="",e(s).prepend(w),e(s).append(y),b.titleElement=w,this.rtl&&(w.css("float","right"),y.css("padding-right","10px"))}if(e.jqx.browser.msie&&e.jqx.browser.version<8){e(e(s)[0].firstChild).css("display","inline-block");var k=!1;0==this._measureItem.parents().length&&(e(document.body).append(this._measureItem),k=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=e(b.titleElement).text();var j=this._measureItem.width();b.icon&&(j+=20),e(e(item.titleElement).find("img")).length>0&&(j+=20),e(e(s)[0].firstChild).css("max-width",j+"px"),k&&this._measureItem.remove()}}else b.originalTitle="Item",e(s).append(e("<span>Item</span>")),e(s.firstChild).wrap("<span/>"),b.titleElement=e(s)[0].firstChild,e.jqx.browser.msie&&e.jqx.browser.version<8&&e(s.firstChild).css("display","inline-block");var q=e(b.titleElement),E=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&q.addClass("draggable"),null==x||void 0==x?(x=b.titleElement,b.label=e.trim(q.text())):b.label=x,e(s).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&e(s).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),E+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(E+=" "+this.toThemeProperty("jqx-tree-item-rtl")),q[0].className=q[0].className+" "+E,b.level=e(t).parents("li").length,b.hasItems=e(t).find("li").length>0,this.rtl&&b.parentElement&&this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var T=e('<div style="overflow: visible; position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(T.width(parseInt(this.checkSize)),T.height(parseInt(this.checkSize)),e(s).prepend(T),this.rtl&&(T.css("float","right"),T.css("position","static")),T.jqxCheckBox({hasInput:!1,checked:b.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:u,theme:this.theme}),this.rtl){b.parentElement?T.css("margin-right","10px"):T.css("margin-right","5px")}else q.css("margin-left",parseInt(this.checkSize)+6);b.checkBoxElement=T[0],T[0].treeItem=b;var C=q.outerHeight()/2-1-parseInt(this.checkSize)/2;T.css("margin-top",C),e.jqx.browser.msie&&e.jqx.browser.version<8?(q.css("width","1%"),q.css("margin-left",parseInt(this.checkSize)+25)):b.hasItems&&(this.rtl||T.css("margin-left",this.toggleIndicatorSize))}else e.jqx.browser.msie&&e.jqx.browser.version<8&&q.css("width","1%");u&&this.disableItem(b.element),c&&this.selectItem(b.element),e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(s).css("margin","0px"),e(s).css("padding","0px"))}},destroy:function(){this.removeHandler(e(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var t=this,i=this.isTouchDevice();e.each(this.items,function(){var s=this,r=e(this.element),n=i?e.jqx.mobile.getTouchEventName("touchend"):"click";t.removeHandler(e(s.checkBoxElement),n);var l=e(s.titleElement);t.removeHandler(r),t.allowDrag&&t._enableDragDrop?(t.removeHandler(l,"mousedown.item"),t.removeHandler(l,"click"),t.removeHandler(l,"dblclick"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave")):t.removeHandler(l),$arrowSpan=e(s.arrow),$arrowSpan.length>0&&(t.removeHandler($arrowSpan,n),t.removeHandler($arrowSpan,"selectstart"),t.removeHandler($arrowSpan,"mouseup"),i||(t.removeHandler($arrowSpan,"mouseenter"),t.removeHandler($arrowSpan,"mouseleave")),t.removeHandler(l,"selectstart")),e.jqx.browser.opera&&t.removeHandler(l,"mousedown.item"),"click"!=t.toggleMode&&t.removeHandler(l,"click"),t.removeHandler(l,t.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);return r.owner=this,r.args=args,this.host.trigger(r)},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==i&&t._updateInputSelection(),"disabled"==i&&t._updateDisabledState(),"theme"==i&&t._applyTheme(s,r),"keyboardNavigation"==i&&(t.enableKeyboardNavigation=r),("width"==i||"height"==i)&&(t.refresh(),t._initialize(),t._calculateWidth(),t.host.jqxPanel)){var n="fixed";null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),t.panel.jqxPanel({sizeMode:n})}if("touchMode"==i&&(t._isTouchDevice=null,r&&(t.enableHover=!1),t._render()),("source"==i||"checkboxes"==i)&&null!=this.source){var l=[];e.each(t.items,function(){this.isExpanded&&(l[l.length]={label:this.label,level:this.level})});var a=t.loadItems(t.source);t.host.jqxPanel?t.panel.jqxPanel("setcontent",a):t.element.innerHTML=a;var h=t.disabled,o=t.host.find("ul:first");o.length>0&&(t.createTree(o[0]),t._render());var d=t,m=d.animationShowDuration;d.animationShowDuration=0,t.disabled=!1,l.length>0&&e.each(t.items,function(){for(var e=0;e<l.length;e++)if(l[e].label==this.label&&l[e].level==this.level){var t=d.getItem(this.element);d._expandItem(d,t)}}),t.disabled=h,d.animationShowDuration=m}"hasThreeStates"==i&&(t._render(),t._updateCheckStates()),"toggleIndicatorSize"==i&&(t._updateCheckLayout(),t._render())}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxTree.jqxTreeItem=function(e,t,i){return{label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null}};

!function(e){e.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),e.extend(e.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&(this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"});var r={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return this===e.jqx._jqxTreeGrid.prototype?r:(e.extend(!0,this,r),r)},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){this.base.deleterowbykey(e)},updateRow:function(e,r){this.base.updaterowbykey(e,r)},setCellValue:function(e,r,t){this.base.setCellValueByKey(e,r,t)},getCellValue:function(e,r){return this.base.getCellValueByKey(e,r)},lockRow:function(e){this.base.lockrowbykey(e)},unlockRow:function(e){this.base.unlockrowbykey(e)},selectRow:function(e){this.base.selectrowbykey(e)},unselectRow:function(e){this.base.unselectrowbykey(e)},ensureRowVisible:function(e){this.base.ensurerowvisiblebykey(e)},beginCellEdit:function(e,r){var t=this.base,i=t.getColumn(r);t.beginroweditbykey(e,i)},beginRowEdit:function(e){this.base.beginroweditbykey(e)},endCellEdit:function(e,r,t){this.base.endroweditbykey(e,t)},endRowEdit:function(e,r){this.base.endroweditbykey(e,r)},_showLoadElement:function(){var r=this.base;"block"==r.host.css("display")&&r.autoShowLoadElement&&(e(r.dataloadelement).css("visibility","visible"),e(r.dataloadelement).css("display","block"),r.dataloadelement.width(r.host.width()),r.dataloadelement.height(r.host.height()))},_hideLoadElement:function(){var r=this.base;"block"==r.host.css("display")&&r.autoShowLoadElement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none"),r.dataloadelement.width(r.host.width()),r.dataloadelement.height(r.host.height()))},getKey:function(e){if(e)return e.uid},getRows:function(){var e=this.base;return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var r=this.base,t=r._names(),i=new Array,o=function(a,l){if(l)for(var s=0;s<l.length;s++)if(l[s]){var n=e.extend({},l[s]),d=r.rowinfo[l[s].uid];d&&d[t.checked]?a.push(n):n[t.checked]&&a.push(n),o(i,l[s].records)}};return o(i,r.dataViewRecords),i},getRow:function(e){var r=this.base,t=r.source.records;if(r.source.hierarchy){var i=function(r){for(var t=0;t<r.length;t++)if(r[t]){if(r[t].uid==e)return r[t];if(r[t].records){var o=i(r[t].records);if(o)return o}}};return i(r.source.hierarchy)}for(var o=0;o<t.length;o++)if(t[o]&&t[o].uid==e)return t[o]},_renderrows:function(){var r=this.base,t=this;if(!r._loading&&!r._updating){var i=r._names();if(0===r.source.hierarchy.length&&!r.loadingFailed&&this.virtualModeCreateRecords){r._loading=!0,this.virtualModeCreateRecords(null,function(e){if(!1===e||e&&0==e.length)return r._loading=!1,r.loadingFailed=!0,r.source.hierarchy=new Array,t._hideLoadElement(),r._renderrows(),r._updateScrollbars(),void r._arrange();for(var i=0;i<e.length;i++)e[i].level=0,t.virtualModeRecordCreating(e[i]),r.rowsByKey[e[i].uid]=e[i];r.source.hierarchy=e,r.source._source.hierarchy||(r.source._source.hierarchy={}),r._loading=!1,t._hideLoadElement(),r._renderrows(),r._updateScrollbars(),r._arrange()}),this._showLoadElement()}r.rendering&&r.rendering();var o=0;r.table[0].rows=new Array;C=r.toTP("jqx-cell")+" "+r.toTP("jqx-widget-content")+" "+r.toTP("jqx-item");r.rtl&&(C+=" "+r.toTP("jqx-cell-rtl"));var a=r.columns.records.length,l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&r.host.attr("hideFocus","true");var s=new Array,n=function(e,t){for(var o=0;o<e.length;o++){var a=e[o];if(a){var l=r.rowinfo[a.uid]?r.rowinfo[a.uid].expanded:a.expanded;if(0==r.dataview.filters.length&&(a._visible=!0),!1!==a._visible)if(l||a[i.leaf]){if(t.push(a),a.records&&a.records.length>0)for(var s=n(a.records,new Array),d=0;d<s.length;d++)t.push(s[d])}else t.push(a)}}return t},d=0===r.source.hierarchy.length?r.source.records:r.source.hierarchy;if(d=r.dataview.evaluate(d),r.dataViewRecords=d,this.showSubAggregates){var c=function(r,t){0!=r&&t.length>0&&(t[t.length-1]?t[t.length-1].aggregate||t.push({_visible:!0,level:r,siblings:t,aggregate:!0,leaf:!0}):e.jqx.browser.msie&&e.jqx.browser.version<9&&t[t.length-2]&&(t[t.length-2].aggregate||t.push({_visible:!0,level:r,siblings:t,aggregate:!0,leaf:!0})));for(var i=0;i<t.length;i++)t[i]&&t[i].records&&c(r+1,t[i].records)};c(0,d)}var h=function(e){for(var t=0,o=new Array,a=0;a<e.length;a++){var l=e[a];if(0==l[i.level]&&t++,t>r.dataview.pagesize*r.dataview.pagenum&&t<=r.dataview.pagesize*r.dataview.pagenum+r.dataview.pagesize&&o.push(l),t>r.dataview.pagesize*r.dataview.pagenum+r.dataview.pagesize)break}return o};if(0===r.source.hierarchy.length){if("all"==r.dataview.pagesize||!r.pageable||r.serverProcessing){w=d;if(r.pageable&&r.serverProcessing&&d.length>r.dataview.pagesize)w=d.slice(r.dataview.pagesize*r.dataview.pagenum,r.dataview.pagesize*r.dataview.pagenum+r.dataview.pagesize)}else w=d.slice(r.dataview.pagesize*r.dataview.pagenum,r.dataview.pagesize*r.dataview.pagenum+r.dataview.pagesize);s=w}else{d=n.call(r,d,new Array);if("all"!=r.dataview.pagesize&&r.pageable){w=d.slice(r.dataview.pagesize*r.dataview.pagenum,r.dataview.pagesize*r.dataview.pagenum+r.dataview.pagesize);"root"==this.pageSizeMode&&(w=h(d))}else w=d;var s=w,g=r.dataview.pagenum;if(r.updatepagerdetails(),r.dataview.pagenum!=g){if("all"!=r.dataview.pagesize&&r.pageable){w=d.slice(r.dataview.pagesize*r.dataview.pagenum,r.dataview.pagesize*r.dataview.pagenum+r.dataview.pagesize);"root"==this.pageSizeMode&&(w=h(d))}else var w=d;s=w}}r.renderedRecords=s;var p=s.length,u=r.tableZIndex,f=0,v=0;if(l)for(j=0;j<a;j++){(S=(q=r.columns.records[j]).width)<q.minwidth&&(S=q.minwidth),S>q.maxwidth&&(S=q.maxwidth);B=e('<table><tr><td role="gridcell" style="max-width: '+S+"px; width:"+S+'px;" class="'+C+'"></td></tr></table>');e(document.body).append(B);var x=B.find("td");f=1+parseInt(x.css("padding-left"))+parseInt(x.css("padding-right")),B.remove();break}for(var b=r.rtl?" "+r.toTP("jqx-grid-table-rtl"):"",m="<table cellspacing='0' class='"+r.toTP("jqx-grid-table")+b+"' id='table"+r.element.id+"'><colgroup>",y="<table cellspacing='0' class='"+r.toTP("jqx-grid-table")+b+"' id='pinnedtable"+r.element.id+"'><colgroup>",_=null,j=0;j<a;j++){var q=r.columns.records[j];if(!q.hidden){if(_=q,(S=q.width)<q.minwidth&&(S=q.minwidth),S>q.maxwidth&&(S=q.maxwidth),(S-=f)<0&&(S=0),l){G=S;0==j&&G++,y+="<col style='max-width: "+S+"px; width: "+G+"px;'>",m+="<col style='max-width: "+S+"px; width: "+G+"px;'>"}else y+="<col style='max-width: "+S+"px; width: "+S+"px;'>",m+="<col style='max-width: "+S+"px; width: "+S+"px;'>";v+=S}}m+="</colgroup>",y+="</colgroup>",r._hiddencolumns=!1;var R=!1;if(0===p){var k='<tr role="row">',T=r.host.height();if(r.pageable&&(T-=r.pagerHeight,"both"===r.pagerPosition&&(T-=r.pagerHeight)),T-=r.columnsHeight,r.filterable){var P=r.filter.find(".filterrow"),z=1;r.filter.find(".filterrow-hidden").length>0&&(z=0),T-=r.filterHeight+r.filterHeight*P.length*z}r.showstatusbar&&(T-=r.statusBarHeight),r.showAggregates&&(T-=r.aggregatesHeight),T<25&&(T=25),"hidden"!=r.hScrollBar[0].style.visibility&&(T-=r.hScrollBar.outerHeight()),("auto"===r.height||null===r.height||r.autoheight)&&(T=100);var S=r.host.width()+2,B='<td colspan="'+r.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+T+"px; height: "+T+"px;  min-width:"+v+"px; max-width:"+v+"px; width:"+v+"px;",C=r.toTP("jqx-cell")+" "+r.toTP("jqx-grid-cell")+" "+r.toTP("jqx-item");B+='" class="'+(C+=" "+r.toTP("jqx-center-align"))+'">',r._loading||(B+=r.gridlocalization.emptydatastring),m+=k+=B+="</td>",y+=k,r.table[0].style.width=v+2+"px",o=v}for(var D=r.source._source.hierarchy&&r.source._source.hierarchy.groupingDataFields?r.source._source.hierarchy.groupingDataFields.length:0,L=0;L<s.length;L++){var M=s[L],E=M.uid;D>0&&M[i.level]<D&&(E=M.uid),void 0===M.uid&&(M.uid=r.dataview.generatekey());var k='<tr data-key="'+E+'" role="row" id="row'+L+r.element.id+'">',F='<tr data-key="'+E+'" role="row" id="row'+L+r.element.id+'">';if(M.aggregate)var k='<tr data-role="summaryrow" role="row" id="row'+L+r.element.id+'">',F='<tr data-role="summaryrow" role="row" id="row'+L+r.element.id+'">';var H=0;if(r.rowinfo[E])void 0===r.rowinfo[E].checked&&(r.rowinfo[E].checked=M[i.checked]),void 0===r.rowinfo[E].icon&&(r.rowinfo[E].icon=M[i.icon]),void 0===r.rowinfo[E].aggregate&&(r.rowinfo[E].aggregate=M[i.aggregate]),void 0===r.rowinfo[E].row&&(r.rowinfo[E].row=M),void 0===r.rowinfo[E].leaf&&(r.rowinfo[E].leaf=M[i.leaf]),void 0===r.rowinfo[E].expanded&&(r.rowinfo[E].expanded=M[i.expanded]);else{var A=M[i.checked];void 0===A&&(A=!1),r.rowinfo[E]={selected:M[i.selected],checked:A,icon:M[i.icon],aggregate:M.aggregate,row:M,leaf:M[i.leaf],expanded:M[i.expanded]}}var I=r.rowinfo[E];I.row=M,M.originalRecord&&(I.originalRecord=M.originalRecord);for(var U=0,j=0;j<a;j++){var K=r.columns.records[j];(K.pinned||r.rtl&&r.columns.records[a-1].pinned)&&(R=!0),(S=K.width)<K.minwidth&&(S=K.minwidth),S>K.maxwidth&&(S=K.maxwidth),(S-=f)<0&&(S=0);C=r.toTP("jqx-cell")+" "+r.toTP("jqx-grid-cell")+" "+r.toTP("jqx-item");K.pinned&&(C+=" "+r.toTP("jqx-grid-cell-pinned")),r.sortcolumn===K.displayfield&&(C+=" "+r.toTP("jqx-grid-cell-sort")),r.altRows&&L%2!=0&&(C+=" "+r.toTP("jqx-grid-cell-alt")),r.rtl&&(C+=" "+r.toTP("jqx-cell-rtl"));var V="";if(D>0&&!l&&!M.aggregate&&M[i.level]<D){V+=' colspan="'+a+'"';for(var G=0,N=0;N<a;N++){var O=r.columns.records[N];if(!O.hidden){var W=O.width;W<O.minwidth&&(S=O.minwidth),W>O.maxwidth&&(S=O.maxwidth),(W-=f)<0&&(W=0),G+=W}}S=G}var B='<td role="gridcell"'+V+' style="max-width:'+S+"px; width:"+S+"px;",J='<td role="gridcell"'+V+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+S+"px; width:"+S+"px;";j==a-1&&1==a&&(B+="border-right-color: transparent;",J+="border-right-color: transparent;"),D>0&&M[i.level]<D&&!M.aggregate?r.rtl&&(C+=" "+r.toTP("jqx-right-align")):"left"!=K.cellsalign&&("right"===K.cellsalign?C+=" "+r.toTP("jqx-right-align"):C+=" "+r.toTP("jqx-center-align")),I&&(I.selected&&r.editKey!==E&&"none"!==r.selectionMode&&(C+=" "+r.toTP("jqx-grid-cell-selected"),C+=" "+r.toTP("jqx-fill-state-pressed")),I.locked&&(C+=" "+r.toTP("jqx-grid-cell-locked")),I.aggregate&&(C+=" "+r.toTP("jqx-grid-cell-pinned"))),K.hidden?(B+="display: none;",J+="display: none;",r._hiddencolumns=!0):(0!=U||r.rtl?(B+="border-right-width: 0px;",J+="border-right-width: 0px;"):(B+="border-left-width: 0px;",J+="border-left-width: 0px;"),U++,H+=f+S),K.pinned&&(B+="pointer-events: auto;",J+="pointer-events: auto;");var Z="";if(0!=r.source.hierarchy.length&&M.records&&(!M.records||0!==M.records.length)||this.virtualModeCreateRecords||(I.leaf=!0),M.records&&M.records.length>0&&(I.leaf=!1),r.dataview.filters.length>0&&M.records&&M.records.length>0){for(var Q=!1,X=0;X<M.records.length;X++)if(!1!==M.records[X]._visible&&void 0==M.records[X].aggregate){Q=!0;break}I.leaf=!Q}I&&!I.leaf&&(I.expanded?(Z+=r.toTP("jqx-tree-grid-expand-button")+" ",r.rtl?Z+=r.toTP("jqx-grid-group-expand-rtl"):Z+=r.toTP("jqx-grid-group-expand"),Z+=" "+r.toTP("jqx-icon-arrow-down")):(Z+=r.toTP("jqx-tree-grid-collapse-button")+" ",r.rtl?(Z+=r.toTP("jqx-grid-group-collapse-rtl"),Z+=" "+r.toTP("jqx-icon-arrow-left")):(Z+=r.toTP("jqx-grid-group-collapse"),Z+=" "+r.toTP("jqx-icon-arrow-right")))),(!r.autoRowHeight||1===U||r.autoRowHeight&&!K.autoCellHeight)&&(C+=" "+r.toTP("jqx-grid-cell-nowrap"));var Y=r._getcellvalue(K,I.row);if(D>0&&!M.aggregate&&M[i.level]<D&&(Y=M.label),""!=K.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(Y)?Y=e.jqx.dataFormat.formatdate(Y,K.cellsFormat,r.gridlocalization):(e.jqx.dataFormat.isNumber(Y)||!isNaN(parseFloat(Y))&&isFinite(Y))&&(Y=e.jqx.dataFormat.formatnumber(Y,K.cellsFormat,r.gridlocalization))),""!=K.cellclassname&&K.cellclassname)if("string"==typeof K.cellclassname)C+=" "+K.cellclassname;else{var $=K.cellclassname(L,K.datafield,r._getcellvalue(K,I.row),I.row,Y);$&&(C+=" "+$)}if(""!=K.cellsRenderer&&K.cellsRenderer){var ee=K.cellsRenderer(E,K.datafield,r._getcellvalue(K,I.row),I.row,Y);void 0!==ee&&(Y=ee)}if(I.aggregate&&K.aggregates){var re=M.siblings.slice(0,M.siblings.length-1),te=r._calculateaggregate(K,null,!0,re);if(M[K.displayfield]="",te)if(K.aggregatesRenderer){if(te){var ie=K.aggregatesRenderer(te[K.datafield],K,null,r.getcolumnaggregateddata(K.datafield,K.aggregates,!1,re),"subAggregates");Y=ie,M[K.displayfield]+=name+":"+te[K.datafield]+"\n"}}else Y="",M[K.displayfield]="",e.each(te,function(){var e=this;for(obj in e){var t=obj,i='<div style="position: relative; margin: 0px; overflow: hidden;">'+(t=r._getaggregatename(t))+":"+e[obj]+"</div>";Y+=i,M[K.displayfield]+=t+":"+e[obj]+"\n"}});else Y=""}if(1===U&&!r.rtl||K==_&&r.rtl||D>0&&M[i.level]<D){for(var oe="",ae=r.toThemeProperty("jqx-tree-grid-indent"),le=I.leaf?1:0,se=0;se<M[i.level]+le;se++)oe+="<span class='"+ae+"'></span>";var ne="<span class='"+Z+"'></span>",de="",ce="";if(this.checkboxes&&!M.aggregate){var he=r.toThemeProperty("jqx-tree-grid-checkbox")+" "+ae+" "+r.toThemeProperty("jqx-checkbox-default")+" "+r.toThemeProperty("jqx-fill-state-normal")+" "+r.toThemeProperty("jqx-rc-all"),ge=!0;if(e.isFunction(this.checkboxes)&&void 0==(ge=this.checkboxes(E,M))&&(ge=!1),ge)if(I){var we=I.checked;0==this.hierarchicalCheckboxes&&null===we&&(we=!1),de+=we?"<span class='"+he+"'><div class='"+r.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+r.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":!1===we?"<span class='"+he+"'></span>":"<span class='"+he+"'><div class='"+r.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+r.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}else de+="<span class='"+he+"'></span>"}if(this.icons&&!M.aggregate){pe=r.toThemeProperty("jqx-tree-grid-icon")+" "+ae;if(r.rtl)var pe=r.toThemeProperty("jqx-tree-grid-icon")+" "+r.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+ae;var ue=r.toThemeProperty("jqx-tree-grid-icon-size")+" "+ae,fe=I.icon;e.isFunction(this.icons)&&(I.icon=this.icons(E,M),I.icon&&(fe=!0)),fe&&(I.icon?ce+="<span class='"+pe+"'><img class='"+ue+"' src='"+I.icon+"'/></span>":ce+="<span class='"+pe+"'></span>")}var ve=r.autoRowHeight&&1===U&&K.autoCellHeight?" "+r.toTP("jqx-grid-cell-wrap"):"",xe=oe+ne+de+ce+"<span class='"+r.toThemeProperty("jqx-tree-grid-title")+ve+"'>"+Y+"</span>";Y=r.rtl?"<span class='"+r.toThemeProperty("jqx-tree-grid-title")+ve+"'>"+Y+"</span>"+ce+de+ne+oe:xe}if(D>0&&l&&j>=D&&M[i.level]<D&&(B+="padding-left: 5px; border-left-width: 0px;",J+="padding-left: 5px; border-left-width: 0px;",Y="<span style='visibility: hidden;'>-</span>"),B+='" class="'+C+'">',B+=Y,B+="</td>",J+='" class="'+C+'">',J+=Y,J+="</td>",K.pinned?(F+=B,k+=B):(k+=B,R&&(F+=J)),D>0&&!l&&M[i.level]<D&&!M.aggregate)break}if(0==o&&(r.table[0].style.width=H+2+"px",o=H),k+="</tr>",F+="</tr>",m+=k,y+=F,r.rowDetails&&!M.aggregate&&this.rowDetailsRenderer){var be='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+S+"px; width:"+S+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+r.columns.records.length+'" role="gridcell"',C=r.toTP("jqx-cell")+" "+r.toTP("jqx-grid-cell")+" "+r.toTP("jqx-item");C+=" "+r.toTP("jqx-details"),C+=" "+r.toTP("jqx-reset");var me=this.rowDetailsRenderer(E,M);me&&(m+=be+='" class="'+C+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+me+"</div></div></td></tr>",y+=be)}}if(m+="</table>",y+="</table>",R){r.WinJS?MSApp.execUnsafeLocalFunction(function(){r.table.html(y+m)}):r.table[0].innerHTML=y+m;var ye=r.table.find("#table"+r.element.id),_e=r.table.find("#pinnedtable"+r.element.id);_e.css("float","left"),_e.css("pointer-events","none"),ye.css("float","left"),_e[0].style.position="absolute",ye[0].style.position="relative",ye[0].style.zIndex=u-10,_e[0].style.zIndex=u+10,r._table=ye,r._table[0].style.left="0px",r._pinnedTable=_e,l&&(_e[0].style.left="0px"),r._table[0].style.width=o+"px",r._pinnedTable[0].style.width=o+"px",r.rtl&&r._haspinned&&(r._pinnedTable[0].style.left=3-o+parseInt(r.element.style.width)+"px")}else{r.WinJS?MSApp.execUnsafeLocalFunction(function(){r.table.html(m)}):r.table[0].innerHTML=m;N=r.table.find("#table"+r.element.id);r._table=N,e.jqx.browser.msie&&e.jqx.browser.version<10&&(r._table[0].style.width=o+"px"),0===p&&(r._table[0].style.width=2+o+"px")}0===p&&(r._table[0].style.tableLayout="auto",r._pinnedTable&&(r._pinnedTable[0].style.tableLayout="auto")),r.showAggregates&&r._updatecolumnsaggregates(),r._loading&&0==p&&(r._arrange(),this._showLoadElement()),r.rendered&&r.rendered()}},propertyChangedHandler:function(r,t,i,o){if(void 0!=r.isInitialized&&0!=r.isInitialized){var a=r.base;if("pageSizeMode"==t||"hierarchicalCheckboxes"==t)r._renderrows();else if("filterable"==t)a._render();else if("height"===t)a.host.height(r.height),a.host.width(r.width),a._updatesize(!1,!0);else if("width"===t)a.host.height(r.height),a.host.width(r.width),a._updatesize(!0,!1);else if("source"===t)a.updateBoundData();else if("columns"===t||"columnGroups"===t)a._columns=null,a._render();else if("rtl"===t)a.content.css("left",""),r.columns=r._columns,a.vScrollBar.jqxScrollBar({rtl:o}),a.hScrollBar.jqxScrollBar({rtl:o}),a._render();else if("pagerMode"===t)r.pagerMode=o,a._initpager();else if("pageSizeOptions"==t){a._initpager();for(var l=!1,s=0;s<o.length;s++)if(parseInt(o[s])==r.pageSize){l=!0;break}l||e.jqx.set(r,[{pageSize:o[0]}])}else if("pageSize"==t){var n=a.dataview.pagenum*a.dataview.pagesize;a.dataview.pagesize=a.pageSize;var d=Math.floor(n/a.dataview.pagesize);d===a.dataview.pagenum&&parseInt(o)===parseInt(i)||(r._raiseEvent("pageSizeChanged",{pagenum:o,oldpageSize:i,pageSize:a.dataview.pagesize}),r.goToPage(d)||a.refresh())}else if("pagerPosition"===t)a.refresh();else if("selectionMode"===t)a.selectionMode=o.toLowerCase();else if("touchmode"==t)a.touchDevice=null,a._removeHandlers(),a.touchDevice=null,a.vScrollBar.jqxScrollBar({touchMode:o}),a.hScrollBar.jqxScrollBar({touchMode:o}),a._updateTouchScrolling(),a._arrange(),a._updatecolumnwidths(),a._renderrows(),a._addHandlers();else{if("enableHover"==t)return;if("disabled"==t)o?a.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):a.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),a.pageable&&(a.pagernexttop&&(a.pagernexttop.jqxButton({disabled:o}),a.pagerprevioustop.jqxButton({disabled:o}),a.pagernextbottom.jqxButton({disabled:o}),a.pagerpreviousbottom.jqxButton({disabled:o}),a.pagerfirsttop.jqxButton({disabled:o}),a.pagerfirstbottom.jqxButton({disabled:o}),a.pagerlasttop.jqxButton({disabled:o}),a.pagerlastbottom.jqxButton({disabled:o}),a.pagershowrowscombotop.jqxDropDownList&&"advanced"==a.pagerMode&&(a.pagershowrowscombotop.jqxDropDownList({disabled:!1}),a.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),a.base.host.find(".jqx-grid-pager-number").css("cursor",o?"default":"pointer")),a.base.host.find(".jqx-grid-group-collapse").css("cursor",o?"default":"pointer"),a.base.host.find(".jqx-grid-group-expand").css("cursor",o?"default":"pointer");else if("columnsHeight"==t)a._render();else if("theme"==t){if(e.jqx.utilities.setTheme(i,o,a.base.host),a.vScrollBar.jqxScrollBar({theme:a.theme}),a.hScrollBar.jqxScrollBar({theme:a.theme}),a.pageable&&a.pagernexttop&&(a.pagernexttop.jqxButton({theme:a.theme}),a.pagerprevioustop.jqxButton({theme:a.theme}),a.pagernextbottom.jqxButton({theme:a.theme}),a.pagerpreviousbottom.jqxButton({theme:a.theme}),a.pagerfirsttop.jqxButton({theme:a.theme}),a.pagerfirstbottom.jqxButton({theme:a.theme}),a.pagerlasttop.jqxButton({theme:a.theme}),a.pagerlastbottom.jqxButton({theme:a.theme}),a.pagershowrowscombotop.jqxDropDownList&&"advanced"==a.pagerMode&&(a.pagershowrowscombotop.jqxDropDownList({theme:a.theme}),a.pagershowrowscombobottom.jqxDropDownList({theme:a.theme}))),a.filterable){var c=e(".filterconditions");c.length>0&&c.jqxDropDownList({theme:a.theme}),a.filtercolumnsList&&a.filtercolumnsList.jqxDropDownList({theme:a.theme})}a.refresh()}else a.refresh()}}},checkRow:function(e,r,t){var i=this.base,o=i._names();if(!i._loading){var a=i.rowinfo[e];if(a)a.checked=!0,a.row[o.checked]=!0,a.originalRecord&&(a.originalRecord[o.checked]=!0),void 0==t&&this.hierarchicalCheckboxes&&this.checkRows(a.row,a.row),!1!==r&&i._renderrows(),i._raiseEvent("rowCheck",{key:e,row:a.row});else{var l=this.getRow(e);l&&(i.rowinfo[e]={row:l,checked:!0},i.rowinfo[e].row[o.checked]=!0,l.originalRecord&&(i.rowinfo[e].originalRecord=l.originalRecord),i._raiseEvent("rowCheck",{key:e,row:l}),void 0==t&&this.hierarchicalCheckboxes&&this.checkRows(l,l),!1!==r&&i._renderrows())}}},checkRows:function(r,t){var i=this,o=this.base._names(),a=function(e){var r=new Array,t=function(e){for(var i=0;i<e.length;i++)r.push(e[i]),e[i]&&e[i].records&&t(e[i].records)};return e.records&&t(e.records),r};if(null!=r){var l=0,s=!1,n=0,d=function(e){for(var r=0;r<e.length;r++)if(e[r]){var t=e[r][o.checked];void 0===t&&(t=!1),0!=t&&(null==e[r][o.checked]&&(s=!0),e[r].records&&d(e[r].records),l++),n++}};if(r.records&&d(r.records),r!=t)l==n?this.checkRow(r.uid,!1,"tree"):l>0?this.indeterminateRow(r.uid,!1,"tree"):this.uncheckRow(r.uid,!1,"tree");else{var c=t[o.checked],h=a(t);e.each(h,function(){!0===c?i.checkRow(this.uid,!1,"tree"):!1===c?i.uncheckRow(this.uid,!1,"tree"):i.indeterminateRow(this.uid,!1,"tree")})}var g=r[o.parent]?r[o.parent]:null;this.checkRows(g,t)}else{var c=t[o.checked],h=a(t);e.each(h,function(){!0===c?i.checkRow(this.uid,!1,"tree"):!1===c?i.uncheckRow(this.uid,!1,"tree"):i.indeterminateRow(this.uid,!1,"tree")})}},indeterminateRow:function(e,r,t){var i=this.base,o=i._names();if(!i._loading){var a=i.rowinfo[e];if(a)a.checked=null,a.row[o.checked]=null,a.originalRecord&&(a.originalRecord[o.checked]=null),void 0==t&&this.hierarchicalCheckboxes&&this.checkRows(a.row,a.row),!1!==r&&i._renderrows();else{var l=this.getRow(e);l&&(i.rowinfo[e]={row:l,checked:null},i.rowinfo[e].row[o.checked]=null,l.originalRecord&&(i.rowinfo[e].originalRecord=l.originalRecord),void 0==t&&this.hierarchicalCheckboxes&&this.checkRows(l,l),!1!==r&&i._renderrows())}}},uncheckRow:function(e,r,t){var i=this.base,o=i._names();if(!i._loading){var a=i.rowinfo[e];if(a)a.checked=!1,a.row[o.checked]=!1,a.originalRecord&&(a.originalRecord[o.checked]=!1),void 0==t&&this.hierarchicalCheckboxes&&this.checkRows(a.row,a.row),!1!==r&&i._renderrows(),i._raiseEvent("rowUncheck",{key:e,row:a.row});else{var l=this.getRow(e);l&&(i.rowinfo[e]={row:l,checked:!1},i.rowinfo[e].row[o.checked]=!1,l.originalRecord&&(i.rowinfo[e].originalRecord=l.originalRecord),i._raiseEvent("rowUncheck",{key:e,row:l}),void 0==t&&this.hierarchicalCheckboxes&&this.checkRows(l,l),!1!==r&&i._renderrows())}}},expandRows:function(r){var t=this;if(r)if(t.virtualModeCreateRecords)e.each(r,function(){var e=this;t.base._loading=!1,t.expandRow(e.uid,function(){t.base._loading=!1,t.expandRows(e.records)})});else for(var i=0;i<r.length;i++){var o=r[i];t.expandRow(o.uid),t.expandRows(o.records)}},collapseRows:function(e){if(e)for(var r=0;r<e.length;r++)this.collapseRow(e[r].uid),this.collapseRows(e[r].records)},expandAll:function(){var e=this.base;e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base;e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,r){var t=this.base;if(!t._loading){var i=t._names(),o=this,a=t.rowinfo[e];if(!a){var l=this.getRow(e);l&&(t.rowinfo[e]={row:l},l.originalRecord&&(t.rowinfo[e].originalRecord=l.originalRecord),a=t.rowinfo[e])}if(a){if(a.expanded)return void(a.row[i.expanded]=!0);if(a.expanded=!0,a.row[i.expanded]=!0,a.originalRecord&&(a.originalRecord[i.expanded]=!0),this.virtualModeCreateRecords&&!a.row._loadedOnDemand){if(!a.row[i.leaf])return t._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(a.row,function(e){if(a.row._loadedOnDemand=!0,!1===e)return t._loading=!1,o._hideLoadElement(),a.leaf=!0,a.row[i.leaf]=!0,t._renderrows(),void(r&&r());for(var l=0;l<e.length;l++){if(e[l][i.level]=a.row[i.level]+1,e[l][i.parent]=a.row,t.rowsByKey[e[l].uid])throw t._loading=!1,o._hideLoadElement(),a.leaf=!0,a.row[i.leaf]=!0,t._renderrows(),r&&r(),new Error("Please, check whether you Add Records with unique ID/Key. ");t.rowsByKey[e[l].uid]=e[l],o.virtualModeRecordCreating(e[l])}a.row.records?a.row.records=a.row.records.concat(e):a.row.records=e,(!e||e&&0==e.length)&&(a.leaf=!0,a.row[i.leaf]=!0),a.originalRecord&&(a.originalRecord.records=e,a.originalRecord[i.expanded]=!0,0==e.length&&(a.originalRecord[i.leaf]=!0)),t._loading=!1,o._hideLoadElement();var s=t.vScrollBar.css("visibility");t._renderrows(),t._updateScrollbars();var n=s!=t.vScrollBar.css("visibility");("auto"===t.height||null===t.height||t.autoheight||n)&&t._arrange(),t._renderhorizontalscroll(),r&&r()})}if(!t.updating()){var s=t.vScrollBar.css("visibility");t._renderrows(),t._updateScrollbars();var n=s!=t.vScrollBar.css("visibility");("auto"===t.height||null===t.height||t.autoheight||n)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowExpand",{row:a.row,key:e})}}}},collapseRow:function(e){var r=this.base,t=r._names();if(!r._loading){var i=r.rowinfo[e];if(!i){var o=this.getRow(e);o&&(r.rowinfo[e]={row:o},o.originalRecord&&(r.rowinfo[e].originalRecord=o.originalRecord),i=r.rowinfo[e])}if(i){if(!i.expanded)return void(i.row[t.expanded]=!1);if(i.expanded=!1,i.row[t.expanded]=!1,i.originalRecord&&(i.originalRecord[t.expanded]=!1),!r.updating()){var a=r.vScrollBar.css("visibility");r._renderrows(),r._updateScrollbars();var l=a!=r.vScrollBar.css("visibility");("auto"===r.height||null===r.height||r.autoheight||l)&&r._arrange(),r._renderhorizontalscroll(),r._raiseEvent("rowCollapse",{row:i.row,key:e})}}}}})}(jqxBaseFramework);

!function(e){function t(e,t,r,a,n,o,i,l){this.label=e,this.value=t,this.parent=r,this.children=a,this.area=n||null,this.color=o,this.data=i,this.record=l}e.jqx.jqxWidget("jqxTreeMap","",{});var r={};r.default=function(){function e(t,r,a,n){this.height=n,this.width=a,this.xoffset=t,this.yoffset=r,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t=[],r=this.xoffset,a=this.yoffset,n=h(e)/this.height,o=h(e)/this.width;if(this.width>=this.height)for(i=0;i<e.length;i+=1)t.push([r,a,r+n,a+e[i]/n]),a+=e[i]/n;else for(var i=0;i<e.length;i+=1)t.push([r,a,r+e[i]/o,a+o]),r+=e[i]/o;return t},this.cutArea=function(t){var r;if(this.width>=this.height){var a=t/this.height,n=this.width-a;r=new e(this.xoffset+a,this.yoffset,n,this.height)}else{var o=t/this.width,i=this.height-o;r=new e(this.xoffset,this.yoffset+o,this.width,i)}return r}}function t(e,t){for(var r=[],a=t/h(e),n=0;n<e.length;n+=1)r[n]=e[n]*a;return r}function r(e,t,n,o,i){o=void 0===o?0:o,i=void 0===i?0:i;var l,h=[],u=[];if(s(e[0])){for(c=0;c<e.length;c+=1)h[c]=d(e[c]);l=a(h,t,n,o,i);for(var c=0;c<e.length;c+=1)u.push(r(e[c],l[c][2]-l[c][0],l[c][3]-l[c][1],l[c][0],l[c][1]))}else u=a(e,t,n,o,i);return u}function a(r,a,i,l,s){return l=void 0===l?0:l,s=void 0===s?0:s,n(o(t(r,a*i),[],new e(l,s,a,i),[]))}function n(e){for(var t=[],r=0;r<e.length;r+=1)for(var a=0;a<e[r].length;a+=1)t.push(e[r][a]);return t}function o(e,t,r,a){var n,l,s;{if(0!==e.length)return n=r.shortestEdge(),l=e[0],i(t,l,n)?(t.push(l),o(e.slice(1),t,r,a)):(s=r.cutArea(h(t),a),a.push(r.getCoordinates(t)),o(e,[],s,a)),a;a.push(r.getCoordinates(t))}}function i(e,t,r){var a;return 0===e.length||((a=e.slice()).push(t),l(e,r)>=l(a,r))}function l(e,t){var r=Math.min.apply(Math,e),a=Math.max.apply(Math,e),n=h(e);return Math.max(Math.pow(t,2)*a/Math.pow(n,2),Math.pow(n,2)/(Math.pow(t,2)*r))}function s(e){return e&&e.constructor===Array}function h(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t}function d(e){var t=0;if(s(e[0]))for(var r=0;r<e.length;r+=1)t+=d(e[r]);else t=h(e);return t}return r}();var a={HORIZONTAL:0,VERTICAL:1,BOTH:2};e.extend(e.jqx._jqxTreeMap.prototype,{defineInstance:function(){var t={width:600,height:600,renderCallbacks:{},legendScaleCallback:function(e){return e},hoverEnabled:!1,selectionEnabled:!0,singleSelection:!0,showLegend:!0,legendLabel:"Legend",headerHeight:25,colorRange:100,layout:"default",source:[],displayMember:null,valueMember:null,colorMode:"parent",baseColor:"#C2EEFF",legendPosition:{x:0,y:0},colorRanges:[{color:"#aa9988",min:0,max:10},{color:"#ccbbcc",min:11,max:50},{color:"#000",min:50,max:100}],_root:[]};return this===e.jqx._jqxTreeMap.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this.render()},render:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this._destroy(),this._root=new t(void 0,0,null,[],this.host);var a=function(e,t){for(var a,n={},o=null,i=0;i<e.length;i+=1)if(e[i].items){o=!0;break}var l=new Array;if(o){var s=function(e,t){for(var r=0;r<e.length;r+=1){if(e[r].parent=t,e[r].data||(e[r].data=e[r].value),null==e[r].value&&(e[r].value=0),isNaN(parseFloat(e[r].value))){for(var a=e[r].value.toString(),n="",o=0;o<a.length;o++){var i=a.substring(o,o+1);null==i.match(/^[0-9]+$/)&&"."!=i||(n+=i)}e[r].value=new Number(n)}else e[r].value=parseFloat(e[r].value);l.push(e[r]),e[r].items&&s(e[r].items,e[r].label)}};s(e,null),e=l}for(i=0;i<e.length;i+=1)(a=e[i]).value&&null!=a.parent&&(n[a.parent]||(n[a.parent]=0),n[a.parent]+=a.value);for(i=0;i<e.length;i+=1)void 0!==n[(a=e[i]).label]&&(a.value=n[a.label]);t._buildTree(e,t._root),t._dataList=t._buildList(),t._setStyles();var h=r.default;"simple"===t.layout&&(h=r.simple),t._render(t._root,h),t._renderLegend()};e.jqx.dataAdapter&&null!=this.source&&this.source._source?this.dataBind(this.source,a):(a(this.source,this),this._trigger("bindingComplete"))},dataBind:function(t,r){this.records=new Array;var a=!!t._source,n=new e.jqx.dataAdapter(t,{autoBind:!1});a&&(n=t,t=t._source);var o=function(e,t){e.records=n.records;for(var a=new Array,o=0;o<e.records.length;o++){var i=e.records[o];e.displayMember&&(i.label=i[e.displayMember]),e.valueMember&&(i.value=i[e.valueMember]),i.record=i,a.push(i)}e._trigger("bindingComplete"),r(a,e)};void 0!=t.type&&(n._options.type=t.type),void 0!=t.formatdata&&(n._options.formatData=t.formatdata),void 0!=t.contenttype&&(n._options.contentType=t.contenttype),void 0!=t.async&&(n._options.async=t.async);var i=this;switch(t.datatype){case"local":case"array":default:null!=t.localdata&&(n.unbindBindingUpdate(this.element.id),n.dataBind(),o(this),n.bindBindingUpdate(this.element.id,function(e){o(i)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return n.unbindBindingUpdate(this.element.id),n.dataBind(),o(this),void n.bindBindingUpdate(this.element.id,function(){o(i)});var l={};n._options.data?e.extend(n._options.data,l):(t.data&&e.extend(l,t.data),n._options.data=l);n.unbindDownloadComplete(i.element.id),n.bindDownloadComplete(i.element.id,function(){o(i)}),n.dataBind()}},_destroy:function(){this.host.children().remove()},destroy:function(){this.host.remove()},refresh:function(e){e||this._refresh()},_refresh:function(){this.render()},_setStyles:function(){this.host.css({position:"relative",width:this.width,height:this.height});null!=this.width&&this.width.toString().indexOf("%"),null!=this.height&&this.height.toString().indexOf("%");var t=this;e.jqx.utilities.resize(this.host,function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.performLayout()},50)})},resize:function(e,t){this.width=e,this.height=t,this.performLayout()},performLayout:function(){var e=r.default;this.clearSelection(),this._layout(this._root,e)},_getValues:function(e){for(var t=[],r=0;r<e.length;r+=1)t.push(e[r].value);return t},_isColor:function(e){if(!e)return!1;var t=this._colorEvaluator;return!(!t._isRgb(e)&&!t._isHex(e))},_colorEvaluator:{_toRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},_toHex:function(e){var t=e.r.toString(16),r=e.g.toString(16),a=e.b.toString(16);return t=1===t.length?"0"+t:t,r=1===r.length?"0"+r:r,a=1===a.length?"0"+a:a,"#"+t+r+a},_isRgb:function(e){return/(rgb|rgba)\s*\(\s*\d+\s*(,\s*\d+\s*){2}(,\d+\.\d+)?\)(;?)/i.test(e)},_isHex:function(e){return/^(#([0-9A-F]{3})([0-9A-F]{3})?)$/i.test(e)},getColorByValue:function(e,t,r){var a,n,o,i,t,l=this._colorEvaluator;l._isRgb(r)&&(r=l._toHex(r)),r=l._toRgb(r),o=t.length,a=-1/0;for(var s=0;s<o;s+=1)a<t[s].value&&(a=t[s].value);return n=e/a,i=Math.round(n*this.colorRange),l._toHex({r:Math.max(r.r-i,0),g:Math.max(r.g-i,0),b:Math.max(r.b-i,0)})},parent:function(e){var t=e.parent.color,r=this._colorEvaluator;return e.parent?(t||(t=this.baseColor),t=r.getColorByValue.call(this,e.value,e.parent.children,t),e.color=t,t):"#fff"},autoColors:function(e){var t=this.baseColor;return t=this._colorEvaluator.getColorByValue.call(this,e.value,this._dataList,t),e.color=t,t},rangeColors:function(e){for(var t,r=e.value,a=0;a<this.colorRanges.length;a+=1)if((t=this.colorRanges[a]).min<r&&t.max>=r)return t.color;return"#fff"}},_getColor:function(e){var t=e.color,r=this.colorMode;if(this._isColor(t))return t;if("function"==typeof this._colorEvaluator[r])return this._colorEvaluator[r].call(this,e);throw"Invalid colorMode"},_renderRect:function(t,r){var a=e("<div/>"),n=t[2]-t[0],o=t[3]-t[1],i=this._getColor(r);a.css({position:"absolute",left:t[0]-1,top:t[1]-1,width:n,height:o,backgroundColor:i}),a.addClass(this.toThemeProperty("jqx-treemap-rectangle"));var l=this._colorEvaluator,s={data:r.data,label:r.label,value:r.value,parent:r.parent,record:r.record,color:i,rgb:l._toRgb(i)};if(r.parent==this._root&&(s.parent=null),"function"==typeof this.renderCallbacks["*"]&&void 0!==this.renderCallbacks["*"](a,s))return a;if("function"==typeof this.renderCallbacks[r.label])this.renderCallbacks[r.label](a,s);else{n=a.width()-2;a.html('<span style="max-width:'+n+'px;" class="jqx-treemap-label">'+r.label+"</span>")}return a},_centerLabel:function(e,t){var r=e[0].firstChild;r.style.position="absolute",t!==a.HORIZONTAL&&t!==a.BOTH||(r.style.left=(e[0].offsetWidth-r.offsetWidth)/2+"px"),t!==a.VERTICAL&&t!==a.BOTH||(r.style.top=(e[0].offsetHeight-r.offsetHeight)/2+"px")},_trigger:function(t,r){var a=e.Event(t);return a.args=r,this.host.trigger(a)},_addHandlers:function(t,r){var a=this;t.on("mouseenter",function(e){a.hoverEnabled&&(a.host.find(".jqx-treemap-rectangle").removeClass("jqx-treemap-rectangle-hover"),t.addClass(a.toThemeProperty("jqx-treemap-rectangle-hover"))),a._trigger("mouseenterSector",r)}),t.on("mouseleave",function(e){a.hoverEnabled&&t.removeClass("jqx-treemap-rectangle-hover"),a._trigger("mouseleaveSector",r)}),t.on("click",function(r){if(a.selectionEnabled){var n=e.data(this,"jqx-treemap-selected")||!1;a.singleSelection&&a.host.find(".jqx-treemap-rectangle-hover").each(function(t,r){e.data(r,"jqx-treemap-selected",!1),e(r).removeClass("jqx-treemap-rectangle-hover")}),n?(t.removeClass("jqx-treemap-rectangle-hover"),n=!1):(t.addClass(a.toThemeProperty("jqx-treemap-rectangle-hover")),n=!0),e.data(this,"jqx-treemap-selected",n),r.stopImmediatePropagation()}})},clearSelection:function(){this.host.find(".jqx-treemap-rectangle-hover").removeClass(this.toThemeProperty("jqx-treemap-rectangle-hover")),e.data(this,"jqx-treemap-selected",!1)},_layoutArea:function(e,t){e.children.length&&e.children.length>0?(this._centerLabel(t,a.HORIZONTAL),t.addClass(this.toThemeProperty("jqx-treemap-rectangle-parent"))):this._centerLabel(t,a.BOTH)},_render:function(e,t){if(e.children.length){var r=0;e.value&&(r=this.headerHeight);for(var a,n,o=this._getValues(e.children),i=(e.area.offset(),t(o,e.area.width(),e.area.height()-r,0,r)),l=0;l<e.children.length;l+=1)a=e.children[l],n=this._renderRect(i[l],a),a.area=n,e.area.append(n),this._addHandlers(n,{label:a.label,value:a.value,color:a.color,sector:a.area,data:a.data}),this._layoutArea(a,n),this._render(a,t)}},_layout:function(t,r){if(t.children.length){var a=0;t.value&&(a=this.headerHeight);for(var n=this._getValues(t.children),o=(t.area.offset(),r(n,t.area.width(),t.area.height()-a,0,a)),i=0;i<t.children.length;i+=1){var l=t.children[i];this._layoutRect(o[i],l),this._layoutArea(l,l.area),this._layout(l,r)}this.showLegend&&(e(".jqx-treemap-legend").remove(),this._renderLegend())}},_layoutRect:function(e,t){var r=t.area,a=e[2]-e[0],n=e[3]-e[1];r.css({left:e[0]-1,top:e[1]-1,width:a,height:n});var o=this._colorEvaluator,i=this._getColor(t),l={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:i,rgb:o._toRgb(i)};if(t.parent==this._root&&(l.parent=null),"function"==typeof this.renderCallbacks["*"]&&void 0!==this.renderCallbacks["*"](r,l))return r;if("function"==typeof this.renderCallbacks[t.label])this.renderCallbacks[t.label](r,l);else{a=r.width()-2;r.find(".jqx-treemap-label:first").css("max-width",a)}},_getBoundValues:function(){var e,t=this._root,r=[],a={},n={};for(a.value=t.value||1/0,n.value=t.value||-1/0,r.push(t);r.length;){e=r.pop(),a.value>e.value&&(a=e),n.value<e.value&&(n=e);for(var o=0;o<e.children.length;o+=1)r.push(e.children[o])}return[a,n]},_getAutocolorRanges:function(){for(var e,t=this._getBoundValues(),r=t[1].value,a=t[0].value,n=(r-a)/5,o=[],i=a;i<r;i+=n)e=Math.round(i),o.push({min:e,max:i+n,color:this._colorEvaluator.getColorByValue.call(this,e,this._dataList,this.baseColor)});return o},_renderLegend:function(){if(/autoColors|rangeColors/.test(this.colorMode)&&this.showLegend){var e=this.colorRanges;"autoColors"===this.colorMode&&(e=this._getAutocolorRanges());var t=this._renderColorLegend(e);this._renderLegendLabel(t)}},_renderLegendLabel:function(t){var r=e('<tr><td colspan="'+t.find("td").length/2+'"/></tr>'),a=e('<div class="'+this.toThemeProperty("jqx-treemap-legend-label")+'" />');a.text(this.legendLabel),r.children().append(a),t.prepend(r)},_renderColorLegend:function(t){var r,a,n=e('<div class="'+this.toThemeProperty("jqx-treemap-legend")+'"/>'),o=function(e){return e};"function"==typeof this.legendScaleCallback&&(o=this.legendScaleCallback);var i=e('<table class="'+this.toThemeProperty("jqx-treemap-legend-table")+'"/>');n.append(i),i.append("<tr/>"),n.append("<div/>"),this.host.append(n),r=e(n.find("tr")[0]),(a=e(n.find("div")[0])).addClass(this.toThemeProperty("jqx-treemap-legend-values"));t.sort(function(e,t){try{if(e.min<t.min)return-1;if(e.min>t.min)return 1}catch(e){}return 0});for(var l=Math.round(n.width()/t.length),s=-2,h=0,d=0;d<t.length;d+=1){var u=e('<td class="'+this.toThemeProperty("jqx-treemap-legend-color")+'"/>');u.css("backgroundColor",t[d].color),r.append(u),0===d&&((c=e('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>')).text(o(t[d].min)),a.append(c),i.css("margin-left",c.width()/2),h=s+=c.width()/2);var c=e('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');s+=l,c.text(o(t[d].max)),a.append(c),d==t.length-1&&(h+=c.width()/2,n.css("padding-right",h+5),s-=2),s-=c.width()/2,c.css("left",s),s+=c.width()/2}return n.css({position:"absolute",left:this.legendPosition.x,bottom:this.legendPosition.y,visibility:this.showLegend?"visible":"hidden"}),n},_buildTree:function(e,r){var a,n,o=null,i=[];for(i.push(r);i.length;){o=i.pop();for(var l=0;l<e.length;l+=1)if((n=e[l]).parent===o.label||!n.parent&&!o.label){var s=o;a=new t(n.label,parseFloat(n.value,10),s,[],null,n.color,n.data,n.record),o.children.push(a),i.push(a)}}return r},_buildList:function(){var e,t=[],r=[];for(r.push(this._root);r.length;){(e=r.pop())!==this._root&&t.push(e);for(var a=0;a<e.children.length;a+=1)r.push(e.children[a])}return t},propertyChangedHandler:function(e,t,r){"renderCallbacks"!==t&&(/hoverEnabled|selectionEnabled/.test(t)?r||this.host.find("jqx-treemap-rectangle-hover"):"showLegend"===t?this.host.find("jqx-treemap-legend").toggle():this._refresh())}})}(jqxBaseFramework);

!function(t){t.jqx.jqxWidget("jqxValidator","",{}),t.extend(t.jqx._jqxValidator.prototype,{defineInstance:function(){var e={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:"right",arrow:!0,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:!1,hintType:"tooltip"};return this===t.jqx._jqxValidator.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){"label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(e){var i,n,r,o,s=!0,a=1/0,l=[];this.updatePosition();for(var u=this,h=0,d=0;d<this.rules.length;d+=1)"function"==typeof this.rules[d].rule&&h++;this.positions=new Array;for(d=0;d<this.rules.length;d+=1){t(this.rules[d].input);if("function"==typeof this.rules[d].rule){this._validateRule(this.rules[d],function(d,f){if(0==(i=d)){s=!1,t(f.input),o=t(f.input),l.push(o);var p=o.offset();p&&(n=p.top,a>n&&(a=n,r=o))}0==--h&&"function"==typeof e&&(u._handleValidation(s,a,r,l),e&&e(s))})}else i=this._validateRule(this.rules[d]);if(0==i){s=!1,o=t(this.rules[d].input),l.push(o);var f=o.offset();f&&(n=f.top,a>n&&(a=n,r=o))}}return 0==h?(this._handleValidation(s,a,r,l),s):void 0},validateInput:function(t){for(var e=this._getRulesForInput(t),i=!0,n=0;n<e.length;n+=1)this._validateRule(e[n])||(i=!1);return i},hideHint:function(t){for(var e=this._getRulesForInput(t),i=0;i<e.length;i+=1)this._hideHintByRule(e[i])},hide:function(){for(var t=0;t<this.rules.length;t+=1)this.rules[t],this._hideHintByRule(this.rules[t])},updatePosition:function(){var e;this.positions=new Array;for(var i=0;i<this.rules.length;i+=1)(e=this.rules[i]).hint&&this._hintLayout(e.hint,t(e.input),e.position,e)},_getRulesForInput:function(t){for(var e=[],i=0;i<this.rules.length;i+=1)this.rules[i].input===t&&e.push(this.rules[i]);return e},_validateRule:function(e,i){var n,r=t(e.input),o=!0,s=this,a=!1;return"function"==typeof e.rule&&1==(a=e.rule.call(this,r,function(o){if(o)s._hideHintByRule(e),i&&i(!0,e);else{var a=s.animation;if(s.animation=null,e.hint&&s._hideHintByRule(e),"none"==t(r).css("display"))return void s._hideHintByRule(e);if(0==t(r).parents().length)return void s._hideHintByRule(e);n=e.hintRender.apply(s,[e.message,r]),s._hintLayout(n,r,e.position,e),s._showHint(n),e.hint=n,s._removeLowPriorityHints(e),i&&i(!1,e),s.animation=a}}))&&i&&i(!0,e),"function"==typeof e.rule&&0==a?("function"!=typeof e.hintRender||e.hint||this._higherPriorityActive(e)||!r.is(":visible")||(n=e.hintRender.apply(this,[e.message,r]),this._removeLowPriorityHints(e),this._hintLayout(n,r,e.position,e),this._showHint(n),e.hint=n),o=!1,i&&i(!1,e)):this._hideHintByRule(e),o},_hideHintByRule:function(e){var i,n=t(e.input),r=this,o=function(){if("label"==r.hintType){var t=r;if("top"==t.position||"left"==t.position){if(n.prev().hasClass(".jqx-validator-error-label"))return}else if(n.next().hasClass(".jqx-validator-error-label"))return;"input"!=n[0].nodeName.toLowerCase()?n.find("input").length>0&&(n.find(".jqx-input").length>0?n.find(".jqx-input").removeClass(t.toThemeProperty("jqx-validator-error-element")):n.find(".jqx-text-area").length>0?n.find(".jqx-text-area").removeClass(t.toThemeProperty("jqx-validator-error-element")):n.is(".jqx-checkbox")&&n.find(".jqx-checkbox-default").removeClass(t.toThemeProperty("jqx-validator-error-element")),n.is(".jqx-radiobutton")?n.find(".jqx-radiobutton-default").removeClass(t.toThemeProperty("jqx-validator-error-element")):n.removeClass(t.toThemeProperty("jqx-validator-error-element"))):n.removeClass(t.toThemeProperty("jqx-validator-error-element"))}};e&&((i=e.hint)&&(this.positions&&this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]&&(this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]=null),"fade"===this.animation?i.fadeOut(this.animationDuration,function(){i.remove(),o()}):(i.remove(),o())),e.hint=null)},_handleValidation:function(t,e,i,n){t?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(e),this.focus&&i.focus(),this._raiseEvent(0,{invalidInputs:n}),"function"==typeof this.onError&&this.onError(n))},_scrollHandler:function(e){if(this.scroll){var i=this;t("html,body").animate({scrollTop:e},this.scrollDuration,function(){"function"==typeof i.scrollCallback&&i.scrollCallback.call(i)})}},_higherPriorityActive:function(t){for(var e,i=!1,n=this.rules.length-1;n>=0;n-=1){if(e=this.rules[n],i&&e.input===t.input&&e.hint)return!0;e===t&&(i=!0)}return!1},_removeLowPriorityHints:function(t){for(var e,i=!1,n=0;n<this.rules.length;n+=1)e=this.rules[n],i&&e.input===t.input&&this._hideHintByRule(e),e===t&&(i=!0)},_getHintRuleByInput:function(e){for(var i,n=0;n<this.rules.length;n+=1)if(i=this.rules[n],t(i.input)[0]===e[0]&&i.hint)return i;return null},_removeEventListeners:function(){for(var e,i,n,r=0;r<this.rules.length;r+=1){n=(e=this.rules[r]).action.split(","),i=t(e.input);for(var o=0;o<n.length;o+=1)this.removeHandler(i,t.trim(n[o])+".jqx-validator")}},_addEventListeners:function(){var e,i;if(this.host.parents(".jqx-window").length>0){var n=this,r=function(){n.updatePosition()},o=this.host.parents(".jqx-window");this.addHandler(o,"closed",function(){n.hide()}),this.addHandler(o,"moved",r),this.addHandler(o,"moving",r),this.addHandler(o,"resized",r),this.addHandler(o,"resizing",r),this.addHandler(t(document.parentWindow),"scroll",function(){n.scroll&&r()})}for(var s=0;s<this.rules.length;s+=1)e=this.rules[s],i=t(e.input),this._addListenerTo(i,e)},_addListenerTo:function(e,i){var n=this,r=i.action.split(","),o=!1;this._isjQWidget(e)&&(o=!0);for(var s=0;s<r.length;s+=1){var a=t.trim(r[s]);!o||"blur"!=a&&"focus"!=a||e&&"input"!=e[0].nodeName.toLowerCase()&&(e=e.find("input")),this.addHandler(e,a+".jqx-validator",function(t){n._validateRule(i)})}},_configureInputs:function(){this.rules=this.rules||[];for(var t=0;t<this.rules.length;t+=1)this._handleInput(t)},_handleInput:function(t){var e=this.rules[t];e.position||(e.position=this.position),e.message||(e.message="Validation Failed!"),e.action||(e.action="blur"),e.hintRender||(e.hintRender=this._hintRender),e.rule?this._handleRule(e):e.rule=null},_handleRule:function(t){var e,i,n=t.rule,r=!1;if("string"==typeof n?(n.indexOf("=")>=0&&(n=n.split("="),i=n[1].split(","),n=n[0]),(e=this["_"+n])?t.rule=function(t,n){return e.apply(this,[t].concat(i))}:r=!0):"function"!=typeof n?r=!0:t.rule=n,r)throw new Error("Wrong parameter!")},_required:function(e){switch(this._getType(e)){case"jqx-input-inner":if(e.find("input").length>0)return""!==t.trim(e.find("input").val());break;case"textarea":case"password":case"jqx-input":case"jqx-text-area":case"text":var i=t.data(e[0]);if(i.jqxMaskedInput){var n=e.jqxMaskedInput("promptChar"),r=e.jqxMaskedInput("value");return r&&r.indexOf(n)<0}return i.jqxNumberInput?""!==e.jqxNumberInput("inputValue"):!!i.jqxDateTimeInput||""!==t.trim(e.val());case"checkbox":case"radio":return e.is(":checked");case"jqx-check-box":case"jqx-radio-button":return e[0].val();case"jqxCheckBox":case"jqxRadioButton":return e.find("input").val();case"div":return e.is(".jqx-checkbox")?e.jqxCheckBox("checked"):!!e.is(".jqx-radiobutton")&&e.jqxRadioButton("checked")}return!1},_notNumber:function(t){return this._validateText(t,function(t){return""==t||!/\d/.test(t)})},_startWithLetter:function(t){return this._validateText(t,function(t){return""==t||!/\d/.test(t.substring(0,1))})},_number:function(t){return this._validateText(t,function(t){if(""==t)return!0;var e=new Number(t);return!isNaN(e)&&isFinite(e)})},_phone:function(t){return this._validateText(t,function(t){return""==t||/^\(\d{3}\)(\d){3}-(\d){4}$/.test(t)})},_length:function(t,e,i){return this._minLength(t,e)&&this._maxLength(t,i)},_maxLength:function(t,e){return e=parseInt(e,10),this._validateText(t,function(t){return t.length<=e})},_minLength:function(t,e){return e=parseInt(e,10),this._validateText(t,function(t){return t.length>=e})},_email:function(t){return this._validateText(t,function(t){return""==t||/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)})},_zipCode:function(t){return this._validateText(t,function(t){return""==t||/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/.test(t)})},_ssn:function(t){return this._validateText(t,function(t){return""==t||/\d{3}-\d{2}-\d{4}/.test(t)})},_validateText:function(t,e){var i;return!!this._isTextInput(t)&&(i=this._isjQWidget(t)&&t.find("input").length>0?t.find("input").val():t.val(),e(i))},_isjQWidget:function(e){var i=t.data(e[0]);return!!(i.jqxMaskedInput||i.jqxNumberInput||i.jqxDateTimeInput)||(e[0].tagName.toLowerCase().indexOf("jqx")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-input")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-password-input")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-complex-input")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-formatted-input")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-masked-input")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-date-time-input")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-number-input")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-check-box")>=0||(e[0].tagName.toLowerCase().indexOf("jqx-radio-button")>=0||e[0].tagName.toLowerCase().indexOf("angular")>=0))))))))))},_isTextInput:function(t){var e=this._getType(t);return"text"===e||"textarea"===e||"password"===e||"jqx-input-inner"===e||t.is(".jqx-input")||t.is(".jqx-text-area")},_getType:function(e){if(e[0]){var i=e[0].tagName.toLowerCase();return"textarea"===i?"textarea":e.is(".jqx-input")?"jqx-input":e.is(".jqx-text-area")?"jqx-text-area":e.find(".jqx-input").length>0?"jqx-input-inner":"input"===i?t(e).attr("type")?t(e).attr("type").toLowerCase():"text":"jqx-password-input"===i?"password":"jqx-check-box"===i?"jqx-check-box":"jqx-radio-button"===i?"jqx-radio-button":i}},_hintRender:function(e,i){if("label"==this.hintType){(r=t('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>')).html(e);var n=this;return this.closeOnClick&&r.click(function(){n.hideHint(i.selector)}),"left"==this.position||"top"==this.position?r.insertBefore(t(i)):r.insertAfter(t(i)),r}var r=t('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),o=this;return r.html(e),this.closeOnClick&&r.click(function(){o.hideHint(i.selector)}),null==this.ownerElement?r.appendTo(document.body):this.ownerElement.innerHTML?r.appendTo(t(this.ownerElement)):r.appendTo(this.ownerElement),r},_hintLayout:function(e,i,n,r){if(this._hintRender===r.hintRender){var o;if(o=this._getPosition(i,n,e,r),"label"==this.hintType){var s="2px";"left"!=this.position&&"top"!=this.position||(s="-2px"),"input"!=i[0].nodeName.toLowerCase()&&"textarea"!=i[0].nodeName.toLowerCase()?(i.find(".jqx-text-area").length>0&&i.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")),i.find("input").length>0&&(i.find(".jqx-input").length>0?i.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):i.find(".jqx-text-area").length>0?i.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")):i.is(".jqx-checkbox")&&i.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),i.is(".jqx-radiobutton")?i.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element")):i.addClass(this.toThemeProperty("jqx-validator-error-element")))):i.addClass(this.toThemeProperty("jqx-validator-error-element"));var a=t("<span></span>");a.addClass(this.toThemeProperty("jqx-validator-hint")),a.html(e.text()),a.appendTo(t(document.body));var l=a.outerWidth();return a.remove(),e.css({position:"relative",left:t(i).css("margin-left"),width:t(i).width(),top:s}),void("center"==n&&(e.css("width",l),e.css("left","0px"),e.css("margin-left","auto"),e.css("margin-right","auto")))}e.css({position:"absolute",left:o.left,top:o.top}),this.arrow&&this._addArrow(i,e,n,o)}},_showHint:function(t){t&&"fade"===this.animation&&(t.fadeOut(0),t.fadeIn(this.animationDuration))},_getPosition:function(e,i,n,r){var o,s,a=e.offset(),l=e.outerWidth(),u=e.outerHeight();if(this.rtl&&i.indexOf("left")>=0&&(i="right"),this.rtl&&i.indexOf("right")>=0&&(i="left"),null!=this.ownerElement&&((a={left:0,top:0}).top=parseInt(a.top)+e.position().top,a.left=parseInt(a.left)+e.position().left),r&&r.hintPositionRelativeElement){var h=t(r.hintPositionRelativeElement);a=h.offset(),l=h.width(),u=h.height()}return o=i.indexOf("top")>=0?a.top-u:i.indexOf("bottom")>=0?a.top+n.outerHeight()+this.hintPositionOffset+5:a.top,s=i.indexOf("center")>=0?a.left+this.hintPositionOffset+(l-n.outerWidth())/2:i.indexOf("left")>=0?a.left-n.outerWidth()-this.hintPositionOffset:i.indexOf("right")>=0?a.left+l+this.hintPositionOffset:a.left+this.hintPositionOffset,i.indexOf(":")>=0&&(i=i.split(":")[1].split(","),s+=parseInt(i[0],10),o+=parseInt(i[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(o)+"_"+Math.round(s)]&&this.positions[Math.round(o)+"_"+Math.round(s)].top==o&&(o+=e.outerHeight()),this.positions[Math.round(o)+"_"+Math.round(s)]={left:s,top:o},{left:s,top:o}},_addArrow:function(e,i,n,r){var o,s,a=t('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');this.rtl&&n.indexOf("left")>=0&&(n="right"),this.rtl&&n.indexOf("right")>=0&&(n="left"),i.children(".jqx-validator-hint-arrow").remove(),i.append(a);var l=a.outerHeight(),u=a.outerWidth(),h=i.outerHeight(),d=i.outerWidth();this._addImage(a),s=n.indexOf("top")>=0?h-l:n.indexOf("bottom")>=0?-l:(h-l)/2-l/2,n.indexOf("center")>=0?o=(d-u)/2:n.indexOf("left")>=0?o=d-u/2-1:n.indexOf("right")>=0&&(o=-u/2),(n.indexOf("topright")>=0||n.indexOf("bottomright")>=0)&&(o=0),(n.indexOf("topleft")>=0||n.indexOf("bottomleft")>=0)&&(o=d-u),a.css({position:"absolute",left:o,top:s})},_addImage:function(t){var e=t.css("background-image");e=(e=(e=(e=e.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")",""),t.css("background-image","none"),t.append('<img src="'+e+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+t.width()+"px; height: "+t.height()+'px;" />')},_raiseEvent:function(e,i){var n=t.Event(this._events[e]);return n.args=i,this.host.trigger(n)},propertyChangedHandler:function(t,e,i,n){"rules"===e&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jqxBaseFramework);

!function(e){"use strict";function t(t,s){var n=t.nodeName.toLowerCase();if("area"===n){var o,r=t.parentNode,a=r.name;return!(!t.href||!a||"map"!==r.nodeName.toLowerCase())&&(!!(o=e("img[usemap=#"+a+"]")[0])&&i(o))}return(/input|select|textarea|button|object/.test(n)?!t.disabled:"a"==n?t.href||s:s)&&i(t)}function i(t){var i=e(t);return"none"!==i.css("display")&&"hidden"!==i.css("visibility")}function s(e){var i=e.getAttribute("tabindex"),s=null===i;return(s||i>=0)&&t(e,!s)}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};return this===e.jqx._jqxWindow.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this.host.initAnimate&&this.host.initAnimate(),this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.appendTo(document.body);var t=this;!function(e){for(var i=0;i<e.length;i++){var s=e[i];t[s]&&t[s].toString().indexOf("px")>=0&&(t[s]=parseInt(t[s],10))}}(["minWidth","minHeight","maxWidth","maxHeight","width","height"]);var i=function(){var i=parseInt(e(t.restricter).css("padding-top"),10),s=parseInt(e(t.restricter).css("padding-left"),10),n=parseInt(e(t.restricter).css("padding-bottom"),10),o=parseInt(e(t.restricter).css("padding-right"),10),r=e(t.restricter).coord();t.dragArea={left:s+r.left,top:i+r.top,width:1+o+e(t.restricter).width(),height:1+n+e(t.restricter).height()}};if(this.restricter&&i(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){i()})),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||(this.element.style.display="none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var s=this;this.isModal&&this._fixWindowZIndex("modal-show"),s.initContent&&(s.initContent(),s._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],s=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var n=e.data(document.body,"jqxwindows-modallist");if(n)if("modal-show"==t)n.push(this.host);else{var o=n.indexOf(this.host);-1!=o&&n.splice(o,1)}else if("modal-show"==t){var r=[];r.push(this.host),e.data(document.body,"jqxwindows-modallist",r),n=r}else e.data(document.body,"jqxwindows-modallist",[]),n=[];return s=this.modalZIndex,e.each(n,function(){if(this.data()&&this.data().jqxWindow){var e=this.data().jqxWindow.instance;e._modalBackground.style.zIndex=s,e.element.style.zIndex=s+1,s+=2}}),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var a=i[i.length-2];if("auto"==a.css("z-index"))s=this.zIndex+i.length+1;else{var h=this.zIndex;(s=parseInt(a.css("z-index"),10)+1)<h&&(s=h)}}this.element.style.zIndex=s,this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){throw new Error(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height,10)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width,10)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||(this.maxWidth,this.dragArea.width))},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight&&this.maxHeight&&parseInt(this.minHeight,10)>parseInt(this.maxHeight,10)&&this.maxHeight!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth&&this.maxWidth&&parseInt(this.minWidth,10)>parseInt(this.maxWidth,10)&&this.maxWidth!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration,10))||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration,10))||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&(void 0===this.dragArea.width||void 0===this.dragArea.height||void 0===this.dragArea.left||void 0===this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(i-=1,e(t[i].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children();if(1===t.length)this._content=t[0],this._header=document.createElement("div"),this._header.innerHTML=this.host.attr("caption"),this.element.insertBefore(this._header,this._content),this.host.attr("caption",""),this._header=e(this._header),this._content=e(this._content);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header[0].innerHTML='<div style="float:left;">'+this._header[0].innerHTML+"</div>",this._headerContentWrapper=e(this._header.children()[0]),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=document.createElement("div"),this._closeButtonWrapper.className=this.toThemeProperty("jqx-window-close-button-background"),this._closeButton=document.createElement("div"),this._closeButton.className=this.toThemeProperty("jqx-window-close-button jqx-icon-close"),this._closeButton.style.width="100%",this._closeButton.style.height="100%",this._closeButtonWrapper.appendChild(this._closeButton),this._header[0].appendChild(this._closeButtonWrapper),this._closeButtonWrapper=e(this._closeButtonWrapper),this._closeButton=e(this._closeButton))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=document.createElement("div"),this._collapseButtonWrapper.className=this.toThemeProperty("jqx-window-collapse-button-background"),this._collapseButton=document.createElement("div"),this._collapseButton.className=this.toThemeProperty("jqx-window-collapse-button jqx-icon-arrow-up"),this._collapseButton.style.width="100%",this._collapseButton.style.height="100%",this._collapseButtonWrapper.appendChild(this._collapseButton),this._header[0].appendChild(this._collapseButtonWrapper),this._collapseButtonWrapper=e(this._collapseButtonWrapper),this._collapseButton=e(this._collapseButton))},_removeModal:function(){this.isModal||"object"!=typeof this._modalBackground||null===this._modalBackground||(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(e){}},_makeModal:function(){if(this.isModal&&!this._modalBackground){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=document.createElement("div"),this._modalBackground.className=this.toThemeProperty("jqx-window-modal"),this._setModalBackgroundStyles(),document.body.appendChild(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var i=this,s=function(e,t){return t.contains(e)};this.addHandler(this._modalBackground,"mouseup",function(e){i._stopResizing(i),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(1),setTimeout(function(){t[0].focus(1)},100)),e.preventDefault(),!1}),this.addHandler(e(document),"keydown.window"+this.element.id,function(t){if(9===t.keyCode){var n=e.data(document.body,"jqxwindows-modallist");if(!(n.length>1&&n[n.length-1][0]!=i.element)){var o=i._getTabbables(),r=null,a=null;if(0!==i.element.offsetWidth&&0!==i.element.offsetHeight&&(o.length>0&&(r=o[0],a=o[o.length-1]),t.target!=i.element&&null!=r))return s(t.target,i.element)&&(t.target!==a||t.shiftKey)?t.target===r&&t.shiftKey?(a.focus(1),!1):void 0:(r.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this._header[0].tabIndex=0,this._content[0].tabIndex=0),this.element.setAttribute("hideFocus","true"),this.element.style.outline="none"},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header[0].style.position="relative",this.rtl?(this._headerContentWrapper[0].style.direction="rtl",this._headerContentWrapper[0].style.float="right"):(this._headerContentWrapper[0].style.direction="ltr",this._headerContentWrapper[0].style.float="left"),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){if(this._closeButtonWrapper){if(this.showCloseButton){this._closeButtonWrapper[0].style.visibility="visible";var e=this._toPx(this.closeButtonSize);this._closeButtonWrapper[0].style.width=e,this._closeButtonWrapper[0].style.height=e}else this._closeButtonWrapper[0].style.visibility="hidden";if(this.showCollapseButton){this._collapseButtonWrapper[0].style.visibility="visible";var t=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=t,this._collapseButtonWrapper[0].style.height=t}else this._collapseButtonWrapper[0].style.visibility="hidden"}},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper[0].style.marginRight="0px",this._closeButtonWrapper[0].style.marginLeft=this._toPx(e)):(this._closeButtonWrapper[0].style.marginRight=this._toPx(e),this._closeButtonWrapper[0].style.marginLeft="0px")),this._closeButtonWrapper[0].style.position="absolute",this.rtl?(this._closeButtonWrapper[0].style.right="",this._closeButtonWrapper[0].style.left="0px"):(this._closeButtonWrapper[0].style.right="0px",this._closeButtonWrapper[0].style.left="")}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var t=parseInt(this._header.css("padding-right"),10);if(!isNaN(t)){var i=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=i,this._collapseButtonWrapper[0].style.height=i,this.rtl?(this._collapseButtonWrapper[0].style.marginRight="0px",this._collapseButtonWrapper[0].style.marginLeft=this._toPx(t)):(this._collapseButtonWrapper[0].style.marginRight=this._toPx(t),this._collapseButtonWrapper[0].style.marginLeft="0px")}this._collapseButtonWrapper[0].style.position="absolute";var s=this._toPx(this.showCloseButton?this._closeButton.outerWidth(!0):0);this.rtl?(this._collapseButtonWrapper[0].style.right="",this._collapseButtonWrapper[0].style.left=s):(this._collapseButtonWrapper[0].style.right=s,this._collapseButtonWrapper[0].style.left=""),this._centerElement(this._collapseButton,e(this._collapseButton[0].parentElement),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&(this.element.style.width=this._toPx(this.width)),this.collapsed||("auto"!==this.height?this.element.style.height=this._toPx(this.height):this.element.style.height=this.host.height()+"px",this.element.style.minHeight=this._toPx(this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.element.style.maxHeight=this._toPx(this.maxHeight),this.element.style.minWidth=this._toPx(this.minWidth),this.element.style.maxWidth=this._toPx(this.maxWidth),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var t=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),t=!1);var i=e(this._header.children()[0]).outerWidth()+(this._header.children()[1]?e(this._header.children()[1]).outerWidth():0);return this.minWidth<100&&(this.minWidth=Math.min(i,100),t=!1),t},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){var n,o,r="none"===e.css("display");if(i=i.toLowerCase(),s?(n=s+"Top",o=s+"Left"):(n="top",o="left"),i.indexOf("y")>=0){r&&(e[0].style.display="block");var a,h=e.outerHeight(!0);r&&(e[0].style.display="none"),a=t.height();var d=Math.max(0,a-h)/2;e[0].style[n]=d+"px"}if(i.indexOf("x")>=0){r&&(e[0].style.display="block");var l,c=e.outerWidth(!0);r&&(e[0].style.display="none"),l=t.width();var u=Math.max(0,l-c)/2;e[0].style[o]=u+"px"}},_centerElementInArea:function(e,t,i){if((i=i.toLowerCase()).indexOf("y")>=0){var s=e.outerHeight(!0),n=(t.height-s)/2;e[0].style.top=n+t.top+"px"}if(i.indexOf("x")>=0){var o=e.outerWidth(!0),r=(t.width-o)/2;e[0].style.left=r+t.left+"px"}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.okButton&&this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.cancelButton&&this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){return this._indexOf(e,t)>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;s>i;s--){var n,o=t[s],r=t[s-1];parseInt(o.css(e),10)<parseInt(r.css(e),10)&&(n=o,t[s]=r,t[s-1]=n)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){var e=this;e.addHandler(e.host,"resizing",e._windowResizeHandler,{self:e})},_windowResizeHandler:function(e){var t=e.data.self;t._header.width(t.host.width()-(t._header.outerWidth(!0)-t._header.width())),t.width=e.args.width,t.height=e.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){if("object"==typeof t._modalBackground&&null!==t._modalBackground){if(t.isOpen()&&(t._modalBackground.style.display="none"),t.restricter)t._modalBackground.style.left=t._toPx(t.dragArea.left),t._modalBackground.style.top=t._toPx(t.dragArea.top),t._modalBackground.style.width=t._toPx(t.dragArea.width),t._modalBackground.style.height=t._toPx(t.dragArea.height);else{var e=t._getDocumentSize();t._modalBackground.style.width=e.width+"px",t._modalBackground.style.height=e.height+"px"}t.isOpen()&&(t._modalBackground.style.display="block")}})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,s=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(s=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-s}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){if(this.isModal){var t=this._getDocumentSize();e.jqx.browser.msie&&e.jqx.browser.version<9?this._modalBackground.style.filter="alpha(opacity="+100*this.modalOpacity+")":this._modalBackground.style.opacity=this.modalOpacity,this._modalBackground.style.position="absolute",this._modalBackground.style.top="0px",this._modalBackground.style.left="0px",this._modalBackground.style.width=t.width,this._modalBackground.style.height=t.height,this._modalBackground.style.zIndex=this.modalBackgroundZIndex,this.autoOpen||(this._modalBackground.style.display="none")}},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(t){return e._closeWindow(t)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)},{self:this}),this.addHandler(this.host,"keyup",function(){if(e.keyboardNavigation&&e._moved){var t=e.host.coord(),i=t.left,s=t.top;e._raiseEvent(3,i,s,i,s),e._moved=!1}})},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,s=t.keyCode,n=this.host.coord(),o=n.left,r=n.top,a=this._getDraggingArea(),h=this.host.width(),d=this.host.height(),l=!0;switch(s){case 37:i?this.resizable&&this.resize(h-10,d):this.draggable&&o-10>=0&&this.move(o-10,r),l=!1;break;case 38:i?this.resizable&&this.resize(h,d-10):this.draggable&&r-10>=0&&this.move(o,r-10),l=!1;break;case 39:i?this.resizable&&this.resize(h+10,d):this.draggable&&o+h+10<=a.width&&this.move(o+10,r),l=!1;break;case 40:i?this.resizable&&this.resize(h,d+10):this.draggable&&r+d+10<=a.height&&this.move(o,r+10),l=!1}return l||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),l}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){e.resizeArea&&e.resizable&&!e.collapsed?e._header[0].style.cursor=e._resizeWrapper.style.cursor:e.draggable?e._header[0].style.cursor="move":(e._header[0].style.cursor="default",e._resizeWrapper&&(e._resizeWrapper.style.cursor="default"))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",function(){t._headerFocused=!0}),this.addHandler(this.host,"blur",function(){t._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return t._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,i,s){return i&&(e.pageX=i),s&&(e.pageY=s),t._headerMouseDownHandler(t,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return t._headerMouseMoveHandler(t,e)}),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return t._dragHandler(t,e)}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return t._dropHandler(t,e)});try{if(""!==document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(e){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var s=e.jqx.position(i);t._mousePosition.x=s.left,t._mousePosition.y=s.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var s=e.jqx.mobile.getTouches(i)[0],n=s.pageX,o=s.pageY,r=e.jqx.position(i);return n=r.left,o=r.top,(n+3<t._mousePosition.x||n-3>t._mousePosition.x||o+3<t._mousePosition.y||o-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:n,y:o},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),!!t._isTouchDevice&&(i.preventDefault(),!0)}return!t._isDragging||!!t._isTouchDevice&&(i.preventDefault(),!0)},_dropHandler:function(t,i){var s=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var n=parseInt(t.host.css("left"),10),o=parseInt(t.host.css("top"),10),r=t._isTouchDevice?0:i.pageX,a=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,n,o,r,a),s=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),s},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=t._isTouchDevice?i.originalEvent.which:i.which;if(void 0===t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===s&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var n=e.jqx.position(i),o=n.left,r=n.top,a=o-t._mousePosition.x,h=r-t._mousePosition.y,d=t._windowPosition.x+a,l=t._windowPosition.y+h;return t.move(d,l,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,s){var n=this._getDraggingArea();e=e<n.left?n.left:e,t=t<n.top?n.top:t;var o=this.host.outerWidth(!0),r=this.host.outerHeight(!0);return e+o>=n.width+n.left-2*s&&(e=n.width+n.left-o-s),t+r>=n.height+n.top-i&&(t=n.height+n.top-r-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.element.style.left=this._toPx(this.position[0]),this.element.style.top=this._toPx(this.position[1]);else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!==this.position.y)this.element.style.left=this._toPx(this.position.x),this.element.style.top=this._toPx(this.position.y);else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left"),10),i=parseInt(this.host.css("top"),10);this.element.style.left=this._toPx(t+e.left),this.element.style.top=this._toPx(i+e.top)}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.element.style.top=this._toPx(i.top);break;case"left":this.element.style.left=this._toPx(i.left);break;case"bottom":this.element.style.top=this._toPx(i.height-this.host.height()+i.top);break;case"right":this.element.style.left=this._toPx(i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],s=e.Event(i),n={};return 2!==t&&3!==t||(n.x=arguments[1],n.y=arguments[2],n.pageX=arguments[3],n.pageY=arguments[4]),"closed"!==i&&"close"!==i||(n.dialogResult=this.dialogResult),s.args=n,this.host.trigger(s)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.isModal&&(null!==this._modalBackground&&e(this._modalBackground).remove(),this.host.jqxWindow({isModal:!1})),this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&e(this._modalBackground).remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,s,n){switch(this._validateProperties(),i){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":case"closeButtonSize":this._performLayout();break;case"isModal":if(this._refresh(),this._fixWindowZIndex(),!1===n)for(var o=e.data(document.body,"jqxwindows-modallist"),r=[],a=0;a<o.length;a++)o[a][0]!==this.element&&r.push(o[a]);e.data(document.body,"jqxwindows-modallist",r);break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":n?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":case"height":case"width":this._performLayout();break;case"title":this.setTitle(n),this.title=n;break;case"content":this.setContent(n);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=n,n?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":n?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":n?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":n?s||(this.collapsed=!1,this.collapse(0)):s&&(this.collapsed=!0,this.expand(0));break;case"theme":e.jqx.utilities.setTheme(s,n,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize();default:return}},collapse:function(t){if(!this.collapsed&&!0!==this._animationInProgress){if("none"==this.host.css("display"))return;var i=this,s=this._header.outerHeight(!0),n=parseInt(this._header.css("border-bottom-width"),10),o=parseInt(this._header.css("margin-bottom"),10);t=isNaN(parseInt(t,10))?this.collapseAnimationDuration:t,isNaN(n)||(s-=2*n),isNaN(o)||(s+=o),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.element.style.minHeight=this._toPx(s),i._animationInProgress=!0,this.host.animate({height:s},{duration:t,complete:function(){i._animationInProgress=!1,i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content[0].style.display="none",i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)}})}},expand:function(t){if(this.collapsed&&!0!==this._animationInProgress){var i=this;t=isNaN(parseInt(t,10))?this.collapseAnimationDuration:t,i._animationInProgress=!0,this.host.animate({height:this._heightBeforeCollapse},{duration:t,complete:function(){i._animationInProgress=!1,i.collapsed=!1,i.element.style.minHeight=i._toPx(i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content[0].style.display="block",i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)}})}},closeAll:function(t){t=!0;for(var i=e.data(document.body,"jqxwindows-list"),s=i.length,n=e.data(document.body,"jqxwindow-modal")||[];s;)s-=1,this._toClose(t,i[s])&&(i[s].jqxWindow("closeWindow","close"),i.splice(s,1));this._toClose(t,n)&&(n.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(e){if("string"==typeof e)this._headerContentWrapper.html(e);else if("object"==typeof e)try{this._headerContentWrapper[0].innerHTML="",e instanceof HTMLElement?this._headerContentWrapper[0].appendChild(e):e.appendTo&&e.appendTo(this._headerContentWrapper)}catch(e){throw new Error(e)}this.title=e,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,s=!1;!s;)i[0].style.width="auto",i[0].style.height="auto",i.hasClass("jqx-window")?s=!0:i=e(i[0].parentNode);if(e.isArray(t))for(var n=0;n<t.length;n++)t[n].appendTo(this._content);else if("string"==typeof t)e(this._content[0]).html(t);else if("object"==typeof t)try{this._content[0].innerHTML="",t instanceof HTMLElement?this._content[0].appendChild(t):t.appendTo&&t.appendTo(this._content)}catch(e){throw new Error(e)}this.content=t,this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e=void 0===e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],s=parseInt(i.css("z-index"),10),n=this._indexOf(this.host,t),o=t.length-1;o>n;o-=1){var r=parseInt(t[o].css("z-index"),10)-1;t[o][0].style.zIndex=r}this.element.style.zIndex=s,this._sortByStyle("z-index",t)},hide:function(t,i,s){var n=this;if(!this.closing||!1!==this.closing()){switch(i=i||this.closeAnimationDuration,this.animationType){case"none":this.element.style.display="none";break;case"fade":n._animationInProgress=!0,this.host.fadeOut({duration:i,callback:function(){n._animationInProgress=!1,t instanceof Function&&t()}});break;case"slide":n._animationInProgress=!0,this.host.slideUp({duration:i,callback:function(){n._animationInProgress=!1,t instanceof Function&&t()}});break;case"combined":n._animationInProgress=!0,this.host.animate({opacity:0,width:"0px",height:"0px"},{duration:i,complete:function(){n._animationInProgress=!1,n.element.style.display="none",t instanceof Function&&t()}})}this._visible=!1,this.isModal&&(e(this._modalBackground).hide(),this._fixWindowZIndex("modal-hide")),!0!==s&&(this._raiseEvent(1),this._raiseEvent(8))}},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(t,i){var s=this;switch(this._setDialogResult("none"),i=i||this.showAnimationDuration,this.animationType){case"none":this.element.style.display="block";break;case"fade":s._animationInProgress=!0,this.host.fadeIn({duration:i,complete:function(){s._animationInProgress=!1,t instanceof Function&&t()}});break;case"slide":s._animationInProgress=!0,this.host.slideDown({duration:i,callback:function(){s._animationInProgress=!1,t instanceof Function&&t()}});break;case"combined":this.element.style.display="block";var n=s.host.width(),o=s.host.height();this.element.style.minWidth="0px",this.element.style.minHeight="0px",this.element.style.opacity=0,this.element.style.width="0px",this.element.style.height="0px",s._animationInProgress=!0,this.host.animate({opacity:1,width:n+"px",height:o+"px"},{duration:i,complete:function(){s._animationInProgress=!1,s._performLayout(),t instanceof Function&&t()}})}this.isModal&&(e(this._modalBackground).show(),this._fixWindowZIndex("modal-show"));var r=this;if(this._visible||(i>150&&"none"!=this.animationType?setTimeout(function(){r._contentInitialized||r.initContent&&(r.initContent(),r._contentInitialized=!0),r._raiseEvent(7),r._raiseEvent(9)},i-150):(r._contentInitialized||r.initContent&&(r.initContent(),r._contentInitialized=!0),this._raiseEvent(7),r._raiseEvent(9))),this._visible=!0,"combined"!==s.animationType&&this._performLayout(),this.autoFocus){var a=function(){r._isTouchDevice||r._content[0].focus()};a(),setTimeout(function(){a()},100)}},_getTabbables:function(){var t;t=e.jqx.browser.msie&&e.jqx.browser.version<9?this._content.find("*"):this._content[0].querySelectorAll("*");var i=[];return e.each(t,function(){s(this)&&(i[i.length]=this)}),i},move:function(t,i,s,n){var o,r,a,h=0,d=0;if(t=parseInt(t,10),i=parseInt(i,10),e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(d=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(h=this._SCROLL_WIDTH)),o=this._validateCoordinates(t,i,d,h),parseInt(this.host.css("left"),10)!==o.x||parseInt(this.host.css("top"),10)!==o.y){if(s){var l=e.jqx.position(s);r=l.left,a=l.top}void 0===r&&(r=t),void 0===a&&(a=i),!1!==n&&this._raiseEvent(2,o.x,o.y,r,a)}this.element.style.left=o.x+"px",this.element.style.top=o.y+"px",this._moved=!0},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(e){"use strict";var t=function(e){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var t=e(this.resizeTarget.children(".jqx-resize"));t.detach();var i=t.children();this._removeResizeEventListeners();for(var s=0;s<i.length;s+=1)e(i[s]).detach(),this.resizeTarget.append(i[s]);t.remove()}this._resizeDirection=null},initResize:function(t){this.resizeConfig(),this.resizeTarget=e(t.target),this.resizeIndicatorSize=t.indicatorSize||10,this.maxWidth=t.maxWidth||100,this.minWidth=t.minWidth||1,this.maxHeight=t.maxHeight||100,this.minHeight=t.minHeight||1,this.resizeParent=t.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,t.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(t,i,s,n,o){this.resizeTargetChildren=e(o),this.resizeTargetChildren=this.resizeTargetChildren.toArray();for(var r=this.resizeTargetChildren.length;r;)r-=1,this.resizeTargetChildren[r]=e(this.resizeTargetChildren[r])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){var t=this;if(!(void 0!==t._resizeWrapper&&e(t._resizeWrapper).parents().length>0)){var i=document.createElement("div");i.className="jqx-resize jqx-rc-all",i.style.zIndex=8e3,i.appendChild(t._header[0]),i.appendChild(t._content[0]),t.resizeTarget[0].appendChild(i),t._resizeWrapper=i}},_performResizeLayout:function(){this._resizeWrapper.style.height=this.resizeTarget.height()+"px",this._resizeWrapper.style.width=this.resizeTarget.width()+"px"},_removeResizeEventListeners:function(){var t=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+t),this.removeHandler(this._resizeWrapper,"mousedown.resize"+t),this.removeHandler(e(document),"mousemove.resize"+t),this.removeHandler(e(document),"mouseup.resize"+t)},_addResizeEventHandlers:function(){var t=this.resizeTarget.attr("id"),i=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+t,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(e(document),"mousemove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(e(document),"mouseup.resize."+t,function(e){i._stopResizing(i,e)});try{if(""!==document.referrer||window.frameElement){var s=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}catch(e){}},_stopResizing:function(e){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&(e._resizeWrapper.style.cursor=e._cursorBackup)},_resizeHandler:function(t,i){if(t.enableResize&&!t.collapsed)return t.isResizing&&t._resizeDirection?(0===i.which&&e.jqx.browser.msie&&e.jqx.browser.version<9&&t._stopResizing(i),t._performResize(i.pageX,i.pageY),!1):t._resizeCaptureCursor(i.pageX,i.pageY)},_resizeCaptureCursor:function(e,t){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y))return this._changeCursor(e-parseInt(this.resizeTarget.css("left"),10),t-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,s=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,s)},_resizeCursorChangeHandler:function(e,t){e.enableResize&&!e.collapsed&&(e.isResizing||e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left"),10),t.pageY-parseInt(e.resizeTarget.css("top"),10)))},_resizeMouseDownHandler:function(e,t){e.enableResize&&null!==e._resizeDirection&&(e._resizeMouseDown=!0,e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY,t.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight,10)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight,10)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth,10)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth,10)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize,10)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){throw new Error(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.style.cursor="nw-resize",this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.style.cursor="ne-resize",this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.style.cursor="sw-resize",this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="se-resize",this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="right"):(this._resizeWrapper.style.cursor=this._cursorBackup,this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,n){return"horizontal"===i||"both"===i?this._validateWidth(e,s,n):"vertical"===i||"both"===i?this._validateHeight(t,s,n):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:e(document).width(),height:e(document).height()}},_validateHeight:function(t,i,s){var n=0,o=this._getParent();return e(window).width()>e(document).width()&&e.jqx.browser.msie&&o.height===e(document).height()&&(n=this._SCROLL_WIDTH),"bottom"===s&&t+i.position().top+n+2>o.height+o.top?{fix:o.height-i.position().top-n-2+o.top,result:!1}:"top"===s&&i.lastHeight-t+i.y<o.top?{fix:t+(i.lastHeight-t+i.y)-o.top,result:!1}:t<i.minHeight?{fix:i.minHeight,result:!1}:t>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:t}},_validateWidth:function(t,i,s){var n=0,o=this._getParent();return e(window).height()<e(document).height()&&e.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&o.width===e(document).width()&&(n=this._SCROLL_WIDTH),"right"===s&&t+i.position().left+n+2>o.width+o.left?{fix:o.width-i.position().left-n-2+o.left,result:!1}:"left"===s&&i.lastWidth-t+i.x<o.left?{fix:t+(i.lastWidth-t+i.x)-o.left,result:!1}:t<i.minWidth?{fix:i.minWidth,result:!1}:t>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:t}},_resize:function(e,t,i){for(var s=this._resizeMethods.length,n=0;n<s;n++)if(this._resizeMethods[n]instanceof Function){var o={element:e,x:t,y:i,self:this};this._resizeMethods[n](o)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),s=t-this.host.height(),n="right";0!==s&&(n="bottom"),this._resizeDirection=n,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var s=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);s<this.resizeTarget.maxWidth&&s>0&&this.resizeTargetChildren[i].width(s)}else{var n=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);n<this.resizeTarget.maxHeight&&n>0&&this.resizeTargetChildren[i].height(n)}},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");return i.result||(t=i.fix),e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.self._raiseResizeEvent(0)),t},_resizeLeft:function(e){var t=e.element.lastWidth-e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"left"),s=e.element.x+e.x;return i.result?(e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.element[0].style.left=e.self._toPx(s),e.self._raiseResizeEvent(0)),t):(s=e.element.x+(e.element.lastWidth-i.fix),void(t=i.fix))},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");return i.result||(t=i.fix),e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.self._raiseResizeEvent(0)),t},_resizeTop:function(e){var t=e.element.lastHeight-e.y,i=e.self._validateResize(0,t,"vertical",e.element,"top"),s=e.element.y+e.y;return i.result?(e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.element[0].style.top=e.self._toPx(s),e.self._raiseResizeEvent(0)),t):(s=e.element.y+(e.element.lastHeight-i.fix),void(t=i.fix))},_raiseResizeEvent:function(t){var i=this._resizeEvents[t],s=e.Event(i),n={};if(n.width=parseInt(this.resizeTarget[0].style.width,10),n.height=parseInt(this.resizeTarget[0].style.height,10),s.args=n,0===t){i=this._resizeEvents[2];var o=e.Event(i);o.args=n,this.resizeTarget.trigger(o)}return this.resizeTarget.trigger(s)}}}(jqxBaseFramework);e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework);

!function(e,t,r){function a(t,r,a,n,i){if(n&&i)switch(t){case"jqxGrid":case"jqxDataTable":case"jqxTreeGrid":if(a.columns){var s=n.columns||n,o=i.columns||i;if(s.length!=o.length)return!1;var j={};if(e.each(s,function(e,t){var r=this;for(var a in this)if(r[a]!=o[e][a]){var n=r.datafield||r.dataField;j[n]||(j[n]={}),j[n][a]=r[a]}}),!e.isEmptyObject(j))return e.each(j,function(t,a){for(var n in a)e(r).jqxProxy("getcolumnproperty",t,n)!==a[n]&&e(r).jqxProxy("setcolumnproperty",t,n,a[n])}),!0}}return!1}function n(a,n,s,o,j,x,l){var u=function(t){if("jqxTree"===x||"jqxMenu"===x)return t;if("object"==typeof t&&t&&null!=t._bindingUpdate)return t;var r={},a=!1;if(e.isArray(t)||t instanceof Object&&!t.url&&!t.localdata&&!t.localData){if("jqxChart"===x)return t;if(a=!0,r.localData=t,r.type="array",t[0]){var n=new Array;"object"==e.type(t[0])&&(e.each(t[0],function(t,r){var a={name:t,type:e.type(r)};n.push(a)}),r.datafields=n)}}else t&&t.url?r=t:t&&(t.localdata||t.localData)&&(r=t);return e.jqx.dataAdapter?new e.jqx.dataAdapter(r):a?t:null};if(s.jqxSource!=r){h=a.$watchCollection(s.jqxSource,function(r,i){if(r!=i){if(t.equals(r,i))return;if(r&&i&&r._source&&i._source&&t.equals(r._source,i._source))return;var o=u(r);e(n).jqxProxy({source:o});var j=t.extend({},a.$eval(s.jqxSettings));s.jqxSettings&&j&&j.propertyChanged&&j.propertyChanged("source",i,r)}});l.push(h)}else if(s.jqxSettings!=r){var d={},q=null,c=p(s.jqxSettings)(a),g=n.controller();for(var f in g)if(c&&g[f]==c.source){q=f;break}if(!q)for(var f in a)if(c&&a[f]==c.source){q=f;break}if(q){var v="";for(var f in a)if(a[f]==g){v=f;break}""!=v&&(q=v+"."+q);h=j.$watchCollection(q,function(r,i){if(r!=i){if(t.equals(r,i))return;if(r&&i&&r._source&&i._source&&t.equals(r._source,i._source))return;var o=e.isArray(r)||"array"===e.type(r);if(new Date-d["jqxSettings.source"]>1e3||d=={}||!d["jqxSettings.source"]||o){var j=u(r);e(n).jqxProxy({source:j});var x=t.extend({},a.$eval(s.jqxSettings));s.jqxSettings&&x&&x.propertyChanged&&x.propertyChanged("source",i,r),d.property=new Date}}});l.push(h)}h=a.$watchCollection(s.jqxSettings+".source",function(r,i){if(r!=i){if(t.equals(r,i))return;if(r&&i&&r._source&&i._source&&t.equals(r._source,i._source))return;if(new Date-d.property>1e3||!d["jqxSettings.property"]||d=={}){var o=u(r);e(n).jqxProxy({source:o});var j=t.extend({},a.$eval(s.jqxSettings));s.jqxSettings&&j&&j.propertyChanged&&j.propertyChanged("source",i,r),d["jqxSettings.source"]=new Date}}});l.push(h);var h=a.$watchCollection(s.jqxSettings,function(r,o){if(r)if(o){if(r.source!=o.source){if(t.equals(r.source,o.source))return;if(r&&o&&r.source&&o.source&&r.source._source&&o.source._source&&t.equals(r.source._source,o.source._source))return;if(r.source&&o.source&&e.isArray(r.source)&&e.isArray(o.source)&&i(r.source)==i(o.source))return;if(new Date-d.property>1e3||!d["jqxSettings.source"]||d=={}){x=u(r.source);e(n).jqxProxy({source:x});var j=t.extend({},a.$eval(s.jqxSettings));s.jqxSettings&&j&&j.propertyChanged&&j.propertyChanged("source",o.source,r.source),d["jqxSettings.source"]=new Date}}}else{var x=u(r.source);e(n).jqxProxy({source:x})}});l.push(h)}return u(o)}function i(t){if(null==t)return"";var r="";return e.each(t,function(t){var a=this;t>0&&(r+=", "),r+="[";var n=0;if("object"==e.type(a))for(var i in a)n>0&&(r+=", "),r+="{"+i+":"+a[i]+"}",n++;else n>0&&(r+=", "),r+="{"+t+":"+a+"}",n++;r+="]"}),r}function s(t,r,a,n,i,s){e.extend(e.jqx["_"+n].prototype,{definedInstance:function(){if(this.element&&this.element!==r[0])return!0;if(this.base&&this.base.element!==r[0])return!0;var o=this,j=function(r){e.each(s,function(a,n){o.addHandler(e(r),a,function(r){t.$parent?e.proxy(n,i)(r):n(r),"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()})});var n=a.$attr;if(e.each(a,function(i,s){if(i.indexOf("jqxOn")>=0){var j=n[i].substring(7),x=e.camelCase(j),l=s;o.addHandler(e(r),x,function(e){if(e.data=a.data||a.jqxData,l.indexOf("(")>=0){var r=l.indexOf("("),n=p(l.substring(0,r))(t);n?n(e):t.$emit(x,e)}else t.$emit(l,e);"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()})}}),a.jqxInstance){var j=p(a.jqxInstance).assign;j&&j(t,o),"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()}};j(r),"jqxPopover"==n&&setTimeout(function(){j(o.host)})}})}function o(n,i,s,o,j,x){if(s.jqxSettings){var l=p(s.jqxSettings)(n);l&&(l.apply?($[j.$id+o+s.jqxSettings]||($[j.$id+o+s.jqxSettings]=new Array),$[j.$id+o+s.jqxSettings].push(x)):(l.apply=l[o]=function(){var t=arguments,r=new Array;return 0==t.length||(e.each($[j.$id+o+s.jqxSettings],function(a,n){var i=this;r.push({widgetName:o,element:i,result:e.jqx.jqxWidgetProxy(o,i,t)})}),1==r.length?r[0].result:r)},l.digest=function(){/^\$(digest|apply)$/.test(n.$root.$$phase)||n.$digest()},l.refresh=function(x,u){var d={},q=e(i)[o]("getInstance");if(e.each(l,function(e,t){if("created"===e||"propertyChanged"===e||"data"==e||"refresh"==e||e==o||"apply"==e)return!0;var a=q.events||q._events;return!!(a&&a.indexOf(e)>=0||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))||(x!=r&&-1===x.indexOf(e)||void(d[e]=t))}),d!=={})if(u)e.each(d,function(e,t){l[e]=q[e]}),"$apply"!=n.$root.$$phase&&"$digest"!=n.$root.$$phase&&n.$apply();else if(e.each($[j.$id+o+s.jqxSettings],function(t,r){e(this).jqxProxy(d)}),s.jqxWatchSettings!=r&&j){var c=p(s.jqxSettings)(j);e.each(c,function(r,i){if(r.match(/(source|propertyChanged|created|data|apply|refresh)/g))return!0;var x=q.events||q._events;if(x&&x.indexOf(r)>=0||r.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(r===o)return!0;if(!m[s.jqxSettings+"."+r]){var l=r,u=j.$watch(s.jqxSettings+"."+r,function(r,i){if(r!=i){if(t.equals(r,i))return;var x={};x[l]=r,e.each($[j.$id+o+s.jqxSettings],function(t,n){a(o,e(this),x,r,i)||e(this).jqxProxy(x)});var u=t.extend({},n.$eval(s.jqxSettings));s.jqxSettings&&u&&u.propertyChanged&&u.propertyChanged(l,i,r)}},!0);m[s.jqxSettings+"."+r]=u}})}C[i[0].id]&&(d={},e.each(C[i[0].id],function(){if(x!=r&&-1===x.indexOf(e.camelCase(this.value.substring(4))))return!0;if(d[e.camelCase(this.value.substring(4))]=n.$eval(this.label),u){var t=e.parse(this.label)(n).assign;t&&t(n,q[e.camelCase(this.value.substring(4))])}}),u?"$apply"!=n.$root.$$phase&&"$digest"!=n.$root.$$phase&&n.$apply():e.each($[j.$id+o+s.jqxSettings],function(t,r){e(this).jqxProxy(d)}))},$[j.$id+o+s.jqxSettings]=new Array,$[j.$id+o+s.jqxSettings].push(x)))}}function j(a,i,s,o,j,x,l){var u=/(jqxGrid|jqxTree|jqxMenu|jqxDataTable|jqxTreeGrid|jqxListBox|jqxTreeMap|jqxComboBox|jqxDropDownList|jqxChart)/gi;if(s.jqxSettings&&x&&x.source===r&&s.jqxSource===r&&o.match(u)&&(o.match(/(jqxTree|jqxMenu)/gi)?-1===i[0].innerHTML.toLowerCase().indexOf("ul")&&(x.source=[]):x.source=[]),x.source!==r&&s.jqxSettings)x.source=n(a,i,s,x.source,j,o,l);else if(s.jqxSource!==r){var d=t.extend({},a.$eval(s.jqxSource)),q=!(!s.jqxSource||!s.jqxSource.dataBind);x.source=q?n(a,i,s,s.jqxSource,j,o,l):n(a,i,s,d,j,o,l)}var c=a.$watch(s.ngDisabled,function(t,a){if(t!=r&&(t!=a||e(i).jqxProxy("disabled")!==t)){var n={};n.disabled=t,e(i).length>0&&e(i).jqxProxy(n)}});l.push(c)}function x(n,i,x,u,d){var q=new Array,c=t.extend({},n.$eval(x.jqxSettings));j(n,i,x,u,d,c,q);var p={},g={};if(C[i[0].id]&&e.each(C[i[0].id],function(){var s=this.label,o=this.value,j=e.camelCase(o.substring("4"));if(void 0!==x[s]){var l=n.$eval(x[s]);if(l===r&&"string"===e.type(x[s])&&(l=x[s]),"instance"==j)return!0;"array"===e.type(l)&&"source"!==u?l=l.slice(0):"object"===e.type(l)&&"source"!==u&&(l=e.extend({},l));var d=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|draw|renderFiles|initTools|initFeedBack|onTargetDrop|drawBefore|dragStart|dragEnd|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,c=/(searchMode)/gi,f=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(e.isFunction(l)&&!j.match(d))g[index]=l;else{if(j.match(d)&&!j.match(c)){return p[j]=function(){var e=l.apply(this,arguments);return j.match(f)&&!/^\$(digest|apply)$/.test(n.$root.$$phase)&&n.$digest(),e},!0}p[j]=l}v=function(r,s){if(r!=s){if(t.equals(r,s))return;var j=e.camelCase(o.substring("4"));if("watch"==j){if(x.jqxWatch.indexOf(",")>=0||x.jqxWatch.indexOf("[")>=0)return l=(l=x.jqxWatch).replace("[",""),l=l.replace("]",""),l=l.trim(),l=l.split(","),void e.each(l,function(o,l){for(var d=this.split("."),q=0;q<d.length;q++){if(d[q]in e(i).data().jqxWidget){j=d[q];break}if(d[q].toLowerCase()in e(i).data().jqxWidget){j=d[q].toLowerCase();break}}var c={};if(c[j]=r[o],!a(u,e(i),c,r,s)){e(i).jqxProxy(c);var p=t.extend({},n.$eval(x.jqxSettings));x.jqxSettings&&p&&p.propertyChanged&&p.propertyChanged(j,s,r)}});for(var l=x.jqxWatch.split("."),d=0;d<l.length;d++){if(l[d]in e(i).data().jqxWidget){j=l[d];break}if(l[d].toLowerCase()in e(i).data().jqxWidget){j=l[d].toLowerCase();break}}}var q={};if(q[j]=r,!a(u,e(i),q,r,s)){e(i).jqxProxy(q);var c=t.extend({},n.$eval(x.jqxSettings));x.jqxSettings&&c&&c.propertyChanged&&c.propertyChanged(j,s,r)}}};if("watch"==j){delete p[j];v=n.$watch(x[s],v,!0);q.push(v)}else{var v=n.$watch(x[s],v);q.push(v)}}}),""==i[0].id?(r==b[u]&&(b[u]=0),i[0].id=u+b[u]++):""!=i[0].id&&i[0].id==u+"0"&&(r==b[u]&&(b[u]=0),i[0].id=u+b[u]++),!e(i)[u])throw new Error("Missing required JavaScript references for: "+u);e.each(c,function(t,r){if("data"===t||"created"===t||"propertyChanged"===t)return!0;var a=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|renderFiles|initTools|draw|drawBefore|dragStart|dragEnd|initFeedBack|onTargetDrop|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,i=/(searchMode)/gi,s=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(e.isFunction(r)&&!t.match(a))g[t]=r;else{if(t.match(a)&&!t.match(i)){return p[t]=function(){var e=r.apply(this,arguments);return t.match(s)&&!/^\$(digest|apply)$/.test(n.$root.$$phase)&&n.$digest(),e},!0}"array"===e.type(r)&&"source"!==t?r=r.slice(0):"object"===e.type(r)&&"source"!==t&&(r=e.extend({},r)),p[t]=r}}),s(n,i,x,u,d,g);var f=i[0];o(n,i,x,u,d,f);e(i)[u](p);var v=e(i)[u]("getInstance");l(n,i,x,u,d,c,f,v,p,q);var h=n.$on("$destroy",function(){v&&v.destroy&&!v.isDestroyed?(v.isDestroyed=!0,e(i).parents().length>0&&e(i)[u]("destroy"),v=null):(e(i).remove(),v=null);for(var t=0;t<q.length;t++)q[t]();p=[],g=[],h()});return v}function l(s,o,j,x,l,u,d,q,c,g){if(j.jqxSettings){if(j.jqxWatchSettings!=r&&l){var f=p(j.jqxSettings)(l);e.each(f,function(r,n){if(r.match(/(source|created|propertyChanged|data|apply|refresh)/g))return!0;var i=q.events||q._events;if(i&&i.indexOf(r)>=0||r.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(r===x)return!0;if(c.hasOwnProperty(r)){var u=r,d=l.$watch(j.jqxSettings+"."+r,function(r,n){if(r!=n){if(t.equals(r,n))return;var i={};if(i[u]=r,!a(x,e(o),i,r,n)){e(o).jqxProxy(i);var l=t.extend({},s.$eval(j.jqxSettings));j.jqxSettings&&l&&l.propertyChanged&&l.propertyChanged(u,n,r)}}},!0);m[j.jqxSettings+"."+r]=d,g.push(d)}})}var v=s.$watch(j.jqxSettings,function(u,d){var c={},p=!1;if(u!=d){if(t.equals(u,d))return;if(e.each(u,function(u,f){if("source"===u){if(null!=d.source)return!0;var v=n(s,o,j,f,l,g);c[u]=v}if("created"===u)return!0;if("propertyChanged"===u)return!0;if("data"===u)return s.$apply(),!0;var h=q.events||q._events;if(h&&h.indexOf(u)>=0||u.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;var b=function(n){if(j.jqxWatchSettings!=r&&l&&!m[j.jqxSettings+"."+n]){var n=u,i=l.$watch(j.jqxSettings+"."+n,function(r,i){if(r!=i){if(t.equals(r,i))return;var l={};if(l[n]=r,!a(x,e(o),l,r,i)){e(o).jqxProxy(l);var u=t.extend({},s.$eval(j.jqxSettings));j.jqxSettings&&u&&u.propertyChanged&&u.propertyChanged(n,i,r)}}},!0);m[j.jqxSettings+"."+n]=i,g.push(i)}};f instanceof Object||null!=d&&f===d[u]?u!==x&&"apply"!==u&&"created"!==u&&"propertyChanged"!==u&&f instanceof Object&&(null==d||i(f)!==i(d[u])||""==i(f)&&""==i(d[u]))&&(c[u]=f,b(u),p=!0):(c[u]=f,b(u),p=!0)}),c!=={}&&p&&!a(x,e(o),c,u,d)){e(o).jqxProxy(c);var f=t.extend({},s.$eval(j.jqxSettings));j.jqxSettings&&f&&f.propertyChanged&&f.propertyChanged(index,d,u)}}});g.push(v)}}function u(t,a,n,i){var s=t[0].nodeName.toLowerCase(),o=e(t).parent(),j=e(t).html(),x=!(!o||!o[0]||"ng-include"!=o[0].nodeName.toLowerCase());if(e(t).parents("[ui-view]").length>0&&(x=!0),!x||a){var l='<div id="jqx-ngwidget">'+j+"</div>";if(s.indexOf("jqx")>=0){var u=t[0].attributes,d=t;if(s.indexOf("input")>=0)s.indexOf("date")>=0||s.indexOf("number")>=0?e(t).replaceWith('<div id="jqx-ngwidget"></div>'):s.indexOf("password")>=0?e(t).replaceWith('<input id="jqx-ngwidget" type="password"/>'):e(t).replaceWith('<input id="jqx-ngwidget"/>');else if(s.indexOf("jqx-button")>=0&&-1==s.indexOf("jqx-button-group"))e(t).replaceWith('<button id="jqx-ngwidget">'+j+"</button>");else if(s.indexOf("jqx-toggle-button")>=0)e(t).replaceWith('<button id="jqx-ngwidget">'+j+"</button>");else if(s.indexOf("jqx-link-button")>=0)if(e(t).find("a").length>0){var q=e(t).find("a");q.attr("id","jqx-ngwidget"),e(t).replaceWith(q)}else e(t).replaceWith('<a id="jqx-ngwidget">'+j+"</a>");else if(s.indexOf("jqx-data-table")>=0||s.indexOf("jqx-grid")>=0)e(t).find("tr").length>0?e(t).replaceWith('<div id="jqx-ngwidget">'+j+"</div>"):e(t).replaceWith('<div id="jqx-ngwidget"></div>');else if(s.indexOf("jqx-list-box")>=0||s.indexOf("jqx-drop-down-list")>=0||s.indexOf("jqx-combo-box")>=0)e(t).find("option").length>0?e(t).replaceWith('<select id="jqx-ngwidget">'+j+"</select>"):e(t).find("li").length>0?e(t).replaceWith('<ul id="jqx-ngwidget">'+j+"</ul>"):e(t).replaceWith('<div id="jqx-ngwidget"></div>');else if(s.indexOf("jqx-list-menu")>=0)e(t).replaceWith('<ul id="jqx-ngwidget" data-role="listmenu">'+j+"</ul>");else if(s.indexOf("jqx-tooltip")>=0){var c=e(t).children();c.detach(),e(c).insertAfter(e(t)),e.each(u,function(){e(c)[0]&&e(c)[0].setAttribute(this.name,this.value)}),e(t).remove(),t=c}else e(t).replaceWith(l);d=o.find("#jqx-ngwidget").removeAttr("id"),e.each(u,function(){e(d)[0]&&e(d)[0].setAttribute(this.name,this.value)})}var p=t[0];d&&d.length&&(p=d[0]);return""==p.id&&(r==b[i]&&(b[i]=0),p.id=i+b[i]++),e.each(n,function(e,t){e!==i&&"jqxNgModel"!=e&&-1==e.indexOf("jqxOn")&&"jqxData"!=e&&"jqxWatchSettings"!=e&&"jqxCreated"!=e&&"jqxSource"!=e&&"jqxCreate"!=e&&"jqxSettings"!=e&&e.indexOf("jqx")>=0&&(C[p.id]||(C[p.id]=new Array),C[p.id].push({label:e,value:n.$attr[e]}))}),e(p)}e(t).attr("data-jqx-ng-include",!0)}function d(t,a){!function(t){a.filesCount=0;var n=t.length;if(t.scripts){var i=t.scripts.length;for(var s in t.deps)i++,i+=t.deps[s].length;n=i}var o=function(t,i){var s=0,o=0,j=function(){var x=t[s];if(0===e('script[src*="'+x+'"]').length){var l=document.getElementsByTagName("head")[0],u=document.createElement("script");u.type="text/javascript";var d=function(){if(a.filesCount++,o++,w[x]=!1,y[x]!=r&&e.each(y[x],function(){this.documentReady=!0,this.scriptsLoaded&&this.scriptsLoaded()}),y[x]=!0,a.filesCount==n)return a.documentReady=!0,void(a.scriptsLoaded&&a.scriptsLoaded());o===t.length&&i&&i()};u.addEventListener?u.addEventListener("load",d,!1):window.attachEvent&&u.attachEvent("onreadystatechange",function(){"complete"!=u.readyState&&"loaded"!=u.readyState||d()}),w[x]=!0;var q=D;"globalize.js"==x&&(q=D+"globalization/"),u.src=q+x,l.appendChild(u),++s<t.length&&j()}else{if(a.filesCount++,a.filesCount==n)return!0===y[x]||w[x]===r?(a.documentReady=!0,void(a.scriptsLoaded&&a.scriptsLoaded())):(y[x]==r&&(y[x]=new Array),void y[x].push(a));++s<t.length&&j(),++o===t.length&&i&&i()}};j()};t.scripts?(o(t.scripts),e.each(t.deps,function(e,t){var r=new Array;r.push(e),o(r,function(){o(t)})})):o(t)}({jqxCalendar:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxDateTimeInput:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxScheduler:["jqxscheduler.js","jqxscheduler.api.js","jqxdate.js","jqxmenu.js","jqxwindow.js","jqxcheckbox.js","jqxnumberinput.js","jqxscrollbar.js","jqxlistbox.js","jqxdropdownlist.js","jqxinput.js","jqxradiobutton.js","jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxListBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js"],jqxComboBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxcombobox.js"],jqxDropDownList:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxdropdownlist.js"],jqxKanban:["jqxkanban.js","jqxsortable.js"],jqxSortable:["jqxsortable.js"],jqxKnob:["jqxdraw.js","jqxknob.js"],jqxGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxgrid.js":["jqxgrid.selection.js","jqxgrid.filter.js","jqxgrid.sort.js","jqxgrid.storage.js","jqxgrid.grouping.js","jqxgrid.pager.js","jqxgrid.columnsresize.js","jqxgrid.columnsreorder.js","jqxgrid.edit.js","jqxgrid.export.js","jqxgrid.aggregates.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDataTable:{scripts:["jqxdatatable.js","jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdata.js":["jqxdata.export.js"]}},jqxTreeGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdatatable.js":["jqxtreegrid.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDockingLayout:{scripts:["jqxmenu.js"],deps:{"jqxlayout.js":["jqxdockinglayout.js"]}},jqxCheckBox:["jqxcheckbox.js"],jqxRadioButton:["jqxradiobutton.js"],jqxBulletChart:["jqxbulletchart.js","jqxtooltip.js"],jqxRangeSelector:["jqxrangeselector.js"],jqxScrollView:["jqxbuttons.js","jqxscrollview.js"],jqxSwitchButton:["jqxswitchbutton.js"],jqxTouch:["jqxtouch.js"],jqxColorPicker:["jqxcolorpicker.js"],jqxInput:["jqxinput.js"],jqxTextArea:["jqxtextarea.js","jqxbuttons.js","jqxscrollbar.js"],jqxTagCloud:["jqxtagcloud.js"],jqxPopover:["jqxpopover.js"],jqxLayout:["jqxlayout.js","jqxmenu.js","jqxwindow.js"],jqxLoader:["jqxloader.js"],jqxResponsivePanel:["jqxresponsivepanel.js"],jqxEditor:["jqxeditor.js"],jqxNumberInput:["jqxbuttons.js","jqxnumberinput.js"],jqxMaskedInput:["jqxmaskedinput.js"],jqxSlider:["jqxbuttons.js","jqxslider.js"],jqxPanel:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js"],jqxButton:["jqxbuttons.js"],jqxLinkButton:["jqxbuttons.js"],jqxToggleButton:["jqxbuttons.js"],jqxRepeatButton:["jqxbuttons.js"],jqxDropDownButton:["jqxdropdownbutton.js"],jqxNotification:["jqxnotification.js"],jqxDockPanel:["jqxdockpanel.js"],jqxProgressBar:["jqxprogressbar.js"],jqxListMenu:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxlistmenu.js"],jqxTree:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxtree.js","jqxdata.js"],jqxMenu:["jqxmenu.js","jqxdata.js"],jqxTabs:["jqxtabs.js","jqxbuttons.js"],jqxDragDrop:["jqxdragdrop.js"],jqxDraw:["jqxdraw.js"],jqxWindow:["jqxwindow.js"],jqxDocking:["jqxwindow.js","jqxdocking.js"],jqxButtonGroup:["jqxbuttons.js","jqxbuttongroup.js"],jqxChart:["jqxdata.js","jqxchart.js"],jqxNavigationBar:["jqxnavigationbar.js"],jqxExpander:["jqxexpander.js"],jqxResponse:["jqxresponse.js"],jqxPasswordInput:["jqxpasswordinput.js"],jqxRating:["jqxrating.js"],jqxSplitter:["jqxbuttons.js","jqxsplitter.js"],jqxValidator:["jqxvalidator.js"],jqxTooltip:["jqxtooltip.js"],jqxGauge:["jqxdraw.js","jqxgauge.js"],jqxLinearGauge:["jqxdraw.js","jqxgauge.js"],jqxTreeMap:["jqxtreemap.js"],jqxRibbon:["jqxbuttons.js","jqxribbon.js"],jqxFormattedInput:["jqxbuttons.js","jqxformattedinput.js"],jqxComplexInput:["jqxbuttons.js","jqxcomplexinput.js"],jqxToolBar:["jqxtoolbar.js"],jqxFileUpload:["jqxfileupload.js"],jqxNavBar:["jqxnavbar.js"]}[t])}function q(t){var a=function(a,n,i,s,o){if(e(n).attr("data-jqx-ng-include")){e(n).removeAttr("data-jqx-ng-include");var j=e(n.children()).detach();(n=u(n,!0,i,t)).append(j),v(n)(a);var l=!0;for(var q in i)if(-1!=q.toString().indexOf("jqx")&&(a[i[q]]!=r&&(l=!1),i[q].split(".").length>1))for(var c=i[q].split("."),h=0;h<c.length;h++)a[c[h]]!=r&&(l=!1);l&&i.jqxSettings&&(p(i.jqxSettings)(a)||(l=!1)),l&&(a=a.$parent)}if(e.jqx.AMD){var b={};S[t]=!1,b.documentReady=!1,d(t,b)}var $=n[0].style.visibility,m=n[0].style.display;n[0].style.visibility="hidden",n[0].style.display="none";var y=a,w=f(function(){f.cancel(w),w=r;var o=function(){var o=s[0];n[0].style.visibility=$,n[0].style.display=m;var j=x(a,n,i,t,y),l=(t.toLowerCase(),t.match(/(input|list|radio|checkbox|combobox|rating|slider|scrollbar|progress|range|editor|picker|range|gauge|textarea|calendar|switch|button)/gi)),u={element:n[0],name:t,instance:e(n).data().jqxWidget,id:n[0].id,scope:a},d=function(){a.$emit(t+"Created",u),i.jqxSettings&&p(i.jqxSettings)(a)&&p(i.jqxSettings)(a).created&&g(function(){(0,p(i.jqxSettings)(a).created)(u)}),i.jqxCreated&&g(function(){p(i.jqxCreated)(a)(u)})};if("jqxGrid"===t||"jqxDataTable"===t)var q=0,c=f(function(){e(n).data().jqxWidget?(e(n).data().jqxWidget.initializedcall||25==q)&&(f.cancel(c),c=r,d()):(f.cancel(c),c=r),q++},100);else d();g(function(){if(o){if(o.$render=function(){var i=o.$viewValue;i===r&&(i=o.$modelValue);{if("jqxRadioButton"!==t)return"jqxCheckBox"===t?(a.$eval(e(n).attr("ng-true-value"))==o.$viewValue&&e(n).val(!0),void(a.$eval(e(n).attr("ng-false-value"))==o.$viewValue?e(n).val(!1):e(n).val(o.$viewValue))):void(i!=e(n).val()&&g(function(){e(n).val(i)}));a.$eval(e(n).attr("value"))==o.$viewValue?e(n).val(!0):"true"==a.$eval(e(n).attr("value"))&&1==o.$viewValue?e(n).val(!0):e(n).val(!1)}},"jqxRadioButton"===t)a.$eval(e(n).attr("value"))==o.$viewValue?e(n).val(!0):"true"==a.$eval(e(n).attr("value"))&&1==o.$viewValue?e(n).val(!0):e(n).val(!1);else if("jqxCheckBox"===t)a.$eval(e(n).attr("ng-true-value"))==o.$viewValue&&e(n).val(!0),a.$eval(e(n).attr("ng-false-value"))==o.$viewValue?e(n).val(!1):e(n).val(o.$viewValue);else if("jqxDropDownList"===t||"jqxComboBox"===t||"jqxListBox"===t||"jqxInput"===t||"jqxTextArea"===t)if(i.jqxNgModel!=r){var s=e(n).data().jqxWidget;"jqxInput"!=t?s.valueMember?s.selectItem(o.$viewValue[s.valueMember]):s.displayMember?s.selectItem(o.$viewValue[s.displayMember]):e(n).val(o.$viewValue):e(n).val(o.$viewValue)}else e(n).val(o.$viewValue);else"jqxDateTimeInput"===t||"jqxCalendar"===t?i.jqxNgModel!=r?"range"==(s=e(n).data().jqxWidget).selectionMode?s.setRange(o.$viewValue):s.setDate(o.$viewValue):e(n).val(o.$viewValue):"jqxToggleButton"==t?((s=e(n).data().jqxWidget).toggled=!0,s.refresh()):e(n).val(o.$viewValue);if(l){var x="keyup change";"jqxScrollBar"==t&&(x="valueChanged"),"jqxToggleButton"==t&&(x="keyup click"),"jqxInput"==t&&(x="keyup change select");var u,d=j.host;!d&&j.base&&(d=j.base.host),e(d).on(x,function(s){var j=s.args;u&&g.cancel(u),u=g(function(){if("jqxRadioButton"===t)j&&"api"!=j.type&&o.$setViewValue(a.$eval(e(n).attr("value")));else if("jqxCheckBox"===t)e(n).attr("ng-true-value")!=r&&j.checked?o.$setViewValue(e(n).attr("ng-true-value")):e(n).attr("ng-false-value")==r||j.checked?o.$setViewValue(e(n).val()):o.$setViewValue(e(n).attr("ng-false-value"));else if("jqxDropDownList"===t||"jqxComboBox"===t||"jqxListBox"===t||"jqxInput"===t||"jqxTextArea"===t){var s=e(n).val();i.jqxNgModel!=r?((x=e(n).data().jqxWidget).getSelectedItem&&(s=x.getSelectedItem()).originalItem&&(s=s.originalItem),"jqxInput"!==t&&"jqxTextArea"!==t||(s=x.selectedItem),o.$setViewValue(s)):o.$setViewValue(s)}else if("jqxDateTimeInput"===t||"jqxCalendar"===t)i.jqxNgModel!=r?"range"==(x=e(n).data().jqxWidget).selectionMode?o.$setViewValue(x.getRange()):o.$setViewValue(x.getDate()):"date"===e.type(o.$viewValue)?"range"==(x=e(n).data().jqxWidget).selectionMode?o.$setViewValue(x.getRange()):o.$setViewValue(x.getDate()):o.$setViewValue(e(n).val());else if("jqxToggleButton"==t){var x=e(n).data().jqxWidget;o.$setViewValue(x.toggled)}else o.$setViewValue(e(n).val());a.$emit(t+"ModelChange",o.$viewValue)})})}}})};if(i.ngShow===r||i.jqxCreate!==r){var j=function(){if(null!=i.jqxCreate||null!=i.jqxCreate)if(!0===i.jqxCreate||null!==i.jqxCreate&&"object"==e.type(i.jqxCreate))o();else var t=a.$watch(i.jqxCreate,function(e,r){"number"==typeof e?(g(o,e),t()):e&&(o(),t())});else o()};if(e.jqx.AMD){var l=function(){var t=!0;for(var r in S)if(!S[r]){t=!1;break}if(t){k||(a.$emit("jQWidgetsScriptsLoaded"),k=!0);for(var r in S)e.each(S[r],function(){this()}),S[r]=new Array}};if(b.documentReady){var u={element:n[0],name:t,scope:a};a.$emit(t+"ScriptsLoaded",u),S[t]||(S[t]=new Array),S[t].push(j),l()}else b.scriptsLoaded=function(){var e={element:n[0],name:t,scope:a};a.$emit(t+"ScriptsLoaded",e),S[t]||(S[t]=new Array),S[t].push(j),l()}}else j()}else var d=a.$watch(i.ngShow,function(e,t){e&&(o(),d())})})};c.directive(t,["$timeout","$interval","$parse","$compile","$log",function(e,r,n,i,s){g=e,f=r,p=n,v=i,h=s;var o;return{restrict:"ACE",require:["?ngModel"],scope:!1,template:function(e,r){u(e,!1,r,t),o=this.scope},controller:["$scope","$attrs","$element","$transclude",function(e,t,r,a){}],compile:function(e,t,r){return{pre:function(e,t,r,a,n){},post:function(e,t,r,n,i){a(e,t,r,n)}}},link:a}}])}if(t){e.jqx=e.jqx||{},e.jqx.AMD=!1;var c=t.module("jqwidgets",[]),p=(t.module("jqwidgets-amd",[],function(){e.jqx.AMD=!0}),null),g=null,f=null,v=null,h=null,b=new Array,$=new Array,m=new Array,y=new Array,w=new Array,S=new Array,C={},k=!1,D=function(){var e,t,r,a=document.getElementsByTagName("script");for(e=0;t=a[e];e++)if((r=t.src).indexOf("jqxcore.js")>=0){var n=r.substring(0,r.indexOf("jqxcore.js"));break}return n}();e.jqx.angularCompile=function(e,a){e.length>0&&(e=e[0]);var n=t.element(e),i=n.injector();a==r&&(a=e.innerHTML),i.invoke(["$compile","$rootScope",function(e,t){var r=n.html(a).scope();e(n)(r||t),/^\$(digest|apply)$/.test(t.$$phase)?/^\$(digest|apply)$/.test(r.$$phase)||r.$digest():t.$digest()}])},q("jqxBulletChart"),q("jqxButtonGroup"),q("jqxButton"),q("jqxBarGauge"),q("jqxRepeatButton"),q("jqxToggleButton"),q("jqxLinkButton"),q("jqxCalendar"),q("jqxChart"),q("jqxCheckBox"),q("jqxComplexInput"),q("jqxColorPicker"),q("jqxComboBox"),q("jqxDataTable"),q("jqxDateTimeInput"),q("jqxDocking"),q("jqxDockPanel"),q("jqxDragDrop"),q("jqxDraw"),q("jqxDropDownButton"),q("jqxDropDownList"),q("jqxEditor"),q("jqxExpander"),q("jqxFormattedInput"),q("jqxFileUpload"),q("jqxGauge"),q("jqxLinearGauge"),q("jqxGrid"),q("jqxInput"),q("jqxListBox"),q("jqxListMenu"),q("jqxMaskedInput"),q("jqxMenu"),q("jqxNavigationBar"),q("jqxNavBar"),q("jqxNotification"),q("jqxNumberInput"),q("jqxPanel"),q("jqxPasswordInput"),q("jqxProgressBar"),q("jqxRadioButton"),q("jqxRangeSelector"),q("jqxRating"),q("jqxRibbon"),q("jqxScrollBar"),q("jqxScrollView"),q("jqxSlider"),q("jqxSplitter"),q("jqxSwitchButton"),q("jqxTabs"),q("jqxToolBar"),q("jqxTooltip"),q("jqxTouch"),q("jqxTree"),q("jqxTreeGrid"),q("jqxTreeMap"),q("jqxValidator"),q("jqxWindow"),q("jqxTagCloud"),q("jqxPopover"),q("jqxKanban"),q("jqxKnob"),q("jqxSortablePlugin"),q("jqxScheduler"),q("jqxTextArea"),q("jqxLayout"),q("jqxDockingLayout"),q("jqxResponsivePanel"),q("jqxLoader")}}(jqxBaseFramework,window.angular);

try{!function(e,t){t.jqwidgets=t.jqwidgets||{},t.jqwidgets.knockout=function(s){var n={},a=s.name;n.init=function(n,i,o,d){var r=t.utils.unwrapObservable(i()),u=t.toJS(r);if(s.reset&&s.reset(),void 0==e.data(n)[a]){var l=[];e(n)[a](),widget=e.data(n)[a].instance,e.each(s,function(e,n){if(widget.hasOwnProperty(e)&&u.hasOwnProperty(e)&&!widget.koupdating){widget.koupdatingFromObservable=!0;try{var a=!1;s.serialize&&s.serialize(widget,e)&&(t.toJSON(u[e])!=t.toJSON(s.serialize(widget,e))&&s.setProperty(widget,e,widget[e],u[e]),a=!0),a||t.toJSON(u[e])!=t.toJSON(widget[e])&&s.setProperty(widget,e,widget[e],u[e])}catch(t){s.setProperty(widget,e,widget[e],u[e])}l[e]=e,widget.koupdatingFromObservable=!1}});var c={};e.each(u,function(e,t){void 0==l[e]&&(c[e]=u[e])}),widget.host[a](c)}widget=e.data(n)[a].instance,widget.koupdatingFromObservable=!1,widget.koupdating=!1,s.events&&e.each(s.events,function(){var o=this;e(n).on(o+"."+n.id,function(d){if(widget=e.data(n)[a].instance,!widget.koupdatingFromObservable){var u=widget;u.koupdating=!0;var l=i(),c=s.getProperty(widget,d,o,r);void 0!=c&&(l.hasOwnProperty(c.name)&&e.isFunction(l[c.name])?t.isObservable(l[c.name])&&l[c.name].push?i(c.value):l[c.name](c.value):l[c.name]&&i(c.value)),u.koupdating=!1}})})},n.update=function(n,i,o,d,r){var u=t.utils.unwrapObservable(i()),l=t.toJS(u);widget=e.data(n)[a].instance,widget.koupdating||e.each(s,function(e,n){if(widget.hasOwnProperty(e)&&l.hasOwnProperty(e)&&!widget.koupdating){widget.koupdatingFromObservable=!0;var a=!1;s.serialize&&s.serialize(widget,e)&&(t.toJSON(l[e])!=t.toJSON(s.serialize(widget,e))&&s.setProperty(widget,e,widget[e],l[e]),a=!0),a||t.toJSON(l[e])!=t.toJSON(widget[e])&&s.setProperty(widget,e,widget[e],l[e]),widget.koupdatingFromObservable=!1}})},t.bindingHandlers[s.name]=n};new t.jqwidgets.knockout({name:"jqxGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxGauge({disabled:n}),"min"==t&&e.host.jqxGauge({min:n}),"max"==t&&e.host.jqxGauge({max:n}),"value"==t&&e.host.jqxGauge({value:n})}}),new t.jqwidgets.knockout({name:"jqxLinearGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxLinearGauge({disabled:n}),"min"==t&&e.host.jqxLinearGauge({min:n}),"max"==t&&e.host.jqxLinearGauge({max:n}),"value"==t&&e.host.jqxLinearGauge({value:n})}}),new t.jqwidgets.knockout({name:"jqxSlider",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"value",value:t.args.value}},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxSlider({disabled:n}),"min"==t&&e.host.jqxSlider({min:parseFloat(n)}),"max"==t&&e.host.jqxSlider({max:parseFloat(n)}),"value"==t&&e.host.jqxSlider({value:parseFloat(n)})}}),new t.jqwidgets.knockout({name:"jqxScrollBar",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,s){if("valueChanged"==s)return{name:"value",value:parseInt(t.currentValue)}},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxScrollBar({disabled:n}),"min"==t&&e.host.jqxScrollBar({min:parseFloat(n)}),"max"==t&&e.host.jqxScrollBar({max:parseFloat(n)}),"value"==t&&e.host.jqxScrollBar({value:parseFloat(n)})}}),new t.jqwidgets.knockout({name:"jqxProgressBar",disabled:!1,value:0,reset:function(){this.value=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,s){if("valueChanged"==s)return{name:"value",value:parseInt(t.currentValue)}},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxProgressBar({disabled:n}),"value"==t&&e.host.jqxProgressBar({value:parseFloat(n)})}}),new t.jqwidgets.knockout({name:"jqxButton",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxButton({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxCheckBox",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"checked",value:t.args.checked}},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxCheckBox({disabled:n}),"checked"==t&&s!=n&&e.host.jqxCheckBox({checked:n})}}),new t.jqwidgets.knockout({name:"jqxRadioButton",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"checked",value:t.args.checked}},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxRadioButton({disabled:n}),"checked"==t&&s!=n&&e.host.jqxRadioButton({checked:n})}}),new t.jqwidgets.knockout({name:"jqxDateTimeInput",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,s){if("valueChanged"==s)return{name:"value",value:t.args.date}},setProperty:function(e,t,s,n){"value"==t&&e.setDate(n),"disabled"==t&&e.host.jqxDateTimeInput({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxCalendar",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,s){if("valueChanged"==s)return{name:"value",value:t.args.date}},setProperty:function(e,t,s,n){"value"==t&&e.setDate(n),"disabled"==t&&e.host.jqxCalendar({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxNumberInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,s){if("valueChanged"==s)return{name:"value",value:e.val()}},setProperty:function(e,t,s,n){"value"==t&&e.host.jqxNumberInput("val",n),"disabled"==t&&e.host.jqxNumberInput({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxMaskedInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,s){if("valueChanged"==s)return{name:"value",value:e.val()}},setProperty:function(e,t,s,n){"value"==t&&e.host.jqxMaskedInput("val",n),"disabled"==t&&e.host.jqxMaskedInput({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxListBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,s){if("change"==s)return this.selectedIndex=e.selectedIndex,{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,s,n){if("source"==t&&(e.source=n,e.refresh()),"disabled"==t&&(e.disabled=n,e._renderItems()),"selectedIndex"==t){var a=e.disabled;e.disabled=!1,e.selectIndex(n),e.disabled=a,a&&e._renderItems()}}}),new t.jqwidgets.knockout({name:"jqxDropDownList",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,s,n){"source"==t&&e.host.jqxDropDownList({source:n}),"disabled"==t&&e.host.jqxDropDownList({disabled:n}),"selectedIndex"==t&&e.host.jqxDropDownList({selectedIndex:n})}}),new t.jqwidgets.knockout({name:"jqxComboBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"selectedIndex",value:e.selectedIndex}},setProperty:function(e,t,s,n){"source"==t&&e.host.jqxComboBox({source:n}),"disabled"==t&&e.host.jqxComboBox({disabled:n}),"selectedIndex"==t&&e.host.jqxComboBox({selectedIndex:n})}}),new t.jqwidgets.knockout({name:"jqxInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"value",value:e.host.val()}},setProperty:function(e,t,s,n){"source"==t&&e.host.jqxInput({source:n}),"disabled"==t&&e.host.jqxInput({disabled:n}),"value"==t&&e.host.jqxInput({value:n})}}),new t.jqwidgets.knockout({name:"jqxComplexInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"value",value:e.host.val()}},setProperty:function(e,t,s,n){"source"==t&&e.host.jqxComplexInput({source:n}),"disabled"==t&&e.host.jqxComplexInput({disabled:n}),"value"==t&&e.host.jqxComplexInput({value:n})}}),new t.jqwidgets.knockout({name:"jqxFormattedInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"value",value:e.host.val()}},setProperty:function(e,t,s,n){"source"==t&&e.host.jqxFormattedInput({source:n}),"disabled"==t&&e.host.jqxFormattedInput({disabled:n}),"value"==t&&e.host.jqxFormattedInput({value:n})}}),new t.jqwidgets.knockout({name:"jqxPasswordInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,s){if("change"==s)return{name:"value",value:e.host.val()}},setProperty:function(e,t,s,n){"source"==t&&e.host.jqxPasswordInput({source:n}),"disabled"==t&&e.host.jqxPasswordInput({disabled:n}),"value"==t&&e.host.jqxPasswordInput({value:n})}}),new t.jqwidgets.knockout({name:"jqxTree",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"source"==t&&e.host.jqxTree({source:n}),"disabled"==t&&e.host.jqxTree({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxTabs",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"disabled"==t&&e.host.jqxTabs({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxWindow",disabled:!1,content:"",title:"",reset:function(){this.disabled=!1,this.title="",this.content=""},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"disabled"==t?e.host.jqxWindow({disabled:n}):"content"==t?e.host.jqxWindow("setContent",n):"title"==t&&e.host.jqxWindow({title:n})}}),new t.jqwidgets.knockout({name:"jqxNavigationBar",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"disabled"==t&&n!=this.disabled&&(this.disabled=n,e.host.jqxNavigationBar({disabled:n}))}}),new t.jqwidgets.knockout({name:"jqxMenu",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"source"==t&&e.host.jqxMenu({source:n}),"disabled"==t&&e.host.jqxMenu({disabled:n})}}),new t.jqwidgets.knockout({name:"jqxChart",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"source"==t&&(this.source=n,e.host.jqxChart({source:n})),"disabled"==t&&(this.disabled=n,e.host.jqxChart({disabled:n}))}}),new t.jqwidgets.knockout({name:"jqxDataTable",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"source"==t&&(this.source=n,e.host.jqxDataTable({source:n})),"disabled"==t&&(this.disabled=n,e.host.jqxDataTable({disabled:n}))}}),new t.jqwidgets.knockout({name:"jqxTreeGrid",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"source"==t&&(this.source=n,e.host.jqxTreeGrid({source:n})),"disabled"==t&&(this.disabled=n,e.host.jqxTreeGrid({disabled:n}))}}),new t.jqwidgets.knockout({name:"jqxKnob",value:0,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"value"==t&&(this.value=n,e.host.jqxKnob({value:n})),"disabled"==t&&(this.disabled=n,e.host.jqxKnob({disabled:n}))}}),new t.jqwidgets.knockout({name:"jqxScheduler",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"source"==t&&(this.source=n,e.host.jqxScheduler({source:n})),"disabled"==t&&(this.disabled=n,e.host.jqxScheduler({disabled:n}))}}),new t.jqwidgets.knockout({name:"jqxKanban",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"source"==t&&(this.source=n,e.host.jqxKanban({source:n})),"disabled"==t&&(this.disabled=n,e.host.jqxKanban({disabled:n}))}}),new t.jqwidgets.knockout({name:"jqxGrid",source:null,disabled:!1,selectedRowIndex:-1,reset:function(){this.disabled=!1,this.source=null,this.selectedRowIndex=-1},serialize:function(e,t){return!("source"!=t||!e.source||!e.source._source)&&e.source.records},events:["cellvaluechanged","cellselect","rowselect"],getProperty:function(s,n,a,i){if("cellvaluechanged"==a){var o=s.host.jqxGrid("getrowid",n.args.rowindex),d=s.host.jqxGrid("getrowdata",o),r=i.source;if(void 0!=r){var u={},l={},c=!1,h=!1;return r()[o]&&e.each(r()[o],function(e,s){u[e]=s,l[e]="",t.isObservable(s)&&!t.isComputed(s)&&(c=!0,s(d[e])),t.isObservable(s)&&t.isComputed(s)&&(h=!0)}),c?(u=d,r.replace&&r.replace(r()[o],u)):(u=d,r.replace&&(r.replace(r()[o],l),r.replace(r()[o],u))),h&&s.host.jqxGrid("updaterow",o,t.toJS(r)[o]),{name:"source",value:r}}}},setProperty:function(s,n,a,i){if("selectedRowIndex"==n&&s.host.jqxGrid("selectrow",i),"source"==n)if(null==this.source||null==i){if(this.source!=i){this.source=i;var o={localdata:i,datatype:"local"},d=new e.jqx.dataAdapter(o);s.host.jqxGrid({source:d})}}else{o={localdata:i,datatype:"local"};if((d=new e.jqx.dataAdapter(o)).dataBind(),!a.records||!d.records)return;var r=Math.max(a.records.length,d.records.length),u=Math.abs(a.records.length-d.records.length);if(0==u&&r>10)return void s.host.jqxGrid({source:d});u>1&&s.host.jqxGrid("beginupdate");for(var l=new Array,c=0;c<r;c++){var h=d.records[c];if(void 0==h){g=s.host.jqxGrid("getrowid",c);l.push(g)}else if(void 0!=a.records[c]){if(t.toJSON(h)!=t.toJSON(a.records[c])){if(void 0!=a.records[c].uid&&(h.uid=a.records[c].uid,t.toJSON(h)==t.toJSON(a.records[c])))continue;var g=s.host.jqxGrid("getrowid",c);s.host.jqxGrid("updaterow",g,h)}}else s.host.jqxGrid("addrow",null,h)}l.length>0&&s.host.jqxGrid("deleterow",l),u>1&&s.host.jqxGrid("endupdate")}"disabled"==n&&s.host.jqxGrid({disabled:i})}}),new t.jqwidgets.knockout({name:"jqxBulletChart",pointer:{value:0},target:{value:0},disabled:!1,reset:function(){this.pointer.value=0,this.target.value=0,this.disabled=!1},getProperty:function(e,t,s){},setProperty:function(e,t,s,n){"pointer"==t&&e.host.jqxBulletChart({pointer:n}),"target"==t&&e.host.jqxBulletChart({target:n}),"disabled"==t&&e.host.jqxBulletChart({disabled:n})}})}(jqxBaseFramework,ko)}catch(e){var er=e}



