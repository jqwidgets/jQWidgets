/*
jQWidgets v5.1.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){"use strict";e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.jqxWidget("jqxScheduler","",{}),e.extend(e.jqx._jqxScheduler.prototype,{defineInstance:function(){var t={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:359,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new e.jqx.date(0),max:new e.jqx.date(9999,12,31),date:new e.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:369,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===e.jqx._jqxScheduler.prototype?t:(e.extend(!0,this,t),this.that=this,t)},createInstance:function(t){var i=this;i._views=new Array,i._view=i.view;for(o=0;o<i.views.length;o++)"string"===e.type(i.views[o])?i._views.push({type:i.views[o]}):i._views.push(i.views[o]);for(var o=0;o<i._views.length;o++)if(i._views[o].type==i.view){i._view=o;break}15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var r=i.source._source.datafields;r&&r.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-scheduler")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content jqx-disableselect")),i._testmodules()||(i.overlay=e("<div style='z-index: 999; position:absolute;'></div>"),i.overlay.hide(),i.overlay.appendTo(i.host),i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),o=e(window).height();i._hostWidth=null,i._hostHeight=null;var r=i.host.width(),n=i.host.height();i._hostWidth=r,i._hostHeight=n,i._lastHostWidth==r&&i._lastHostHeight==n||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=n),i._lastWidth=t,i._lastHeight=o,i._lastHostWidth=r,i._lastHostHeight=n}),i.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=e("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,e(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var o=i.find("button");o.jqxButton({theme:t.theme,width:"50%",height:30});var r=!1;o.mousedown(function(){r=!0,this.id.indexOf("editRecurringAppointmentOccurrence")>=0?t.editSeries(!1):t.editSeries(!0),e(i).jqxWindow("close")}),this.addHandler(e(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(e(i),"keydown",function(t){if(13==t.keyCode&&e(document.activeElement).ischildof(e(i))&&"button"==document.activeElement.nodeName.toLowerCase())return e(document.activeElement).trigger("mousedown"),e(document.activeElement).trigger("mouseup"),!0}),this.addHandler(e(i),"close",function(e){if(!r)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;r=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,o=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,o.days&&(t=o.days);break;case"weekView":case"timelineWeekView":t=7,o.days&&(t=o.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,o.days&&(t=o.days);break;case"agendaView":t=7,o.days&&(t=o.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||i>6)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){var e=this.date;e<this.min&&(e=this.min),e>this.max&&(e=this.max);var t=this._views[this._view].type;this._views[this._view];switch(e=e.clearTime(),t){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return e}var i=e.day();return e=e.addDays(1-i)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var o=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(o=!0),o?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=function(){""!=t.length&&(t+=",")};this.host.jqxScrollBar||(i(),t+=" jqxscrollbar.js"),this.host.jqxButton||(i(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(i(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(i(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(i(),t+=" jqxcalendar.js");try{Globalize||(i(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updatesize:function(t,i){if(!this._loading){var o=this,r=o.host.width(),n=o.host.height();o._oldWidth||(o._oldWidth=r),o._oldHeight||(o._oldHeight=n),void 0!=o._resizeTimer&&(clearTimeout(o._resizeTimer),o._resizeTimer=null);var s=function(){o._resizeTimer&&clearTimeout(o._resizeTimer),o.resizingGrid=!0,e.jqx.isHidden(o.host)||(o._updatecolumnwidths(),o.refresh(),o._oldWidth=r,o._oldHeight=n,o.resizingGrid=!1)};s(),o._resizeTimer=setTimeout(function(){var e=o.host.width(),t=o.host.height();o._oldWidth==e&&o._oldHeight==t||s()},300)}},resize:function(e,t){void 0!=e&&(this.width=e),void 0!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchMode?(t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t):0==this.touchMode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=t){for(var o in this.schedulerLocalization)t[o]&&(this.schedulerLocalization[o]=t[o]);t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;("auto"===i.width||null===i.width||i.autowidth)&&999999==i.maxWidth&&(t=!0);var o=i._views[i._view].type,r=i._views[i._view];if("monthView"==o&&i.resources&&"none"==i.resources.orientation&&!r.monthRowAutoHeight){l=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(l!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var n=parseInt(i.scrollBarSize),s=i.table?i.table.height():0,a=0,l=i.vScrollBar[0].style.visibility;i.hScrollBar[0].style.visibility;if(e)d=e;else var d=i.host.height();i.columnGroups?d-=i.showHeader?i.columnsheader.height():0:d-=i.showHeader?i.columnsHeight:0,i.filterable&&(d-=i.filter.height()),i.pageable&&(d-=i.pagerHeight,"both"===i.pagerPosition&&(d-=i.pagerHeight)),i.showToolbar&&(d-=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(d-=i.legendHeight);var h=!1;("auto"===i.height||null===i.height||i.autoheight)&&999999==i.maxHeight&&(h=!0),!h&&s>d&&i.getRows().length>0?(i.vScrollBar[0].style.visibility="inherit",a=4+parseInt(n),i.vScrollBar.jqxScrollBar({max:s-d})):i.vScrollBar[0].style.visibility="hidden",l!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();var c=i.table?i.table.width():0;c>4&&(c-=4);var p=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),u=p+i.host.width()-a;if(c>u&&!t){if(i.hScrollBar[0].style.visibility="inherit",i.hScrollBar.jqxScrollBar({max:2+p+c-u}),a=4+parseInt(n),0==n&&(a=0),!h&&s!=d){if(s>d-a+4&&i.getRows().length>0){i.hScrollBar.jqxScrollBar({max:p+c-u});var m="hidden"===i.vScrollBar[0].style.visibility;i.vScrollBar[0].style.visibility="inherit",i._updatecolumnwidths(),m&&i.hScrollBar.jqxScrollBar({max:c-u+p});var f=i.table?i.table.width():0;f>3&&(f-=3),f!=c&&(f<u?(i.hScrollBar.jqxScrollBar({max:p+f-u}),i.hScrollBar[0].style.visibility="hidden",a=0):m?f>u&&i.hScrollBar.jqxScrollBar({max:p+f-u}):i.hScrollBar.jqxScrollBar({max:c-u+p-n}))}s-d>0?i.vScrollBar.jqxScrollBar({max:s-d+a}):i.vScrollBar[0].style.visibility="hidden"}}else i.hScrollBar[0].style.visibility="hidden";0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var o=i.outerWidth()+20;return i.remove(),o},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this._hostHeight=null,this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showLegend&&this._resources.length>0?this.legendHeight:0,i+=this.showToolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var o=this.filter.find(".filterrow"),r=1;this.filter.find(".filterrow-hidden").length>0&&(r=0),i+=this.filterHeight-1+this.filterHeight*o.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var o=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==o?o=this._measureElementWidth(this.columns.records[i].text):o)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&this._resources.length>0&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.legendHeight;0==this._resources.length&&(e=0);var t=this._hostWidth?this._hostWidth:this.host.width(),i=this._hostHeight?this._hostHeight:this.host.height(),o=i;this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var r=0;if(this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition){this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=r+"px"&&(this.legendbartop[0].style.top=r+"px");var n=r+e+"px";r+=e,this.content[0].style.top!=n&&(this.content[0].style.top=r+"px")}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(o);var s=parseInt(this.scrollBarSize),a=2,l=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(l=s+4),"hidden"!=this.hScrollBar[0].style.visibility&&(a=s+4+2),0==s&&(a=0,l=0),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var d=this._arrangeAutoHeight(a-2),h=this._arrangeAutoWidth(l+1);if((d||h)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),d){var c=this._measureTopAndHeight();r=c.top,i=c.height}}var p=0;this.showLegend&&"bottom"==this.legendPosition?(a+=e,p+=e):this.showLegend&&(a+=e),this.hScrollBar[0].style.height!=s+"px"&&(this.hScrollBar[0].style.height=parseInt(s)+"px"),this.hScrollBar[0].style.top==r+i-4-s-p+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-s-p-1+"px",this.hScrollBar[0].style.left="0px");var u=this.hScrollBar[0].style.width,m=!1,f=!1;0==l?u!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",m=!0):u!=t-s-4+"px"&&(this.hScrollBar[0].style.width=t-s-4+"px",m=!0),this.vScrollBar[0].style.width!=s+"px"&&(this.vScrollBar[0].style.width=s+"px",f=!0),this.vScrollBar[0].style.height!=parseInt(i)-a+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-a+"px",f=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(s)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(s)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:s+2}));var g=this.vScrollInstance;g.disabled=this.disabled;var w=this.hScrollInstance;w.disabled=this.disabled,m&&w.refresh(),f&&g.refresh();!function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(s)+3+"px",e.bottomRight[0].style.height=parseInt(s)+4+"px"):e.bottomRight[0].style.visibility="hidden"}(this),this.content[0].style.width!=t-l+"px"&&(this.content[0].style.width=t-l+"px"),this.content[0].style.height!=i-a+3+"px"&&(this.content[0].style.height=i-a+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&this.content.css("left",l),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",r-1+i-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=o;var v=this.schedulercontent.coord();this._tableOffset=v}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)var t=e.left,e=e.top;null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,o){if(!0!==this.loadingstate){var r=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var n=this;null==t&&(t={}),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);null!=t&&(void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new e.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,this.dataview.scheduler=this,this.resourcesDataView.scheduler=this,this._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var s=1;this.resources&&this.resources.source&&(s=2);var a=0,l=function(){if(a==s){n._resourcesBinding=!1;var t=n._resources.length>1?n._resources.length:1;if(n.resources&&"horizontal"===n.resources.orientation?(n.tableColumns=t,n.tableRows=1):n.resources&&"vertical"===n.resources.orientation?(n.tableRows=t,n.tableColumns=1):(n.tableColumns=1,n.tableRows=1),n._render(),n.autoShowLoadElement&&!n._loading&&(e(n.dataloadelement).css("visibility","hidden"),e(n.dataloadelement).css("display","none")),n._updateTouchScrolling(),n._raiseEvent("bindingComplete"),o&&o(),!n.initializedcall){if(n.initializedcall=!0,n.isInitialized=!0,(null!=n.width&&-1!=n.width.toString().indexOf("%")||null!=n.height&&-1!=n.height.toString().indexOf("%"))&&n._updatesize(!0),n.ready&&n.ready(),n._rendercelltexts&&n._rendercelltexts(),n._gridRenderElement){e(n._gridRenderElement).show("slow");var i=6e3+Math.floor(4e3*Math.random()+1),l=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(l)](function(){e(n._gridRenderElement).hide("slow",function(){e(n._gridRenderElement).remove()})},i)}if("hidden"==n.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==n.vScrollBar.css("visibility")&&n.vScrollBar.css("visibility","inherit"),"visible"==n.hScrollBar.css("visibility")&&n.hScrollBar.css("visibility","inherit"),n._intervalTimer=setInterval(function(){"visible"==n.host.css("visibility")&&(n._updatesize(!0),clearInterval(n._intervalTimer))},100)}}}};this._resourcesBinding=!1,this.dataview.update=function(t){n._loading=!1,n.appointmentsByKey=new Array,n.appointments=new Array,n.uiappointments=new Array;n.source._source.datafields;for(var i=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],o=new Array,r=0;r<n.source.records.length;r++){var s=n.source.records[r],d={};for(var h in n.appointmentDataFields){v=s[n.appointmentDataFields[h]];if("from"!=h&&"to"!=h||(v=new e.jqx.date(v)),"style"==h&&v){var c=n.getAppointmentColors(v);d.color=c.color,d.background=c.background,d.borderColor=c.border}if("recurrencePattern"==h&&v&&((v=new e.jqx.scheduler.recurrencePattern(v)).timeZone=s.timeZone||n.timeZone),"recurrenceException"==h){var p=new Array;if(v){v.indexOf("EXDATE:")>=0&&(v=v.substring(v.indexOf("EXDATE:")+7));var u=new Array;v.indexOf(",")>=0?u=v.split(","):u.push(v);for(var m=0;m<u.length;m++){var f=u[m];if(f.indexOf(";")>=0){var g=f.split(";")[1];f=f.split(";")[0],g.toLowerCase().indexOf("display")>=0&&g.toLowerCase().indexOf("none")&&(d.hidden=!0)}try{"Invalid Date"!=(b=e.jqx.scheduler.utilities.untilStringToDate(f))&&(b=d.timeZone?new e.jqx.date(b,d.timeZone):n.timeZone?b.toTimeZone(n.timeZone):new e.jqx.date(b))}catch(t){b=new e.jqx.date(f,n.timeZone)}p.push(b)}}v=p}d[h]=v}for(var w in i)if(void 0==d[h=i[w]]){var v="";if("originalData"==h)continue;"ownerId"==h&&(v=null),"timeZone"==h&&(v=null),"recurrencePattern"==h&&(v=null),"recurrenceException"==h&&(v=null),"allDay"==h&&(v=!1),"draggable"==h&&(v=!0),"resizable"==h&&(v=!0),"hidden"==h&&(v=!1),"resourceId"==h&&(v=null),"from"==h&&(v=new e.jqx.date),"to"==h&&(v=(new e.jqx.date).addHours(1)),d[h]=v}d.originalData=s,n.resources&&!n.resources.source&&(n._resourcesBinding||-1==o.indexOf(d.resourceId)&&o.push(d.resourceId)),n.appointmentsByKey[s.uid]=d,n.appointments.push(d);var y=new e.jqx.scheduler.appointment(d);if(d.timeZone&&(y.from=y.from.toTimeZone(d.timeZone),y.to=y.to.toTimeZone(d.timeZone)),n.timeZone?(d.timeZone||(y.timeZone=n.timeZone),y.from=y.from.toTimeZone(n.timeZone),y.to=y.to.toTimeZone(n.timeZone)):(y.from=y.from.toTimeZone(null),y.to=y.to.toTimeZone(null)),d.jqxAppointment=y,d.recurrenceException)for(var x=0;x<d.recurrenceException.length;x++){var b=y.recurrenceException[x],A=y.clone();A.occurrenceFrom=b;var T=y.duration();n.allDay&&(T=new e.jqx.timeSpan(1e4*(n.to-n.from))),A.from=b,A.to=b.add(T),A.rootAppointment=y,A.hidden=!0,y.exceptions.push(A)}y.boundAppointment=d,y.scheduler=n,n.uiappointments.push(y)}n._resourcesBinding||(n._resources=o),a++,l()},this.resourcesDataView.update=function(e){if(n.resources.dataField){n._resources=new Array;for(var t=0;t<e.length;t++)n._resources.indexOf(e[t][n.resources.dataField])>=0||e[t][n.resources.dataField]&&n._resources.push(e[t][n.resources.dataField])}else n._resources=e;void 0==n.resources.orientation&&(n.resources.orientation="none"),a++,l()},this.dataview.databind(t),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source))}},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var o=t,r=i;r.owner=this;var n=new e.Event(o);n.owner=this,n.args=r;var s=this.host.trigger(n);return i=n.args,s},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!t)return!1;var i=this.getViewStart(),o=this.getViewEnd();if(!e.jqx.scheduler.utilities.rangeIntersection(t.from,t.to,i,o))return this.navigateTo(t.from),this._ensureAppointmentVisible(t);var r=t.id,n=e('[data-key="'+r+'"]');if(n.length>0)s=n[0];else{if(!(t.elements&&t.elements.length>0))return!1;var s=t.elements[0].element}var a=this.vScrollInstance.value,l=this.hScrollInstance.value;if(this.rtl)l=this.hScrollInstance.max-l;var d=this.element.clientHeight,h=this.element.clientWidth,c=0;this.columnGroups?c+=this.showHeader?this.columnsheader.height():0:c+=this.showHeader?this.columnsHeight:0;var p=this._views[this._view].type,u=this._views[this._view],m=0;if("dayView"==p||"weekView"==p){var f=this.showAllDayRow;!u.timeRuler||"dayView"!==p&&"weekView"!==p||void 0!=u.timeRuler.showAllDayRow&&(f=u.timeRuler.showAllDayRow),f&&(m=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var g=t.duration().days()>=1||t.allDay;if(g&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(c+=this.toolbarHeight),d-=c,this.showLegend&&this._resources.length>0&&(d-=this.legendHeight);var w=a-0,v=d+w-m,y=l-0,x=h+y,b=s,A=((b=e(b))[0].clientHeight,b.position().top-m);if(A<=w)(T=A)<0&&(T=0),(!g||g&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",T);else if(A>=v){var T=A;T<0&&(T=0),(!g||g&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",T-2)}var _=b.position().left;_=Math.round(_),b.outerWidth();if(0===Math.round(b.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),_<=y){var S=_-b.outerWidth()+0;S<0&&(S=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-_):this.hScrollBar.jqxScrollBar("setPosition",_)}_>x&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-_):this.hScrollBar.jqxScrollBar("setPosition",_))},ensureVisible:function(t,i){for(var o=this,r="date"==e.type(t)?t:t.toDate(),n=0;n<o.rows.length;n++)for(var s=0;s<o.rows[n].cells.length;s++){var a=o.rows[n].cells[s];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date");if((0,o._getDateByString)(l).valueOf()==r.valueOf())return o._ensureVisible(a)}}},_ensureVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var i=this.vScrollBar.jqxScrollBar("value"),o=this.hScrollBar.jqxScrollBar("value");this.rtl&&(o=this.hScrollBar.jqxScrollBar("max")-o);var r=this._hostHeight,n=this._hostWidth,s=0;this.columnGroups?s+=this.showHeader?this.columnsheader.height():0:s+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(s+=this.toolbarHeight),r-=s,this.showLegend&&this._resources.length>0&&(r-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var a=this._views[this._view].type,l=this._views[this._view],d=0;if("dayView"==a||"weekView"==a){var h=this.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||void 0!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow),h&&(d=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight)}var c=i-0,p=r+c-d,u=o-0,m=n+u,f=t,g=(f=e(f)).position().top-d,w=g+f.outerHeight(),v=f.position().left,y=(v=Math.round(v))+f.outerWidth();if(0===Math.round(f.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),v<=u){var x=v-f.outerWidth()+0;x<0&&(x=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-x):this.hScrollBar.jqxScrollBar("setPosition",x)}y>=m&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+y-n)):this.hScrollBar.jqxScrollBar("setPosition",2+y-n));var b=f.parent().index();if(this.tableRows>0&&b--,0===Math.round(f.position().top)||0===b)return this.vScrollBar.jqxScrollBar("setPosition",0);var A=this.table[0].rows.length-1;if(this.table[0].rows[A][0]===f.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(g<=c){var T=g;return T<0&&(T=0),this.vScrollBar.jqxScrollBar("setPosition",T)}return w>=p?this.vScrollBar.jqxScrollBar("setPosition",4+w-r+d):void 0},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var o=this.getColumn(e);if(null!=o){o[t];o[t]=i;var r=this.getColumn(e);switch(null!=r&&(r[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(o._width=null,o._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){var i=this;if(e.jqx.isHidden(i.host))return;i.table[0].style.top="0px",i.vScrollInstance.setPosition(0),i._renderrows(),i._arrange(),i._renderhorizontalscroll(),i._updateTouchScrolling(),i._refreshToolBar(),i._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],o=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||void 0!=i.timeRuler.showAllDayRow&&(o=i.timeRuler.showAllDayRow),!o||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){e.focusedCell=null;for(var r=0;r<this.rows.length;r++){for(var n=0;n<this.rows[r].cells.length;n++){var s=this.rows[r].cells[n];if(-1==s.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=s;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),o=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.schedulercontent&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,o+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(!t.dragOrResize){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date}},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var o=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=o.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var n=this.source.datafields;if(null==n&&this.source._source&&(n=this.source._source.datafields),n)for(var s=0;s<this.columns.length;s++){var a=this.columns[s];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<n.length;l++)if(n[l].name==a.datafield&&!n[l].format){n[l].format=a.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var d=this,h=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.schedulercontent&&(d.schedulercontent[0].scrollLeft=0,d.schedulercontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return h(),!1}),!0!==t&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.schedulerDataCollection(t.element):t._initializeColumns(),t.host.height(t.height),t.host.width(t.width),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.schedulercontent=t.schedulercontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.schedulercontent.remove();var i=t.columnsHeight;i=t._preparecolumnGroups(),t.columnsheader.height(i),t.content.append(t.columnsheader),t.content.append(t.schedulercontent),t._rendercolumnheaders(),t.tableheight=null,t.schedulercontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),null!=t.pinnedtable&&(t.pinnedtable.remove(),t.pinnedtable=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.pinnedtable=e('<div id="contenttable2'+t.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),t.schedulercontent.addClass(t.toTP("jqx-grid-content")),t.schedulercontent.addClass(t.toTP("jqx-widget-content")),t.schedulercontent.append(t.table),1==t.tableRows&&t.schedulercontent.append(t.pinnedtable),t._renderrows(),t._arrange(),t._resourcesElements=new Array;var o=function(i,o){i.children().remove();var i=e("<div style='margin:5px; position: relative;'></div>").appendTo(i);t._resourcesElements[o]=new Array,e.each(t._resources,function(r){var n=t.getColors(r),s=this.toString(),a=e("<div data-toggle='on' style='border-color: "+n.border+"; background: "+n.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>");a.appendTo(i);var l=e("<div class='"+t.toThemeProperty("jqx-scheduler-legend-label")+"'>"+s+"</div>");l.appendTo(i),t._resourcesElements[o][s]=a;var d=function(){"on"==a.attr("data-toggle")?t.hideAppointmentsByResource(s):t.showAppointmentsByResource(s)};t.addHandler(a,"mousedown",function(){return d(),!1}),t.addHandler(l,"mousedown",function(){return d(),!1})})};o(t.legendbarbottom,"bottom"),o(t.legendbartop,"top"),"top"==t.legendPosition?t.legendbarbottom.hide():t.legendbartop.hide(),0==t._resources.length&&(t.legendbarbottom.hide(),t.legendbartop.hide()),t.renderToolBar?t.renderToolBar(t.toolbar):t._renderToolBar(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._addHandlers(),t.clearSelection();var r=t._views[t._view].type,n=t._views[t._view],s=t.showAllDayRow;!n.timeRuler||"dayView"!==r&&"weekView"!==r||void 0!=n.timeRuler.showAllDayRow&&(s=n.timeRuler.showAllDayRow),t.focusedCell=!s||"dayView"!=r&&"weekView"!=r?t.rows[0].cells[0]:t.rows[1].cells[0],t._lastSelectedCell=t.focusedCell,t._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;e.className.indexOf("jqx-scheduler-appointment")>=0&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,o=0;o<4&&i.parentNode;o++)i.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t=this,i=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");if(i.indexOf(".")>=0)var o=i.substring(0,i.indexOf(".")),r=(i.substring(i.indexOf(".")+1),(n=t.appointmentsByKey[o]).jqxAppointment.renderedAppointments[i]);else var n=t.appointmentsByKey[i],r=n.jqxAppointment;return r},_renderToolBar:function(){var t=this,i=e('<div style="width: 100%; height: 100%; position: relative;"></div>'),o=(this.toolbarHeight-20)/2;i.css("top",o),t.toolbarLeftButton=e('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-left: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarRightButton=e('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.attr("title",t.schedulerLocalization.toolBarPreviousButtonString),t.toolbarRightButton.attr("title",t.schedulerLocalization.toolBarNextButtonString),t.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.dateTimeInput=e('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),t.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var r=e("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(t.toThemeProperty("jqx-icon-arrow-left")),t.toolbarLeftButton.wrapInner(r);var n=e("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");n.addClass(t.toThemeProperty("jqx-icon-arrow-right")),t.toolbarRightButton.wrapInner(n),t.rtl&&(t.toolbarLeftButton.css("float","right"),t.toolbarRightButton.css("float","right"),t.dateTimeInput.css("float","right")),t.addHandler(t.toolbarRightButton,"mouseenter",function(){n.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseenter",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mouseleave",function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseleave",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mousedown",function(){n.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarRightButton,"mouseup",function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarLeftButton,"mousedown",function(){r.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarLeftButton,"mouseup",function(){r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(e(document),"mouseup.pagerbuttons"+t.element.id,function(){n.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),r.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarRightButton,"click",function(){t.toolbarRightButton.jqxButton("disabled")||(t.rtl?t.navigateBackward():t.navigateForward(),t.focus())}),t.addHandler(t.toolbarLeftButton,"click",function(){t.toolbarLeftButton.jqxButton("disabled")||(t.rtl?t.navigateForward():t.navigateBackward(),t.focus())}),t.toolbar.children().remove(),t.toolbar.append(i),t.rtl?(i.append(t.toolbarRightButton),i.append(t.dateTimeInput),i.append(t.toolbarLeftButton)):(i.append(t.toolbarLeftButton),i.append(t.dateTimeInput),i.append(t.toolbarRightButton)),t.toolbarDetails=e('<div class="'+t.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),t.toolbarViews=e('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),t.rtl&&(t.toolbarDetails.css("float","right"),t.toolbarDetails.css("margin-left","0px"),t.toolbarDetails.css("margin-right","7px"),t.toolbarViews.css("margin-left","10px"),t.toolbarViews.css("margin-right","0px"),t.toolbarViews.css("float","left"));var s=new Array;t.rtl?(s.push(t.toolbarRightButton),s.push(t.dateTimeInput),s.push(t.toolbarLeftButton)):(s.push(t.toolbarLeftButton),s.push(t.dateTimeInput),s.push(t.toolbarRightButton));var a=t._views.length-1;e.each(t._views,function(i){var o="",r=i;if(t.rtl&&(r=a-i),void 0!=t._views[r].text)o=t._views[r].text;else switch(t._views[r].type){case"dayView":o=t.schedulerLocalization.dayViewString;break;case"weekView":o=t.schedulerLocalization.weekViewString;break;case"monthView":o=t.schedulerLocalization.monthViewString;break;case"agendaView":o=t.schedulerLocalization.agendaViewString;break;case"timelineDayView":o=t.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":o=t.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":o=t.schedulerLocalization.timelineMonthViewString}var n='<span data-type="'+t._views[r].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+o+"</span>",l=e(n);l.addClass(t.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),s.push(l),0==r&&(t.rtl?l.addClass(t.toTP("jqx-rc-r")):l.addClass(t.toTP("jqx-rc-l"))),r==t._views.length-1&&(t.rtl?l.addClass(t.toTP("jqx-rc-l")):l.addClass(t.toTP("jqx-rc-r"))),r===t._view&&l.addClass(t.toTP("jqx-fill-state-pressed")),l.mouseenter(function(){l.addClass(t.toTP("jqx-fill-state-hover"))}),l.mouseleave(function(){l.removeClass(t.toTP("jqx-fill-state-hover"))}),l.mousedown(function(){t._setView(r),t.focus()}),e(t.toolbarViews).append(l)}),i.append(t.toolbarDetails),i.append(t.toolbarViews),t._views.length<2&&t.toolbarViews.hide(),t.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:t.rtl,localization:t._getDateTimeInputLocalization(),firstDayOfWeek:t.schedulerLocalization.firstDay,todayString:t.schedulerLocalization.todayString,clearString:t.schedulerLocalization.clearString,showFooter:!0,height:19,width:18,renderMode:"simple"}),t.addHandler(t.dateTimeInput,"change",function(i){t.fromNavigate||(t.navigateTo(new e.jqx.date(i.args.date,t.timeZone)),t.focus())}),t.tabKeyElements=s;var l=t._views[t._view].type,d=function(i){var o=e.jqx.formatDate(t.getViewStart().toDate(),i,t.schedulerLocalization),r=e.jqx.formatDate(t.getViewEnd().toDate(),i,t.schedulerLocalization);"dayView"===l||"timelineDayView"===l?t.toolbarDetails.html(o):t.toolbarDetails.html(o+" - "+r),t.rtl?(t.toolbarDetails.addClass("jqx-rtl"),t.toolbarDetails.html("<span style='direction:rtl;'>"+r+"<span> - <span style='direction:rtl;'>"+o+"</span>")):t.toolbarDetails[0].style.direction="ltr"};d(t.toolBarRangeFormat);var h=t.toolbarViews.width()+t.toolbarDetails.width()+120;t.toolBarRangeFormat;h>t.host.width()?(d(t.toolBarRangeFormatAbbr),(h=t.toolbarViews.width()+t.toolbarDetails.width()+120)>t.host.width()&&(t.toolbarDetails.hide(),(h=t.toolbarViews.width()+120)>t.host.width()&&t.toolbarViews.hide())):t.currentToolbarFormat=t.toolBarRangeFormat},_setView:function(t){var i=this;if(i.toolbarViews.find(".jqx-fill-state-pressed").removeClass(i.toTP("jqx-fill-state-pressed")),i.rtl?e(i.toolbarViews.children()[i._views.length-1-t]).addClass(i.toTP("jqx-fill-state-pressed")):e(i.toolbarViews.children()[t]).addClass(i.toTP("jqx-fill-state-pressed")),i._view!==t){i.vScrollBar[0].style.visibility&&(i._scrollPosition||(i._scrollPosition=new Array),i._scrollPosition[i._view]=i.vScrollInstance.value);var o=i.hScrollBar[0].style.visibility;o&&(i._hscrollPosition||(i._hscrollPosition=new Array),i._hscrollPosition[i._view]=i.hScrollInstance.value);var r=i._views[i._view].type,n=i._views[t].type;i._view=t,i._refreshColumns(),i.refresh(),o!==i.hScrollBar[0].style.visibility&&(i._renderrows(),i._updateTouchScrolling()),i._scrollPosition[i._view]&&i.vScrollInstance.setPosition(i._scrollPosition[i._view]),i._hscrollPosition[i._view]&&i.hScrollInstance.setPosition(i._hscrollPosition[i._view]),i.selectedJQXAppointment&&i._ensureAppointmentVisible(i.selectedJQXAppointment);var s=i.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("viewChange",{date:i.date,from:s,to:a,oldViewType:r,newViewType:n})}},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var t=this,i=this._views[this._view].type,o=this._views[this._view],r=new e.jqx.date(this.date,t.timeZone);switch(i){case"dayView":case"timelineDayView":r=r.addDays(1),r=function(){for(;(0==r.dayOfWeek()||6==r.dayOfWeek())&&!1===o.showWeekends;)r=r.addDays(1);return r}();break;case"weekView":case"timelineWeekView":r=r.addDays(7);break;case"monthView":case"timelineMonthView":r.day();var n=r.month(),s=r.year(),a=new e.jqx.date(s,n,1);a.timeZone=t.timeZone,r=a.addMonths(1);break;case"agendaView":r=o.days?r.addDays(o.days):r.addDays(7)}return this.navigateTo(r)},navigateBackward:function(){var t=this,i=this._views[this._view].type,o=this._views[this._view],r=new e.jqx.date(this.date,t.timeZone);switch(i){case"dayView":case"timelineDayView":r=r.addDays(-1),r=function(){for(;(0==r.dayOfWeek()||6==r.dayOfWeek())&&!1===o.showWeekends;)r=r.addDays(-1);return r}();break;case"weekView":case"timelineWeekView":r=r.addDays(-7);break;case"monthView":case"timelineMonthView":r.day();var n=r.month(),s=r.year(),a=new e.jqx.date(s,n,1);a.timeZone=t.timeZone,r=a.addMonths(-1);break;case"agendaView":r=o.days?r.addDays(-o.days):r.addDays(-7)}return this.navigateTo(r)},_refreshToolBar:function(t){var i=this,o=i.getViewStart(),r=i.getViewEnd(),n=function(t){var n=e.jqx.formatDate(o.toDate(),t,i.schedulerLocalization),s=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization),a=i._views[i._view].type;if(!1===i._views[i._view].showWeekends){0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(1)),0!=o.dayOfWeek()&&6!=o.dayOfWeek()||(o=o.addDays(1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1));var n=e.jqx.formatDate(o.toDate(),t,i.schedulerLocalization),s=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization)}"dayView"===a||"timelineDayView"===a?i.toolbarDetails.html(n):i.toolbarDetails.html(n+" - "+s),i.rtl?(i.toolbarDetails.addClass("jqx-rtl"),i.toolbarDetails.html("<span style='direction:rtl;'>"+s+"<span> - <span style='direction:rtl;'>"+n+"</span>")):i.toolbarDetails[0].style.direction="ltr"};if(t)n(i._lastFormatString||i.toolBarRangeFormat);else{n(i.toolBarRangeFormat),i.toolbarDetails.show(),i.toolbarViews.show();var s=i.toolbarViews.width()+i.toolbarDetails.width()+120;s>i.host.width()&&(n(i.toolBarRangeFormatAbbr),(s=i.toolbarViews.width()+i.toolbarDetails.width()+120)>i.host.width()&&(i.toolbarDetails.hide(),(s=i.toolbarViews.width()+120)>i.host.width()&&i.toolbarViews.hide()))}},navigateTo:function(t){var i=this;if("date"==e.type(t)&&(t=new e.jqx.date(t)),!(t<this.min||t>this.max)){t.timeZone=i.timeZone,i.date=t,i._refreshToolBar(!0),i.fromNavigate=!0,i.dateTimeInput.val(t.toDate()),i.fromNavigate=!1,i._refreshColumnTitles(),i._renderrows(),i._updateFocusedCell();var o=i.getViewStart(),r=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("dateChange",{date:t,from:o,to:r})}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var o=function(e){for(var i=0;i<t.columnGroups.length;i++){var o=t.columnGroups[i];if(o.name===e)return o}return null},i=0;i<this.columnGroups.length;i++)(d=this.columnGroups[i]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(r=o(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d));for(i=0;i<this.columns.records.length;i++)if((d=this.columns.records[i]).columngroup){var r=o(d.columngroup);r&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}for(var n=0,i=0;i<this.columns.records.length;i++){s=d=this.columns.records[i];for(d.level=0;s.parent;)s=s.parent,d.level++;var s=d,a=d.level;for(n=Math.max(n,d.level);s.parent;)(s=s.parent)&&(s.level=--a)}for(var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var o=l(e.groups[i]),r=0;r<o.length;r++)t.push(o[r]);return t},i=0;i<this.columnGroups.length;i++){var d=this.columnGroups[i],h=l(d);d.columns=h;for(var c=new Array,p=0,u=0;u<h.length;u++)c.push(this.columns.records.indexOf(h[u])),h[u].pinned&&p++;if(0!=p)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var o=t._handleDelta(i);return o&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!o&&(o=!1,e.returnValue=o,o)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=(i=this.vScrollInstance.value))return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},_removeHandlers:function(){var t=this;t._mousewheelfunc&&t.removeHandler(this.host,"mousewheel",t._mousewheelfunc),t.removeHandler(e(document),"keydown.scheduler"+t.element.id),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"selectstart."+t.element.id),t.removeHandler(e(window),"jqxReady."+t.element.id),t.removeHandler(t.host,"mousewheel",t._mousewheelfunc);var i="mousedown";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown")),t.table&&t.removeHandler(t.table,"mouseleave");var o="mousemove.scheduler"+t.element.id,r="mouseup.scheduler"+t.element.id;if(t.isTouchDevice()&&!0!==t.touchMode&&(o=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+t.element.id,r=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+t.element.id),t.removeHandler(e(document),o),t.removeHandler(e(document),r),!t.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=null;window.parent&&document.referrer&&(n=document.referrer),n&&-1!=n.indexOf(document.location.host)&&t.removeHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id)}}catch(e){}t.removeHandler(t.host,o),t.removeHandler(e(document),"keydown.jqxscheduler"+t.element.id),t.removeHandler(t.host,"keydown"),t.table&&(t.removeHandler(t.table,"dblclick"),t.removeHandler(t.pinnedtable,i),t.removeHandler(t.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(t,i,o){if(t){var r=this;r.selectedAppointment&&r.clearAppointmentsSelection();var n=t.id,s=e('[data-key="'+n+'"]');if(s.length>0){r.selectedJQXAppointment=t,r.selectedAppointment=e(i?i:s[0]);var a=r._views[r._view].type;r._views[r._view];if("agendaView"==a)return void r.clearSelection();switch(s.addClass(r.toTP("jqx-scheduler-selected-appointment")),t.resizable&&s.find(".jqx-scheduler-appointment-resize-indicator").show(),a){case"dayView":e(s).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e(s).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":s.length>1&&e.each(s,function(t){r.rtl?(t>0&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),t<s.length-1&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(t>0&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),t<s.length-1&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==o)return void r.clearSelection()}r.clearSelection()}},clearAppointmentsSelection:function(){var t=this;if(t.selectedAppointment){var i=t.selectedAppointment.attr("data-key"),o=e('[data-key="'+i+'"]');o.removeClass(t.toTP("jqx-scheduler-selected-appointment")),o.find(".jqx-scheduler-appointment-resize-indicator").hide(),t.selectedAppointment=null,t.selectedJQXAppointment=null}},selectCell:function(e,t,i){for(var o=this,r=e.toDate(),n=0;n<o.rows.length;n++)for(var s=0;s<o.rows[n].cells.length;s++){var a=o.rows[n].cells[s];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),d=(0,o._getDateByString)(l);if(t&&a.getAttribute("data-end-date")){if(d.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(d.valueOf()==r.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}}o._updateCellsSelection()},selectRange:function(e,t,i,o){var r=this;e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var n=e.toDate(),s=t.toDate(),a=!1,l=0;l<r.rows.length;l++)for(var d=0;d<r.rows[l].cells.length;d++){var h=r.rows[l].cells[d];if(!o||h.getAttribute("data-view")===o){var c=h.getAttribute("data-date"),p=(0,r._getDateByString)(c);if(i&&h.getAttribute("data-end-date"))p.valueOf()>=n.valueOf()&&p.valueOf()<=s.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;p.valueOf()>=n.valueOf()&&p.valueOf()<=s.valueOf()&&(h.setAttribute("data-selected","true"),a||(r._lastSelectedCell=h,r.focusedCell=h,a=!0))}}r._updateCellsSelection()},_selectRange:function(t,i){var o=this;if("agendaView"!=o._views[o._view].type){var r=t,n=i.getAttribute("data-view");if(t.getAttribute("data-view")===n){var s=i.getAttribute("data-date"),a=r.getAttribute("data-date");if(null!=s&&null!=a){var l=i.getAttribute("data-end-date"),d=r.getAttribute("data-end-date"),h=null!=l||null!=d,c=null!=l&&null!=d,p=o._getDateByString,u=p(s),m=p(a);u<this.min.toDate()&&(u=this.min.toDate()),m<this.min.toDate()&&(m=this.min.toDate()),u>this.max.toDate()&&(u=this.max.toDate()),m>this.max.toDate()&&(m=this.max.toDate());var f=Math.min(u,m),g=Math.max(u,m),w=o.rows,v=0,y=0;v>0&&o.rtl&&(v=0,y=1);var x=w.length;if(h&&(x=1,null==t.getAttribute("data-end-date"))){m.setHours(0,0,0,0);var b=new e.jqx.date(m,o.timeZone).toString();e(r).parent().index();e.each(w[0].cells,function(){if(this.getAttribute("data-date")===b){t=this,c=null!=i.getAttribute("data-end-date")&&null!=t.getAttribute("data-end-date");var e=i.getAttribute("data-date"),o=t.getAttribute("data-date"),r=p(e),n=p(o);return f=Math.min(r,n),g=Math.max(r,n),!1}})}for(var A=0;A<x;A++){var T=w[A];if(h&&this.tableRows>1){var _=(-1+parseInt(t.getAttribute("data-view")))*(w.length/o.tableRows);S=w[_],T=w[_]}for(var S=T.cells,D=v;D<S.length-y;D++)if(S[D].getAttribute("data-view")===n&&(S[D].removeAttribute("data-selected"),c||!S[D].getAttribute("data-end-date"))){var j=S[D].getAttribute("data-date"),q=p(j).valueOf();f<=q&&q<=g&&S[D].setAttribute("data-selected","true")}}o._updateCellsSelection()}}}},findCell:function(e,t){var i=this,o=null;if(!i._tableOffset){var r=i.schedulercontent.coord();i._tableOffset=r}var n=i._tableOffset,s=n.top,a=n.left;if(t<s)return null;if(e<a)return null;if(t>s+i._hostHeight)return null;if(e>a+i._hostWidth)return null;for(var l=!1,d=i.rows,h=i._views[i._view],c=h.type,p=i.vScrollInstance.value,u=i.hScrollInstance.value,m=0;m<d.length&&!l;m++){var f=d[m].cells,g=!1;(0==m&&"dayView"==c||"weekView"==c)&&(g=i.showAllDayRow,!h.timeRuler||"dayView"!==c&&"weekView"!==c||void 0!=h.timeRuler.showAllDayRow&&(g=h.timeRuler.showAllDayRow),g&&i._allDayRowFullHeight);for(var w=0;w<f.length;w++){var v=f[w];if(0!=w||!v.getAttribute("data-time-slot")){if(v._left)var y=v._left,x=v._top,b=v._width,A=v._height;else{var y=v.offsetLeft+a,x=v.offsetTop+s,b=v.offsetWidth,A=v.offsetHeight;v._left=y,v._top=x,v._width=b,v._height=A}if(v._left=y,v._top=x,v._width=b,v._height=A,0!==b&&0!==A){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(y-=i.hScrollInstance.max-u):y-=u,x-=p,0==m&&g&&(x+=p),!(x<=t&&t<x+A))break;if(y<=e&&e<y+b){o=v,l=!0;break}}}}}return o},_removeFeedbackAndStopResize:function(){var t=this;if(t.feedback){if(t.feedback.remove(),t.feedback=null,t.pinnedfeedback.remove(),t.pinnedfeedback=null,t.feedbacks)for(var i=0;i<t.feedbacks.length;i++)t.feedbacks[i].remove();t._resizeDays=0,t._resizeStep=0,t._lastX=null,t.feedbacks=new Array,t.leftResize=!1,t.rightResize=!1,t.topResize=!1,t.bottomResize=!1,t.overlay.hide(),t.resizing=!1,t.resizeFrom=null,t._dragCell=null,t._dragStartCell=null,t.resizeTo=null,t.dragOrResize=!1,t.isMouseDown=!1,t.selectedJQXAppointment&&e('[data-key="'+t.selectedJQXAppointment.id+'"]').removeClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(t,i,o,r){var n=this;if(!1===t)if(i.isException()){for(var s=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,a=0;a<s.length;a++)if(s[a].occurrenceFrom.equals(i.occurrenceFrom)){s[a]=i;break}}else i.rootAppointment.recurrenceException||(i.rootAppointment.recurrenceException=new Array),null!=i.rootAppointment?(i.rootAppointment.exceptions.push(i),i.rootAppointment.recurrenceException.push(i.occurrenceFrom)):(i.exceptions.push(i),i.recurrenceException.push(i.occurrenceFrom));else if(!0===t){if(i.isException())for(var s=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,a=0;a<s.length;a++)if(s[a].occurrenceFrom.equals(i.occurrenceFrom)){for(var l=0;l<i.rootAppointment.recurrenceException.length;l++)if(i.rootAppointment.recurrenceException[l].equals(s[a].occurrenceFrom)){i.from;c=new e.jqx.date(s[a].occurrenceFrom.year(),s[a].occurrenceFrom.month(),s[a].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());i.rootAppointment.recurrenceException[l]=c;break}s[a]=i;i.from;c=new e.jqx.date(s[a].occurrenceFrom.year(),s[a].occurrenceFrom.month(),s[a].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second());s[a].occurrenceFrom=c;break}if(null!=i.rootAppointment){i.rootAppointment.recurrencePattern=i.rootAppointment.recurrencePattern.createNewPattern();var d=i.rootAppointment.from,h=i.rootAppointment.duration(),c=null;switch(i.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":c=new e.jqx.date(d.year(),d.month(),d.day(),i.from.hour(),i.from.minute(),i.from.second())}r?(i.rootAppointment.from=d,i.rootAppointment.to=d.add(i.duration())):(i.rootAppointment.from=c,i.rootAppointment.to=c.add(h)),i.rootAppointment.allDay=i.allDay,i.rootAppointment.resourceId=i.resourceId,i.rootAppointment.color=i.color,i.rootAppointment.borderColor=i.borderColor,i.rootAppointment.background=i.background,i.rootAppointment.timezone=i.timezone,i.rootAppointment.subject=i.subject,i.rootAppointment.description=i.description,i.rootAppointment.location=i.location,i.rootAppointment.category=i.category,i.rootAppointment.status=i.status,n.resizing?i.rootAppointment.recurrencePattern.setFrom(d):i.rootAppointment.recurrencePattern.setFrom(c)}else i.recurrencePattern=i.recurrencePattern.createNewPattern(),i.recurrencePattern.setFrom(i.from);var p=e(o).attr("data-view"),u=n._resources[parseInt(p)-1];null!=u&&(null!=i.rootAppointment?i.rootAppointment.resourceId=u:i.resourceId=u)}},_handleMouseUp:function(t,i,o){var r=this;clearInterval(r._verticalIntervalDragVelocity),clearInterval(r._horizontalIntervalDragVelocity),clearInterval(r._intervalDrag),clearInterval(r._horizontalIntervalDrag);var n=t,s=!1;if(o?r.resizeTo?n.to.equals(r.resizeTo)&&(s=!0):r.resizeFrom&&n.from.equals(r.resizeFrom)&&(s=!0):r._dragStartCell==i&&(s=!0),s)return e('[data-key="'+t.id+'"]').removeClass(r.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void r._removeFeedbackAndStopResize();var a=n.duration(),l=n.duration().days()>=1||n.allDay,d=function(t,n){if(n.allDay||l)var s=r.getMaxAllDayAppointments(r.appointmentsToRender);if(o)r.resizeTo?(r.resizeTo>r.max&&(r.resizeTo=r.max),r.resizeTo<r.min&&(r.resizeTo=r.min),n.to=r.resizeTo):r.resizeFrom&&(r.resizeFrom>r.max&&(r.resizeFrom=r.max),r.resizeFrom<r.min&&(r.resizeFrom=r.min),n.from=r.resizeFrom),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else{var d=r._views[r._view].type,h=r._views[r._view],c=e(i).attr("data-date"),p=null!=e(i).attr("data-end-date"),u=new e.jqx.date(c,r.timeZone);if(u<r.min&&(u=r.min),u>r.max&&(u=r.max),r.rtl&&l&&p)n.to=e.jqx.scheduler.utilities.getEndOfDay(u);else if(!r.rtl||"monthView"!=d&&"timelineMonthView"!=d)if(!r.rtl||"timelineDayView"!=d&&"timelineWeekView"!=d)n.from=u;else{f=r.getMinutesPerScale();n.to=u.addMinutes(f)}else n.to=e.jqx.scheduler.utilities.getEndOfDay(u);if("dayView"===d||"weekView"===d)if(l||p){if(!l&&p)n.to=e.jqx.scheduler.utilities.getEndOfDay(u),n.allDay=!0;else if(l&&p&&!r.rtl)n.to=u.add(a),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else if(l&&p&&r.rtl)n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a))),0==n.from.hour()&&0==n.from.minute()&&23==n.to.hour()&&59==n.to.minute()&&(n.allDay=!0);else if(l&&!p){var m=30;switch(h.timeRuler&&h.timeRuler.scale){case"sixtyMinutes":case"hour":m=60;break;case"fifteenMinutes":case"quarterHour":m=15;break;case"tenMinutes":m=10;break;case"fiveMinutes":m=5}n.to=u.addMinutes(m),n.allDay=!1}}else n.to=u.add(a),n.allDay=!1;else if("monthView"===d)r.rtl?n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a))):n.to=u.add(a);else if("timelineDayView"===d||"timelineWeekView"===d||"timelineMonthView"===d)if(r.rtl)if("timelineMonthView"==d)n.from=e.jqx.scheduler.utilities.getStartOfDay(n.to.add(new e.jqx.timeSpan(-a)));else{var f=r.getMinutesPerScale();n.from=u.addMinutes(f).add(new e.jqx.timeSpan(-a))}else n.to=u.add(a)}r._saveChangesAfterDragOrResize(t,n,i,r.resizing);var d=e(i).attr("data-view"),g=r._resources[parseInt(d)-1];null!=g&&(n.resourceId=g),r.resizing=!1,r.resizeFrom=null,r._dragCell=null,r.resizeTo=null;var w={},v={};for(var y in r.appointmentDataFields){var x=r.appointmentDataFields[y],b=n[y];w[y]=b,"from"!=y&&"to"!=y||(b=b.toDate()),v[x]=b}if(w.jqxAppointment=n,w.originalData=v,n.boundAppointment=w,r._raiseEvent("appointmentChange",{appointment:n.boundAppointment}),r.changedAppointments[n.id]={type:"Update",appointment:n.boundAppointment},r.table.find(".jqx-icon-arrow-down").hide(),"monthView"==r._views[r._view].type&&r._views[r._view].monthRowAutoHeight)r._renderrows();else if("weekView"!=r._views[r._view].type&&"dayView"!=r._views[r._view].type||!n.allDay&&!l){var A=r.getViewStart(),T=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(A,T),r._renderAppointments(A,T)}else if(r.tableRows>1)r._renderrows();else{var A=r.getViewStart(),T=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(A,T),r._renderAppointments(A,T);var _=r.getMaxAllDayAppointments(r.appointmentsToRender);if(_!=s){var S=_*(r._defaultRowHeight-2);S=r.isTouchDevice()?Math.max(22+r._defaultRowHeight,17+S):Math.max(3*r._defaultRowHeight,17+S),1==r.tableRows?e(e(r.table[0].rows[0]).find("td")).css("height",S+"px"):e(e(r.table[0].rows[1]).find("td")).css("height",S+"px"),e(r.oldRow).find("td").css("height",S+"px"),e(r.pinnedTableRow).find("td").css("height",S+"px"),r.pinnedtable.height(S),r._updateScrollbars(r._hostHeight?r._hostHeight:r.host.height())}}r._removeFeedbackAndStopResize()};n.isRecurrentAppointment()?d(!1,n):d(null,n)},_handleDayWeekViewResize:function(t,i,o,r,n){var s=this,a=(s._views[s._view].type,s._views[s._view]);if(n.duration().days()>=1||n.allDay||o.getAttribute("data-end-date")){var l=function(e){return!(e<s.cellWidth-10)},d=a.appointmentsRenderMode&&"exactTime"==a.appointmentsRenderMode;if(n.allDay||!d){if(s.leftResize)s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2?l(p=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left-s.cellWidth)&&(s.feedback.css("left",5+r.left+s.cellWidth),s.feedback.width(p-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+r.left+s.cellWidth),s.pinnedfeedback.width(p-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)).addDays(-1):s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(1)):t<s._lastResizeX-e(o).width()/2&&l(p=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left)&&(s.feedback.css("left",5+r.left),s.feedback.width(p-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+r.left),s.pinnedfeedback.width(p-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)):s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone));else if(s.rightResize){s._lastResizeX||(s._lastResizeX=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left);var h=e(o).width()/2;if(t>s._lastResizeX+h){c=e(o).width()+r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;l(p=s.selectedAppointmentTableBounds.width+c)&&(s.feedback.hide(),s.feedback.width(p-6),s.feedback.css("left",5+r.left),s.pinnedfeedback.width(p-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+c+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))}else if(t<s._lastResizeX-h){var c=r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,p=s.selectedAppointmentTableBounds.width+c;l(p)&&(s.feedback.hide(),s.feedback.css("left",5+r.left),s.feedback.width(p-6),s.pinnedfeedback.width(p-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+c+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(1):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone).addDays(-1)))}}}else{var u=new Array,m=new Array,f=-1,g=-1,w=this.host.coord().left,v=0,y=s.hScrollInstance.value;if(s.rtl)y=s.hScrollInstance.max-s.hScrollInstance.value;"hidden"==s.hScrollBar[0].style.visibility&&(y=0);for(var x=t+y,b=0;b<this.columns.records.length;b++)this.columns.records[b].timeColumn&&(s.rtl||(w+=this.columns.records[b].width,v++));for(var A=s.getViewStart(),T=s.getViewEnd(),b=0;b<this._getColumnsLengthPerView();b++){_=this.columns.records[b+v].width;s.leftResize?(s.rtl||(u.push(w),m.push(A.addDays(b)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&w<s.selectedAppointmentTableBounds.left&&w+_>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),m.push(n.from),f=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&w<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&w+_>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),m.push(n.to),g=u.length-1)),s.rtl&&(u.push(w),m.push(T.addDays(-b-1)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&w<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&w+_>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),m.push(n.from),f=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&w<s.selectedAppointmentTableBounds.left&&w+_>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),m.push(n.to),g=u.length-1)),w+=_):s.rtl?((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&w<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&w+_>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),m.push(n.from),f=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&w<s.selectedAppointmentTableBounds.left&&w+_>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),m.push(n.to),g=u.length-1),w+=_,u.push(w),m.push(T.addDays(-b-1))):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&w<s.selectedAppointmentTableBounds.left&&w+_>s.selectedAppointmentTableBounds.left&&(u.push(s.selectedAppointmentTableBounds.left),m.push(n.from),f=u.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&w<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&w+_>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(u.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),m.push(n.to),g=u.length-1),w+=_,u.push(w),m.push(A.addDays(b)))}if(s.leftResize){for(b=0;b<u.length;b++){r=u[b];if((B=u[b+1])||(B=r),R=b<u.length-1?x>=r&&x<=B:x>=r){var _=-r+s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width,S=s.pinnedfeedback.width(),D=s.pinnedfeedback.css("left"),j=s.resizeTo,q=s.resizeFrom;_>0&&(s.pinnedfeedback.css("left",r),s.pinnedfeedback.width(_),b==f?s.rtl?s.resizeTo=n.from:s.resizeFrom=n.from:b==g?s.rtl?s.resizeTo=n.to:s.resizeFrom=n.to:s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(m[b]):s.resizeFrom=m[b])}}var C=s.resizeFrom,k=s.resizeTo;s.rtl?C=n.from:k=n.to,(z=new e.jqx.timeSpan(1e4*(k-C))).days()<1&&(s.pinnedfeedback.css("left",D),s.pinnedfeedback.width(S),s.resizeFrom=q,s.resizeTo=j)}else if(s.rightResize){for(b=0;b<u.length;b++){var r=u[b],B=u[b+1];B||(B=r);var R=b<u.length-1?t>=r-this.cellWidth/3&&t<=B-this.cellWidth/3:t>=r-this.cellWidth/3;if(R){var _=r-s.selectedAppointmentTableBounds.left-15,S=s.pinnedfeedback.width();s.pinnedfeedback.width(_);var j=s.resizeTo,q=s.resizeFrom;if(b==f){s.rtl?s.resizeFrom=n.from:s.resizeTo=n.from;_=r-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(_);break}if(b==g){s.rtl?s.resizeFrom=n.to:s.resizeTo=n.to;_=r-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(_);break}s.rtl?s.resizeFrom=m[b]:s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(m[b]);break}}var C=s.resizeFrom,k=s.resizeTo;s.rtl?k=n.to:C=n.from;var z=new e.jqx.timeSpan(1e4*(k-C));z.days()<1&&(s.pinnedfeedback.width(S),s.resizeFrom=q,s.resizeTo=j)}}}else{var H=function(e){return!(e<10)},P=s.findCell(s.feedback.coord().left,i);if(s.topResize)if(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),i>s._lastResizeY+e(o).height()/2){if(H(V=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-r.top-e(o).height()-3)){s.feedback.css("top",2+r.top+e(o).height()),s.feedback.height(V),s._lastResizeY=s.feedback.coord().top;var M=new e.jqx.date(P.getAttribute("data-date"),s.timeZone);s.resizeFrom=M.addMinutes(s.getMinutesPerScale())}}else i<s._lastResizeY-e(o).height()/2&&H(V=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-r.top-3)&&(s.feedback.css("top",2+r.top),s.feedback.height(V),s._lastResizeY=s.feedback.coord().top,s.resizeFrom=new e.jqx.date(P.getAttribute("data-date"),s.timeZone));else if(s.bottomResize)if(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),i>s._lastResizeY+e(o).height()/2){c=-5+e(o).height()+r.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top;H(V=s.selectedAppointmentTableBounds.height+c)&&(s.feedback.height(V),s._lastResizeY=s.selectedAppointmentTableBounds.height+c+s.feedback.coord().top,s.resizeTo=new e.jqx.date(P.getAttribute("data-date"),s.timeZone).addMinutes(s.getMinutesPerScale()))}else if(i<s._lastResizeY-e(o).height()/2){var c=-5+r.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top,V=s.selectedAppointmentTableBounds.height+c;H(V)&&(s.feedback.height(V),s._lastResizeY=s.selectedAppointmentTableBounds.height+c+s.feedback.coord().top,s.resizeTo=new e.jqx.date(P.getAttribute("data-date"),s.timeZone))}}},_handleTimelineMonthViewResize:function(t,i,o,r,n){var s=this,a=(s._views[s._view].type,s._views[s._view],function(e){return!(e<10)}),l=s.findCell(t,s.feedback.coord().top);if(n.allDay){if(s.leftResize)s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2?a(h=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left-e(o).width())&&(s.feedback.css("left",r.left+e(o).width()),s.feedback.width(h),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(-1)):s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(1)):t<s._lastResizeX-e(o).width()/2&&a(h=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left)&&(s.feedback.css("left",r.left),s.feedback.width(h),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone)):s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone));else if(s.rightResize)if(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2){d=e(o).width()+r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;a(h=s.selectedAppointmentTableBounds.width+d-5)&&(s.feedback.width(h),s._lastResizeX=s.selectedAppointmentTableBounds.width+d+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone)))}else if(t<s._lastResizeX-e(o).width()/2){var d=r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,h=s.selectedAppointmentTableBounds.width+d-5;a(h)&&(s.feedback.width(h),s._lastResizeX=s.selectedAppointmentTableBounds.width+d+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(1):s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),s.timeZone).addDays(-1)))}}else{for(var c=new Array,p=new Array,u=-1,m=-1,f=this.host.coord().left,g=0,w=0;w<this.columns.records.length;w++)this.columns.records[w].timeColumn&&(f+=this.columns.records[w].width,g++);v=s.hScrollInstance.value;if(s.rtl)var v=s.hScrollInstance.max-s.hScrollInstance.value;"hidden"==s.hScrollBar[0].style.visibility&&(v=0);for(var y=t+v,x=s.getViewStart(),b=s.getViewEnd(),w=(this._getColumnsLengthPerView(),0);w<this._getColumnsLengthPerView();w++){A=this.columns.records[w+g].width;s.leftResize?(c.push(f),s.rtl?p.push(b.addDays(-w)):p.push(x.addDays(w)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<s.selectedAppointmentTableBounds.left&&f+A>s.selectedAppointmentTableBounds.left&&(c.push(s.selectedAppointmentTableBounds.left),p.push(n.from),u=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&f+A>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(c.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),p.push(n.to),m=c.length-1),f+=A):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&f<s.selectedAppointmentTableBounds.left&&f+A>s.selectedAppointmentTableBounds.left&&(c.push(s.selectedAppointmentTableBounds.left),p.push(n.from),u=c.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&f<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&f+A>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(c.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width),p.push(n.to),m=c.length-1),f+=A,c.push(f),s.rtl?p.push(b.addDays(-w-1)):p.push(x.addDays(w)))}if(s.leftResize){for(w=0;w<c.length;w++){C=c[w];if((k=c[w+1])||(k=C),B=w<c.length-1?y>=C&&y<=k:y>=C){var A=-C+s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width,T=s.feedback.width(),_=s.feedback.css("left"),S=s.resizeTo,D=s.resizeFrom;s.feedback.css("left",C),s.feedback.width(A),w==u?s.rtl?s.resizeTo=n.from:s.resizeFrom=n.from:w==m?s.rtl?s.resizeTo=n.to:s.resizeFrom=n.to:s.rtl?s.resizeTo=p[w]:s.resizeFrom=p[w]}}var j=s.resizeFrom,q=s.resizeTo;s.rtl?j=n.from:q=n.to;new e.jqx.timeSpan(1e4*(q-j));s.feedback.width()<20&&(s.feedback.css("left",_),s.feedback.width(T),s.resizeFrom=D,s.resizeTo=S)}else if(s.rightResize){for(w=0;w<c.length;w++){var C=c[w],k=c[w+1];k||(k=C);var B=w<c.length-1?y>=C-this.cellWidth/3&&y<=k-this.cellWidth/3:y>=C-this.cellWidth/3;if(B){var A=C-s.selectedAppointmentTableBounds.left-12,T=s.feedback.width();s.feedback.width(A);var S=s.resizeTo,D=s.resizeFrom;if(w==u){s.rtl?s.resizeFrom=n.from:s.resizeTo=n.from;A=C-s.selectedAppointmentTableBounds.left;s.feedback.width(A);break}if(w==m){s.rtl?s.resizeFrom=n.to:s.resizeTo=n.to;A=C-s.selectedAppointmentTableBounds.left;s.feedback.width(A);break}s.rtl?s.resizeFrom=p[w]:s.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(p[w]);break}}var j=s.resizeFrom,q=s.resizeTo;s.rtl?q=n.to:j=n.from;new e.jqx.timeSpan(1e4*(q-j));s.feedback.width()<20&&(s.feedback.width(T),s.resizeFrom=D,s.resizeTo=S)}}},_handleMonthViewResize:function(t,i,o,r,n){var s=this;if(s.selectedJQXAppointment){s._views[s._view].type;var a=s._views[s._view],l=-5;s.tableColumns>1&&(l=parseInt(-5/s.tableColumns));for(T=0;T<s.columns.records.length/s.tableColumns;T++)s.columns.records[T].timeColumn||(l+=s.columns.records[T].width);var d=s.selectedJQXAppointment.resourceId,h=s._resources.indexOf(d);s.resources&&"none"==s.resources.orientation&&(h=-1);var c="0px";-1!=h&&1==s.tableRows&&(c=l*h+"px"),a.showWeekNumbers&&(s.rtl||(c=parseInt(c)+s.columns.records[0].width+"px"));var p=o.offsetWidth,u=(o.offsetHeight,18);s.isTouchDevice()&&(u=2);for(T=0;T<6;T++)s.feedbacks[T][0].style.left=c,s.feedbacks[T][0].style.width=l+"px",s.feedbacks[T][0].style.display="block",s.feedbacks[T][0].style.top=parseInt(s.rows[T].top)+u+"px",s.tableRows>1&&(s.feedbacks[T][0].style.top=parseInt(s.rows[6*h+T].top)+u+"px"),e(s.feedbacks[T][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var m=s.selectedJQXAppointment.elements,f=(m[0].cells[0].cell,m[m.length-1]),g=f.lastCellY,w=f.lastCellX,v=m[0].cellY,y=m[0].cellX,x=parseInt(r.top),b=parseInt(r.left);if(s.rtl){if(s.leftResize){for(var A=!1,T=0;T<6;T++){var _=s.feedbacks[T],S=parseInt(_[0].style.top)-u;parseInt(_[0].style.left);if(S<x)_[0].style.width=l+"px";else for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.width=m[R].width+"px",_[0].style.top=m[R].y+"px");var D=m[0],j=parseInt(D.x);if(S==v?(_[0].style.left=j+"px",x==v?(_[0].style.left=1+r.left+"px",_[0].style.width=-1+D.x+D.width-r.left+"px",r.left>D.x+D.width&&(_[0].style.width=D.width+"px",_[0].style.left=D.x+"px"),"exactTime"!=a.appointmentsRenderMode||s.selectedJQXAppointment.allDay||t-(C=s.host.coord().left)>=D.x-10&&t-C<=D.cellX+s.cellWidth&&(_[0].style.width=D.width+"px",_[0].style.left=D.x+"px",A=!0)):x<v?(_[0].style.left=j+"px",_[0].style.width=D.width+"px"):x>v&&(_[0].style.left=c,_[0].style.width=D.x+D.width-parseInt(c)+"px")):S==x&&(_[0].style.width=l-r.left+parseInt(c)+"px",_[0].style.left=r.left+"px"),S<v&&(_[0].style.display="none"),S>x&&(_[0].style.display="none"),x<v)for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.display="block",_[0].style.width=m[R].width+"px",_[0].style.left=m[R].x+"px");if(x==v)for(R=0;R<m.length;R++){z=m[R].cellY;(x<v||x==v)&&z==S&&v!=g&&(_[0].style.left=1+r.left+parseInt(c)+"px",1+r.left+parseInt(c)>D.x+D.width&&(_[0].style.left=D.x+"px"),_[0].style.width=-1+D.x+D.width-r.left+"px")}}(k=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!A?s.resizeTo=k:s.resizeTo=s.selectedJQXAppointment.to}else if(s.rightResize){for(var q=!1,T=0;T<6;T++){var _=s.feedbacks[T],S=parseInt(_[0].style.top)-u;parseInt(_[0].style.left);S<x&&(_[0].style.width=l+"px");for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.top=m[R].y+"px");var D=m[0],j=parseInt(D.x);if(S==v)if(_[0].style.left=j+"px",x==v)if(b>=y){if(_[0].style.width=b+p-j-5+"px","exactTime"==a.appointmentsRenderMode&&!s.selectedJQXAppointment.allDay){var C=s.host.coord().left;t-C>=D.lastCellX&&t-C<=D.x+D.width+15&&(_[0].style.width=D.width+"px",q=!0)}}else _[0].style.width=D.width+"px";else x>v?(_[0].style.left=j+"px",_[0].style.width=D.width+"px"):x<v&&(_[0].style.left=j+"px",_[0].style.width=l-j+parseInt(c)+"px");else S==x&&(_[0].style.width=b+p-5-parseInt(c)+"px");if(S>g&&(_[0].style.display="none"),S<x&&(_[0].style.display="none"),x>g)for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.display="block"),S==g&&(_[0].style.width=m[R].width+"px",_[0].style.left=m[R].x+"px");if(x<=g&&S==g)for(R=0;R<m.length;R++){z=m[R].cellY;S!=x&&z==S&&v!=g?(_[0].style.width=m[R].width+"px",_[0].style.left=m[R].x+"px"):S==x&&z==S&&v!=g&&(_[0].style.left=m[R].x+"px",_[0].style.width=b+p-5-parseInt(c)-m[R].x+"px")}}var k=new e.jqx.date(o.getAttribute("data-date"),s.timeZone);k<s.selectedJQXAppointment.to&&!q?s.resizeFrom=k:s.resizeFrom=s.selectedJQXAppointment.from}}else if(s.leftResize){for(var q=!1,T=0;T<6;T++){var _=s.feedbacks[T],S=parseInt(_[0].style.top)-u;parseInt(_[0].style.left);if(S<x){_[0].style.width=l+"px";for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.top=m[R].y+"px")}else for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.width=m[R].width+"px",_[0].style.top=m[R].y+"px");var D=m[0],j=parseInt(D.x);if(S==v)if(_[0].style.left=j+"px",x==v){if(_[0].style.left=1+r.left+"px",_[0].style.width=-1+D.x+D.width-r.left+"px","exactTime"==a.appointmentsRenderMode&&!s.selectedJQXAppointment.allDay){var B=s.cellWidth-(D.x-y);t-(C=s.host.coord().left)>=D.x&&t-C<=D.x+B+2&&(_[0].style.left=j+"px",_[0].style.width=D.width+"px",q=!0)}}else x>v?(_[0].style.left=j+"px",_[0].style.width=D.width+"px"):x<v&&(_[0].style.left=c,_[0].style.width=D.x+D.width-parseInt(c)+"px");else S==x&&(_[0].style.width=l-r.left+parseInt(c)+"px",_[0].style.left=r.left+"px");if(S>g&&(_[0].style.display="none"),S<x&&(_[0].style.display="none"),x>=g)for(R=0;R<m.length;R++){z=m[R].cellY;x>g||x==g&&b>w?z==S&&(_[0].style.display="block",_[0].style.width=m[R].width+"px",_[0].style.left=m[R].x+"px"):x==g&&b<=w&&v!=g&&(_[0].style.width=m[R].width-r.left+parseInt(c)+"px")}}(k=new e.jqx.date(o.getAttribute("data-date"),s.timeZone))<s.selectedJQXAppointment.to&&!q?s.resizeFrom=k:s.resizeFrom=s.selectedJQXAppointment.from}else if(s.rightResize){for(var A=!1,T=0;T<6;T++){var _=s.feedbacks[T],S=parseInt(_[0].style.top)-u;parseInt(_[0].style.left);S<x&&(_[0].style.width=l+"px");for(R=0;R<m.length;R++)(z=m[R].cellY)==S&&(_[0].style.top=m[R].y+"px");var D=m[0],j=parseInt(D.x);if(S==v?(_[0].style.left=j+"px",x==v?b>=y?(_[0].style.width=b+p-j-5+"px","exactTime"!=a.appointmentsRenderMode||s.selectedJQXAppointment.allDay||t-(C=s.host.coord().left)>=w&&t-C<=D.x+D.width+15&&(_[0].style.width=D.width+"px",A=!0)):_[0].style.width=D.width+"px":x<v?(_[0].style.left=j+"px",_[0].style.width=D.width+"px"):x>v&&(_[0].style.left=j+"px",_[0].style.width=l-j+parseInt(c)+"px")):S==x&&(_[0].style.width=b+p-5-parseInt(c)+"px"),S<v&&(_[0].style.display="none"),S>x&&S>v&&(_[0].style.display="none"),x<=v)for(var R=0;R<m.length;R++){var z=m[R].cellY;(x<v||x==v&&b<y)&&z==S&&(_[0].style.display="block",_[0].style.width=m[R].width+"px")}}(k=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(o.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!A?s.resizeTo=k:s.resizeTo=s.selectedJQXAppointment.to}for(var H=new Array,T=0;T<6;T++)"block"==(_=s.feedbacks[T])[0].style.display&&H.push(_);e.each(H,function(t){s.rtl?(t>0&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(t>0&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),t<H.length-1&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(t,i,o,r,n){var s=this,a=(s._views[s._view].type,s._views[s._view],s.getMinutesPerScale()),l=function(e){return!(e<10)},d=s.findCell(t,s.feedback.coord().top);if(s.leftResize)s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2?l(c=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left-e(o).width())&&(s.feedback.css("left",2+r.left+e(o).width()),s.feedback.width(c),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone):s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a)):t<s._lastResizeX-e(o).width()/2&&l(c=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-r.left)&&(s.feedback.css("left",2+r.left),s.feedback.width(c),s._lastResizeX=s.feedback.coord().left,s.rtl?s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a):s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone));else if(s.rightResize)if(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),t>s._lastResizeX+e(o).width()/2){h=e(o).width()+r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left;l(c=s.selectedAppointmentTableBounds.width+h)&&(s.feedback.width(c),s._lastResizeX=s.selectedAppointmentTableBounds.width+h+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone):s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a))}else if(t<s._lastResizeX-e(o).width()/2){var h=r.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,c=s.selectedAppointmentTableBounds.width+h;l(c)&&(s.feedback.width(c),s._lastResizeX=s.selectedAppointmentTableBounds.width+h+s.feedback.coord().left,s.rtl?s.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),s.timeZone).addMinutes(a):s.resizeTo=new e.jqx.date(d.getAttribute("data-date"),s.timeZone))}},_handleResize:function(t,i,o,r,n){var s=this,a=s._views[s._view].type,l=s._views[s._view];"dayView"===a||"weekView"===a?s._handleDayWeekViewResize(t,i,o,r,n):"timelineMonthView"===a?s._handleTimelineMonthViewResize(t,i,o,r,n):"monthView"===a?s._handleMonthViewResize(t,i,o,r,n):"timelineDayView"!==a&&"timelineWeekView"!==a||s._handleTimelineDayWeekViewResize(t,i,o,r,n),"timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a?(clearInterval(s._horizontalIntervalDrag),s._horizontalIntervalDrag=setInterval(function(){var e=s.host.width(),i=s.host.coord().left+25,o=e+i-45;s.rtl?t>o?s.hScrollInstance.setPosition(s.hScrollInstance.value-5):t<i&&s.hScrollInstance.setPosition(s.hScrollInstance.value+5):t<i?s.hScrollInstance.setPosition(s.hScrollInstance.value-5):t>o&&s.hScrollInstance.setPosition(s.hScrollInstance.value+5)},5)):"dayView"!==a&&"weekView"!==a||(clearInterval(s._intervalDrag),s._intervalDrag=setInterval(function(){var t=s.host.height(),o=0;s.columnGroups?o+=s.showHeader?s.columnsheader.height():0:o+=s.showHeader?s.columnsHeight:0,s.showToolbar&&(o+=s.toolbarHeight),t-=o;var r=s.legendHeight;0==s._resources.length&&(r=0),s.showLegend&&(t-=r);var d=o+s.host.coord().top,h=s.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||void 0!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow);var c=n.duration().days()>=1||n.allDay;h&&c?d-=20:h&&s.resizing&&(d+=e(s.table[0].rows[0]).height(),t-=e(s.table[0].rows[0]).height());var p=d+25,u=t+p-45;i<p?s.vScrollInstance.setPosition(s.vScrollInstance.value-5):i>u&&s.vScrollInstance.setPosition(s.vScrollInstance.value+5)},5)),s.resizing=!0},_startTimers:function(t,i,o){var r=this,n=r.host.coord(),s=0,a=0;"hidden"!=r.hScrollInstance.element.style.visibility&&(clearInterval(r._horizontalIntervalDragVelocity),r._horizontalIntervalDragVelocity=setInterval(function(){++s>40&&(s=40)},100),clearInterval(r._horizontalIntervalDrag),r._horizontalIntervalDrag=setInterval(function(){var e=r._hostWidth,i=n.left+30,o=e+i-60;r.rtl?t<i?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+s):t>o?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-s):s=0:t<i?r.hScrollInstance.setPosition(r.hScrollInstance.value-10-s):t>o?r.hScrollInstance.setPosition(r.hScrollInstance.value+10+s):s=0},10)),"hidden"!=r.vScrollInstance.element.style.visibility&&(clearInterval(r._verticalIntervalDragVelocity),r._verticalIntervalDragVelocity=setInterval(function(){++a>40&&(a=40)},100),clearInterval(r._intervalDrag),r._intervalDrag=setInterval(function(){var t=r._hostHeight,s=0;r.columnGroups?s+=r.showHeader?r.columnsheader.height():0:s+=r.showHeader?r.columnsHeight:0;var l=r._views[r._view].type,d=r._views[r._view];r.showToolbar&&(s+=r.toolbarHeight),t-=s,r.showLegend&&r._resources.length>0&&(t-=r.legendHeight);var h=n.top,c=s+h;if("dayView"==l||"weekView"==l){var p=r.showAllDayRow;!d.timeRuler||"dayView"!==l&&"weekView"!==l||void 0!=d.timeRuler.showAllDayRow&&(p=d.timeRuler.showAllDayRow);var u=o.duration().days()>=1||o.allDay;p&&u?c-=20:p&&r.resizing&&(c+=e(r.table[0].rows[0]).height())}var m=h+t+s-30;i<c+30?r.vScrollInstance.setPosition(r.vScrollInstance.value-10-a):i>m?r.vScrollInstance.setPosition(r.vScrollInstance.value+10+a):a=0},10))},_hoverCell:function(e){var t=this;return!t.enableHover||(t._resources.length>0&&e.className.indexOf("pinned")>=0||(e.className.indexOf("time-column")>=0||(e.className.indexOf("jqx-scheduler-disabled-cell")>=0||(!(!e||e!=t.hoveredCell)||(t.hoveredCell=e,!e||(t._removeHoveredCell(),t.hoveredCell=e,e.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e=this;if(e.hoveredCell){var t=e.hoveredCell;!function(i){var o=t.className;o=(o=(o=o.replace(" "+e.toTP("jqx-fill-state-hover"),"")).replace(" "+e.toTP("jqx-grid-cell-hover"),"")).replace(" "+e.toTP("jqx-scheduler-cell-hover"),""),t.className=o,t.jqxClassName=o}()}e.hoveredCell=null},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.focused=!1;var i=!1;this.addHandler(e(document),"keydown.scheduler"+t.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!t.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(o){if(!t.focusedCell||t.selectedAppointment||i||e(t.focusedCell).addClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!0,i)if(t.appointmentsToRender.length>0){var r=t.appointmentsToRender[t.appointmentsToRender.length-1];t._selectAppointment(r),t._lastSelectedAppointment=r}else if(t.focusedCell){if(t.focusedCell&&-1==t.focusedCell.className.indexOf("-focus"))return t._updateCellsSelection(),!1}else t._updateFocusedCell()}),this.addHandler(this.host,"blur",function(i){if(t.focusedCell){if(document.activeElement==t.element)return!0;if(e(document.activeElement).ischildof(t.host))return!0;e(t.focusedCell).removeClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.showToolBar||!e(i.target).ischildof(t.toolbar))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||void 0!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var o=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),o?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){t._htimer&&clearTimeout(t._htimer),o?t.table&&t._renderhorizontalscroll():t._htimer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},1)};var r="mousedown";this.isTouchDevice()&&(r=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(r="mousedown")),this.addHandler(this.table,"mouseleave",function(e){t._removeHoveredCell()}),t.isTouchDevice()&&(t.enableHover=!1);var n="mousemove.scheduler"+this.element.id,s="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&!0!==this.touchMode&&(n=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(e(document),n,function(i){var o=i.pageX,r=i.pageY;if(t.isTouchDevice()&&(o=(g=e.jqx.position(i)).left,r=g.top,(isNaN(o)||isNaN(r))&&(o=(g=e.jqx.position(i.originalEvent)).left,r=g.top)),t.disabled||3===i.which)return!0;if(!t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hostWidth){var n=t.host.coord();if(n.left+t._hostWidth<o||o<n.left)return!0;if(n.top+t._hostHeight<r||r<n.top)return!0}if(t.mouseDownPosition&&(Math.abs(t.mouseDownPosition.left-o)>=3&&Math.abs(t.mouseDownPosition.left-o)<=10||Math.abs(t.mouseDownPosition.top-r)>=3&&Math.abs(t.mouseDownPosition.top-r)<=10)&&(t.dragOrResize=!0),t.selectedAppointment&&t.dragOrResize){var s=null;if(t._hasOpenedMenu)return!0;if(t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var a=t._views[t._view].type,l=t._views[t._view],d=!1;if("td"===i.target.nodeName.toLowerCase())h=i.target;else var h=t.findCell(o,r);if(!h)return!0;if(void 0!=h.getAttribute("data-time-slot"))return!0;if(h.className.indexOf("jqx-grid-cell-pinned")>=0)return!0;if(!t.feedback){if(!(s=t.getJQXAppointmentByElement(t.selectedAppointment)).draggable&&!s.resizable)return s=null,!0;if(t.beginDrag&&!(z=t.beginDrag(s)))return!0;var c=e('[data-key="'+s.id+'"]'),p=t.selectedAppointment.position();t.feedback=t.selectedAppointment.clone(!0),t.pinnedfeedback=t.selectedAppointment.clone(!0);var u=!("row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing),m=function(e){u&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),c.addClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(t.toTP("jqx-scheduler-feedback-appointment")),e.addClass(t.toTP("jqx-scheduler-feedback-drag-appointment")),u?e.css("z-index",401):e.css("z-index",400)};if(m(t.feedback),m(t.pinnedfeedback),"monthView"!=t._views[t._view].type||u){if(t.table.append(t.feedback),1==t.tableRows?t.pinnedtable.append(t.pinnedfeedback):t.table.append(t.pinnedfeedback),t.feedback.css("left",p.left),t.feedback.css("top",p.top),t.pinnedfeedback.css("left",p.left),t.pinnedfeedback.css("top",p.top),"monthView"==t._views[t._view].type&&t.isTouchDevice()){t.feedbacks=new Array;for(f=0;f<6;f++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[f]).hide(),t.table.append(e(t.feedbacks[f]))}}else{t.feedbacks=new Array;for(var f=0;f<6;f++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[f]).hide(),t.table.append(e(t.feedbacks[f]))}}if(t.dragging&&!1===(z=t.dragging(s,h,t.feedback)))return!0;var g=e(h).position();if(t.endDrag)var w=t.feedback.css("left"),v=t.feedback.css("top"),y=t.feedback.width(),x=t.feedback.height;s||(s=t.selectedJQXAppointment),s||(t.selectAppointment(t.uiappointments[0].id),s=t.selectedJQXAppointment);var b=s.resourceId,A=t._resources.indexOf(b);t.resources&&"none"==t.resources.orientation&&(A=-1);var T=!1,_=t.isTouchDevice();if(_&&!0!==t.touchMode&&null==t._dragCell&&!(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing))switch(a){case"dayView":case"weekView":(d=s.duration().days()>=1||s.allDay)?(o>=t.selectedAppointmentBounds.left-15&&o<=t.selectedAppointmentBounds.left+15&&(T=!0,t.leftResize=!0),o>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&o<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(T=!0,t.rightResize=!0)):(r>=t.selectedAppointmentBounds.top-15&&r<=t.selectedAppointmentBounds.top+15&&(T=!0,t.topResize=!0),r>=t.selectedAppointmentBounds.top-15+t.selectedAppointmentBounds.height&&r<=t.selectedAppointmentBounds.top+t.selectedAppointmentBounds.height+15&&(T=!0,t.bottomResize=!0));break;default:o>=t.selectedAppointmentBounds.left-15&&o<=t.selectedAppointmentBounds.left+15&&(T=!0,t.leftResize=!0),o>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&o<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(T=!0,t.rightResize=!0)}if(_&&(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing)||T){if(h.getAttribute("data-view")!=A+1&&t._resources.length>0&&"none"!=t.resources.orientation)return!0;if((S=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||S>t.max.toDate())return;t._handleResize(o,r,h,g,s),t._oldResizeTD=h}else if(!_&&"row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing){if(h.getAttribute("data-view")!=A+1&&t._resources.length>0&&t.resources&&"none"!=t.resources.orientation)return!0;if((S=t._getDateByString(h.getAttribute("data-date")))<t.min.toDate()||S>t.max.toDate())return;t._handleResize(o,r,h,g,s),t._oldResizeTD=h}else{if(!s.draggable)return t._removeFeedbackAndStopResize(),!0;if(t._dragCell==h)return t._startTimers(o,r,s),t.isTouchDevice()&&!0!==t.touchMode?(i.stopPropagation(),!1):void 0;var S=t._getDateByString(h.getAttribute("data-date"));if(S<t.min.toDate()||S>t.max.toDate())return;var D=s.duration();if(a.indexOf("month")>=0&&new e.jqx.date(S).add(D)>t.max)return;var j="hidden"==t.vScrollBar[0].style.visibility?0:6+t.vScrollBar.outerWidth();if(t._dragCell=h,t.feedback[0].style.left=2+g.left+"px",t.feedback[0].style.top=2+g.top+"px","dayView"===a||"weekView"===a){t.pinnedfeedback.css("left",2+g.left),t.pinnedfeedback.css("top",2+g.top);var q=0;if(h.getAttribute("data-end-date")){var C=t.appointmentsMinHeight;if(t.isTouchDevice()&&(C=t.touchAppointmentsMinHeight),l.appointmentHeight&&(C=l.appointmentHeight),d=s.duration().days()>=1||s.allDay,t.feedback.css("top",2+g.top+C),t.pinnedfeedback.css("top",2+g.top+18),"dayView"==a){var k=t.selectedAppointment.coord().left-9;t.feedback.css("left",k),t.pinnedfeedback.css("left",k)}d?(t.pinnedfeedback.css("top",s.elements[0].y),q=t.selectedAppointment.width(),2+g.left+q>t.host.width()-j&&(q-=2+g.left+q-t.host.width()+j+6),t.feedback.width(q),t.feedback.height(C),t.pinnedfeedback.width(q),t.pinnedfeedback.height(C)):(q=e(h).width()-4,t.feedback.width(q),t.feedback.height(C),t.pinnedfeedback.width(q),t.pinnedfeedback.height(C)),t.feedback.hide(),t.pinnedfeedback.show()}else{t.feedback.show(),t.pinnedfeedback.hide();switch(l.timeRuler&&l.timeRuler.scale){case"sixtyMinutes":case"hour":1;break;case"thirtyMinutes":case"halfHour":2;break;case"fifteenMinutes":case"quarterHour":4;break;case"tenMinutes":6;break;case"fiveMinutes":12}q=e(h).width()-4,t.feedback.width(q),(d=s.duration().days()>=1||s.allDay)?t.feedback.height(e(h).height()-6):t.feedback.height(t.selectedAppointment.height())}t._startTimers(o,r,s)}else if("monthView"===a){t.feedback.css("left",1+g.left);B=t.selectedAppointmentTableBounds;(R=parseInt(B.top))>g.top&&R<g.top+h.offsetHeight?t.feedback.css("top",R+"px"):t.feedback.css("top",t.selectedAppointment.height()+g.top-2),t.isTouchDevice()&&t.feedback.css("top",g.top+2),q=t.selectedAppointment.width(),t.feedback.width(q),t.feedback.height(t.selectedAppointment.height()),t._startTimers(o,r,s)}else if("timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a){var B=t.selectedAppointmentTableBounds,R=parseInt(B.top);R>g.top&&R<g.top+h.offsetHeight&&t.feedback.css("top",R+"px"),t._startTimers(o,r,s)}}if(t.endDrag){var z=t.endDrag(s,h,t.feedback);return z||t.feedback.width(y),t.feedback.height(x),t.feedback.css("top",v),t.feedback.css("left",w),!0}if(t.isTouchDevice()&&!0!==t.touchMode)return i.stopPropagation(),!1}});var a=function(e){if(t.isMouseDown=!1,t.dragOrResize=!1,t.contextMenu&&t.menu&&3!==e.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),3===e.which)return!0;if(t.selectedAppointment&&t.feedback){if(t.editRecurrenceDialog.jqxWindow("isOpen"))return;t._handleMouseUp(t.selectedJQXAppointment,t._dragCell,t.resizing)}};if(this.addHandler(e(document),s,function(e){return a(e)}),!this.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var l=null;if(window.parent&&document.referrer&&(l=document.referrer),l&&-1!=l.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id,function(e){if(!t.disabled)return a(e)})}}}catch(e){}this.addHandler(this.host,n,function(i){var o=i.pageX,r=i.pageY;if(t.disabled||3===i.which)return!0;if(t.selectedAppointment&&t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hasOpenedMenu)return!0;if("none"!==t.overlay[0].style.display)return!0;var n=null;i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(n=i.target);for(var s=i.target,a=0;a<4&&s.parentNode;a++)s.className.indexOf("jqx-scheduler-appointment")>=0&&-1==s.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(n=s),s=s.parentNode;if(n){var l=t._views[t._view].type,d=(t._views[t._view],t.getJQXAppointmentByElement(n));if(d.resizable){var h=d.duration(),c=d.allDay||h.days()>=1||23==h.hours()&&59==h.minutes&&59==h.seconds,p=e(n).coord(),u=e(n).position();t.selectedAppointmentBounds={top:p.top,left:p.left,width:e(n).width(),height:e(n).height()},t.selectedAppointmentTableBounds={top:u.top,left:u.left,width:e(n).width(),height:e(n).height()};g=t.selectedAppointmentBounds;if("weekView"==l||"dayView"==l)c?"dayView"!=l?o>=g.left-3&&o<=g.left+6?(n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):o>=g.left+g.width-6&&o<=g.left+g.width+3?(n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):n.style.cursor="pointer":n.style.cursor="pointer":r>=g.top-3&&r<=g.top+6?(n.style.cursor="row-resize",t.topResize=!0,t.bottomResize=!1):r>=g.top+g.height-6&&r<=g.top+g.height+3?(n.style.cursor="row-resize",t.topResize=!1,t.bottomResize=!0):n.style.cursor="pointer";else if("monthView"==l&&d.elements.length>1)for(var m=t.table.coord(),a=0;a<d.elements.length;a++){var f=d.elements[a],g={top:m.top+f.y,left:m.left+f.x,width:f.width,height:f.height};if(0==a&&!t.rtl||a==d.elements.length-1&&t.rtl)if(o>=g.left-3&&o<=g.left+6){if(r>=g.top&&r<=g.top+g.height){n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1,t.selectedAppointment=e(n);break}n.style.cursor="pointer"}else n.style.cursor="pointer";else if(a==d.elements.length-1&&!t.rtl||0==a&&t.rtl)if(o>=g.left+g.width-6&&o<=g.left+g.width+3){if(r>=g.top&&r<=g.top+g.height){n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0,t.selectedAppointment=e(n);break}n.style.cursor="pointer"}else n.style.cursor="pointer"}else o>=g.left-3&&o<=g.left+6?(n.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):o>=g.left+g.width-6&&o<=g.left+g.width+3?(n.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):n.style.cursor="pointer"}}if(!t.enableHover)return!0;if("td"===i.target.nodeName.toLowerCase())w=i.target;else var w=t.findCell(o,r);if(!w)return!0;if(t._removeHoveredCell(),t.renderedRecords&&0===t.renderedRecords.length)return!0;if(t.isMouseDown){if(Math.abs(t.mousecaptureposition.left-o)>3||Math.abs(t.mousecaptureposition.top-r)>3){if(0===t.mousecaptureposition.clickedcell.length)return void(t.selectionarea[0].style.visibility="hidden");t.lastHoveredCell!=w&&(t._selectRangeTimer&&clearTimeout(t._selectRangeTimer),t._selectRangeTimer=setTimeout(function(){"agendaView"!=t._views[t._view].type&&t._selectRange(w,t.mousecaptureposition.clickedcell[0])},1)),t.lastHoveredCell=w}}else if(!n){if(1==t.rows.length&&1==t.rows[0].cells.length)return!0;t._hoverCell(w)}return!0}),this.addHandler(e(document),"keydown.jqxscheduler"+t.element.id,function(e){if(t.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)});var d=function(i){i.target;n=null;if(t.disabled)return!0;t.menu||3!=i.which||t._initMenu();t.table.coord();var o=i.pageX,r=i.pageY;e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(o=arguments[1].pageX,r=arguments[1].pageY),t.isTouchDevice()&&(o=(w=e.jqx.position(i)).left,r=w.top,(isNaN(o)||isNaN(r))&&(o=(w=e.jqx.position(i.originalEvent)).left,r=w.top)),t.mouseDown={top:r,left:o};n=t.findCell(o,r);if("td"===i.target.nodeName.toLowerCase())n=i.target;else var n=t.findCell(o,r);var s=t._views[t._view].type,a=t._views[t._view];if("monthView"===s&&a.weekViewNavigation&&n&&n.getAttribute("data-time-slot")){var l=t._getDateByString(n.getAttribute("data-date")),d=new e.jqx.date(l);t.date=d,t.setView("weekView")}if("monthView"===s&&a.dayViewNavigation){var h=e(n).coord().top;if(n&&r>=h&&h+16>=r){var l=t._getDateByString(n.getAttribute("data-date")),d=new e.jqx.date(l);t.date=d,t.setView("dayView")}}if("span"===i.target.nodeName.toLowerCase()&&(i.target.className.indexOf("jqx-icon-arrow-down")>=0||i.target.className.indexOf("jqx-icon-close")>=0))return i.target.mousedown&&i.target.mousedown(),!0;var c=e(n).parent(),p=c.attr("data-key");t.mousecaptureposition={left:i.pageX,top:i.pageY,clickedrow:e(c).index(),clickedcell:e(n)},3!==i.which?(t.isMouseDown=!0,t.isMouseDownDate=new Date):t.isMouseDown=!1,t.contextMenu&&t.menu&&3!==i.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);var u=function(e){if(3===i.which&&t.contextMenu&&t.menu){e?t.menu.find("li:first").show():t.menu.find("li:first").hide();var o=t.menu.coord();if("block"==t.menu.css("display")&&o.left==i.pageX&&o.top==i.pageY)return t._hasOpenedMenu=!0,i.preventDefault(),void i.stopPropagation();t.menuOpening=!0,t.menu.jqxMenu("open",i.pageX,i.pageY),t.menuOpening=!1,t._hasOpenedMenu=!0,i.preventDefault(),i.stopPropagation(),setTimeout(function(){t.menu.jqxMenu("focus")},50)}},m=function(){for(var e=0;e<T.length;e++)for(var t=T[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")},f=i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")?e(i.target):e(i.target).parents(".jqx-scheduler-appointment");if(0==f.length&&(f=null),f&&-1==f[0].className.indexOf("feedback")){if(f.parents(".jqx-scheduler-month-cell-popup").length>0)return!0;t.mouseDownPosition={top:r,left:o};var g=e(f).coord();t.selectedAppointmentBounds={top:g.top,left:g.left,width:e(f).width(),height:e(f).height()};var w=e(f).position();t.selectedAppointmentTableBounds={top:w.top,left:w.left,width:e(f).width(),height:e(f).height()},t._dragStartCell||(t._dragStartCell=t.findCell(g.left,g.top));x=t.getJQXAppointmentByElement(f);t._selectAppointment(x,f,"mouse"),t._raiseEvent("appointmentClick",{appointment:x.boundAppointment}),t.clearSelection();var v=(new Date).getTime(),y=300;return e.jqx.browser.msie&&e.jqx.browser.version<9&&(y=1e3),t.clickTime||(t.clickTime=new Date),v-t.clickTime.getTime()<y&&t._lastSelectedAppointment&&x.id==t._lastSelectedAppointment.id&&3!=i.which?(x.readOnly||t.editRecurrenceDialog.jqxWindow("isOpen")||t._editDialog&&(!t._editDialog||t._editDialog.jqxWindow("isOpen"))||!1!==(b=t._initDialog(x))&&t._openDialog(),t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:x.boundAppointment})):x.readOnly||3!==i.which&&t.focus(),t._lastSelectedAppointment=x,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,void(x.readOnly||3==i.which&&u(!0))}if(3===i.which)if(null!==t.getSelection())u(!1);else{t.clearAppointmentsSelection(),n.setAttribute("data-selected","true"),t._lastSelectedCell=n,t.focusedCell=n,t._updateCellsSelection(n),u(!1);A=new e.jqx.date(n.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:n,date:A})}else 3!=i.which&&t.clearAppointmentsSelection();if("agendaView"==t.view&&(f=-1!=i.target.className.indexOf("jqx-scheduler-agenda-appointment"))){f=i.target;var x=t.getJQXAppointmentByElement(f);t._selectAppointment(x,f,"mouse"),t._raiseEvent("appointmentClick",{appointment:x.boundAppointment});var v=(new Date).getTime(),y=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(y=1e3),t.clickTime||(t.clickTime=new Date),v-t.clickTime.getTime()<y&&t._lastSelectedAppointment&&x.id==t._lastSelectedAppointment.id&&3!=i.which){if(!x.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen"))){var b=t._initDialog(x);!1!==b&&t._openDialog()}t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:x.boundAppointment})}t._lastSelectedAppointment=x,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,x.readOnly||3==i.which&&u(!0)}if(void 0!==p&&3!=i.which){t.clickedTD=n;A=new e.jqx.date(n.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:n,date:A});if(t.rowinfo[p]){var v=(new Date).getTime(),y=300;if(t.clickTime||(t.clickTime=new Date),t.focus(),t._lastSelectedCell&&"true"==t._lastSelectedCell.getAttribute("data-selected")&&"true"===n.getAttribute("data-selected")&&v-t.clickTime.getTime()<y){var A=new e.jqx.date(n.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellDoubleClick",{cell:n,date:A}),!0,t._initDialog(),t._openDialog(),i.preventDefault&&i.preventDefault()}}var T=t.rows;if("true"!=n.getAttribute("data-selected")||i.shiftKey||v-t.clickTime.getTime()>y){if("true"==n.getAttribute("data-time-slot"))return;i.shiftKey||(t.shiftSelectedCell=null),i.shiftKey&&t._lastSelectedCell&&"agendaView"!=s&&(t.shiftSelectedCell||(t.shiftSelectedCell=t._lastSelectedCell),n.getAttribute("data-view")===t.shiftSelectedCell.getAttribute("data-view")&&m(),t._selectRange(n,t.shiftSelectedCell)),i.shiftKey||(m(),(l=t._getDateByString(n.getAttribute("data-date")))>=t.min.toDate()&&l<=t.max.toDate()?n.setAttribute("data-selected","true"):n.setAttribute("data-selected","false")),e('[data-key="'+p+'"]').removeClass(t.toTP("jqx-scheduler-selected-appointment")),t.selectedAppointment=null,(l=t._getDateByString(n.getAttribute("data-date")))>=t.min.toDate()&&l<=t.max.toDate()&&(t._lastSelectedCell=n,t.focusedCell=n),t._updateCellsSelection(n),t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}t.clickTime=new Date,i.stopPropagation&&i.stopPropagation()}};this.addHandler(this.pinnedtable,r,function(e){var t=d(e);if(void 0!=t)return t}),this.addHandler(this.table,r,function(e){var t=d(e);if(void 0!=t)return t})},moveAppointment:function(t,i,o,r,n){var s=this,a=r.getAttribute("data-end-date");if(t){if(s.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(s._verticalIntervalDragVelocity),clearInterval(s._horizontalIntervalDragVelocity),clearInterval(s._intervalDrag),clearInterval(s._horizontalIntervalDrag);var l=t.duration(),d=t.duration().days()>=1||t.allDay,h=function(h){if(!n){var c=s._views[s._view].type,p=s._views[s._view],u=i;if(t.from=u,"dayView"===c||"weekView"===c)if(d||a){if(!d&&a)t.to=e.jqx.scheduler.utilities.getEndOfDay(u),t.allDay=!0;else if(d&&a)t.to=u.add(l);else if(d&&!a){var m=30;switch(p.timeRuler&&p.timeRuler.scale){case"sixtyMinutes":case"hour":m=60;break;case"fifteenMinutes":case"quarterHour":m=15;break;case"tenMinutes":m=10;break;case"fiveMinutes":m=5}t.to=u.addMinutes(m),t.allDay=!1}}else t.to=u.add(l),t.allDay=!1;else"monthView"===c?t.to=u.add(l):"timelineDayView"!==c&&"timelineWeekView"!==c&&"timelineMonthView"!==c||(t.to=u.add(l))}if(s._saveChangesAfterDragOrResize(h,t,r,n),null!=o&&(t.resourceId=o),s.table.find(".jqx-icon-arrow-down").hide(),t.allDay||d)s._renderrows();else{var f=s.getViewStart(),g=e.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(f,g),s._renderAppointments(f,g)}s._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),s.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},s._ensureAppointmentVisible(s.selectedJQXAppointment)};h(t.isRecurrentAppointment()?!1:null)}},getAppointmentProperty:function(e,t){var i=null;if(this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i)return i[t]},setAppointmentProperty:function(t,i,o){var r=this,n=null;if(this.appointmentsByKey[t]&&(n=this.appointmentsByKey[t].jqxAppointment),n)switch(n[i]=o,r.changedAppointments[t]={type:i,appointment:n.boundAppointment},t){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var s=r.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(s,a),r._renderAppointments(s,a);break;case"hidden":case"timeZone":if(n.isAllDayAppointment())r._renderrows();else{var s=r.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());r._prepareAppointmentsInView(s,a),r._renderAppointments(s,a)}break;default:r._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,o=0;o<i.length;o++)if(i[o].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[o]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var r=e.id;delete t.appointmentsByKey[r];for(var n=-1,o=0;o<t.appointments.length;o++)if(t.appointments[o]==e.boundAppointment||t.appointments[o].id==e.boundAppointment.id){n=o;break}-1!=n&&t.appointments.splice(n,1),n=-1;for(o=0;o<t.uiappointments.length;o++)if(t.uiappointments[o]==e||t.uiappointments[o].id==e.id){n=o;break}-1!=n&&t.uiappointments.splice(n,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[n+1]?t.selectAppointment(t.uiappointments[n+1].id):t.uiappointments[n-1]?t.selectAppointment(t.uiappointments[n-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[r]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(t){var i=this;if(t.scheduler||(t.scheduler=this),!t.duration)if((t.from||t.to)&&t.appointmentObject){var o=new e.jqx.scheduler.appointment;for(var r in t)o[r]=t[r];t=o}else{var n=t,s={},a=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var r in i.appointmentDataFields){x=n[y=i.appointmentDataFields[r]];if("from"!=r&&"to"!=r||(x=new e.jqx.date(x)),"style"==r&&x){var l=i.getAppointmentColors(x);s.color=l.color,s.background=l.background,s.borderColor=l.border}if("recurrencePattern"==r&&x&&((x=new e.jqx.scheduler.recurrencePattern(x)).timeZone=n.timeZone||i.timeZone),"recurrenceException"==r){var d=new Array;if(x){x.indexOf("EXDATE:")>=0&&(x=x.substring(x.indexOf("EXDATE:")+7));var h=new Array;x.indexOf(",")>=0?h=x.split(","):h.push(x);for(var c=0;c<h.length;c++){var p=h[c];if(p.indexOf(";")>=0){var u=p.split(";")[1];p=p.split(";")[0],u.toLowerCase().indexOf("display")>=0&&u.toLowerCase().indexOf("none")&&(s.hidden=!0)}try{"Invalid Date"!=(m=e.jqx.scheduler.utilities.untilStringToDate(p))&&(m=s.timeZone?new e.jqx.date(m,s.timeZone):i.timeZone?m.toTimeZone(i.timeZone):new e.jqx.date(m))}catch(t){var m=new e.jqx.date(p,i.timeZone)}d.push(m)}}x=d}s[r]=x}for(var f in a)if(void 0==s[r=a[f]]){x="";if("originalData"==r)continue;"ownerId"==r&&(x=null),"timeZone"==r&&(x=null),"recurrencePattern"==r&&(x=null),"recurrenceException"==r&&(x=null),"allDay"==r&&(x=!1),"draggable"==r&&(x=!0),"resizable"==r&&(x=!0),"hidden"==r&&(x=!1),"resourceId"==r&&(x=null),"from"==r&&(x=new e.jqx.date),"to"==r&&(x=(new e.jqx.date).addHours(1)),s[r]=x}s.originalData=n,s.scheduler=this;var t=new e.jqx.scheduler.appointment(s);s.timeZone&&(t.from=t.from.toTimeZone(s.timeZone),t.to=t.to.toTimeZone(s.timeZone)),i.timeZone?(s.timeZone||(t.timeZone=i.timeZone),t.from=t.from.toTimeZone(i.timeZone),t.to=t.to.toTimeZone(i.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null))}r=i.dataview.generatekey();t.id=r,i.appointmentsByKey[r]=t,i.appointments.push(t);var g={},w={};for(var v in i.appointmentDataFields){var y=i.appointmentDataFields[v],x=t[v];g[v]=x,"from"!=v&&"to"!=v||(x=x.toDate?x.toDate():new e.jqx.date(x).toDate()),w[y]=x}g.originalData=w,t.boundAppointment=g,g.jqxAppointment=t,t.jqxAppointment=t,i._raiseEvent("appointmentAdd",{appointment:t.boundAppointment}),i.uiappointments.push(t),i.changedAppointments[r]={type:"Add",appointment:t.boundAppointment},i.hiddenResources&&i.hiddenResources[t.resourceId]?i.hideAppointmentsByResource(t.resourceId):i._renderrows(),i._selectAppointment(t),i._lastSelectedAppointment=t},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,o=0;i>0&&e.rtl&&(i=0,o=1);for(var r=0;r<t.length;r++)for(var n=t[r].cells,s=i;s<n.length-o;s++){var a=n[s];if("true"==a.getAttribute("data-selected")){if((l=a.jqxClassName||a.className).indexOf("jqx-fill-state-pressed")>=0){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l=l+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l}else{var l=a.jqxClassName||a.className;if(-1==l.indexOf("jqx-fill-state-pressed")){a!=e.focusedCell?l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}a==e.focusedCell&&e.focused&&(l=(l=l.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l),l=(l=(l=(l=(l=(l=(l=(l=l.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l,a.removeAttribute("data-selected")}}},_getuikey:function(t,i){var o=null,r=this.table[0].rows;if(o=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var n=e(r[t]);if("next"==i){for(;n;)if((n=n.next())&&!(s=n.attr("data-role")))return o=n.attr("data-key")}else if("prev"==i)for(;n;)if(n=n.prev()){var s=n.attr("data-role");if(!s)return o=n.attr("data-key")}return null}return o},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var o=24,r=this.showAllDayRow;if(t.timeRuler&&("dayView"===e||"weekView"===e)){var n=0,s=23;if(void 0!=t.timeRuler.scaleStartHour)n=parseInt(t.timeRuler.scaleStartHour);if(void 0!=t.timeRuler.scaleEndHour)s=parseInt(t.timeRuler.scaleEndHour);n<0&&(n=0),s<0&&(s=23),n>23&&(n=0),s>23&&(s=23),o=s-n+1,void 0!=t.timeRuler.showAllDayRow&&(r=t.timeRuler.showAllDayRow)}var a=new Array,l=0;switch(e){case"dayView":case"weekView":default:l=2*o;if("hour"===i||"sixtyMinutes"===i)l=o;else if("quarterHour"===i||"fifteenMinutes"===i)l=4*o;else if("tenMinutes"===i)l=6*o;else if("fiveMinutes"===i)l=12*o;r&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){var t=e.split(" "),i=t[0].split("-"),o=t[1].split(":"),r=parseInt(i[0],10),n=parseInt(i[1],10)-1,s=parseInt(i[2],10),a=parseInt(o[0],10),l=parseInt(o[1],10),d=parseInt(o[2],10),h=new Date(r,n,s,a,l,d);return r<1970&&h.setFullYear(r,n,s),h},_getCellByDate:function(e,t,i){var o=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var r=0;r<o.length;r++){var n=o[r];if(!n.element.getAttribute("data-group-row"))for(var s=0;s<n.cells.length;s++){var a=n.cells[s];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){var t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),o=String.fromCharCode(72,84,84,80,58,47,47),r=document.createElement(i);r.id=e.jqx.utilities.createId(),r.innerHTML=t,r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#909090",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="none",r.style.fontSize="9px",r.onmousedown=function(){open(o+t)},this.content[0].appendChild(r),this._gridRenderElement=r}},_handleKey:function(t){if(this._loading)return!0;var i=t.shiftKey,o=t.ctrlKey||t.metaKey,r=this,n=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(r._hasOpenedMenu)return 27==n?r.closeMenu():r.menu.jqxMenu("focus"),!0;if(13===n||r.selectedAppointment&&46==n){if(r.editRecurrenceDialog&&r.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(r._editDialog&&r._editDialog.jqxWindow("isOpen"))return!0;if(r.selectedAppointment){if(!(m=r.getJQXAppointmentByElement(r.selectedAppointment)).readOnly)if(46==n)!1!==(s=r._initDialog(m,"delete"))&&r._openDialog();else{var s=r._initDialog(m);!1!==s&&r._openDialog()}}else r._initDialog(),r._openDialog()}if(27===n&&r.dragOrResize){r.table.find(".jqx-icon-arrow-down").hide();var a=r.getViewStart(),l=e.jqx.scheduler.utilities.getEndOfDay(r.getViewEnd());return r._prepareAppointmentsInView(a,l),r._renderAppointments(a,l),r._removeFeedbackAndStopResize(),!1}var d=function(t){var n=r.selectedAppointment,s=r.getJQXAppointmentByElement(n),a=s.elements[0].cells[0].cell,l=s.elements[s.elements.length-1].cells[s.elements[s.elements.length-1].cells.length-1].cell,d=r.rows[r.rows.length-1].cells[r.rows[r.rows.length-1].cells.length-1];!i&&(i||o||"down"!=t&&"right"!=t)||(a=l);var h=r._views[r._view].type,c=(r._views[r._view],a);switch(t){case"left":(p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a))>0&&!i?c=m.cells[p-1]:"monthView"!=h||i||(u=m.aboveRow)&&(c=u.cells[u.cells.length-1]);break;case"right":(p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a))<m.cells.length-1?c=m.cells[p+1]:"monthView"==h&&(f=m.belowRow)&&(c=f.cells[0]),"monthView"==h&&!i&&o&&l==d&&(c=a);break;case"up":var p=(m=r.rowByCell[a.getAttribute("data-key")]).indexOf(a),u=m.aboveRow;u&&!i&&(c=u.cells[p]);break;case"down":var m=r.rowByCell[a.getAttribute("data-key")],p=m.indexOf(a),f=m.belowRow;f&&(c=f.cells[p])}var g=c.getAttribute("data-date"),w=new e.jqx.date(g,r.timeZone),h=e(c).attr("data-view"),v=r._resources[parseInt(h)-1];if(i){var h=r._views[r._view].type,y=(r._views[r._view],!1);"dayView"===h||"weekView"===h?a.getAttribute("data-end-date")?"left"==t&&(s.elements[0].cells.length>1||r.rtl)?(r.rtl?s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(1)):s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(-1)),y=!0):"right"==t&&((!r.rtl||r.rtl&&s.elements[0].cells.length>1)&&(s.to=e.jqx.scheduler.utilities.getEndOfDay(w)),y=!0):"up"==t&&s.elements[0].cells.length>1?(s.to=w,y=!0):"down"==t&&(s.to=w.addMinutes(r.getMinutesPerScale()),y=!0):h.indexOf("month")>=0?"left"==t&&(s.elements[0].cells.length>1||s.elements.length>1)?(s.to=e.jqx.scheduler.utilities.getEndOfDay(w.addDays(-1)),y=!0):"right"==t&&(s.to=e.jqx.scheduler.utilities.getEndOfDay(w),y=!0):!r.rtl&&"left"==t&&s.elements[0].cells.length>1||r.rtl&&"right"==t&&s.elements[0].cells.length>1?(s.to=w,r.rtl&&(s.to=w.addMinutes(r.getMinutesPerScale())),y=!0):(!r.rtl&&"right"==t||r.rtl&&"left"==t)&&(s.to=w.addMinutes(r.getMinutesPerScale()),r.rtl&&(s.to=s.to.addMinutes(r.getMinutesPerScale())),y=!0),y&&r.moveAppointment(s,w,v,c,!0)}else if(o)r.moveAppointment(s,w,v,c);else{r.clearAppointmentsSelection();var x=!0;"down"==t&&(x=!1),r.selectCell(w,x,h),r._ensureVisible(c)}if(r.selectedAppointment){r.selectedAppointment.removeClass(r.toTP("jqx-scheduler-selected-appointment"));var b=r.selectedAppointment.attr("data-key");e('[data-key="'+b+'"]').addClass(r.toTP("jqx-scheduler-selected-appointment")),r.clearSelection()}};if(t.altKey&&r._resourcesElements&&r._resources&&r._resources.length>0){var h=function(e){"on"==r._resourcesElements.bottom[e].attr("data-toggle")?r.hideAppointmentsByResource(e):r.showAppointmentsByResource(e)},c=n>=49&&n<=58?c=n-48:-1;if(c>=1)return e.each(r._resources,function(e,t){if(e==c-1)return h(t),!1}),!1}if(t.ctrlKey){if(!r.selectedAppointment){if(37==n)return r.toolbarLeftButton.trigger("click"),r._ensureVisible(r.focusedCell),!1;if(39==n)return r.toolbarRightButton.trigger("click"),r._ensureVisible(r.focusedCell),!1}if(49==n)return r._setView(0),!1;if(50==n)return r._setView(1),!1;if(51==n)return r._setView(2),!1;if(52==n)return r._setView(3),!1;if(53==n)return r._setView(4),!1;if(54==n)return r._setView(5),!1;if(68==n)return r.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==n)return r.openMenu(),!1}if(9==n)if(t.shiftKey)if(r.selectedAppointment){r.clearSelection();u=r.selectedAppointment;if(m=r.getJQXAppointmentByElement(u)){var p=r.tabKeyAppointments.indexOf(m);return p>0?(m=r.tabKeyAppointments[p-1],r._selectAppointment(m),r._lastSelectedAppointment=m,r._ensureAppointmentVisible(m),!1):(r.clearAppointmentsSelection(),r.focusedCell?!r.focusedCell||-1!=r.focusedCell.className.indexOf("-focus")||(r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1):(r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1))}}else if(r.focusedCell){if(r.focusedCell&&-1==r.focusedCell.className.indexOf("-focus"))return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}else r._updateFocusedCell(),r._ensureVisible(r.focusedCell);else{if(r.selectedAppointment){r.clearSelection();var u=r.selectedAppointment,m=r.getJQXAppointmentByElement(u);return(p=r.tabKeyAppointments.indexOf(m))<r.tabKeyAppointments.length-1?(m=r.tabKeyAppointments[p+1],r._selectAppointment(m),r._lastSelectedAppointment=m,r._ensureAppointmentVisible(m),!1):(r.clearAppointmentsSelection(),!0)}if(m=r.tabKeyAppointments[0])return r._selectAppointment(m),r._lastSelectedAppointment=m,r._ensureAppointmentVisible(m),!1;if(!r.focusedCell)return r._updateFocusedCell(),r._ensureVisible(r.focusedCell),!1;if(r.focusedCell&&-1==r.focusedCell.className.indexOf("-focus"))return r._updateCellsSelection(),r._ensureVisible(r.focusedCell),!1}if(r.selectedAppointment){if(37==n?d("left"):38==n?d("up"):40==n?d("down"):39==n&&d("right"),n>=37&&n<=40)return!1}else{var f=this._lastSelectedCell;if(f){e(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],f=this._lastSelectedCell);this.rows;var g=this._views[this._view].type,w=this._views[this._view],v="halfHour";w.timeRuler&&w.timeRuler.scale&&(v=w.timeRuler.scale);var y=function(i,o){switch(v){case"sixtyMinutes":case"hour":60;break;case"thirtyMinutes":case"halfHour":30;break;case"fifteenMinutes":case"quarterHour":15;break;case"tenMinutes":10;break;case"fiveMinutes":5}var n=i.getAttribute("data-date"),s=function(e,i,o){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==g)&&null==e.getAttribute("data-time-slot")){if(o<r.min||o>r.max)return;var n=r.rows,s=r._lastSelectedCell;if(r._lastSelectedCell=e,t.shiftKey&&r._lastSelectedCell?r.shiftSelectedCell||(r.shiftSelectedCell=f):t.shiftKey||(r.shiftSelectedCell=null),r.shiftSelectedCell)e.getAttribute("data-end-date")&&r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=e,r._selectRange(e,r.shiftSelectedCell)):e.getAttribute("data-end-date")||r.shiftSelectedCell.getAttribute("data-end-date")?(r.focusedCell=s,r._lastSelectedCell=s):(r.focusedCell=e,r._selectRange(e,r.shiftSelectedCell));else{for(var a=0;a<n.length;a++){var l=n[a];if(!l.element.getAttribute("data-group-row"))for(var d=0;d<l.cells.length;d++)l.cells[d].removeAttribute("data-selected","false")}e.setAttribute("data-selected","true"),r.focusedCell=e}r._ensureVisible(r.focusedCell)}};new e.jqx.date(n,r.timeZone),i.getAttribute("data-view");switch(o){case"left":if((d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i))>0)var a=u.cells[d-1],l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone);s(a,0,l);break;case"right":if((d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i))<u.cells.length-1)var a=u.cells[d+1],l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone);s(a,0,l);break;case"up":var d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i),h=u.aboveRow;if(h){a=h.cells[d];if(0==d&&a.getAttribute("rowspan"))for(var c=-1+r.rows.indexOf(u),a=i;c>=0;){if(r.rows[c].cells[0]!=a){a=r.rows[c].cells[0];break}c--}s(a,0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}break;case"down":var d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i),p=u.belowRow;if(p){a=p.cells[d];if(0==d&&a.getAttribute("rowspan"))for(var c=1+r.rows.indexOf(u),a=i;c<r.rows.length;){if(r.rows[c].cells[0]!=a){a=r.rows[c].cells[0];break}c++}s(a,0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}break;case"home":d=(u=r.rowByCell[i.getAttribute("data-key")]).indexOf(i);s(a=r.rows[0].cells[d],0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone));break;case"end":var u=r.rowByCell[i.getAttribute("data-key")],d=u.indexOf(i);s(a=r.rows[r.rows.length-1].cells[d],0,l=new e.jqx.date(a.getAttribute("data-date"),r.timeZone))}r._updateCellsSelection()};return 36==n||o&&38==n?(y(f,"home"),!1):35==n||o&&40==n?(y(f,"end"),!1):37==n?(r.selectedAppointment?d(f):y(f,"left"),!1):38==n?(r.selectedAppointment?d(f):y(f,"up"),!1):40==n?(r.selectedAppointment?d(f):y(f,"down"),!1):39==n?(r.selectedAppointment?d(f):y(f,"right"),!1):void 0}}},getSelectedCells:function(){for(var e=this,t=e.rows,i=t.length,o=new Array,r=0;r<i;r++)for(var n=t[r].cells,s=0;s<n.length;s++)n[s].getAttribute("data-selected")&&o.push(n[s]);return o.sort(function(t,i){return e._sortByDate(t,i)})},getSelection:function(){var t=this,i=t.getSelectedCells();if(0==i.length)return null;var o=i[0].getAttribute("data-date"),r=i[i.length-1].getAttribute("data-date"),n=t.getMinutesPerScale();(s=t._views[t._view].type).toLowerCase().indexOf("month")>=0&&(n=0),i[0].getAttribute("data-end-date")&&(n=0),r=new e.jqx.date(r,t.timeZone).addMinutes(n);var s=parseInt(i[0].getAttribute("data-view"))-1,a=t._resources[s];return t._views[t._view].type.toLowerCase().indexOf("month")>=0?{from:new e.jqx.date(o,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(r),resourceId:a}:{from:new e.jqx.date(o,t.timeZone),to:r,resourceId:a}},clearSelection:function(){for(var e=this,t=e.rows,i=t.length,o=0;o<i;o++)for(var r=t[o].cells,n=0;n<r.length;n++)r[n].removeAttribute("data-selected");e._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,o,r){this.rtl&&(e=this.hScrollInstance.max-e);var n=0,s=-1,a=i+o;if(this.autorowheight)return{start:0,end:i+o};if(!r)for(var l=0;l<i+o;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),n>=e&&-1==s&&(s=l),n>t+e){a=l;break}}return++a>i+o&&(a=i+o),-1==s&&(s=0),{start:s,end:a}},_renderhorizontalscroll:function(){var t=this,i=t.hScrollInstance,o=i.value;"hidden"===t.hScrollBar[0].style.visibility&&(i.value=0,o=0);var r=parseInt(o);if(null!=t.table){for(var n=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},s=t._getvirtualcolumnsindexes(r,t._hostWidth,0,t.columns.records.length,!1),a=s.start,l=s.end,d=(t.rows,0);d<a;d++){h=d;n(c=t.columns.records[h].element[0])&&c.parentNode.removeChild(c)}for(d=l;d<t.columns.records.length;d++){var h=d,c=t.columns.records[h].element[0];n(c)&&c.parentNode.removeChild(c)}for(d=a;d<l;d++){h=d;n(c=t.columns.records[h].element[0])||t.columnsrow[0].appendChild(c)}var p=t.columnsrow;t.columns.records.length,t.columns.records,t.source.records.length;if(t.rtl&&"hidden"!=t.hScrollBar.css("visibility")&&(r=i.max-r),t.table[0].style.left=-r+"px","block"==t.pinnedtable[0].style.display&&(t.pinnedtable[0].style.left=-r+"px"),t._resources.length>0&&t.tableRows>0)for(var u=0;u<this.table[0].rows.length;u++){var m=this.table[0].rows[u];m.getAttribute("data-group-row")&&e(m).find("span").css("left",5+r)}p[0].style.marginLeft=-r+"px"}},_getDayName:function(e,t){e>=7&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var t=this._views[this._view].type,i=this._views[this._view];if(i.timeSlotWidth&&(i.timeSlotWidth=Math.max(i.timeSlotWidth,30),i.columnWidth=i.timeSlotWidth),i.columnWidth&&i.columnWidth<30&&(i.columnWidth=30),this.columns&&this.columns.records)for(_=0;_<this.columns.records.length;_++)this._removecolumnhandlers(this.columns.records[_]);this.columns=new Array;for(var o=new Array,r=this,n=function(t,o){var n="halfHour";i.timeRuler&&i.timeRuler.scale&&(n=i.timeRuler.scale);var s=24,a=0,l=23;if(i.timeRuler){if(void 0!=i.timeRuler.scaleStartHour)a=parseInt(i.timeRuler.scaleStartHour);if(void 0!=i.timeRuler.scaleEndHour)l=parseInt(i.timeRuler.scaleEndHour);a<0&&(a=0),l<0&&(l=23),a>23&&(a=0),l>23&&(l=23),s=l-a+1}var d=2;if(n)switch(n){case"sixtyMinutes":case"hour":d=1;break;case"thirtyMinutes":case"halfHour":d=2;break;case"fifteenMinutes":case"quarterHour":d=4;break;case"tenMinutes":d=6;break;case"fiveMinutes":d=12}new Array;var h="auto";i.timeRuler&&i.timeRuler.formatString&&(h=i.timeRuler.formatString);var c=a,p=s,u=t.addHours(c),m="auto";m=i.columnWidth?d*i.columnWidth:80*d;for(var f=0;f<p;f++){var g=u.toDate();if("auto"===h)if(0==g.getHours()&&0==g.getMinutes()||12==g.getHours()&&0==g.getMinutes())w="hh tt";else w="hh:mm";else if(e.isFunction(h))var w=h(g);else w=h;e.jqx.dataFormat.isDate(g)&&(g=e.jqx.dataFormat.formatdate(g,w,r.schedulerLocalization)),u=u.addMinutes(60,!1),r.columns.push({columnGroup:o,text:g,minwidth:30,width:m})}},s=0;s<this.tableColumns;s++){if(this.tableColumns>1){f=r._resources[s]?r._resources[s]:"Resource"+s;o.push({text:f,name:f})}var a="left";switch(this.rtl&&(a="right"),t){case"dayView":var l=this.getViewStart();!1===i.showWeekends&&(0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1)),0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1)));p="auto";i&&i.columnWidth&&(p=i.columnWidth);f=r._resources[s]?r._resources[s]:"Resource"+s;this.columns.push({align:a,width:p,columnGroup:f,text:this._getDayName(l.dayOfWeek())});break;case"weekView":case"monthView":for(_=0;_<7;_++){c=this.schedulerLocalization.firstDay+_;if(!1!==i.showWeekends||0!==_&&6!==_){p="auto";i&&i.columnWidth&&(p=i.columnWidth);f=r._resources[s]?r._resources[s]:"Resource"+s;this.columns.push({align:"weekView"==t?a:"center",width:p,columnGroup:f,text:this._getDayName(c)})}}break;case"timelineDayView":f=r._resources[s]?r._resources[s]:"Resource"+s;n(r.getViewStart(),f);break;case"timelineWeekView":for(_=0;_<7;_++){c=this.schedulerLocalization.firstDay+_;if(!1!==i.showWeekends||0!==_&&6!==_){f=r._resources[s]?r._resources[s]:"Resource"+s;o.push({align:r.rtl?"right":"left",parentGroup:f,name:this._getDayName(c)+s,text:this._getDayName(c)}),n(r.getViewStart().addDays(_),this._getDayName(c)+s)}}break;case"timelineMonthView":var d=r.getViewStart(),h="auto";i.timeRuler&&i.timeRuler.formatString&&(h=i.timeRuler.formatString);for(_=0;_<41;_++){var c=d.dayOfWeek();if(!1!==i.showWeekends||0!==c&&6!==c){var p="auto";p=i.columnWidth?i.columnWidth:100;var u=d.toDate();if("auto"===h){m="dd";1===(u=d.toDate()).getDate()&&(m="MMM dd")}else if(e.isFunction(h))var m=h(u);else m=h;e.jqx.dataFormat.isDate(u)&&(u=e.jqx.dataFormat.formatdate(u,m,r.schedulerLocalization)),d=d.addDays(1);var f=r._resources[s]?r._resources[s]:"Resource"+s;r.columns.push({minwidth:30,columnGroup:f,text:u,width:p})}}break;case"agendaView":var g=i.dateColumnWidth,w=i.timeColumnWidth,v=i.appointmentColumnWidth;v||(v="70%"),w||(w="auto"),g||(g="auto"),r.columns.push({text:r.schedulerLocalization.agendaDateColumn,width:g}),r.columns.push({text:r.schedulerLocalization.agendaTimeColumn,width:w}),r.columns.push({text:r.schedulerLocalization.agendaAppointmentColumn,width:v})}}o.length>0&&(this.columnGroups=o);var r=this,y=new e.jqx.schedulerDataCollection(this.element),x=0;this._columns=this.columns;var b="left",A=new e.jqx.scheduler.column(r,this);A.visibleindex=x++,A.text="",A.width=r.timeRulerWidth,A.editable=!1,A.timeColumn=!0,b="left",A.text="",A.hidden=!1,A.width=r.timeRulerWidth;!i.timeRuler||"dayView"!==t&&"weekView"!==t?"dayView"!==t&&"weekView"!==t&&(A.hidden=!0):(A._text=i.timeRuler.text||"",b=i.timeRuler.position||"left",A.hidden=i.timeRuler.hidden||!1,A.width=i.timeRuler.width||r.timeRulerWidth,i.timeRuler.timeZones);var T=function(o){var n=new e.jqx.scheduler.column(r,r);n.visibleindex=x++,n.text="",n.width=r.timeRulerWidth,n.editable=!1,n.timeColumn=!0,b="left",n.text="",n.hidden=!1,n.timeZone=i.timeRuler.timeZones[o].id,n.width=r.timeRulerWidth,!i.timeRuler||"dayView"!==t&&"weekView"!==t||(n._text=i.timeRuler.timeZones[_].text||"",n.hidden=i.timeRuler.hidden||!1,n.width=i.timeRuler.width||r.timeRulerWidth,y.add(n))};if("left"===b&&("dayView"===t||"weekView"===t)){if(i.timeRuler&&i.timeRuler.timeZones)for(_=0;_<i.timeRuler.timeZones.length;_++)T(_);y.add(A)}"left"===b&&"monthView"===t&&i.showWeekNumbers&&(A.hidden=!1,y.add(A));new Array;if(e.each(this.columns,function(t){if(void 0!=r.columns[t]){var i=new e.jqx.scheduler.column(r,this);i.visibleindex=x++,y.add(i)}}),"right"===b&&("dayView"===t||"weekView"===t)){if(i.timeRuler)for(var _=0;_<i.timeRuler.timeZones.length;_++)T(_);y.add(A)}"right"===b&&"monthView"===t&&i.showWeekNumbers&&(A.hidden=!1,y.add(A)),this.rtl&&y.records.reverse(),this.columns=y},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},_renderagenda:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=t.getViewStart(),r=e.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd().addDays(-1));t._prepareAppointmentsInView(o,r);for(var n=t.appointmentsToRender.length,s=new Array,a=0;a<t.appointmentsToRender.length;a++)for(var l=t.appointmentsToRender[a],d=l.from.clearTime();d<e.jqx.scheduler.utilities.getEndOfDay(l.to);){var h=d.toString();s[h]?(s[h].appointments.push(l),0):(s[h]={date:d,appointments:new Array},s[h].appointments.push(l),s[s.length]=s[h],0),d=d.addDays(1).clearTime()}var c=0,p=0;t.rows=new Array;for(var u=e.jqx.browser.msie&&e.jqx.browser.version<8,m=0,f=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",g=0,w="<table cellspacing='0' cellpadding='0' class='"+t.toTP("jqx-grid-table")+f+"' id='table"+t.element.id+"'><colgroup>",v=t.columns.records.length,y=0;y<v;y++){var x=t.columns.records[y];if(x.hidden)m++,nonHiddenColumns--;else{if((H=x.width)<x.minwidth&&(H=x.minwidth),H>x.maxwidth&&(H=x.maxwidth),(H-=0)<0&&(H=0),u){var b=H;y==m&&b++,w+="<col style='max-width: "+b+"px; width: "+b+"px;'>"}else w+="<col style='max-width: "+H+"px; width: "+H+"px;'>";g+=H}}if(w+="</colgroup>",0==n){var A='<tr role="row">',T=this.host.height(),_=0;t.columnGroups?_+=t.showHeader?t.columnsheader.height():0:_+=t.showHeader?t.columnsHeight:0,t.showToolbar&&(_+=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(_+=t.legendHeight),T-=_;var S='<td data-date="'+o.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+T+"px; height: "+T+"px; max-width:"+g+"px; width:"+g+"px;",D=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");S+='" class="'+(D+=" "+this.toTP("jqx-center-align"))+'">',S+=this.schedulerLocalization.emptyDataString,A+=S+="</td>",w+=A+="</tr>",this.table[0].style.width=g+2+"px",p=g}var j=t.rowsHeight;t.isTouchDevice()&&(j=t.touchRowsHeight);for(a=0;a<s.length;a++)for(var q=a,d=s[a],C=0;C<d.appointments.length;C++){var k=0,A='<tr data-key="'+q+'" role="row">';c=0;for(var B=d.appointments[C],y=0;y<v;y++){var R=t.columns.records[y],z=y;t.rtl&&(z=v-1-y);var H=R.width;H<R.minwidth&&(H=R.minwidth),H>R.maxwidth&&(H=R.maxwidth),(H-=0)<0&&(H=0);D=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");t.rtl&&(D+=" "+t.toTP("jqx-cell-rtl"));var q=t.dataview.generatekey(),P=d.date,T=j+"px",S='<td data-key="'+q+'" data-view="'+-1+'" data-date="'+P.toString()+'" role="gridcell"  style="max-width:'+H+"px; width:"+H+"px; height: "+T+"; min-height: "+j+"px;";if(0==z&&0==C){S='<td rowspan="'+d.appointments.length+'" data-key="'+q+'" data-view="'+-1+'" data-date="'+P.toString()+'" role="gridcell"  style="max-width:'+H+"px; width:"+H+"px;  min-height: "+j+"px;";D+=" "+t.toTP("jqx-center-align")}else if(0==z){c++;continue}t.rtl&&1==z&&(D+=" "+t.toTP("jqx-right-align")),R.hidden?(S+="display: none;",t._hiddencolumns=!0):(k+=0+H,0!=c||t.rtl?S+="border-left-width: 1px;":S+="border-left-width: 0px;",c++),S+='" class="'+D+'">';var M="";if(0==z&&0==C){var V=P.toString("dddd",t.schedulerLocalization),F=P.toString("MMMM, yyyy",t.schedulerLocalization),I=t.toTP("jqx-scheduler-agenda-date"),E=t.toTP("jqx-scheduler-agenda-day"),O=t.toTP("jqx-scheduler-agenda-week");M='<div class="'+I+'"><strong class="'+E+'">'+P.day()+'</strong><br/><em class="'+O+'">'+V+'</em><br/><span class="'+I+'">'+F+"</span></div>"}if(1==z){var W="auto",i=this._views[this._view],N=B.from,L=B.to;i.timeRuler&&i.timeRuler.formatString&&(W=i.timeRuler.formatString);var Z=W,U=W;if("auto"===W){if(0==N.hour()&&0==N.minute()||12==N.hour()&&0==N.minute())Z="hh tt";else Z="hh:mm";if(0==L.hour()&&0==L.minute()||12==L.hour()&&0==L.minute())U="hh tt";else U="hh:mm"}I=t.toTP("jqx-scheduler-agenda-time");M=B.allDay?"<span class='"+I+"'>"+t.schedulerLocalization.agendaAllDayString+"</span>":t.rtl?"<span class='"+I+"'>"+L.toString(U,t.schedulerLocalization)+" - "+N.toString(Z,t.schedulerLocalization)+"</span>":"<span class='"+I+"'>"+N.toString(Z,t.schedulerLocalization)+" - "+L.toString(U,t.schedulerLocalization)+"</span>"}else if(2==z){B.resourceId&&e.each(t._resources,function(e,i){if(B.resourceId==i){var o=t.getColors(e),r=(this.toString(),t.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"));if(t.rtl)r=t.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var n="<div data-key='"+B.id+"' class='"+r+"' style='margin-right: 5px; border-color: "+o.border+"; background: "+o.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>";M=n}});var X=B.subject?B.subject:"(No Title)",G=B.location,J=B.description,K=B.status?t.schedulerLocalization.editDialogStatuses[B.status]:"",Q=B.isRecurrentAppointment(),Y=(B.isException(),t.schedulerLocalization.editDialogSubjectString+": "+X);G&&(Y+="\n"+t.schedulerLocalization.editDialogLocationString+": "+G),J&&(Y+="\n"+t.schedulerLocalization.editDialogDescriptionString+": "+J),K&&(Y+="\n"+t.schedulerLocalization.editDialogStatusString+": "+K),Q&&(Y+="\n"+t.schedulerLocalization.editDialogRepeatString+": "+Q);I=t.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(t.rtl)I=t.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");M+="<span data-key='"+B.id+"' title='"+Y+"' class='"+I+"'>"+X+"</span>"}S+=M,A+=S+="</td>"}0==p&&(t.table[0].style.width=k+2+"px",t.pinnedtable[0].style.width=k+2+"px",p=k),w+=A+="</tr>"}w+="</table>",t.table[0].innerHTML=w,t.pinnedtable[0].innerHTML=w,t.pinnedtable[0].style.display="none";var $=e(t.table[0].firstChild),ee=e(t.pinnedtable[0].firstChild);t._table=$,t._pinnedtable=ee,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=p+"px",t._pinnedtable[0].style.width=p+"px"),0===n&&(t._table[0].style.width=2+p+"px",t._pinnedtable[0].style.width=2+p+"px",t._pinnedtable[0].style.display="none"),t._pinnedtable[0].style.display="none",t._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),t.table[0].rows=t.table[0].firstChild.rows,t.rowByCell=new Array,t.columnCells=new Array,t.cellWidth=0,t.cellHeight=0;for(var te=t.table[0].rows.length,a=0;a<te;a++){var ie=t.table[0].rows[a];if(!ie.getAttribute("data-group-row")){var oe=new function(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e};oe.aboveRow=null,oe.belowRow=null,t.rows.length>0&&(oe.aboveRow=t.rows[t.rows.length-1],t.rows[t.rows.length-1].belowRow=oe),oe.element=ie,t.rows.push(oe);for(var re=!1,y=0;y<ie.cells.length;y++){if(ie.cells.length<t.columns.records.length&&!re)for(var ne=a;ne>=0;){var se=t.table[0].rows[ne];if(t.table[0].rows[ne].cells.length==t.columns.records.length){var ae=se.cells[0];t.columnCells[oe.cells.length]||(t.columnCells[oe.cells.length]=new Array),t.columnCells[oe.cells.length].push(ae),0==t.cellWidth&&(t.cellWidth=ae.clientWidth),0==t.cellHeight&&(1==te||a>1)&&(t.cellHeight=ae.clientHeight),oe.cells.push(ae),re=!0;break}ne--}"none"!==(ae=ie.cells[y]).style.display&&(ae.className.indexOf("jqx-grid-cell-pinned")>=0||(t.columnCells[oe.cells.length]||(t.columnCells[oe.cells.length]=new Array),t.columnCells[oe.cells.length].push(ae),0==t.cellWidth&&(t.cellWidth=ae.clientWidth),0==t.cellHeight&&(1==te||a>1)&&(t.cellHeight=ae.clientHeight),oe.cells.push(ae),t.rowByCell[ae.getAttribute("data-key")]=oe))}}}0===n&&(t._table[0].style.tableLayout="auto"),t._updateScrollbars(t.host.height()),t._arrange(),t.rendered&&t.rendered(),t.renderedTime=new Date},_renderrows:function(){var t=this;if(!t._loading&&!t._updating&&!t._appupdating){t.rendering&&t.rendering();var i=(t=this)._views[t._view].type,o=t._views[t._view];if("agendaView"!=i){var r=1,n=t.getViewStart(),s=e.jqx.scheduler.utilities.getEndOfDay(t.getViewEnd());t._prepareAppointmentsInView(n,s);var a=new Array;if("weekView"===i||"dayView"===i)r=t.getMaxAllDayAppointments(t.appointmentsToRender);else"monthView"===i&&o.monthRowAutoHeight&&t.rows&&6==t.rows.length&&(a=t._getMonthAppointmentsPerWeek());t.tableRows>1&&t.tableRows;var l,d="halfHour",h=null;o.rowHeight&&(h=o.rowHeight),o&&o.allDayRowHeight&&(l=o.allDayRowHeight),o.timeRuler&&o.timeRuler.scale&&(d=o.timeRuler.scale);var c=0;t.table[0].rows=new Array,t.rows=new Array;R=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content");t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl"));var p=t.columns.records.length,u=t._getColumnsLengthPerView(),m=e.jqx.browser.msie&&e.jqx.browser.version<8;m&&t.host.attr("hideFocus","true"),t._lastSelectedCell=null,t.focusedCell=null;new Array;var f=t.source.records;f=t.dataview.evaluate(f),t.dataViewRecords=f,t.cells=new Array;t.dataViewRecords;t.renderedRecords=t.getRows();t.tableZIndex;var g=t.getRows().length,w=0,v=0;if(m)for(j=0;j<p;j++){(ge=(q=t.columns.records[j]).width)<q.minwidth&&(ge=q.minwidth),ge>q.maxwidth&&(ge=q.maxwidth);B=e('<table><tr><td role="gridcell" style="max-width: '+ge+"px; width:"+ge+'px;" class="'+R+'"></td></tr></table>');e(document.body).append(B);var y=B.find("td");w=1+parseInt(y.css("padding-left"))+parseInt(y.css("padding-right")),B.remove();break}var x=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",b="<table cellspacing='0' cellpadding='0' class='"+t.toTP("jqx-grid-table")+x+"' id='table"+t.element.id+"'><colgroup>",A=0,T=2,_=30;switch(d){case"sixtyMinutes":case"hour":_=60,T=1;break;case"thirtyMinutes":case"halfHour":_=30,T=2;break;case"fifteenMinutes":case"quarterHour":_=15,T=4;break;case"tenMinutes":_=10,T=6;break;case"fiveMinutes":_=5,T=12}var S=1;"timelineDayView"===i||"timelineWeekView"===i?(S=T,u=(p*=T)/t.tableColumns):"timelineMonthView"===i?u=p/t.tableColumns:"monthView"===i&&(u=o.showWeekNumbers?(p-t.tableColumns)/t.tableColumns:p/t.tableColumns);for(var D=function(e){var i=t.columns.records[e];if(i)return i;for(;e>=t.columns.records.length;)e-=t.columns.records.length;return i=t.columns.records[e]},j=0;j<p;j++){var q=D(j);if(q.hidden)A++,0;else{if((ge=q.width/S)<q.minwidth&&(ge=q.minwidth/S),ge>q.maxwidth&&(ge=q.maxwidth/S),(ge-=w)<0&&(ge=0),"monthView"==i&&t.rtl&&q.timeColumn&&ge++,m){K=ge;j==A&&K++,b+="<col style='max-width: "+K+"px; width: "+K+"px;'>"}else b+="<col style='max-width: "+ge+"px; width: "+ge+"px;'>";v+=ge}}if(b+="</colgroup>",t._hiddencolumns=!1,0===g){var C='<tr role="row">',k=t.host.height();t.pageable&&(k-=t.pagerHeight,"both"===t.pagerPosition&&(k-=t.pagerHeight)),k-=t.columnsHeight,t.showLegend&&t._resources.length>0&&(k-=t.legendHeight),k<25&&(k=25),"hidden"!=t.hScrollBar[0].style.visibility&&(k-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(k=300);var B='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border: none; min-height: '+k+"px; height: "+k+"px; max-width:"+v+"px; width:"+v+"px;",R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl")),B+='" class="'+(R+=" "+t.toTP("jqx-center-align"))+'">',B+=t.schedulerLocalization.emptyDataString,b+=C+=B+="</td>",t.table[0].style.width=v+2+"px",c=v}var z=t.getRows(),n=t.getViewStart(),k=t._hostHeight?t._hostHeight:t.host.height(),H=0;t.columnGroups?H+=t.showHeader?t.columnsheader.height():0:H+=t.showHeader?t.columnsHeight:0,t.showToolbar&&(H+=t.toolbarHeight),t.showLegend&&t._resources.length>0&&(H+=t.legendHeight);var P=t.showAllDayRow,M=23;o.resourceHeaderRowHeight&&(M=o.resourcesRowHeight),M+=2,void 0!=o.showAllDayRow&&(P=o.showAllDayRow);var V=t._columnswidth>t._hostWidth?3+t.scrollBarSize:0,F=t.tableRows>1?t.resources.unitsInView:1;if(void 0==F&&(F=t._resources.length),t.resources&&t.resources.resourceRowHeight&&(h=t.resources.resourceRowHeight),null==h||"auto"==h){var I=t.rowsHeight,E=3*I;if(t.isTouchDevice())E=22+(I=t.touchRowsHeight);1==t.tableRows?(h=k>0?k-H:I,t.columns.records.length>10&&(h=k>0?k-t.scrollBarSize-5-H:I)):(h=k>0?(k-H-M)/g:I,t.columns.records.length>10&&(h=k>0?(k-t.scrollBarSize-5-H-F*M)/(F*g):I)),"dayView"===i||"weekView"===i?P&&(null==l||"auto"==l?l=h=k>0?(k-H)/(t.tableRows*g):E:h=k>0?(k-H-l-F*M)/(F*(g-1)):I):"monthView"===i&&("hidden"==t.hScrollBar[0].style.visibility&&(V=0),h=1==t.tableRows?k>0?(k-H-V)/g:I:k>0?(k-H-M-V)/g:I),h=Math.max(I,h),l||(l=E),l=Math.max(E,l),t._allDayRowHeight=l,t._defaultRowHeight=I,l=r*(I-2),l=Math.max(E,17+l),t._allDayRowFullHeight=l,o.allDayRowHeight&&(t._allDayRowHeight=o.allDayRowHeight,l=r*(o.allDayRowHeight-2),t._allDayRowFullHeight=l)}var O=new Array;if(t.resources&&t.resources.colorScheme){for(var W=0;W<t.colorSchemes.length;W++)if(t.colorSchemes[W].name==t.resources.colorScheme){O=t.colorSchemes[W].colors;break}for(;t._resources.length>O.length-1;){var N=parseInt(t.resources.colorScheme.substring(6));N>=27&&(N=0),O=O.concat(t.colorSchemes[N].colors),N++}}for(var L=0;L<t.tableRows;L++){var Z=0,U=23;if(o.timeRuler&&void 0!=o.timeRuler.scaleStartHour)Z=parseInt(o.timeRuler.scaleStartHour);if(o.timeRuler&&void 0!=o.timeRuler.scaleEndHour)U=parseInt(o.timeRuler.scaleEndHour);var X=n;!1===o.showWeekends&&(0!=X.dayOfWeek()&&6!=X.dayOfWeek()||(X=X.addDays(1)));var G=new Array,J="monthView"!=i&&"timelineDayView"!=i&&"timelineWeekView"!=i&&"timelineMonthView"!=i&&P?1:0;if(t.tableRows>1){var C='<tr data-group-row="true" role="row">',R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl")),m)R+=" "+t.toTP("jqx-grid-cell-pinned");else{R+=" "+t.toTP("jqx-grid-cell-pinned"),we+=' colspan="'+p+'"';for(var K=0,Q=0;Q<p;Q++){var Y=D(Q),$=Y.width/S;$<Y.minwidth&&(ge=Y.minwidth/S),$>Y.maxwidth&&(ge=Y.maxwidth/S),($-=w)<0&&($=0),Y.hidden||(K+=$)}ge=K}B='<td style="height:'+M+"px;";if(j!=p-1||1!=p||t.rtl||(B+="border-right-color: transparent;"),t._resources.length>0&&t.resources.colorScheme&&"none"!=t.resources.orientation){var ee="",te="",ie="";ee=O[L],ee=t.hexToRgba(O[L],.7).toString(),ie=function(e){return 255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White"}(t.hexToRgba(O[L],.7)),B+="background: "+ee+";",B+="border-color: "+(te=O[L])+";",B+="color: "+ie+";"}B+='" class="'+R+'" role="gridcell" '+we,B+="><span style='position: relative;'>"+t._resources[L]+"</span>",b+=C+=B+="</td>"}for(Pe=0;Pe<g;Pe++){var oe={},re="jqx"+t.element.id+"_"+Pe;oe.uid=re;var C='<tr data-key="'+re+'" role="row">',ne=0,se=0;if(G[0]&&Pe>J){_=30;if("monthView"!=i){switch(d){case"sixtyMinutes":case"hour":_=60;break;case"thirtyMinutes":case"halfHour":_=30;break;case"fifteenMinutes":case"quarterHour":_=15;break;case"tenMinutes":_=10;break;case"fiveMinutes":_=5}for(ae=0;ae<p;ae++)G[ae]=G[ae].addMinutes(_,!1)}else for(var ae=0;ae<p;ae++)G[ae]=G[ae].addDays(7,!1)}var le=0,de=1,he=0;o.showWeekends||void 0==o.showWeekends?(he=t.columns.records.length/(7*t.tableColumns),he*=T):(he=t.columns.records.length/(5*t.tableColumns),he*=T);var ce=0;t.rtl&&(ce=1);for(var pe=0,j=0;j<p;j++){var ue=D(j);if(le>=u&&(le=0,pe=0,ce=0,t.rtl&&(ce=1),de++),!G[j])if(t.rtl){if(i.toString().indexOf("timelineDayView")>=0){me=1+j;G[j]=X.addHours(1+U).addMinutes(-me*_,!1)}else i.toString().indexOf("timelineWeekView")>=0?o.showWeekends||void 0==o.showWeekends?G[j]=X.addDays(6-pe).addHours(1+U,!1).addMinutes(-ce*_,!1):G[j]=X.addDays(4-pe).addHours(1+U,!1).addMinutes(-ce*_,!1):"dayView"==i||"monthView"==i||"weekView"==i?o.showWeekends||void 0==o.showWeekends?G[j]=X.addDays(6-le).addHours(Z,!1):G[j]=X.addDays(4-le).addHours(Z,!1):G[j]=X.addDays(u-le-1).addHours(Z,!1);t.timeZone&&(G[j].timeZone=t.timeZone)}else{if(i.toString().indexOf("timelineDayView")>=0){var me=j;G[j]=X.addHours(Z).addMinutes(me*_,!1)}else i.toString().indexOf("timelineWeekView")>=0?G[j]=X.addDays(pe).addHours(Z,!1).addMinutes(ce*_,!1):G[j]=X.addDays(le).addHours(Z,!1);t.timeZone&&(G[j].timeZone=t.timeZone)}++ce>=he&&(ce=0,pe++),ue.timeColumn||"dayView"!==i&&"weekView"!==i?!ue.timeColumn&&"monthView"===i&&o.showWeekNumbers?le++:"monthView"===i&&!o.showWeekNumbers||"timelineMonthView"===i?le++:"timelineDayView"!=i&&"timelineWeekView"!=i||le++:le++;var fe=G[j],ge=ue.width/S;ge<ue.minwidth&&(ge=ue.minwidth/S),ge>ue.maxwidth&&(ge=ue.maxwidth/S),(ge-=w)<0&&(ge=0);R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");ue.pinned&&(R+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===ue.displayfield&&(R+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&Pe%2!=0&&(R+=" "+t.toTP("jqx-grid-cell-alt")),0!=Pe||!P||"dayView"!==i&&"weekView"!==i||(R+=" "+t.toTP("jqx-grid-cell-alt")),(fe>t.max||fe<t.min)&&(R+=" "+t.toTP("jqx-scheduler-disabled-cell")),t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl"));var we="",re=t.dataview.generatekey(),ve=L+de;t.resources&&"none"==t.resources.orientation&&(ve=-1),0==t._resources.length&&(ve=-1);B='<td data-key="'+re+'" data-view="'+ve+'" data-date="'+fe.toString()+'" role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px;  height:"+h+"px;";if(0==Pe&&P&&("dayView"===i||"weekView"===i))B='<td  data-key="'+re+'" data-view="'+ve+'" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(fe).toString()+'" data-date="'+fe.clearTime().toString()+'" role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px; height:"+l+"px;";if("monthView"==i&&o.monthRowAutoHeight&&a.length>0&&a[Pe]&&"auto"!=a[Pe]&&h<a[Pe])B='<td data-key="'+re+'" data-view="'+ve+'" data-date="'+fe.toString()+'" role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px;  height:"+a[Pe]+"px;";if(t.resources&&t._resources.length>0&&t.resources.colorScheme&&"none"!==t.resources.orientation){var ee="",te="";if(ee=O[L+de-1],ee=0!=Pe||!P||"dayView"!==i&&"weekView"!==i?t.hexToRgba(O[L+de-1],.3).toString():t.shadeColor(O[L+de-1],.3).toString(),(0!=Pe||!P||"dayView"!==i&&"weekView"!==i)&&-1==i.indexOf("month")&&!ue.timeColumn&&!1!==o.showWorkTime){var ye=1,xe=5,be=8,Ae=18;if(o.workTime)var ye=o.workTime.fromDayOfWeek?o.workTime.fromDayOfWeek:0,xe=o.workTime.toDayOfWeek?o.workTime.toDayOfWeek:0,be=o.workTime.fromHour?o.workTime.fromHour:8,Ae=o.workTime.toHour?o.workTime.toHour:8;fe.dayOfWeek()>=ye&&fe.dayOfWeek()<=xe&&fe.hour()>=be&&fe.hour()<Ae&&(ee=t.hexToRgba(O[L+de-1],.1).toString())}B+="background: "+ee+";",B+="border-color: "+(te=O[de+L-1])+";"}if(j!=p-1||1!=p||t.rtl||(B+="border-right-color: transparent;"),ue.timeColumn&&!ue.hidden&&"monthView"===i){R=t.toTP("jqx-scheduler-time-column")+" "+t.toTP("jqx-widget-header")+" "+t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(R+=" "+t.toTP("jqx-scheduler-week-number-column"),t.tableRows>1)R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl")),0!==fe.minute()){se++;continue}B='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+fe.toString()+'" role="gridcell" style="max-width:'+ge+"px; width:"+ge+"px;";j!=p-1||1!=p||t.rtl?t.rtl&&0==j&&(B+="border-left-color: transparent;"):B+="border-right-color: transparent;",j==p-1&&t.rtl&&(B+="border-right-color: transparent;")}if(!ue.timeColumn||ue.hidden||"dayView"!==i&&"weekView"!==i){if(Pe>0){var Te="border-left-width: 1px;";t.rtl&&0==j&&"monthView"==i&&o.showWeekNumbers&&(Te="border-left-width: 0px;"),B+=Te}}else{R=t.toTP("jqx-scheduler-time-column")+" "+t.toTP("jqx-widget-header")+" "+t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.tableRows>1)R=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");if(t.rtl&&(R+=" "+t.toTP("jqx-cell-rtl")),Pe>0){if(0!==fe.minute()){se++;continue}B='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+fe.toString()+'" rowspan='+T+' role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px;";j!=p-1||1!=p||t.rtl?t.rtl&&0==j&&(B+="border-left-color: transparent;"):B+="border-right-color: transparent;"}else{if(t.resources&&"none"==t.resources.orientation&&(ve=-1),0==Pe&&P&&("dayView"===i||"weekView"===i))B='<td data-view="'+ve+'" data-time-slot="true" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(fe).toString()+'" data-date="'+fe.toString()+'" role="gridcell" '+we+' style="max-width:'+ge+"px; width:"+ge+"px;";j!=p-1||1!=p||t.rtl?0==j&&1==p&&t.rtl&&(B+="border-right-color: transparent;"):B+="border-right-color: transparent;",t.rtl&&(B+="border-left-width: 1px;"),t.tableRows>1&&(B+="background: "+ee+";",B+="border-color: "+te+";")}}if("left"!=ue.cellsalign&&("right"===ue.cellsalign?R+=" "+t.toTP("jqx-right-align"):R+=" "+t.toTP("jqx-center-align")),ue.timeColumn||t.rowinfo[oe.uid]&&t.rowinfo[oe.uid].selected&&t.editKey!==oe.uid&&"none"!==t.selectionMode&&(R+=" "+t.toTP("jqx-grid-cell-selected"),R+=" "+t.toTP("jqx-fill-state-pressed"),R+=" "+t.toTP("jqx-scheduler-cell-selected")),ue.hidden?(B+="display: none;",t._hiddencolumns=!0):(ne+=w+ge,0!=se||t.rtl||(B+="border-left-width: 0px;"),se++),(0!=Pe||!P||"dayView"!==i&&"weekView"!==i)&&-1==i.indexOf("month")&&(R+=" "+t.toTP("jqx-grid-cell-nowrap"),Pe%2!=1||ue.timeColumn||(R+=" "+t.toTP("jqx-scheduler-middle-cell")),!ue.timeColumn&&!1!==o.showWorkTime)){var ye=1,xe=5,be=8,Ae=18;if(o.workTime)var ye=o.workTime.fromDayOfWeek?o.workTime.fromDayOfWeek:0,xe=o.workTime.toDayOfWeek?o.workTime.toDayOfWeek:0,be=o.workTime.fromHour?o.workTime.fromHour:8,Ae=o.workTime.toHour?o.workTime.toHour:8;fe.dayOfWeek()>=ye&&fe.dayOfWeek()<=xe&&fe.hour()>=be&&fe.hour()<Ae?R+=" "+t.toTP("jqx-scheduler-work-time-cell"):R+=" "+t.toTP("jqx-scheduler-not-work-time-cell")}var _e="";if("monthView"===i){t.touchDevice||ue.timeColumn||(R+=" "+t.toTP("jqx-top-align"));var Se="dd";_e=fe.toDate();var De=t.toTP("jqx-scheduler-month-outer-cell")+" ",je=t.toTP("jqx-scheduler-month-weekend-cell");t.date.month()==fe.month()&&(De=""),fe.isWeekend()?R+=" "+je:je="",1===_e.getDate()&&(Se="MMM dd"),_e=t.touchDevice?h>16?"<div class='"+De+t.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(_e,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+De+t.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(_e,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":h>16?"<div class='"+De+t.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(_e,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+De+t.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(_e,Se,t.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span></div>"}else"timelineWeekView"!==i&&"timelineDayView"!==i&&"timelineMonthView"!==i||(R+=" "+t.toTP("jqx-right-align jqx-bottom-align"),_e="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+t.toTP("jqx-icon-arrow-down")+"'></span>");0!=Pe||!P||"dayView"!==i&&"weekView"!==i||ue.timeColumn||(R+=" "+t.toTP("jqx-top-align"),R+=" "+t.toTP("jqx-scheduler-all-day-cell"),t.rtl&&(R+=" "+t.toTP("jqx-rtl")),_e=fe.toDate(),_e="<span>"+e.jqx.dataFormat.formatdate(_e,"dd",t.schedulerLocalization)+"</span>");var qe=ue.cellsFormat;if(ue.timeColumn&&!ue.hidden){_e=fe.toDate(),ue.timeZone&&(_e=(_e=fe.clone().toTimeZone(ue.timeZone)).toDate());o.timeRuler&&o.timeRuler.formatString?qe=o.timeRuler.formatString:ue.timeColumn.format||(qe=0==_e.getHours()||12==_e.getHours()?"hh tt":"hh:mm"),e.jqx.dataFormat.isDate(_e)&&(_e=e.jqx.dataFormat.formatdate(_e,qe,t.schedulerLocalization)),Pe<J&&(t.rtl?R+=" "+t.toTP("jqx-scheduler-time-column-header-cell-rtl"):R+=" "+t.toTP("jqx-scheduler-time-column-header-cell"),_e=""),Pe<J&&(ue._text&&(R+=" "+t.toTP("jqx-bottom-align")),o.timeRuler&&o.timeRuler.timeZones&&o.timeRuler.timeZones.length>0&&j<o.timeRuler.timeZones.length&&(_e=ue._text)),"monthView"==i&&(_e=fe.weekOfYear(t.schedulerLocalization.firstDay))}else""!=qe&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(_e)?_e=e.jqx.dataFormat.formatdate(_e,qe,t.schedulerLocalization):(e.jqx.dataFormat.isNumber(_e)||!isNaN(parseFloat(_e))&&isFinite(_e))&&(_e=e.jqx.dataFormat.formatnumber(_e,qe,t.schedulerLocalization)));if(""!=ue.cellclassname&&ue.cellclassname)if("string"==typeof ue.cellclassname)R+=" "+ue.cellclassname;else{var Ce=ue.cellclassname(Pe,ue.datafield,_e,oe);Ce&&(R+=" "+Ce)}if(""!=ue.cellsRenderer&&ue.cellsRenderer){var ke=z.indexOf(oe);_e=ue.cellsRenderer(ke,ue.datafield,_e,oe)}B+='" class="'+R+'">',B+=_e,C+=B+="</td>"}0==c&&(t.table[0].style.width=ne+2+"px",t.pinnedtable[0].style.width=ne+2+"px",c=ne),b+=C+="</tr>",t.rowinfo[oe.uid]?"row"in t.rowinfo[oe.uid]||(t.rowinfo[oe.uid].row=oe):t.rowinfo[oe.uid]={row:oe}}}b+="</table>",t.table[0].innerHTML=b,t.pinnedtable[0].innerHTML=b,t.table[0].rows=t.table[0].firstChild.rows;var Be=e.jqx.browser.msie&&e.jqx.browser.version<9,Re=null;if(!P||"dayView"!==i&&"weekView"!==i||1!=t.tableRows)t.pinnedtable[0].style.display="none";else if(t.pinnedtable[0].style.display="block",t.pinnedtable[0].style.zIndex="400",t.pinnedtable[0].style.position="absolute",t.pinnedtable[0].style.top="0px",t.pinnedtable[0].style.height=l+"px",!Be)if(1==t.tableRows){t.oldRow=t.table[0].rows[0];try{t.table[0].rows[0]=t.pinnedtable.find("tr")[0]}catch(e){}Re=t.pinnedtable.find("tr")[0],t.pinnedTableRow=Re}else{t.oldRow=t.table[0].rows[1];try{t.table[0].rows[1]=t.pinnedtable.find("tr")[1]}catch(e){}Re=t.pinnedtable.find("tr")[1],t.pinnedTableRow=Re}var Q=e(t.table[0].firstChild),ze=e(t.pinnedtable[0].firstChild);t._table=Q,t._pinnedtable=ze,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=c+"px",t._pinnedtable[0].style.width=c+"px"),0===g&&(t._table[0].style.width=2+c+"px",t._pinnedtable[0].style.width=2+c+"px"),t._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),t._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),t.rowByCell=new Array,t.columnCells=new Array,t.cellWidth=0,t.cellHeight=0;for(var He=t.table[0].rows.length,Pe=0;Pe<He;Pe++){var Me=t.table[0].rows[Pe];if(0==Pe&&Re&&(Me=Re),!Me.getAttribute("data-group-row")){(oe=new function(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}).aboveRow=null,oe.belowRow=null,t.rows.length>0&&(oe.aboveRow=t.rows[t.rows.length-1],t.rows[t.rows.length-1].belowRow=oe),oe.element=Me,t.rows.push(oe);for(j=0;j<Me.cells.length;j++){var Ve=Me.cells[j];Ve.getAttribute("data-time-slot")||"none"!==Ve.style.display&&(Ve.className.indexOf("jqx-grid-cell-pinned")>=0||(t.columnCells[oe.cells.length]||(t.columnCells[oe.cells.length]=new Array),t.columnCells[oe.cells.length].push(Ve),0==t.cellWidth&&(t.cellWidth=Ve.clientWidth),0==t.cellHeight&&(1==He||Pe>1)&&(t.cellHeight=Ve.clientHeight),"monthView"==t._views[t._view].type&&void 0==oe.top&&(oe.top=parseInt(e(Ve).position().top)),oe.cells.push(Ve),t.rowByCell[Ve.getAttribute("data-key")]=oe))}}}0===g&&(t._table[0].style.tableLayout="auto"),t._renderAppointments(n,s),("none"!=t.pinnedtable[0].style.display||("dayView"==i||"weekView"==i)&&t.tableRows>1)&&t._updateScrollbars(t.host.height()),"monthView"===i&&o.monthRowAutoHeight&&(0==a.length?t._renderrows():t._updateScrollbars(t.host.height())),t.rendered&&t.rendered(),t.renderedTime=new Date}else t._renderagenda()}},showAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!1,o.hiddenByResourceId=!1,o.exceptions))for(var r=0;r<o.exceptions.length;r++)o.exceptions[r].hiddenByResourceId=!1,o.exceptions[r].hidden=!1}if(t._resourcesElements){var n=t.getColors(t._resources.indexOf(e));t._resourcesElements.top[e].attr("data-toggle","on"),t._resourcesElements.top[e].css("background",n.background),t._resourcesElements.bottom[e].attr("data-toggle","on"),t._resourcesElements.bottom[e].css("background",n.background)}t.hiddenResources&&delete t.hiddenResources[e],t._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!0,o.hiddenByResourceId=!0,o.exceptions))for(var r=0;r<o.exceptions.length;r++)o.exceptions[r].hiddenByResourceId=!0,o.exceptions[r].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(t,i){var o=this;if(!o._appupdating){for(var r=new Array,n=0;n<this.uiappointments.length;n++){var s=this.uiappointments[n];if(!s.hidden||null!=s.recurrencePattern){e.jqx.scheduler.utilities.rangeIntersection(s.from,s.to,t,i)&&!s.recurrencePattern&&r.push(s),s.renderedAppointments=new Array;var a=!1;if(s.recurrencePattern){for(var l=s.getOccurrences(t,i),d=s.exceptions,h=0;h<l.length;h++){var c=l[h];if(!c.hidden){for(var p=!0,u=0;u<d.length;u++){f=(m=d[u]).occurrenceFrom?m.occurrenceFrom:m;if(o.selectedJQXAppointment&&o.selectedJQXAppointment.rootAppointment&&!a&&o.selectedJQXAppointment.occurrenceFrom.clearTime().equals(f.clearTime())&&(o.selectedJQXAppointment=m,a=!0),f.clearTime().equals(c.from.clearTime())){p=!1;break}}p&&(o.selectedJQXAppointment&&o.selectedJQXAppointment.rootAppointment&&!a&&o.selectedJQXAppointment.occurrenceFrom.clearTime().equals(c.occurrenceFrom.clearTime())&&(o.selectedJQXAppointment=c,a=!0),s.renderedAppointments[c.id]=c,r.push(c))}}for(u=0;u<d.length;u++){var m=d[u],f=m.occurrenceFrom?m.from:m,g=s.createOccurrence(f);m.occurrenceFrom&&(m.cloneAppointmentAttributes(g),m.hidden)||g!=s&&(r.push(m),s.renderedAppointments[m.id]=m)}}}}var w=new Array;this.tabKeyAppointments=new Array;for(n=0;n<r.length;n++){var v=r[n];w.push(v),this.tabKeyAppointments.push(v)}w.sort(this._sortAppointmentsByFrom),this._resources.length>0?this.tabKeyAppointments.sort(function(e,t){return o._sortAppointmentsByResourceId(e,t,o)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=w}},_renderDayWeekAppointments:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=new Array,n=this.rows,s=t.showAllDayRow,a=t.getMinutesPerScale();i.timeRuler&&void 0!=i.timeRuler.showAllDayRow&&(s=i.timeRuler.showAllDayRow);for(var l=0;l<this.appointmentsToRender.length;l++){var d=this.appointmentsToRender[l],h=d.from,c=d.to,p=e.jqx.scheduler.utilities.getEndOfDay(c),u=h.day(),m=(d.allDay,t._getDateByString),f=new Array,g=new Array,w=d.resourceId,v=t._resources.indexOf(w);t.resources&&"none"==t.resources.orientation&&(v=-1);var y=h.toDate().valueOf(),x=c.toDate().valueOf(),b=(p.toDate().valueOf(),function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});if(!d.allDay&&d.duration().days()<1||!s){0==(z=c.toDate()).getHours()&&0==z.getMinutes()&&!0;for(j=0;j<t.columnCells.length;j++)if(t.columnCells[j]){P=t.columnCells[j];t.rtl&&(P=t.columnCells[t.columnCells.length-1-j]);for(Z=0;Z<P.length;Z++)if(!P[Z].getAttribute("data-end-date")){var A=m(M=P[Z].getAttribute("data-date")),T=m(M);T.setMinutes(T.getMinutes()+a-1);var _=A.valueOf(),S=T.valueOf();if(!(_>c)&&(y<=_&&_<x||y<=S&&S<x||y>=_&&S>=x)){if(-1!=v&&1+v!=P[Z].getAttribute("data-view"))continue;u!=A.getDate()&&(f.sort(b),g.push(f),f=new Array,u=h.addDays(1).day()),f.push({cell:P[Z],date:A})}}}f.sort(b),g.push(f);for(var D=new Array,j=0;j<g.length;j++)if(0!=(P=g[j]).length){var q=t.cellWidth,C=P[P.length-1].cell.offsetTop+t.cellHeight,k=P[0].cell.offsetLeft,B=P[0].cell.offsetTop,R=t.getMinutesPerScale(),z=new e.jqx.date(P[P.length-1].date,t.timeZone).addMinutes(R),H={cells:P,x:k,y:B,height:C-B,width:q,appointment:d,from:new e.jqx.date(P[0].date,t.timeZone),to:z};D.push(H),o.push(H)}d.elements=D,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}else{var P=n[0].cells;this.tableRows>1&&(P=n[v*(n.length/t.tableRows)].cells);for(Z=0;Z<P.length;Z++){var M=P[Z].getAttribute("data-date"),V=m(M),A=new e.jqx.date(V,t.timeZone);if(!((_=(A=e.jqx.scheduler.utilities.getEndOfDay(A)).toDate().valueOf())>p)&&(h<=A&&A<=p)){if(-1!=v&&1+v!=P[Z].getAttribute("data-view"))continue;0==f.length&&(A=e.jqx.scheduler.utilities.getStartOfDay(A)),f.push({cell:P[Z],date:A})}}f.sort(b),g.push(f);for(var D=new Array,j=0;j<g.length&&0!=(P=g[j]).length;j++){var F=e(P[0].cell).position(),q=e(P[P.length-1].cell).position().left+this.cellWidth-F.left,C=e(P[P.length-1].cell).position().top,k=F.left,B=F.top;if(this.rtl)var k=(F=e(P[P.length-1].cell).position()).left,q=e(P[0].cell).position().left+this.cellWidth-F.left;var I=P[P.length-1].date;I=new e.jqx.date(e.jqx.scheduler.utilities.getEndOfDay(I),t.timeZone);H={cells:P,x:k,y:B,height:C-B+this.cellHeight,width:q,appointment:d,from:e.jqx.scheduler.utilities.getStartOfDay(new e.jqx.date(P[0].date,t.timeZone)),to:I};D.push(H),r.push(H)}d.elements=D,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}}var E=this.getViewStart(),O=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var W=new Array,N=E,L=0;N<O;){W[L]=new Array;for(j=0;j<o.length;j++)(X=o[j]).from.day()==N.day()&&(X.column=-1,X.columnSpan=1,W[L].push(X));L++,N=N.addDays(1)}for(j=0;j<W.length;j++)this._renderAppointmentsInDay(W[j]);this._renderAllDayAppointments(r)}else for(var Z=0;Z<this._resources.length;Z++){for(var U=this._resources[Z],W=new Array,N=E,L=0;N<O;){W[L]=new Array;for(j=0;j<o.length;j++){var X=o[j];X.from.day()==N.day()&&(X.column=-1,X.columnSpan=1,X.appointment.resourceId==U&&W[L].push(X))}L++,N=N.addDays(1)}for(j=0;j<W.length;j++)this._renderAppointmentsInDay(W[j]);for(var G=new Array,j=0;j<r.length;j++)r[j].appointment.resourceId==U&&G.push(r[j]);this._renderAllDayAppointments(G)}},_renderAllDayAppointments:function(t){var i=this,o=this.showAllDayRow;if((R=this._views[this._view]).timeRuler&&void 0!=R.timeRuler.showAllDayRow&&(o=R.timeRuler.showAllDayRow),o&&0!=t.length){var r=t,n=1;if(n=this.getMaxAllDayAppointments(t),1==this.tableRows)this.table[0].rows[0].clientHeight;else this.table[0].rows[1].clientHeight;for(var s=0;s<t.length;s++){(u=t[s]).row=-1,(m=this.getCollisionAppointments(u,t)).sort(this._sortAppointmentsByFrom);var a=m.indexOf(u);if(a>=0)for(y=a;y<m.length;y++)m[y].row=-1;for(p=0;p<n;p++){var l=p;for(var d in m){if("indexOf"==d)break;if(-1==(x=m[d]).row&&!this.isBusyRow(l,m)){x.row=l;var h=n,c=this.getMaxAllDayAppointments(m);h>c&&(h=c),x.rowsCount=h}}}}for(var p=0;p<r.length;p++){var u=r[p],m=this.getCollisionAppointments(u,r);m.sort(this._sortAppointmentsByFrom);var f=1;for(var d in m){if("indexOf"==d)break;var g=m[d];f=Math.max(f,g.rowsCount)}for(var d in m){if("indexOf"==d)break;(g=m[d]).rowsCount=f}if(1==m.length)u.rowSpan=f;else{for(var w=0,v=!0,y=u.row;y<f;y++){for(var d in m){if("indexOf"==d)break;var x=m[d];x!=u&&(x.row==y&&(v=!1))}if(!v)break;w++}u.rowSpan=w}}b=i.appointmentsMinHeight+2;if(i.isTouchDevice())var b=i.touchAppointmentsMinHeight+2;for(q=0;q<r.length;q++){var A=b;(u=r[q]).height=b;var T=A*u.row;if(u.y=18+u.y+T+4*u.row,u.x+=3,u.width-=8,0!=u.appointment.from.hour()||23!=u.appointment.to.hour()){var _=this.getViewStart(),S=this.getViewEnd();if(i.rtl){var D=parseFloat(i.cellWidth/24)*u.appointment.to.hour()+parseFloat(i.cellWidth/48)*(u.appointment.to.minute()/30),j=parseFloat(i.cellWidth/24)*u.appointment.from.hour()+parseFloat(i.cellWidth/48)*(u.appointment.from.minute()/30);D>0&&(D=i.cellWidth-D),u.appointment.from<_&&(j=0),u.appointment.to>S&&(D=0),"exactTime"==R.appointmentsRenderMode&&(u.x+=D,u.width-=D,u.width-=j),u.appointment.duration().days()<1&&u.width<15&&(u.width=15),u.timewidth=u.width,"exactTimeStatus"==R.appointmentsRenderMode&&(u.timewidth-=D,u.timewidth-=j),u.timex=D}else{D=parseFloat(i.cellWidth/24)*u.appointment.from.hour()+parseFloat(i.cellWidth/48)*(u.appointment.from.minute()/30);u.appointment.from<_&&(D=0),u.timewidth=u.width,u.timex=D;j=parseFloat(i.cellWidth/24)*u.appointment.to.hour()+parseFloat(i.cellWidth/48)*(u.appointment.to.minute()/30);u.appointment.to>S&&(j=0),u.timewidth-=D,j>0&&(u.timewidth-=i.cellWidth,u.timewidth+=j),"exactTime"==R.appointmentsRenderMode&&(u.width=u.timewidth,u.x+=D)}}}for(var q=0;q<r.length;q++){var C=r[q],k="",B="auto",R=this._views[this._view],z=C.appointment.from,H=C.appointment.to;R.timeRuler&&R.timeRuler.formatString&&(B=R.timeRuler.formatString);P=B;if("auto"===B){if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else var P="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())M="hh tt";else var M="hh:mm"}var V=z.toString(P),F=H.toString(M),I=C.appointment.duration(),E=C.appointment.allDay||23===I.hours&&59===I.minutes&&59===I.seconds,O=C.appointment.background,W=C.appointment.subject?C.appointment.subject:"(No Title)",N=C.appointment.color,L=C.appointment.resourceId,Z=i.getColors(i._resources.indexOf(L)),U=" data-resourceId='"+L+"' ",X=C.appointment.borderColor,G=C.appointment.location;G.length>0&&(G=", "+G),O||(O=Z.background),X||(X=Z.border),N||(N=Z.color);var J=C.appointment.isRecurrentAppointment(),K=C.appointment.isException();E&&(V="",F="");var Q="",Y=i.toTP("jqx-scheduler-appointment-status"),$="",ee=i.statuses[C.appointment.status],te=!1;ee&&("transparent"==ee?te=!1:($="<div style='background: "+ee+"; border-right-color: "+X+"' class='"+Y+"'></div>","tentative"==ee&&($="<div style='background-color: "+X+"; border-right-color: "+X+"' class='"+(Y=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),te=!0));var ie=i.toTP("jqx-scheduler-appointment-duration-status"),oe="<div style='width: "+C.timewidth+"px; left: "+C.timex+"px;' class='"+ie+"'></div>";E&&(oe="");var re="";"exactTimeStatus"!=R.appointmentsRenderMode&&(oe=""),i.rtl&&($="<div style='background: "+ee+"; border-left-color: "+X+"' class='"+(Y=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==ee&&($="<div style='background-color: "+X+"; border-left-color: "+X+"' class='"+(Y=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),re=$,$="");var ne="",se=W+G;if(E||(se=W+G+oe),i.renderAppointment){var ae=i.renderAppointment({appointment:C.appointment.boundAppointment,textColor:N,background:O,borderColor:X,html:se,cssClass:"",style:"",width:C.width,height:C.height,view:i._views[i._view].type});ae&&((k=ae.html)!=se&&(se=k),N=ae.textColor,O=ae.background,X=ae.borderColor,ae.cssClass&&(ne=ae.cssClass+" "),""!=ae.style&&(O=(Z=i.getAppointmentColors(ae.style)).background,X=Z.border,N=Z.color))}if(""===Q)if(te)Q="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+$+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+se+"</div>"+re+"</div>";else Q="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+se+"</div></div>";var le="";if(i.rtl&&(le=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),K){var de="white"==N.toLowerCase()?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception");k="<div data-key='"+C.appointment.id+"'"+U+"class='"+le+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'><div class='"+de+"'></div>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(J){var he="white"==N.toLowerCase()?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence");k="<div data-key='"+C.appointment.id+"'"+U+"class='"+le+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'><div class='"+he+"'></div>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else k="<div data-key='"+C.appointment.id+"'"+U+"class='"+le+ne+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+X+"; color:"+N+"; background:"+O+";'>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var ce=e(k);if(1==this.tableRows?ce.appendTo(this.pinnedtable):ce.appendTo(this.table),C.element=ce,this.appointmentTooltips)if(C.appointment.tooltip)ce[0].setAttribute("title",C.appointment.tooltip);else{var pe=C.appointment.subject;V&&(pe=V+" - "+F+" "+pe),pe&&((G=C.appointment.location)&&(pe+="\n"+G),ce[0].setAttribute("title",pe))}}}},_renderAppointmentsInDay:function(t,i){if(0!=t.length){var o=this,r=this._views[this._view],n=t,s=(this.getViewStart(),this.getViewEnd(),1),a=0;if(r.timeRuler?(a=this.columns.records[1].width,r.timeRuler.timeZones&&(a=this.columns.records[1+r.timeRuler.timeZones.length].width)):a=this.columns.records[1].width,!(a/(s=this.getMaxColumnsInADay(t))<0)){for(var l=0;l<t.length;l++){(f=t[l]).column=-1,(g=this.getCollisionAppointments(f,t)).sort(this._sortAppointmentsByFrom);var d=g.indexOf(f);if(d>=0)for(b=d;b<g.length;b++)g[b].column=-1;for(m=0;m<s;m++){var h=m;for(var c in g){if("indexOf"==c)break;if(-1==(A=g[c]).column&&!this.isBusyColumn(h,g)){A.column=h;var p=s,u=this.getMaxColumnsInADay(g);p>u&&(p=u),A.columnsCount=p}}}}for(var m=0;m<n.length;m++){var f=n[m],g=this.getCollisionAppointments(f,n);g.sort(this._sortAppointmentsByFrom);var w=1;for(var c in g){if("indexOf"==c)break;void 0!=(v=g[c]).columnsCount&&(w=Math.max(w,v.columnsCount))}for(var c in g){if("indexOf"==c)break;var v=g[c];v.columnsCount=w}if(1==g.length)f.columnSpan=w;else{for(var y=0,x=!0,b=f.column;b<w;b++){for(var c in g){if("indexOf"==c)break;var A=g[c];void 0!=A.column&&(A!=f&&A.column==b&&(x=!1))}if(!x)break;y++}f.columnSpan=y}}for(C=0;C<n.length;C++){var T=a/n[C].columnsCount;(f=n[C]).width=T*f.columnSpan-5;var _=T*f.column;if(f.x=2+f.x+_,f.height-=5,f.y+=1,"exactTime"==r.appointmentsRenderMode){var S=o.getMinutesPerScale();if(f.appointment.from.minute()%S!=0)var D=f.appointment.from.minute()%S,j=parseFloat(o.cellHeight/S)*D;else j=0;if(f.appointment.to.minute()%S!=0){var D=f.appointment.to.minute()%S,q=o.cellHeight-parseFloat(o.cellHeight/S)*D;f.to.day()!==f.appointment.to.day()&&(q=0)}else q=0;f.y+=j,f.height-=j,f.height-=q}}for(var C=0;C<n.length;C++){var k=n[C],B="",R="auto",r=this._views[this._view],z=k.appointment.from,H=k.appointment.to;r.timeRuler&&r.timeRuler.formatString&&(R=r.timeRuler.formatString);P=R;if("auto"===R){if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else var P="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())M="hh tt";else var M="hh:mm"}z.toString(P),H.toString(M);var V=k.appointment.background,F=k.appointment.subject?k.appointment.subject:"(No Title)",I=k.appointment.location?k.appointment.location:"",E=k.appointment.color,O=k.appointment.resourceId,W=o.getColors(o._resources.indexOf(O)),N=" data-resourceId='"+O+"' ",L=k.appointment.borderColor;V||(V=W.background),L||(L=W.border),E||(E=W.color);var Z=k.appointment.isRecurrentAppointment(),U=k.appointment.isException(),X="",G=o.toTP("jqx-scheduler-appointment-status"),J="",K=o.statuses[k.appointment.status],Q=!1;K&&("transparent"==K?Q=!1:(J="<div style='background: "+K+"; border-right-color: "+L+"' class='"+G+"'></div>","tentative"==K&&(J="<div style='background-color: "+L+"; border-right-color: "+L+"' class='"+(G=o.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Q=!0));var Y="";o.rtl&&(J="<div style='background: "+K+"; border-left-color: "+L+"' class='"+(G=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==K&&(J="<div style='background-color: "+L+"; border-left-color: "+L+"' class='"+(G=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),Y=J,J="");var $="",ee=F+"<br/>"+I;if(!I)ee=F;if(o.renderAppointment){var te=o.renderAppointment({appointment:k.appointment.boundAppointment,textColor:E,background:V,borderColor:L,html:ee,cssClass:"",style:"",width:k.width,height:k.height,view:o._views[o._view].type});te&&((B=te.html)!=ee&&(ee=B),E=te.textColor,V=te.background,L=te.borderColor,te.cssClass&&($=te.cssClass+" "),""!=te.style&&(V=(W=o.getAppointmentColors(te.style)).background,L=W.border,E=W.color))}if(""===X)if(Q)X="<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'>"+J+"<div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div>"+Y+"</div>";else X="<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'><div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ee+"</div></div>";var ie="";if(o.rtl&&(ie=o.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),U){var oe="white"==E.toLowerCase()?o.toTP("jqx-icon-recurrence-exception-white"):o.toTP("jqx-icon-recurrence-exception");B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'><div class='"+oe+"'></div>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(Z){var re="white"==E.toLowerCase()?o.toTP("jqx-icon-recurrence-white"):o.toTP("jqx-icon-recurrence");B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'><div class='"+re+"'></div>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else B="<div data-key='"+k.appointment.id+"'"+N+"class='"+ie+$+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+k.x+"px; top: "+k.y+"px; width: "+k.width+"px; height: "+k.height+"px; border-color:"+L+"; color:"+E+"; background:"+V+";'>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var ne=e(B);if(ne.appendTo(this.table),k.element=ne,this.appointmentTooltips)if(k.appointment.tooltip)ne[0].setAttribute("title",k.appointment.tooltip);else{var se=k.appointment.subject;se&&((I=k.appointment.location)&&(se+="\n"+I),ne[0].setAttribute("title",se))}}}}},getCollisionAppointments:function(t,i){for(var o=new Array,r=t.from,n=t.to,s=0;s<i.length;s++){var a=i[s],l=a.from,d=a.to;e.jqx.scheduler.utilities.rangeIntersection(r,n,l,d)&&o.push(a)}return o},getAllDayCollisionAppointments:function(t,i){for(var o=new Array,r=e.jqx.scheduler.utilities.getStartOfDay(t.from),n=e.jqx.scheduler.utilities.getEndOfDay(t.to),s=0;s<i.length;s++){var a=i[s],l=e.jqx.scheduler.utilities.getStartOfDay(a.from),d=e.jqx.scheduler.utilities.getEndOfDay(a.to);e.jqx.scheduler.utilities.rangeIntersection(r,n,l,d)&&o.push(a)}return o},_renderAppointments:function(e,t){var i=this;if(!i._appupdating){i.table.find(".jqx-scheduler-appointment").remove(),i.pinnedtable.find(".jqx-scheduler-appointment").remove();var o=i._views[i._view].type;"dayView"===o||"weekView"===o?i._renderDayWeekAppointments(e,t):"monthView"===o?i._renderMonthAppointments(e,t):"timelineWeekView"!==o&&"timelineDayView"!==o&&"timelineMonthView"!==o||i._renderTimelineAppointments(e,t),i.selectedJQXAppointment&&i._selectAppointment(i.selectedJQXAppointment)}},_renderTimelineAppointments:function(t,i){for(var o=this,r=o._views[o._view].type,n=o._views[o._view],s=new Array,a=(this.rows,this.cellHeight),l=this.cellWidth,d=o.getMinutesPerScale(),h=0;h<this.appointmentsToRender.length;h++){var c=this.appointmentsToRender[h],p=c.from,u=c.to,m=o._getDateByString,f=new Array,g=p.toDate().valueOf(),w=u.toDate().valueOf();"timelineMonthView"===r&&(g=p.clearTime().toDate().valueOf());var v=o.rows[0],y=c.resourceId,x=o._resources.indexOf(y);if(o._resources.length>0&&"horizontal"!==o.resources.orientation&&x>=1&&(v=o.rows[x]),o.resources&&"none"==o.resources.orientation){x=-1;v=o.rows[0]}for(var b=v.cells,A=0;A<b.length;A++){var T=b[A].getAttribute("data-date");b[A].appointments=new Array;var _=m(T),S=_.valueOf(),D=m(T);D.setMinutes(D.getMinutes()+d-1);var j=D.valueOf();if(!(S>u)&&(g<=S&&S<w||g<=j&&j<w)){if(-1!=x&&1+x!=b[A].getAttribute("data-view"))continue;f.push({cell:b[A],date:_}),v=I}}f.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var q=new Array;if(0==(b=f).length)break;var C=o.appointmentsMinHeight;o.isTouchDevice()&&(C=o.touchAppointmentsMinHeight),n.appointmentHeight&&(C=n.appointmentHeight);var k=e(b[0].cell).position(),B=C,R=e(b[b.length-1].cell).position().left-k.left+l,z=k.left,H=k.top;if(o.rtl)var k=e(b[b.length-1].cell).position(),R=e(b[0].cell).position().left-k.left+l,z=k.left,H=k.top;P=new e.jqx.date(b[b.length-1].date,o.timeZone).addMinutes(d);if("timelineMonthView"===r)var P=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(b[b.length-1].date,o.timeZone));var M={cellX:z,cellY:H,cellHeight:a,cells:b,x:z,y:H,height:B,width:R,appointment:c,from:new e.jqx.date(b[0].date,o.timeZone),to:P};q.push(M),s.push(M),c.elements=q,c.rootAppointment&&(c.rootAppointment.elements=c.rootAppointment.elements.concat(c.elements))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(s,t,i);else for(A=0;A<this._resources.length;A++){for(var V=this._resources[A],F=new Array,I=0;I<s.length;I++)s[I].appointment.resourceId==V&&F.push(s[I]);this._renderUITimelineAppointments(F,t,i)}},_renderUITimelineAppointments:function(t,i,o){(a=this)._views[a._view].type;var r=a._views[a._view],n=t,s=1,a=this,l=new Array;s=a.getMaxTimelineAppointments(t,l,i,o);var d=a.appointmentsMinHeight;a.isTouchDevice()&&(d=a.touchAppointmentsMinHeight),r.appointmentHeight&&(d=r.appointmentHeight);for(var h=0;h<t.length;h++){(w=t[h]).row=-1,(v=a.getCollisionAppointments(w,t)).sort(a._sortAppointmentsByFrom);var c=v.indexOf(w);if(c>=0)for(T=c;T<v.length;T++)v[T].row=-1;for(g=0;g<s;g++){var p=g;for(var u in v){if("indexOf"==u)break;if(-1==(_=v[u]).row&&!a.isBusyRow(p,v)){_.row=p;var m=s,f=a.getMaxTimelineAppointments(v,l,i,o);m>f&&(m=f),_.rowsCount=m}}}}for(var g=0;g<n.length;g++){var w=n[g],v=a.getCollisionAppointments(w,n);v.sort(a._sortAppointmentsByFrom);var y=1;for(var u in v){if("indexOf"==u)break;var x=v[u];y=Math.max(y,x.rowsCount)}for(var u in v){if("indexOf"==u)break;(x=v[u]).rowsCount=y}if(1==v.length)w.rowSpan=y;else{for(var b=0,A=!0,T=w.row;T<y;T++){for(var u in v){if("indexOf"==u)break;var _=v[u];_!=w&&(_.row==T&&(A=!1))}if(!A)break;b++}w.rowSpan=b}}for(ne=0;ne<n.length;ne++){var S=d;(w=n[ne]).height=S;var D=2+(3+S)*w.row;w.y=w.y+D,w.x+=1,w.width-=5;var j=a._views[a._view].type,r=a._views[a._view];if("timelineMonthView"==j&&r.appointmentsRenderMode){if(0!=w.appointment.from.hour()||23!=w.appointment.to.hour())if(a.rtl){var q=parseFloat(a.cellWidth/24)*w.appointment.to.hour()+parseFloat(a.cellWidth/48)*(w.appointment.to.minute()/30),C=parseFloat(a.cellWidth/24)*w.appointment.from.hour()+parseFloat(a.cellWidth/48)*(w.appointment.from.minute()/30);q>0&&(q=a.cellWidth-q),"exactTime"==r.appointmentsRenderMode&&(w.x+=q,w.width-=q,w.width-=C),w.appointment.duration().days()<1&&w.width<15&&(w.width=15),w.timewidth=w.width,w.timex=q}else{var q=parseFloat(a.cellWidth/24)*w.appointment.from.hour()+parseFloat(a.cellWidth/48)*(w.appointment.from.minute()/30),C=parseFloat(a.cellWidth/24)*w.appointment.to.hour()+parseFloat(a.cellWidth/48)*(w.appointment.to.minute()/30);if(w.timewidth=w.width,w.timex=q,w.timewidth-=q,w.timewidth-=a.cellWidth,w.timewidth+=C,"exactTime"==r.appointmentsRenderMode&&(w.width=w.timewidth,w.x+=q,w.appointment.duration().days()<1&&w.width<15&&(w.width=15,q+15>a.cellWidth))){var k=a.cellWidth-q-15;w.x+=k}}}else if(r.appointmentsRenderMode&&"exactTime"==r.appointmentsRenderMode){var B=a.getMinutesPerScale();if(w.appointment.from.minute()%B!=0){var R=w.appointment.from.minute()%B,q=parseFloat(a.cellWidth/B)*R;if(a.rtl)q=parseFloat(a.cellWidth/B)*R}else q=0;if(w.appointment.to.minute()%B!=0){var R=w.appointment.to.minute()%B,C=a.cellWidth-parseFloat(a.cellWidth/B)*R;if(a.rtl)C=a.cellWidth-parseFloat(a.cellWidth/B)*R}else C=0;a.rtl?(w.x+=C,w.width-=q,w.width-=C):(w.x+=q,w.width-=q,w.width-=C)}}for(ne=0;ne<n.length;ne++){var z=n[ne],H="",r=a._views[a._view];z.appointment.from,z.appointment.to;r.timeRuler&&r.timeRuler.formatString&&r.timeRuler.formatString;var P=z.appointment.background,M=z.appointment.subject?z.appointment.subject:"(No Title)",V=z.appointment.location;V&&V.length>1&&(V=", "+V);var F=z.appointment.color,I=z.appointment.resourceId,E=a.getColors(a._resources.indexOf(I)),O=" data-resourceId='"+I+"' ",W=z.appointment.borderColor;P||(P=E.background),W||(W=E.border),F||(F=E.color);var N=z.appointment.isRecurrentAppointment(),L=z.appointment.isException(),Z="",U=a.toTP("jqx-scheduler-appointment-status"),X="",G=a.statuses[z.appointment.status],J=!1;G&&("transparent"==G?J=!1:(X="<div style='background: "+G+"; border-right-color: "+W+"' class='"+U+"'></div>","tentative"==G&&(X="<div style='background-color: "+W+"; border-right-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),J=!0));var K="";a.rtl&&(X="<div style='background: "+G+"; border-left-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==G&&(X="<div style='background-color: "+W+"; border-left-color: "+W+"' class='"+(U=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),K=X,X="");var Q="",Y=M+"<br/>"+V;if(a.renderAppointment){var $=a.renderAppointment({appointment:z.appointment.boundAppointment,textColor:F,background:P,borderColor:W,html:Y,cssClass:"",style:"",width:z.width,height:z.height,view:a._views[a._view].type});$&&((H=$.html)!=Y&&(Y=H),F=$.textColor,P=$.background,W=$.borderColor,$.cssClass&&(Q=$.cssClass+" "),""!=$.style&&(P=(E=a.getAppointmentColors($.style)).background,W=E.border,F=E.color))}if(""===Z)if(J)Z="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'>"+X+"<div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Y+"</div>"+K+"</div>";else Z="<div style='white-space:nowrap;' class='"+a.toTP("jqx-scheduler-appointment-content")+"'><div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+Y+"</div></div>";var ee="";if(a.rtl&&(ee=a.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),L){var te="white"==F.toLowerCase()?a.toTP("jqx-icon-recurrence-exception-white"):a.toTP("jqx-icon-recurrence-exception");H="<div data-key='"+z.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+z.x+"px; top: "+z.y+"px; width: "+z.width+"px; height: "+z.height+"px; line-height: "+z.height+"px; border-color:"+W+"; color:"+F+"; background:"+P+";'><div class='"+te+"'></div>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(N){var ie="white"==F.toLowerCase()?a.toTP("jqx-icon-recurrence-white"):a.toTP("jqx-icon-recurrence");H="<div data-key='"+z.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+z.x+"px; top: "+z.y+"px; width: "+z.width+"px; height: "+z.height+"px; line-height: "+z.height+"px; border-color:"+W+"; color:"+F+"; background:"+P+";'><div class='"+ie+"'></div>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else H="<div data-key='"+z.appointment.id+"'"+O+"class='"+ee+Q+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+z.x+"px; top: "+z.y+"px; width: "+z.width+"px; height: "+z.height+"px; line-height: "+z.height+"px; border-color:"+W+"; color:"+F+"; background:"+P+";'>"+Z+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";if(H,(se=e(H)).appendTo(this.table),z.element=se,this.appointmentTooltips)if(z.appointment.tooltip)se[0].setAttribute("title",z.appointment.tooltip);else{var oe=z.appointment.subject;oe&&((V=z.appointment.location)&&(oe+="\n"+V),se[0].setAttribute("title",oe))}}for(var re=a.table.find(".jqx-scheduler-appointment"),ne=0;ne<n.length;ne++){var z=n[ne],se=e(function(e){for(var t=0;t<re.length;t++)if(re[t].getAttribute("data-key")==e)return re[t]}(z.appointment.id));e.each(z.cells,function(t){var i=e(this.cell),o=z.cellY,r=(z.cellX,z.cellHeight);if(i[0].appointments||(i[0].appointments=new Array),i[0].appointments.push({ui:se,appointment:z}),se=se,z.y+z.height>=o+r-12){se[0].style.visibility="hidden";var n=i.find(".jqx-icon-arrow-down");n.length>0&&(n[0].style.display="block",n[0].mousedown=function(){a.openedMonthCellPopup&&a.openedMonthCellPopup.remove();var t=e("<div></div>"),n=(new e.jqx.date(i.attr("data-date"),a.timeZone),e("<div class='"+a.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+a.toTP("jqx-icon-close")+"'></span></div>"));n.height(16),n.find("span")[0].mousedown=function(){t.remove()},n.addClass(a.toTP("jqx-widget-header")),t.addClass(a.toTP("jqx-widget")),t.addClass(a.toTP("jqx-window")),t.addClass(a.toTP("jqx-scheduler-month-cell-popup")),t.addClass(a.toTP("jqx-popup"));var s=e("<div></div>");t.append(n),t.append(s),s.addClass(a.toTP("jqx-widget-content"));for(var l=i.width(),d=21,h=0;h<i[0].appointments.length;h++){var c=i[0].appointments[h].ui.clone(!0);c.css("left","3px"),c.css("top","0px"),c.css("margin-top","2px"),c.css("position","relative"),c.css("visibility","visible"),c.width(l-6),c.click(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));a._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),c.dblclick(function(e){var t=a.getJQXAppointmentByElement(a.getAppointmentElement(e.target));t.readOnly||a.editRecurrenceDialog.jqxWindow("isOpen")||a._editDialog&&(!a._editDialog||a._editDialog.jqxWindow("isOpen"))||!1!==a._initDialog(t)&&a._openDialog(),a._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})}),d+=c.outerHeight()+4,s.append(c)}t.css("overflow","hidden"),t.css("position","absolute");var p=a.table.height()-o-25;p<r&&(p=r),t.css("max-height",p),t.height(d),t.width(l),t.css("z-index","9999");var u=i.position();t.css("top",u.top),t.css("left",u.left),a.table.append(t),a.openedMonthCellPopup=t})}})}},_renderMonthAppointments:function(){for(var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=(this.rows,e(".jqx-scheduler-month-cell:first").height()),n=0;n<this.appointmentsToRender.length;n++){var s=this.appointmentsToRender[n],a=e.jqx.scheduler.utilities.getStartOfDay(s.from),l=e.jqx.scheduler.utilities.getEndOfDay(s.to),d=(s.allDay,t._getDateByString),h=new Array,c=new Array,p=a.toDate().valueOf(),u=l.toDate().valueOf(),m=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},f=-1,g=s.resourceId,w=t._resources.indexOf(g);t.resources&&"none"==t.resources.orientation&&(w=-1);for(T=0;T<t.rows.length;T++)for(var v=t.rows[T].cells,y=0;y<v.length;y++){var x=d(v[y].getAttribute("data-date")),b=x.valueOf();b>l||(v[y].appointments=new Array,-1!=w&&1+w!=v[y].getAttribute("data-view")||p<=b&&b<u&&(f!=T&&-1!=f&&(h.sort(m),c.push(h),h=new Array),h.push({cell:v[y],date:x}),f=T))}h.sort(m),c.push(h);for(var A=new Array,T=0;T<c.length&&0!=(v=c[T]).length;T++){var _=t.appointmentsMinHeight;t.isTouchDevice()&&(_=t.touchAppointmentsMinHeight),i.appointmentHeight&&(_=i.appointmentHeight);var S=_,D=e(v[v.length-1].cell).position().left,j=D-e(v[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=D-e(v[0].cell).position().left+t.columns.records[1].width;var q=e(v[0].cell).position(),C=q.left,k=q.top+r,B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(v[v.length-1].date,t.timeZone)),R=new e.jqx.date(v[0].date,t.timeZone);if(t.rtl){var B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(v[0].date,t.timeZone)),R=new e.jqx.date(v[v.length-1].date,t.timeZone),C=(q=e(v[v.length-1].cell).position()).left,k=q.top+r,j=(D=e(v[0].cell).position().left)-e(v[v.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=D-e(v[v.length-1].cell).position().left+t.columns.records[1].width}var z={cells:v,cellY:parseInt(q.top),cellX:parseInt(q.left),lastCellY:parseInt(q.top),lastCellX:D,x:C,y:k,height:S,width:j,appointment:s,from:R,to:B};A.push(z),o.push(z)}s.elements=A,s.rootAppointment&&(s.rootAppointment.elements=s.rootAppointment.elements.concat(s.elements))}var H=this.getViewStart(),P=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var M=new Array,V=H,F=0;V<P;){M[F]=new Array;for(T=0;T<o.length;T++)V<=(E=o[T]).from&&E.to<V.addDays(7)&&(E.row=-1,E.rowSpan=1,M[F].push(E));F++,V=V.addDays(7)}for(T=0;T<M.length;T++)M[T].length>0&&this._renderUIMonthAppointments(M[T])}else for(y=0;y<this._resources.length;y++){for(var I=this._resources[y],M=(new Array,new Array),V=H,F=0;V<P;){M[F]=new Array;for(T=0;T<o.length;T++){var E=o[T];V<=E.from&&E.to<V.addDays(7)&&(E.row=-1,E.rowSpan=1,E.appointment.resourceId==I&&M[F].push(E))}F++,V=V.addDays(7)}for(T=0;T<M.length;T++)M[T].length>0&&this._renderUIMonthAppointments(M[T])}},_getMonthAppointmentsPerWeek:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),o=new Array,r=(this.rows,e(".jqx-scheduler-month-cell:first").height());if(!t.rows)return new Array;for(var n=this.getViewStart(),s=this.getViewEnd(),a=0;a<this.appointmentsToRender.length;a++){var l=this.appointmentsToRender[a],d=e.jqx.scheduler.utilities.getStartOfDay(l.from),h=e.jqx.scheduler.utilities.getEndOfDay(l.to),c=(l.allDay,t._getDateByString,new Array),p=new Array,u=d.toDate().valueOf(),m=h.toDate().valueOf(),f=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},g=-1,w=l.resourceId,v=t._resources.indexOf(w);t.resources&&"none"==t.resources.orientation&&(v=-1);for(_=0;_<t.rows.length;_++)for(var y=t.rows[_].cells,x=0;x<y.length;x++){y[x].getAttribute("data-date");var b=n.addDays(7*_+x).toDate(),A=b.valueOf();A>h||(-1!=v&&1+v!=y[x].getAttribute("data-view")||u<=A&&A<m&&(g!=_&&-1!=g&&(c.sort(f),p.push(c),c=new Array),c.push({cell:y[x],date:b}),g=_))}c.sort(f),p.push(c);for(var T=new Array,_=0;_<p.length&&0!=(y=p[_]).length;_++){I=t.appointmentsMinHeight;t.isTouchDevice()&&(I=t.touchAppointmentsMinHeight),i.appointmentHeight&&(I=i.appointmentHeight);var S=I,D=e(y[y.length-1].cell).position().left,j=D-e(y[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=D-e(y[0].cell).position().left+t.columns.records[1].width;var q=e(y[0].cell).position(),C=q.left,k=q.top+r,B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[y.length-1].date,t.timeZone)),R=new e.jqx.date(y[0].date,t.timeZone);if(t.rtl){var B=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(y[0].date,t.timeZone)),R=new e.jqx.date(y[y.length-1].date,t.timeZone),C=(q=e(y[y.length-1].cell).position()).left,k=q.top+r,j=(D=e(y[0].cell).position().left)-e(y[y.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)j=D-e(y[y.length-1].cell).position().left+t.columns.records[1].width}var z={cells:y,cellY:parseInt(q.top),cellX:parseInt(q.left),lastCellY:parseInt(q.top),lastCellX:D,x:C,y:k,height:S,width:j,appointment:l,from:R,to:B};T.push(z),o.push(z)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var H=new Array,P=n,M=0;P<s;){H[M]=new Array;for(_=0;_<o.length;_++)P<=(O=o[_]).from&&O.to<P.addDays(7)&&(O.row=-1,O.rowSpan=1,H[M].push(O));M++,P=P.addDays(7)}for(var V=new Array,_=0;_<H.length;_++)if(H[_].length>0){var F=this.getMaxMonthAppointments(H[_]),I=t.appointmentsMinHeight;t.isTouchDevice()&&(I=t.touchAppointmentsMinHeight),i.appointmentHeight&&(I=i.appointmentHeight),V.push(F*(I+3)+22)}else V.push("auto");return V}for(var V=new Array,x=0;x<this._resources.length;x++){for(var E=this._resources[x],H=(new Array,new Array),P=n,M=0;P<s;){H[M]=new Array;for(_=0;_<o.length;_++){var O=o[_];P<=O.from&&O.to<P.addDays(7)&&(O.row=-1,O.rowSpan=1,O.appointment.resourceId==E&&H[M].push(O))}M++,P=P.addDays(7)}for(_=0;_<H.length;_++)if(H[_].length>0){F=this.getMaxMonthAppointments(H[_]);V.push(F*(I+3)+22)}else V.push("auto");return V}},_renderUIMonthAppointments:function(t){var i=this._views[this._view],o=t,r=(this.getViewStart(),this.getViewEnd(),1),n=this;r=this.getMaxMonthAppointments(t);var s=n.appointmentsMinHeight;n.isTouchDevice()&&(s=n.touchAppointmentsMinHeight),i.appointmentHeight&&(s=i.appointmentHeight);var a=this._sortAppointmentsByFrom;this.rtl&&(a=this._sortAppointmentsByTo);for(var l=0;l<t.length;l++){(f=t[l]).row=-1,(g=this.getCollisionAppointments(f,t)).sort(a);var d=g.indexOf(f);if(d>=0)for(b=d;b<g.length;b++)g[b].row=-1;for(m=0;m<r;m++){var h=m;for(var c in g){if("indexOf"==c)break;if(-1==(A=g[c]).row&&!this.isBusyRow(h,g)){A.row=h;var p=r,u=this.getMaxMonthAppointments(g);p>u&&(p=u),A.rowsCount=p}}}}for(var m=0;m<o.length;m++){var f=o[m],g=this.getCollisionAppointments(f,o);g.sort(a);var w=1;for(var c in g){if("indexOf"==c)break;var v=g[c];w=Math.max(w,v.rowsCount)}for(var c in g){if("indexOf"==c)break;(v=g[c]).rowsCount=w}if(1==g.length)f.rowSpan=w;else{for(var y=0,x=!0,b=f.row;b<w;b++){for(var c in g){if("indexOf"==c)break;var A=g[c];A!=f&&(A.row==b&&(x=!1))}if(!x)break;y++}f.rowSpan=y}}for(q=0;q<o.length;q++){var T=s;(f=o[q]).height=T;var _=2+(3+T)*f.row;if(f.y=f.y+_,f.x+=1,f.width-=5,0!=f.appointment.from.hour()||23!=f.appointment.to.hour())if(n.rtl){var S=parseFloat(n.cellWidth/24)*f.appointment.to.hour()+parseFloat(n.cellWidth/48)*(f.appointment.to.minute()/30),D=parseFloat(n.cellWidth/24)*f.appointment.from.hour()+parseFloat(n.cellWidth/48)*(f.appointment.from.minute()/30);f.appointment.elements.length>1?f==f.appointment.elements[0]?D>0?"exactTime"==i.appointmentsRenderMode?(f.width-=n.cellWidth-S,f.width-=D):f.timewidth=f.width-n.cellWidth+S-D:(f.timewidth=f.width,f.timex=0):f==f.appointment.elements[f.appointment.elements.length-1]&&("exactTime"==i.appointmentsRenderMode&&(f.x+=n.cellWidth,f.x-=S,f.width+=S,f.width-=n.cellWidth),f.timewidth=f.width-n.cellWidth+S,f.timex=n.cellWidth-S):("exactTime"==i.appointmentsRenderMode&&(f.x+=n.cellWidth,f.x-=S,f.width-=n.cellWidth-S,f.width-=D),f.appointment.duration().days()<1&&f.width<15&&(f.width=15),f.timewidth=f.width-n.cellWidth+S-D,f.timex=n.cellWidth-S)}else{S=parseFloat(n.cellWidth/24)*f.appointment.from.hour()+parseFloat(n.cellWidth/48)*(f.appointment.from.minute()/30);f.timewidth=f.width,f.from.clearTime().toString()==f.appointment.from.clearTime().toString()?f.timex=S:S=0,f.appointment.elements.length>1&&f.appointment.elements[0]!=f&&(S=0);D=parseFloat(n.cellWidth/24)*f.appointment.to.hour()+parseFloat(n.cellWidth/48)*(f.appointment.to.minute()/30);if(f.appointment.elements.length>1&&f.appointment.elements[f.appointment.elements.length-1]!=f&&(D=0),f.timewidth-=S,D>0&&(f.timewidth-=n.cellWidth,f.timewidth+=D),"exactTime"==i.appointmentsRenderMode&&(f.from.clearTime().toString()==f.appointment.from.clearTime().toString()&&(f.x+=S),f.width=f.timewidth,f.appointment.duration().days()<1&&f.width<15&&(f.width=15,S+15>n.cellWidth))){var j=n.cellWidth-S-15;f.x+=j}}}for(var q=0;q<o.length;q++){var C=o[q],k="",B="auto",i=this._views[this._view],R=C.appointment.from,z=C.appointment.to,B="auto",i=this._views[this._view],R=C.appointment.from,z=C.appointment.to;i.timeRuler&&i.timeRuler.formatString&&(B=i.timeRuler.formatString);var H=B,P=B;if("auto"===B){if(0==R.hour()&&0==R.minute()||12==R.hour()&&0==R.minute())H="hh tt";else H="hh:mm";if(0==z.hour()&&0==z.minute()||12==z.hour()&&0==z.minute())P="hh tt";else P="hh:mm"}var M=R.toString(H),V=z.toString(P),F=C.appointment.duration(),I=C.appointment.allDay||23===F.hours&&59===F.minutes&&59===F.seconds,E=C.appointment.background,O=C.appointment.subject?C.appointment.subject:"(No Title)",W=C.appointment.color,N=C.appointment.resourceId,L=n.getColors(n._resources.indexOf(N)),Z=" data-resourceId='"+N+"' ",U=C.appointment.borderColor,X=C.appointment.location;X&&X.length>1&&(X=", "+X),E||(E=L.background),U||(U=L.border),W||(W=L.color);var G=C.appointment.isRecurrentAppointment(),J=C.appointment.isException(),K="",Q=n.toTP("jqx-scheduler-appointment-status"),Y="",$=n.statuses[C.appointment.status],ee=!1;$&&("transparent"==$?ee=!1:(Y="<div style='background: "+$+"; border-right-color: "+U+"' class='"+Q+"'></div>","tentative"==$&&(Y="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+(Q=n.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),ee=!0));var te=n.toTP("jqx-scheduler-appointment-duration-status"),ie="<div style='width: "+C.timewidth+"px; left: "+C.timex+"px;' class='"+te+"'></div>";I&&(ie=""),"exactTimeStatus"!=i.appointmentsRenderMode&&(ie="");var oe="";n.rtl&&(Y="<div style='background: "+$+"; border-left-color: "+U+"' class='"+(Q=n.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==$&&(Y="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+(Q=n.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),oe=Y,Y="");var re="",ne=O+X;if(I||(ne=O+X+ie),n.renderAppointment){var se=n.renderAppointment({appointment:C.appointment.boundAppointment,textColor:W,background:E,borderColor:U,html:ne,cssClass:"",style:"",width:C.width,height:C.height,view:n._views[n._view].type});se&&((k=se.html)!=ne&&(ne=k),W=se.textColor,E=se.background,U=se.borderColor,se.cssClass&&(re=se.cssClass+" "),""!=se.style&&(E=(L=n.getAppointmentColors(se.style)).background,U=L.border,W=L.color))}if(""===K)if(ee)K="<div style='white-space:nowrap;' class='"+n.toTP("jqx-scheduler-appointment-content")+"'>"+Y+"<div class='"+n.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div>"+oe+"</div>";else K="<div style='white-space:nowrap;' class='"+n.toTP("jqx-scheduler-appointment-content")+"'><div class='"+n.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div></div>";var ae="";if(n.rtl&&(ae=n.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),J){var le="white"==W.toLowerCase()?n.toTP("jqx-icon-recurrence-exception-white"):n.toTP("jqx-icon-recurrence-exception");k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+ae+re+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+le+"'></div>"+K+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(G){var de="white"==W.toLowerCase()?n.toTP("jqx-icon-recurrence-white"):n.toTP("jqx-icon-recurrence");k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+ae+re+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'><div class='"+de+"'></div>"+K+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else k="<div data-key='"+C.appointment.id+"'"+Z+"class='"+ae+re+n.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+C.x+"px; top: "+C.y+"px; width: "+C.width+"px; line-height: "+C.height+"px; height: "+C.height+"px; border-color:"+U+"; color:"+W+"; background:"+E+";'>"+K+"<div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+n.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var he=e(k);if(he.appendTo(this.table),C.element=he,this.appointmentTooltips)if(C.appointment.tooltip)he[0].setAttribute("title",C.appointment.tooltip);else{var ce=C.appointment.subject;M&&!I&&(ce=M+" - "+V+" "+ce),ce&&((X=C.appointment.location)&&(ce+="\n"+X),he[0].setAttribute("title",ce))}e.each(C.cells,function(){var t=e(this.cell),i=t.position();if(t[0].appointments||(t[0].appointments=new Array),t[0].appointments.push({ui:he,appointment:C}),C.y+C.height+2>=i.top+t.height()){he.css("visibility","hidden");var o=t.find(".jqx-icon-arrow-down");o.show(),o[0]&&(o[0].mousedown=function(){n.openedMonthCellPopup&&n.openedMonthCellPopup.remove();var o=e("<div></div>"),r=t.find("div").clone(!0);r.find("span").removeClass().addClass(n.toTP("jqx-icon-close")),r.find("span")[0].mousedown=function(){o.remove()},r.addClass(n.toTP("jqx-widget-header")),o.addClass(n.toTP("jqx-widget")),o.addClass(n.toTP("jqx-window")),o.addClass(n.toTP("jqx-scheduler-month-cell-popup")),o.addClass(n.toTP("jqx-popup"));var s=e("<div></div>");o.append(r),o.append(s),s.addClass(n.toTP("jqx-widget-content jqx-disableselect"));for(var a=t.width(),l=5+t.find("div").outerHeight(),d=0;d<t[0].appointments.length;d++){var h=t[0].appointments[d].ui.clone(!0);h.css("left","3px"),h.css("top","0px"),h.css("margin-top","2px"),h.css("position","relative"),h.css("visibility","visible"),h.width(a-6),l+=h.outerHeight()+4,s.append(h),h.click(function(e){var t=n.getJQXAppointmentByElement(n.getAppointmentElement(e.target));n._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),h.dblclick(function(e){var t=n.getJQXAppointmentByElement(n.getAppointmentElement(e.target));t.readOnly||n.editRecurrenceDialog.jqxWindow("isOpen")||n._editDialog&&(!n._editDialog||n._editDialog.jqxWindow("isOpen"))||!1!==n._initDialog(t)&&n._openDialog(),n._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})})}o.css("overflow","hidden"),o.css("position","absolute"),o.height(l),o.width(a),o.css("z-index","9999"),o.css("top",i.top),o.css("left",i.left),n.table.append(o),n.openedMonthCellPopup=o})}})}},_sortByDate:function(e,t){var i=e.getAttribute("data-date");i=this._getDateByString(i);var o=t.getAttribute("data-date");return o=this._getDateByString(o),i<o?-1:i>o?1:i==o?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.equals(t.from)){var i=e.to-e.from;if(1e4*i>1e4*(i=t.to-t.from))return-1}return e.from<t.from?-1:e.from>t.from?1:e.from==t.from?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=e.to-e.from;if(1e4*i>1e4*(i=t.to-t.from))return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){var o=i._resources.indexOf(e.resourceId),r=i._resources.indexOf(t.resourceId);return o==r?0:o<r?-1:o>r?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++)if(t[i].row==e)return!0;return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++)if(t[i].column==e)return!0;return!1},getMaxTimelineAppointments:function(t,i,o,r){if(0==t.length)return 1;var n=this,s=n._views[n._view].type,a=(n._views[n._view],1),l=o,d=this.getMinutesPerScale(),h=null,c=null,p="";for(var u in t){if("indexOf"==u)break;var m=t[u];h||(h=m.from),c||(c=m.to),h=Math.min(m.from,h),c=Math.max(m.to,c),p+=m.appointment.id}if(p+=h,p+=c,i[p])return i[p];h=new e.jqx.date(h,n.timeZone),c=new e.jqx.date(c,n.timeZone);for(l=h;h<c;){var f=l;if("timelineMonthView"===s)g=f.addDays(1);else var g=f.addMinutes(d);var w=0;for(var u in t){if("indexOf"==u)break;var v=(m=t[u]).from,y=m.to;e.jqx.scheduler.utilities.rangeIntersection(f,g,v,y)&&w++}a=Math.max(w,a),l="timelineMonthView"===s?l.addDays(1,!1):l.addMinutes(d,!1)}return i[p]=a,a},getMaxMonthAppointments:function(t){this._views[this._view].type,this._views[this._view];if(0==t.length)return 1;for(var i=1,o=this.getViewStart().clone(),r=this.getViewEnd();o<r;){var n=o,s=e.jqx.scheduler.utilities.getEndOfDay(n),a=0;for(var l in t){if("indexOf"==l)break;var d=t[l],h=d.from,c=d.to;e.jqx.scheduler.utilities.rangeIntersection(n,s,h,c)&&a++}i=Math.max(a,i),o=o.addDays(1,!1)}return i},getMaxAllDayAppointments:function(t){this._views[this._view].type,this._views[this._view];var i=this;if(0==t.length)return 1;var o=function(t){for(var o=1,r=i.getViewStart(),n=i.getViewEnd();r<n;){var s=r,a=e.jqx.scheduler.utilities.getEndOfDay(s),l=0;for(var d in t){if("indexOf"==d)break;var h=t[d],c=h;if(h.appointment&&(c=h.appointment),1!=c.hidden&&c.duration&&(c.allDay||c.duration().days()>=1)){var p=h.from,u=h.to;e.jqx.scheduler.utilities.rangeIntersection(s,a,p,u)&&l++}}o=Math.max(l,o),r=r.addDays(1,!1)}return o};if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)d=o(t);else{for(var r=1,n=0;n<this._resources.length;n++){for(var s=this._resources[n],a=new Array,l=0;l<t.length;l++)t[l].appointment&&t[l].appointment.resourceId==s?a.push(t[l]):void 0!=t[l].resourceId&&t[l].resourceId==s&&a.push(t[l]);var d=o(a);r=Math.max(r,d)}d=r}return d},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(t){this._views[this._view].type;var i=this._views[this._view],o=30,r="halfHour";switch(i.timeRuler&&i.timeRuler.scale&&(r=i.timeRuler.scale),r){case"sixtyMinutes":case"hour":o=60;break;case"thirtyMinutes":case"halfHour":o=30;break;case"fifteenMinutes":case"quarterHour":o=15;break;case"tenMinutes":o=10;break;case"fiveMinutes":o=5}if(0==t.length)return 1;for(var n=1,s=t[0].from.clone(),a=s.addMinutes(o),l=e.jqx.scheduler.utilities.getEndOfDay(s);s<l;){var d=s,h=a,c=0;for(var p in t){if("indexOf"==p)break;var u=t[p];if(u.from||u.to){var m=u.from,f=u.to;e.jqx.scheduler.utilities.rangeIntersection(d,h,m,f)&&c++}}n=Math.max(c,n),s=s.addMinutes(o,!1),a=a.addMinutes(o,!1)}return n},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updatecolumnwidths:function(){var t=this,i=this._hostWidth,o=i;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(i-=parseInt(this.scrollBarSize)+6,this.rtl&&(i+=3),o=i);var r="";if(void 0!=this.columns&&void 0!=this.columns.records){var t=this,n=!1,s=new Array;e.each(this.columns.records,function(e,n){if(!this.hidden){if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var n=0;"hidden"==t.vScrollBar[0].style.visibility||t.scrollBarSize;0==t.scrollBarSize&&0,n=parseFloat(this.width)*o/100,void 0!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*o/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),i-=Math.round(n)}else"auto"==this.width||this._width?r+=this.text:i-=this.width;"auto"==this._width&&(s[s.length]=this)}});var a=this.columnsheader.find("#columntable"+this.element.id);if(0!=a.length){var l=0,d=(a.find(".jqx-grid-column-header"),0);e.each(this.columns.records,function(r,a){var h=this.element,c=!1,p=this.width,u=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(p=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,p=Math.round(p),c=!0),"auto"==this.width||this._width||c)if(c)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),parseInt(h[0].style.width)!=p&&(h.width(p),this.width=p);else{var m=t.columns.records.length,f=t._views[t._view].type;if("dayView"===f||"weekView"===f){var g=t._views[t._view];g.timeRuler?(g.timeRuler.timeZones&&(m-=g.timeRuler.timeZones.length),m--):m--}else"monthView"===f&&t._views[t._view].showWeekNumbers&&m--;var w=Math.floor(i*(1/m));if(t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?w=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(w=Math.round((2+i)*(1/t._getColumnsLengthPerView()))),(l+=i*(1/m)-w)>=1&&(l-=1,w++),l>=.5&&r==t.columns.records.length-1&&w++,"agendaView"==f&&(w=i/s.length,w++),w<0){var v=e("<span>"+this.text+"</span>");e(document.body).append(v),w=10+v.width(),v.remove()}w<this.minwidth&&(w=this.minwidth),w>this.maxwidth&&(w=this.maxwidth),this._width="auto",this.width=parseInt(w),h.width(this.width)}else parseInt(h[0].style.width)!=this.width&&h.width(this.width);parseInt(h[0].style.left)!=d&&h.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,u!==this.width&&(n=!0)}),this.columnsheader.width(2+d),a.width(this.columnsheader.width()),this._resizecolumnGroups(),n&&(this._renderrows(),t._arrange())}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){var i=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var o=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');o[0].cells=new Array;var r=0,n="";this._hostWidth||(this._hostWidth=this.host.width());var s=this._hostWidth,a=s,l=this.getRows().length,d=this.rowsHeight;this.isTouchDevice()&&(d=this.touchRowsHeight),l*d>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(s-=parseInt(this.scrollBarSize)+6,this.rtl&&(s+=3),a=s);var h=new Array,c=new Array;if(e.each(this.columns.records,function(e,t){if(!this.hidden)if("auto"==this.width||this._width)n+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)s-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)s-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var t=0;(t=parseFloat(this.width)*a/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),s-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),s-=this.width;null!=this.width&&"auto"!=this.width||(c[c.length]=this),h[h.length]=this}),this.rtl)for(var p=0;p<h.length;p++)this.columns.replace(p,h[p]);var u=this.headerZIndex,m=t.columnsHeight,f=function(e,i){var o=t.columnGroupslevel*t.columnsHeight;return o-=i.level*t.columnsHeight},g=0,w=document.createDocumentFragment();e.each(this.columns.records,function(n,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=f(this.datafield,this),m=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var h=t.rtl?u++:u--,p=document.createElement("div");p.setAttribute("role","columnheader"),p.style.position="absolute",p.style.zIndex=h,p.style.height="100%",p.className=d;var v=e(p);t.rtl&&0===n&&(v[0].style.borderLeftColor="transparent"),t.columnGroups?(v[0].style.height=m+"px",v[0].style.bottom="0px"):this.timeColumn||(v[0].style.height=-1+m+"px"),this.uielement=v,this.element=v,""!=this.classname&&this.classname&&v.addClass(this.classname);var y=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(y=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,y=Math.round(y),x=!0),"auto"==this.width||this._width||x)if(x)y<this.minwidth&&"auto"!=this.minwidth&&(y=this.minwidth),y>this.maxwidth&&"auto"!=this.maxwidth&&(y=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),v.width(y),this.width=y;else{var b=t.columns.records.length,A=t._views[t._view].type;if("dayView"===A||"weekView"===A){var T=t._views[t._view];T.timeRuler?(T.timeRuler.timeZones&&(b-=T.timeRuler.timeZones.length),b--):b--}else"monthView"===A&&t._views[t._view].showWeekNumbers&&b--;var _=Math.floor(s*(1/b));t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?_=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(_=Math.round((2+s)*(1/t._getColumnsLengthPerView()))),(g+=s*(1/b)-_)>=1&&(g-=1,_++),g>=.5&&n==t.columns.records.length-1&&_++,isNaN(_)&&(_=this.minwidth),"agendaView"==A&&(_=s/c.length,_++),_<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),_=10+$element.width(),$element.remove()),_<this.minwidth&&(_=this.minwidth),_>this.maxwidth&&(_=this.maxwidth),this._width="auto",this.width=parseInt(_),y=this.width,v.width(this.width)}else y<this.minwidth&&"auto"!=this.minwidth&&(y=this.minwidth),y>this.maxwidth&&"auto"!=this.maxwidth&&(y=this.maxwidth),v[0].style.width=parseInt(y)+"px";this.timeColumn&&(v.css("border-bottom-color","transparent"),i.timeRuler&&i.timeRuler.timeZones&&n<i.timeRuler.timeZones.length&&v.css("border-right-color","transparent"),1==this.tableRows&&v.addClass(t.toTP("jqx-scheduler-time-column"))),this.hidden&&v.css("display","none");e(v.children()[0]);o[0].cells[n]=v[0];var S=t._rendercolumnheader(this.text,this.align,m,t);v[0].innerHTML=S,w.appendChild(v[0]);v[0].style.left=r+"px",this.hidden||(r+=y)}),o[0].appendChild(w),this.columnsheader[0].style.width=r>0?2+r+"px":r+"px",this._columnswidth=r,this.columnsrow=o,t.columnsheader.append(o),o[0].style.width=r+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var t=this.headerZIndex+this.columns.records.length,i=this,o=i.toTP("jqx-grid-column-header")+" "+i.toTP("jqx-grid-columngroup-header")+" "+i.toTP("jqx-widget-header");i.rtl&&(o+=" "+i.toTP("jqx-grid-columngroup-header-rtl"));var r=this.columnsheader.find("#columntable"+this.element.id);r.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(var s=0;s<this.columnGroups.length;s++){var a=this.columnGroups[s],l=a.level;if(l===n){var d=l*this.columnsHeight,h=99999;if(a.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=c(o):o.hidden||(t+=o.width,h=Math.min(parseInt(o.element[0].style.left),h))}return t};a.width=c(a),a.left=h;var p=this.columnsHeight,u=t--,m=e('<div role="columnheader" style="z-index: '+u+';position: absolute;" class="'+o+'"></div>'),f=e(this._rendercolumnheader(a.text,a.align,this.columnsHeight,this));a.renderer&&a.renderer(m,a.text),m.append(f),m[0].style.left=h+"px",0===h&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=p+"px",m[0].style.width=-1+a.width+"px",r.append(m),a.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,o=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=r(n):(t+=n.width,o=Math.min(parseInt(n.element[0].style.left),o))}return t};t.width=r(t),t.left=o;var n=this.columnsHeight,s=t.element;s[0].style.left=o+"px",s[0].style.top=i+"px",s[0].style.height=n+"px",s[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,o=e(t.element);if(o.length>0){i.removeHandler(o,"mouseenter"),i.removeHandler(o,"mouseleave");var r=e(t.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(o,"click")}},destroy:function(){var t=this;t._removeHandlers(),t._editDialog&&t._editDialog.jqxWindow("destroy"),t.menu&&t.menu.jqxMenu("destroy"),t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("destroy"),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(t,i,o,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==o)if("filterable"==i)t._render();else if("view"==i)t.setView(r);else if("views"==i){t._columns=null,t._views=new Array,t._view=t.view;for(n=0;n<t.views.length;n++)"string"===e.type(t.views[n])?t._views.push({type:t.views[n]}):t._views.push(t.views[n]);for(var n=0;n<t._views.length;n++)if(t._views[n].type==t.view){t._view=n;break}t._render()}else if("height"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("resources"==i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchMode"==i)t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t.refresh(),t._addHandlers();else{if("enableHover"==i)return;"showLegend"==i?(t.legendbartop.show(),t.legendbarbottom.show(),t.refresh()):"disabled"==i?(r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer")):"columnsHeight"==i?t._render():"localization"==i?(t._render(),t.editRecurrenceDialog&&(t.editRecurrenceDialog.jqxWindow("destroy"),t.createEditRecurrenceDialog())):"theme"==i?(e.jqx.utilities.setTheme(o,r,t.host),t._editDialog&&e.jqx.utilities.setTheme(o,r,t._editDialog),t.editRecurrenceDialog&&e.jqx.utilities.setTheme(o,r,t.editRecurrenceDialog),t.menu&&t.menu.jqxMenu({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.refresh()):"date"===i?t.navigateTo(r):t.refresh()}},_rendercolumnheader:function(e,t,i,o){var r="4px";o.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px");var n='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var s=this.columnRenderer(e,t,i,n);if(void 0!=s)return s}return n}})}(jqxBaseFramework);

