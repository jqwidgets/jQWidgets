/*
jQWidgets v5.2.0 (2017-Sep)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){"use strict";e.jqx.jqxWidget("jqxPasswordInput","",{}),e.extend(e.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,changeType:null,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};return this===e.jqx._jqxPasswordInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;e._inDOM=document.body.contains(e.element),e.render()},render:function(){var t=this,o=e.jqx.browser.browser,n=e.jqx.browser.version;this._browserCheck="msie"!=o||"7.0"!=n&&"8.0"!=n,this.widgetID=t.element.id;if("password"!=this.element.getAttribute("type"))throw"Invalid input type. Please set the type attribute of the input element to password.";t._hidden=!0,t._setTheme(),t._setAttributes(),t._showPassword(),t._showStrength(),e.jqx.utilities.resize(this.host,function(){if(!t._inDOM){var e=t.element.parentNode;return t.element.nextSibling?e.insertBefore(t.icon,t.element.nextSibling):e.appendChild(t.icon),void(t._inDOM=!0)}t.element===document.activeElement&&(t._positionIcon(),t.showStrength&&t.host.jqxTooltip("close"))})},refresh:function(t){var o=this;t||(o.removeHandler(o.host,"change.passwordinput"+o.widgetID),o.removeHandler(o.host,"focus.passwordinput"+o.widgetID),o.removeHandler(o.host,"blur.passwordinput"+o.widgetID),o.removeHandler(o.host,"click.passwordinput"+o.widgetID),o.removeHandler(o.host,"keyup.passwordinput"+o.widgetID),o.removeHandler(o.icon,"mousedown.passwordinput"+o.widgetID),o.removeHandler(e(document),"mouseup.passwordinput"+o.widgetID),o.removeHandler(e(document),"mousedown.passwordinput"+o.widgetID),o._setAttributes(),o._setTheme(),o._showPassword(),o._showStrength())},val:function(t){var o=this,n=o.element.value,s="placeholder"in o.element;if(e.isEmptyObject(t)&&""!==t)return s||n!==o.placeHolder||(n=""),n;if(!s||t!==n){if(!s){if(""===t)return void(n!==o.placeHolder&&(o.element.value=o.placeHolder,o.element.setAttribute("type","text")));o.element.setAttribute("type","password")}o.element.value=t,!0===o.showStrength&&o._evaluateStrength()}},propertyChangedHandler:function(t,o,n,s){"theme"!==o?"disabled"!=o?"placeHolder"==o?this._browserCheck&&("placeholder"in this.element?t.element.setAttribute("placeholder",t.placeHolder):""===t.element.value?(t.element.setAttribute("type","text"),t.element.value=s):t.element.value==n&&(t.element.value=s)):this.refresh():t.disabled?(t.element.setAttribute("disabled","disabled"),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeAttr("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))):e.jqx.utilities.setTheme(n,s,t.host)},resize:function(e,t){this.width=e,this.height=t,this.element.style.width=this._toPx(e),this.element.style.height=this._toPx(t)},_setAttributes:function(){var e=this,t=e.element;t.style.width=e._toPx(e.width),t.style.height=e._toPx(e.height),e.maxLength&&t.setAttribute("maxlength",e.maxLength),e.minLength&&t.setAttribute("minLength",e.minLength),e.placeHolder&&e._browserCheck&&("placeholder"in e.element?t.setAttribute("placeholder",e.placeHolder):""===t.value&&(t.setAttribute("type","text"),t.value=e.placeHolder)),e.disabled?(t.setAttribute("disabled","disabled"),t.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")):(t.removeAttribute("disabled"),e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")));var o=!1;e.addHandler(t,"change.passwordinput"+e.widgetID,function(t){o||(t.preventDefault(),t.stopPropagation(),o=!0,e._raiseEvent(),o=!1)}),e.addHandler(t,"click.passwordinput"+e.widgetID,function(){e.showPasswordIcon&&e.icon&&(e.icon.style.display="inline",e._positionIcon())}),e.interval=null,e.addHandler(t,"keydown.passwordinput"+e.widgetID,function(){if(e.changeType="keyboard",e.showPasswordIcon&&e.icon){e.interval&&clearInterval(e.interval);var t=0;e.interval=setInterval(function(){"none"!=e.icon.style.display?(e._positionIcon(),++t>5&&clearInterval(e.interval)):clearInterval(e.interval)},100)}}),e.addHandler(t,"focus.passwordinput"+e.widgetID,function(){e._focused=!0,t.className+=" "+e.toThemeProperty("jqx-fill-state-focus"),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||t.value!=e.placeHolder||(t.value="",e._hidden&&t.setAttribute("type","password")),e.val().length>0&&e.showStrength&&e.host.jqxTooltip("content")&&e.host.jqxTooltip("open"),e.showPasswordIcon&&e.icon&&(e.icon.style.display="inline",e._positionIcon())}),e.addHandler(t,"blur.passwordinput"+e.widgetID,function(){e._focused=!1,e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||""!==t.value||(e.element.value=e.placeHolder,e.element.setAttribute("type","text")),e.showPasswordIcon&&e._browserCheck&&(!1===e.rtl?e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-ltr")):e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),e.showStrength&&e.host.jqxTooltip("close"),e.showPasswordIcon&&e.icon&&(e.icon.style.display="none")})},destroy:function(){this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var e=this,t="jqx-widget jqx-widget-content jqx-input jqx-rc-all";e.rtl?(t+=" jqx-rtl",e.element.style.direction="rtl"):(e.host.removeClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="ltr"),e.element.className+=" "+e.toThemeProperty(t)},_showPassword:function(){if(this.showPasswordIcon&&this._browserCheck){var t=this,o=document.createElement("span"),n=".passwordinput"+t.widgetID;o.setAttribute("tabindex",-1),o.setAttribute("hasfocus",!1),o.setAttribute("title",t.localization.showPasswordString),o.style.position="absolute",o.style.display="none",o.className=t.toThemeProperty("jqx-passwordinput-password-icon");var s=t.element.parentNode;s&&(t.element.nextSibling?s.insertBefore(o,t.element.nextSibling):s.appendChild(o)),t.icon=o,t._positionIcon();var r=function(){t.element.setAttribute("type","password"),t._hidden=!0},i=function(){!1===t._hidden?r():t._hidden&&(t.element.setAttribute("type","text"),t._hidden=!1)};e.jqx.mobile.isTouchDevice()?t.addHandler(t.icon,"mousedown"+n,function(){return i(),!1}):(t.addHandler(t.icon,"mousedown"+n,function(){return i(),!1}),t.addHandler(e(document),"mouseup"+n,function(){return r(),!1}),t.addHandler(e(document),"mousedown"+n,function(){t._focused&&r()}))}},_positionIcon:function(){var t=this.host.offset(),o=this.element.offsetWidth,n=this.element.offsetHeight,s=e(this.icon);this.rtl?s.offset({top:parseInt(t.top+n/2-5,10),left:t.left+2}):s.offset({top:parseInt(t.top+n/2-5,10),left:t.left+o-18})},_showStrength:function(){var e=this;if(e.showStrength){if(!e.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var t,o=e.widgetID+"Strength",n=o+"Value",s=o+"Indicator";if(e.strengthTypeRenderer){var r=e.element.value;"placeholder"in e.element||!e._browserCheck||r!=e.placeHolder||(r=""),e._countCharacters();var i=e.localization.tooShort;t=e.strengthTypeRenderer(r,{letters:e.letters,numbers:e.numbers,specialKeys:e.specials},i)}else t='<div style="width: 220px;"><div><span style="font-weight: bold;">'+e.localization.passwordStrengthString+': </span><span id="'+n+'"></span></div><div id="'+s+'"></div></div>';if(e.host.jqxTooltip({theme:e.theme,position:e.showStrengthPosition,content:t,trigger:"none",autoHide:!1,rtl:e.rtl}),!e.strengthTypeRenderer){var l=document.getElementById(s);document.getElementById(n).innerHTML=e.localization.tooShort,l.className+=" jqx-passwordinput-password-strength-inicator",l.style.backgroundColor=e.strengthColors.tooShort,!1===e.rtl?l.style.float="left":l.style.float="right"}e._checkStrength()}},_checkStrength:function(){var e=this;e.addHandler(e.host,"keyup.passwordinput"+e.widgetID,function(){e._evaluateStrength()})},_raiseEvent:function(){var t=new e.Event("change");return t.args={type:this.changeType},this.changeType=null,t.owner=this,this.host.trigger(t)},_evaluateStrength:function(){var t=this,o=t.element.value,n=o.length;t._countCharacters(),n>0&&t.showStrength&&!t.host.jqxTooltip("opened")&&t.host.jqxTooltip("open");var s,r=t.letters+t.numbers+2*t.specials+t.letters*t.numbers/2+n;s=n<8?t.localization.tooShort:r<20?t.localization.weak:r<30?t.localization.fair:r<40?t.localization.good:t.localization.strong;var i;if(t.strengthTypeRenderer)i=t.strengthTypeRenderer(o,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},s),t.host.jqxTooltip({content:i});else{t.passwordStrength&&(i=t.passwordStrength(o,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},s),e.each(t.localization,function(){if(i==this)return s=i,!1})),document.getElementById(t.widgetID+"StrengthValue").innerHTML=s;var l,a,d=document.getElementById(t.widgetID+"StrengthIndicator");switch(s){case t.localization.tooShort:l="20%",a=t.strengthColors.tooShort;break;case t.localization.weak:l="40%",a=t.strengthColors.weak;break;case t.localization.fair:l="60%",a=t.strengthColors.fair;break;case t.localization.good:l="80%",a=t.strengthColors.good;break;case t.localization.strong:l="100%",a=t.strengthColors.strong}d.style.width=l,d.style.backgroundColor=a}},_countCharacters:function(){var e=this;e.letters=0,e.numbers=0,e.specials=0;for(var t=e.element.value,o=t.length,n=0;n<o;n++){var s=t.charAt(n),r=t.charCodeAt(n);r>64&&r<91||r>96&&r<123||r>127&&r<155||r>159&&r<166?e.letters+=1:!1!==isNaN(s)?-1=="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=".indexOf(s)||(e.specials+=1):e.numbers+=1}},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework);

