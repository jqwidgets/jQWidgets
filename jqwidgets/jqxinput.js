/*
jQWidgets v5.0.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){"use strict";e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t=this,s={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,minLength:1,maxLength:null};return this===e.jqx._jqxInput.prototype?s:(e.extend(!0,this,s),s)},createInstance:function(){var t=this;"none"!==t.host.css("display")&&!1!==document.body.contains(t.element)||(t._initiallyHidden=!0),t._popupHelper=e(t.$popup),t.render()},render:function(){var t=this;if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var s=t.element.getElementsByTagName("input"),i=!1;if(e.each(s,function(){var t=this.type;if(null==t||"text"===t||"textarea"===t)return s=e(this),i=!0,!1}),!i)throw new Error("jqxInput: Missing Text Input in the Input Group");if(s.length>0){this.baseHost=e(this.element),t.baseElement=t.element;var r=this.host.data();this.host=s,this.element=s[0],this.host.data(r),t.baseElement.className+=" "+t.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");var a=this.baseHost.children();e.each(a,function(s){var i="jqx-input-group-addon";e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===s&&(i+=" jqx-rc-l"),s===a.length-1&&(i+=" jqx-rc-r"),this!==t.element&&(i+=" jqx-fill-state-normal"),this.className+=" "+t.toThemeProperty(i)})}}this.addHandlers(),this.rtl&&(t.element.className+=" "+t.toThemeProperty("jqx-rtl")),t.element.setAttribute("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,s=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var s="",i="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(s=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(i=e[t.valueMember]),""===s&&(s=e.label),""===i&&(i=e.value),{label:s,value:i}}return e},i=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=s(e[i]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=i(t.adapter.records)});else{var r={};this.adapter._options.data?e.extend(t.adapter._options.data,r):(this.source._source.data&&e.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=i(t.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=i(this.source))},_refreshClasses:function(t){var s=t?"addClass":"removeClass",i="jqx-widget-content jqx-input jqx-widget",r="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";e.jqx.browser.msie&&(r+=" jqx-noshadow"),this.roundedCorners&&(i+=" jqx-rc-all",r+=" jqx-rc-all"),this.disabled?i+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[s](this.toThemeProperty(i)),this._popupHelper[s](this.toThemeProperty(r))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var s=t[0].createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height&&(this.baseElement.style.height=this._toPx(this.height));var t=this,s=e.jqx.browser.msie&&e.jqx.browser.version<9,i=0;if(e.each(this.baseHost.children(),function(){this.style.height="100%",this!==t.element&&(i+=e(this).outerWidth())}),t._addonsWidth=i,s){var r=Math.max(0,t.baseElement.offsetHeight-2);t.element.style.width=Math.max(0,t.baseElement.offsetWidth-i-1)+"px",t.element.style.minHeight=r+"px",t.element.style.lineHeight=r+"px"}else t.element.style.width="calc(100% - "+i+"px)";e.jqx.utilities.resize(t.baseHost,function(){if(s&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden)t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";else if(t._initiallyHidden){if(t._addonsWidth=t._getAddonsWidth(),s){t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";var e=t.baseElement.offsetHeight-2;t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"}else t.element.style.width="calc(100% - "+t._addonsWidth+"px)";t._initiallyHidden=!1}})}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height));this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&this.element.setAttribute("maxlength",this.maxLength),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var t=this;"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?t.element.setAttribute("placeHolder",t.placeHolder):""===t.element.value&&(t.element.value=t.placeHolder)},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,s){s.width&&s.height&&2===Object.keys(s).length&&e.refresh()},propertyChangedHandler:function(t,s,i,r){if("width"!==s||r===i)return"placeHolder"===s?("placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==i||(t.element.value=""),void t._refreshPlaceHolder()):void(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length||("theme"===s&&e.jqx.utilities.setTheme(i,r,t.host),"opened"!==s?("source"===s&&(t._oldsource=r,t._updateSource()),"displayMember"!==s&&"valueMember"!==s||(t.source=t._oldsource,t._updateSource()),"disabled"===s&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"===s&&(t.element.value=r),t.refresh()):r?t.open():t.close()));t.baseHost?(t.baseElement.style.width=t._toPx(r),e.jqx.browser.msie&&e.jqx.browser.version<9&&(t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px")):t.element.style.width=t._toPx(r)},select:function(e,t,s){var i=this._find("jqx-fill-state-pressed",this._popupHelper),r=i.getAttribute("data-value"),a=i.getAttribute("data-name");return this.element.value=this.renderer(a,this.element.value),this.selectedItem={label:a,value:r},this.element.setAttribute("data-value",r),this.element.setAttribute("data-label",a),this._raiseEvent("0",{item:{label:a,value:r},label:a,value:r}),this._raiseEvent("3",{type:s,item:{label:a,value:r},label:a,value:r}),this.value=a,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.element.value=e.label,this.element.value):(this.value=e,this.element.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this.element.value)},_raiseEvent:function(t,s){void 0===s&&(s={owner:null});var i=this.events[t];s.owner=this;var r=new e.Event(i);return r.owner=this,r.args=s,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var s=this.element.id+"_popup";this.$popup.id=s,e.jqx.aria(this,"aria-owns",s),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block";var i=0,r=this._popupHelper.children();return e.each(r,function(){i+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(i),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},suggest:function(){var t;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source)?this.load(t):this},load:function(e){for(var t=this,s=[],i=0;i<e.length;i++){var r=e[i];t.filter(r)&&s.push(r)}return(s=this.sort(s)).length?this._render(s.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var s=this.query,i=t;switch(null!=t.label?i=t.label:this.displayMember&&(i=t[this.displayMember]),this.searchMode){case"none":break;default:return e.jqx.string.containsIgnoreCase(i,s);case"contains":return e.jqx.string.contains(i,s);case"equals":return e.jqx.string.equals(i,s);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(i,s);case"startswith":return e.jqx.string.startsWith(i,s);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(i,s);case"endswith":return e.jqx.string.endsWith(i,s);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(i,s)}},_sort:function(e){for(var t=[],s=[],i=[],r=0;r<e.length;r++){var a=e[r],l=a;a.label?l=a.label:this.displayMember&&(l=a[this.displayMember]),0===l.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(a):l.toString().indexOf(this.query)>=0?s.push(a):l.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&i.push(a)}return t.concat(s,i)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var s=new RegExp("("+t+")","ig");return e.replace(s,function(e,t){return"<b>"+t+"</b>"})},_render:function(t){var s=this,i=s._popupHelper.children();if(i.length>0)for(var r=0;r<i.length;r++)e(i[r]).remove();var a=function(e,t){var i,r,a=e,l=document.createElement("li"),n=document.createElement("a");n.setAttribute("href","#"),l.appendChild(n),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(i=e.label,r=e.value):(i=e.value,r=e.value):void 0!==e.label&&null!==e.label?(i=e.label,r=e.label):void 0!==s.displayMember&&""!==s.displayMember?(i=e[s.displayMember],r=e[s.valueMember]):(i=e,r=e),l.setAttribute("data-value",r),l.setAttribute("data-name",i),e.label?a=e.label:s.displayMember&&(a=e[s.displayMember]),n.innerHTML=s.highlight(a);var o="";s.rtl&&(o=" jqx-rtl"),0===t&&(o+=" jqx-fill-state-pressed"),l.className=s.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+o),s.$popup.appendChild(l),s.addHandler(l,"mouseenter",function(e){s.mouseenter(e)})};return function(e){for(var t=0;t<e.length;t++)a(e[t],t)}(t),this.dropDownWidth?this.$popup.style.width=s._toPx(s.dropDownWidth):this.$popup.style.width=s._toPx(s.element.offsetWidth-6),this},next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),s=t.nextSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s||(s=this.$popup.firstChild),s.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),s=t.previousSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s||(s=this.$popup.lastChild),s.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.addHandler(e.host,"focus"+t,function(){e.onFocus()}),e.addHandler(e.host,"blur"+t,function(){e.onBlur()}),e.addHandler(e.host,"change"+t,function(t){if(!t.args){t.stopPropagation(),t.preventDefault();var s,i,r=e.val();r&&r.label?(s=r.label,i=r.val):(s=r,i=r),e._raiseEvent("3",{type:"keyboard",item:{label:s,value:i},label:s,value:i}),e.value=s}}),e.addHandler(e.host,"keypress"+t,function(t){e.keypress(t)}),e.addHandler(e.host,"keyup"+t,function(t){e.keyup(t)}),e.addHandler(e.host,"keydown"+t,function(t){e.keydown(t)}),e.addHandler(e.$popup,"mousedown"+t,function(t){e.click(t)})},removeHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.removeHandler(e.host,"change"+t),e.removeHandler(e.host,"focus"+t),e.removeHandler(e.host,"blur"+t),e.removeHandler(e.host,"keypress"+t),e.removeHandler(e.host,"keyup"+t),e.removeHandler(e.host,"keydown"+t),e.removeHandler(e.$popup,"mousedown"+t)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){var t=[40,38,9,13,27];this.suppressKeyPressRepeat=-1!==t.indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.val("")},onBlur:function(){var t=this;setTimeout(function(){t.close()},150),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==t.element.value&&t.element.value!==t.placeHolder||(t.element.value=t.placeHolder)},onFocus:function(){var t=this;t.element.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==t.placeHolder||(t.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var s=t.children(),i=0;i<s.length;i++){var r=s[i];if(-1!==r.className.indexOf(e))return r}},_getAddonsWidth:function(){for(var t=this,s=t.baseHost.children(),i=0,r=0;r<s.length;r++)s[r]!==t.element&&(i+=e(s[r]).outerWidth());return i}})}(jqxBaseFramework);

