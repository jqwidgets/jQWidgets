<!DOCTYPE html>
<html lang="en">
<head>
    <title id='Description'>Custom Element FileUpload SelectedFilesRendering</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1 minimum-scale=1" />
    <meta name="description" content="This example shows how to render files in Custom Elements FileUpload." />

    <link rel="stylesheet" href="../jqwidgets/styles/jqx.base.css" type="text/css" />
    <link rel="stylesheet" href="../styles/demos.css" type="text/css" />

    <script type="text/javascript" src="../scripts/webcomponents-lite.min.js"></script>
    <script type="text/javascript" src="../jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="../jqwidgets/jqxcore.elements.js"></script>
    <script type="text/javascript" src="../jqwidgets/jqxbuttons.js"></script>
    <script type="text/javascript" src="../jqwidgets/jqxfileupload.js"></script>
    <script type="text/javascript" src="../scripts/demos.js"></script>
    <script>
        var imageTypes = ['.gif', '.jpg', '.png'];
        var videoTypes = ['.wmv', '.mov', '.avi', '.divx', '.mpeg', '.mpg', '.m4p'];

        JQXElements.settings['FileUploadSettings'] =
            {
                uploadUrl: 'upload.php',
                fileInputName: 'fileToUpload',
                renderFiles: (fileName) => {
                    var stopIndex = fileName.indexOf('.');
                    var name = fileName.slice(0, stopIndex);
                    var extension = fileName.slice(stopIndex);
                    var iconUrl;
                    if (imageTypes.indexOf(extension) !== -1) {
                        iconUrl = '../../images/nav3.png';
                    } else if (videoTypes.indexOf(extension) !== -1) {
                        iconUrl = '../../images/movie.png';
                    } else {
                        iconUrl = '../../images/nav1.png';
                    }
                    return '<div><img src="' + iconUrl + '" style="dislplay: inline; width: 16px; height: 16px; margin-right: 5px;" /><span>' + name + '<strong>' + extension + '</strong></span></div>';
                }
            }
    </script>
</head>
<body>
    <div class="example-description">
        This demo shows how to render selected files in Custom element FileUpload. For uploading files, you should set the "uploadUrl" property to point to a Web Server file that will handle the actual Upload proces.
    </div>
   <jqx-file-upload upload-url='imageUpload.php' file-input-name="fileToUpload" settings="FileUploadSettings"></jqx-file-upload>
</body>
</html>
